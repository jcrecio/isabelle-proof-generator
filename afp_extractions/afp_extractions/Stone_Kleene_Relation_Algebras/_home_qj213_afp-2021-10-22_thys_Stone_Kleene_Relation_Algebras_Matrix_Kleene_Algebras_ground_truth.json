{"file_name": "/home/qj213/afp-2021-10-22/thys/Stone_Kleene_Relation_Algebras/Matrix_Kleene_Algebras.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Stone_Kleene_Relation_Algebras", "problem_names": ["lemma restrict_empty_left:\n  \"[]\\<langle>f\\<rangle>ls = mbot\"", "lemma restrict_empty_right:\n  \"ks\\<langle>f\\<rangle>[] = mbot\"", "lemma restrict_nonempty_left:\n  fixes f :: \"('a,'b::bounded_semilattice_sup_bot) square\"\n  shows \"(k#ks)\\<langle>f\\<rangle>ls = [k]\\<langle>f\\<rangle>ls \\<oplus> ks\\<langle>f\\<rangle>ls\"", "lemma restrict_nonempty_right:\n  fixes f :: \"('a,'b::bounded_semilattice_sup_bot) square\"\n  shows \"ks\\<langle>f\\<rangle>(l#ls) = ks\\<langle>f\\<rangle>[l] \\<oplus> ks\\<langle>f\\<rangle>ls\"", "lemma restrict_nonempty:\n  fixes f :: \"('a,'b::bounded_semilattice_sup_bot) square\"\n  shows \"(k#ks)\\<langle>f\\<rangle>(l#ls) = [k]\\<langle>f\\<rangle>[l] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<oplus> ks\\<langle>f\\<rangle>[l] \\<oplus> ks\\<langle>f\\<rangle>ls\"", "lemma times_disjoint:\n  fixes f g :: \"('a,'b::idempotent_semiring) square\"\n  assumes \"disjoint ls ms\"\n    shows \"ks\\<langle>f\\<rangle>ls \\<odot> ms\\<langle>g\\<rangle>ns = mbot\"", "lemma one_disjoint:\n  assumes \"disjoint ks ls\"\n    shows \"ks\\<langle>(mone::('a,'b::idempotent_semiring) square)\\<rangle>ls = mbot\"", "lemma restrict_sublist:\n  assumes \"is_sublist ls ks\"\n      and \"is_sublist ms ns\"\n    shows \"ls\\<langle>ks\\<langle>f\\<rangle>ns\\<rangle>ms = ls\\<langle>f\\<rangle>ms\"", "lemma restrict_superlist:\n  assumes \"is_sublist ls ks\"\n      and \"is_sublist ms ns\"\n    shows \"ks\\<langle>ls\\<langle>f\\<rangle>ms\\<rangle>ns = ls\\<langle>f\\<rangle>ms\"", "lemma restrict_sup:\n  fixes f g :: \"('a,'b::bounded_semilattice_sup_bot) square\"\n  shows \"ks\\<langle>f \\<oplus> g\\<rangle>ls = ks\\<langle>f\\<rangle>ls \\<oplus> ks\\<langle>g\\<rangle>ls\"", "lemma restrict_times:\n  fixes f g :: \"('a,'b::idempotent_semiring) square\"\n  shows \"ks\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>ms = ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\"", "lemma restrict_star:\n  fixes g :: \"('a,'b::kleene_algebra) square\"\n  shows \"t\\<langle>star_matrix' t g\\<rangle>t = star_matrix' t g\"", "lemma restrict_one:\n  assumes \"\\<not> List.member ks k\"\n    shows \"(k#ks)\\<langle>(mone::('a,'b::idempotent_semiring) square)\\<rangle>(k#ks) = [k]\\<langle>mone\\<rangle>[k] \\<oplus> ks\\<langle>mone\\<rangle>ks\"", "lemma restrict_one_left_unit:\n  \"ks\\<langle>(mone::('a::finite,'b::idempotent_semiring) square)\\<rangle>ks \\<odot> ks\\<langle>f\\<rangle>ls = ks\\<langle>f\\<rangle>ls\"", "lemma restrict_singleton:\n  \"([k]\\<langle>f\\<rangle>[l]) (i,j) = (if i = k \\<and> j = l then f (i,j) else bot)\"", "lemma restrict_singleton_list:\n  \"([k]\\<langle>f\\<rangle>ls) (i,j) = (if i = k \\<and> List.member ls j then f (i,j) else bot)\"", "lemma restrict_list_singleton:\n  \"(ks\\<langle>f\\<rangle>[l]) (i,j) = (if List.member ks i \\<and> j = l then f (i,j) else bot)\"", "lemma restrict_singleton_product:\n  fixes f g :: \"('a::finite,'b::kleene_algebra) square\"\n  shows \"([k]\\<langle>f\\<rangle>[l] \\<odot> [m]\\<langle>g\\<rangle>[n]) (i,j) = (if i = k \\<and> l = m \\<and> j = n then f (i,l) * g (m,j) else bot)\"", "lemma restrict_star_unfold:\n  \"[l]\\<langle>(mone::('a::finite,'b::kleene_algebra) square)\\<rangle>[l] \\<oplus> [l]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>star o f\\<rangle>[l] = [l]\\<langle>star o f\\<rangle>[l]\"", "lemma restrict_all:\n  \"enum_class.enum\\<langle>f\\<rangle>enum_class.enum = f\"", "lemma restrict_nonempty_product:\n  fixes f g :: \"('a::finite,'b::idempotent_semiring) square\"\n  assumes \"\\<not> List.member ls l\"\n    shows \"(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms) = ([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> ([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms)\"", "lemma restrict_nonempty_eq:\n  \"(k#ks)\\<langle>f\\<rangle>(l#ls) = (k#ks)\\<langle>g\\<rangle>(l#ls) \\<longleftrightarrow> [k]\\<langle>f\\<rangle>[l] = [k]\\<langle>g\\<rangle>[l] \\<and> [k]\\<langle>f\\<rangle>ls = [k]\\<langle>g\\<rangle>ls \\<and> ks\\<langle>f\\<rangle>[l] = ks\\<langle>g\\<rangle>[l] \\<and> ks\\<langle>f\\<rangle>ls = ks\\<langle>g\\<rangle>ls\"", "lemma restrict_nonempty_less_eq:\n  fixes f g :: \"('a,'b::idempotent_semiring) square\"\n  shows \"(k#ks)\\<langle>f\\<rangle>(l#ls) \\<preceq> (k#ks)\\<langle>g\\<rangle>(l#ls) \\<longleftrightarrow> [k]\\<langle>f\\<rangle>[l] \\<preceq> [k]\\<langle>g\\<rangle>[l] \\<and> [k]\\<langle>f\\<rangle>ls \\<preceq> [k]\\<langle>g\\<rangle>ls \\<and> ks\\<langle>f\\<rangle>[l] \\<preceq> ks\\<langle>g\\<rangle>[l] \\<and> ks\\<langle>f\\<rangle>ls \\<preceq> ks\\<langle>g\\<rangle>ls\"", "lemma restrict_disjoint_left:\n  assumes \"disjoint ks ms\"\n    shows \"ms\\<langle>ks\\<langle>f\\<rangle>ls\\<rangle>ns = mbot\"", "lemma restrict_disjoint_right:\n  assumes \"disjoint ls ns\"\n    shows \"ms\\<langle>ks\\<langle>f\\<rangle>ls\\<rangle>ns = mbot\"", "lemma restrict_nonempty_product_eq:\n  fixes f g h :: \"('a::finite,'b::idempotent_semiring) square\"\n  assumes \"\\<not> List.member ks k\"\n      and \"\\<not> List.member ls l\"\n      and \"\\<not> List.member ms m\"\n    shows \"(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms) = (k#ks)\\<langle>h\\<rangle>(m#ms) \\<longleftrightarrow> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] = [k]\\<langle>h\\<rangle>[m] \\<and> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms = [k]\\<langle>h\\<rangle>ms \\<and> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] = ks\\<langle>h\\<rangle>[m] \\<and> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms = ks\\<langle>h\\<rangle>ms\"", "lemma restrict_nonempty_product_less_eq:\n  fixes f g h :: \"('a::finite,'b::idempotent_semiring) square\"\n  assumes \"\\<not> List.member ks k\"\n      and \"\\<not> List.member ls l\"\n      and \"\\<not> List.member ms m\"\n    shows \"(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms) \\<preceq> (k#ks)\\<langle>h\\<rangle>(m#ms) \\<longleftrightarrow> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] \\<preceq> [k]\\<langle>h\\<rangle>[m] \\<and> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms \\<preceq> [k]\\<langle>h\\<rangle>ms \\<and> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] \\<preceq> ks\\<langle>h\\<rangle>[m] \\<and> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms \\<preceq> ks\\<langle>h\\<rangle>ms\"", "lemma restrict_star_left_induct:\n  fixes f g :: \"('a::finite,'b::kleene_algebra) square\"\n  shows \"distinct ms \\<Longrightarrow> [l]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<preceq> [l]\\<langle>g\\<rangle>ms \\<Longrightarrow> [l]\\<langle>star o f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<preceq> [l]\\<langle>g\\<rangle>ms\"", "lemma restrict_star_right_induct:\n  fixes f g :: \"('a::finite,'b::kleene_algebra) square\"\n  shows \"distinct ms \\<Longrightarrow> ms\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>f\\<rangle>[l] \\<preceq> ms\\<langle>g\\<rangle>[l] \\<Longrightarrow> ms\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>star o f\\<rangle>[l] \\<preceq> ms\\<langle>g\\<rangle>[l]\"", "lemma restrict_pp:\n  fixes f :: \"('a,'b::p_algebra) square\"\n  shows \"ks\\<langle>\\<ominus>\\<ominus>f\\<rangle>ls = \\<ominus>\\<ominus>(ks\\<langle>f\\<rangle>ls)\"", "lemma pp_star_commute:\n  fixes f :: \"('a,'b::stone_kleene_relation_algebra) square\"\n  shows \"\\<ominus>\\<ominus>(star o f) = star o \\<ominus>\\<ominus>f\""], "translations": [["", "lemma restrict_empty_left:\n  \"[]\\<langle>f\\<rangle>ls = mbot\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [] \\<langle>f\\<rangle> ls = mbot", "by (unfold restrict_matrix_def List.member_def bot_matrix_def) auto"], ["", "lemma restrict_empty_right:\n  \"ks\\<langle>f\\<rangle>[] = mbot\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>f\\<rangle> [] = mbot", "by (unfold restrict_matrix_def List.member_def bot_matrix_def) auto"], ["", "lemma restrict_nonempty_left:\n  fixes f :: \"('a,'b::bounded_semilattice_sup_bot) square\"\n  shows \"(k#ks)\\<langle>f\\<rangle>ls = [k]\\<langle>f\\<rangle>ls \\<oplus> ks\\<langle>f\\<rangle>ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> ls =\n    [k] \\<langle>f\\<rangle> ls \\<oplus> ks \\<langle>f\\<rangle> ls", "by (unfold restrict_matrix_def List.member_def sup_matrix_def) auto"], ["", "lemma restrict_nonempty_right:\n  fixes f :: \"('a,'b::bounded_semilattice_sup_bot) square\"\n  shows \"ks\\<langle>f\\<rangle>(l#ls) = ks\\<langle>f\\<rangle>[l] \\<oplus> ks\\<langle>f\\<rangle>ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>f\\<rangle> (l # ls) =\n    ks \\<langle>f\\<rangle> [l] \\<oplus> ks \\<langle>f\\<rangle> ls", "by (unfold restrict_matrix_def List.member_def sup_matrix_def) auto"], ["", "lemma restrict_nonempty:\n  fixes f :: \"('a,'b::bounded_semilattice_sup_bot) square\"\n  shows \"(k#ks)\\<langle>f\\<rangle>(l#ls) = [k]\\<langle>f\\<rangle>[l] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<oplus> ks\\<langle>f\\<rangle>[l] \\<oplus> ks\\<langle>f\\<rangle>ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) =\n    [k] \\<langle>f\\<rangle> [l] \\<oplus> [k] \\<langle>f\\<rangle> ls \\<oplus>\n    ks \\<langle>f\\<rangle> [l] \\<oplus>\n    ks \\<langle>f\\<rangle> ls", "by (unfold restrict_matrix_def List.member_def sup_matrix_def) auto"], ["", "text \\<open>\nThe following predicate captures that two index sets are disjoint.\nThis has consequences for composition and the unit matrix.\n\\<close>"], ["", "abbreviation \"disjoint ks ls \\<equiv> \\<not>(\\<exists>x . List.member ks x \\<and> List.member ls x)\""], ["", "lemma times_disjoint:\n  fixes f g :: \"('a,'b::idempotent_semiring) square\"\n  assumes \"disjoint ls ms\"\n    shows \"ks\\<langle>f\\<rangle>ls \\<odot> ms\\<langle>g\\<rangle>ns = mbot\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns = mbot", "proof (rule ext, rule prod_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns)\n        (a, b) =\n       mbot (a, b)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns)\n        (a, b) =\n       mbot (a, b)", "have \"(ks\\<langle>f\\<rangle>ls \\<odot> ms\\<langle>g\\<rangle>ns) (i,j) = (\\<Squnion>\\<^sub>k (ks\\<langle>f\\<rangle>ls) (i,k) * (ms\\<langle>g\\<rangle>ns) (k,j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns) (i, j) =\n    sup_monoid.sum\n     (\\<lambda>k.\n         (ks \\<langle>f\\<rangle> ls) (i, k) *\n         (ms \\<langle>g\\<rangle> ns) (k, j))\n     {k. True}", "by (simp add: times_matrix_def)"], ["proof (state)\nthis:\n  (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns) (i, j) =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (ks \\<langle>f\\<rangle> ls) (i, k) *\n       (ms \\<langle>g\\<rangle> ns) (k, j))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns)\n        (a, b) =\n       mbot (a, b)", "also"], ["proof (state)\nthis:\n  (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns) (i, j) =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (ks \\<langle>f\\<rangle> ls) (i, k) *\n       (ms \\<langle>g\\<rangle> ns) (k, j))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns)\n        (a, b) =\n       mbot (a, b)", "have \"... = (\\<Squnion>\\<^sub>k (if List.member ks i \\<and> List.member ls k then f (i,k) else bot) * (if List.member ms k \\<and> List.member ns j then g (k,j) else bot))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         (ks \\<langle>f\\<rangle> ls) (i, k) *\n         (ms \\<langle>g\\<rangle> ns) (k, j))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         (if List.member ks i \\<and> List.member ls k then f (i, k)\n          else bot) *\n         (if List.member ms k \\<and> List.member ns j then g (k, j)\n          else bot))\n     {k. True}", "by (simp add: restrict_matrix_def)"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (ks \\<langle>f\\<rangle> ls) (i, k) *\n       (ms \\<langle>g\\<rangle> ns) (k, j))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ls k then f (i, k)\n        else bot) *\n       (if List.member ms k \\<and> List.member ns j then g (k, j) else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns)\n        (a, b) =\n       mbot (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (ks \\<langle>f\\<rangle> ls) (i, k) *\n       (ms \\<langle>g\\<rangle> ns) (k, j))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ls k then f (i, k)\n        else bot) *\n       (if List.member ms k \\<and> List.member ns j then g (k, j) else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns)\n        (a, b) =\n       mbot (a, b)", "have \"... = (\\<Squnion>\\<^sub>k if List.member ms k \\<and> List.member ns j then bot * g (k,j) else (if List.member ks i \\<and> List.member ls k then f (i,k) else bot) * bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         (if List.member ks i \\<and> List.member ls k then f (i, k)\n          else bot) *\n         (if List.member ms k \\<and> List.member ns j then g (k, j)\n          else bot))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         if List.member ms k \\<and> List.member ns j then bot * g (k, j)\n         else (if List.member ks i \\<and> List.member ls k then f (i, k)\n               else bot) *\n              bot)\n     {k. True}", "using assms"], ["proof (prove)\nusing this:\n  disjoint ls ms\n\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         (if List.member ks i \\<and> List.member ls k then f (i, k)\n          else bot) *\n         (if List.member ms k \\<and> List.member ns j then g (k, j)\n          else bot))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         if List.member ms k \\<and> List.member ns j then bot * g (k, j)\n         else (if List.member ks i \\<and> List.member ls k then f (i, k)\n               else bot) *\n              bot)\n     {k. True}", "by (auto intro: sup_monoid.sum.cong)"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ls k then f (i, k)\n        else bot) *\n       (if List.member ms k \\<and> List.member ns j then g (k, j) else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       if List.member ms k \\<and> List.member ns j then bot * g (k, j)\n       else (if List.member ks i \\<and> List.member ls k then f (i, k)\n             else bot) *\n            bot)\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns)\n        (a, b) =\n       mbot (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ls k then f (i, k)\n        else bot) *\n       (if List.member ms k \\<and> List.member ns j then g (k, j) else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       if List.member ms k \\<and> List.member ns j then bot * g (k, j)\n       else (if List.member ks i \\<and> List.member ls k then f (i, k)\n             else bot) *\n            bot)\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns)\n        (a, b) =\n       mbot (a, b)", "have \"... = (\\<Squnion>\\<^sub>(k::'a) bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         if List.member ms k \\<and> List.member ns j then bot * g (k, j)\n         else (if List.member ks i \\<and> List.member ls k then f (i, k)\n               else bot) *\n              bot)\n     {k. True} =\n    sup_monoid.sum (\\<lambda>k. bot) {k. True}", "by (simp add: sup_monoid.sum.neutral)"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       if List.member ms k \\<and> List.member ns j then bot * g (k, j)\n       else (if List.member ks i \\<and> List.member ls k then f (i, k)\n             else bot) *\n            bot)\n   {k. True} =\n  sup_monoid.sum (\\<lambda>k. bot) {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns)\n        (a, b) =\n       mbot (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       if List.member ms k \\<and> List.member ns j then bot * g (k, j)\n       else (if List.member ks i \\<and> List.member ls k then f (i, k)\n             else bot) *\n            bot)\n   {k. True} =\n  sup_monoid.sum (\\<lambda>k. bot) {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns)\n        (a, b) =\n       mbot (a, b)", "have \"... = bot\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum (\\<lambda>k. bot) {k. True} = bot", "by (simp add: eq_iff le_funI)"], ["proof (state)\nthis:\n  sup_monoid.sum (\\<lambda>k. bot) {k. True} = bot\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns)\n        (a, b) =\n       mbot (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum (\\<lambda>k. bot) {k. True} = bot\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns)\n        (a, b) =\n       mbot (a, b)", "have \"... = mbot (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bot = mbot (i, j)", "by (simp add: bot_matrix_def)"], ["proof (state)\nthis:\n  bot = mbot (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns)\n        (a, b) =\n       mbot (a, b)", "finally"], ["proof (chain)\npicking this:\n  (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns) (i, j) =\n  mbot (i, j)", "show \"(ks\\<langle>f\\<rangle>ls \\<odot> ms\\<langle>g\\<rangle>ns) (i,j) = mbot (i,j)\""], ["proof (prove)\nusing this:\n  (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns) (i, j) =\n  mbot (i, j)\n\ngoal (1 subgoal):\n 1. (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns) (i, j) =\n    mbot (i, j)", "."], ["proof (state)\nthis:\n  (ks \\<langle>f\\<rangle> ls \\<odot> ms \\<langle>g\\<rangle> ns) (i, j) =\n  mbot (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma one_disjoint:\n  assumes \"disjoint ks ls\"\n    shows \"ks\\<langle>(mone::('a,'b::idempotent_semiring) square)\\<rangle>ls = mbot\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>mone\\<rangle> ls = mbot", "proof (rule ext, rule prod_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b. (ks \\<langle>mone\\<rangle> ls) (a, b) = mbot (a, b)", "let ?o = \"mone::('a,'b) square\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b. (ks \\<langle>mone\\<rangle> ls) (a, b) = mbot (a, b)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b. (ks \\<langle>mone\\<rangle> ls) (a, b) = mbot (a, b)", "have \"(ks\\<langle>?o\\<rangle>ls) (i,j) = (if List.member ks i \\<and> List.member ls j then if i = j then 1 else bot else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ks \\<langle>mone\\<rangle> ls) (i, j) =\n    (if List.member ks i \\<and> List.member ls j\n     then if i = j then 1::'b else bot else bot)", "by (simp add: restrict_matrix_def one_matrix_def)"], ["proof (state)\nthis:\n  (ks \\<langle>mone\\<rangle> ls) (i, j) =\n  (if List.member ks i \\<and> List.member ls j\n   then if i = j then 1::'b else bot else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b. (ks \\<langle>mone\\<rangle> ls) (a, b) = mbot (a, b)", "also"], ["proof (state)\nthis:\n  (ks \\<langle>mone\\<rangle> ls) (i, j) =\n  (if List.member ks i \\<and> List.member ls j\n   then if i = j then 1::'b else bot else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b. (ks \\<langle>mone\\<rangle> ls) (a, b) = mbot (a, b)", "have \"... = bot\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bot_homomorphism\n     (If (List.member ks i \\<and> List.member ls j)\n       (if i = j then 1::'b else bot))", "using assms"], ["proof (prove)\nusing this:\n  disjoint ks ls\n\ngoal (1 subgoal):\n 1. bot_homomorphism\n     (If (List.member ks i \\<and> List.member ls j)\n       (if i = j then 1::'b else bot))", "by auto"], ["proof (state)\nthis:\n  bot_homomorphism\n   (If (List.member ks i \\<and> List.member ls j)\n     (if i = j then 1::'b else bot))\n\ngoal (1 subgoal):\n 1. \\<And>x a b. (ks \\<langle>mone\\<rangle> ls) (a, b) = mbot (a, b)", "also"], ["proof (state)\nthis:\n  bot_homomorphism\n   (If (List.member ks i \\<and> List.member ls j)\n     (if i = j then 1::'b else bot))\n\ngoal (1 subgoal):\n 1. \\<And>x a b. (ks \\<langle>mone\\<rangle> ls) (a, b) = mbot (a, b)", "have \"... = mbot (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bot = mbot (i, j)", "by (simp add: bot_matrix_def)"], ["proof (state)\nthis:\n  bot = mbot (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>x a b. (ks \\<langle>mone\\<rangle> ls) (a, b) = mbot (a, b)", "finally"], ["proof (chain)\npicking this:\n  (ks \\<langle>mone\\<rangle> ls) (i, j) = mbot (i, j)", "show \"(ks\\<langle>?o\\<rangle>ls) (i,j) = mbot (i,j)\""], ["proof (prove)\nusing this:\n  (ks \\<langle>mone\\<rangle> ls) (i, j) = mbot (i, j)\n\ngoal (1 subgoal):\n 1. (ks \\<langle>mone\\<rangle> ls) (i, j) = mbot (i, j)", "."], ["proof (state)\nthis:\n  (ks \\<langle>mone\\<rangle> ls) (i, j) = mbot (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nThe following predicate captures that an index set is a subset of another index set.\nThis has consequences for repeated restrictions.\n\\<close>"], ["", "abbreviation \"is_sublist ks ls \\<equiv> \\<forall>x . List.member ks x \\<longrightarrow> List.member ls x\""], ["", "lemma restrict_sublist:\n  assumes \"is_sublist ls ks\"\n      and \"is_sublist ms ns\"\n    shows \"ls\\<langle>ks\\<langle>f\\<rangle>ns\\<rangle>ms = ls\\<langle>f\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms =\n    ls \\<langle>f\\<rangle> ms", "proof (rule ext, rule prod_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (a, b) =\n       (ls \\<langle>f\\<rangle> ms) (a, b)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (a, b) =\n       (ls \\<langle>f\\<rangle> ms) (a, b)", "show \"(ls\\<langle>ks\\<langle>f\\<rangle>ns\\<rangle>ms) (i,j) = (ls\\<langle>f\\<rangle>ms) (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "proof (cases \"List.member ls i \\<and> List.member ms j\")"], ["proof (state)\ngoal (2 subgoals):\n 1. List.member ls i \\<and> List.member ms j \\<Longrightarrow>\n    (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)\n 2. \\<not> (List.member ls i \\<and> List.member ms j) \\<Longrightarrow>\n    (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "case True"], ["proof (state)\nthis:\n  List.member ls i \\<and> List.member ms j\n\ngoal (2 subgoals):\n 1. List.member ls i \\<and> List.member ms j \\<Longrightarrow>\n    (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)\n 2. \\<not> (List.member ls i \\<and> List.member ms j) \\<Longrightarrow>\n    (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  List.member ls i \\<and> List.member ms j\n\ngoal (1 subgoal):\n 1. (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "by (simp add: assms restrict_matrix_def)"], ["proof (state)\nthis:\n  (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (i, j) =\n  (ls \\<langle>f\\<rangle> ms) (i, j)\n\ngoal (1 subgoal):\n 1. \\<not> (List.member ls i \\<and> List.member ms j) \\<Longrightarrow>\n    (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (List.member ls i \\<and> List.member ms j) \\<Longrightarrow>\n    (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "case False"], ["proof (state)\nthis:\n  \\<not> (List.member ls i \\<and> List.member ms j)\n\ngoal (1 subgoal):\n 1. \\<not> (List.member ls i \\<and> List.member ms j) \\<Longrightarrow>\n    (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<not> (List.member ls i \\<and> List.member ms j)\n\ngoal (1 subgoal):\n 1. (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "by (unfold restrict_matrix_def) auto"], ["proof (state)\nthis:\n  (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (i, j) =\n  (ls \\<langle>f\\<rangle> ms) (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (ls \\<langle>ks \\<langle>f\\<rangle> ns\\<rangle> ms) (i, j) =\n  (ls \\<langle>f\\<rangle> ms) (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma restrict_superlist:\n  assumes \"is_sublist ls ks\"\n      and \"is_sublist ms ns\"\n    shows \"ks\\<langle>ls\\<langle>f\\<rangle>ms\\<rangle>ns = ls\\<langle>f\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns =\n    ls \\<langle>f\\<rangle> ms", "proof (rule ext, rule prod_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (a, b) =\n       (ls \\<langle>f\\<rangle> ms) (a, b)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (a, b) =\n       (ls \\<langle>f\\<rangle> ms) (a, b)", "show \"(ks\\<langle>ls\\<langle>f\\<rangle>ms\\<rangle>ns) (i,j) = (ls\\<langle>f\\<rangle>ms) (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "proof (cases \"List.member ls i \\<and> List.member ms j\")"], ["proof (state)\ngoal (2 subgoals):\n 1. List.member ls i \\<and> List.member ms j \\<Longrightarrow>\n    (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)\n 2. \\<not> (List.member ls i \\<and> List.member ms j) \\<Longrightarrow>\n    (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "case True"], ["proof (state)\nthis:\n  List.member ls i \\<and> List.member ms j\n\ngoal (2 subgoals):\n 1. List.member ls i \\<and> List.member ms j \\<Longrightarrow>\n    (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)\n 2. \\<not> (List.member ls i \\<and> List.member ms j) \\<Longrightarrow>\n    (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  List.member ls i \\<and> List.member ms j\n\ngoal (1 subgoal):\n 1. (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "by (simp add: assms restrict_matrix_def)"], ["proof (state)\nthis:\n  (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (i, j) =\n  (ls \\<langle>f\\<rangle> ms) (i, j)\n\ngoal (1 subgoal):\n 1. \\<not> (List.member ls i \\<and> List.member ms j) \\<Longrightarrow>\n    (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (List.member ls i \\<and> List.member ms j) \\<Longrightarrow>\n    (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "case False"], ["proof (state)\nthis:\n  \\<not> (List.member ls i \\<and> List.member ms j)\n\ngoal (1 subgoal):\n 1. \\<not> (List.member ls i \\<and> List.member ms j) \\<Longrightarrow>\n    (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<not> (List.member ls i \\<and> List.member ms j)\n\ngoal (1 subgoal):\n 1. (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (i, j) =\n    (ls \\<langle>f\\<rangle> ms) (i, j)", "by (unfold restrict_matrix_def) auto"], ["proof (state)\nthis:\n  (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (i, j) =\n  (ls \\<langle>f\\<rangle> ms) (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (ks \\<langle>ls \\<langle>f\\<rangle> ms\\<rangle> ns) (i, j) =\n  (ls \\<langle>f\\<rangle> ms) (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nThe following lemmas give the sizes of the results of some matrix operations.\n\\<close>"], ["", "lemma restrict_sup:\n  fixes f g :: \"('a,'b::bounded_semilattice_sup_bot) square\"\n  shows \"ks\\<langle>f \\<oplus> g\\<rangle>ls = ks\\<langle>f\\<rangle>ls \\<oplus> ks\\<langle>g\\<rangle>ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>f \\<oplus> g\\<rangle> ls =\n    ks \\<langle>f\\<rangle> ls \\<oplus> ks \\<langle>g\\<rangle> ls", "by (unfold restrict_matrix_def sup_matrix_def) auto"], ["", "lemma restrict_times:\n  fixes f g :: \"('a,'b::idempotent_semiring) square\"\n  shows \"ks\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>ms = ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms\\<rangle> ms =\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "proof (rule ext, rule prod_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "have \"(ks\\<langle>(ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms)\\<rangle>ms) (i,j) = (if List.member ks i \\<and> List.member ms j then (\\<Squnion>\\<^sub>k (ks\\<langle>f\\<rangle>ls) (i,k) * (ls\\<langle>g\\<rangle>ms) (k,j)) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n     (i, j) =\n    (if List.member ks i \\<and> List.member ms j\n     then sup_monoid.sum\n           (\\<lambda>k.\n               (ks \\<langle>f\\<rangle> ls) (i, k) *\n               (ls \\<langle>g\\<rangle> ms) (k, j))\n           {k. True}\n     else bot)", "by (simp add: times_matrix_def restrict_matrix_def)"], ["proof (state)\nthis:\n  (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n   (i, j) =\n  (if List.member ks i \\<and> List.member ms j\n   then sup_monoid.sum\n         (\\<lambda>k.\n             (ks \\<langle>f\\<rangle> ls) (i, k) *\n             (ls \\<langle>g\\<rangle> ms) (k, j))\n         {k. True}\n   else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "also"], ["proof (state)\nthis:\n  (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n   (i, j) =\n  (if List.member ks i \\<and> List.member ms j\n   then sup_monoid.sum\n         (\\<lambda>k.\n             (ks \\<langle>f\\<rangle> ls) (i, k) *\n             (ls \\<langle>g\\<rangle> ms) (k, j))\n         {k. True}\n   else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "have \"... = (if List.member ks i \\<and> List.member ms j then (\\<Squnion>\\<^sub>k (if List.member ks i \\<and> List.member ls k then f (i,k) else bot) * (if List.member ls k \\<and> List.member ms j then g (k,j) else bot)) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if List.member ks i \\<and> List.member ms j\n     then sup_monoid.sum\n           (\\<lambda>k.\n               (ks \\<langle>f\\<rangle> ls) (i, k) *\n               (ls \\<langle>g\\<rangle> ms) (k, j))\n           {k. True}\n     else bot) =\n    (if List.member ks i \\<and> List.member ms j\n     then sup_monoid.sum\n           (\\<lambda>k.\n               (if List.member ks i \\<and> List.member ls k then f (i, k)\n                else bot) *\n               (if List.member ls k \\<and> List.member ms j then g (k, j)\n                else bot))\n           {k. True}\n     else bot)", "by (simp add: restrict_matrix_def)"], ["proof (state)\nthis:\n  (if List.member ks i \\<and> List.member ms j\n   then sup_monoid.sum\n         (\\<lambda>k.\n             (ks \\<langle>f\\<rangle> ls) (i, k) *\n             (ls \\<langle>g\\<rangle> ms) (k, j))\n         {k. True}\n   else bot) =\n  (if List.member ks i \\<and> List.member ms j\n   then sup_monoid.sum\n         (\\<lambda>k.\n             (if List.member ks i \\<and> List.member ls k then f (i, k)\n              else bot) *\n             (if List.member ls k \\<and> List.member ms j then g (k, j)\n              else bot))\n         {k. True}\n   else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "also"], ["proof (state)\nthis:\n  (if List.member ks i \\<and> List.member ms j\n   then sup_monoid.sum\n         (\\<lambda>k.\n             (ks \\<langle>f\\<rangle> ls) (i, k) *\n             (ls \\<langle>g\\<rangle> ms) (k, j))\n         {k. True}\n   else bot) =\n  (if List.member ks i \\<and> List.member ms j\n   then sup_monoid.sum\n         (\\<lambda>k.\n             (if List.member ks i \\<and> List.member ls k then f (i, k)\n              else bot) *\n             (if List.member ls k \\<and> List.member ms j then g (k, j)\n              else bot))\n         {k. True}\n   else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "have \"... = (if List.member ks i \\<and> List.member ms j then (\\<Squnion>\\<^sub>k if List.member ls k then f (i,k) * g (k,j) else bot) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if List.member ks i \\<and> List.member ms j\n     then sup_monoid.sum\n           (\\<lambda>k.\n               (if List.member ks i \\<and> List.member ls k then f (i, k)\n                else bot) *\n               (if List.member ls k \\<and> List.member ms j then g (k, j)\n                else bot))\n           {k. True}\n     else bot) =\n    (if List.member ks i \\<and> List.member ms j\n     then sup_monoid.sum\n           (\\<lambda>k.\n               if List.member ls k then f (i, k) * g (k, j) else bot)\n           {k. True}\n     else bot)", "by (auto intro: sup_monoid.sum.cong)"], ["proof (state)\nthis:\n  (if List.member ks i \\<and> List.member ms j\n   then sup_monoid.sum\n         (\\<lambda>k.\n             (if List.member ks i \\<and> List.member ls k then f (i, k)\n              else bot) *\n             (if List.member ls k \\<and> List.member ms j then g (k, j)\n              else bot))\n         {k. True}\n   else bot) =\n  (if List.member ks i \\<and> List.member ms j\n   then sup_monoid.sum\n         (\\<lambda>k. if List.member ls k then f (i, k) * g (k, j) else bot)\n         {k. True}\n   else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "also"], ["proof (state)\nthis:\n  (if List.member ks i \\<and> List.member ms j\n   then sup_monoid.sum\n         (\\<lambda>k.\n             (if List.member ks i \\<and> List.member ls k then f (i, k)\n              else bot) *\n             (if List.member ls k \\<and> List.member ms j then g (k, j)\n              else bot))\n         {k. True}\n   else bot) =\n  (if List.member ks i \\<and> List.member ms j\n   then sup_monoid.sum\n         (\\<lambda>k. if List.member ls k then f (i, k) * g (k, j) else bot)\n         {k. True}\n   else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "have \"... = (\\<Squnion>\\<^sub>k if List.member ks i \\<and> List.member ms j then (if List.member ls k then f (i,k) * g (k,j) else bot) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if List.member ks i \\<and> List.member ms j\n     then sup_monoid.sum\n           (\\<lambda>k.\n               if List.member ls k then f (i, k) * g (k, j) else bot)\n           {k. True}\n     else bot) =\n    sup_monoid.sum\n     (\\<lambda>k.\n         if List.member ks i \\<and> List.member ms j\n         then if List.member ls k then f (i, k) * g (k, j) else bot\n         else bot)\n     {k. True}", "by auto"], ["proof (state)\nthis:\n  (if List.member ks i \\<and> List.member ms j\n   then sup_monoid.sum\n         (\\<lambda>k. if List.member ls k then f (i, k) * g (k, j) else bot)\n         {k. True}\n   else bot) =\n  sup_monoid.sum\n   (\\<lambda>k.\n       if List.member ks i \\<and> List.member ms j\n       then if List.member ls k then f (i, k) * g (k, j) else bot else bot)\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "also"], ["proof (state)\nthis:\n  (if List.member ks i \\<and> List.member ms j\n   then sup_monoid.sum\n         (\\<lambda>k. if List.member ls k then f (i, k) * g (k, j) else bot)\n         {k. True}\n   else bot) =\n  sup_monoid.sum\n   (\\<lambda>k.\n       if List.member ks i \\<and> List.member ms j\n       then if List.member ls k then f (i, k) * g (k, j) else bot else bot)\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "have \"... = (\\<Squnion>\\<^sub>k (if List.member ks i \\<and> List.member ls k then f (i,k) else bot) * (if List.member ls k \\<and> List.member ms j then g (k,j) else bot))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         if List.member ks i \\<and> List.member ms j\n         then if List.member ls k then f (i, k) * g (k, j) else bot\n         else bot)\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         (if List.member ks i \\<and> List.member ls k then f (i, k)\n          else bot) *\n         (if List.member ls k \\<and> List.member ms j then g (k, j)\n          else bot))\n     {k. True}", "by (auto intro: sup_monoid.sum.cong)"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       if List.member ks i \\<and> List.member ms j\n       then if List.member ls k then f (i, k) * g (k, j) else bot else bot)\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ls k then f (i, k)\n        else bot) *\n       (if List.member ls k \\<and> List.member ms j then g (k, j) else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       if List.member ks i \\<and> List.member ms j\n       then if List.member ls k then f (i, k) * g (k, j) else bot else bot)\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ls k then f (i, k)\n        else bot) *\n       (if List.member ls k \\<and> List.member ms j then g (k, j) else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "have \"... = (\\<Squnion>\\<^sub>k (ks\\<langle>f\\<rangle>ls) (i,k) * (ls\\<langle>g\\<rangle>ms) (k,j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         (if List.member ks i \\<and> List.member ls k then f (i, k)\n          else bot) *\n         (if List.member ls k \\<and> List.member ms j then g (k, j)\n          else bot))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         (ks \\<langle>f\\<rangle> ls) (i, k) *\n         (ls \\<langle>g\\<rangle> ms) (k, j))\n     {k. True}", "by (simp add: restrict_matrix_def)"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ls k then f (i, k)\n        else bot) *\n       (if List.member ls k \\<and> List.member ms j then g (k, j) else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (ks \\<langle>f\\<rangle> ls) (i, k) *\n       (ls \\<langle>g\\<rangle> ms) (k, j))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ls k then f (i, k)\n        else bot) *\n       (if List.member ls k \\<and> List.member ms j then g (k, j) else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (ks \\<langle>f\\<rangle> ls) (i, k) *\n       (ls \\<langle>g\\<rangle> ms) (k, j))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "have \"... = (ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms) (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         (ks \\<langle>f\\<rangle> ls) (i, k) *\n         (ls \\<langle>g\\<rangle> ms) (k, j))\n     {k. True} =\n    (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (i, j)", "by (simp add: times_matrix_def)"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (ks \\<langle>f\\<rangle> ls) (i, k) *\n       (ls \\<langle>g\\<rangle> ms) (k, j))\n   {k. True} =\n  (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                    ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (a, b)", "finally"], ["proof (chain)\npicking this:\n  (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n   (i, j) =\n  (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (i, j)", "show \"(ks\\<langle>(ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms)\\<rangle>ms) (i,j) = (ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms) (i,j)\""], ["proof (prove)\nusing this:\n  (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n   (i, j) =\n  (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (i, j)\n\ngoal (1 subgoal):\n 1. (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n     (i, j) =\n    (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (i, j)", "."], ["proof (state)\nthis:\n  (ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> ms)\n   (i, j) =\n  (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma restrict_star:\n  fixes g :: \"('a,'b::kleene_algebra) square\"\n  shows \"t\\<langle>star_matrix' t g\\<rangle>t = star_matrix' t g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<langle>star_matrix' t g\\<rangle> t = star_matrix' t g", "proof (induct arbitrary: g rule: list.induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>g. [] \\<langle>star_matrix' [] g\\<rangle> [] = star_matrix' [] g\n 2. \\<And>x1 x2 g.\n       (\\<And>g.\n           x2 \\<langle>star_matrix' x2 g\\<rangle> x2 =\n           star_matrix' x2 g) \\<Longrightarrow>\n       (x1 # x2) \\<langle>star_matrix' (x1 # x2) g\\<rangle> (x1 # x2) =\n       star_matrix' (x1 # x2) g", "case Nil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<And>g. [] \\<langle>star_matrix' [] g\\<rangle> [] = star_matrix' [] g\n 2. \\<And>x1 x2 g.\n       (\\<And>g.\n           x2 \\<langle>star_matrix' x2 g\\<rangle> x2 =\n           star_matrix' x2 g) \\<Longrightarrow>\n       (x1 # x2) \\<langle>star_matrix' (x1 # x2) g\\<rangle> (x1 # x2) =\n       star_matrix' (x1 # x2) g", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. [] \\<langle>star_matrix' [] g\\<rangle> [] = star_matrix' [] g", "by (simp add: restrict_empty_left)"], ["proof (state)\nthis:\n  [] \\<langle>star_matrix' [] g\\<rangle> [] = star_matrix' [] g\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2 g.\n       (\\<And>g.\n           x2 \\<langle>star_matrix' x2 g\\<rangle> x2 =\n           star_matrix' x2 g) \\<Longrightarrow>\n       (x1 # x2) \\<langle>star_matrix' (x1 # x2) g\\<rangle> (x1 # x2) =\n       star_matrix' (x1 # x2) g", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 x2 g.\n       (\\<And>g.\n           x2 \\<langle>star_matrix' x2 g\\<rangle> x2 =\n           star_matrix' x2 g) \\<Longrightarrow>\n       (x1 # x2) \\<langle>star_matrix' (x1 # x2) g\\<rangle> (x1 # x2) =\n       star_matrix' (x1 # x2) g", "case (Cons k s)"], ["proof (state)\nthis:\n  s \\<langle>star_matrix' s ?g\\<rangle> s = star_matrix' s ?g\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2 g.\n       (\\<And>g.\n           x2 \\<langle>star_matrix' x2 g\\<rangle> x2 =\n           star_matrix' x2 g) \\<Longrightarrow>\n       (x1 # x2) \\<langle>star_matrix' (x1 # x2) g\\<rangle> (x1 # x2) =\n       star_matrix' (x1 # x2) g", "let ?t = \"k#s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 x2 g.\n       (\\<And>g.\n           x2 \\<langle>star_matrix' x2 g\\<rangle> x2 =\n           star_matrix' x2 g) \\<Longrightarrow>\n       (x1 # x2) \\<langle>star_matrix' (x1 # x2) g\\<rangle> (x1 # x2) =\n       star_matrix' (x1 # x2) g", "assume \"\\<And>g::('a,'b) square . s\\<langle>star_matrix' s g\\<rangle>s = star_matrix' s g\""], ["proof (state)\nthis:\n  s \\<langle>star_matrix' s ?g\\<rangle> s = star_matrix' s ?g\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2 g.\n       (\\<And>g.\n           x2 \\<langle>star_matrix' x2 g\\<rangle> x2 =\n           star_matrix' x2 g) \\<Longrightarrow>\n       (x1 # x2) \\<langle>star_matrix' (x1 # x2) g\\<rangle> (x1 # x2) =\n       star_matrix' (x1 # x2) g", "hence 1: \"\\<And>g::('a,'b) square . ?t\\<langle>star_matrix' s g\\<rangle>?t = star_matrix' s g\""], ["proof (prove)\nusing this:\n  s \\<langle>star_matrix' s ?g\\<rangle> s = star_matrix' s ?g\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       (k # s) \\<langle>star_matrix' s g\\<rangle> (k # s) = star_matrix' s g", "by (metis member_rec(1) restrict_superlist)"], ["proof (state)\nthis:\n  (k # s) \\<langle>star_matrix' s ?g\\<rangle> (k # s) = star_matrix' s ?g\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2 g.\n       (\\<And>g.\n           x2 \\<langle>star_matrix' x2 g\\<rangle> x2 =\n           star_matrix' x2 g) \\<Longrightarrow>\n       (x1 # x2) \\<langle>star_matrix' (x1 # x2) g\\<rangle> (x1 # x2) =\n       star_matrix' (x1 # x2) g", "show \"?t\\<langle>star_matrix' ?t g\\<rangle>?t = star_matrix' ?t g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "let ?r = \"[k]\""], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "let ?a = \"?r\\<langle>g\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "let ?b = \"?r\\<langle>g\\<rangle>s\""], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "let ?c = \"s\\<langle>g\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "let ?d = \"s\\<langle>g\\<rangle>s\""], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "let ?as = \"?r\\<langle>star o ?a\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "let ?ds = \"star_matrix' s ?d\""], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "let ?e = \"?a \\<oplus> ?b \\<odot> ?ds \\<odot> ?c\""], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "let ?es = \"?r\\<langle>star o ?e\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "let ?f = \"?d \\<oplus> ?c \\<odot> ?as \\<odot> ?b\""], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "let ?fs = \"star_matrix' s ?f\""], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "have 2: \"?t\\<langle>?as\\<rangle>?t = ?as \\<and> ?t\\<langle>?b\\<rangle>?t = ?b \\<and> ?t\\<langle>?c\\<rangle>?t = ?c \\<and> ?t\\<langle>?es\\<rangle>?t = ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k #\n     s) \\<langle>[k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n     s) =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<and>\n    (k # s) \\<langle>[k] \\<langle>g\\<rangle> s\\<rangle> (k # s) =\n    [k] \\<langle>g\\<rangle> s \\<and>\n    (k # s) \\<langle>s \\<langle>g\\<rangle> [k]\\<rangle> (k # s) =\n    s \\<langle>g\\<rangle> [k] \\<and>\n    (k #\n     s) \\<langle>[k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                              [k] \\<langle>g\\<rangle> s \\<odot>\n                              star_matrix' s\n                               (s \\<langle>g\\<rangle> s) \\<odot>\n                              s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n   s) =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (simp add: restrict_superlist member_def)"], ["proof (state)\nthis:\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n   s) =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<and>\n  (k # s) \\<langle>[k] \\<langle>g\\<rangle> s\\<rangle> (k # s) =\n  [k] \\<langle>g\\<rangle> s \\<and>\n  (k # s) \\<langle>s \\<langle>g\\<rangle> [k]\\<rangle> (k # s) =\n  s \\<langle>g\\<rangle> [k] \\<and>\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n s) =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "have 3: \"?t\\<langle>?ds\\<rangle>?t = ?ds \\<and> ?t\\<langle>?fs\\<rangle>?t = ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k #\n     s) \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n    (k #\n     s) \\<langle>star_matrix' s\n                  (s \\<langle>g\\<rangle> s \\<oplus>\n                   s \\<langle>g\\<rangle> [k] \\<odot>\n                   [k] \\<langle>star \\<circ>\n                                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                   [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 1"], ["proof (prove)\nusing this:\n  (k # s) \\<langle>star_matrix' s ?g\\<rangle> (k # s) = star_matrix' s ?g\n\ngoal (1 subgoal):\n 1. (k #\n     s) \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n    (k #\n     s) \\<langle>star_matrix' s\n                  (s \\<langle>g\\<rangle> s \\<oplus>\n                   s \\<langle>g\\<rangle> [k] \\<odot>\n                   [k] \\<langle>star \\<circ>\n                                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                   [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by simp"], ["proof (state)\nthis:\n  (k #\n   s) \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n  (k #\n   s) \\<langle>star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "have 4: \"?t\\<langle>?t\\<langle>?as\\<rangle>?t \\<odot> ?t\\<langle>?b\\<rangle>?t \\<odot> ?t\\<langle>?fs\\<rangle>?t\\<rangle>?t = ?t\\<langle>?as\\<rangle>?t \\<odot> ?t\\<langle>?b\\<rangle>?t \\<odot> ?t\\<langle>?fs\\<rangle>?t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k #\n     s) \\<langle>(k #\n                  s) \\<langle>[k] \\<langle>star \\<circ>\n     [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k # s) \\<odot>\n                 (k #\n                  s) \\<langle>[k] \\<langle>g\\<rangle> s\\<rangle> (k #\n                            s) \\<odot>\n                 (k #\n                  s) \\<langle>star_matrix' s\n                               (s \\<langle>g\\<rangle> s \\<oplus>\n                                s \\<langle>g\\<rangle> [k] \\<odot>\n                                [k] \\<langle>star \\<circ>\n       [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                                [k] \\<langle>g\\<rangle> s)\\<rangle> (k #\n                               s)\\<rangle> (k # s) =\n    (k #\n     s) \\<langle>[k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n     s) \\<odot>\n    (k # s) \\<langle>[k] \\<langle>g\\<rangle> s\\<rangle> (k # s) \\<odot>\n    (k #\n     s) \\<langle>star_matrix' s\n                  (s \\<langle>g\\<rangle> s \\<oplus>\n                   s \\<langle>g\\<rangle> [k] \\<odot>\n                   [k] \\<langle>star \\<circ>\n                                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                   [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s)", "by (metis (no_types) restrict_times)"], ["proof (state)\nthis:\n  (k #\n   s) \\<langle>(k #\n                s) \\<langle>[k] \\<langle>star \\<circ>\n   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k # s) \\<odot>\n               (k #\n                s) \\<langle>[k] \\<langle>g\\<rangle> s\\<rangle> (k #\n                          s) \\<odot>\n               (k #\n                s) \\<langle>star_matrix' s\n                             (s \\<langle>g\\<rangle> s \\<oplus>\n                              s \\<langle>g\\<rangle> [k] \\<odot>\n                              [k] \\<langle>star \\<circ>\n     [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                              [k] \\<langle>g\\<rangle> s)\\<rangle> (k #\n                             s)\\<rangle> (k # s) =\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n   s) \\<odot>\n  (k # s) \\<langle>[k] \\<langle>g\\<rangle> s\\<rangle> (k # s) \\<odot>\n  (k #\n   s) \\<langle>star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "have 5: \"?t\\<langle>?t\\<langle>?ds\\<rangle>?t \\<odot> ?t\\<langle>?c\\<rangle>?t \\<odot> ?t\\<langle>?es\\<rangle>?t\\<rangle>?t = ?t\\<langle>?ds\\<rangle>?t \\<odot> ?t\\<langle>?c\\<rangle>?t \\<odot> ?t\\<langle>?es\\<rangle>?t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k #\n     s) \\<langle>(k #\n                  s) \\<langle>star_matrix' s\n                               (s \\<langle>g\\<rangle> s)\\<rangle> (k #\n                             s) \\<odot>\n                 (k #\n                  s) \\<langle>s \\<langle>g\\<rangle> [k]\\<rangle> (k #\n                            s) \\<odot>\n                 (k #\n                  s) \\<langle>[k] \\<langle>star \\<circ>\n     [k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n                s)\\<rangle> (k # s) =\n    (k #\n     s) \\<langle>star_matrix' s\n                  (s \\<langle>g\\<rangle> s)\\<rangle> (k # s) \\<odot>\n    (k # s) \\<langle>s \\<langle>g\\<rangle> [k]\\<rangle> (k # s) \\<odot>\n    (k #\n     s) \\<langle>[k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                              [k] \\<langle>g\\<rangle> s \\<odot>\n                              star_matrix' s\n                               (s \\<langle>g\\<rangle> s) \\<odot>\n                              s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n   s)", "by (metis (no_types) restrict_times)"], ["proof (state)\nthis:\n  (k #\n   s) \\<langle>(k #\n                s) \\<langle>star_matrix' s\n                             (s \\<langle>g\\<rangle> s)\\<rangle> (k #\n                           s) \\<odot>\n               (k #\n                s) \\<langle>s \\<langle>g\\<rangle> [k]\\<rangle> (k #\n                          s) \\<odot>\n               (k #\n                s) \\<langle>[k] \\<langle>star \\<circ>\n   [k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n              s)\\<rangle> (k # s) =\n  (k #\n   s) \\<langle>star_matrix' s\n                (s \\<langle>g\\<rangle> s)\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>s \\<langle>g\\<rangle> [k]\\<rangle> (k # s) \\<odot>\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "have \"?t\\<langle>star_matrix' ?t g\\<rangle>?t = ?t\\<langle>?es \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?fs\\<rangle>?t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    (k #\n     s) \\<langle>[k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                              [k] \\<langle>g\\<rangle> s \\<odot>\n                              star_matrix' s\n                               (s \\<langle>g\\<rangle> s) \\<odot>\n                              s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s\n                  (s \\<langle>g\\<rangle> s \\<oplus>\n                   s \\<langle>g\\<rangle> [k] \\<odot>\n                   [k] \\<langle>star \\<circ>\n                                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                   [k] \\<langle>g\\<rangle> s) \\<oplus>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                              [k] \\<langle>g\\<rangle> s \\<odot>\n                              star_matrix' s\n                               (s \\<langle>g\\<rangle> s) \\<odot>\n                              s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                 star_matrix' s\n                  (s \\<langle>g\\<rangle> s \\<oplus>\n                   s \\<langle>g\\<rangle> [k] \\<odot>\n                   [k] \\<langle>star \\<circ>\n                                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                   [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s)", "by (metis star_matrix'.simps(2))"], ["proof (state)\nthis:\n  (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s) \\<oplus>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n               star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "also"], ["proof (state)\nthis:\n  (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s) \\<oplus>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n               star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "have \"... = ?t\\<langle>?es\\<rangle>?t \\<oplus> ?t\\<langle>?as \\<odot> ?b \\<odot> ?fs\\<rangle>?t \\<oplus> ?t\\<langle>?ds \\<odot> ?c \\<odot> ?es\\<rangle>?t \\<oplus> ?t\\<langle>?fs\\<rangle>?t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k #\n     s) \\<langle>[k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                              [k] \\<langle>g\\<rangle> s \\<odot>\n                              star_matrix' s\n                               (s \\<langle>g\\<rangle> s) \\<odot>\n                              s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s\n                  (s \\<langle>g\\<rangle> s \\<oplus>\n                   s \\<langle>g\\<rangle> [k] \\<odot>\n                   [k] \\<langle>star \\<circ>\n                                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                   [k] \\<langle>g\\<rangle> s) \\<oplus>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                              [k] \\<langle>g\\<rangle> s \\<odot>\n                              star_matrix' s\n                               (s \\<langle>g\\<rangle> s) \\<odot>\n                              s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                 star_matrix' s\n                  (s \\<langle>g\\<rangle> s \\<oplus>\n                   s \\<langle>g\\<rangle> [k] \\<odot>\n                   [k] \\<langle>star \\<circ>\n                                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                   [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n    (k #\n     s) \\<langle>[k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                              [k] \\<langle>g\\<rangle> s \\<odot>\n                              star_matrix' s\n                               (s \\<langle>g\\<rangle> s) \\<odot>\n                              s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n   s) \\<oplus>\n    (k #\n     s) \\<langle>[k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s\n                  (s \\<langle>g\\<rangle> s \\<oplus>\n                   s \\<langle>g\\<rangle> [k] \\<odot>\n                   [k] \\<langle>star \\<circ>\n                                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                   [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) \\<oplus>\n    (k #\n     s) \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                              [k] \\<langle>g\\<rangle> s \\<odot>\n                              star_matrix' s\n                               (s \\<langle>g\\<rangle> s) \\<odot>\n                              s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n   s) \\<oplus>\n    (k #\n     s) \\<langle>star_matrix' s\n                  (s \\<langle>g\\<rangle> s \\<oplus>\n                   s \\<langle>g\\<rangle> [k] \\<odot>\n                   [k] \\<langle>star \\<circ>\n                                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                   [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s)", "by (simp add: restrict_sup)"], ["proof (state)\nthis:\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s) \\<oplus>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n               star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n s) \\<oplus>\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) \\<oplus>\n  (k #\n   s) \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n s) \\<oplus>\n  (k #\n   s) \\<langle>star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "also"], ["proof (state)\nthis:\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s) \\<oplus>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n               star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n s) \\<oplus>\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) \\<oplus>\n  (k #\n   s) \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n s) \\<oplus>\n  (k #\n   s) \\<langle>star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "have \"... = ?es \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k #\n     s) \\<langle>[k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                              [k] \\<langle>g\\<rangle> s \\<odot>\n                              star_matrix' s\n                               (s \\<langle>g\\<rangle> s) \\<odot>\n                              s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n   s) \\<oplus>\n    (k #\n     s) \\<langle>[k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s\n                  (s \\<langle>g\\<rangle> s \\<oplus>\n                   s \\<langle>g\\<rangle> [k] \\<odot>\n                   [k] \\<langle>star \\<circ>\n                                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                   [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) \\<oplus>\n    (k #\n     s) \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                              [k] \\<langle>g\\<rangle> s \\<odot>\n                              star_matrix' s\n                               (s \\<langle>g\\<rangle> s) \\<odot>\n                              s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n   s) \\<oplus>\n    (k #\n     s) \\<langle>star_matrix' s\n                  (s \\<langle>g\\<rangle> s \\<oplus>\n                   s \\<langle>g\\<rangle> [k] \\<odot>\n                   [k] \\<langle>star \\<circ>\n                                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                   [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 2 3 4 5"], ["proof (prove)\nusing this:\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n   s) =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<and>\n  (k # s) \\<langle>[k] \\<langle>g\\<rangle> s\\<rangle> (k # s) =\n  [k] \\<langle>g\\<rangle> s \\<and>\n  (k # s) \\<langle>s \\<langle>g\\<rangle> [k]\\<rangle> (k # s) =\n  s \\<langle>g\\<rangle> [k] \\<and>\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n s) =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n  (k #\n   s) \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n  (k #\n   s) \\<langle>star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n  (k #\n   s) \\<langle>(k #\n                s) \\<langle>[k] \\<langle>star \\<circ>\n   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k # s) \\<odot>\n               (k #\n                s) \\<langle>[k] \\<langle>g\\<rangle> s\\<rangle> (k #\n                          s) \\<odot>\n               (k #\n                s) \\<langle>star_matrix' s\n                             (s \\<langle>g\\<rangle> s \\<oplus>\n                              s \\<langle>g\\<rangle> [k] \\<odot>\n                              [k] \\<langle>star \\<circ>\n     [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                              [k] \\<langle>g\\<rangle> s)\\<rangle> (k #\n                             s)\\<rangle> (k # s) =\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n   s) \\<odot>\n  (k # s) \\<langle>[k] \\<langle>g\\<rangle> s\\<rangle> (k # s) \\<odot>\n  (k #\n   s) \\<langle>star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s)\n  (k #\n   s) \\<langle>(k #\n                s) \\<langle>star_matrix' s\n                             (s \\<langle>g\\<rangle> s)\\<rangle> (k #\n                           s) \\<odot>\n               (k #\n                s) \\<langle>s \\<langle>g\\<rangle> [k]\\<rangle> (k #\n                          s) \\<odot>\n               (k #\n                s) \\<langle>[k] \\<langle>star \\<circ>\n   [k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n              s)\\<rangle> (k # s) =\n  (k #\n   s) \\<langle>star_matrix' s\n                (s \\<langle>g\\<rangle> s)\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>s \\<langle>g\\<rangle> [k]\\<rangle> (k # s) \\<odot>\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n s)\n\ngoal (1 subgoal):\n 1. (k #\n     s) \\<langle>[k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                              [k] \\<langle>g\\<rangle> s \\<odot>\n                              star_matrix' s\n                               (s \\<langle>g\\<rangle> s) \\<odot>\n                              s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n   s) \\<oplus>\n    (k #\n     s) \\<langle>[k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s\n                  (s \\<langle>g\\<rangle> s \\<oplus>\n                   s \\<langle>g\\<rangle> [k] \\<odot>\n                   [k] \\<langle>star \\<circ>\n                                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                   [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) \\<oplus>\n    (k #\n     s) \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                              [k] \\<langle>g\\<rangle> s \\<odot>\n                              star_matrix' s\n                               (s \\<langle>g\\<rangle> s) \\<odot>\n                              s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n   s) \\<oplus>\n    (k #\n     s) \\<langle>star_matrix' s\n                  (s \\<langle>g\\<rangle> s \\<oplus>\n                   s \\<langle>g\\<rangle> [k] \\<odot>\n                   [k] \\<langle>star \\<circ>\n                                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                   [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by simp"], ["proof (state)\nthis:\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n s) \\<oplus>\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) \\<oplus>\n  (k #\n   s) \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n s) \\<oplus>\n  (k #\n   s) \\<langle>star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "also"], ["proof (state)\nthis:\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n s) \\<oplus>\n  (k #\n   s) \\<langle>[k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) \\<oplus>\n  (k #\n   s) \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                            [k] \\<langle>g\\<rangle> s \\<odot>\n                            star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                            s \\<langle>g\\<rangle> [k]\\<rangle> [k]\\<rangle> (k #\n s) \\<oplus>\n  (k #\n   s) \\<langle>star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> (k # s) =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "have \"... = star_matrix' ?t g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    star_matrix' (k # s) g", "by (metis star_matrix'.simps(2))"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  star_matrix' (k # s) g\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "finally"], ["proof (chain)\npicking this:\n  (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n  star_matrix' (k # s) g", "show ?thesis"], ["proof (prove)\nusing this:\n  (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n  star_matrix' (k # s) g\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n    star_matrix' (k # s) g", "."], ["proof (state)\nthis:\n  (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n  star_matrix' (k # s) g\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (k # s) \\<langle>star_matrix' (k # s) g\\<rangle> (k # s) =\n  star_matrix' (k # s) g\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma restrict_one:\n  assumes \"\\<not> List.member ks k\"\n    shows \"(k#ks)\\<langle>(mone::('a,'b::idempotent_semiring) square)\\<rangle>(k#ks) = [k]\\<langle>mone\\<rangle>[k] \\<oplus> ks\\<langle>mone\\<rangle>ks\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>mone\\<rangle> (k # ks) =\n    [k] \\<langle>mone\\<rangle> [k] \\<oplus> ks \\<langle>mone\\<rangle> ks", "by (subst restrict_nonempty) (simp add: assms member_rec one_disjoint)"], ["", "lemma restrict_one_left_unit:\n  \"ks\\<langle>(mone::('a::finite,'b::idempotent_semiring) square)\\<rangle>ks \\<odot> ks\\<langle>f\\<rangle>ls = ks\\<langle>f\\<rangle>ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls =\n    ks \\<langle>f\\<rangle> ls", "proof (rule ext, rule prod_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "let ?o = \"mone::('a,'b::idempotent_semiring) square\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "have \"(ks\\<langle>?o\\<rangle>ks \\<odot> ks\\<langle>f\\<rangle>ls) (i,j) = (\\<Squnion>\\<^sub>k (ks\\<langle>?o\\<rangle>ks) (i,k) * (ks\\<langle>f\\<rangle>ls) (k,j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n     (i, j) =\n    sup_monoid.sum\n     (\\<lambda>k.\n         (ks \\<langle>mone\\<rangle> ks) (i, k) *\n         (ks \\<langle>f\\<rangle> ls) (k, j))\n     {k. True}", "by (simp add: times_matrix_def)"], ["proof (state)\nthis:\n  (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls) (i, j) =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (ks \\<langle>mone\\<rangle> ks) (i, k) *\n       (ks \\<langle>f\\<rangle> ls) (k, j))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "also"], ["proof (state)\nthis:\n  (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls) (i, j) =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (ks \\<langle>mone\\<rangle> ks) (i, k) *\n       (ks \\<langle>f\\<rangle> ls) (k, j))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "have \"... = (\\<Squnion>\\<^sub>k (if List.member ks i \\<and> List.member ks k then ?o (i,k) else bot) * (if List.member ks k \\<and> List.member ls j then f (k,j) else bot))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         (ks \\<langle>mone\\<rangle> ks) (i, k) *\n         (ks \\<langle>f\\<rangle> ls) (k, j))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         (if List.member ks i \\<and> List.member ks k then mone (i, k)\n          else bot) *\n         (if List.member ks k \\<and> List.member ls j then f (k, j)\n          else bot))\n     {k. True}", "by (simp add: restrict_matrix_def)"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (ks \\<langle>mone\\<rangle> ks) (i, k) *\n       (ks \\<langle>f\\<rangle> ls) (k, j))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ks k then mone (i, k)\n        else bot) *\n       (if List.member ks k \\<and> List.member ls j then f (k, j) else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (ks \\<langle>mone\\<rangle> ks) (i, k) *\n       (ks \\<langle>f\\<rangle> ls) (k, j))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ks k then mone (i, k)\n        else bot) *\n       (if List.member ks k \\<and> List.member ls j then f (k, j) else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "have \"... = (\\<Squnion>\\<^sub>k (if List.member ks i \\<and> List.member ks k then (if i = k then 1 else bot) else bot) * (if List.member ks k \\<and> List.member ls j then f (k,j) else bot))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         (if List.member ks i \\<and> List.member ks k then mone (i, k)\n          else bot) *\n         (if List.member ks k \\<and> List.member ls j then f (k, j)\n          else bot))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         (if List.member ks i \\<and> List.member ks k\n          then if i = k then 1::'b else bot else bot) *\n         (if List.member ks k \\<and> List.member ls j then f (k, j)\n          else bot))\n     {k. True}", "by (unfold one_matrix_def) auto"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ks k then mone (i, k)\n        else bot) *\n       (if List.member ks k \\<and> List.member ls j then f (k, j) else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ks k\n        then if i = k then 1::'b else bot else bot) *\n       (if List.member ks k \\<and> List.member ls j then f (k, j) else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ks k then mone (i, k)\n        else bot) *\n       (if List.member ks k \\<and> List.member ls j then f (k, j) else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ks k\n        then if i = k then 1::'b else bot else bot) *\n       (if List.member ks k \\<and> List.member ls j then f (k, j) else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "have \"... = (\\<Squnion>\\<^sub>k (if i = k then (if List.member ks i then 1 else bot) else bot) * (if List.member ks k \\<and> List.member ls j then f (k,j) else bot))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         (if List.member ks i \\<and> List.member ks k\n          then if i = k then 1::'b else bot else bot) *\n         (if List.member ks k \\<and> List.member ls j then f (k, j)\n          else bot))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         (if i = k then if List.member ks i then 1::'b else bot else bot) *\n         (if List.member ks k \\<and> List.member ls j then f (k, j)\n          else bot))\n     {k. True}", "by (auto intro: sup_monoid.sum.cong)"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ks k\n        then if i = k then 1::'b else bot else bot) *\n       (if List.member ks k \\<and> List.member ls j then f (k, j) else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = k then if List.member ks i then 1::'b else bot else bot) *\n       (if List.member ks k \\<and> List.member ls j then f (k, j) else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if List.member ks i \\<and> List.member ks k\n        then if i = k then 1::'b else bot else bot) *\n       (if List.member ks k \\<and> List.member ls j then f (k, j) else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = k then if List.member ks i then 1::'b else bot else bot) *\n       (if List.member ks k \\<and> List.member ls j then f (k, j) else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "have \"... = (\\<Squnion>\\<^sub>k if i = k then (if List.member ks i then 1 else bot) * (if List.member ks i \\<and> List.member ls j then f (i,j) else bot) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         (if i = k then if List.member ks i then 1::'b else bot else bot) *\n         (if List.member ks k \\<and> List.member ls j then f (k, j)\n          else bot))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         if i = k\n         then (if List.member ks i then 1::'b else bot) *\n              (if List.member ks i \\<and> List.member ls j then f (i, j)\n               else bot)\n         else bot)\n     {k. True}", "by (rule sup_monoid.sum.cong) simp_all"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = k then if List.member ks i then 1::'b else bot else bot) *\n       (if List.member ks k \\<and> List.member ls j then f (k, j) else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       if i = k\n       then (if List.member ks i then 1::'b else bot) *\n            (if List.member ks i \\<and> List.member ls j then f (i, j)\n             else bot)\n       else bot)\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = k then if List.member ks i then 1::'b else bot else bot) *\n       (if List.member ks k \\<and> List.member ls j then f (k, j) else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       if i = k\n       then (if List.member ks i then 1::'b else bot) *\n            (if List.member ks i \\<and> List.member ls j then f (i, j)\n             else bot)\n       else bot)\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "have \"... = (if List.member ks i then 1 else bot) * (if List.member ks i \\<and> List.member ls j then f (i,j) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         if i = k\n         then (if List.member ks i then 1::'b else bot) *\n              (if List.member ks i \\<and> List.member ls j then f (i, j)\n               else bot)\n         else bot)\n     {k. True} =\n    (if List.member ks i then 1::'b else bot) *\n    (if List.member ks i \\<and> List.member ls j then f (i, j) else bot)", "by simp"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       if i = k\n       then (if List.member ks i then 1::'b else bot) *\n            (if List.member ks i \\<and> List.member ls j then f (i, j)\n             else bot)\n       else bot)\n   {k. True} =\n  (if List.member ks i then 1::'b else bot) *\n  (if List.member ks i \\<and> List.member ls j then f (i, j) else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       if i = k\n       then (if List.member ks i then 1::'b else bot) *\n            (if List.member ks i \\<and> List.member ls j then f (i, j)\n             else bot)\n       else bot)\n   {k. True} =\n  (if List.member ks i then 1::'b else bot) *\n  (if List.member ks i \\<and> List.member ls j then f (i, j) else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "have \"... = (if List.member ks i \\<and> List.member ls j then f (i,j) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if List.member ks i then 1::'b else bot) *\n    (if List.member ks i \\<and> List.member ls j then f (i, j) else bot) =\n    (if List.member ks i \\<and> List.member ls j then f (i, j) else bot)", "by simp"], ["proof (state)\nthis:\n  (if List.member ks i then 1::'b else bot) *\n  (if List.member ks i \\<and> List.member ls j then f (i, j) else bot) =\n  (if List.member ks i \\<and> List.member ls j then f (i, j) else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "also"], ["proof (state)\nthis:\n  (if List.member ks i then 1::'b else bot) *\n  (if List.member ks i \\<and> List.member ls j then f (i, j) else bot) =\n  (if List.member ks i \\<and> List.member ls j then f (i, j) else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "have \"... = (ks\\<langle>f\\<rangle>ls) (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if List.member ks i \\<and> List.member ls j then f (i, j) else bot) =\n    (ks \\<langle>f\\<rangle> ls) (i, j)", "by (simp add: restrict_matrix_def)"], ["proof (state)\nthis:\n  (if List.member ks i \\<and> List.member ls j then f (i, j) else bot) =\n  (ks \\<langle>f\\<rangle> ls) (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n        (a, b) =\n       (ks \\<langle>f\\<rangle> ls) (a, b)", "finally"], ["proof (chain)\npicking this:\n  (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls) (i, j) =\n  (ks \\<langle>f\\<rangle> ls) (i, j)", "show \"(ks\\<langle>?o\\<rangle>ks \\<odot> ks\\<langle>f\\<rangle>ls) (i,j) = (ks\\<langle>f\\<rangle>ls) (i,j)\""], ["proof (prove)\nusing this:\n  (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls) (i, j) =\n  (ks \\<langle>f\\<rangle> ls) (i, j)\n\ngoal (1 subgoal):\n 1. (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls)\n     (i, j) =\n    (ks \\<langle>f\\<rangle> ls) (i, j)", "."], ["proof (state)\nthis:\n  (ks \\<langle>mone\\<rangle> ks \\<odot> ks \\<langle>f\\<rangle> ls) (i, j) =\n  (ks \\<langle>f\\<rangle> ls) (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nThe following lemmas consider restrictions to singleton index sets.\n\\<close>"], ["", "lemma restrict_singleton:\n  \"([k]\\<langle>f\\<rangle>[l]) (i,j) = (if i = k \\<and> j = l then f (i,j) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l]) (i, j) =\n    (if i = k \\<and> j = l then f (i, j) else bot)", "by (simp add: restrict_matrix_def List.member_def)"], ["", "lemma restrict_singleton_list:\n  \"([k]\\<langle>f\\<rangle>ls) (i,j) = (if i = k \\<and> List.member ls j then f (i,j) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> ls) (i, j) =\n    (if i = k \\<and> List.member ls j then f (i, j) else bot)", "by (simp add: restrict_matrix_def List.member_def)"], ["", "lemma restrict_list_singleton:\n  \"(ks\\<langle>f\\<rangle>[l]) (i,j) = (if List.member ks i \\<and> j = l then f (i,j) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ks \\<langle>f\\<rangle> [l]) (i, j) =\n    (if List.member ks i \\<and> j = l then f (i, j) else bot)", "by (simp add: restrict_matrix_def List.member_def)"], ["", "lemma restrict_singleton_product:\n  fixes f g :: \"('a::finite,'b::kleene_algebra) square\"\n  shows \"([k]\\<langle>f\\<rangle>[l] \\<odot> [m]\\<langle>g\\<rangle>[n]) (i,j) = (if i = k \\<and> l = m \\<and> j = n then f (i,l) * g (m,j) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n])\n     (i, j) =\n    (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n])\n     (i, j) =\n    (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "have \"([k]\\<langle>f\\<rangle>[l] \\<odot> [m]\\<langle>g\\<rangle>[n]) (i,j) = (\\<Squnion>\\<^sub>h ([k]\\<langle>f\\<rangle>[l]) (i,h) * ([m]\\<langle>g\\<rangle>[n]) (h,j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n])\n     (i, j) =\n    sup_monoid.sum\n     (\\<lambda>h.\n         ([k] \\<langle>f\\<rangle> [l]) (i, h) *\n         ([m] \\<langle>g\\<rangle> [n]) (h, j))\n     {h. True}", "by (simp add: times_matrix_def)"], ["proof (state)\nthis:\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n]) (i, j) =\n  sup_monoid.sum\n   (\\<lambda>h.\n       ([k] \\<langle>f\\<rangle> [l]) (i, h) *\n       ([m] \\<langle>g\\<rangle> [n]) (h, j))\n   {h. True}\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n])\n     (i, j) =\n    (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "also"], ["proof (state)\nthis:\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n]) (i, j) =\n  sup_monoid.sum\n   (\\<lambda>h.\n       ([k] \\<langle>f\\<rangle> [l]) (i, h) *\n       ([m] \\<langle>g\\<rangle> [n]) (h, j))\n   {h. True}\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n])\n     (i, j) =\n    (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "have \"... = (\\<Squnion>\\<^sub>h (if i = k \\<and> h = l then f (i,h) else bot) * (if h = m \\<and> j = n then g (h,j) else bot))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>h.\n         ([k] \\<langle>f\\<rangle> [l]) (i, h) *\n         ([m] \\<langle>g\\<rangle> [n]) (h, j))\n     {h. True} =\n    sup_monoid.sum\n     (\\<lambda>h.\n         (if i = k \\<and> h = l then f (i, h) else bot) *\n         (if h = m \\<and> j = n then g (h, j) else bot))\n     {h. True}", "by (simp add: restrict_singleton)"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>h.\n       ([k] \\<langle>f\\<rangle> [l]) (i, h) *\n       ([m] \\<langle>g\\<rangle> [n]) (h, j))\n   {h. True} =\n  sup_monoid.sum\n   (\\<lambda>h.\n       (if i = k \\<and> h = l then f (i, h) else bot) *\n       (if h = m \\<and> j = n then g (h, j) else bot))\n   {h. True}\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n])\n     (i, j) =\n    (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>h.\n       ([k] \\<langle>f\\<rangle> [l]) (i, h) *\n       ([m] \\<langle>g\\<rangle> [n]) (h, j))\n   {h. True} =\n  sup_monoid.sum\n   (\\<lambda>h.\n       (if i = k \\<and> h = l then f (i, h) else bot) *\n       (if h = m \\<and> j = n then g (h, j) else bot))\n   {h. True}\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n])\n     (i, j) =\n    (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "have \"... = (\\<Squnion>\\<^sub>h if h = l then (if i = k then f (i,h) else bot) * (if h = m \\<and> j = n then g (h,j) else bot) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>h.\n         (if i = k \\<and> h = l then f (i, h) else bot) *\n         (if h = m \\<and> j = n then g (h, j) else bot))\n     {h. True} =\n    sup_monoid.sum\n     (\\<lambda>h.\n         if h = l\n         then (if i = k then f (i, h) else bot) *\n              (if h = m \\<and> j = n then g (h, j) else bot)\n         else bot)\n     {h. True}", "by (rule sup_monoid.sum.cong) auto"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>h.\n       (if i = k \\<and> h = l then f (i, h) else bot) *\n       (if h = m \\<and> j = n then g (h, j) else bot))\n   {h. True} =\n  sup_monoid.sum\n   (\\<lambda>h.\n       if h = l\n       then (if i = k then f (i, h) else bot) *\n            (if h = m \\<and> j = n then g (h, j) else bot)\n       else bot)\n   {h. True}\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n])\n     (i, j) =\n    (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>h.\n       (if i = k \\<and> h = l then f (i, h) else bot) *\n       (if h = m \\<and> j = n then g (h, j) else bot))\n   {h. True} =\n  sup_monoid.sum\n   (\\<lambda>h.\n       if h = l\n       then (if i = k then f (i, h) else bot) *\n            (if h = m \\<and> j = n then g (h, j) else bot)\n       else bot)\n   {h. True}\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n])\n     (i, j) =\n    (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "have \"... = (if i = k then f (i,l) else bot) * (if l = m \\<and> j = n then g (l,j) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>h.\n         if h = l\n         then (if i = k then f (i, h) else bot) *\n              (if h = m \\<and> j = n then g (h, j) else bot)\n         else bot)\n     {h. True} =\n    (if i = k then f (i, l) else bot) *\n    (if l = m \\<and> j = n then g (l, j) else bot)", "by simp"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>h.\n       if h = l\n       then (if i = k then f (i, h) else bot) *\n            (if h = m \\<and> j = n then g (h, j) else bot)\n       else bot)\n   {h. True} =\n  (if i = k then f (i, l) else bot) *\n  (if l = m \\<and> j = n then g (l, j) else bot)\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n])\n     (i, j) =\n    (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>h.\n       if h = l\n       then (if i = k then f (i, h) else bot) *\n            (if h = m \\<and> j = n then g (h, j) else bot)\n       else bot)\n   {h. True} =\n  (if i = k then f (i, l) else bot) *\n  (if l = m \\<and> j = n then g (l, j) else bot)\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n])\n     (i, j) =\n    (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "have \"... = (if i = k \\<and> l = m \\<and> j = n then f (i,l) * g (m,j) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if i = k then f (i, l) else bot) *\n    (if l = m \\<and> j = n then g (l, j) else bot) =\n    (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "by simp"], ["proof (state)\nthis:\n  (if i = k then f (i, l) else bot) *\n  (if l = m \\<and> j = n then g (l, j) else bot) =\n  (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n])\n     (i, j) =\n    (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "finally"], ["proof (chain)\npicking this:\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n]) (i, j) =\n  (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "show ?thesis"], ["proof (prove)\nusing this:\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n]) (i, j) =\n  (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n])\n     (i, j) =\n    (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)", "."], ["proof (state)\nthis:\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [m] \\<langle>g\\<rangle> [n]) (i, j) =\n  (if i = k \\<and> l = m \\<and> j = n then f (i, l) * g (m, j) else bot)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nThe Kleene star unfold law holds for matrices with a single entry on the diagonal.\n\\<close>"], ["", "lemma restrict_star_unfold:\n  \"[l]\\<langle>(mone::('a::finite,'b::kleene_algebra) square)\\<rangle>[l] \\<oplus> [l]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>star o f\\<rangle>[l] = [l]\\<langle>star o f\\<rangle>[l]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [l] \\<langle>mone\\<rangle> [l] \\<oplus>\n    [l] \\<langle>f\\<rangle> [l] \\<odot>\n    [l] \\<langle>star \\<circ> f\\<rangle> [l] =\n    [l] \\<langle>star \\<circ> f\\<rangle> [l]", "proof (rule ext, rule prod_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "let ?o = \"mone::('a,'b::kleene_algebra) square\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "have \"([l]\\<langle>?o\\<rangle>[l] \\<oplus> [l]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>star o f\\<rangle>[l]) (i,j) = ([l]\\<langle>?o\\<rangle>[l]) (i,j) \\<squnion> ([l]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>star o f\\<rangle>[l]) (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n     [l] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>star \\<circ> f\\<rangle> [l])\n     (i, j) =\n    ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n    ([l] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>star \\<circ> f\\<rangle> [l])\n     (i, j)", "by (simp add: sup_matrix_def)"], ["proof (state)\nthis:\n  ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n   [l] \\<langle>f\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j) =\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  ([l] \\<langle>f\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "also"], ["proof (state)\nthis:\n  ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n   [l] \\<langle>f\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j) =\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  ([l] \\<langle>f\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "have \"... = ([l]\\<langle>?o\\<rangle>[l]) (i,j) \\<squnion> (\\<Squnion>\\<^sub>k ([l]\\<langle>f\\<rangle>[l]) (i,k) * ([l]\\<langle>star o f\\<rangle>[l]) (k,j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n    ([l] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>star \\<circ> f\\<rangle> [l])\n     (i, j) =\n    ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n    sup_monoid.sum\n     (\\<lambda>k.\n         ([l] \\<langle>f\\<rangle> [l]) (i, k) *\n         ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (k, j))\n     {k. True}", "by (simp add: times_matrix_def)"], ["proof (state)\nthis:\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  ([l] \\<langle>f\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j) =\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  sup_monoid.sum\n   (\\<lambda>k.\n       ([l] \\<langle>f\\<rangle> [l]) (i, k) *\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (k, j))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "also"], ["proof (state)\nthis:\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  ([l] \\<langle>f\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j) =\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  sup_monoid.sum\n   (\\<lambda>k.\n       ([l] \\<langle>f\\<rangle> [l]) (i, k) *\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (k, j))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "have \"... = ([l]\\<langle>?o\\<rangle>[l]) (i,j) \\<squnion> (\\<Squnion>\\<^sub>k (if i = l \\<and> k = l then f (i,k) else bot) * (if k = l \\<and> j = l then (f (k,j))\\<^sup>\\<star> else bot))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n    sup_monoid.sum\n     (\\<lambda>k.\n         ([l] \\<langle>f\\<rangle> [l]) (i, k) *\n         ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (k, j))\n     {k. True} =\n    ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n    sup_monoid.sum\n     (\\<lambda>k.\n         (if i = l \\<and> k = l then f (i, k) else bot) *\n         (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n     {k. True}", "by (simp add: restrict_singleton o_def)"], ["proof (state)\nthis:\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  sup_monoid.sum\n   (\\<lambda>k.\n       ([l] \\<langle>f\\<rangle> [l]) (i, k) *\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (k, j))\n   {k. True} =\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = l \\<and> k = l then f (i, k) else bot) *\n       (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "also"], ["proof (state)\nthis:\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  sup_monoid.sum\n   (\\<lambda>k.\n       ([l] \\<langle>f\\<rangle> [l]) (i, k) *\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (k, j))\n   {k. True} =\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = l \\<and> k = l then f (i, k) else bot) *\n       (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "have \"... = ([l]\\<langle>?o\\<rangle>[l]) (i,j) \\<squnion> (\\<Squnion>\\<^sub>k if k = l then (if i = l then f (i,k) else bot) * (if j = l then (f (k,j))\\<^sup>\\<star> else bot) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n    sup_monoid.sum\n     (\\<lambda>k.\n         (if i = l \\<and> k = l then f (i, k) else bot) *\n         (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n     {k. True} =\n    ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n    sup_monoid.sum\n     (\\<lambda>k.\n         if k = l\n         then (if i = l then f (i, k) else bot) *\n              (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n         else bot)\n     {k. True}", "apply (rule arg_cong2[where f=sup])"], ["proof (prove)\ngoal (2 subgoals):\n 1. ([l] \\<langle>mone\\<rangle> [l]) (i, j) =\n    ([l] \\<langle>mone\\<rangle> [l]) (i, j)\n 2. sup_monoid.sum\n     (\\<lambda>k.\n         (if i = l \\<and> k = l then f (i, k) else bot) *\n         (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         if k = l\n         then (if i = l then f (i, k) else bot) *\n              (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n         else bot)\n     {k. True}", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         (if i = l \\<and> k = l then f (i, k) else bot) *\n         (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         if k = l\n         then (if i = l then f (i, k) else bot) *\n              (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n         else bot)\n     {k. True}", "by (rule sup_monoid.sum.cong) auto"], ["proof (state)\nthis:\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = l \\<and> k = l then f (i, k) else bot) *\n       (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n   {k. True} =\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  sup_monoid.sum\n   (\\<lambda>k.\n       if k = l\n       then (if i = l then f (i, k) else bot) *\n            (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n       else bot)\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "also"], ["proof (state)\nthis:\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = l \\<and> k = l then f (i, k) else bot) *\n       (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n   {k. True} =\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  sup_monoid.sum\n   (\\<lambda>k.\n       if k = l\n       then (if i = l then f (i, k) else bot) *\n            (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n       else bot)\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "have \"... = ([l]\\<langle>?o\\<rangle>[l]) (i,j) \\<squnion> (if i = l then f (i,l) else bot) * (if j = l then (f (l,j))\\<^sup>\\<star> else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n    sup_monoid.sum\n     (\\<lambda>k.\n         if k = l\n         then (if i = l then f (i, k) else bot) *\n              (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n         else bot)\n     {k. True} =\n    ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n    (if i = l then f (i, l) else bot) *\n    (if j = l then f (l, j)\\<^sup>\\<star> else bot)", "by simp"], ["proof (state)\nthis:\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  sup_monoid.sum\n   (\\<lambda>k.\n       if k = l\n       then (if i = l then f (i, k) else bot) *\n            (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n       else bot)\n   {k. True} =\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  (if i = l then f (i, l) else bot) *\n  (if j = l then f (l, j)\\<^sup>\\<star> else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "also"], ["proof (state)\nthis:\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  sup_monoid.sum\n   (\\<lambda>k.\n       if k = l\n       then (if i = l then f (i, k) else bot) *\n            (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n       else bot)\n   {k. True} =\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  (if i = l then f (i, l) else bot) *\n  (if j = l then f (l, j)\\<^sup>\\<star> else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "have \"... = (if i = l \\<and> j = l then 1 \\<squnion> f (l,l) * (f (l,l))\\<^sup>\\<star> else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n    (if i = l then f (i, l) else bot) *\n    (if j = l then f (l, j)\\<^sup>\\<star> else bot) =\n    (if i = l \\<and> j = l then Rf (f (l, l)) (f (l, l)\\<^sup>\\<star>)\n     else bot)", "by (simp add: restrict_singleton one_matrix_def)"], ["proof (state)\nthis:\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  (if i = l then f (i, l) else bot) *\n  (if j = l then f (l, j)\\<^sup>\\<star> else bot) =\n  (if i = l \\<and> j = l then Rf (f (l, l)) (f (l, l)\\<^sup>\\<star>)\n   else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "also"], ["proof (state)\nthis:\n  ([l] \\<langle>mone\\<rangle> [l]) (i, j) \\<squnion>\n  (if i = l then f (i, l) else bot) *\n  (if j = l then f (l, j)\\<^sup>\\<star> else bot) =\n  (if i = l \\<and> j = l then Rf (f (l, l)) (f (l, l)\\<^sup>\\<star>)\n   else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "have \"... = (if i = l \\<and> j = l then (f (l,l))\\<^sup>\\<star> else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if i = l \\<and> j = l then Rf (f (l, l)) (f (l, l)\\<^sup>\\<star>)\n     else bot) =\n    (if i = l \\<and> j = l then f (l, l)\\<^sup>\\<star> else bot)", "by (simp add: star_left_unfold_equal)"], ["proof (state)\nthis:\n  (if i = l \\<and> j = l then Rf (f (l, l)) (f (l, l)\\<^sup>\\<star>)\n   else bot) =\n  (if i = l \\<and> j = l then f (l, l)\\<^sup>\\<star> else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "also"], ["proof (state)\nthis:\n  (if i = l \\<and> j = l then Rf (f (l, l)) (f (l, l)\\<^sup>\\<star>)\n   else bot) =\n  (if i = l \\<and> j = l then f (l, l)\\<^sup>\\<star> else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "have \"... = ([l]\\<langle>star o f\\<rangle>[l]) (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if i = l \\<and> j = l then f (l, l)\\<^sup>\\<star> else bot) =\n    ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (i, j)", "by (simp add: restrict_singleton o_def)"], ["proof (state)\nthis:\n  (if i = l \\<and> j = l then f (l, l)\\<^sup>\\<star> else bot) =\n  ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b) =\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (a, b)", "finally"], ["proof (chain)\npicking this:\n  ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n   [l] \\<langle>f\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j) =\n  ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (i, j)", "show \"([l]\\<langle>?o\\<rangle>[l] \\<oplus> [l]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>star o f\\<rangle>[l]) (i,j) = ([l]\\<langle>star o f\\<rangle>[l]) (i,j)\""], ["proof (prove)\nusing this:\n  ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n   [l] \\<langle>f\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j) =\n  ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (i, j)\n\ngoal (1 subgoal):\n 1. ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n     [l] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>star \\<circ> f\\<rangle> [l])\n     (i, j) =\n    ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (i, j)", "."], ["proof (state)\nthis:\n  ([l] \\<langle>mone\\<rangle> [l] \\<oplus>\n   [l] \\<langle>f\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j) =\n  ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma restrict_all:\n  \"enum_class.enum\\<langle>f\\<rangle>enum_class.enum = f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. enum_class.enum \\<langle>f\\<rangle> enum_class.enum = f", "by (simp add: restrict_matrix_def List.member_def enum_UNIV)"], ["", "text \\<open>\nThe following shows the various components of a matrix product.\nIt is essentially a recursive implementation of the product.\n\\<close>"], ["", "lemma restrict_nonempty_product:\n  fixes f g :: \"('a::finite,'b::idempotent_semiring) square\"\n  assumes \"\\<not> List.member ls l\"\n    shows \"(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms) = ([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> ([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n    (l # ls) \\<langle>g\\<rangle> (m # ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n    (l # ls) \\<langle>g\\<rangle> (m # ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "have \"(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms) = ([k]\\<langle>f\\<rangle>[l] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<oplus> ks\\<langle>f\\<rangle>[l] \\<oplus> ks\\<langle>f\\<rangle>ls) \\<odot> ([l]\\<langle>g\\<rangle>[m] \\<oplus> [l]\\<langle>g\\<rangle>ms \\<oplus> ls\\<langle>g\\<rangle>[m] \\<oplus> ls\\<langle>g\\<rangle>ms)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n    (l # ls) \\<langle>g\\<rangle> (m # ms) =\n    ([k] \\<langle>f\\<rangle> [l] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<oplus>\n     ks \\<langle>f\\<rangle> ls) \\<odot>\n    ([l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ls \\<langle>g\\<rangle> ms)", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n  (l # ls) \\<langle>g\\<rangle> (m # ms) =\n  ([k] \\<langle>f\\<rangle> [l] \\<oplus> [k] \\<langle>f\\<rangle> ls \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<oplus>\n   ks \\<langle>f\\<rangle> ls) \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n    (l # ls) \\<langle>g\\<rangle> (m # ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "also"], ["proof (state)\nthis:\n  (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n  (l # ls) \\<langle>g\\<rangle> (m # ms) =\n  ([k] \\<langle>f\\<rangle> [l] \\<oplus> [k] \\<langle>f\\<rangle> ls \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<oplus>\n   ks \\<langle>f\\<rangle> ls) \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n    (l # ls) \\<langle>g\\<rangle> (m # ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "have \"... = [k]\\<langle>f\\<rangle>[l] \\<odot> ([l]\\<langle>g\\<rangle>[m] \\<oplus> [l]\\<langle>g\\<rangle>ms \\<oplus> ls\\<langle>g\\<rangle>[m] \\<oplus> ls\\<langle>g\\<rangle>ms) \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ([l]\\<langle>g\\<rangle>[m] \\<oplus> [l]\\<langle>g\\<rangle>ms \\<oplus> ls\\<langle>g\\<rangle>[m] \\<oplus> ls\\<langle>g\\<rangle>ms) \\<oplus> ks\\<langle>f\\<rangle>[l] \\<odot> ([l]\\<langle>g\\<rangle>[m] \\<oplus> [l]\\<langle>g\\<rangle>ms \\<oplus> ls\\<langle>g\\<rangle>[m] \\<oplus> ls\\<langle>g\\<rangle>ms) \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ([l]\\<langle>g\\<rangle>[m] \\<oplus> [l]\\<langle>g\\<rangle>ms \\<oplus> ls\\<langle>g\\<rangle>[m] \\<oplus> ls\\<langle>g\\<rangle>ms)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([k] \\<langle>f\\<rangle> [l] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<oplus>\n     ks \\<langle>f\\<rangle> ls) \\<odot>\n    ([l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ls \\<langle>g\\<rangle> ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot>\n    ([l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ls \\<langle>g\\<rangle> ms) \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot>\n    ([l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ls \\<langle>g\\<rangle> ms) \\<oplus>\n    ks \\<langle>f\\<rangle> [l] \\<odot>\n    ([l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ls \\<langle>g\\<rangle> ms) \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot>\n    ([l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ls \\<langle>g\\<rangle> ms)", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  ([k] \\<langle>f\\<rangle> [l] \\<oplus> [k] \\<langle>f\\<rangle> ls \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<oplus>\n   ks \\<langle>f\\<rangle> ls) \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) =\n  [k] \\<langle>f\\<rangle> [l] \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) \\<oplus>\n  ks \\<langle>f\\<rangle> [l] \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n    (l # ls) \\<langle>g\\<rangle> (m # ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "also"], ["proof (state)\nthis:\n  ([k] \\<langle>f\\<rangle> [l] \\<oplus> [k] \\<langle>f\\<rangle> ls \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<oplus>\n   ks \\<langle>f\\<rangle> ls) \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) =\n  [k] \\<langle>f\\<rangle> [l] \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) \\<oplus>\n  ks \\<langle>f\\<rangle> [l] \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n    (l # ls) \\<langle>g\\<rangle> (m # ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "have \"... = ([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>[l] \\<odot> ls\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>[l] \\<odot> ls\\<langle>g\\<rangle>ms) \\<oplus> ([k]\\<langle>f\\<rangle>ls \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>[l] \\<odot> ls\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>[l] \\<odot> ls\\<langle>g\\<rangle>ms) \\<oplus> (ks\\<langle>f\\<rangle>ls \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>f\\<rangle> [l] \\<odot>\n    ([l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ls \\<langle>g\\<rangle> ms) \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot>\n    ([l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ls \\<langle>g\\<rangle> ms) \\<oplus>\n    ks \\<langle>f\\<rangle> [l] \\<odot>\n    ([l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ls \\<langle>g\\<rangle> ms) \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot>\n    ([l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ls \\<langle>g\\<rangle> ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms \\<oplus>\n    ([k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "by (simp add: matrix_idempotent_semiring.mult_left_dist_sup)"], ["proof (state)\nthis:\n  [k] \\<langle>f\\<rangle> [l] \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) \\<oplus>\n  ks \\<langle>f\\<rangle> [l] \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms \\<oplus>\n  ([k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n    (l # ls) \\<langle>g\\<rangle> (m # ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "also"], ["proof (state)\nthis:\n  [k] \\<langle>f\\<rangle> [l] \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) \\<oplus>\n  ks \\<langle>f\\<rangle> [l] \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot>\n  ([l] \\<langle>g\\<rangle> [m] \\<oplus> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ls \\<langle>g\\<rangle> ms) =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms \\<oplus>\n  ([k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n    (l # ls) \\<langle>g\\<rangle> (m # ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "have \"... = ([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms) \\<oplus> ([k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms) \\<oplus> (ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms \\<oplus>\n    ([k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ([k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "using assms"], ["proof (prove)\nusing this:\n  \\<not> List.member ls l\n\ngoal (1 subgoal):\n 1. [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms \\<oplus>\n    ([k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ([k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "by (simp add: List.member_def times_disjoint)"], ["proof (state)\nthis:\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms \\<oplus>\n  ([k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ([k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n    (l # ls) \\<langle>g\\<rangle> (m # ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "also"], ["proof (state)\nthis:\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms \\<oplus>\n  ([k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ([k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n    (l # ls) \\<langle>g\\<rangle> (m # ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "have \"... = ([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> ([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ([k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "by (simp add: matrix_bounded_semilattice_sup_bot.sup_monoid.add_assoc matrix_semilattice_sup.sup_left_commute)"], ["proof (state)\nthis:\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ([k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n    (l # ls) \\<langle>g\\<rangle> (m # ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "finally"], ["proof (chain)\npicking this:\n  (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n  (l # ls) \\<langle>g\\<rangle> (m # ms) =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "show ?thesis"], ["proof (prove)\nusing this:\n  (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n  (l # ls) \\<langle>g\\<rangle> (m # ms) =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n    (l # ls) \\<langle>g\\<rangle> (m # ms) =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n    (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)", "."], ["proof (state)\nthis:\n  (k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n  (l # ls) \\<langle>g\\<rangle> (m # ms) =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]) \\<oplus>\n  (ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nEquality of matrices is componentwise.\n\\<close>"], ["", "lemma restrict_nonempty_eq:\n  \"(k#ks)\\<langle>f\\<rangle>(l#ls) = (k#ks)\\<langle>g\\<rangle>(l#ls) \\<longleftrightarrow> [k]\\<langle>f\\<rangle>[l] = [k]\\<langle>g\\<rangle>[l] \\<and> [k]\\<langle>f\\<rangle>ls = [k]\\<langle>g\\<rangle>ls \\<and> ks\\<langle>f\\<rangle>[l] = ks\\<langle>g\\<rangle>[l] \\<and> ks\\<langle>f\\<rangle>ls = ks\\<langle>g\\<rangle>ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) =\n     (k # ks) \\<langle>g\\<rangle> (l # ls)) =\n    ([k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n     [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n     ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n     ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) =\n    (k # ks) \\<langle>g\\<rangle> (l # ls) \\<Longrightarrow>\n    [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls\n 2. [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls \\<Longrightarrow>\n    (k # ks) \\<langle>f\\<rangle> (l # ls) =\n    (k # ks) \\<langle>g\\<rangle> (l # ls)", "assume 1: \"(k#ks)\\<langle>f\\<rangle>(l#ls) = (k#ks)\\<langle>g\\<rangle>(l#ls)\""], ["proof (state)\nthis:\n  (k # ks) \\<langle>f\\<rangle> (l # ls) =\n  (k # ks) \\<langle>g\\<rangle> (l # ls)\n\ngoal (2 subgoals):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) =\n    (k # ks) \\<langle>g\\<rangle> (l # ls) \\<Longrightarrow>\n    [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls\n 2. [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls \\<Longrightarrow>\n    (k # ks) \\<langle>f\\<rangle> (l # ls) =\n    (k # ks) \\<langle>g\\<rangle> (l # ls)", "have 2: \"is_sublist [k] (k#ks) \\<and> is_sublist ks (k#ks) \\<and> is_sublist [l] (l#ls) \\<and> is_sublist ls (l#ls)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_sublist [k] (k # ks) \\<and>\n    is_sublist ks (k # ks) \\<and>\n    is_sublist [l] (l # ls) \\<and> is_sublist ls (l # ls)", "by (simp add: member_rec)"], ["proof (state)\nthis:\n  is_sublist [k] (k # ks) \\<and>\n  is_sublist ks (k # ks) \\<and>\n  is_sublist [l] (l # ls) \\<and> is_sublist ls (l # ls)\n\ngoal (2 subgoals):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) =\n    (k # ks) \\<langle>g\\<rangle> (l # ls) \\<Longrightarrow>\n    [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls\n 2. [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls \\<Longrightarrow>\n    (k # ks) \\<langle>f\\<rangle> (l # ls) =\n    (k # ks) \\<langle>g\\<rangle> (l # ls)", "hence \"[k]\\<langle>f\\<rangle>[l] = [k]\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls)\\<rangle>[l] \\<and> [k]\\<langle>f\\<rangle>ls = [k]\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls)\\<rangle>ls \\<and> ks\\<langle>f\\<rangle>[l] = ks\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls)\\<rangle>[l] \\<and> ks\\<langle>f\\<rangle>ls = ks\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls)\\<rangle>ls\""], ["proof (prove)\nusing this:\n  is_sublist [k] (k # ks) \\<and>\n  is_sublist ks (k # ks) \\<and>\n  is_sublist [l] (l # ls) \\<and> is_sublist ls (l # ls)\n\ngoal (1 subgoal):\n 1. [k] \\<langle>f\\<rangle> [l] =\n    [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls =\n    [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] =\n    ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls =\n    ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> ls", "by (simp add: restrict_sublist)"], ["proof (state)\nthis:\n  [k] \\<langle>f\\<rangle> [l] =\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> [l] \\<and>\n  [k] \\<langle>f\\<rangle> ls =\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> ls \\<and>\n  ks \\<langle>f\\<rangle> [l] =\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> [l] \\<and>\n  ks \\<langle>f\\<rangle> ls =\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> ls\n\ngoal (2 subgoals):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) =\n    (k # ks) \\<langle>g\\<rangle> (l # ls) \\<Longrightarrow>\n    [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls\n 2. [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls \\<Longrightarrow>\n    (k # ks) \\<langle>f\\<rangle> (l # ls) =\n    (k # ks) \\<langle>g\\<rangle> (l # ls)", "thus \"[k]\\<langle>f\\<rangle>[l] = [k]\\<langle>g\\<rangle>[l] \\<and> [k]\\<langle>f\\<rangle>ls = [k]\\<langle>g\\<rangle>ls \\<and> ks\\<langle>f\\<rangle>[l] = ks\\<langle>g\\<rangle>[l] \\<and> ks\\<langle>f\\<rangle>ls = ks\\<langle>g\\<rangle>ls\""], ["proof (prove)\nusing this:\n  [k] \\<langle>f\\<rangle> [l] =\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> [l] \\<and>\n  [k] \\<langle>f\\<rangle> ls =\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> ls \\<and>\n  ks \\<langle>f\\<rangle> [l] =\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> [l] \\<and>\n  ks \\<langle>f\\<rangle> ls =\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> ls\n\ngoal (1 subgoal):\n 1. [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls", "using 1 2"], ["proof (prove)\nusing this:\n  [k] \\<langle>f\\<rangle> [l] =\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> [l] \\<and>\n  [k] \\<langle>f\\<rangle> ls =\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> ls \\<and>\n  ks \\<langle>f\\<rangle> [l] =\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> [l] \\<and>\n  ks \\<langle>f\\<rangle> ls =\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls)\\<rangle> ls\n  (k # ks) \\<langle>f\\<rangle> (l # ls) =\n  (k # ks) \\<langle>g\\<rangle> (l # ls)\n  is_sublist [k] (k # ks) \\<and>\n  is_sublist ks (k # ks) \\<and>\n  is_sublist [l] (l # ls) \\<and> is_sublist ls (l # ls)\n\ngoal (1 subgoal):\n 1. [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls", "by (simp add: restrict_sublist)"], ["proof (state)\nthis:\n  [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n  [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n  ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n  ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls\n\ngoal (1 subgoal):\n 1. [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls \\<Longrightarrow>\n    (k # ks) \\<langle>f\\<rangle> (l # ls) =\n    (k # ks) \\<langle>g\\<rangle> (l # ls)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls \\<Longrightarrow>\n    (k # ks) \\<langle>f\\<rangle> (l # ls) =\n    (k # ks) \\<langle>g\\<rangle> (l # ls)", "assume 3: \"[k]\\<langle>f\\<rangle>[l] = [k]\\<langle>g\\<rangle>[l] \\<and> [k]\\<langle>f\\<rangle>ls = [k]\\<langle>g\\<rangle>ls \\<and> ks\\<langle>f\\<rangle>[l] = ks\\<langle>g\\<rangle>[l] \\<and> ks\\<langle>f\\<rangle>ls = ks\\<langle>g\\<rangle>ls\""], ["proof (state)\nthis:\n  [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n  [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n  ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n  ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls\n\ngoal (1 subgoal):\n 1. [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n    [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n    ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n    ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls \\<Longrightarrow>\n    (k # ks) \\<langle>f\\<rangle> (l # ls) =\n    (k # ks) \\<langle>g\\<rangle> (l # ls)", "show \"(k#ks)\\<langle>f\\<rangle>(l#ls) = (k#ks)\\<langle>g\\<rangle>(l#ls)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # ks) \\<langle>f\\<rangle> (l # ls) =\n    (k # ks) \\<langle>g\\<rangle> (l # ls)", "proof (rule ext, rule prod_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "have 4: \"f (k,l) = g (k,l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (k, l) = g (k, l)", "using 3"], ["proof (prove)\nusing this:\n  [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n  [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n  ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n  ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls\n\ngoal (1 subgoal):\n 1. f (k, l) = g (k, l)", "by (metis restrict_singleton)"], ["proof (state)\nthis:\n  f (k, l) = g (k, l)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "have 5: \"List.member ls j \\<Longrightarrow> f (k,j) = g (k,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. List.member ls j \\<Longrightarrow> f (k, j) = g (k, j)", "using 3"], ["proof (prove)\nusing this:\n  [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n  [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n  ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n  ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls\n\ngoal (1 subgoal):\n 1. List.member ls j \\<Longrightarrow> f (k, j) = g (k, j)", "by (metis restrict_singleton_list)"], ["proof (state)\nthis:\n  List.member ls j \\<Longrightarrow> f (k, j) = g (k, j)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "have 6: \"List.member ks i \\<Longrightarrow> f (i,l) = g (i,l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. List.member ks i \\<Longrightarrow> f (i, l) = g (i, l)", "using 3"], ["proof (prove)\nusing this:\n  [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n  [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n  ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n  ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls\n\ngoal (1 subgoal):\n 1. List.member ks i \\<Longrightarrow> f (i, l) = g (i, l)", "by (metis restrict_list_singleton)"], ["proof (state)\nthis:\n  List.member ks i \\<Longrightarrow> f (i, l) = g (i, l)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "have \"(ks\\<langle>f\\<rangle>ls) (i,j) = (ks\\<langle>g\\<rangle>ls) (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ks \\<langle>f\\<rangle> ls) (i, j) = (ks \\<langle>g\\<rangle> ls) (i, j)", "using 3"], ["proof (prove)\nusing this:\n  [k] \\<langle>f\\<rangle> [l] = [k] \\<langle>g\\<rangle> [l] \\<and>\n  [k] \\<langle>f\\<rangle> ls = [k] \\<langle>g\\<rangle> ls \\<and>\n  ks \\<langle>f\\<rangle> [l] = ks \\<langle>g\\<rangle> [l] \\<and>\n  ks \\<langle>f\\<rangle> ls = ks \\<langle>g\\<rangle> ls\n\ngoal (1 subgoal):\n 1. (ks \\<langle>f\\<rangle> ls) (i, j) = (ks \\<langle>g\\<rangle> ls) (i, j)", "by simp"], ["proof (state)\nthis:\n  (ks \\<langle>f\\<rangle> ls) (i, j) = (ks \\<langle>g\\<rangle> ls) (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "hence 7: \"List.member ks i \\<Longrightarrow> List.member ls j \\<Longrightarrow> f (i,j) = g (i,j)\""], ["proof (prove)\nusing this:\n  (ks \\<langle>f\\<rangle> ls) (i, j) = (ks \\<langle>g\\<rangle> ls) (i, j)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>List.member ks i; List.member ls j\\<rbrakk>\n    \\<Longrightarrow> f (i, j) = g (i, j)", "by (simp add: restrict_matrix_def)"], ["proof (state)\nthis:\n  \\<lbrakk>List.member ks i; List.member ls j\\<rbrakk>\n  \\<Longrightarrow> f (i, j) = g (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "have \"((k#ks)\\<langle>f\\<rangle>(l#ls)) (i,j) = (if (i = k \\<or> List.member ks i) \\<and> (j = l \\<or> List.member ls j) then f (i,j) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls)) (i, j) =\n    (if (i = k \\<or> List.member ks i) \\<and> (j = l \\<or> List.member ls j)\n     then f (i, j) else bot)", "by (simp add: restrict_matrix_def List.member_def)"], ["proof (state)\nthis:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls)) (i, j) =\n  (if (i = k \\<or> List.member ks i) \\<and> (j = l \\<or> List.member ls j)\n   then f (i, j) else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "also"], ["proof (state)\nthis:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls)) (i, j) =\n  (if (i = k \\<or> List.member ks i) \\<and> (j = l \\<or> List.member ls j)\n   then f (i, j) else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "have \"... = (if i = k \\<and> j = l then f (i,j) else if i = k \\<and> List.member ls j then f (i,j) else if List.member ks i \\<and> j = l then f (i,j) else if List.member ks i \\<and> List.member ls j then f (i,j) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if (i = k \\<or> List.member ks i) \\<and> (j = l \\<or> List.member ls j)\n     then f (i, j) else bot) =\n    (if i = k \\<and> j = l then f (i, j)\n     else if i = k \\<and> List.member ls j then f (i, j)\n          else if List.member ks i \\<and> j = l then f (i, j)\n               else if List.member ks i \\<and> List.member ls j\n                    then f (i, j) else bot)", "by auto"], ["proof (state)\nthis:\n  (if (i = k \\<or> List.member ks i) \\<and> (j = l \\<or> List.member ls j)\n   then f (i, j) else bot) =\n  (if i = k \\<and> j = l then f (i, j)\n   else if i = k \\<and> List.member ls j then f (i, j)\n        else if List.member ks i \\<and> j = l then f (i, j)\n             else if List.member ks i \\<and> List.member ls j then f (i, j)\n                  else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "also"], ["proof (state)\nthis:\n  (if (i = k \\<or> List.member ks i) \\<and> (j = l \\<or> List.member ls j)\n   then f (i, j) else bot) =\n  (if i = k \\<and> j = l then f (i, j)\n   else if i = k \\<and> List.member ls j then f (i, j)\n        else if List.member ks i \\<and> j = l then f (i, j)\n             else if List.member ks i \\<and> List.member ls j then f (i, j)\n                  else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "have \"... = (if i = k \\<and> j = l then g (i,j) else if i = k \\<and> List.member ls j then g (i,j) else if List.member ks i \\<and> j = l then g (i,j) else if List.member ks i \\<and> List.member ls j then g (i,j) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if i = k \\<and> j = l then f (i, j)\n     else if i = k \\<and> List.member ls j then f (i, j)\n          else if List.member ks i \\<and> j = l then f (i, j)\n               else if List.member ks i \\<and> List.member ls j\n                    then f (i, j) else bot) =\n    (if i = k \\<and> j = l then g (i, j)\n     else if i = k \\<and> List.member ls j then g (i, j)\n          else if List.member ks i \\<and> j = l then g (i, j)\n               else if List.member ks i \\<and> List.member ls j\n                    then g (i, j) else bot)", "using 4 5 6 7"], ["proof (prove)\nusing this:\n  f (k, l) = g (k, l)\n  List.member ls j \\<Longrightarrow> f (k, j) = g (k, j)\n  List.member ks i \\<Longrightarrow> f (i, l) = g (i, l)\n  \\<lbrakk>List.member ks i; List.member ls j\\<rbrakk>\n  \\<Longrightarrow> f (i, j) = g (i, j)\n\ngoal (1 subgoal):\n 1. (if i = k \\<and> j = l then f (i, j)\n     else if i = k \\<and> List.member ls j then f (i, j)\n          else if List.member ks i \\<and> j = l then f (i, j)\n               else if List.member ks i \\<and> List.member ls j\n                    then f (i, j) else bot) =\n    (if i = k \\<and> j = l then g (i, j)\n     else if i = k \\<and> List.member ls j then g (i, j)\n          else if List.member ks i \\<and> j = l then g (i, j)\n               else if List.member ks i \\<and> List.member ls j\n                    then g (i, j) else bot)", "by simp"], ["proof (state)\nthis:\n  (if i = k \\<and> j = l then f (i, j)\n   else if i = k \\<and> List.member ls j then f (i, j)\n        else if List.member ks i \\<and> j = l then f (i, j)\n             else if List.member ks i \\<and> List.member ls j then f (i, j)\n                  else bot) =\n  (if i = k \\<and> j = l then g (i, j)\n   else if i = k \\<and> List.member ls j then g (i, j)\n        else if List.member ks i \\<and> j = l then g (i, j)\n             else if List.member ks i \\<and> List.member ls j then g (i, j)\n                  else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "also"], ["proof (state)\nthis:\n  (if i = k \\<and> j = l then f (i, j)\n   else if i = k \\<and> List.member ls j then f (i, j)\n        else if List.member ks i \\<and> j = l then f (i, j)\n             else if List.member ks i \\<and> List.member ls j then f (i, j)\n                  else bot) =\n  (if i = k \\<and> j = l then g (i, j)\n   else if i = k \\<and> List.member ls j then g (i, j)\n        else if List.member ks i \\<and> j = l then g (i, j)\n             else if List.member ks i \\<and> List.member ls j then g (i, j)\n                  else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "have \"... = (if (i = k \\<or> List.member ks i) \\<and> (j = l \\<or> List.member ls j) then g (i,j) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if i = k \\<and> j = l then g (i, j)\n     else if i = k \\<and> List.member ls j then g (i, j)\n          else if List.member ks i \\<and> j = l then g (i, j)\n               else if List.member ks i \\<and> List.member ls j\n                    then g (i, j) else bot) =\n    (if (i = k \\<or> List.member ks i) \\<and> (j = l \\<or> List.member ls j)\n     then g (i, j) else bot)", "by auto"], ["proof (state)\nthis:\n  (if i = k \\<and> j = l then g (i, j)\n   else if i = k \\<and> List.member ls j then g (i, j)\n        else if List.member ks i \\<and> j = l then g (i, j)\n             else if List.member ks i \\<and> List.member ls j then g (i, j)\n                  else bot) =\n  (if (i = k \\<or> List.member ks i) \\<and> (j = l \\<or> List.member ls j)\n   then g (i, j) else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "also"], ["proof (state)\nthis:\n  (if i = k \\<and> j = l then g (i, j)\n   else if i = k \\<and> List.member ls j then g (i, j)\n        else if List.member ks i \\<and> j = l then g (i, j)\n             else if List.member ks i \\<and> List.member ls j then g (i, j)\n                  else bot) =\n  (if (i = k \\<or> List.member ks i) \\<and> (j = l \\<or> List.member ls j)\n   then g (i, j) else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "have \"... = ((k#ks)\\<langle>g\\<rangle>(l#ls)) (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if (i = k \\<or> List.member ks i) \\<and> (j = l \\<or> List.member ls j)\n     then g (i, j) else bot) =\n    ((k # ks) \\<langle>g\\<rangle> (l # ls)) (i, j)", "by (simp add: restrict_matrix_def List.member_def)"], ["proof (state)\nthis:\n  (if (i = k \\<or> List.member ks i) \\<and> (j = l \\<or> List.member ls j)\n   then g (i, j) else bot) =\n  ((k # ks) \\<langle>g\\<rangle> (l # ls)) (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       ((k # ks) \\<langle>f\\<rangle> (l # ls)) (a, b) =\n       ((k # ks) \\<langle>g\\<rangle> (l # ls)) (a, b)", "finally"], ["proof (chain)\npicking this:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls)) (i, j) =\n  ((k # ks) \\<langle>g\\<rangle> (l # ls)) (i, j)", "show \"((k#ks)\\<langle>f\\<rangle>(l#ls)) (i,j) = ((k#ks)\\<langle>g\\<rangle>(l#ls)) (i,j)\""], ["proof (prove)\nusing this:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls)) (i, j) =\n  ((k # ks) \\<langle>g\\<rangle> (l # ls)) (i, j)\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls)) (i, j) =\n    ((k # ks) \\<langle>g\\<rangle> (l # ls)) (i, j)", "."], ["proof (state)\nthis:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls)) (i, j) =\n  ((k # ks) \\<langle>g\\<rangle> (l # ls)) (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (k # ks) \\<langle>f\\<rangle> (l # ls) =\n  (k # ks) \\<langle>g\\<rangle> (l # ls)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nInequality of matrices is componentwise.\n\\<close>"], ["", "lemma restrict_nonempty_less_eq:\n  fixes f g :: \"('a,'b::idempotent_semiring) square\"\n  shows \"(k#ks)\\<langle>f\\<rangle>(l#ls) \\<preceq> (k#ks)\\<langle>g\\<rangle>(l#ls) \\<longleftrightarrow> [k]\\<langle>f\\<rangle>[l] \\<preceq> [k]\\<langle>g\\<rangle>[l] \\<and> [k]\\<langle>f\\<rangle>ls \\<preceq> [k]\\<langle>g\\<rangle>ls \\<and> ks\\<langle>f\\<rangle>[l] \\<preceq> ks\\<langle>g\\<rangle>[l] \\<and> ks\\<langle>f\\<rangle>ls \\<preceq> ks\\<langle>g\\<rangle>ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<preceq>\n     (k # ks) \\<langle>g\\<rangle> (l # ls)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<preceq>\n     [k] \\<langle>g\\<rangle> [l] \\<and>\n     [k] \\<langle>f\\<rangle> ls \\<preceq> [k] \\<langle>g\\<rangle> ls \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<preceq> ks \\<langle>g\\<rangle> [l] \\<and>\n     ks \\<langle>f\\<rangle> ls \\<preceq> ks \\<langle>g\\<rangle> ls)", "by (unfold matrix_semilattice_sup.sup.order_iff) (metis (no_types, lifting) restrict_nonempty_eq restrict_sup)"], ["", "text \\<open>\nThe following lemmas treat repeated restrictions to disjoint index sets.\n\\<close>"], ["", "lemma restrict_disjoint_left:\n  assumes \"disjoint ks ms\"\n    shows \"ms\\<langle>ks\\<langle>f\\<rangle>ls\\<rangle>ns = mbot\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns = mbot", "proof (rule ext, rule prod_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (a, b) =\n       mbot (a, b)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (a, b) =\n       mbot (a, b)", "have \"(ms\\<langle>ks\\<langle>f\\<rangle>ls\\<rangle>ns) (i,j) = (if List.member ms i \\<and> List.member ns j then if List.member ks i \\<and> List.member ls j then f (i,j) else bot else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) =\n    (if List.member ms i \\<and> List.member ns j\n     then if List.member ks i \\<and> List.member ls j then f (i, j) else bot\n     else bot)", "by (simp add: restrict_matrix_def)"], ["proof (state)\nthis:\n  (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) =\n  (if List.member ms i \\<and> List.member ns j\n   then if List.member ks i \\<and> List.member ls j then f (i, j) else bot\n   else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (a, b) =\n       mbot (a, b)", "thus \"(ms\\<langle>ks\\<langle>f\\<rangle>ls\\<rangle>ns) (i,j) = mbot (i,j)\""], ["proof (prove)\nusing this:\n  (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) =\n  (if List.member ms i \\<and> List.member ns j\n   then if List.member ks i \\<and> List.member ls j then f (i, j) else bot\n   else bot)\n\ngoal (1 subgoal):\n 1. (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) = mbot (i, j)", "using assms"], ["proof (prove)\nusing this:\n  (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) =\n  (if List.member ms i \\<and> List.member ns j\n   then if List.member ks i \\<and> List.member ls j then f (i, j) else bot\n   else bot)\n  disjoint ks ms\n\ngoal (1 subgoal):\n 1. (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) = mbot (i, j)", "by (simp add: bot_matrix_def)"], ["proof (state)\nthis:\n  (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) = mbot (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma restrict_disjoint_right:\n  assumes \"disjoint ls ns\"\n    shows \"ms\\<langle>ks\\<langle>f\\<rangle>ls\\<rangle>ns = mbot\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns = mbot", "proof (rule ext, rule prod_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (a, b) =\n       mbot (a, b)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (a, b) =\n       mbot (a, b)", "have \"(ms\\<langle>ks\\<langle>f\\<rangle>ls\\<rangle>ns) (i,j) = (if List.member ms i \\<and> List.member ns j then if List.member ks i \\<and> List.member ls j then f (i,j) else bot else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) =\n    (if List.member ms i \\<and> List.member ns j\n     then if List.member ks i \\<and> List.member ls j then f (i, j) else bot\n     else bot)", "by (simp add: restrict_matrix_def)"], ["proof (state)\nthis:\n  (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) =\n  (if List.member ms i \\<and> List.member ns j\n   then if List.member ks i \\<and> List.member ls j then f (i, j) else bot\n   else bot)\n\ngoal (1 subgoal):\n 1. \\<And>x a b.\n       (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (a, b) =\n       mbot (a, b)", "thus \"(ms\\<langle>ks\\<langle>f\\<rangle>ls\\<rangle>ns) (i,j) = mbot (i,j)\""], ["proof (prove)\nusing this:\n  (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) =\n  (if List.member ms i \\<and> List.member ns j\n   then if List.member ks i \\<and> List.member ls j then f (i, j) else bot\n   else bot)\n\ngoal (1 subgoal):\n 1. (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) = mbot (i, j)", "using assms"], ["proof (prove)\nusing this:\n  (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) =\n  (if List.member ms i \\<and> List.member ns j\n   then if List.member ks i \\<and> List.member ls j then f (i, j) else bot\n   else bot)\n  disjoint ls ns\n\ngoal (1 subgoal):\n 1. (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) = mbot (i, j)", "by (simp add: bot_matrix_def)"], ["proof (state)\nthis:\n  (ms \\<langle>ks \\<langle>f\\<rangle> ls\\<rangle> ns) (i, j) = mbot (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nThe following lemma expresses the equality of a matrix and a product of two matrices componentwise.\n\\<close>"], ["", "lemma restrict_nonempty_product_eq:\n  fixes f g h :: \"('a::finite,'b::idempotent_semiring) square\"\n  assumes \"\\<not> List.member ks k\"\n      and \"\\<not> List.member ls l\"\n      and \"\\<not> List.member ms m\"\n    shows \"(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms) = (k#ks)\\<langle>h\\<rangle>(m#ms) \\<longleftrightarrow> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] = [k]\\<langle>h\\<rangle>[m] \\<and> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms = [k]\\<langle>h\\<rangle>ms \\<and> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] = ks\\<langle>h\\<rangle>[m] \\<and> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms = ks\\<langle>h\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "have 1: \"disjoint [k] ks \\<and> disjoint [m] ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disjoint [k] ks \\<and> disjoint [m] ms", "by (simp add: assms(1,3) member_rec)"], ["proof (state)\nthis:\n  disjoint [k] ks \\<and> disjoint [m] ms\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "have 2: \"[k]\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>[m] = [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "have \"[k]\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>[m] = [k]\\<langle>([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> ([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms)\\<rangle>[m]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                 [k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m] \\<oplus>\n                 ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                  [l] \\<langle>g\\<rangle> ms \\<oplus>\n                  [k] \\<langle>f\\<rangle> ls \\<odot>\n                  ls \\<langle>g\\<rangle> ms) \\<oplus>\n                 (ks \\<langle>f\\<rangle> [l] \\<odot>\n                  [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                  ks \\<langle>f\\<rangle> ls \\<odot>\n                  ls \\<langle>g\\<rangle> [m]) \\<oplus>\n                 (ks \\<langle>f\\<rangle> [l] \\<odot>\n                  [l] \\<langle>g\\<rangle> ms \\<oplus>\n                  ks \\<langle>f\\<rangle> ls \\<odot>\n                  ls \\<langle>g\\<rangle> ms)\\<rangle> [m]", "by (simp add: assms(2) restrict_nonempty_product)"], ["proof (state)\nthis:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m] \\<oplus>\n               ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                [k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms)\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "also"], ["proof (state)\nthis:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m] \\<oplus>\n               ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                [k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms)\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "have \"... = [k]\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>[m] \\<oplus> [k]\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>[m] \\<oplus> [k]\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>[m] \\<oplus> [k]\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>[m] \\<oplus> [k]\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>[m] \\<oplus> [k]\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>[m] \\<oplus> [k]\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>[m] \\<oplus> [k]\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>[m]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                 [k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m] \\<oplus>\n                 ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                  [l] \\<langle>g\\<rangle> ms \\<oplus>\n                  [k] \\<langle>f\\<rangle> ls \\<odot>\n                  ls \\<langle>g\\<rangle> ms) \\<oplus>\n                 (ks \\<langle>f\\<rangle> [l] \\<odot>\n                  [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                  ks \\<langle>f\\<rangle> ls \\<odot>\n                  ls \\<langle>g\\<rangle> [m]) \\<oplus>\n                 (ks \\<langle>f\\<rangle> [l] \\<odot>\n                  [l] \\<langle>g\\<rangle> ms \\<oplus>\n                  ks \\<langle>f\\<rangle> ls \\<odot>\n                  ls \\<langle>g\\<rangle> ms)\\<rangle> [m] =\n    [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms\\<rangle> [m]", "by (simp add: matrix_bounded_semilattice_sup_bot.sup_monoid.add_assoc restrict_sup)"], ["proof (state)\nthis:\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m] \\<oplus>\n               ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                [k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms)\\<rangle> [m] =\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "also"], ["proof (state)\nthis:\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m] \\<oplus>\n               ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                [k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms)\\<rangle> [m] =\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "have \"... = [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>[k]\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>ms\\<rangle>[m] \\<oplus> [k]\\<langle>[k]\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>ms\\<rangle>[m] \\<oplus> [k]\\<langle>ks\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>[m]\\<rangle>[m] \\<oplus> [k]\\<langle>ks\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>[m]\\<rangle>[m] \\<oplus> [k]\\<langle>ks\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>ms\\<rangle>[m] \\<oplus> [k]\\<langle>ks\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>ms\\<rangle>[m]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                              [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                              ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m]", "by (simp add: restrict_times)"], ["proof (state)\nthis:\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> [m] =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                            [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                            ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "also"], ["proof (state)\nthis:\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> [m] =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                            [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                            ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "have \"... = [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                              [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                              ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "using 1"], ["proof (prove)\nusing this:\n  disjoint [k] ks \\<and> disjoint [m] ms\n\ngoal (1 subgoal):\n 1. [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                              [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                              ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "by (metis restrict_disjoint_left restrict_disjoint_right matrix_bounded_semilattice_sup_bot.sup_monoid.add_0_right)"], ["proof (state)\nthis:\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                            [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                            ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "finally"], ["proof (chain)\npicking this:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "show ?thesis"], ["proof (prove)\nusing this:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "."], ["proof (state)\nthis:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "have 3: \"[k]\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>ms = [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "have \"[k]\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>ms = [k]\\<langle>([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> ([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms)\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                 [k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m] \\<oplus>\n                 ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                  [l] \\<langle>g\\<rangle> ms \\<oplus>\n                  [k] \\<langle>f\\<rangle> ls \\<odot>\n                  ls \\<langle>g\\<rangle> ms) \\<oplus>\n                 (ks \\<langle>f\\<rangle> [l] \\<odot>\n                  [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                  ks \\<langle>f\\<rangle> ls \\<odot>\n                  ls \\<langle>g\\<rangle> [m]) \\<oplus>\n                 (ks \\<langle>f\\<rangle> [l] \\<odot>\n                  [l] \\<langle>g\\<rangle> ms \\<oplus>\n                  ks \\<langle>f\\<rangle> ls \\<odot>\n                  ls \\<langle>g\\<rangle> ms)\\<rangle> ms", "by (simp add: assms(2) restrict_nonempty_product)"], ["proof (state)\nthis:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m] \\<oplus>\n               ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                [k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms)\\<rangle> ms\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "also"], ["proof (state)\nthis:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m] \\<oplus>\n               ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                [k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms)\\<rangle> ms\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "have \"... = [k]\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>ms \\<oplus> [k]\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>ms \\<oplus> [k]\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>ms \\<oplus> [k]\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>ms \\<oplus> [k]\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>ms \\<oplus> [k]\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>ms \\<oplus> [k]\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>ms \\<oplus> [k]\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                 [k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m] \\<oplus>\n                 ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                  [l] \\<langle>g\\<rangle> ms \\<oplus>\n                  [k] \\<langle>f\\<rangle> ls \\<odot>\n                  ls \\<langle>g\\<rangle> ms) \\<oplus>\n                 (ks \\<langle>f\\<rangle> [l] \\<odot>\n                  [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                  ks \\<langle>f\\<rangle> ls \\<odot>\n                  ls \\<langle>g\\<rangle> [m]) \\<oplus>\n                 (ks \\<langle>f\\<rangle> [l] \\<odot>\n                  [l] \\<langle>g\\<rangle> ms \\<oplus>\n                  ks \\<langle>f\\<rangle> ls \\<odot>\n                  ls \\<langle>g\\<rangle> ms)\\<rangle> ms =\n    [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n    [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms\\<rangle> ms", "by (simp add: matrix_bounded_semilattice_sup_bot.sup_monoid.add_assoc restrict_sup)"], ["proof (state)\nthis:\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m] \\<oplus>\n               ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                [k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms)\\<rangle> ms =\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> ms\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "also"], ["proof (state)\nthis:\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m] \\<oplus>\n               ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                [k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]) \\<oplus>\n               (ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms \\<oplus>\n                ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms)\\<rangle> ms =\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> ms\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "have \"... = [k]\\<langle>[k]\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>[m]\\<rangle>ms \\<oplus> [k]\\<langle>[k]\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>[m]\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>ks\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>[m]\\<rangle>ms \\<oplus> [k]\\<langle>ks\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>[m]\\<rangle>ms \\<oplus> [k]\\<langle>ks\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>ms\\<rangle>ms \\<oplus> [k]\\<langle>ks\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>ms\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n    [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms\\<rangle> ms =\n    [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                              [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                              ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms", "by (simp add: restrict_times)"], ["proof (state)\nthis:\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> ms =\n  [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                            [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                            ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "also"], ["proof (state)\nthis:\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms\\<rangle> ms =\n  [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                            [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                            ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "have \"... = [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                              [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                              ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "using 1"], ["proof (prove)\nusing this:\n  disjoint [k] ks \\<and> disjoint [m] ms\n\ngoal (1 subgoal):\n 1. [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                              [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                              ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n    [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "by (metis restrict_disjoint_left restrict_disjoint_right matrix_bounded_semilattice_sup_bot.sup_monoid.add_0_right matrix_bounded_semilattice_sup_bot.sup_monoid.add_0_left)"], ["proof (state)\nthis:\n  [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                            [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                            ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n  [k] \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "finally"], ["proof (chain)\npicking this:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "show ?thesis"], ["proof (prove)\nusing this:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "."], ["proof (state)\nthis:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "have 4: \"ks\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>[m] = ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "have \"ks\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>[m] = ks\\<langle>([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> ([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms)\\<rangle>[m]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                [k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m] \\<oplus>\n                ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<oplus>\n                 [k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms) \\<oplus>\n                (ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                 ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m]) \\<oplus>\n                (ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<oplus>\n                 ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms)\\<rangle> [m]", "by (simp add: assms(2) restrict_nonempty_product)"], ["proof (state)\nthis:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m] \\<oplus>\n              [k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m] \\<oplus>\n              ([k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms)\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "also"], ["proof (state)\nthis:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m] \\<oplus>\n              [k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m] \\<oplus>\n              ([k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms)\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "have \"... = ks\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>[m] \\<oplus> ks\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>[m] \\<oplus> ks\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>[m] \\<oplus> ks\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>[m] \\<oplus> ks\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>[m] \\<oplus> ks\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>[m] \\<oplus> ks\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>[m] \\<oplus> ks\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>[m]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                [k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m] \\<oplus>\n                ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<oplus>\n                 [k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms) \\<oplus>\n                (ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                 ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m]) \\<oplus>\n                (ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<oplus>\n                 ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms)\\<rangle> [m] =\n    ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms\\<rangle> [m]", "by (simp add: matrix_bounded_semilattice_sup_bot.sup_monoid.add_assoc restrict_sup)"], ["proof (state)\nthis:\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m] \\<oplus>\n              [k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m] \\<oplus>\n              ([k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms)\\<rangle> [m] =\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "also"], ["proof (state)\nthis:\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m] \\<oplus>\n              [k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m] \\<oplus>\n              ([k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms)\\<rangle> [m] =\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "have \"... = ks\\<langle>[k]\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>[m]\\<rangle>[m] \\<oplus> ks\\<langle>[k]\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>[m]\\<rangle>[m] \\<oplus> ks\\<langle>[k]\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>ms\\<rangle>[m] \\<oplus> ks\\<langle>[k]\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>ms\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>ks\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>ms\\<rangle>[m] \\<oplus> ks\\<langle>ks\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>ms\\<rangle>[m]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms\\<rangle> [m] =\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                            [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                            ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m]", "by (simp add: restrict_times)"], ["proof (state)\nthis:\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> [m] =\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                          [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                          ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "also"], ["proof (state)\nthis:\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> [m] =\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                          [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                          ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "have \"... = ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                            [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                            ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "using 1"], ["proof (prove)\nusing this:\n  disjoint [k] ks \\<and> disjoint [m] ms\n\ngoal (1 subgoal):\n 1. ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                            [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n    ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                            ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "by (metis restrict_disjoint_left restrict_disjoint_right matrix_bounded_semilattice_sup_bot.sup_monoid.add_0_right matrix_bounded_semilattice_sup_bot.sup_monoid.add_0_left)"], ["proof (state)\nthis:\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                          [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] \\<oplus>\n  ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                          ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> [m] =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "finally"], ["proof (chain)\npicking this:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "show ?thesis"], ["proof (prove)\nusing this:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "."], ["proof (state)\nthis:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "have 5: \"ks\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>ms = ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "have \"ks\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>ms = ks\\<langle>([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> ([k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]) \\<oplus> (ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms)\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                [k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m] \\<oplus>\n                ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<oplus>\n                 [k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms) \\<oplus>\n                (ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                 ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m]) \\<oplus>\n                (ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<oplus>\n                 ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms)\\<rangle> ms", "by (simp add: assms(2) restrict_nonempty_product)"], ["proof (state)\nthis:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m] \\<oplus>\n              [k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m] \\<oplus>\n              ([k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms)\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "also"], ["proof (state)\nthis:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m] \\<oplus>\n              [k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m] \\<oplus>\n              ([k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms)\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "have \"... = ks\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>ms \\<oplus> ks\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>ms \\<oplus> ks\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>ms \\<oplus> ks\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>ms \\<oplus> ks\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>ms \\<oplus> ks\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>ms \\<oplus> ks\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>ms \\<oplus> ks\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                [k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m] \\<oplus>\n                ([k] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<oplus>\n                 [k] \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms) \\<oplus>\n                (ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> [m] \\<oplus>\n                 ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> [m]) \\<oplus>\n                (ks \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<oplus>\n                 ks \\<langle>f\\<rangle> ls \\<odot>\n                 ls \\<langle>g\\<rangle> ms)\\<rangle> ms =\n    ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms\\<rangle> ms", "by (simp add: matrix_bounded_semilattice_sup_bot.sup_monoid.add_assoc restrict_sup)"], ["proof (state)\nthis:\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m] \\<oplus>\n              [k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m] \\<oplus>\n              ([k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms)\\<rangle> ms =\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "also"], ["proof (state)\nthis:\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m] \\<oplus>\n              [k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m] \\<oplus>\n              ([k] \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               [k] \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> [m] \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> [m]) \\<oplus>\n              (ks \\<langle>f\\<rangle> [l] \\<odot>\n               [l] \\<langle>g\\<rangle> ms \\<oplus>\n               ks \\<langle>f\\<rangle> ls \\<odot>\n               ls \\<langle>g\\<rangle> ms)\\<rangle> ms =\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "have \"... = ks\\<langle>[k]\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>[m]\\<rangle>ms \\<oplus> ks\\<langle>[k]\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>[m]\\<rangle>ms \\<oplus> ks\\<langle>[k]\\<langle>[k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms\\<rangle>ms\\<rangle>ms \\<oplus> ks\\<langle>[k]\\<langle>[k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\\<rangle>ms\\<rangle>ms \\<oplus> ks\\<langle>ks\\<langle>ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]\\<rangle>[m]\\<rangle>ms \\<oplus> ks\\<langle>ks\\<langle>ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\\<rangle>[m]\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                ls \\<langle>g\\<rangle> ms\\<rangle> ms =\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                            [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                            ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "by (simp add: restrict_times)"], ["proof (state)\nthis:\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> ms =\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                          [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                          ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "also"], ["proof (state)\nthis:\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n              [l] \\<langle>g\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n              ls \\<langle>g\\<rangle> ms\\<rangle> ms =\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                          [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                          ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "have \"... = ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                            [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                            ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "using 1"], ["proof (prove)\nusing this:\n  disjoint [k] ks \\<and> disjoint [m] ms\n\ngoal (1 subgoal):\n 1. ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                             [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n    ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                             ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                            [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                            ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "by (metis restrict_disjoint_left restrict_disjoint_right matrix_bounded_semilattice_sup_bot.sup_monoid.add_0_left)"], ["proof (state)\nthis:\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> [l] \\<odot>\n                           [l] \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>[k] \\<langle>[k] \\<langle>f\\<rangle> ls \\<odot>\n                           ls \\<langle>g\\<rangle> ms\\<rangle> ms\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> [l] \\<odot>\n                          [l] \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>ks \\<langle>ks \\<langle>f\\<rangle> ls \\<odot>\n                          ls \\<langle>g\\<rangle> [m]\\<rangle> [m]\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "finally"], ["proof (chain)\npicking this:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "show ?thesis"], ["proof (prove)\nusing this:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "."], ["proof (state)\nthis:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "have \"(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms) = (k#ks)\\<langle>h\\<rangle>(m#ms) \\<longleftrightarrow> (k#ks)\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>(m#ms) = (k#ks)\\<langle>h\\<rangle>(m#ms)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ((k #\n      ks) \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                   (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms))", "by (simp add: restrict_times)"], ["proof (state)\nthis:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n   (l # ls) \\<langle>g\\<rangle> (m # ms) =\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ((k #\n    ks) \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> (m # ms) =\n   (k # ks) \\<langle>h\\<rangle> (m # ms))\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "also"], ["proof (state)\nthis:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n   (l # ls) \\<langle>g\\<rangle> (m # ms) =\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ((k #\n    ks) \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> (m # ms) =\n   (k # ks) \\<langle>h\\<rangle> (m # ms))\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "have \"... \\<longleftrightarrow> [k]\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>[m] = [k]\\<langle>h\\<rangle>[m] \\<and> [k]\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>ms = [k]\\<langle>h\\<rangle>ms \\<and> ks\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>[m] = ks\\<langle>h\\<rangle>[m] \\<and> ks\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>ms = ks\\<langle>h\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((k #\n      ks) \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                   (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                  (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                  (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "by (meson restrict_nonempty_eq)"], ["proof (state)\nthis:\n  ((k #\n    ks) \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> (m # ms) =\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ([k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n   ks \\<langle>h\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "also"], ["proof (state)\nthis:\n  ((k #\n    ks) \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> (m # ms) =\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ([k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n   ks \\<langle>h\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "have \"... \\<longleftrightarrow> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] = [k]\\<langle>h\\<rangle>[m] \\<and> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms = [k]\\<langle>h\\<rangle>ms \\<and> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] = ks\\<langle>h\\<rangle>[m] \\<and> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms = ks\\<langle>h\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                  (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                  (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "using 2 3 4 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                  (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                  (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "by simp"], ["proof (state)\nthis:\n  ([k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n   ks \\<langle>h\\<rangle> ms) =\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n   ks \\<langle>h\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "finally"], ["proof (chain)\npicking this:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n   (l # ls) \\<langle>g\\<rangle> (m # ms) =\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n   ks \\<langle>h\\<rangle> ms)", "show ?thesis"], ["proof (prove)\nusing this:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n   (l # ls) \\<langle>g\\<rangle> (m # ms) =\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n   ks \\<langle>h\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) =\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n     ks \\<langle>h\\<rangle> ms)", "by simp"], ["proof (state)\nthis:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n   (l # ls) \\<langle>g\\<rangle> (m # ms) =\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] =\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms =\n   ks \\<langle>h\\<rangle> ms)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nThe following lemma gives a componentwise characterisation of the inequality of a matrix and a product of two matrices.\n\\<close>"], ["", "lemma restrict_nonempty_product_less_eq:\n  fixes f g h :: \"('a::finite,'b::idempotent_semiring) square\"\n  assumes \"\\<not> List.member ks k\"\n      and \"\\<not> List.member ls l\"\n      and \"\\<not> List.member ms m\"\n    shows \"(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms) \\<preceq> (k#ks)\\<langle>h\\<rangle>(m#ms) \\<longleftrightarrow> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] \\<preceq> [k]\\<langle>h\\<rangle>[m] \\<and> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms \\<preceq> [k]\\<langle>h\\<rangle>ms \\<and> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] \\<preceq> ks\\<langle>h\\<rangle>[m] \\<and> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms \\<preceq> ks\\<langle>h\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "have 1: \"[k]\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>[m] = [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "by (metis assms restrict_nonempty_product_eq restrict_times)"], ["proof (state)\nthis:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "have 2: \"[k]\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>ms = [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "by (metis assms restrict_nonempty_product_eq restrict_times)"], ["proof (state)\nthis:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "have 3: \"ks\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>[m] = ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]", "by (metis assms restrict_nonempty_product_eq restrict_times)"], ["proof (state)\nthis:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "have 4: \"ks\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>ms = ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n    ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n    ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms", "by (metis assms restrict_nonempty_product_eq restrict_times)"], ["proof (state)\nthis:\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "have \"(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms) \\<preceq> (k#ks)\\<langle>h\\<rangle>(m#ms) \\<longleftrightarrow> (k#ks)\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>(m#ms) \\<preceq> (k#ks)\\<langle>h\\<rangle>(m#ms)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ((k #\n      ks) \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                   (l #\n                    ls) \\<langle>g\\<rangle> (m #\n       ms)\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms))", "by (simp add: restrict_times)"], ["proof (state)\nthis:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n   (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ((k #\n    ks) \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l #\n                  ls) \\<langle>g\\<rangle> (m #\n     ms)\\<rangle> (m # ms) \\<preceq>\n   (k # ks) \\<langle>h\\<rangle> (m # ms))\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "also"], ["proof (state)\nthis:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n   (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ((k #\n    ks) \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l #\n                  ls) \\<langle>g\\<rangle> (m #\n     ms)\\<rangle> (m # ms) \\<preceq>\n   (k # ks) \\<langle>h\\<rangle> (m # ms))\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "have \"... \\<longleftrightarrow> [k]\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>[m] \\<preceq> [k]\\<langle>h\\<rangle>[m] \\<and> [k]\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>ms \\<preceq> [k]\\<langle>h\\<rangle>ms \\<and> ks\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>[m] \\<preceq> ks\\<langle>h\\<rangle>[m] \\<and> ks\\<langle>(k#ks)\\<langle>f\\<rangle>(l#ls) \\<odot> (l#ls)\\<langle>g\\<rangle>(m#ms)\\<rangle>ms \\<preceq> ks\\<langle>h\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((k #\n      ks) \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                   (l #\n                    ls) \\<langle>g\\<rangle> (m #\n       ms)\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                  (l #\n                   ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                  (l #\n                   ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l #\n                  ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "by (meson restrict_nonempty_less_eq)"], ["proof (state)\nthis:\n  ((k #\n    ks) \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l #\n                  ls) \\<langle>g\\<rangle> (m #\n     ms)\\<rangle> (m # ms) \\<preceq>\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ([k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] \\<preceq>\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms \\<preceq>\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] \\<preceq>\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms \\<preceq>\n   ks \\<langle>h\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "also"], ["proof (state)\nthis:\n  ((k #\n    ks) \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l #\n                  ls) \\<langle>g\\<rangle> (m #\n     ms)\\<rangle> (m # ms) \\<preceq>\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ([k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] \\<preceq>\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms \\<preceq>\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] \\<preceq>\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms \\<preceq>\n   ks \\<langle>h\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "have \"... \\<longleftrightarrow> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] \\<preceq> [k]\\<langle>h\\<rangle>[m] \\<and> [k]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> [k]\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms \\<preceq> [k]\\<langle>h\\<rangle>ms \\<and> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>[m] \\<preceq> ks\\<langle>h\\<rangle>[m] \\<and> ks\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<oplus> ks\\<langle>f\\<rangle>ls \\<odot> ls\\<langle>g\\<rangle>ms \\<preceq> ks\\<langle>h\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                  (l #\n                   ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                  (l #\n                   ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l #\n                  ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "using 1 2 3 4"], ["proof (prove)\nusing this:\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n  [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m]\n  ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n              (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms =\n  ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n  ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                  (l #\n                   ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                  (l #\n                   ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l #\n                  ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                 (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "by simp"], ["proof (state)\nthis:\n  ([k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] \\<preceq>\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n                (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms \\<preceq>\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> [m] \\<preceq>\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>(k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n               (l # ls) \\<langle>g\\<rangle> (m # ms)\\<rangle> ms \\<preceq>\n   ks \\<langle>h\\<rangle> ms) =\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n   ks \\<langle>h\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "finally"], ["proof (chain)\npicking this:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n   (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n   ks \\<langle>h\\<rangle> ms)", "show ?thesis"], ["proof (prove)\nusing this:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n   (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n   ks \\<langle>h\\<rangle> ms)\n\ngoal (1 subgoal):\n 1. ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n     (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n     (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n    ([k] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     [k] \\<langle>h\\<rangle> [m] \\<and>\n     [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     [k] \\<langle>h\\<rangle> ms \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n     ks \\<langle>h\\<rangle> [m] \\<and>\n     ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n     ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n     ks \\<langle>h\\<rangle> ms)", "by simp"], ["proof (state)\nthis:\n  ((k # ks) \\<langle>f\\<rangle> (l # ls) \\<odot>\n   (l # ls) \\<langle>g\\<rangle> (m # ms) \\<preceq>\n   (k # ks) \\<langle>h\\<rangle> (m # ms)) =\n  ([k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n   [k] \\<langle>h\\<rangle> [m] \\<and>\n   [k] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   [k] \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n   [k] \\<langle>h\\<rangle> ms \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> [m] \\<preceq>\n   ks \\<langle>h\\<rangle> [m] \\<and>\n   ks \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<oplus>\n   ks \\<langle>f\\<rangle> ls \\<odot> ls \\<langle>g\\<rangle> ms \\<preceq>\n   ks \\<langle>h\\<rangle> ms)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nThe Kleene star induction laws hold for matrices with a single entry on the diagonal.\nThe matrix \\<open>g\\<close> can actually contain a whole row/colum at the appropriate index.\n\\<close>"], ["", "lemma restrict_star_left_induct:\n  fixes f g :: \"('a::finite,'b::kleene_algebra) square\"\n  shows \"distinct ms \\<Longrightarrow> [l]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<preceq> [l]\\<langle>g\\<rangle>ms \\<Longrightarrow> [l]\\<langle>star o f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<preceq> [l]\\<langle>g\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct ms;\n     [l] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> ms \\<preceq>\n     [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n    \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                      [l] \\<langle>g\\<rangle> ms \\<preceq>\n                      [l] \\<langle>g\\<rangle> ms", "proof (induct ms)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>distinct [];\n     [l] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [] \\<preceq>\n     [l] \\<langle>g\\<rangle> []\\<rbrakk>\n    \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                      [l] \\<langle>g\\<rangle> [] \\<preceq>\n                      [l] \\<langle>g\\<rangle> []\n 2. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 [l] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<preceq>\n                 [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n                \\<Longrightarrow> [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>g\\<rangle> ms \\<preceq>\n                                  [l] \\<langle>g\\<rangle> ms;\n        distinct (a # ms);\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n        [l] \\<langle>g\\<rangle> (a # ms)\\<rbrakk>\n       \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                         [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n                         [l] \\<langle>g\\<rangle> (a # ms)", "case Nil"], ["proof (state)\nthis:\n  distinct []\n  [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [] \\<preceq>\n  [l] \\<langle>g\\<rangle> []\n\ngoal (2 subgoals):\n 1. \\<lbrakk>distinct [];\n     [l] \\<langle>f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [] \\<preceq>\n     [l] \\<langle>g\\<rangle> []\\<rbrakk>\n    \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                      [l] \\<langle>g\\<rangle> [] \\<preceq>\n                      [l] \\<langle>g\\<rangle> []\n 2. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 [l] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<preceq>\n                 [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n                \\<Longrightarrow> [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>g\\<rangle> ms \\<preceq>\n                                  [l] \\<langle>g\\<rangle> ms;\n        distinct (a # ms);\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n        [l] \\<langle>g\\<rangle> (a # ms)\\<rbrakk>\n       \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                         [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n                         [l] \\<langle>g\\<rangle> (a # ms)", "thus ?case"], ["proof (prove)\nusing this:\n  distinct []\n  [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [] \\<preceq>\n  [l] \\<langle>g\\<rangle> []\n\ngoal (1 subgoal):\n 1. [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n    [l] \\<langle>g\\<rangle> [] \\<preceq>\n    [l] \\<langle>g\\<rangle> []", "by (simp add: restrict_empty_right)"], ["proof (state)\nthis:\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n  [l] \\<langle>g\\<rangle> [] \\<preceq>\n  [l] \\<langle>g\\<rangle> []\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 [l] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<preceq>\n                 [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n                \\<Longrightarrow> [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>g\\<rangle> ms \\<preceq>\n                                  [l] \\<langle>g\\<rangle> ms;\n        distinct (a # ms);\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n        [l] \\<langle>g\\<rangle> (a # ms)\\<rbrakk>\n       \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                         [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n                         [l] \\<langle>g\\<rangle> (a # ms)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 [l] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<preceq>\n                 [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n                \\<Longrightarrow> [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>g\\<rangle> ms \\<preceq>\n                                  [l] \\<langle>g\\<rangle> ms;\n        distinct (a # ms);\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n        [l] \\<langle>g\\<rangle> (a # ms)\\<rbrakk>\n       \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                         [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n                         [l] \\<langle>g\\<rangle> (a # ms)", "case (Cons m ms)"], ["proof (state)\nthis:\n  \\<lbrakk>distinct ms;\n   [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<preceq>\n   [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n  \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                    [l] \\<langle>g\\<rangle> ms \\<preceq>\n                    [l] \\<langle>g\\<rangle> ms\n  distinct (m # ms)\n  [l] \\<langle>f\\<rangle> [l] \\<odot>\n  [l] \\<langle>g\\<rangle> (m # ms) \\<preceq>\n  [l] \\<langle>g\\<rangle> (m # ms)\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 [l] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<preceq>\n                 [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n                \\<Longrightarrow> [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>g\\<rangle> ms \\<preceq>\n                                  [l] \\<langle>g\\<rangle> ms;\n        distinct (a # ms);\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n        [l] \\<langle>g\\<rangle> (a # ms)\\<rbrakk>\n       \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                         [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n                         [l] \\<langle>g\\<rangle> (a # ms)", "assume 1: \"distinct ms \\<Longrightarrow> [l]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<preceq> [l]\\<langle>g\\<rangle>ms \\<Longrightarrow> [l]\\<langle>star o f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<preceq> [l]\\<langle>g\\<rangle>ms\""], ["proof (state)\nthis:\n  \\<lbrakk>distinct ms;\n   [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<preceq>\n   [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n  \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                    [l] \\<langle>g\\<rangle> ms \\<preceq>\n                    [l] \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 [l] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<preceq>\n                 [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n                \\<Longrightarrow> [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>g\\<rangle> ms \\<preceq>\n                                  [l] \\<langle>g\\<rangle> ms;\n        distinct (a # ms);\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n        [l] \\<langle>g\\<rangle> (a # ms)\\<rbrakk>\n       \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                         [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n                         [l] \\<langle>g\\<rangle> (a # ms)", "assume 2: \"distinct (m#ms)\""], ["proof (state)\nthis:\n  distinct (m # ms)\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 [l] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<preceq>\n                 [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n                \\<Longrightarrow> [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>g\\<rangle> ms \\<preceq>\n                                  [l] \\<langle>g\\<rangle> ms;\n        distinct (a # ms);\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n        [l] \\<langle>g\\<rangle> (a # ms)\\<rbrakk>\n       \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                         [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n                         [l] \\<langle>g\\<rangle> (a # ms)", "assume 3: \"[l]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>(m#ms) \\<preceq> [l]\\<langle>g\\<rangle>(m#ms)\""], ["proof (state)\nthis:\n  [l] \\<langle>f\\<rangle> [l] \\<odot>\n  [l] \\<langle>g\\<rangle> (m # ms) \\<preceq>\n  [l] \\<langle>g\\<rangle> (m # ms)\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 [l] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<preceq>\n                 [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n                \\<Longrightarrow> [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>g\\<rangle> ms \\<preceq>\n                                  [l] \\<langle>g\\<rangle> ms;\n        distinct (a # ms);\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n        [l] \\<langle>g\\<rangle> (a # ms)\\<rbrakk>\n       \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                         [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n                         [l] \\<langle>g\\<rangle> (a # ms)", "have 4: \"[l]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<preceq> [l]\\<langle>g\\<rangle>[m] \\<and> [l]\\<langle>f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<preceq> [l]\\<langle>g\\<rangle>ms\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [l] \\<langle>f\\<rangle> [l] \\<odot>\n    [l] \\<langle>g\\<rangle> [m] \\<preceq>\n    [l] \\<langle>g\\<rangle> [m] \\<and>\n    [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<preceq>\n    [l] \\<langle>g\\<rangle> ms", "using 2 3"], ["proof (prove)\nusing this:\n  distinct (m # ms)\n  [l] \\<langle>f\\<rangle> [l] \\<odot>\n  [l] \\<langle>g\\<rangle> (m # ms) \\<preceq>\n  [l] \\<langle>g\\<rangle> (m # ms)\n\ngoal (1 subgoal):\n 1. [l] \\<langle>f\\<rangle> [l] \\<odot>\n    [l] \\<langle>g\\<rangle> [m] \\<preceq>\n    [l] \\<langle>g\\<rangle> [m] \\<and>\n    [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<preceq>\n    [l] \\<langle>g\\<rangle> ms", "by (metis distinct.simps(2) matrix_semilattice_sup.sup.bounded_iff member_def member_rec(2) restrict_nonempty_product_less_eq)"], ["proof (state)\nthis:\n  [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<preceq>\n  [l] \\<langle>g\\<rangle> [m] \\<and>\n  [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<preceq>\n  [l] \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 [l] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<preceq>\n                 [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n                \\<Longrightarrow> [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>g\\<rangle> ms \\<preceq>\n                                  [l] \\<langle>g\\<rangle> ms;\n        distinct (a # ms);\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n        [l] \\<langle>g\\<rangle> (a # ms)\\<rbrakk>\n       \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                         [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n                         [l] \\<langle>g\\<rangle> (a # ms)", "hence 5: \"[l]\\<langle>star o f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>ms \\<preceq> [l]\\<langle>g\\<rangle>ms\""], ["proof (prove)\nusing this:\n  [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<preceq>\n  [l] \\<langle>g\\<rangle> [m] \\<and>\n  [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<preceq>\n  [l] \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n    [l] \\<langle>g\\<rangle> ms \\<preceq>\n    [l] \\<langle>g\\<rangle> ms", "using 1 2"], ["proof (prove)\nusing this:\n  [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<preceq>\n  [l] \\<langle>g\\<rangle> [m] \\<and>\n  [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<preceq>\n  [l] \\<langle>g\\<rangle> ms\n  \\<lbrakk>distinct ms;\n   [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<preceq>\n   [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n  \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                    [l] \\<langle>g\\<rangle> ms \\<preceq>\n                    [l] \\<langle>g\\<rangle> ms\n  distinct (m # ms)\n\ngoal (1 subgoal):\n 1. [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n    [l] \\<langle>g\\<rangle> ms \\<preceq>\n    [l] \\<langle>g\\<rangle> ms", "by simp"], ["proof (state)\nthis:\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n  [l] \\<langle>g\\<rangle> ms \\<preceq>\n  [l] \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 [l] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<preceq>\n                 [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n                \\<Longrightarrow> [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>g\\<rangle> ms \\<preceq>\n                                  [l] \\<langle>g\\<rangle> ms;\n        distinct (a # ms);\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n        [l] \\<langle>g\\<rangle> (a # ms)\\<rbrakk>\n       \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                         [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n                         [l] \\<langle>g\\<rangle> (a # ms)", "have \"f (l,l) * g (l,m) \\<le> g (l,m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (l, l) * g (l, m) \\<le> g (l, m)", "using 4"], ["proof (prove)\nusing this:\n  [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> [m] \\<preceq>\n  [l] \\<langle>g\\<rangle> [m] \\<and>\n  [l] \\<langle>f\\<rangle> [l] \\<odot> [l] \\<langle>g\\<rangle> ms \\<preceq>\n  [l] \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. f (l, l) * g (l, m) \\<le> g (l, m)", "by (metis restrict_singleton_product restrict_singleton less_eq_matrix_def)"], ["proof (state)\nthis:\n  f (l, l) * g (l, m) \\<le> g (l, m)\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 [l] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<preceq>\n                 [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n                \\<Longrightarrow> [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>g\\<rangle> ms \\<preceq>\n                                  [l] \\<langle>g\\<rangle> ms;\n        distinct (a # ms);\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n        [l] \\<langle>g\\<rangle> (a # ms)\\<rbrakk>\n       \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                         [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n                         [l] \\<langle>g\\<rangle> (a # ms)", "hence 6: \"(f (l,l))\\<^sup>\\<star> * g (l,m) \\<le> g (l,m)\""], ["proof (prove)\nusing this:\n  f (l, l) * g (l, m) \\<le> g (l, m)\n\ngoal (1 subgoal):\n 1. f (l, l)\\<^sup>\\<star> * g (l, m) \\<le> g (l, m)", "by (simp add: star_left_induct_mult)"], ["proof (state)\nthis:\n  f (l, l)\\<^sup>\\<star> * g (l, m) \\<le> g (l, m)\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 [l] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<preceq>\n                 [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n                \\<Longrightarrow> [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>g\\<rangle> ms \\<preceq>\n                                  [l] \\<langle>g\\<rangle> ms;\n        distinct (a # ms);\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n        [l] \\<langle>g\\<rangle> (a # ms)\\<rbrakk>\n       \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                         [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n                         [l] \\<langle>g\\<rangle> (a # ms)", "have \"[l]\\<langle>star o f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m] \\<preceq> [l]\\<langle>g\\<rangle>[m]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n    [l] \\<langle>g\\<rangle> [m] \\<preceq>\n    [l] \\<langle>g\\<rangle> [m]", "proof (unfold less_eq_matrix_def, rule allI, rule prod_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> [m])\n        (a, b)\n       \\<le> ([l] \\<langle>g\\<rangle> [m]) (a, b)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> [m])\n        (a, b)\n       \\<le> ([l] \\<langle>g\\<rangle> [m]) (a, b)", "have \"([l]\\<langle>star o f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]) (i,j) = (\\<Squnion>\\<^sub>k ([l]\\<langle>star o f\\<rangle>[l]) (i,k) * ([l]\\<langle>g\\<rangle>[m]) (k,j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m])\n     (i, j) =\n    sup_monoid.sum\n     (\\<lambda>k.\n         ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (i, k) *\n         ([l] \\<langle>g\\<rangle> [m]) (k, j))\n     {k. True}", "by (simp add: times_matrix_def)"], ["proof (state)\nthis:\n  ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n   [l] \\<langle>g\\<rangle> [m])\n   (i, j) =\n  sup_monoid.sum\n   (\\<lambda>k.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (i, k) *\n       ([l] \\<langle>g\\<rangle> [m]) (k, j))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> [m])\n        (a, b)\n       \\<le> ([l] \\<langle>g\\<rangle> [m]) (a, b)", "also"], ["proof (state)\nthis:\n  ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n   [l] \\<langle>g\\<rangle> [m])\n   (i, j) =\n  sup_monoid.sum\n   (\\<lambda>k.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (i, k) *\n       ([l] \\<langle>g\\<rangle> [m]) (k, j))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> [m])\n        (a, b)\n       \\<le> ([l] \\<langle>g\\<rangle> [m]) (a, b)", "have \"... = (\\<Squnion>\\<^sub>k (if i = l \\<and> k = l then (f (i,k))\\<^sup>\\<star> else bot) * (if k = l \\<and> j = m then g (k,j) else bot))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (i, k) *\n         ([l] \\<langle>g\\<rangle> [m]) (k, j))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         (if i = l \\<and> k = l then f (i, k)\\<^sup>\\<star> else bot) *\n         (if k = l \\<and> j = m then g (k, j) else bot))\n     {k. True}", "by (simp add: restrict_singleton o_def)"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (i, k) *\n       ([l] \\<langle>g\\<rangle> [m]) (k, j))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = l \\<and> k = l then f (i, k)\\<^sup>\\<star> else bot) *\n       (if k = l \\<and> j = m then g (k, j) else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> [m])\n        (a, b)\n       \\<le> ([l] \\<langle>g\\<rangle> [m]) (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (i, k) *\n       ([l] \\<langle>g\\<rangle> [m]) (k, j))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = l \\<and> k = l then f (i, k)\\<^sup>\\<star> else bot) *\n       (if k = l \\<and> j = m then g (k, j) else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> [m])\n        (a, b)\n       \\<le> ([l] \\<langle>g\\<rangle> [m]) (a, b)", "have \"... = (\\<Squnion>\\<^sub>k if k = l then (if i = l then (f (i,k))\\<^sup>\\<star> else bot) * (if j = m then g (k,j) else bot) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         (if i = l \\<and> k = l then f (i, k)\\<^sup>\\<star> else bot) *\n         (if k = l \\<and> j = m then g (k, j) else bot))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         if k = l\n         then (if i = l then f (i, k)\\<^sup>\\<star> else bot) *\n              (if j = m then g (k, j) else bot)\n         else bot)\n     {k. True}", "by (rule sup_monoid.sum.cong) auto"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = l \\<and> k = l then f (i, k)\\<^sup>\\<star> else bot) *\n       (if k = l \\<and> j = m then g (k, j) else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       if k = l\n       then (if i = l then f (i, k)\\<^sup>\\<star> else bot) *\n            (if j = m then g (k, j) else bot)\n       else bot)\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> [m])\n        (a, b)\n       \\<le> ([l] \\<langle>g\\<rangle> [m]) (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = l \\<and> k = l then f (i, k)\\<^sup>\\<star> else bot) *\n       (if k = l \\<and> j = m then g (k, j) else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       if k = l\n       then (if i = l then f (i, k)\\<^sup>\\<star> else bot) *\n            (if j = m then g (k, j) else bot)\n       else bot)\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> [m])\n        (a, b)\n       \\<le> ([l] \\<langle>g\\<rangle> [m]) (a, b)", "have \"... = (if i = l then (f (i,l))\\<^sup>\\<star> else bot) * (if j = m then g (l,j) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         if k = l\n         then (if i = l then f (i, k)\\<^sup>\\<star> else bot) *\n              (if j = m then g (k, j) else bot)\n         else bot)\n     {k. True} =\n    (if i = l then f (i, l)\\<^sup>\\<star> else bot) *\n    (if j = m then g (l, j) else bot)", "by simp"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       if k = l\n       then (if i = l then f (i, k)\\<^sup>\\<star> else bot) *\n            (if j = m then g (k, j) else bot)\n       else bot)\n   {k. True} =\n  (if i = l then f (i, l)\\<^sup>\\<star> else bot) *\n  (if j = m then g (l, j) else bot)\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> [m])\n        (a, b)\n       \\<le> ([l] \\<langle>g\\<rangle> [m]) (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       if k = l\n       then (if i = l then f (i, k)\\<^sup>\\<star> else bot) *\n            (if j = m then g (k, j) else bot)\n       else bot)\n   {k. True} =\n  (if i = l then f (i, l)\\<^sup>\\<star> else bot) *\n  (if j = m then g (l, j) else bot)\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> [m])\n        (a, b)\n       \\<le> ([l] \\<langle>g\\<rangle> [m]) (a, b)", "have \"... = (if i = l \\<and> j = m then (f (l,l))\\<^sup>\\<star> * g (l,m) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if i = l then f (i, l)\\<^sup>\\<star> else bot) *\n    (if j = m then g (l, j) else bot) =\n    (if i = l \\<and> j = m then f (l, l)\\<^sup>\\<star> * g (l, m) else bot)", "by simp"], ["proof (state)\nthis:\n  (if i = l then f (i, l)\\<^sup>\\<star> else bot) *\n  (if j = m then g (l, j) else bot) =\n  (if i = l \\<and> j = m then f (l, l)\\<^sup>\\<star> * g (l, m) else bot)\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> [m])\n        (a, b)\n       \\<le> ([l] \\<langle>g\\<rangle> [m]) (a, b)", "also"], ["proof (state)\nthis:\n  (if i = l then f (i, l)\\<^sup>\\<star> else bot) *\n  (if j = m then g (l, j) else bot) =\n  (if i = l \\<and> j = m then f (l, l)\\<^sup>\\<star> * g (l, m) else bot)\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> [m])\n        (a, b)\n       \\<le> ([l] \\<langle>g\\<rangle> [m]) (a, b)", "have \"... \\<le> ([l]\\<langle>g\\<rangle>[m]) (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if i = l \\<and> j = m then f (l, l)\\<^sup>\\<star> * g (l, m) else bot)\n    \\<le> ([l] \\<langle>g\\<rangle> [m]) (i, j)", "using 6"], ["proof (prove)\nusing this:\n  f (l, l)\\<^sup>\\<star> * g (l, m) \\<le> g (l, m)\n\ngoal (1 subgoal):\n 1. (if i = l \\<and> j = m then f (l, l)\\<^sup>\\<star> * g (l, m) else bot)\n    \\<le> ([l] \\<langle>g\\<rangle> [m]) (i, j)", "by (simp add: restrict_singleton)"], ["proof (state)\nthis:\n  (if i = l \\<and> j = m then f (l, l)\\<^sup>\\<star> * g (l, m) else bot)\n  \\<le> ([l] \\<langle>g\\<rangle> [m]) (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> [m])\n        (a, b)\n       \\<le> ([l] \\<langle>g\\<rangle> [m]) (a, b)", "finally"], ["proof (chain)\npicking this:\n  ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n   [l] \\<langle>g\\<rangle> [m])\n   (i, j)\n  \\<le> ([l] \\<langle>g\\<rangle> [m]) (i, j)", "show \"([l]\\<langle>star o f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>[m]) (i,j) \\<le> ([l]\\<langle>g\\<rangle>[m]) (i,j)\""], ["proof (prove)\nusing this:\n  ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n   [l] \\<langle>g\\<rangle> [m])\n   (i, j)\n  \\<le> ([l] \\<langle>g\\<rangle> [m]) (i, j)\n\ngoal (1 subgoal):\n 1. ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n     [l] \\<langle>g\\<rangle> [m])\n     (i, j)\n    \\<le> ([l] \\<langle>g\\<rangle> [m]) (i, j)", "."], ["proof (state)\nthis:\n  ([l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n   [l] \\<langle>g\\<rangle> [m])\n   (i, j)\n  \\<le> ([l] \\<langle>g\\<rangle> [m]) (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n  [l] \\<langle>g\\<rangle> [m] \\<preceq>\n  [l] \\<langle>g\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 [l] \\<langle>f\\<rangle> [l] \\<odot>\n                 [l] \\<langle>g\\<rangle> ms \\<preceq>\n                 [l] \\<langle>g\\<rangle> ms\\<rbrakk>\n                \\<Longrightarrow> [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>g\\<rangle> ms \\<preceq>\n                                  [l] \\<langle>g\\<rangle> ms;\n        distinct (a # ms);\n        [l] \\<langle>f\\<rangle> [l] \\<odot>\n        [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n        [l] \\<langle>g\\<rangle> (a # ms)\\<rbrakk>\n       \\<Longrightarrow> [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n                         [l] \\<langle>g\\<rangle> (a # ms) \\<preceq>\n                         [l] \\<langle>g\\<rangle> (a # ms)", "thus \"[l]\\<langle>star o f\\<rangle>[l] \\<odot> [l]\\<langle>g\\<rangle>(m#ms) \\<preceq> [l]\\<langle>g\\<rangle>(m#ms)\""], ["proof (prove)\nusing this:\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n  [l] \\<langle>g\\<rangle> [m] \\<preceq>\n  [l] \\<langle>g\\<rangle> [m]\n\ngoal (1 subgoal):\n 1. [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n    [l] \\<langle>g\\<rangle> (m # ms) \\<preceq>\n    [l] \\<langle>g\\<rangle> (m # ms)", "using 2 5"], ["proof (prove)\nusing this:\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n  [l] \\<langle>g\\<rangle> [m] \\<preceq>\n  [l] \\<langle>g\\<rangle> [m]\n  distinct (m # ms)\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n  [l] \\<langle>g\\<rangle> ms \\<preceq>\n  [l] \\<langle>g\\<rangle> ms\n\ngoal (1 subgoal):\n 1. [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n    [l] \\<langle>g\\<rangle> (m # ms) \\<preceq>\n    [l] \\<langle>g\\<rangle> (m # ms)", "by (metis (no_types, hide_lams) matrix_idempotent_semiring.mult_left_dist_sup matrix_semilattice_sup.sup.mono restrict_nonempty_right)"], ["proof (state)\nthis:\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<odot>\n  [l] \\<langle>g\\<rangle> (m # ms) \\<preceq>\n  [l] \\<langle>g\\<rangle> (m # ms)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma restrict_star_right_induct:\n  fixes f g :: \"('a::finite,'b::kleene_algebra) square\"\n  shows \"distinct ms \\<Longrightarrow> ms\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>f\\<rangle>[l] \\<preceq> ms\\<langle>g\\<rangle>[l] \\<Longrightarrow> ms\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>star o f\\<rangle>[l] \\<preceq> ms\\<langle>g\\<rangle>[l]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct ms;\n     ms \\<langle>g\\<rangle> [l] \\<odot>\n     [l] \\<langle>f\\<rangle> [l] \\<preceq>\n     ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n    \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                      [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                      ms \\<langle>g\\<rangle> [l]", "proof (induct ms)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>distinct [];\n     [] \\<langle>g\\<rangle> [l] \\<odot>\n     [l] \\<langle>f\\<rangle> [l] \\<preceq>\n     [] \\<langle>g\\<rangle> [l]\\<rbrakk>\n    \\<Longrightarrow> [] \\<langle>g\\<rangle> [l] \\<odot>\n                      [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                      [] \\<langle>g\\<rangle> [l]\n 2. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 ms \\<langle>g\\<rangle> [l] \\<odot>\n                 [l] \\<langle>f\\<rangle> [l] \\<preceq>\n                 ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n                \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<preceq>\n                                  ms \\<langle>g\\<rangle> [l];\n        distinct (a # ms);\n        (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>f\\<rangle> [l] \\<preceq>\n        (a # ms) \\<langle>g\\<rangle> [l]\\<rbrakk>\n       \\<Longrightarrow> (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n                         [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                         (a # ms) \\<langle>g\\<rangle> [l]", "case Nil"], ["proof (state)\nthis:\n  distinct []\n  [] \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n  [] \\<langle>g\\<rangle> [l]\n\ngoal (2 subgoals):\n 1. \\<lbrakk>distinct [];\n     [] \\<langle>g\\<rangle> [l] \\<odot>\n     [l] \\<langle>f\\<rangle> [l] \\<preceq>\n     [] \\<langle>g\\<rangle> [l]\\<rbrakk>\n    \\<Longrightarrow> [] \\<langle>g\\<rangle> [l] \\<odot>\n                      [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                      [] \\<langle>g\\<rangle> [l]\n 2. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 ms \\<langle>g\\<rangle> [l] \\<odot>\n                 [l] \\<langle>f\\<rangle> [l] \\<preceq>\n                 ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n                \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<preceq>\n                                  ms \\<langle>g\\<rangle> [l];\n        distinct (a # ms);\n        (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>f\\<rangle> [l] \\<preceq>\n        (a # ms) \\<langle>g\\<rangle> [l]\\<rbrakk>\n       \\<Longrightarrow> (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n                         [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                         (a # ms) \\<langle>g\\<rangle> [l]", "thus ?case"], ["proof (prove)\nusing this:\n  distinct []\n  [] \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n  [] \\<langle>g\\<rangle> [l]\n\ngoal (1 subgoal):\n 1. [] \\<langle>g\\<rangle> [l] \\<odot>\n    [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n    [] \\<langle>g\\<rangle> [l]", "by (simp add: restrict_empty_left)"], ["proof (state)\nthis:\n  [] \\<langle>g\\<rangle> [l] \\<odot>\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n  [] \\<langle>g\\<rangle> [l]\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 ms \\<langle>g\\<rangle> [l] \\<odot>\n                 [l] \\<langle>f\\<rangle> [l] \\<preceq>\n                 ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n                \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<preceq>\n                                  ms \\<langle>g\\<rangle> [l];\n        distinct (a # ms);\n        (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>f\\<rangle> [l] \\<preceq>\n        (a # ms) \\<langle>g\\<rangle> [l]\\<rbrakk>\n       \\<Longrightarrow> (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n                         [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                         (a # ms) \\<langle>g\\<rangle> [l]", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 ms \\<langle>g\\<rangle> [l] \\<odot>\n                 [l] \\<langle>f\\<rangle> [l] \\<preceq>\n                 ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n                \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<preceq>\n                                  ms \\<langle>g\\<rangle> [l];\n        distinct (a # ms);\n        (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>f\\<rangle> [l] \\<preceq>\n        (a # ms) \\<langle>g\\<rangle> [l]\\<rbrakk>\n       \\<Longrightarrow> (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n                         [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                         (a # ms) \\<langle>g\\<rangle> [l]", "case (Cons m ms)"], ["proof (state)\nthis:\n  \\<lbrakk>distinct ms;\n   ms \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n   ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n  \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                    [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                    ms \\<langle>g\\<rangle> [l]\n  distinct (m # ms)\n  (m # ms) \\<langle>g\\<rangle> [l] \\<odot>\n  [l] \\<langle>f\\<rangle> [l] \\<preceq>\n  (m # ms) \\<langle>g\\<rangle> [l]\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 ms \\<langle>g\\<rangle> [l] \\<odot>\n                 [l] \\<langle>f\\<rangle> [l] \\<preceq>\n                 ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n                \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<preceq>\n                                  ms \\<langle>g\\<rangle> [l];\n        distinct (a # ms);\n        (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>f\\<rangle> [l] \\<preceq>\n        (a # ms) \\<langle>g\\<rangle> [l]\\<rbrakk>\n       \\<Longrightarrow> (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n                         [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                         (a # ms) \\<langle>g\\<rangle> [l]", "assume 1: \"distinct ms \\<Longrightarrow> ms\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>f\\<rangle>[l] \\<preceq> ms\\<langle>g\\<rangle>[l] \\<Longrightarrow> ms\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>star o f\\<rangle>[l] \\<preceq> ms\\<langle>g\\<rangle>[l]\""], ["proof (state)\nthis:\n  \\<lbrakk>distinct ms;\n   ms \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n   ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n  \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                    [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                    ms \\<langle>g\\<rangle> [l]\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 ms \\<langle>g\\<rangle> [l] \\<odot>\n                 [l] \\<langle>f\\<rangle> [l] \\<preceq>\n                 ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n                \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<preceq>\n                                  ms \\<langle>g\\<rangle> [l];\n        distinct (a # ms);\n        (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>f\\<rangle> [l] \\<preceq>\n        (a # ms) \\<langle>g\\<rangle> [l]\\<rbrakk>\n       \\<Longrightarrow> (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n                         [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                         (a # ms) \\<langle>g\\<rangle> [l]", "assume 2: \"distinct (m#ms)\""], ["proof (state)\nthis:\n  distinct (m # ms)\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 ms \\<langle>g\\<rangle> [l] \\<odot>\n                 [l] \\<langle>f\\<rangle> [l] \\<preceq>\n                 ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n                \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<preceq>\n                                  ms \\<langle>g\\<rangle> [l];\n        distinct (a # ms);\n        (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>f\\<rangle> [l] \\<preceq>\n        (a # ms) \\<langle>g\\<rangle> [l]\\<rbrakk>\n       \\<Longrightarrow> (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n                         [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                         (a # ms) \\<langle>g\\<rangle> [l]", "assume 3: \"(m#ms)\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>f\\<rangle>[l] \\<preceq> (m#ms)\\<langle>g\\<rangle>[l]\""], ["proof (state)\nthis:\n  (m # ms) \\<langle>g\\<rangle> [l] \\<odot>\n  [l] \\<langle>f\\<rangle> [l] \\<preceq>\n  (m # ms) \\<langle>g\\<rangle> [l]\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 ms \\<langle>g\\<rangle> [l] \\<odot>\n                 [l] \\<langle>f\\<rangle> [l] \\<preceq>\n                 ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n                \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<preceq>\n                                  ms \\<langle>g\\<rangle> [l];\n        distinct (a # ms);\n        (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>f\\<rangle> [l] \\<preceq>\n        (a # ms) \\<langle>g\\<rangle> [l]\\<rbrakk>\n       \\<Longrightarrow> (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n                         [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                         (a # ms) \\<langle>g\\<rangle> [l]", "have 4: \"[m]\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>f\\<rangle>[l] \\<preceq> [m]\\<langle>g\\<rangle>[l] \\<and> ms\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>f\\<rangle>[l] \\<preceq> ms\\<langle>g\\<rangle>[l]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [m] \\<langle>g\\<rangle> [l] \\<odot>\n    [l] \\<langle>f\\<rangle> [l] \\<preceq>\n    [m] \\<langle>g\\<rangle> [l] \\<and>\n    ms \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n    ms \\<langle>g\\<rangle> [l]", "using 2 3"], ["proof (prove)\nusing this:\n  distinct (m # ms)\n  (m # ms) \\<langle>g\\<rangle> [l] \\<odot>\n  [l] \\<langle>f\\<rangle> [l] \\<preceq>\n  (m # ms) \\<langle>g\\<rangle> [l]\n\ngoal (1 subgoal):\n 1. [m] \\<langle>g\\<rangle> [l] \\<odot>\n    [l] \\<langle>f\\<rangle> [l] \\<preceq>\n    [m] \\<langle>g\\<rangle> [l] \\<and>\n    ms \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n    ms \\<langle>g\\<rangle> [l]", "by (metis distinct.simps(2) matrix_semilattice_sup.sup.bounded_iff member_def member_rec(2) restrict_nonempty_product_less_eq)"], ["proof (state)\nthis:\n  [m] \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n  [m] \\<langle>g\\<rangle> [l] \\<and>\n  ms \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n  ms \\<langle>g\\<rangle> [l]\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 ms \\<langle>g\\<rangle> [l] \\<odot>\n                 [l] \\<langle>f\\<rangle> [l] \\<preceq>\n                 ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n                \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<preceq>\n                                  ms \\<langle>g\\<rangle> [l];\n        distinct (a # ms);\n        (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>f\\<rangle> [l] \\<preceq>\n        (a # ms) \\<langle>g\\<rangle> [l]\\<rbrakk>\n       \\<Longrightarrow> (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n                         [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                         (a # ms) \\<langle>g\\<rangle> [l]", "hence 5: \"ms\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>star o f\\<rangle>[l] \\<preceq> ms\\<langle>g\\<rangle>[l]\""], ["proof (prove)\nusing this:\n  [m] \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n  [m] \\<langle>g\\<rangle> [l] \\<and>\n  ms \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n  ms \\<langle>g\\<rangle> [l]\n\ngoal (1 subgoal):\n 1. ms \\<langle>g\\<rangle> [l] \\<odot>\n    [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n    ms \\<langle>g\\<rangle> [l]", "using 1 2"], ["proof (prove)\nusing this:\n  [m] \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n  [m] \\<langle>g\\<rangle> [l] \\<and>\n  ms \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n  ms \\<langle>g\\<rangle> [l]\n  \\<lbrakk>distinct ms;\n   ms \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n   ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n  \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                    [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                    ms \\<langle>g\\<rangle> [l]\n  distinct (m # ms)\n\ngoal (1 subgoal):\n 1. ms \\<langle>g\\<rangle> [l] \\<odot>\n    [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n    ms \\<langle>g\\<rangle> [l]", "by simp"], ["proof (state)\nthis:\n  ms \\<langle>g\\<rangle> [l] \\<odot>\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n  ms \\<langle>g\\<rangle> [l]\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 ms \\<langle>g\\<rangle> [l] \\<odot>\n                 [l] \\<langle>f\\<rangle> [l] \\<preceq>\n                 ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n                \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<preceq>\n                                  ms \\<langle>g\\<rangle> [l];\n        distinct (a # ms);\n        (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>f\\<rangle> [l] \\<preceq>\n        (a # ms) \\<langle>g\\<rangle> [l]\\<rbrakk>\n       \\<Longrightarrow> (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n                         [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                         (a # ms) \\<langle>g\\<rangle> [l]", "have \"g (m,l) * f (l,l) \\<le> g (m,l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g (m, l) * f (l, l) \\<le> g (m, l)", "using 4"], ["proof (prove)\nusing this:\n  [m] \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n  [m] \\<langle>g\\<rangle> [l] \\<and>\n  ms \\<langle>g\\<rangle> [l] \\<odot> [l] \\<langle>f\\<rangle> [l] \\<preceq>\n  ms \\<langle>g\\<rangle> [l]\n\ngoal (1 subgoal):\n 1. g (m, l) * f (l, l) \\<le> g (m, l)", "by (metis restrict_singleton_product restrict_singleton less_eq_matrix_def)"], ["proof (state)\nthis:\n  g (m, l) * f (l, l) \\<le> g (m, l)\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 ms \\<langle>g\\<rangle> [l] \\<odot>\n                 [l] \\<langle>f\\<rangle> [l] \\<preceq>\n                 ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n                \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<preceq>\n                                  ms \\<langle>g\\<rangle> [l];\n        distinct (a # ms);\n        (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>f\\<rangle> [l] \\<preceq>\n        (a # ms) \\<langle>g\\<rangle> [l]\\<rbrakk>\n       \\<Longrightarrow> (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n                         [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                         (a # ms) \\<langle>g\\<rangle> [l]", "hence 6: \"g (m,l) * (f (l,l))\\<^sup>\\<star> \\<le> g (m,l)\""], ["proof (prove)\nusing this:\n  g (m, l) * f (l, l) \\<le> g (m, l)\n\ngoal (1 subgoal):\n 1. g (m, l) * f (l, l)\\<^sup>\\<star> \\<le> g (m, l)", "by (simp add: star_right_induct_mult)"], ["proof (state)\nthis:\n  g (m, l) * f (l, l)\\<^sup>\\<star> \\<le> g (m, l)\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 ms \\<langle>g\\<rangle> [l] \\<odot>\n                 [l] \\<langle>f\\<rangle> [l] \\<preceq>\n                 ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n                \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<preceq>\n                                  ms \\<langle>g\\<rangle> [l];\n        distinct (a # ms);\n        (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>f\\<rangle> [l] \\<preceq>\n        (a # ms) \\<langle>g\\<rangle> [l]\\<rbrakk>\n       \\<Longrightarrow> (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n                         [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                         (a # ms) \\<langle>g\\<rangle> [l]", "have \"[m]\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>star o f\\<rangle>[l] \\<preceq> [m]\\<langle>g\\<rangle>[l]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [m] \\<langle>g\\<rangle> [l] \\<odot>\n    [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n    [m] \\<langle>g\\<rangle> [l]", "proof (unfold less_eq_matrix_def, rule allI, rule prod_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([m] \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b)\n       \\<le> ([m] \\<langle>g\\<rangle> [l]) (a, b)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([m] \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b)\n       \\<le> ([m] \\<langle>g\\<rangle> [l]) (a, b)", "have \"([m]\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>star o f\\<rangle>[l]) (i,j) = (\\<Squnion>\\<^sub>k ([m]\\<langle>g\\<rangle>[l]) (i,k) * ([l]\\<langle>star o f\\<rangle>[l]) (k,j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([m] \\<langle>g\\<rangle> [l] \\<odot>\n     [l] \\<langle>star \\<circ> f\\<rangle> [l])\n     (i, j) =\n    sup_monoid.sum\n     (\\<lambda>k.\n         ([m] \\<langle>g\\<rangle> [l]) (i, k) *\n         ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (k, j))\n     {k. True}", "by (simp add: times_matrix_def)"], ["proof (state)\nthis:\n  ([m] \\<langle>g\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j) =\n  sup_monoid.sum\n   (\\<lambda>k.\n       ([m] \\<langle>g\\<rangle> [l]) (i, k) *\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (k, j))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([m] \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b)\n       \\<le> ([m] \\<langle>g\\<rangle> [l]) (a, b)", "also"], ["proof (state)\nthis:\n  ([m] \\<langle>g\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j) =\n  sup_monoid.sum\n   (\\<lambda>k.\n       ([m] \\<langle>g\\<rangle> [l]) (i, k) *\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (k, j))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([m] \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b)\n       \\<le> ([m] \\<langle>g\\<rangle> [l]) (a, b)", "have \"... = (\\<Squnion>\\<^sub>k (if i = m \\<and> k = l then g (i,k) else bot) * (if k = l \\<and> j = l then (f (k,j))\\<^sup>\\<star> else bot))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         ([m] \\<langle>g\\<rangle> [l]) (i, k) *\n         ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (k, j))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         (if i = m \\<and> k = l then g (i, k) else bot) *\n         (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n     {k. True}", "by (simp add: restrict_singleton o_def)"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       ([m] \\<langle>g\\<rangle> [l]) (i, k) *\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (k, j))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = m \\<and> k = l then g (i, k) else bot) *\n       (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([m] \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b)\n       \\<le> ([m] \\<langle>g\\<rangle> [l]) (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       ([m] \\<langle>g\\<rangle> [l]) (i, k) *\n       ([l] \\<langle>star \\<circ> f\\<rangle> [l]) (k, j))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = m \\<and> k = l then g (i, k) else bot) *\n       (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([m] \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b)\n       \\<le> ([m] \\<langle>g\\<rangle> [l]) (a, b)", "have \"... = (\\<Squnion>\\<^sub>k if k = l then (if i = m then g (i,k) else bot) * (if j = l then (f (k,j))\\<^sup>\\<star> else bot) else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         (if i = m \\<and> k = l then g (i, k) else bot) *\n         (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n     {k. True} =\n    sup_monoid.sum\n     (\\<lambda>k.\n         if k = l\n         then (if i = m then g (i, k) else bot) *\n              (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n         else bot)\n     {k. True}", "by (rule sup_monoid.sum.cong) auto"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = m \\<and> k = l then g (i, k) else bot) *\n       (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       if k = l\n       then (if i = m then g (i, k) else bot) *\n            (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n       else bot)\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([m] \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b)\n       \\<le> ([m] \\<langle>g\\<rangle> [l]) (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       (if i = m \\<and> k = l then g (i, k) else bot) *\n       (if k = l \\<and> j = l then f (k, j)\\<^sup>\\<star> else bot))\n   {k. True} =\n  sup_monoid.sum\n   (\\<lambda>k.\n       if k = l\n       then (if i = m then g (i, k) else bot) *\n            (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n       else bot)\n   {k. True}\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([m] \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b)\n       \\<le> ([m] \\<langle>g\\<rangle> [l]) (a, b)", "have \"... = (if i = m then g (i,l) else bot) * (if j = l then (f (l,j))\\<^sup>\\<star> else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sup_monoid.sum\n     (\\<lambda>k.\n         if k = l\n         then (if i = m then g (i, k) else bot) *\n              (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n         else bot)\n     {k. True} =\n    (if i = m then g (i, l) else bot) *\n    (if j = l then f (l, j)\\<^sup>\\<star> else bot)", "by simp"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       if k = l\n       then (if i = m then g (i, k) else bot) *\n            (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n       else bot)\n   {k. True} =\n  (if i = m then g (i, l) else bot) *\n  (if j = l then f (l, j)\\<^sup>\\<star> else bot)\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([m] \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b)\n       \\<le> ([m] \\<langle>g\\<rangle> [l]) (a, b)", "also"], ["proof (state)\nthis:\n  sup_monoid.sum\n   (\\<lambda>k.\n       if k = l\n       then (if i = m then g (i, k) else bot) *\n            (if j = l then f (k, j)\\<^sup>\\<star> else bot)\n       else bot)\n   {k. True} =\n  (if i = m then g (i, l) else bot) *\n  (if j = l then f (l, j)\\<^sup>\\<star> else bot)\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([m] \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b)\n       \\<le> ([m] \\<langle>g\\<rangle> [l]) (a, b)", "have \"... = (if i = m \\<and> j = l then g (m,l) * (f (l,l))\\<^sup>\\<star> else bot)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if i = m then g (i, l) else bot) *\n    (if j = l then f (l, j)\\<^sup>\\<star> else bot) =\n    (if i = m \\<and> j = l then g (m, l) * f (l, l)\\<^sup>\\<star> else bot)", "by simp"], ["proof (state)\nthis:\n  (if i = m then g (i, l) else bot) *\n  (if j = l then f (l, j)\\<^sup>\\<star> else bot) =\n  (if i = m \\<and> j = l then g (m, l) * f (l, l)\\<^sup>\\<star> else bot)\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([m] \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b)\n       \\<le> ([m] \\<langle>g\\<rangle> [l]) (a, b)", "also"], ["proof (state)\nthis:\n  (if i = m then g (i, l) else bot) *\n  (if j = l then f (l, j)\\<^sup>\\<star> else bot) =\n  (if i = m \\<and> j = l then g (m, l) * f (l, l)\\<^sup>\\<star> else bot)\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([m] \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b)\n       \\<le> ([m] \\<langle>g\\<rangle> [l]) (a, b)", "have \"... \\<le> ([m]\\<langle>g\\<rangle>[l]) (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if i = m \\<and> j = l then g (m, l) * f (l, l)\\<^sup>\\<star> else bot)\n    \\<le> ([m] \\<langle>g\\<rangle> [l]) (i, j)", "using 6"], ["proof (prove)\nusing this:\n  g (m, l) * f (l, l)\\<^sup>\\<star> \\<le> g (m, l)\n\ngoal (1 subgoal):\n 1. (if i = m \\<and> j = l then g (m, l) * f (l, l)\\<^sup>\\<star> else bot)\n    \\<le> ([m] \\<langle>g\\<rangle> [l]) (i, j)", "by (simp add: restrict_singleton)"], ["proof (state)\nthis:\n  (if i = m \\<and> j = l then g (m, l) * f (l, l)\\<^sup>\\<star> else bot)\n  \\<le> ([m] \\<langle>g\\<rangle> [l]) (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>e a b.\n       ([m] \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>star \\<circ> f\\<rangle> [l])\n        (a, b)\n       \\<le> ([m] \\<langle>g\\<rangle> [l]) (a, b)", "finally"], ["proof (chain)\npicking this:\n  ([m] \\<langle>g\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j)\n  \\<le> ([m] \\<langle>g\\<rangle> [l]) (i, j)", "show \"([m]\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>star o f\\<rangle>[l]) (i,j) \\<le> ([m]\\<langle>g\\<rangle>[l]) (i,j)\""], ["proof (prove)\nusing this:\n  ([m] \\<langle>g\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j)\n  \\<le> ([m] \\<langle>g\\<rangle> [l]) (i, j)\n\ngoal (1 subgoal):\n 1. ([m] \\<langle>g\\<rangle> [l] \\<odot>\n     [l] \\<langle>star \\<circ> f\\<rangle> [l])\n     (i, j)\n    \\<le> ([m] \\<langle>g\\<rangle> [l]) (i, j)", "."], ["proof (state)\nthis:\n  ([m] \\<langle>g\\<rangle> [l] \\<odot>\n   [l] \\<langle>star \\<circ> f\\<rangle> [l])\n   (i, j)\n  \\<le> ([m] \\<langle>g\\<rangle> [l]) (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [m] \\<langle>g\\<rangle> [l] \\<odot>\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n  [m] \\<langle>g\\<rangle> [l]\n\ngoal (1 subgoal):\n 1. \\<And>a ms.\n       \\<lbrakk>\\<lbrakk>distinct ms;\n                 ms \\<langle>g\\<rangle> [l] \\<odot>\n                 [l] \\<langle>f\\<rangle> [l] \\<preceq>\n                 ms \\<langle>g\\<rangle> [l]\\<rbrakk>\n                \\<Longrightarrow> ms \\<langle>g\\<rangle> [l] \\<odot>\n                                  [l] \\<langle>star \\<circ>\n         f\\<rangle> [l] \\<preceq>\n                                  ms \\<langle>g\\<rangle> [l];\n        distinct (a # ms);\n        (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n        [l] \\<langle>f\\<rangle> [l] \\<preceq>\n        (a # ms) \\<langle>g\\<rangle> [l]\\<rbrakk>\n       \\<Longrightarrow> (a # ms) \\<langle>g\\<rangle> [l] \\<odot>\n                         [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n                         (a # ms) \\<langle>g\\<rangle> [l]", "thus \"(m#ms)\\<langle>g\\<rangle>[l] \\<odot> [l]\\<langle>star o f\\<rangle>[l] \\<preceq> (m#ms)\\<langle>g\\<rangle>[l]\""], ["proof (prove)\nusing this:\n  [m] \\<langle>g\\<rangle> [l] \\<odot>\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n  [m] \\<langle>g\\<rangle> [l]\n\ngoal (1 subgoal):\n 1. (m # ms) \\<langle>g\\<rangle> [l] \\<odot>\n    [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n    (m # ms) \\<langle>g\\<rangle> [l]", "using 2 5"], ["proof (prove)\nusing this:\n  [m] \\<langle>g\\<rangle> [l] \\<odot>\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n  [m] \\<langle>g\\<rangle> [l]\n  distinct (m # ms)\n  ms \\<langle>g\\<rangle> [l] \\<odot>\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n  ms \\<langle>g\\<rangle> [l]\n\ngoal (1 subgoal):\n 1. (m # ms) \\<langle>g\\<rangle> [l] \\<odot>\n    [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n    (m # ms) \\<langle>g\\<rangle> [l]", "by (metis (no_types, hide_lams) matrix_idempotent_semiring.mult_right_dist_sup matrix_semilattice_sup.sup.mono restrict_nonempty_left)"], ["proof (state)\nthis:\n  (m # ms) \\<langle>g\\<rangle> [l] \\<odot>\n  [l] \\<langle>star \\<circ> f\\<rangle> [l] \\<preceq>\n  (m # ms) \\<langle>g\\<rangle> [l]\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma restrict_pp:\n  fixes f :: \"('a,'b::p_algebra) square\"\n  shows \"ks\\<langle>\\<ominus>\\<ominus>f\\<rangle>ls = \\<ominus>\\<ominus>(ks\\<langle>f\\<rangle>ls)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ks \\<langle>\\<ominus> \\<ominus> f\\<rangle> ls =\n    \\<ominus> \\<ominus> ks \\<langle>f\\<rangle> ls", "by (unfold restrict_matrix_def uminus_matrix_def) auto"], ["", "lemma pp_star_commute:\n  fixes f :: \"('a,'b::stone_kleene_relation_algebra) square\"\n  shows \"\\<ominus>\\<ominus>(star o f) = star o \\<ominus>\\<ominus>f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> (star \\<circ> f) =\n    star \\<circ> \\<ominus> \\<ominus> f", "by (simp add: uminus_matrix_def o_def pp_dist_star)"], ["", "subsection \\<open>Matrices form a Kleene Algebra\\<close>"], ["", "text \\<open>\nMatrices over Kleene algebras form a Kleene algebra using Conway's construction.\nIt remains to prove one unfold and two induction axioms of the Kleene star.\nEach proof is by induction over the size of the matrix represented by an index list.\n\\<close>"], ["", "interpretation matrix_kleene_algebra: kleene_algebra_var where sup = sup_matrix and less_eq = less_eq_matrix and less = less_matrix and bot = \"bot_matrix::('a::enum,'b::kleene_algebra) square\" and one = one_matrix and times = times_matrix and star = star_matrix"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.kleene_algebra_var star_matrix mone (\\<odot>) (\\<oplus>)\n     (\\<preceq>) (\\<prec>) mbot", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>y.\n       matrix_idempotent_semiring.Rf y (y\\<^sup>\\<odot>) \\<preceq>\n       y\\<^sup>\\<odot>\n 2. \\<And>y x.\n       y \\<odot> x \\<preceq> x \\<longrightarrow>\n       y\\<^sup>\\<odot> \\<odot> x \\<preceq> x\n 3. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "fix y :: \"('a,'b) square\""], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>y.\n       matrix_idempotent_semiring.Rf y (y\\<^sup>\\<odot>) \\<preceq>\n       y\\<^sup>\\<odot>\n 2. \\<And>y x.\n       y \\<odot> x \\<preceq> x \\<longrightarrow>\n       y\\<^sup>\\<odot> \\<odot> x \\<preceq> x\n 3. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "let ?e = \"enum_class.enum::'a list\""], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>y.\n       matrix_idempotent_semiring.Rf y (y\\<^sup>\\<odot>) \\<preceq>\n       y\\<^sup>\\<odot>\n 2. \\<And>y x.\n       y \\<odot> x \\<preceq> x \\<longrightarrow>\n       y\\<^sup>\\<odot> \\<odot> x \\<preceq> x\n 3. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "let ?o = \"mone :: ('a,'b) square\""], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>y.\n       matrix_idempotent_semiring.Rf y (y\\<^sup>\\<odot>) \\<preceq>\n       y\\<^sup>\\<odot>\n 2. \\<And>y x.\n       y \\<odot> x \\<preceq> x \\<longrightarrow>\n       y\\<^sup>\\<odot> \\<odot> x \\<preceq> x\n 3. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "have \"\\<forall>g :: ('a,'b) square . distinct ?e \\<longrightarrow> (?e\\<langle>?o\\<rangle>?e \\<oplus> ?e\\<langle>g\\<rangle>?e \\<odot> star_matrix' ?e g) = (star_matrix' ?e g)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>g.\n       distinct enum_class.enum \\<longrightarrow>\n       enum_class.enum \\<langle>mone\\<rangle> enum_class.enum \\<oplus>\n       enum_class.enum \\<langle>g\\<rangle> enum_class.enum \\<odot>\n       star_matrix' enum_class.enum g =\n       star_matrix' enum_class.enum g", "proof (induct rule: list.induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>g.\n       distinct [] \\<longrightarrow>\n       [] \\<langle>mone\\<rangle> [] \\<oplus>\n       [] \\<langle>g\\<rangle> [] \\<odot> star_matrix' [] g =\n       star_matrix' [] g\n 2. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          x2 \\<langle>mone\\<rangle> x2 \\<oplus>\n          x2 \\<langle>g\\<rangle> x2 \\<odot> star_matrix' x2 g =\n          star_matrix' x2 g \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          (x1 # x2) \\<langle>mone\\<rangle> (x1 # x2) \\<oplus>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<odot>\n          star_matrix' (x1 # x2) g =\n          star_matrix' (x1 # x2) g", "case Nil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<forall>g.\n       distinct [] \\<longrightarrow>\n       [] \\<langle>mone\\<rangle> [] \\<oplus>\n       [] \\<langle>g\\<rangle> [] \\<odot> star_matrix' [] g =\n       star_matrix' [] g\n 2. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          x2 \\<langle>mone\\<rangle> x2 \\<oplus>\n          x2 \\<langle>g\\<rangle> x2 \\<odot> star_matrix' x2 g =\n          star_matrix' x2 g \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          (x1 # x2) \\<langle>mone\\<rangle> (x1 # x2) \\<oplus>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<odot>\n          star_matrix' (x1 # x2) g =\n          star_matrix' (x1 # x2) g", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>g.\n       distinct [] \\<longrightarrow>\n       [] \\<langle>mone\\<rangle> [] \\<oplus>\n       [] \\<langle>g\\<rangle> [] \\<odot> star_matrix' [] g =\n       star_matrix' [] g", "by (simp add: restrict_empty_left)"], ["proof (state)\nthis:\n  \\<forall>g.\n     distinct [] \\<longrightarrow>\n     [] \\<langle>mone\\<rangle> [] \\<oplus>\n     [] \\<langle>g\\<rangle> [] \\<odot> star_matrix' [] g =\n     star_matrix' [] g\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          x2 \\<langle>mone\\<rangle> x2 \\<oplus>\n          x2 \\<langle>g\\<rangle> x2 \\<odot> star_matrix' x2 g =\n          star_matrix' x2 g \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          (x1 # x2) \\<langle>mone\\<rangle> (x1 # x2) \\<oplus>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<odot>\n          star_matrix' (x1 # x2) g =\n          star_matrix' (x1 # x2) g", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          x2 \\<langle>mone\\<rangle> x2 \\<oplus>\n          x2 \\<langle>g\\<rangle> x2 \\<odot> star_matrix' x2 g =\n          star_matrix' x2 g \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          (x1 # x2) \\<langle>mone\\<rangle> (x1 # x2) \\<oplus>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<odot>\n          star_matrix' (x1 # x2) g =\n          star_matrix' (x1 # x2) g", "case (Cons k s)"], ["proof (state)\nthis:\n  \\<forall>g.\n     distinct s \\<longrightarrow>\n     s \\<langle>mone\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot> star_matrix' s g =\n     star_matrix' s g\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          x2 \\<langle>mone\\<rangle> x2 \\<oplus>\n          x2 \\<langle>g\\<rangle> x2 \\<odot> star_matrix' x2 g =\n          star_matrix' x2 g \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          (x1 # x2) \\<langle>mone\\<rangle> (x1 # x2) \\<oplus>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<odot>\n          star_matrix' (x1 # x2) g =\n          star_matrix' (x1 # x2) g", "let ?t = \"k#s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          x2 \\<langle>mone\\<rangle> x2 \\<oplus>\n          x2 \\<langle>g\\<rangle> x2 \\<odot> star_matrix' x2 g =\n          star_matrix' x2 g \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          (x1 # x2) \\<langle>mone\\<rangle> (x1 # x2) \\<oplus>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<odot>\n          star_matrix' (x1 # x2) g =\n          star_matrix' (x1 # x2) g", "assume 1: \"\\<forall>g :: ('a,'b) square . distinct s \\<longrightarrow> (s\\<langle>?o\\<rangle>s \\<oplus> s\\<langle>g\\<rangle>s \\<odot> star_matrix' s g) = (star_matrix' s g)\""], ["proof (state)\nthis:\n  \\<forall>g.\n     distinct s \\<longrightarrow>\n     s \\<langle>mone\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot> star_matrix' s g =\n     star_matrix' s g\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          x2 \\<langle>mone\\<rangle> x2 \\<oplus>\n          x2 \\<langle>g\\<rangle> x2 \\<odot> star_matrix' x2 g =\n          star_matrix' x2 g \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          (x1 # x2) \\<langle>mone\\<rangle> (x1 # x2) \\<oplus>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<odot>\n          star_matrix' (x1 # x2) g =\n          star_matrix' (x1 # x2) g", "show \"\\<forall>g :: ('a,'b) square . distinct ?t \\<longrightarrow> (?t\\<langle>?o\\<rangle>?t \\<oplus> ?t\\<langle>g\\<rangle>?t \\<odot> star_matrix' ?t g) = (star_matrix' ?t g)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>g.\n       distinct (k # s) \\<longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "proof (rule allI, rule impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "fix g :: \"('a,'b) square\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "assume 2: \"distinct ?t\""], ["proof (state)\nthis:\n  distinct (k # s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "let ?r = \"[k]\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "let ?a = \"?r\\<langle>g\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "let ?b = \"?r\\<langle>g\\<rangle>s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "let ?c = \"s\\<langle>g\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "let ?d = \"s\\<langle>g\\<rangle>s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "let ?as = \"?r\\<langle>star o ?a\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "let ?ds = \"star_matrix' s ?d\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "let ?e = \"?a \\<oplus> ?b \\<odot> ?ds \\<odot> ?c\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "let ?es = \"?r\\<langle>star o ?e\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "let ?f = \"?d \\<oplus> ?c \\<odot> ?as \\<odot> ?b\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "let ?fs = \"star_matrix' s ?f\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have \"s\\<langle>?ds\\<rangle>s = ?ds \\<and> s\\<langle>?fs\\<rangle>s = ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> s =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n    s \\<langle>star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> s =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: restrict_star)"], ["proof (state)\nthis:\n  s \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n  s \\<langle>star_matrix' s\n              (s \\<langle>g\\<rangle> s \\<oplus>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "hence 3: \"?r\\<langle>?e\\<rangle>?r = ?e \\<and> s\\<langle>?f\\<rangle>s = ?f\""], ["proof (prove)\nusing this:\n  s \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n  s \\<langle>star_matrix' s\n              (s \\<langle>g\\<rangle> s \\<oplus>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<and>\n    s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s\\<rangle> s =\n    s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s", "by (metis (no_types, lifting) restrict_one_left_unit restrict_sup restrict_times)"], ["proof (state)\nthis:\n  [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<and>\n  s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n             s \\<langle>g\\<rangle> [k] \\<odot>\n             [k] \\<langle>star \\<circ>\n                          [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n             [k] \\<langle>g\\<rangle> s\\<rangle> s =\n  s \\<langle>g\\<rangle> s \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have 4: \"disjoint s ?r \\<and> disjoint ?r s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disjoint s [k] \\<and> disjoint [k] s", "using 2"], ["proof (prove)\nusing this:\n  distinct (k # s)\n\ngoal (1 subgoal):\n 1. disjoint s [k] \\<and> disjoint [k] s", "by (simp add: in_set_member member_rec)"], ["proof (state)\nthis:\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "hence 5: \"?t\\<langle>?o\\<rangle>?t = ?r\\<langle>?o\\<rangle>?r \\<oplus> s\\<langle>?o\\<rangle>s\""], ["proof (prove)\nusing this:\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>mone\\<rangle> (k # s) =\n    [k] \\<langle>mone\\<rangle> [k] \\<oplus> s \\<langle>mone\\<rangle> s", "by (meson member_rec(1) restrict_one)"], ["proof (state)\nthis:\n  (k # s) \\<langle>mone\\<rangle> (k # s) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus> s \\<langle>mone\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have 6: \"?t\\<langle>g\\<rangle>?t \\<odot> ?es = ?a \\<odot> ?es \\<oplus> ?c \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "have \"?t\\<langle>g\\<rangle>?t \\<odot> ?es = (?a \\<oplus> ?b \\<oplus> ?c \\<oplus> ?d) \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<oplus>\n     s \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "have \"... = ?a \\<odot> ?es \\<oplus> ?b \\<odot> ?es \\<oplus> ?c \\<odot> ?es \\<oplus> ?d \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<oplus>\n     s \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "have \"... = ?a \\<odot> ?es \\<oplus> ?c \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "using 4"], ["proof (prove)\nusing this:\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (simp add: times_disjoint)"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "finally"], ["proof (chain)\npicking this:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "show ?thesis"], ["proof (prove)\nusing this:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "."], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have 7: \"?t\\<langle>g\\<rangle>?t \\<odot> ?as \\<odot> ?b \\<odot> ?fs = ?a \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?c \\<odot> ?as \\<odot> ?b \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "have \"?t\\<langle>g\\<rangle>?t \\<odot> ?as \\<odot> ?b \\<odot> ?fs = (?a \\<oplus> ?b \\<oplus> ?c \\<oplus> ?d) \\<odot> ?as \\<odot> ?b \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<oplus>\n     s \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "also"], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "have \"... = ?a \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?b \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?c \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?d \\<odot> ?as \\<odot> ?b \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<oplus>\n     s \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "also"], ["proof (state)\nthis:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "have \"... = ?a \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?c \\<odot> ?as \\<odot> ?b \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 4"], ["proof (prove)\nusing this:\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: times_disjoint)"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "finally"], ["proof (chain)\npicking this:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)", "show ?thesis"], ["proof (prove)\nusing this:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "."], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have 8: \"?t\\<langle>g\\<rangle>?t \\<odot> ?ds \\<odot> ?c \\<odot> ?es = ?b \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?d \\<odot> ?ds \\<odot> ?c \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "have \"?t\\<langle>g\\<rangle>?t \\<odot> ?ds \\<odot> ?c \\<odot> ?es = (?a \\<oplus> ?b \\<oplus> ?c \\<oplus> ?d) \\<odot> ?ds \\<odot> ?c \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<oplus>\n     s \\<langle>g\\<rangle> s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "have \"... = ?a \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?b \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?c \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?d \\<odot> ?ds \\<odot> ?c \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<oplus>\n     s \\<langle>g\\<rangle> s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "have \"... = ?b \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?d \\<odot> ?ds \\<odot> ?c \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> [k] \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "using 4"], ["proof (prove)\nusing this:\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> [k] \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (metis (no_types, lifting) times_disjoint matrix_idempotent_semiring.mult_left_zero restrict_star matrix_bounded_semilattice_sup_bot.sup_monoid.add_0_right matrix_bounded_semilattice_sup_bot.sup_monoid.add_0_left)"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "finally"], ["proof (chain)\npicking this:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "show ?thesis"], ["proof (prove)\nusing this:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "."], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have 9: \"?t\\<langle>g\\<rangle>?t \\<odot> ?fs = ?b \\<odot> ?fs \\<oplus> ?d \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "have \"?t\\<langle>g\\<rangle>?t \\<odot> ?fs = (?a \\<oplus> ?b \\<oplus> ?c \\<oplus> ?d) \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<oplus>\n     s \\<langle>g\\<rangle> s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "also"], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "have \"... = ?a \\<odot> ?fs \\<oplus> ?b \\<odot> ?fs \\<oplus> ?c \\<odot> ?fs \\<oplus> ?d \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<oplus>\n     s \\<langle>g\\<rangle> s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "also"], ["proof (state)\nthis:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus> [k] \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "have \"... = ?b \\<odot> ?fs \\<oplus> ?d \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> [k] \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 4"], ["proof (prove)\nusing this:\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> [k] \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (metis (no_types, lifting) times_disjoint restrict_star matrix_bounded_semilattice_sup_bot.sup_monoid.add_0_right matrix_bounded_semilattice_sup_bot.sup_monoid.add_0_left)"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "finally"], ["proof (chain)\npicking this:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)", "show ?thesis"], ["proof (prove)\nusing this:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "."], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have \"?t\\<langle>?o\\<rangle>?t \\<oplus> ?t\\<langle>g\\<rangle>?t \\<odot> star_matrix' ?t g = ?t\\<langle>?o\\<rangle>?t \\<oplus> ?t\\<langle>g\\<rangle>?t \\<odot> (?es \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?fs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n    (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s))", "by (metis star_matrix'.simps(2))"], ["proof (state)\nthis:\n  (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n  (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s))\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "also"], ["proof (state)\nthis:\n  (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n  (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s))\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have \"... = ?t\\<langle>?o\\<rangle>?t \\<oplus> ?t\\<langle>g\\<rangle>?t \\<odot> ?es \\<oplus> ?t\\<langle>g\\<rangle>?t \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?t\\<langle>g\\<rangle>?t \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?t\\<langle>g\\<rangle>?t \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) =\n    (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: matrix_idempotent_semiring.mult_left_dist_sup matrix_monoid.mult_assoc matrix_semilattice_sup.sup_assoc)"], ["proof (state)\nthis:\n  (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) =\n  (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "also"], ["proof (state)\nthis:\n  (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) =\n  (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have \"... = ?r\\<langle>?o\\<rangle>?r \\<oplus> s\\<langle>?o\\<rangle>s \\<oplus> ?a \\<odot> ?es \\<oplus> ?c \\<odot> ?es \\<oplus> ?a \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?c \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?b \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?d \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?b \\<odot> ?fs \\<oplus> ?d \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    s \\<langle>mone\\<rangle> s \\<oplus>\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 5 6 7 8 9"], ["proof (prove)\nusing this:\n  (k # s) \\<langle>mone\\<rangle> (k # s) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus> s \\<langle>mone\\<rangle> s\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    s \\<langle>mone\\<rangle> s \\<oplus>\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: matrix_semilattice_sup.sup.assoc)"], ["proof (state)\nthis:\n  (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  s \\<langle>mone\\<rangle> s \\<oplus>\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "also"], ["proof (state)\nthis:\n  (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  s \\<langle>mone\\<rangle> s \\<oplus>\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have \"... = (?r\\<langle>?o\\<rangle>?r \\<oplus> (?a \\<odot> ?es \\<oplus> ?b \\<odot> ?ds \\<odot> ?c \\<odot> ?es)) \\<oplus> (?b \\<odot> ?fs \\<oplus> ?a \\<odot> ?as \\<odot> ?b \\<odot> ?fs) \\<oplus> (?c \\<odot> ?es \\<oplus> ?d \\<odot> ?ds \\<odot> ?c \\<odot> ?es) \\<oplus> (s\\<langle>?o\\<rangle>s \\<oplus> (?d \\<odot> ?fs \\<oplus> ?c \\<odot> ?as \\<odot> ?b \\<odot> ?fs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    s \\<langle>mone\\<rangle> s \\<oplus>\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n    ([k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) \\<oplus>\n    (s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     (s \\<langle>g\\<rangle> s \\<odot>\n      star_matrix' s\n       (s \\<langle>g\\<rangle> s \\<oplus>\n        s \\<langle>g\\<rangle> [k] \\<odot>\n        [k] \\<langle>star \\<circ>\n                     [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n        [k] \\<langle>g\\<rangle> s) \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s \\<odot>\n      star_matrix' s\n       (s \\<langle>g\\<rangle> s \\<oplus>\n        s \\<langle>g\\<rangle> [k] \\<odot>\n        [k] \\<langle>star \\<circ>\n                     [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n        [k] \\<langle>g\\<rangle> s)))", "by (simp only: matrix_semilattice_sup.sup_assoc matrix_semilattice_sup.sup_commute matrix_semilattice_sup.sup_left_commute)"], ["proof (state)\nthis:\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  s \\<langle>mone\\<rangle> s \\<oplus>\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  ([k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<oplus>\n  (s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   (s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)))\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "also"], ["proof (state)\nthis:\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  s \\<langle>mone\\<rangle> s \\<oplus>\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  ([k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<oplus>\n  (s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   (s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)))\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have \"... = (?r\\<langle>?o\\<rangle>?r \\<oplus> (?a \\<odot> ?es \\<oplus> ?b \\<odot> ?ds \\<odot> ?c \\<odot> ?es)) \\<oplus> (?r\\<langle>?o\\<rangle>?r \\<odot> ?b \\<odot> ?fs \\<oplus> ?a \\<odot> ?as \\<odot> ?b \\<odot> ?fs) \\<oplus> (s\\<langle>?o\\<rangle>s \\<odot> ?c \\<odot> ?es \\<oplus> ?d \\<odot> ?ds \\<odot> ?c \\<odot> ?es) \\<oplus> (s\\<langle>?o\\<rangle>s \\<oplus> (?d \\<odot> ?fs \\<oplus> ?c \\<odot> ?as \\<odot> ?b \\<odot> ?fs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n    ([k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) \\<oplus>\n    (s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     (s \\<langle>g\\<rangle> s \\<odot>\n      star_matrix' s\n       (s \\<langle>g\\<rangle> s \\<oplus>\n        s \\<langle>g\\<rangle> [k] \\<odot>\n        [k] \\<langle>star \\<circ>\n                     [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n        [k] \\<langle>g\\<rangle> s) \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s \\<odot>\n      star_matrix' s\n       (s \\<langle>g\\<rangle> s \\<oplus>\n        s \\<langle>g\\<rangle> [k] \\<odot>\n        [k] \\<langle>star \\<circ>\n                     [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n        [k] \\<langle>g\\<rangle> s))) =\n    [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     (s \\<langle>g\\<rangle> s \\<odot>\n      star_matrix' s\n       (s \\<langle>g\\<rangle> s \\<oplus>\n        s \\<langle>g\\<rangle> [k] \\<odot>\n        [k] \\<langle>star \\<circ>\n                     [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n        [k] \\<langle>g\\<rangle> s) \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s \\<odot>\n      star_matrix' s\n       (s \\<langle>g\\<rangle> s \\<oplus>\n        s \\<langle>g\\<rangle> [k] \\<odot>\n        [k] \\<langle>star \\<circ>\n                     [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n        [k] \\<langle>g\\<rangle> s)))", "by (simp add: restrict_one_left_unit)"], ["proof (state)\nthis:\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  ([k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<oplus>\n  (s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   (s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s))) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   (s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)))\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "also"], ["proof (state)\nthis:\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  ([k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<oplus>\n  (s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   (s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s))) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   (s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)))\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have \"... = (?r\\<langle>?o\\<rangle>?r \\<oplus> ?e \\<odot> ?es) \\<oplus> ((?r\\<langle>?o\\<rangle>?r \\<oplus> ?a \\<odot> ?as) \\<odot> ?b \\<odot> ?fs) \\<oplus> ((s\\<langle>?o\\<rangle>s \\<oplus> ?d \\<odot> ?ds) \\<odot> ?c \\<odot> ?es) \\<oplus> (s\\<langle>?o\\<rangle>s \\<oplus> ?f \\<odot> ?fs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     (s \\<langle>g\\<rangle> s \\<odot>\n      star_matrix' s\n       (s \\<langle>g\\<rangle> s \\<oplus>\n        s \\<langle>g\\<rangle> [k] \\<odot>\n        [k] \\<langle>star \\<circ>\n                     [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n        [k] \\<langle>g\\<rangle> s) \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s \\<odot>\n      star_matrix' s\n       (s \\<langle>g\\<rangle> s \\<oplus>\n        s \\<langle>g\\<rangle> [k] \\<odot>\n        [k] \\<langle>star \\<circ>\n                     [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n        [k] \\<langle>g\\<rangle> s))) =\n    [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s))", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   (s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s))) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s))\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "also"], ["proof (state)\nthis:\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   (s \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s))) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s))\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have \"... = (?r\\<langle>?o\\<rangle>?r \\<oplus> ?e \\<odot> ?es) \\<oplus> ((?r\\<langle>?o\\<rangle>?r \\<oplus> ?a \\<odot> ?as) \\<odot> ?b \\<odot> ?fs) \\<oplus> ((s\\<langle>?o\\<rangle>s \\<oplus> ?d \\<odot> ?ds) \\<odot> ?c \\<odot> ?es) \\<oplus> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) =\n    [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 1 2 3"], ["proof (prove)\nusing this:\n  \\<forall>g.\n     distinct s \\<longrightarrow>\n     s \\<langle>mone\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot> star_matrix' s g =\n     star_matrix' s g\n  distinct (k # s)\n  [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<and>\n  s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n             s \\<langle>g\\<rangle> [k] \\<odot>\n             [k] \\<langle>star \\<circ>\n                          [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n             [k] \\<langle>g\\<rangle> s\\<rangle> s =\n  s \\<langle>g\\<rangle> s \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) =\n    [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (metis distinct.simps(2))"], ["proof (state)\nthis:\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "also"], ["proof (state)\nthis:\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have \"... = (?r\\<langle>?o\\<rangle>?r \\<oplus> ?e \\<odot> ?es) \\<oplus> ((?r\\<langle>?o\\<rangle>?r \\<oplus> ?a \\<odot> ?as) \\<odot> ?b \\<odot> ?fs) \\<oplus> (?ds \\<odot> ?c \\<odot> ?es) \\<oplus> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 1 2"], ["proof (prove)\nusing this:\n  \\<forall>g.\n     distinct s \\<longrightarrow>\n     s \\<langle>mone\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot> star_matrix' s g =\n     star_matrix' s g\n  distinct (k # s)\n\ngoal (1 subgoal):\n 1. [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    (s \\<langle>mone\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (metis (no_types, lifting) distinct.simps(2) restrict_superlist)"], ["proof (state)\nthis:\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "also"], ["proof (state)\nthis:\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  (s \\<langle>mone\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s)) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have \"... = ?es \\<oplus> ((?r\\<langle>?o\\<rangle>?r \\<oplus> ?a \\<odot> ?as) \\<odot> ?b \\<odot> ?fs) \\<oplus> (?ds \\<odot> ?c \\<odot> ?es) \\<oplus> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 3"], ["proof (prove)\nusing this:\n  [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<and>\n  s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n             s \\<langle>g\\<rangle> [k] \\<odot>\n             [k] \\<langle>star \\<circ>\n                          [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n             [k] \\<langle>g\\<rangle> s\\<rangle> s =\n  s \\<langle>g\\<rangle> s \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (metis restrict_star_unfold)"], ["proof (state)\nthis:\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "also"], ["proof (state)\nthis:\n  [k] \\<langle>mone\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have \"... = ?es \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (metis (no_types, lifting) restrict_one_left_unit restrict_star_unfold restrict_times)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([k] \\<langle>mone\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "have \"... = star_matrix' ?t g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    star_matrix' (k # s) g", "by (metis star_matrix'.simps(2))"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  star_matrix' (k # s) g\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n       star_matrix' (k # s) g", "finally"], ["proof (chain)\npicking this:\n  (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n  star_matrix' (k # s) g", "show \"?t\\<langle>?o\\<rangle>?t \\<oplus> ?t\\<langle>g\\<rangle>?t \\<odot> star_matrix' ?t g = star_matrix' ?t g\""], ["proof (prove)\nusing this:\n  (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n  star_matrix' (k # s) g\n\ngoal (1 subgoal):\n 1. (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n    star_matrix' (k # s) g", "."], ["proof (state)\nthis:\n  (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n  star_matrix' (k # s) g\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>g.\n     distinct (k # s) \\<longrightarrow>\n     (k # s) \\<langle>mone\\<rangle> (k # s) \\<oplus>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n     star_matrix' (k # s) g\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>g.\n     distinct enum_class.enum \\<longrightarrow>\n     enum_class.enum \\<langle>mone\\<rangle> enum_class.enum \\<oplus>\n     enum_class.enum \\<langle>g\\<rangle> enum_class.enum \\<odot>\n     star_matrix' enum_class.enum g =\n     star_matrix' enum_class.enum g\n\ngoal (3 subgoals):\n 1. \\<And>y.\n       matrix_idempotent_semiring.Rf y (y\\<^sup>\\<odot>) \\<preceq>\n       y\\<^sup>\\<odot>\n 2. \\<And>y x.\n       y \\<odot> x \\<preceq> x \\<longrightarrow>\n       y\\<^sup>\\<odot> \\<odot> x \\<preceq> x\n 3. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "thus \"?o \\<oplus> y \\<odot> y\\<^sup>\\<odot> \\<preceq> y\\<^sup>\\<odot>\""], ["proof (prove)\nusing this:\n  \\<forall>g.\n     distinct enum_class.enum \\<longrightarrow>\n     enum_class.enum \\<langle>mone\\<rangle> enum_class.enum \\<oplus>\n     enum_class.enum \\<langle>g\\<rangle> enum_class.enum \\<odot>\n     star_matrix' enum_class.enum g =\n     star_matrix' enum_class.enum g\n\ngoal (1 subgoal):\n 1. matrix_idempotent_semiring.Rf y (y\\<^sup>\\<odot>) \\<preceq>\n    y\\<^sup>\\<odot>", "by (simp add: enum_distinct restrict_all)"], ["proof (state)\nthis:\n  matrix_idempotent_semiring.Rf y (y\\<^sup>\\<odot>) \\<preceq>\n  y\\<^sup>\\<odot>\n\ngoal (2 subgoals):\n 1. \\<And>y x.\n       y \\<odot> x \\<preceq> x \\<longrightarrow>\n       y\\<^sup>\\<odot> \\<odot> x \\<preceq> x\n 2. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y x.\n       y \\<odot> x \\<preceq> x \\<longrightarrow>\n       y\\<^sup>\\<odot> \\<odot> x \\<preceq> x\n 2. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "fix x y z :: \"('a,'b) square\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y x.\n       y \\<odot> x \\<preceq> x \\<longrightarrow>\n       y\\<^sup>\\<odot> \\<odot> x \\<preceq> x\n 2. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "let ?e = \"enum_class.enum::'a list\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y x.\n       y \\<odot> x \\<preceq> x \\<longrightarrow>\n       y\\<^sup>\\<odot> \\<odot> x \\<preceq> x\n 2. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "have \"\\<forall>g h :: ('a,'b) square . \\<forall>zs . distinct ?e \\<and> distinct zs \\<longrightarrow> (?e\\<langle>g\\<rangle>?e \\<odot> ?e\\<langle>h\\<rangle>zs \\<preceq> ?e\\<langle>h\\<rangle>zs \\<longrightarrow> star_matrix' ?e g \\<odot> ?e\\<langle>h\\<rangle>zs \\<preceq> ?e\\<langle>h\\<rangle>zs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>g h zs.\n       distinct enum_class.enum \\<and> distinct zs \\<longrightarrow>\n       enum_class.enum \\<langle>g\\<rangle> enum_class.enum \\<odot>\n       enum_class.enum \\<langle>h\\<rangle> zs \\<preceq>\n       enum_class.enum \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' enum_class.enum g \\<odot>\n       enum_class.enum \\<langle>h\\<rangle> zs \\<preceq>\n       enum_class.enum \\<langle>h\\<rangle> zs", "proof (induct rule: list.induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>g h zs.\n       distinct [] \\<and> distinct zs \\<longrightarrow>\n       [] \\<langle>g\\<rangle> [] \\<odot> [] \\<langle>h\\<rangle> zs \\<preceq>\n       [] \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' [] g \\<odot> [] \\<langle>h\\<rangle> zs \\<preceq>\n       [] \\<langle>h\\<rangle> zs\n 2. \\<And>x1 x2.\n       \\<forall>g h zs.\n          distinct x2 \\<and> distinct zs \\<longrightarrow>\n          x2 \\<langle>g\\<rangle> x2 \\<odot>\n          x2 \\<langle>h\\<rangle> zs \\<preceq>\n          x2 \\<langle>h\\<rangle> zs \\<longrightarrow>\n          star_matrix' x2 g \\<odot> x2 \\<langle>h\\<rangle> zs \\<preceq>\n          x2 \\<langle>h\\<rangle> zs \\<Longrightarrow>\n       \\<forall>g h zs.\n          distinct (x1 # x2) \\<and> distinct zs \\<longrightarrow>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<odot>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<preceq>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<longrightarrow>\n          star_matrix' (x1 # x2) g \\<odot>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<preceq>\n          (x1 # x2) \\<langle>h\\<rangle> zs", "case Nil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<forall>g h zs.\n       distinct [] \\<and> distinct zs \\<longrightarrow>\n       [] \\<langle>g\\<rangle> [] \\<odot> [] \\<langle>h\\<rangle> zs \\<preceq>\n       [] \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' [] g \\<odot> [] \\<langle>h\\<rangle> zs \\<preceq>\n       [] \\<langle>h\\<rangle> zs\n 2. \\<And>x1 x2.\n       \\<forall>g h zs.\n          distinct x2 \\<and> distinct zs \\<longrightarrow>\n          x2 \\<langle>g\\<rangle> x2 \\<odot>\n          x2 \\<langle>h\\<rangle> zs \\<preceq>\n          x2 \\<langle>h\\<rangle> zs \\<longrightarrow>\n          star_matrix' x2 g \\<odot> x2 \\<langle>h\\<rangle> zs \\<preceq>\n          x2 \\<langle>h\\<rangle> zs \\<Longrightarrow>\n       \\<forall>g h zs.\n          distinct (x1 # x2) \\<and> distinct zs \\<longrightarrow>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<odot>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<preceq>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<longrightarrow>\n          star_matrix' (x1 # x2) g \\<odot>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<preceq>\n          (x1 # x2) \\<langle>h\\<rangle> zs", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>g h zs.\n       distinct [] \\<and> distinct zs \\<longrightarrow>\n       [] \\<langle>g\\<rangle> [] \\<odot> [] \\<langle>h\\<rangle> zs \\<preceq>\n       [] \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' [] g \\<odot> [] \\<langle>h\\<rangle> zs \\<preceq>\n       [] \\<langle>h\\<rangle> zs", "by (simp add: restrict_empty_left)"], ["proof (state)\nthis:\n  \\<forall>g h zs.\n     distinct [] \\<and> distinct zs \\<longrightarrow>\n     [] \\<langle>g\\<rangle> [] \\<odot> [] \\<langle>h\\<rangle> zs \\<preceq>\n     [] \\<langle>h\\<rangle> zs \\<longrightarrow>\n     star_matrix' [] g \\<odot> [] \\<langle>h\\<rangle> zs \\<preceq>\n     [] \\<langle>h\\<rangle> zs\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g h zs.\n          distinct x2 \\<and> distinct zs \\<longrightarrow>\n          x2 \\<langle>g\\<rangle> x2 \\<odot>\n          x2 \\<langle>h\\<rangle> zs \\<preceq>\n          x2 \\<langle>h\\<rangle> zs \\<longrightarrow>\n          star_matrix' x2 g \\<odot> x2 \\<langle>h\\<rangle> zs \\<preceq>\n          x2 \\<langle>h\\<rangle> zs \\<Longrightarrow>\n       \\<forall>g h zs.\n          distinct (x1 # x2) \\<and> distinct zs \\<longrightarrow>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<odot>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<preceq>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<longrightarrow>\n          star_matrix' (x1 # x2) g \\<odot>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<preceq>\n          (x1 # x2) \\<langle>h\\<rangle> zs", "case (Cons k s)"], ["proof (state)\nthis:\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs \\<longrightarrow>\n     star_matrix' s g \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g h zs.\n          distinct x2 \\<and> distinct zs \\<longrightarrow>\n          x2 \\<langle>g\\<rangle> x2 \\<odot>\n          x2 \\<langle>h\\<rangle> zs \\<preceq>\n          x2 \\<langle>h\\<rangle> zs \\<longrightarrow>\n          star_matrix' x2 g \\<odot> x2 \\<langle>h\\<rangle> zs \\<preceq>\n          x2 \\<langle>h\\<rangle> zs \\<Longrightarrow>\n       \\<forall>g h zs.\n          distinct (x1 # x2) \\<and> distinct zs \\<longrightarrow>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<odot>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<preceq>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<longrightarrow>\n          star_matrix' (x1 # x2) g \\<odot>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<preceq>\n          (x1 # x2) \\<langle>h\\<rangle> zs", "let ?t = \"k#s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g h zs.\n          distinct x2 \\<and> distinct zs \\<longrightarrow>\n          x2 \\<langle>g\\<rangle> x2 \\<odot>\n          x2 \\<langle>h\\<rangle> zs \\<preceq>\n          x2 \\<langle>h\\<rangle> zs \\<longrightarrow>\n          star_matrix' x2 g \\<odot> x2 \\<langle>h\\<rangle> zs \\<preceq>\n          x2 \\<langle>h\\<rangle> zs \\<Longrightarrow>\n       \\<forall>g h zs.\n          distinct (x1 # x2) \\<and> distinct zs \\<longrightarrow>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<odot>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<preceq>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<longrightarrow>\n          star_matrix' (x1 # x2) g \\<odot>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<preceq>\n          (x1 # x2) \\<langle>h\\<rangle> zs", "assume 1: \"\\<forall>g h :: ('a,'b) square . \\<forall>zs . distinct s \\<and> distinct zs \\<longrightarrow> (s\\<langle>g\\<rangle>s \\<odot> s\\<langle>h\\<rangle>zs \\<preceq> s\\<langle>h\\<rangle>zs \\<longrightarrow> star_matrix' s g \\<odot> s\\<langle>h\\<rangle>zs \\<preceq> s\\<langle>h\\<rangle>zs)\""], ["proof (state)\nthis:\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs \\<longrightarrow>\n     star_matrix' s g \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g h zs.\n          distinct x2 \\<and> distinct zs \\<longrightarrow>\n          x2 \\<langle>g\\<rangle> x2 \\<odot>\n          x2 \\<langle>h\\<rangle> zs \\<preceq>\n          x2 \\<langle>h\\<rangle> zs \\<longrightarrow>\n          star_matrix' x2 g \\<odot> x2 \\<langle>h\\<rangle> zs \\<preceq>\n          x2 \\<langle>h\\<rangle> zs \\<Longrightarrow>\n       \\<forall>g h zs.\n          distinct (x1 # x2) \\<and> distinct zs \\<longrightarrow>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<odot>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<preceq>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<longrightarrow>\n          star_matrix' (x1 # x2) g \\<odot>\n          (x1 # x2) \\<langle>h\\<rangle> zs \\<preceq>\n          (x1 # x2) \\<langle>h\\<rangle> zs", "show \"\\<forall>g h :: ('a,'b) square . \\<forall>zs . distinct ?t \\<and> distinct zs \\<longrightarrow> (?t\\<langle>g\\<rangle>?t \\<odot> ?t\\<langle>h\\<rangle>zs \\<preceq> ?t\\<langle>h\\<rangle>zs \\<longrightarrow> star_matrix' ?t g \\<odot> ?t\\<langle>h\\<rangle>zs \\<preceq> ?t\\<langle>h\\<rangle>zs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>g h zs.\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' (k # s) g \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs", "proof (intro allI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g h zs.\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' (k # s) g \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs", "fix g h :: \"('a,'b) square\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g h zs.\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' (k # s) g \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs", "fix zs :: \"'a list\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g h zs.\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' (k # s) g \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs", "show \"distinct ?t \\<and> distinct zs \\<longrightarrow> (?t\\<langle>g\\<rangle>?t \\<odot> ?t\\<langle>h\\<rangle>zs \\<preceq> ?t\\<langle>h\\<rangle>zs \\<longrightarrow> star_matrix' ?t g \\<odot> ?t\\<langle>h\\<rangle>zs \\<preceq> ?t\\<langle>h\\<rangle>zs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n    (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n    star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n    (k # s) \\<langle>h\\<rangle> zs", "proof (cases zs)"], ["proof (state)\ngoal (2 subgoals):\n 1. zs = [] \\<Longrightarrow>\n    distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n    (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n    star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n    (k # s) \\<langle>h\\<rangle> zs\n 2. \\<And>a list.\n       zs = a # list \\<Longrightarrow>\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' (k # s) g \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs", "case Nil"], ["proof (state)\nthis:\n  zs = []\n\ngoal (2 subgoals):\n 1. zs = [] \\<Longrightarrow>\n    distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n    (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n    star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n    (k # s) \\<langle>h\\<rangle> zs\n 2. \\<And>a list.\n       zs = a # list \\<Longrightarrow>\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' (k # s) g \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs", "thus ?thesis"], ["proof (prove)\nusing this:\n  zs = []\n\ngoal (1 subgoal):\n 1. distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n    (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n    star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n    (k # s) \\<langle>h\\<rangle> zs", "by (metis restrict_empty_right restrict_star restrict_times)"], ["proof (state)\nthis:\n  distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n  (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n  star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n  (k # s) \\<langle>h\\<rangle> zs\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       zs = a # list \\<Longrightarrow>\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' (k # s) g \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list.\n       zs = a # list \\<Longrightarrow>\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' (k # s) g \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs", "case (Cons y ys)"], ["proof (state)\nthis:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       zs = a # list \\<Longrightarrow>\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' (k # s) g \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs", "assume 2: \"zs = y#ys\""], ["proof (state)\nthis:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       zs = a # list \\<Longrightarrow>\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n       star_matrix' (k # s) g \\<odot>\n       (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n       (k # s) \\<langle>h\\<rangle> zs", "show \"distinct ?t \\<and> distinct zs \\<longrightarrow> (?t\\<langle>g\\<rangle>?t \\<odot> ?t\\<langle>h\\<rangle>zs \\<preceq> ?t\\<langle>h\\<rangle>zs \\<longrightarrow> star_matrix' ?t g \\<odot> ?t\\<langle>h\\<rangle>zs \\<preceq> ?t\\<langle>h\\<rangle>zs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n    (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n    star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n    (k # s) \\<langle>h\\<rangle> zs", "proof (intro impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?y = \"[y]\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "assume 3: \"distinct ?t \\<and> distinct zs\""], ["proof (state)\nthis:\n  distinct (k # s) \\<and> distinct zs\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "hence 4: \"distinct s \\<and> distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\""], ["proof (prove)\nusing this:\n  distinct (k # s) \\<and> distinct zs\n\ngoal (1 subgoal):\n 1. distinct s \\<and>\n    distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y", "using 2"], ["proof (prove)\nusing this:\n  distinct (k # s) \\<and> distinct zs\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. distinct s \\<and>\n    distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y", "by (simp add: List.member_def)"], ["proof (state)\nthis:\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?r = \"[k]\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?a = \"?r\\<langle>g\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?b = \"?r\\<langle>g\\<rangle>s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?c = \"s\\<langle>g\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?d = \"s\\<langle>g\\<rangle>s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?as = \"?r\\<langle>star o ?a\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?ds = \"star_matrix' s ?d\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?e = \"?a \\<oplus> ?b \\<odot> ?ds \\<odot> ?c\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?es = \"?r\\<langle>star o ?e\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?f = \"?d \\<oplus> ?c \\<odot> ?as \\<odot> ?b\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?fs = \"star_matrix' s ?f\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?ha = \"?r\\<langle>h\\<rangle>?y\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?hb = \"?r\\<langle>h\\<rangle>ys\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?hc = \"s\\<langle>h\\<rangle>?y\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "let ?hd = \"s\\<langle>h\\<rangle>ys\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "assume \"?t\\<langle>g\\<rangle>?t \\<odot> ?t\\<langle>h\\<rangle>zs \\<preceq> ?t\\<langle>h\\<rangle>zs\""], ["proof (state)\nthis:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n  (k # s) \\<langle>h\\<rangle> zs\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "hence 5: \"?a \\<odot> ?ha \\<oplus> ?b \\<odot> ?hc \\<preceq> ?ha \\<and> ?a \\<odot> ?hb \\<oplus> ?b \\<odot> ?hd \\<preceq> ?hb \\<and> ?c \\<odot> ?ha \\<oplus> ?d \\<odot> ?hc \\<preceq> ?hc \\<and> ?c \\<odot> ?hb \\<oplus> ?d \\<odot> ?hd \\<preceq> ?hd\""], ["proof (prove)\nusing this:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n  (k # s) \\<langle>h\\<rangle> zs\n\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y] \\<and>\n    [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys \\<and>\n    s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y] \\<and>\n    s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "using 2 3 4"], ["proof (prove)\nusing this:\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n  (k # s) \\<langle>h\\<rangle> zs\n  zs = y # ys\n  distinct (k # s) \\<and> distinct zs\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y] \\<and>\n    [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys \\<and>\n    s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y] \\<and>\n    s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n    s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "by (simp add: restrict_nonempty_product_less_eq)"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 6: \"s\\<langle>?ds\\<rangle>s = ?ds \\<and> s\\<langle>?fs\\<rangle>s = ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> s =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n    s \\<langle>star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> s =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: restrict_star)"], ["proof (state)\nthis:\n  s \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n  s \\<langle>star_matrix' s\n              (s \\<langle>g\\<rangle> s \\<oplus>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "hence 7: \"?r\\<langle>?e\\<rangle>?r = ?e \\<and> s\\<langle>?f\\<rangle>s = ?f\""], ["proof (prove)\nusing this:\n  s \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n  s \\<langle>star_matrix' s\n              (s \\<langle>g\\<rangle> s \\<oplus>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<and>\n    s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s\\<rangle> s =\n    s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s", "by (metis (no_types, lifting) restrict_one_left_unit restrict_sup restrict_times)"], ["proof (state)\nthis:\n  [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<and>\n  s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n             s \\<langle>g\\<rangle> [k] \\<odot>\n             [k] \\<langle>star \\<circ>\n                          [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n             [k] \\<langle>g\\<rangle> s\\<rangle> s =\n  s \\<langle>g\\<rangle> s \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 8: \"disjoint s ?r \\<and> disjoint ?r s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disjoint s [k] \\<and> disjoint [k] s", "using 3"], ["proof (prove)\nusing this:\n  distinct (k # s) \\<and> distinct zs\n\ngoal (1 subgoal):\n 1. disjoint s [k] \\<and> disjoint [k] s", "by (simp add: in_set_member member_rec(1) member_rec(2))"], ["proof (state)\nthis:\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 9: \"?es \\<odot> ?t\\<langle>h\\<rangle>zs = ?es \\<odot> ?ha \\<oplus> ?es \\<odot> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "have \"?es \\<odot> ?t\\<langle>h\\<rangle>zs = ?es \\<odot> (?ha \\<oplus> ?hb \\<oplus> ?hc \\<oplus> ?hd)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    ([k] \\<langle>h\\<rangle> [y] \\<oplus>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     s \\<langle>h\\<rangle> [y] \\<oplus>\n     s \\<langle>h\\<rangle> ys)", "using 2"], ["proof (prove)\nusing this:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    ([k] \\<langle>h\\<rangle> [y] \\<oplus>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     s \\<langle>h\\<rangle> [y] \\<oplus>\n     s \\<langle>h\\<rangle> ys)", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys)\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys)\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "have \"... = ?es \\<odot> ?ha \\<oplus> ?es \\<odot> ?hb \\<oplus> ?es \\<odot> ?hc \\<oplus> ?es \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    ([k] \\<langle>h\\<rangle> [y] \\<oplus>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     s \\<langle>h\\<rangle> [y] \\<oplus>\n     s \\<langle>h\\<rangle> ys) =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    s \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_left_dist_sup)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys) =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys) =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "have \"... = ?es \\<odot> ?ha \\<oplus> ?es \\<odot> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    s \\<langle>h\\<rangle> ys =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "using 8"], ["proof (prove)\nusing this:\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    s \\<langle>h\\<rangle> ys =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "by (simp add: times_disjoint)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> ys =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "finally"], ["proof (chain)\npicking this:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys", "show ?thesis"], ["proof (prove)\nusing this:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "."], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 10: \"?as \\<odot> ?b \\<odot> ?fs \\<odot> ?t\\<langle>h\\<rangle>zs = ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hc \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "have \"?as \\<odot> ?b \\<odot> ?fs \\<odot> ?t\\<langle>h\\<rangle>zs = ?as \\<odot> ?b \\<odot> ?fs \\<odot> (?ha \\<oplus> ?hb \\<oplus> ?hc \\<oplus> ?hd)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    ([k] \\<langle>h\\<rangle> [y] \\<oplus>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     s \\<langle>h\\<rangle> [y] \\<oplus>\n     s \\<langle>h\\<rangle> ys)", "using 2"], ["proof (prove)\nusing this:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    ([k] \\<langle>h\\<rangle> [y] \\<oplus>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     s \\<langle>h\\<rangle> [y] \\<oplus>\n     s \\<langle>h\\<rangle> ys)", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys)\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys)\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "have \"... = ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?ha \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hb \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hc \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    ([k] \\<langle>h\\<rangle> [y] \\<oplus>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     s \\<langle>h\\<rangle> [y] \\<oplus>\n     s \\<langle>h\\<rangle> ys) =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_left_dist_sup)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys) =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys) =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "have \"... = ?as \\<odot> ?b \\<odot> (?fs \\<odot> ?ha) \\<oplus> ?as \\<odot> ?b \\<odot> (?fs \\<odot> ?hb) \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hc \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    (star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     [k] \\<langle>h\\<rangle> [y]) \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    (star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     [k] \\<langle>h\\<rangle> ys) \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "by (simp add: matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  (star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   [k] \\<langle>h\\<rangle> [y]) \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  (star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   [k] \\<langle>h\\<rangle> ys) \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  (star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   [k] \\<langle>h\\<rangle> [y]) \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  (star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   [k] \\<langle>h\\<rangle> ys) \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "have \"... = ?as \\<odot> ?b \\<odot> mbot \\<oplus> ?as \\<odot> ?b \\<odot> mbot \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hc \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    (star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     [k] \\<langle>h\\<rangle> [y]) \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    (star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     [k] \\<langle>h\\<rangle> ys) \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    mbot \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    mbot \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "using 6 8"], ["proof (prove)\nusing this:\n  s \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n  s \\<langle>star_matrix' s\n              (s \\<langle>g\\<rangle> s \\<oplus>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    (star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     [k] \\<langle>h\\<rangle> [y]) \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    (star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     [k] \\<langle>h\\<rangle> ys) \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    mbot \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    mbot \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "by (metis (no_types) times_disjoint)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  (star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   [k] \\<langle>h\\<rangle> [y]) \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  (star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   [k] \\<langle>h\\<rangle> ys) \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  mbot \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  mbot \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  (star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   [k] \\<langle>h\\<rangle> [y]) \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  (star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   [k] \\<langle>h\\<rangle> ys) \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  mbot \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  mbot \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "have \"... = ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hc \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    mbot \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    mbot \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "by simp"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  mbot \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  mbot \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "finally"], ["proof (chain)\npicking this:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys", "show ?thesis"], ["proof (prove)\nusing this:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "."], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 11: \"?ds \\<odot> ?c \\<odot> ?es \\<odot> ?t\\<langle>h\\<rangle>zs = ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?ha \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "have \"?ds \\<odot> ?c \\<odot> ?es \\<odot> ?t\\<langle>h\\<rangle>zs = ?ds \\<odot> ?c \\<odot> ?es \\<odot> (?ha \\<oplus> ?hb \\<oplus> ?hc \\<oplus> ?hd)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    ([k] \\<langle>h\\<rangle> [y] \\<oplus>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     s \\<langle>h\\<rangle> [y] \\<oplus>\n     s \\<langle>h\\<rangle> ys)", "using 2"], ["proof (prove)\nusing this:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    ([k] \\<langle>h\\<rangle> [y] \\<oplus>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     s \\<langle>h\\<rangle> [y] \\<oplus>\n     s \\<langle>h\\<rangle> ys)", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys)\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys)\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "have \"... = ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?ha \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?hb \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?hc \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    ([k] \\<langle>h\\<rangle> [y] \\<oplus>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     s \\<langle>h\\<rangle> [y] \\<oplus>\n     s \\<langle>h\\<rangle> ys) =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    s \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_left_dist_sup)"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys) =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys) =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "have \"... = ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?ha \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?hb \\<oplus> ?ds \\<odot> ?c \\<odot> (?es \\<odot> ?hc) \\<oplus> ?ds \\<odot> ?c \\<odot> (?es \\<odot> ?hd)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    s \\<langle>h\\<rangle> ys =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     s \\<langle>h\\<rangle> [y]) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     s \\<langle>h\\<rangle> ys)", "by (simp add: matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> ys =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   s \\<langle>h\\<rangle> [y]) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   s \\<langle>h\\<rangle> ys)\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  s \\<langle>h\\<rangle> ys =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   s \\<langle>h\\<rangle> [y]) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   s \\<langle>h\\<rangle> ys)\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "have \"... = ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?ha \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?hb \\<oplus> ?ds \\<odot> ?c \\<odot> mbot \\<oplus> ?ds \\<odot> ?c \\<odot> mbot\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     s \\<langle>h\\<rangle> [y]) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     s \\<langle>h\\<rangle> ys) =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    mbot \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    mbot", "using 8"], ["proof (prove)\nusing this:\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     s \\<langle>h\\<rangle> [y]) \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     s \\<langle>h\\<rangle> ys) =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    mbot \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    mbot", "by (metis times_disjoint)"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   s \\<langle>h\\<rangle> [y]) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   s \\<langle>h\\<rangle> ys) =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  mbot \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  mbot\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   s \\<langle>h\\<rangle> [y]) \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   s \\<langle>h\\<rangle> ys) =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  mbot \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  mbot\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "have \"... = ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?ha \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    mbot \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    mbot =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "by simp"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  mbot \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  mbot =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "finally"], ["proof (chain)\npicking this:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys", "show ?thesis"], ["proof (prove)\nusing this:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "."], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 12: \"?fs \\<odot> ?t\\<langle>h\\<rangle>zs = ?fs \\<odot> ?hc \\<oplus> ?fs \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "have \"?fs \\<odot> ?t\\<langle>h\\<rangle>zs = ?fs \\<odot> (?ha \\<oplus> ?hb \\<oplus> ?hc \\<oplus> ?hd)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    ([k] \\<langle>h\\<rangle> [y] \\<oplus>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     s \\<langle>h\\<rangle> [y] \\<oplus>\n     s \\<langle>h\\<rangle> ys)", "using 2"], ["proof (prove)\nusing this:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    ([k] \\<langle>h\\<rangle> [y] \\<oplus>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     s \\<langle>h\\<rangle> [y] \\<oplus>\n     s \\<langle>h\\<rangle> ys)", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys)\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys)\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "have \"... = ?fs \\<odot> ?ha \\<oplus> ?fs \\<odot> ?hb \\<oplus> ?fs \\<odot> ?hc \\<oplus> ?fs \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    ([k] \\<langle>h\\<rangle> [y] \\<oplus>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     s \\<langle>h\\<rangle> [y] \\<oplus>\n     s \\<langle>h\\<rangle> ys) =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_left_dist_sup)"], ["proof (state)\nthis:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys) =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  ([k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n   s \\<langle>h\\<rangle> [y] \\<oplus>\n   s \\<langle>h\\<rangle> ys) =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "have \"... = ?fs \\<odot> ?hc \\<oplus> ?fs \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "using 6 8"], ["proof (prove)\nusing this:\n  s \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n  s \\<langle>star_matrix' s\n              (s \\<langle>g\\<rangle> s \\<oplus>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "by (metis (no_types) times_disjoint matrix_bounded_semilattice_sup_bot.sup_monoid.add_0_left)"], ["proof (state)\nthis:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "finally"], ["proof (chain)\npicking this:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys", "show ?thesis"], ["proof (prove)\nusing this:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "."], ["proof (state)\nthis:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 13: \"?es \\<odot> ?ha \\<preceq> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "have \"?b \\<odot> ?ds \\<odot> ?c \\<odot> ?ha \\<preceq> ?b \\<odot> ?ds \\<odot> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y]", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y]", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "also"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "have \"... \\<preceq> ?b \\<odot> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y]", "using 1 3 5"], ["proof (prove)\nusing this:\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs \\<longrightarrow>\n     star_matrix' s g \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs\n  distinct (k # s) \\<and> distinct zs\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y]", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc member_rec(2) restrict_sublist)"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "also"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "have \"... \\<preceq> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "by simp"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "finally"], ["proof (chain)\npicking this:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]", "have \"?e \\<odot> ?ha \\<preceq> ?ha\""], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "thus ?thesis"], ["proof (prove)\nusing this:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "using 7"], ["proof (prove)\nusing this:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n  [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<and>\n  s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n             s \\<langle>g\\<rangle> [k] \\<odot>\n             [k] \\<langle>star \\<circ>\n                          [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n             [k] \\<langle>g\\<rangle> s\\<rangle> s =\n  s \\<langle>g\\<rangle> s \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "by (simp add: restrict_star_left_induct)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 14: \"?es \\<odot> ?hb \\<preceq> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "have \"?b \\<odot> ?ds \\<odot> ?c \\<odot> ?hb \\<preceq> ?b \\<odot> ?ds \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "have \"... \\<preceq> ?b \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys", "using 1 4 5"], ["proof (prove)\nusing this:\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs \\<longrightarrow>\n     star_matrix' s g \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc restrict_sublist)"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "have \"... \\<preceq> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "by simp"], ["proof (state)\nthis:\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "finally"], ["proof (chain)\npicking this:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys", "have \"?e \\<odot> ?hb \\<preceq> ?hb\""], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "thus ?thesis"], ["proof (prove)\nusing this:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "using 4 7"], ["proof (prove)\nusing this:\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<and>\n  s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n             s \\<langle>g\\<rangle> [k] \\<odot>\n             [k] \\<langle>star \\<circ>\n                          [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n             [k] \\<langle>g\\<rangle> s\\<rangle> s =\n  s \\<langle>g\\<rangle> s \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "by (simp add: restrict_star_left_induct)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 15: \"?fs \\<odot> ?hc \\<preceq> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "have \"?c \\<odot> ?as \\<odot> ?b \\<odot> ?hc \\<preceq> ?c \\<odot> ?as \\<odot> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y]", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y]", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "also"], ["proof (state)\nthis:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "have \"... \\<preceq> ?c \\<odot> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y]", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y]", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc restrict_star_left_induct restrict_sublist)"], ["proof (state)\nthis:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "also"], ["proof (state)\nthis:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "have \"... \\<preceq> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "by simp"], ["proof (state)\nthis:\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "finally"], ["proof (chain)\npicking this:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]", "have \"?f \\<odot> ?hc \\<preceq> ?hc\""], ["proof (prove)\nusing this:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "using 5"], ["proof (prove)\nusing this:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  (s \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "thus ?thesis"], ["proof (prove)\nusing this:\n  (s \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "using 1 3 7"], ["proof (prove)\nusing this:\n  (s \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs \\<longrightarrow>\n     star_matrix' s g \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs\n  distinct (k # s) \\<and> distinct zs\n  [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<and>\n  s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n             s \\<langle>g\\<rangle> [k] \\<odot>\n             [k] \\<langle>star \\<circ>\n                          [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n             [k] \\<langle>g\\<rangle> s\\<rangle> s =\n  s \\<langle>g\\<rangle> s \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "by simp"], ["proof (state)\nthis:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 16: \"?fs \\<odot> ?hd \\<preceq> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "have \"?c \\<odot> ?as \\<odot> ?b \\<odot> ?hd \\<preceq> ?c \\<odot> ?as \\<odot> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "have \"... \\<preceq> ?c \\<odot> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys", "using 4 5"], ["proof (prove)\nusing this:\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc restrict_star_left_induct restrict_sublist)"], ["proof (state)\nthis:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "have \"... \\<preceq> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "by simp"], ["proof (state)\nthis:\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "finally"], ["proof (chain)\npicking this:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys", "have \"?f \\<odot> ?hd \\<preceq> ?hd\""], ["proof (prove)\nusing this:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "using 5"], ["proof (prove)\nusing this:\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  (s \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "thus ?thesis"], ["proof (prove)\nusing this:\n  (s \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "using 1 4 7"], ["proof (prove)\nusing this:\n  (s \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs \\<longrightarrow>\n     star_matrix' s g \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<and>\n  s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n             s \\<langle>g\\<rangle> [k] \\<odot>\n             [k] \\<langle>star \\<circ>\n                          [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n             [k] \\<langle>g\\<rangle> s\\<rangle> s =\n  s \\<langle>g\\<rangle> s \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "by simp"], ["proof (state)\nthis:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 17: \"?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hc \\<preceq> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "have \"?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hc \\<preceq> ?as \\<odot> ?b \\<odot> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    s \\<langle>h\\<rangle> [y]", "using 15"], ["proof (prove)\nusing this:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    s \\<langle>h\\<rangle> [y]", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "have \"... \\<preceq> ?as \\<odot> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y]", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y]", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "have \"... \\<preceq> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "by (simp add: restrict_star_left_induct restrict_sublist)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "finally"], ["proof (chain)\npicking this:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]", "show ?thesis"], ["proof (prove)\nusing this:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "."], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 18: \"?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hd \\<preceq> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "have \"?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hd \\<preceq> ?as \\<odot> ?b \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    s \\<langle>h\\<rangle> ys", "using 16"], ["proof (prove)\nusing this:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    s \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "have \"... \\<preceq> ?as \\<odot> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "have \"... \\<preceq> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "using 4 5"], ["proof (prove)\nusing this:\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "by (simp add: restrict_star_left_induct restrict_sublist)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "finally"], ["proof (chain)\npicking this:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys", "show ?thesis"], ["proof (prove)\nusing this:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "."], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 19: \"?ds \\<odot> ?c \\<odot> ?es \\<odot> ?ha \\<preceq> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "have \"?ds \\<odot> ?c \\<odot> ?es \\<odot> ?ha \\<preceq> ?ds \\<odot> ?c \\<odot> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y]", "using 13"], ["proof (prove)\nusing this:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y]", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "also"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "have \"... \\<preceq> ?ds \\<odot> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y]", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y]", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot> s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "also"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot> s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "have \"... \\<preceq> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "using 1 3 5"], ["proof (prove)\nusing this:\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs \\<longrightarrow>\n     star_matrix' s g \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs\n  distinct (k # s) \\<and> distinct zs\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "by (simp add: restrict_sublist)"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "finally"], ["proof (chain)\npicking this:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]", "show ?thesis"], ["proof (prove)\nusing this:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "."], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 20: \"?ds \\<odot> ?c \\<odot> ?es \\<odot> ?hb \\<preceq> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "have \"?ds \\<odot> ?c \\<odot> ?es \\<odot> ?hb \\<preceq> ?ds \\<odot> ?c \\<odot> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "using 14"], ["proof (prove)\nusing this:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "have \"... \\<preceq> ?ds \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "using 5"], ["proof (prove)\nusing this:\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "by (simp add: matrix_idempotent_semiring.mult_right_isotone matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot> s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "also"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot> s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "have \"... \\<preceq> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "using 1 4 5"], ["proof (prove)\nusing this:\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs \\<longrightarrow>\n     star_matrix' s g \\<odot> s \\<langle>h\\<rangle> zs \\<preceq>\n     s \\<langle>h\\<rangle> zs\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<and>\n  [k] \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y] \\<and>\n  s \\<langle>g\\<rangle> [k] \\<odot> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>g\\<rangle> s \\<odot> s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "by (simp add: restrict_sublist)"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "finally"], ["proof (chain)\npicking this:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys", "show ?thesis"], ["proof (prove)\nusing this:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "."], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 21: \"?es \\<odot> ?ha \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hc \\<preceq> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "using 13 17 matrix_semilattice_sup.le_supI"], ["proof (prove)\nusing this:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n  \\<lbrakk>?a \\<preceq> ?x; ?b \\<preceq> ?x\\<rbrakk>\n  \\<Longrightarrow> ?a \\<oplus> ?b \\<preceq> ?x\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    [k] \\<langle>h\\<rangle> [y]", "by blast"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 22: \"?es \\<odot> ?hb \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hd \\<preceq> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "using 14 18 matrix_semilattice_sup.le_supI"], ["proof (prove)\nusing this:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n  \\<lbrakk>?a \\<preceq> ?x; ?b \\<preceq> ?x\\<rbrakk>\n  \\<Longrightarrow> ?a \\<oplus> ?b \\<preceq> ?x\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    [k] \\<langle>h\\<rangle> ys", "by blast"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 23: \"?ds \\<odot> ?c \\<odot> ?es \\<odot> ?ha \\<oplus> ?fs \\<odot> ?hc \\<preceq> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "using 15 19 matrix_semilattice_sup.le_supI"], ["proof (prove)\nusing this:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n  \\<lbrakk>?a \\<preceq> ?x; ?b \\<preceq> ?x\\<rbrakk>\n  \\<Longrightarrow> ?a \\<oplus> ?b \\<preceq> ?x\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<preceq>\n    s \\<langle>h\\<rangle> [y]", "by blast"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have 24: \"?ds \\<odot> ?c \\<odot> ?es \\<odot> ?hb \\<oplus> ?fs \\<odot> ?hd \\<preceq> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "using 16 20 matrix_semilattice_sup.le_supI"], ["proof (prove)\nusing this:\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n  \\<lbrakk>?a \\<preceq> ?x; ?b \\<preceq> ?x\\<rbrakk>\n  \\<Longrightarrow> ?a \\<oplus> ?b \\<preceq> ?x\n\ngoal (1 subgoal):\n 1. star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<preceq>\n    s \\<langle>h\\<rangle> ys", "by blast"], ["proof (state)\nthis:\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have \"star_matrix' ?t g \\<odot> ?t\\<langle>h\\<rangle>zs = (?es \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?fs) \\<odot> ?t\\<langle>h\\<rangle>zs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs =\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs", "by (metis star_matrix'.simps(2))"], ["proof (state)\nthis:\n  star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs =\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "also"], ["proof (state)\nthis:\n  star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs =\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have \"... = ?es \\<odot> ?t\\<langle>h\\<rangle>zs \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?t\\<langle>h\\<rangle>zs \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?t\\<langle>h\\<rangle>zs \\<oplus> ?fs \\<odot> ?t\\<langle>h\\<rangle>zs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "also"], ["proof (state)\nthis:\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have \"... = ?es \\<odot> ?ha \\<oplus> ?es \\<odot> ?hb \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hc \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hd \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?ha \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<odot> ?hb \\<oplus> ?fs \\<odot> ?hc \\<oplus> ?fs \\<odot> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "using 9 10 11 12"], ["proof (prove)\nusing this:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    (k # s) \\<langle>h\\<rangle> zs =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys", "by (simp only: matrix_semilattice_sup.sup_assoc)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have \"... = (?es \\<odot> ?ha \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hc) \\<oplus> (?es \\<odot> ?hb \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<odot> ?hd) \\<oplus> (?ds \\<odot> ?c \\<odot> ?es \\<odot> ?ha \\<oplus> ?fs \\<odot> ?hc) \\<oplus> (?ds \\<odot> ?c \\<odot> ?es \\<odot> ?hb \\<oplus> ?fs \\<odot> ?hd)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> ys \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> ys =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>h\\<rangle> ys) \\<oplus>\n    (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>h\\<rangle> [y] \\<oplus>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>h\\<rangle> [y]) \\<oplus>\n    (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>h\\<rangle> ys)", "by (simp only: matrix_semilattice_sup.sup_assoc matrix_semilattice_sup.sup_commute matrix_semilattice_sup.sup_left_commute)"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>h\\<rangle> ys \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>h\\<rangle> ys) \\<oplus>\n  (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>h\\<rangle> [y] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>h\\<rangle> [y]) \\<oplus>\n  (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>h\\<rangle> ys \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>h\\<rangle> ys)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>h\\<rangle> ys \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>h\\<rangle> ys) \\<oplus>\n  (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>h\\<rangle> [y] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>h\\<rangle> [y]) \\<oplus>\n  (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>h\\<rangle> ys \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>h\\<rangle> ys)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have \"... \\<preceq> ?ha \\<oplus> ?hb \\<oplus> ?hc \\<oplus> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>h\\<rangle> ys) \\<oplus>\n    (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>h\\<rangle> [y] \\<oplus>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>h\\<rangle> [y]) \\<oplus>\n    (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>h\\<rangle> ys) \\<preceq>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    s \\<langle>h\\<rangle> ys", "using 21 22 23 24 matrix_semilattice_sup.sup.mono"], ["proof (prove)\nusing this:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  [k] \\<langle>h\\<rangle> [y]\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  [k] \\<langle>h\\<rangle> ys\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<preceq>\n  s \\<langle>h\\<rangle> [y]\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> ys \\<oplus>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> ys \\<preceq>\n  s \\<langle>h\\<rangle> ys\n  \\<lbrakk>?c \\<preceq> ?a; ?d \\<preceq> ?b\\<rbrakk>\n  \\<Longrightarrow> ?c \\<oplus> ?d \\<preceq> ?a \\<oplus> ?b\n\ngoal (1 subgoal):\n 1. [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>h\\<rangle> ys) \\<oplus>\n    (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>h\\<rangle> [y] \\<oplus>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>h\\<rangle> [y]) \\<oplus>\n    (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>h\\<rangle> ys \\<oplus>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>h\\<rangle> ys) \\<preceq>\n    [k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    s \\<langle>h\\<rangle> ys", "by blast"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>h\\<rangle> ys \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>h\\<rangle> ys) \\<oplus>\n  (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>h\\<rangle> [y] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>h\\<rangle> [y]) \\<oplus>\n  (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>h\\<rangle> ys \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>h\\<rangle> ys) \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "also"], ["proof (state)\nthis:\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>h\\<rangle> ys \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>h\\<rangle> ys) \\<oplus>\n  (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>h\\<rangle> [y] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>h\\<rangle> [y]) \\<oplus>\n  (star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>h\\<rangle> ys \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>h\\<rangle> ys) \\<preceq>\n  [k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>h\\<rangle> ys\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "have \"... = ?t\\<langle>h\\<rangle>zs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    s \\<langle>h\\<rangle> ys =\n    (k # s) \\<langle>h\\<rangle> zs", "using 2"], ["proof (prove)\nusing this:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. [k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n    s \\<langle>h\\<rangle> [y] \\<oplus>\n    s \\<langle>h\\<rangle> ys =\n    (k # s) \\<langle>h\\<rangle> zs", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  [k] \\<langle>h\\<rangle> [y] \\<oplus> [k] \\<langle>h\\<rangle> ys \\<oplus>\n  s \\<langle>h\\<rangle> [y] \\<oplus>\n  s \\<langle>h\\<rangle> ys =\n  (k # s) \\<langle>h\\<rangle> zs\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\\<rbrakk>\n    \\<Longrightarrow> star_matrix' (k # s) g \\<odot>\n                      (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n                      (k # s) \\<langle>h\\<rangle> zs", "finally"], ["proof (chain)\npicking this:\n  star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n  (k # s) \\<langle>h\\<rangle> zs", "show \"star_matrix' ?t g \\<odot> ?t\\<langle>h\\<rangle>zs \\<preceq> ?t\\<langle>h\\<rangle>zs\""], ["proof (prove)\nusing this:\n  star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n  (k # s) \\<langle>h\\<rangle> zs\n\ngoal (1 subgoal):\n 1. star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n    (k # s) \\<langle>h\\<rangle> zs", "."], ["proof (state)\nthis:\n  star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n  (k # s) \\<langle>h\\<rangle> zs\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n  (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n  star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n  (k # s) \\<langle>h\\<rangle> zs\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n  (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n  star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n  (k # s) \\<langle>h\\<rangle> zs\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>g h zs.\n     distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs \\<longrightarrow>\n     star_matrix' (k # s) g \\<odot> (k # s) \\<langle>h\\<rangle> zs \\<preceq>\n     (k # s) \\<langle>h\\<rangle> zs\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>g h zs.\n     distinct enum_class.enum \\<and> distinct zs \\<longrightarrow>\n     enum_class.enum \\<langle>g\\<rangle> enum_class.enum \\<odot>\n     enum_class.enum \\<langle>h\\<rangle> zs \\<preceq>\n     enum_class.enum \\<langle>h\\<rangle> zs \\<longrightarrow>\n     star_matrix' enum_class.enum g \\<odot>\n     enum_class.enum \\<langle>h\\<rangle> zs \\<preceq>\n     enum_class.enum \\<langle>h\\<rangle> zs\n\ngoal (2 subgoals):\n 1. \\<And>y x.\n       y \\<odot> x \\<preceq> x \\<longrightarrow>\n       y\\<^sup>\\<odot> \\<odot> x \\<preceq> x\n 2. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "hence \"\\<forall>zs . distinct zs \\<longrightarrow> (y \\<odot> ?e\\<langle>x\\<rangle>zs \\<preceq> ?e\\<langle>x\\<rangle>zs \\<longrightarrow> y\\<^sup>\\<odot> \\<odot> ?e\\<langle>x\\<rangle>zs \\<preceq> ?e\\<langle>x\\<rangle>zs)\""], ["proof (prove)\nusing this:\n  \\<forall>g h zs.\n     distinct enum_class.enum \\<and> distinct zs \\<longrightarrow>\n     enum_class.enum \\<langle>g\\<rangle> enum_class.enum \\<odot>\n     enum_class.enum \\<langle>h\\<rangle> zs \\<preceq>\n     enum_class.enum \\<langle>h\\<rangle> zs \\<longrightarrow>\n     star_matrix' enum_class.enum g \\<odot>\n     enum_class.enum \\<langle>h\\<rangle> zs \\<preceq>\n     enum_class.enum \\<langle>h\\<rangle> zs\n\ngoal (1 subgoal):\n 1. \\<forall>zs.\n       distinct zs \\<longrightarrow>\n       y \\<odot> enum_class.enum \\<langle>x\\<rangle> zs \\<preceq>\n       enum_class.enum \\<langle>x\\<rangle> zs \\<longrightarrow>\n       y\\<^sup>\\<odot> \\<odot>\n       enum_class.enum \\<langle>x\\<rangle> zs \\<preceq>\n       enum_class.enum \\<langle>x\\<rangle> zs", "by (simp add: enum_distinct restrict_all)"], ["proof (state)\nthis:\n  \\<forall>zs.\n     distinct zs \\<longrightarrow>\n     y \\<odot> enum_class.enum \\<langle>x\\<rangle> zs \\<preceq>\n     enum_class.enum \\<langle>x\\<rangle> zs \\<longrightarrow>\n     y\\<^sup>\\<odot> \\<odot>\n     enum_class.enum \\<langle>x\\<rangle> zs \\<preceq>\n     enum_class.enum \\<langle>x\\<rangle> zs\n\ngoal (2 subgoals):\n 1. \\<And>y x.\n       y \\<odot> x \\<preceq> x \\<longrightarrow>\n       y\\<^sup>\\<odot> \\<odot> x \\<preceq> x\n 2. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "thus \"y \\<odot> x \\<preceq> x \\<longrightarrow> y\\<^sup>\\<odot> \\<odot> x \\<preceq> x\""], ["proof (prove)\nusing this:\n  \\<forall>zs.\n     distinct zs \\<longrightarrow>\n     y \\<odot> enum_class.enum \\<langle>x\\<rangle> zs \\<preceq>\n     enum_class.enum \\<langle>x\\<rangle> zs \\<longrightarrow>\n     y\\<^sup>\\<odot> \\<odot>\n     enum_class.enum \\<langle>x\\<rangle> zs \\<preceq>\n     enum_class.enum \\<langle>x\\<rangle> zs\n\ngoal (1 subgoal):\n 1. y \\<odot> x \\<preceq> x \\<longrightarrow>\n    y\\<^sup>\\<odot> \\<odot> x \\<preceq> x", "by (metis restrict_all enum_distinct)"], ["proof (state)\nthis:\n  y \\<odot> x \\<preceq> x \\<longrightarrow>\n  y\\<^sup>\\<odot> \\<odot> x \\<preceq> x\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "fix x y z :: \"('a,'b) square\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "let ?e = \"enum_class.enum::'a list\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "have \"\\<forall>g h :: ('a,'b) square . \\<forall>zs . distinct ?e \\<and> distinct zs \\<longrightarrow> (zs\\<langle>h\\<rangle>?e \\<odot> ?e\\<langle>g\\<rangle>?e \\<preceq> zs\\<langle>h\\<rangle>?e \\<longrightarrow> zs\\<langle>h\\<rangle>?e \\<odot> star_matrix' ?e g \\<preceq> zs\\<langle>h\\<rangle>?e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>g h zs.\n       distinct enum_class.enum \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> enum_class.enum \\<odot>\n       enum_class.enum \\<langle>g\\<rangle> enum_class.enum \\<preceq>\n       zs \\<langle>h\\<rangle> enum_class.enum \\<longrightarrow>\n       zs \\<langle>h\\<rangle> enum_class.enum \\<odot>\n       star_matrix' enum_class.enum g \\<preceq>\n       zs \\<langle>h\\<rangle> enum_class.enum", "proof (induct rule:list.induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>g h zs.\n       distinct [] \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> [] \\<odot> [] \\<langle>g\\<rangle> [] \\<preceq>\n       zs \\<langle>h\\<rangle> [] \\<longrightarrow>\n       zs \\<langle>h\\<rangle> [] \\<odot> star_matrix' [] g \\<preceq>\n       zs \\<langle>h\\<rangle> []\n 2. \\<And>x1 x2.\n       \\<forall>g h zs.\n          distinct x2 \\<and> distinct zs \\<longrightarrow>\n          zs \\<langle>h\\<rangle> x2 \\<odot>\n          x2 \\<langle>g\\<rangle> x2 \\<preceq>\n          zs \\<langle>h\\<rangle> x2 \\<longrightarrow>\n          zs \\<langle>h\\<rangle> x2 \\<odot> star_matrix' x2 g \\<preceq>\n          zs \\<langle>h\\<rangle> x2 \\<Longrightarrow>\n       \\<forall>g h zs.\n          distinct (x1 # x2) \\<and> distinct zs \\<longrightarrow>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<odot>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<preceq>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<longrightarrow>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<odot>\n          star_matrix' (x1 # x2) g \\<preceq>\n          zs \\<langle>h\\<rangle> (x1 # x2)", "case Nil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<forall>g h zs.\n       distinct [] \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> [] \\<odot> [] \\<langle>g\\<rangle> [] \\<preceq>\n       zs \\<langle>h\\<rangle> [] \\<longrightarrow>\n       zs \\<langle>h\\<rangle> [] \\<odot> star_matrix' [] g \\<preceq>\n       zs \\<langle>h\\<rangle> []\n 2. \\<And>x1 x2.\n       \\<forall>g h zs.\n          distinct x2 \\<and> distinct zs \\<longrightarrow>\n          zs \\<langle>h\\<rangle> x2 \\<odot>\n          x2 \\<langle>g\\<rangle> x2 \\<preceq>\n          zs \\<langle>h\\<rangle> x2 \\<longrightarrow>\n          zs \\<langle>h\\<rangle> x2 \\<odot> star_matrix' x2 g \\<preceq>\n          zs \\<langle>h\\<rangle> x2 \\<Longrightarrow>\n       \\<forall>g h zs.\n          distinct (x1 # x2) \\<and> distinct zs \\<longrightarrow>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<odot>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<preceq>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<longrightarrow>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<odot>\n          star_matrix' (x1 # x2) g \\<preceq>\n          zs \\<langle>h\\<rangle> (x1 # x2)", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>g h zs.\n       distinct [] \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> [] \\<odot> [] \\<langle>g\\<rangle> [] \\<preceq>\n       zs \\<langle>h\\<rangle> [] \\<longrightarrow>\n       zs \\<langle>h\\<rangle> [] \\<odot> star_matrix' [] g \\<preceq>\n       zs \\<langle>h\\<rangle> []", "by (simp add: restrict_empty_left)"], ["proof (state)\nthis:\n  \\<forall>g h zs.\n     distinct [] \\<and> distinct zs \\<longrightarrow>\n     zs \\<langle>h\\<rangle> [] \\<odot> [] \\<langle>g\\<rangle> [] \\<preceq>\n     zs \\<langle>h\\<rangle> [] \\<longrightarrow>\n     zs \\<langle>h\\<rangle> [] \\<odot> star_matrix' [] g \\<preceq>\n     zs \\<langle>h\\<rangle> []\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g h zs.\n          distinct x2 \\<and> distinct zs \\<longrightarrow>\n          zs \\<langle>h\\<rangle> x2 \\<odot>\n          x2 \\<langle>g\\<rangle> x2 \\<preceq>\n          zs \\<langle>h\\<rangle> x2 \\<longrightarrow>\n          zs \\<langle>h\\<rangle> x2 \\<odot> star_matrix' x2 g \\<preceq>\n          zs \\<langle>h\\<rangle> x2 \\<Longrightarrow>\n       \\<forall>g h zs.\n          distinct (x1 # x2) \\<and> distinct zs \\<longrightarrow>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<odot>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<preceq>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<longrightarrow>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<odot>\n          star_matrix' (x1 # x2) g \\<preceq>\n          zs \\<langle>h\\<rangle> (x1 # x2)", "case (Cons k s)"], ["proof (state)\nthis:\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n     zs \\<langle>h\\<rangle> s \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> star_matrix' s g \\<preceq>\n     zs \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g h zs.\n          distinct x2 \\<and> distinct zs \\<longrightarrow>\n          zs \\<langle>h\\<rangle> x2 \\<odot>\n          x2 \\<langle>g\\<rangle> x2 \\<preceq>\n          zs \\<langle>h\\<rangle> x2 \\<longrightarrow>\n          zs \\<langle>h\\<rangle> x2 \\<odot> star_matrix' x2 g \\<preceq>\n          zs \\<langle>h\\<rangle> x2 \\<Longrightarrow>\n       \\<forall>g h zs.\n          distinct (x1 # x2) \\<and> distinct zs \\<longrightarrow>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<odot>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<preceq>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<longrightarrow>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<odot>\n          star_matrix' (x1 # x2) g \\<preceq>\n          zs \\<langle>h\\<rangle> (x1 # x2)", "let ?t = \"k#s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g h zs.\n          distinct x2 \\<and> distinct zs \\<longrightarrow>\n          zs \\<langle>h\\<rangle> x2 \\<odot>\n          x2 \\<langle>g\\<rangle> x2 \\<preceq>\n          zs \\<langle>h\\<rangle> x2 \\<longrightarrow>\n          zs \\<langle>h\\<rangle> x2 \\<odot> star_matrix' x2 g \\<preceq>\n          zs \\<langle>h\\<rangle> x2 \\<Longrightarrow>\n       \\<forall>g h zs.\n          distinct (x1 # x2) \\<and> distinct zs \\<longrightarrow>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<odot>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<preceq>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<longrightarrow>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<odot>\n          star_matrix' (x1 # x2) g \\<preceq>\n          zs \\<langle>h\\<rangle> (x1 # x2)", "assume 1: \"\\<forall>g h :: ('a,'b) square . \\<forall>zs . distinct s \\<and> distinct zs \\<longrightarrow> (zs\\<langle>h\\<rangle>s \\<odot> s\\<langle>g\\<rangle>s \\<preceq> zs\\<langle>h\\<rangle>s \\<longrightarrow> zs\\<langle>h\\<rangle>s \\<odot> star_matrix' s g \\<preceq> zs\\<langle>h\\<rangle>s)\""], ["proof (state)\nthis:\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n     zs \\<langle>h\\<rangle> s \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> star_matrix' s g \\<preceq>\n     zs \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g h zs.\n          distinct x2 \\<and> distinct zs \\<longrightarrow>\n          zs \\<langle>h\\<rangle> x2 \\<odot>\n          x2 \\<langle>g\\<rangle> x2 \\<preceq>\n          zs \\<langle>h\\<rangle> x2 \\<longrightarrow>\n          zs \\<langle>h\\<rangle> x2 \\<odot> star_matrix' x2 g \\<preceq>\n          zs \\<langle>h\\<rangle> x2 \\<Longrightarrow>\n       \\<forall>g h zs.\n          distinct (x1 # x2) \\<and> distinct zs \\<longrightarrow>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<odot>\n          (x1 # x2) \\<langle>g\\<rangle> (x1 # x2) \\<preceq>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<longrightarrow>\n          zs \\<langle>h\\<rangle> (x1 # x2) \\<odot>\n          star_matrix' (x1 # x2) g \\<preceq>\n          zs \\<langle>h\\<rangle> (x1 # x2)", "show \"\\<forall>g h :: ('a,'b) square . \\<forall>zs . distinct ?t \\<and> distinct zs \\<longrightarrow> (zs\\<langle>h\\<rangle>?t \\<odot> ?t\\<langle>g\\<rangle>?t \\<preceq> zs\\<langle>h\\<rangle>?t \\<longrightarrow> zs\\<langle>h\\<rangle>?t \\<odot> star_matrix' ?t g \\<preceq> zs\\<langle>h\\<rangle>?t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>g h zs.\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       star_matrix' (k # s) g \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s)", "proof (intro allI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g h zs.\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       star_matrix' (k # s) g \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s)", "fix g h :: \"('a,'b) square\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g h zs.\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       star_matrix' (k # s) g \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s)", "fix zs :: \"'a list\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g h zs.\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       star_matrix' (k # s) g \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s)", "show \"distinct ?t \\<and> distinct zs \\<longrightarrow> (zs\\<langle>h\\<rangle>?t \\<odot> ?t\\<langle>g\\<rangle>?t \\<preceq> zs\\<langle>h\\<rangle>?t \\<longrightarrow> zs\\<langle>h\\<rangle>?t \\<odot> star_matrix' ?t g \\<preceq> zs\\<langle>h\\<rangle>?t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n    zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g \\<preceq>\n    zs \\<langle>h\\<rangle> (k # s)", "proof (cases zs)"], ["proof (state)\ngoal (2 subgoals):\n 1. zs = [] \\<Longrightarrow>\n    distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n    zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g \\<preceq>\n    zs \\<langle>h\\<rangle> (k # s)\n 2. \\<And>a list.\n       zs = a # list \\<Longrightarrow>\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       star_matrix' (k # s) g \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s)", "case Nil"], ["proof (state)\nthis:\n  zs = []\n\ngoal (2 subgoals):\n 1. zs = [] \\<Longrightarrow>\n    distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n    zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g \\<preceq>\n    zs \\<langle>h\\<rangle> (k # s)\n 2. \\<And>a list.\n       zs = a # list \\<Longrightarrow>\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       star_matrix' (k # s) g \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s)", "thus ?thesis"], ["proof (prove)\nusing this:\n  zs = []\n\ngoal (1 subgoal):\n 1. distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n    zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g \\<preceq>\n    zs \\<langle>h\\<rangle> (k # s)", "by (metis restrict_empty_left restrict_star restrict_times)"], ["proof (state)\nthis:\n  distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n  zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g \\<preceq>\n  zs \\<langle>h\\<rangle> (k # s)\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       zs = a # list \\<Longrightarrow>\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       star_matrix' (k # s) g \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list.\n       zs = a # list \\<Longrightarrow>\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       star_matrix' (k # s) g \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s)", "case (Cons y ys)"], ["proof (state)\nthis:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       zs = a # list \\<Longrightarrow>\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       star_matrix' (k # s) g \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s)", "assume 2: \"zs = y#ys\""], ["proof (state)\nthis:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       zs = a # list \\<Longrightarrow>\n       distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n       zs \\<langle>h\\<rangle> (k # s) \\<odot>\n       star_matrix' (k # s) g \\<preceq>\n       zs \\<langle>h\\<rangle> (k # s)", "show \"distinct ?t \\<and> distinct zs \\<longrightarrow> (zs\\<langle>h\\<rangle>?t \\<odot> ?t\\<langle>g\\<rangle>?t \\<preceq> zs\\<langle>h\\<rangle>?t \\<longrightarrow> zs\\<langle>h\\<rangle>?t \\<odot> star_matrix' ?t g \\<preceq> zs\\<langle>h\\<rangle>?t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n    zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g \\<preceq>\n    zs \\<langle>h\\<rangle> (k # s)", "proof (intro impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?y = \"[y]\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "assume 3: \"distinct ?t \\<and> distinct zs\""], ["proof (state)\nthis:\n  distinct (k # s) \\<and> distinct zs\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "hence 4: \"distinct s \\<and> distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\""], ["proof (prove)\nusing this:\n  distinct (k # s) \\<and> distinct zs\n\ngoal (1 subgoal):\n 1. distinct s \\<and>\n    distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y", "using 2"], ["proof (prove)\nusing this:\n  distinct (k # s) \\<and> distinct zs\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. distinct s \\<and>\n    distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y", "by (simp add: List.member_def)"], ["proof (state)\nthis:\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?r = \"[k]\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?a = \"?r\\<langle>g\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?b = \"?r\\<langle>g\\<rangle>s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?c = \"s\\<langle>g\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?d = \"s\\<langle>g\\<rangle>s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?as = \"?r\\<langle>star o ?a\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?ds = \"star_matrix' s ?d\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?e = \"?a \\<oplus> ?b \\<odot> ?ds \\<odot> ?c\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?es = \"?r\\<langle>star o ?e\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?f = \"?d \\<oplus> ?c \\<odot> ?as \\<odot> ?b\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?fs = \"star_matrix' s ?f\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?ha = \"?y\\<langle>h\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?hb = \"?y\\<langle>h\\<rangle>s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?hc = \"ys\\<langle>h\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "let ?hd = \"ys\\<langle>h\\<rangle>s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "assume \"zs\\<langle>h\\<rangle>?t \\<odot> ?t\\<langle>g\\<rangle>?t \\<preceq> zs\\<langle>h\\<rangle>?t\""], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n  zs \\<langle>h\\<rangle> (k # s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "hence 5: \"?ha \\<odot> ?a \\<oplus> ?hb \\<odot> ?c \\<preceq> ?ha \\<and> ?ha \\<odot> ?b \\<oplus> ?hb \\<odot> ?d \\<preceq> ?hb \\<and> ?hc \\<odot> ?a \\<oplus> ?hd \\<odot> ?c \\<preceq> ?hc \\<and> ?hc \\<odot> ?b \\<oplus> ?hd \\<odot> ?d \\<preceq> ?hd\""], ["proof (prove)\nusing this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n  zs \\<langle>h\\<rangle> (k # s)\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k] \\<and>\n    [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n    [y] \\<langle>h\\<rangle> s \\<and>\n    ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k] \\<and>\n    ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n    ys \\<langle>h\\<rangle> s", "using 2 3 4"], ["proof (prove)\nusing this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n  zs \\<langle>h\\<rangle> (k # s)\n  zs = y # ys\n  distinct (k # s) \\<and> distinct zs\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k] \\<and>\n    [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n    [y] \\<langle>h\\<rangle> s \\<and>\n    ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k] \\<and>\n    ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n    ys \\<langle>h\\<rangle> s", "by (simp add: restrict_nonempty_product_less_eq)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 6: \"s\\<langle>?ds\\<rangle>s = ?ds \\<and> s\\<langle>?fs\\<rangle>s = ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> s =\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n    s \\<langle>star_matrix' s\n                (s \\<langle>g\\<rangle> s \\<oplus>\n                 s \\<langle>g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>g\\<rangle> s)\\<rangle> s =\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: restrict_star)"], ["proof (state)\nthis:\n  s \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n  s \\<langle>star_matrix' s\n              (s \\<langle>g\\<rangle> s \\<oplus>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "hence 7: \"?r\\<langle>?e\\<rangle>?r = ?e \\<and> s\\<langle>?f\\<rangle>s = ?f\""], ["proof (prove)\nusing this:\n  s \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n  s \\<langle>star_matrix' s\n              (s \\<langle>g\\<rangle> s \\<oplus>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>g\\<rangle> [k] \\<oplus>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<and>\n    s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s\\<rangle> s =\n    s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s", "by (metis (no_types, lifting) restrict_one_left_unit restrict_sup restrict_times)"], ["proof (state)\nthis:\n  [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<and>\n  s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n             s \\<langle>g\\<rangle> [k] \\<odot>\n             [k] \\<langle>star \\<circ>\n                          [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n             [k] \\<langle>g\\<rangle> s\\<rangle> s =\n  s \\<langle>g\\<rangle> s \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 8: \"disjoint s ?r \\<and> disjoint ?r s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disjoint s [k] \\<and> disjoint [k] s", "using 3"], ["proof (prove)\nusing this:\n  distinct (k # s) \\<and> distinct zs\n\ngoal (1 subgoal):\n 1. disjoint s [k] \\<and> disjoint [k] s", "by (simp add: in_set_member member_rec)"], ["proof (state)\nthis:\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 9: \"zs\\<langle>h\\<rangle>?t \\<odot> ?es = ?ha \\<odot> ?es \\<oplus> ?hc \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "have \"zs\\<langle>h\\<rangle>?t \\<odot> ?es = (?ha \\<oplus> ?hb \\<oplus> ?hc \\<oplus> ?hd) \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n     ys \\<langle>h\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "using 2"], ["proof (prove)\nusing this:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n     ys \\<langle>h\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "have \"... = ?ha \\<odot> ?es \\<oplus> ?hb \\<odot> ?es \\<oplus> ?hc \\<odot> ?es \\<oplus> ?hd \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n     ys \\<langle>h\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "have \"... = ?ha \\<odot> ?es \\<oplus> ?hc \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "using 8"], ["proof (prove)\nusing this:\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (simp add: times_disjoint)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "finally"], ["proof (chain)\npicking this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "show ?thesis"], ["proof (prove)\nusing this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "."], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 10: \"zs\\<langle>h\\<rangle>?t \\<odot> ?as \\<odot> ?b \\<odot> ?fs = ?ha \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?hc \\<odot> ?as \\<odot> ?b \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "have \"zs\\<langle>h\\<rangle>?t \\<odot> ?as \\<odot> ?b \\<odot> ?fs = (?ha \\<oplus> ?hb \\<oplus> ?hc \\<oplus> ?hd) \\<odot> ?as \\<odot> ?b \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n     ys \\<langle>h\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 2"], ["proof (prove)\nusing this:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n     ys \\<langle>h\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "also"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "have \"... = ?ha \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?hb \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?hc \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?hd \\<odot> ?as \\<odot> ?b \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n     ys \\<langle>h\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "also"], ["proof (state)\nthis:\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "have \"... = ?ha \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> mbot \\<odot> ?b \\<odot> ?fs \\<oplus> ?hc \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> mbot \\<odot> ?b \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    mbot \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    mbot \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 8"], ["proof (prove)\nusing this:\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    mbot \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    mbot \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (metis (no_types) times_disjoint)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  mbot \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  mbot \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "also"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  mbot \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  mbot \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "have \"... = ?ha \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?hc \\<odot> ?as \\<odot> ?b \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    mbot \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    mbot \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by simp"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  mbot \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  mbot \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "finally"], ["proof (chain)\npicking this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)", "show ?thesis"], ["proof (prove)\nusing this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "."], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 11: \"zs\\<langle>h\\<rangle>?t \\<odot> ?ds \\<odot> ?c \\<odot> ?es = ?hb \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?hd \\<odot> ?ds \\<odot> ?c \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "have \"zs\\<langle>h\\<rangle>?t \\<odot> ?ds \\<odot> ?c \\<odot> ?es = (?ha \\<oplus> ?hb \\<oplus> ?hc \\<oplus> ?hd) \\<odot> ?ds \\<odot> ?c \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n     ys \\<langle>h\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "using 2"], ["proof (prove)\nusing this:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n     ys \\<langle>h\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "have \"... = ?ha \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?hb \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?hc \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?hd \\<odot> ?ds \\<odot> ?c \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n     ys \\<langle>h\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "have \"... = mbot \\<odot> ?c \\<odot> ?es \\<oplus> ?hb \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> mbot \\<odot> ?c \\<odot> ?es \\<oplus> ?hd \\<odot> ?ds \\<odot> ?c \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    mbot \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    mbot \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "using 6 8"], ["proof (prove)\nusing this:\n  s \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n  s \\<langle>star_matrix' s\n              (s \\<langle>g\\<rangle> s \\<oplus>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    mbot \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    mbot \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (metis (no_types) times_disjoint)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  mbot \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  mbot \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  mbot \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  mbot \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "have \"... = ?hb \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?hd \\<odot> ?ds \\<odot> ?c \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mbot \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    mbot \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by simp"], ["proof (state)\nthis:\n  mbot \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  mbot \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "finally"], ["proof (chain)\npicking this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "show ?thesis"], ["proof (prove)\nusing this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "."], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 12: \"zs\\<langle>h\\<rangle>?t \\<odot> ?fs = ?hb \\<odot> ?fs \\<oplus> ?hd \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "have \"zs\\<langle>h\\<rangle>?t \\<odot> ?fs = (?ha \\<oplus> ?hb \\<oplus> ?hc \\<oplus> ?hd) \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n     ys \\<langle>h\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 2"], ["proof (prove)\nusing this:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n     ys \\<langle>h\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "also"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "have \"... = ?ha \\<odot> ?fs \\<oplus> ?hb \\<odot> ?fs \\<oplus> ?hc \\<odot> ?fs \\<oplus> ?hd \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n     ys \\<langle>h\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: matrix_idempotent_semiring.mult_right_dist_sup)"], ["proof (state)\nthis:\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "also"], ["proof (state)\nthis:\n  ([y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n   ys \\<langle>h\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "have \"... = ?hb \\<odot> ?fs \\<oplus> ?hd \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 6 8"], ["proof (prove)\nusing this:\n  s \\<langle>star_matrix' s (s \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<and>\n  s \\<langle>star_matrix' s\n              (s \\<langle>g\\<rangle> s \\<oplus>\n               s \\<langle>g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>g\\<rangle> s)\\<rangle> s =\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n  disjoint s [k] \\<and> disjoint [k] s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (metis (no_types) times_disjoint matrix_bounded_semilattice_sup_bot.sup_monoid.add_0_right matrix_bounded_semilattice_sup_bot.sup_monoid.add_0_left)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "finally"], ["proof (chain)\npicking this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)", "show ?thesis"], ["proof (prove)\nusing this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "."], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 13: \"?ha \\<odot> ?es \\<preceq> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "have \"?ha \\<odot> ?b \\<odot> ?ds \\<odot> ?c \\<preceq> ?hb \\<odot> ?ds \\<odot> ?c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k]", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_left_isotone)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "have \"... \\<preceq> ?hb \\<odot> ?c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k]", "using 1 4 5"], ["proof (prove)\nusing this:\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n     zs \\<langle>h\\<rangle> s \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> star_matrix' s g \\<preceq>\n     zs \\<langle>h\\<rangle> s\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_left_isotone restrict_sublist)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "have \"... \\<preceq> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "by simp"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "finally"], ["proof (chain)\npicking this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]", "have \"?ha \\<odot> ?e \\<preceq> ?ha\""], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_left_dist_sup matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "thus ?thesis"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "using 7"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n  [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<and>\n  s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n             s \\<langle>g\\<rangle> [k] \\<odot>\n             [k] \\<langle>star \\<circ>\n                          [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n             [k] \\<langle>g\\<rangle> s\\<rangle> s =\n  s \\<langle>g\\<rangle> s \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "by (simp add: restrict_star_right_induct)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 14: \"?hb \\<odot> ?fs \\<preceq> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "have \"?hb \\<odot> ?c \\<odot> ?as \\<odot> ?b \\<preceq> ?ha \\<odot> ?as \\<odot> ?b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<preceq>\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<preceq>\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s", "by (metis matrix_semilattice_sup.le_supE matrix_idempotent_semiring.mult_left_isotone)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "also"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "have \"... \\<preceq> ?ha \\<odot> ?b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<preceq>\n    [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<preceq>\n    [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s", "by (simp add: matrix_idempotent_semiring.mult_left_isotone restrict_star_right_induct restrict_sublist)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "also"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "have \"... \\<preceq> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "by simp"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "finally"], ["proof (chain)\npicking this:\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s", "have \"?hb \\<odot> ?f \\<preceq> ?hb\""], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "by (simp add: matrix_idempotent_semiring.mult_left_dist_sup matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  (s \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "thus ?thesis"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  (s \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "using 1 3 7"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  (s \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n     zs \\<langle>h\\<rangle> s \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> star_matrix' s g \\<preceq>\n     zs \\<langle>h\\<rangle> s\n  distinct (k # s) \\<and> distinct zs\n  [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<and>\n  s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n             s \\<langle>g\\<rangle> [k] \\<odot>\n             [k] \\<langle>star \\<circ>\n                          [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n             [k] \\<langle>g\\<rangle> s\\<rangle> s =\n  s \\<langle>g\\<rangle> s \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "by simp"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 15: \"?hc \\<odot> ?es \\<preceq> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "have \"?hc \\<odot> ?b \\<odot> ?ds \\<odot> ?c \\<preceq> ?hd \\<odot> ?ds \\<odot> ?c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k]", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_left_isotone)"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "have \"... \\<preceq> ?hd \\<odot> ?c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k]", "using 1 4 5"], ["proof (prove)\nusing this:\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n     zs \\<langle>h\\<rangle> s \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> star_matrix' s g \\<preceq>\n     zs \\<langle>h\\<rangle> s\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_left_isotone restrict_sublist)"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "have \"... \\<preceq> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "by simp"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "finally"], ["proof (chain)\npicking this:\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]", "have \"?hc \\<odot> ?e \\<preceq> ?hc\""], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "using 5"], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k]) \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_left_dist_sup matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "thus ?thesis"], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "using 4 7"], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  ([k] \\<langle>g\\<rangle> [k] \\<oplus>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k]) \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<and>\n  s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n             s \\<langle>g\\<rangle> [k] \\<odot>\n             [k] \\<langle>star \\<circ>\n                          [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n             [k] \\<langle>g\\<rangle> s\\<rangle> s =\n  s \\<langle>g\\<rangle> s \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "by (simp add: restrict_star_right_induct)"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 16: \"?hd \\<odot> ?fs \\<preceq> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "have \"?hd \\<odot> ?c \\<odot> ?as \\<odot> ?b \\<preceq> ?hc \\<odot> ?as \\<odot> ?b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<preceq>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<preceq>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s", "by (simp add: matrix_idempotent_semiring.mult_left_isotone)"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "also"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "have \"... \\<preceq> ?hc \\<odot> ?b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<preceq>\n    ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s", "using 4 5"], ["proof (prove)\nusing this:\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<preceq>\n    ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s", "by (simp add: matrix_idempotent_semiring.mult_left_isotone restrict_star_right_induct restrict_sublist)"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "also"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "have \"... \\<preceq> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<preceq>\n    ys \\<langle>h\\<rangle> s", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<preceq>\n    ys \\<langle>h\\<rangle> s", "by simp"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "finally"], ["proof (chain)\npicking this:\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s", "have \"?hd \\<odot> ?f \\<preceq> ?hd\""], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "using 5"], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "by (simp add: matrix_idempotent_semiring.mult_left_dist_sup matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  (s \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "thus ?thesis"], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  (s \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "using 1 4 7"], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  (s \\<langle>g\\<rangle> s \\<oplus>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n     zs \\<langle>h\\<rangle> s \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> star_matrix' s g \\<preceq>\n     zs \\<langle>h\\<rangle> s\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [k] \\<langle>[k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<and>\n  s \\<langle>s \\<langle>g\\<rangle> s \\<oplus>\n             s \\<langle>g\\<rangle> [k] \\<odot>\n             [k] \\<langle>star \\<circ>\n                          [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n             [k] \\<langle>g\\<rangle> s\\<rangle> s =\n  s \\<langle>g\\<rangle> s \\<oplus>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "by simp"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 17: \"?hb \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<preceq> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "have \"?hb \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<preceq> ?hb \\<odot> ?c \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "using 1 4 5"], ["proof (prove)\nusing this:\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n     zs \\<langle>h\\<rangle> s \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> star_matrix' s g \\<preceq>\n     zs \\<langle>h\\<rangle> s\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_left_isotone restrict_sublist)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "have \"... \\<preceq> ?ha \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_left_isotone)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "have \"... \\<preceq> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "using 13"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "by simp"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "finally"], ["proof (chain)\npicking this:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]", "show ?thesis"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "."], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 18: \"?ha \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<preceq> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "have \"?ha \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<preceq> ?ha \\<odot> ?b \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: matrix_idempotent_semiring.mult_left_isotone restrict_star_right_induct restrict_sublist)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "also"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "have \"... \\<preceq> ?hb \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: matrix_idempotent_semiring.mult_left_isotone)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "also"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "have \"... \\<preceq> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "using 14"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "by simp"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "finally"], ["proof (chain)\npicking this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s", "show ?thesis"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "by simp"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 19: \"?hd \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<preceq> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "have \"?hd \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<preceq> ?hd \\<odot> ?c \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "using 1 4 5"], ["proof (prove)\nusing this:\n  \\<forall>g h zs.\n     distinct s \\<and> distinct zs \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n     zs \\<langle>h\\<rangle> s \\<longrightarrow>\n     zs \\<langle>h\\<rangle> s \\<odot> star_matrix' s g \\<preceq>\n     zs \\<langle>h\\<rangle> s\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_left_isotone restrict_sublist)"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "have \"... \\<preceq> ?hc \\<odot> ?es\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k]", "by (simp add: matrix_idempotent_semiring.mult_left_isotone)"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "also"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "have \"... \\<preceq> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "using 15"], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "by simp"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "finally"], ["proof (chain)\npicking this:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]", "show ?thesis"], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "by simp"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 20: \"?hc \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<preceq> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "have \"?hc \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<preceq> ?hc \\<odot> ?b \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 4 5"], ["proof (prove)\nusing this:\n  distinct s \\<and>\n  distinct ys \\<and> \\<not> List.member s k \\<and> \\<not> List.member ys y\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: matrix_idempotent_semiring.mult_left_isotone restrict_star_right_induct restrict_sublist)"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "also"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "have \"... \\<preceq> ?hd \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 5"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<and>\n  [y] \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  [y] \\<langle>h\\<rangle> s \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k] \\<and>\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot> s \\<langle>g\\<rangle> s \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: matrix_idempotent_semiring.mult_left_isotone)"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "also"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot> [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "have \"... \\<preceq> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "using 16"], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "by simp"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "finally"], ["proof (chain)\npicking this:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s", "show ?thesis"], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "by simp"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 21: \"?ha \\<odot> ?es \\<oplus> ?hb \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<preceq> ?ha\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "using 13 17 matrix_semilattice_sup.le_supI"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n  \\<lbrakk>?a \\<preceq> ?x; ?b \\<preceq> ?x\\<rbrakk>\n  \\<Longrightarrow> ?a \\<oplus> ?b \\<preceq> ?x\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    [y] \\<langle>h\\<rangle> [k]", "by blast"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 22: \"?ha \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?hb \\<odot> ?fs \\<preceq> ?hb\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "using 14 18 matrix_semilattice_sup.le_supI"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n  \\<lbrakk>?a \\<preceq> ?x; ?b \\<preceq> ?x\\<rbrakk>\n  \\<Longrightarrow> ?a \\<oplus> ?b \\<preceq> ?x\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    [y] \\<langle>h\\<rangle> s", "by blast"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 23: \"?hc \\<odot> ?es \\<oplus> ?hd \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<preceq> ?hc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "using 15 19 matrix_semilattice_sup.le_supI"], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n  \\<lbrakk>?a \\<preceq> ?x; ?b \\<preceq> ?x\\<rbrakk>\n  \\<Longrightarrow> ?a \\<oplus> ?b \\<preceq> ?x\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n    ys \\<langle>h\\<rangle> [k]", "by blast"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have 24: \"?hc \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?hd \\<odot> ?fs \\<preceq> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "using 16 20 matrix_semilattice_sup.le_supI"], ["proof (prove)\nusing this:\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n  \\<lbrakk>?a \\<preceq> ?x; ?b \\<preceq> ?x\\<rbrakk>\n  \\<Longrightarrow> ?a \\<oplus> ?b \\<preceq> ?x\n\ngoal (1 subgoal):\n 1. ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<preceq>\n    ys \\<langle>h\\<rangle> s", "by blast"], ["proof (state)\nthis:\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have \"zs\\<langle>h\\<rangle>?t \\<odot> star_matrix' ?t g = zs\\<langle>h\\<rangle>?t \\<odot> (?es \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?fs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s))", "by (metis star_matrix'.simps(2))"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "also"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g =\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have \"... = zs\\<langle>h\\<rangle>?t \\<odot> ?es \\<oplus> zs\\<langle>h\\<rangle>?t \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> zs\\<langle>h\\<rangle>?t \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> zs\\<langle>h\\<rangle>?t \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    ([k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) =\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: matrix_idempotent_semiring.mult_left_dist_sup matrix_monoid.mult_assoc)"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) =\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "also"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  ([k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) =\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have \"... = ?ha \\<odot> ?es \\<oplus> ?hc \\<odot> ?es \\<oplus> ?ha \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?hc \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?hb \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?hd \\<odot> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?hb \\<odot> ?fs \\<oplus> ?hd \\<odot> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "using 9 10 11 12"], ["proof (prove)\nusing this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    zs \\<langle>h\\<rangle> (k # s) \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s)", "by (simp add: matrix_semilattice_sup.sup_assoc)"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "also"], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have \"... = (?ha \\<odot> ?es \\<oplus> ?hb \\<odot> ?ds \\<odot> ?c \\<odot> ?es) \\<oplus> (?ha \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?hb \\<odot> ?fs) \\<oplus> (?hc \\<odot> ?es \\<oplus> ?hd \\<odot> ?ds \\<odot> ?c \\<odot> ?es) \\<oplus> (?hc \\<odot> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?hd \\<odot> ?fs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([y] \\<langle>h\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     [y] \\<langle>h\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) \\<oplus>\n    (ys \\<langle>h\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n    (ys \\<langle>h\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     ys \\<langle>h\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s))", "using 9 10 11 12"], ["proof (prove)\nusing this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k]\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) \\<oplus>\n    ys \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>g\\<rangle> s \\<oplus>\n      s \\<langle>g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>g\\<rangle> s) =\n    [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([y] \\<langle>h\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     [y] \\<langle>h\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) \\<oplus>\n    (ys \\<langle>h\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n    (ys \\<langle>h\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     ys \\<langle>h\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s))", "by (simp only: matrix_semilattice_sup.sup_assoc matrix_semilattice_sup.sup_commute matrix_semilattice_sup.sup_left_commute)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([y] \\<langle>h\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   [y] \\<langle>h\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<oplus>\n  (ys \\<langle>h\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  (ys \\<langle>h\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   ys \\<langle>h\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "also"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) =\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([y] \\<langle>h\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   [y] \\<langle>h\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<oplus>\n  (ys \\<langle>h\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  (ys \\<langle>h\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   ys \\<langle>h\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have \"... \\<preceq> ?ha \\<oplus> ?hb \\<oplus> ?hc \\<oplus> ?hd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([y] \\<langle>h\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     [y] \\<langle>h\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) \\<oplus>\n    (ys \\<langle>h\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n    (ys \\<langle>h\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     ys \\<langle>h\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) \\<preceq>\n    [y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s", "using 21 22 23 24 matrix_semilattice_sup.sup.mono"], ["proof (prove)\nusing this:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  [y] \\<langle>h\\<rangle> [k]\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  [y] \\<langle>h\\<rangle> s\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<preceq>\n  ys \\<langle>h\\<rangle> [k]\n  ys \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ> [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<oplus>\n  ys \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>g\\<rangle> s \\<oplus>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>g\\<rangle> s) \\<preceq>\n  ys \\<langle>h\\<rangle> s\n  \\<lbrakk>?c \\<preceq> ?a; ?d \\<preceq> ?b\\<rbrakk>\n  \\<Longrightarrow> ?c \\<oplus> ?d \\<preceq> ?a \\<oplus> ?b\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [y] \\<langle>h\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n    s \\<langle>g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>g\\<rangle> s \\<odot>\n                 star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                 s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    ([y] \\<langle>h\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     [y] \\<langle>h\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) \\<oplus>\n    (ys \\<langle>h\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n     ys \\<langle>h\\<rangle> s \\<odot>\n     star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                  [k] \\<langle>g\\<rangle> s \\<odot>\n                  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                  s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n    (ys \\<langle>h\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s) \\<oplus>\n     ys \\<langle>h\\<rangle> s \\<odot>\n     star_matrix' s\n      (s \\<langle>g\\<rangle> s \\<oplus>\n       s \\<langle>g\\<rangle> [k] \\<odot>\n       [k] \\<langle>star \\<circ>\n                    [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n       [k] \\<langle>g\\<rangle> s)) \\<preceq>\n    [y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s", "by blast"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([y] \\<langle>h\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   [y] \\<langle>h\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<oplus>\n  (ys \\<langle>h\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  (ys \\<langle>h\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   ys \\<langle>h\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "also"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [y] \\<langle>h\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n  s \\<langle>g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>g\\<rangle> s \\<odot>\n               star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n               s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  ([y] \\<langle>h\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   [y] \\<langle>h\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<oplus>\n  (ys \\<langle>h\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n   ys \\<langle>h\\<rangle> s \\<odot>\n   star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n   s \\<langle>g\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k] \\<oplus>\n                [k] \\<langle>g\\<rangle> s \\<odot>\n                star_matrix' s (s \\<langle>g\\<rangle> s) \\<odot>\n                s \\<langle>g\\<rangle> [k]\\<rangle> [k]) \\<oplus>\n  (ys \\<langle>h\\<rangle> [k] \\<odot>\n   [k] \\<langle>star \\<circ>\n                [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n   [k] \\<langle>g\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s) \\<oplus>\n   ys \\<langle>h\\<rangle> s \\<odot>\n   star_matrix' s\n    (s \\<langle>g\\<rangle> s \\<oplus>\n     s \\<langle>g\\<rangle> [k] \\<odot>\n     [k] \\<langle>star \\<circ>\n                  [k] \\<langle>g\\<rangle> [k]\\<rangle> [k] \\<odot>\n     [k] \\<langle>g\\<rangle> s)) \\<preceq>\n  [y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "have \"... = zs\\<langle>h\\<rangle>?t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s =\n    zs \\<langle>h\\<rangle> (k # s)", "using 2"], ["proof (prove)\nusing this:\n  zs = y # ys\n\ngoal (1 subgoal):\n 1. [y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n    ys \\<langle>h\\<rangle> [k] \\<oplus>\n    ys \\<langle>h\\<rangle> s =\n    zs \\<langle>h\\<rangle> (k # s)", "by (metis restrict_nonempty)"], ["proof (state)\nthis:\n  [y] \\<langle>h\\<rangle> [k] \\<oplus> [y] \\<langle>h\\<rangle> s \\<oplus>\n  ys \\<langle>h\\<rangle> [k] \\<oplus>\n  ys \\<langle>h\\<rangle> s =\n  zs \\<langle>h\\<rangle> (k # s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (k # s) \\<and> distinct zs;\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\\<rbrakk>\n    \\<Longrightarrow> zs \\<langle>h\\<rangle> (k # s) \\<odot>\n                      star_matrix' (k # s) g \\<preceq>\n                      zs \\<langle>h\\<rangle> (k # s)", "finally"], ["proof (chain)\npicking this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g \\<preceq>\n  zs \\<langle>h\\<rangle> (k # s)", "show \"zs\\<langle>h\\<rangle>?t \\<odot> star_matrix' ?t g \\<preceq> zs\\<langle>h\\<rangle>?t\""], ["proof (prove)\nusing this:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g \\<preceq>\n  zs \\<langle>h\\<rangle> (k # s)\n\ngoal (1 subgoal):\n 1. zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g \\<preceq>\n    zs \\<langle>h\\<rangle> (k # s)", "."], ["proof (state)\nthis:\n  zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g \\<preceq>\n  zs \\<langle>h\\<rangle> (k # s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n  zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g \\<preceq>\n  zs \\<langle>h\\<rangle> (k # s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot>\n  (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n  zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n  zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g \\<preceq>\n  zs \\<langle>h\\<rangle> (k # s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>g h zs.\n     distinct (k # s) \\<and> distinct zs \\<longrightarrow>\n     zs \\<langle>h\\<rangle> (k # s) \\<odot>\n     (k # s) \\<langle>g\\<rangle> (k # s) \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s) \\<longrightarrow>\n     zs \\<langle>h\\<rangle> (k # s) \\<odot> star_matrix' (k # s) g \\<preceq>\n     zs \\<langle>h\\<rangle> (k # s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>g h zs.\n     distinct enum_class.enum \\<and> distinct zs \\<longrightarrow>\n     zs \\<langle>h\\<rangle> enum_class.enum \\<odot>\n     enum_class.enum \\<langle>g\\<rangle> enum_class.enum \\<preceq>\n     zs \\<langle>h\\<rangle> enum_class.enum \\<longrightarrow>\n     zs \\<langle>h\\<rangle> enum_class.enum \\<odot>\n     star_matrix' enum_class.enum g \\<preceq>\n     zs \\<langle>h\\<rangle> enum_class.enum\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "hence \"\\<forall>zs . distinct zs \\<longrightarrow> (zs\\<langle>x\\<rangle>?e \\<odot> y \\<preceq> zs\\<langle>x\\<rangle>?e \\<longrightarrow> zs\\<langle>x\\<rangle>?e \\<odot> y\\<^sup>\\<odot> \\<preceq> zs\\<langle>x\\<rangle>?e)\""], ["proof (prove)\nusing this:\n  \\<forall>g h zs.\n     distinct enum_class.enum \\<and> distinct zs \\<longrightarrow>\n     zs \\<langle>h\\<rangle> enum_class.enum \\<odot>\n     enum_class.enum \\<langle>g\\<rangle> enum_class.enum \\<preceq>\n     zs \\<langle>h\\<rangle> enum_class.enum \\<longrightarrow>\n     zs \\<langle>h\\<rangle> enum_class.enum \\<odot>\n     star_matrix' enum_class.enum g \\<preceq>\n     zs \\<langle>h\\<rangle> enum_class.enum\n\ngoal (1 subgoal):\n 1. \\<forall>zs.\n       distinct zs \\<longrightarrow>\n       zs \\<langle>x\\<rangle> enum_class.enum \\<odot> y \\<preceq>\n       zs \\<langle>x\\<rangle> enum_class.enum \\<longrightarrow>\n       zs \\<langle>x\\<rangle> enum_class.enum \\<odot>\n       y\\<^sup>\\<odot> \\<preceq>\n       zs \\<langle>x\\<rangle> enum_class.enum", "by (simp add: enum_distinct restrict_all)"], ["proof (state)\nthis:\n  \\<forall>zs.\n     distinct zs \\<longrightarrow>\n     zs \\<langle>x\\<rangle> enum_class.enum \\<odot> y \\<preceq>\n     zs \\<langle>x\\<rangle> enum_class.enum \\<longrightarrow>\n     zs \\<langle>x\\<rangle> enum_class.enum \\<odot>\n     y\\<^sup>\\<odot> \\<preceq>\n     zs \\<langle>x\\<rangle> enum_class.enum\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       x \\<odot> y \\<preceq> x \\<longrightarrow>\n       x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "thus \"x \\<odot> y \\<preceq> x \\<longrightarrow> x \\<odot> y\\<^sup>\\<odot> \\<preceq> x\""], ["proof (prove)\nusing this:\n  \\<forall>zs.\n     distinct zs \\<longrightarrow>\n     zs \\<langle>x\\<rangle> enum_class.enum \\<odot> y \\<preceq>\n     zs \\<langle>x\\<rangle> enum_class.enum \\<longrightarrow>\n     zs \\<langle>x\\<rangle> enum_class.enum \\<odot>\n     y\\<^sup>\\<odot> \\<preceq>\n     zs \\<langle>x\\<rangle> enum_class.enum\n\ngoal (1 subgoal):\n 1. x \\<odot> y \\<preceq> x \\<longrightarrow>\n    x \\<odot> y\\<^sup>\\<odot> \\<preceq> x", "by (metis restrict_all enum_distinct)"], ["proof (state)\nthis:\n  x \\<odot> y \\<preceq> x \\<longrightarrow>\n  x \\<odot> y\\<^sup>\\<odot> \\<preceq> x\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Matrices form a Stone-Kleene Relation Algebra\\<close>"], ["", "text \\<open>\nMatrices over Stone-Kleene relation algebras form a Stone-Kleene relation algebra.\nIt remains to prove the axiom about the interaction of Kleene star and double complement.\n\\<close>"], ["", "interpretation matrix_stone_kleene_relation_algebra: stone_kleene_relation_algebra where sup = sup_matrix and inf = inf_matrix and less_eq = less_eq_matrix and less = less_matrix and bot = \"bot_matrix::('a::enum,'b::stone_kleene_relation_algebra) square\" and top = top_matrix and uminus = uminus_matrix and one = one_matrix and times = times_matrix and conv = conv_matrix and star = star_matrix"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.stone_kleene_relation_algebra star_matrix mone (\\<odot>)\n     (\\<oplus>) (\\<preceq>) (\\<prec>) mbot (\\<otimes>) mtop conv_matrix\n     uminus_matrix", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<ominus> \\<ominus> x\\<^sup>\\<odot> =\n       (\\<ominus> \\<ominus> x)\\<^sup>\\<odot>", "fix x :: \"('a,'b) square\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<ominus> \\<ominus> x\\<^sup>\\<odot> =\n       (\\<ominus> \\<ominus> x)\\<^sup>\\<odot>", "let ?e = \"enum_class.enum::'a list\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<ominus> \\<ominus> x\\<^sup>\\<odot> =\n       (\\<ominus> \\<ominus> x)\\<^sup>\\<odot>", "let ?o = \"mone :: ('a,'b) square\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<ominus> \\<ominus> x\\<^sup>\\<odot> =\n       (\\<ominus> \\<ominus> x)\\<^sup>\\<odot>", "show \"\\<ominus>\\<ominus>(x\\<^sup>\\<odot>) = (\\<ominus>\\<ominus>x)\\<^sup>\\<odot>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> x\\<^sup>\\<odot> =\n    (\\<ominus> \\<ominus> x)\\<^sup>\\<odot>", "proof (rule matrix_order.antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<ominus> \\<ominus> x\\<^sup>\\<odot> \\<preceq>\n    (\\<ominus> \\<ominus> x)\\<^sup>\\<odot>\n 2. (\\<ominus> \\<ominus> x)\\<^sup>\\<odot> \\<preceq>\n    \\<ominus> \\<ominus> x\\<^sup>\\<odot>", "have \"\\<forall>g :: ('a,'b) square . distinct ?e \\<longrightarrow> \\<ominus>\\<ominus>(star_matrix' ?e (\\<ominus>\\<ominus>g)) = star_matrix' ?e (\\<ominus>\\<ominus>g)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>g.\n       distinct enum_class.enum \\<longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' enum_class.enum\n                            (\\<ominus> \\<ominus> g) =\n       star_matrix' enum_class.enum (\\<ominus> \\<ominus> g)", "proof (induct rule: list.induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>g.\n       distinct [] \\<longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' [] (\\<ominus> \\<ominus> g) =\n       star_matrix' [] (\\<ominus> \\<ominus> g)\n 2. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' x2 (\\<ominus> \\<ominus> g) =\n          star_matrix' x2 (\\<ominus> \\<ominus> g) \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' (x1 # x2)\n                               (\\<ominus> \\<ominus> g) =\n          star_matrix' (x1 # x2) (\\<ominus> \\<ominus> g)", "case Nil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<forall>g.\n       distinct [] \\<longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' [] (\\<ominus> \\<ominus> g) =\n       star_matrix' [] (\\<ominus> \\<ominus> g)\n 2. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' x2 (\\<ominus> \\<ominus> g) =\n          star_matrix' x2 (\\<ominus> \\<ominus> g) \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' (x1 # x2)\n                               (\\<ominus> \\<ominus> g) =\n          star_matrix' (x1 # x2) (\\<ominus> \\<ominus> g)", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>g.\n       distinct [] \\<longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' [] (\\<ominus> \\<ominus> g) =\n       star_matrix' [] (\\<ominus> \\<ominus> g)", "by simp"], ["proof (state)\nthis:\n  \\<forall>g.\n     distinct [] \\<longrightarrow>\n     \\<ominus> \\<ominus> star_matrix' [] (\\<ominus> \\<ominus> g) =\n     star_matrix' [] (\\<ominus> \\<ominus> g)\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' x2 (\\<ominus> \\<ominus> g) =\n          star_matrix' x2 (\\<ominus> \\<ominus> g) \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' (x1 # x2)\n                               (\\<ominus> \\<ominus> g) =\n          star_matrix' (x1 # x2) (\\<ominus> \\<ominus> g)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' x2 (\\<ominus> \\<ominus> g) =\n          star_matrix' x2 (\\<ominus> \\<ominus> g) \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' (x1 # x2)\n                               (\\<ominus> \\<ominus> g) =\n          star_matrix' (x1 # x2) (\\<ominus> \\<ominus> g)", "case (Cons k s)"], ["proof (state)\nthis:\n  \\<forall>g.\n     distinct s \\<longrightarrow>\n     \\<ominus> \\<ominus> star_matrix' s (\\<ominus> \\<ominus> g) =\n     star_matrix' s (\\<ominus> \\<ominus> g)\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' x2 (\\<ominus> \\<ominus> g) =\n          star_matrix' x2 (\\<ominus> \\<ominus> g) \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' (x1 # x2)\n                               (\\<ominus> \\<ominus> g) =\n          star_matrix' (x1 # x2) (\\<ominus> \\<ominus> g)", "let ?t = \"k#s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' x2 (\\<ominus> \\<ominus> g) =\n          star_matrix' x2 (\\<ominus> \\<ominus> g) \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' (x1 # x2)\n                               (\\<ominus> \\<ominus> g) =\n          star_matrix' (x1 # x2) (\\<ominus> \\<ominus> g)", "assume 1: \"\\<forall>g :: ('a,'b) square . distinct s \\<longrightarrow> \\<ominus>\\<ominus>(star_matrix' s (\\<ominus>\\<ominus>g)) = star_matrix' s (\\<ominus>\\<ominus>g)\""], ["proof (state)\nthis:\n  \\<forall>g.\n     distinct s \\<longrightarrow>\n     \\<ominus> \\<ominus> star_matrix' s (\\<ominus> \\<ominus> g) =\n     star_matrix' s (\\<ominus> \\<ominus> g)\n\ngoal (1 subgoal):\n 1. \\<And>x1 x2.\n       \\<forall>g.\n          distinct x2 \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' x2 (\\<ominus> \\<ominus> g) =\n          star_matrix' x2 (\\<ominus> \\<ominus> g) \\<Longrightarrow>\n       \\<forall>g.\n          distinct (x1 # x2) \\<longrightarrow>\n          \\<ominus> \\<ominus> star_matrix' (x1 # x2)\n                               (\\<ominus> \\<ominus> g) =\n          star_matrix' (x1 # x2) (\\<ominus> \\<ominus> g)", "show \"\\<forall>g :: ('a,'b) square . distinct ?t \\<longrightarrow> \\<ominus>\\<ominus>(star_matrix' ?t (\\<ominus>\\<ominus>g)) = star_matrix' ?t (\\<ominus>\\<ominus>g)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>g.\n       distinct (k # s) \\<longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "proof (rule allI, rule impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "fix g :: \"('a,'b) square\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "assume 2: \"distinct ?t\""], ["proof (state)\nthis:\n  distinct (k # s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "let ?r = \"[k]\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "let ?a = \"?r\\<langle>\\<ominus>\\<ominus>g\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "let ?b = \"?r\\<langle>\\<ominus>\\<ominus>g\\<rangle>s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "let ?c = \"s\\<langle>\\<ominus>\\<ominus>g\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "let ?d = \"s\\<langle>\\<ominus>\\<ominus>g\\<rangle>s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "let ?as = \"?r\\<langle>star o ?a\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "let ?ds = \"star_matrix' s ?d\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "let ?e = \"?a \\<oplus> ?b \\<odot> ?ds \\<odot> ?c\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "let ?es = \"?r\\<langle>star o ?e\\<rangle>?r\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "let ?f = \"?d \\<oplus> ?c \\<odot> ?as \\<odot> ?b\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "let ?fs = \"star_matrix' s ?f\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "have \"s\\<langle>?ds\\<rangle>s = ?ds \\<and> s\\<langle>?fs\\<rangle>s = ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<langle>star_matrix' s\n                (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\\<rangle> s =\n    star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<and>\n    s \\<langle>star_matrix' s\n                (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                 s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                 [k] \\<langle>star \\<circ>\n                              [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\\<rangle> s =\n    star_matrix' s\n     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n      s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)", "by (simp add: restrict_star)"], ["proof (state)\nthis:\n  s \\<langle>star_matrix' s\n              (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\\<rangle> s =\n  star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<and>\n  s \\<langle>star_matrix' s\n              (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n               s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n               [k] \\<langle>star \\<circ>\n                            [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\\<rangle> s =\n  star_matrix' s\n   (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "have 3: \"\\<ominus>\\<ominus>?a = ?a \\<and> \\<ominus>\\<ominus>?b = ?b \\<and> \\<ominus>\\<ominus>?c = ?c \\<and> \\<ominus>\\<ominus>?d = ?d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] =\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<and>\n    \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s =\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<and>\n    \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] =\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<and>\n    \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s =\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s", "by (metis matrix_p_algebra.regular_closed_p restrict_pp)"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] =\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<and>\n  \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s =\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<and>\n  \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] =\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<and>\n  \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s =\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "hence 4: \"\\<ominus>\\<ominus>?as = ?as\""], ["proof (prove)\nusing this:\n  \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] =\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<and>\n  \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s =\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<and>\n  \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] =\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<and>\n  \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s =\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k]", "by (metis pp_star_commute restrict_pp)"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "hence \"\\<ominus>\\<ominus>?f = ?f\""], ["proof (prove)\nusing this:\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s", "using 3"], ["proof (prove)\nusing this:\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k]\n  \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] =\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<and>\n  \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s =\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<and>\n  \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] =\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<and>\n  \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s =\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s", "by (metis matrix_stone_algebra.regular_closed_sup matrix_stone_relation_algebra.regular_mult_closed)"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                       s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                       [k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                       [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "hence 5: \"\\<ominus>\\<ominus>?fs = ?fs\""], ["proof (prove)\nusing this:\n  \\<ominus> \\<ominus> (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                       s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                       [k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                       [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> star_matrix' s\n                         (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                          s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                          [k] \\<langle>star \\<circ>\n [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                          [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n    star_matrix' s\n     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n      s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)", "using 1 2"], ["proof (prove)\nusing this:\n  \\<ominus> \\<ominus> (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                       s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                       [k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                       [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s\n  \\<forall>g.\n     distinct s \\<longrightarrow>\n     \\<ominus> \\<ominus> star_matrix' s (\\<ominus> \\<ominus> g) =\n     star_matrix' s (\\<ominus> \\<ominus> g)\n  distinct (k # s)\n\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> star_matrix' s\n                         (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                          s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                          [k] \\<langle>star \\<circ>\n [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                          [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n    star_matrix' s\n     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n      s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)", "by (metis distinct.simps(2))"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                        s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                        [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                        [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n  star_matrix' s\n   (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "have 6: \"\\<ominus>\\<ominus>?ds = ?ds\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> star_matrix' s\n                         (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n    star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)", "using 1 2"], ["proof (prove)\nusing this:\n  \\<forall>g.\n     distinct s \\<longrightarrow>\n     \\<ominus> \\<ominus> star_matrix' s (\\<ominus> \\<ominus> g) =\n     star_matrix' s (\\<ominus> \\<ominus> g)\n  distinct (k # s)\n\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> star_matrix' s\n                         (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n    star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)", "by (simp add: restrict_pp)"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n  star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "hence \"\\<ominus>\\<ominus>?e = ?e\""], ["proof (prove)\nusing this:\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n  star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> ([k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                         star_matrix' s\n                          (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]) =\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]", "using 3"], ["proof (prove)\nusing this:\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n  star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\n  \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] =\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<and>\n  \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s =\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<and>\n  \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] =\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<and>\n  \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s =\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s\n\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> ([k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                         star_matrix' s\n                          (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]) =\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n    star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]", "by (metis matrix_stone_algebra.regular_closed_sup matrix_stone_relation_algebra.regular_mult_closed)"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> ([k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                       [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                       s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]) =\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "hence 7: \"\\<ominus>\\<ominus>?es = ?es\""], ["proof (prove)\nusing this:\n  \\<ominus> \\<ominus> ([k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                       [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                       s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]) =\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n  star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                     star_matrix' s\n(s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                     s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                 star_matrix' s\n                  (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                 s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k]", "by (metis pp_star_commute restrict_pp)"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                   star_matrix' s\n                                    (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                   s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n               s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "have \"\\<ominus>\\<ominus>(star_matrix' ?t (\\<ominus>\\<ominus>g)) = \\<ominus>\\<ominus>(?es \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?fs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n    \\<ominus> \\<ominus> ([k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\nstar_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\ns \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                         star_matrix' s\n                          (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                           s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                           [k] \\<langle>star \\<circ>\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                           [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n                         star_matrix' s\n                          (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\nstar_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\ns \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                         star_matrix' s\n                          (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                           s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                           [k] \\<langle>star \\<circ>\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                           [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s))", "by (metis star_matrix'.simps(2))"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n  \\<ominus> \\<ominus> ([k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                    star_matrix' s\n                                     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                       [k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                       [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                       s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                       [k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                    star_matrix' s\n                                     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s))\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "also"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n  \\<ominus> \\<ominus> ([k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                    star_matrix' s\n                                     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                       [k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                       [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                       s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                       [k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                    star_matrix' s\n                                     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s))\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "have \"... = \\<ominus>\\<ominus>?es \\<oplus> \\<ominus>\\<ominus>?as \\<odot> \\<ominus>\\<ominus>?b \\<odot> \\<ominus>\\<ominus>?fs \\<oplus> \\<ominus>\\<ominus>?ds \\<odot> \\<ominus>\\<ominus>?c \\<odot> \\<ominus>\\<ominus>?es \\<oplus> \\<ominus>\\<ominus>?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> ([k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\nstar_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\ns \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                         star_matrix' s\n                          (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                           s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                           [k] \\<langle>star \\<circ>\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                           [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n                         star_matrix' s\n                          (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\nstar_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\ns \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                         star_matrix' s\n                          (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                           s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                           [k] \\<langle>star \\<circ>\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                           [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)) =\n    \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                     star_matrix' s\n(s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                     s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n    \\<ominus> \\<ominus> star_matrix' s\n                         (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                          s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                          [k] \\<langle>star \\<circ>\n [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                          [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n    \\<ominus> \\<ominus> star_matrix' s\n                         (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n    \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                     star_matrix' s\n(s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                     s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    \\<ominus> \\<ominus> star_matrix' s\n                         (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                          s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                          [k] \\<langle>star \\<circ>\n [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                          [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)", "by (simp add: matrix_stone_relation_algebra.pp_dist_comp)"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> ([k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                    star_matrix' s\n                                     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                       [k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                       [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                       s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                       [k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                    star_matrix' s\n                                     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)) =\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                   star_matrix' s\n                                    (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                   s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                        s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                        [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                        [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n  \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                   star_matrix' s\n                                    (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                   s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                        s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                        [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                        [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "also"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> ([k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                    star_matrix' s\n                                     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                       [k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                       [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                       s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                       [k] \\<langle>star \\<circ>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                    star_matrix' s\n                                     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n                       star_matrix' s\n                        (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                         s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                         [k] \\<langle>star \\<circ>\n[k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                         [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)) =\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                   star_matrix' s\n                                    (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                   s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                        s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                        [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                        [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n  \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                   star_matrix' s\n                                    (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                   s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                        s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                        [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                        [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "have \"... = ?es \\<oplus> ?as \\<odot> ?b \\<odot> ?fs \\<oplus> ?ds \\<odot> ?c \\<odot> ?es \\<oplus> ?fs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                     star_matrix' s\n(s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                     s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n    \\<ominus> \\<ominus> star_matrix' s\n                         (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                          s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                          [k] \\<langle>star \\<circ>\n [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                          [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n    \\<ominus> \\<ominus> star_matrix' s\n                         (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n    \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                     star_matrix' s\n(s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                     s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    \\<ominus> \\<ominus> star_matrix' s\n                         (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                          s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                          [k] \\<langle>star \\<circ>\n [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                          [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                 star_matrix' s\n                  (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                 s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n      s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                 star_matrix' s\n                  (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                 s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n      s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)", "using 3 4 5 6 7"], ["proof (prove)\nusing this:\n  \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] =\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<and>\n  \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s =\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<and>\n  \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] =\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<and>\n  \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s =\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k]\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                        s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                        [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                        [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n  star_matrix' s\n   (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n  star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                   star_matrix' s\n                                    (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                   s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n               s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k]\n\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                     star_matrix' s\n(s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                     s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n    \\<ominus> \\<ominus> star_matrix' s\n                         (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                          s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                          [k] \\<langle>star \\<circ>\n [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                          [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n    \\<ominus> \\<ominus> star_matrix' s\n                         (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n    \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                     star_matrix' s\n(s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                     s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    \\<ominus> \\<ominus> star_matrix' s\n                         (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                          s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                          [k] \\<langle>star \\<circ>\n [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                          [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                 star_matrix' s\n                  (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                 s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n    star_matrix' s\n     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n      s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n    star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                 star_matrix' s\n                  (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                 s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n    star_matrix' s\n     (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n      s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n      [k] \\<langle>star \\<circ>\n                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n      [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)", "by simp"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                   star_matrix' s\n                                    (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                   s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  \\<ominus> \\<ominus> [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                        s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                        [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                        [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n  \\<ominus> \\<ominus> s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n  \\<ominus> \\<ominus> [k] \\<langle>star \\<circ>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n                                   [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n                                   star_matrix' s\n                                    (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n                                   s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  \\<ominus> \\<ominus> star_matrix' s\n                       (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n                        s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n                        [k] \\<langle>star \\<circ>\n                                     [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n                        [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n               s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n               s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       distinct (k # s) \\<Longrightarrow>\n       \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n       star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "finally"], ["proof (chain)\npicking this:\n  \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n               s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n               s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)", "show \"\\<ominus>\\<ominus>(star_matrix' ?t (\\<ominus>\\<ominus>g)) = star_matrix' ?t (\\<ominus>\\<ominus>g)\""], ["proof (prove)\nusing this:\n  \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n               s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n  [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n  star_matrix' s\n   (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<oplus>\n  star_matrix' s (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n  s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n  [k] \\<langle>star \\<circ>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<oplus>\n               [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<odot>\n               star_matrix' s\n                (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s) \\<odot>\n               s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<oplus>\n  star_matrix' s\n   (s \\<langle>\\<ominus> \\<ominus> g\\<rangle> s \\<oplus>\n    s \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k] \\<odot>\n    [k] \\<langle>star \\<circ>\n                 [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> [k]\\<rangle> [k] \\<odot>\n    [k] \\<langle>\\<ominus> \\<ominus> g\\<rangle> s)\n\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n    star_matrix' (k # s) (\\<ominus> \\<ominus> g)", "by (metis star_matrix'.simps(2))"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n  star_matrix' (k # s) (\\<ominus> \\<ominus> g)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>g.\n     distinct (k # s) \\<longrightarrow>\n     \\<ominus> \\<ominus> star_matrix' (k # s) (\\<ominus> \\<ominus> g) =\n     star_matrix' (k # s) (\\<ominus> \\<ominus> g)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>g.\n     distinct enum_class.enum \\<longrightarrow>\n     \\<ominus> \\<ominus> star_matrix' enum_class.enum\n                          (\\<ominus> \\<ominus> g) =\n     star_matrix' enum_class.enum (\\<ominus> \\<ominus> g)\n\ngoal (2 subgoals):\n 1. \\<ominus> \\<ominus> x\\<^sup>\\<odot> \\<preceq>\n    (\\<ominus> \\<ominus> x)\\<^sup>\\<odot>\n 2. (\\<ominus> \\<ominus> x)\\<^sup>\\<odot> \\<preceq>\n    \\<ominus> \\<ominus> x\\<^sup>\\<odot>", "hence \"(\\<ominus>\\<ominus>x)\\<^sup>\\<odot> = \\<ominus>\\<ominus>((\\<ominus>\\<ominus>x)\\<^sup>\\<odot>)\""], ["proof (prove)\nusing this:\n  \\<forall>g.\n     distinct enum_class.enum \\<longrightarrow>\n     \\<ominus> \\<ominus> star_matrix' enum_class.enum\n                          (\\<ominus> \\<ominus> g) =\n     star_matrix' enum_class.enum (\\<ominus> \\<ominus> g)\n\ngoal (1 subgoal):\n 1. matrix_p_algebra.regular ((\\<ominus> \\<ominus> x)\\<^sup>\\<odot>)", "by (simp add: enum_distinct restrict_all)"], ["proof (state)\nthis:\n  matrix_p_algebra.regular ((\\<ominus> \\<ominus> x)\\<^sup>\\<odot>)\n\ngoal (2 subgoals):\n 1. \\<ominus> \\<ominus> x\\<^sup>\\<odot> \\<preceq>\n    (\\<ominus> \\<ominus> x)\\<^sup>\\<odot>\n 2. (\\<ominus> \\<ominus> x)\\<^sup>\\<odot> \\<preceq>\n    \\<ominus> \\<ominus> x\\<^sup>\\<odot>", "thus \"\\<ominus>\\<ominus>(x\\<^sup>\\<odot>) \\<preceq> (\\<ominus>\\<ominus>x)\\<^sup>\\<odot>\""], ["proof (prove)\nusing this:\n  matrix_p_algebra.regular ((\\<ominus> \\<ominus> x)\\<^sup>\\<odot>)\n\ngoal (1 subgoal):\n 1. \\<ominus> \\<ominus> x\\<^sup>\\<odot> \\<preceq>\n    (\\<ominus> \\<ominus> x)\\<^sup>\\<odot>", "by (metis matrix_kleene_algebra.star.circ_isotone matrix_p_algebra.pp_increasing matrix_p_algebra.pp_isotone)"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> x\\<^sup>\\<odot> \\<preceq>\n  (\\<ominus> \\<ominus> x)\\<^sup>\\<odot>\n\ngoal (1 subgoal):\n 1. (\\<ominus> \\<ominus> x)\\<^sup>\\<odot> \\<preceq>\n    \\<ominus> \\<ominus> x\\<^sup>\\<odot>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<ominus> \\<ominus> x)\\<^sup>\\<odot> \\<preceq>\n    \\<ominus> \\<ominus> x\\<^sup>\\<odot>", "have \"?o \\<oplus> \\<ominus>\\<ominus>x \\<odot> \\<ominus>\\<ominus>(x\\<^sup>\\<odot>) \\<preceq> \\<ominus>\\<ominus>(x\\<^sup>\\<odot>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_idempotent_semiring.Rf (\\<ominus> \\<ominus> x)\n     (\\<ominus> \\<ominus> x\\<^sup>\\<odot>) \\<preceq>\n    \\<ominus> \\<ominus> x\\<^sup>\\<odot>", "by (metis matrix_kleene_algebra.star_left_unfold_equal matrix_p_algebra.sup_pp_semi_commute matrix_stone_relation_algebra.pp_dist_comp)"], ["proof (state)\nthis:\n  matrix_idempotent_semiring.Rf (\\<ominus> \\<ominus> x)\n   (\\<ominus> \\<ominus> x\\<^sup>\\<odot>) \\<preceq>\n  \\<ominus> \\<ominus> x\\<^sup>\\<odot>\n\ngoal (1 subgoal):\n 1. (\\<ominus> \\<ominus> x)\\<^sup>\\<odot> \\<preceq>\n    \\<ominus> \\<ominus> x\\<^sup>\\<odot>", "thus \"(\\<ominus>\\<ominus>x)\\<^sup>\\<odot> \\<preceq> \\<ominus>\\<ominus>(x\\<^sup>\\<odot>)\""], ["proof (prove)\nusing this:\n  matrix_idempotent_semiring.Rf (\\<ominus> \\<ominus> x)\n   (\\<ominus> \\<ominus> x\\<^sup>\\<odot>) \\<preceq>\n  \\<ominus> \\<ominus> x\\<^sup>\\<odot>\n\ngoal (1 subgoal):\n 1. (\\<ominus> \\<ominus> x)\\<^sup>\\<odot> \\<preceq>\n    \\<ominus> \\<ominus> x\\<^sup>\\<odot>", "using matrix_kleene_algebra.star_left_induct"], ["proof (prove)\nusing this:\n  matrix_idempotent_semiring.Rf (\\<ominus> \\<ominus> x)\n   (\\<ominus> \\<ominus> x\\<^sup>\\<odot>) \\<preceq>\n  \\<ominus> \\<ominus> x\\<^sup>\\<odot>\n  ?z \\<oplus> ?y \\<odot> ?x \\<preceq> ?x \\<longrightarrow>\n  ?y\\<^sup>\\<odot> \\<odot> ?z \\<preceq> ?x\n\ngoal (1 subgoal):\n 1. (\\<ominus> \\<ominus> x)\\<^sup>\\<odot> \\<preceq>\n    \\<ominus> \\<ominus> x\\<^sup>\\<odot>", "by fastforce"], ["proof (state)\nthis:\n  (\\<ominus> \\<ominus> x)\\<^sup>\\<odot> \\<preceq>\n  \\<ominus> \\<ominus> x\\<^sup>\\<odot>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<ominus> \\<ominus> x\\<^sup>\\<odot> =\n  (\\<ominus> \\<ominus> x)\\<^sup>\\<odot>\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}