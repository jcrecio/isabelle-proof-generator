{"file_name": "/home/qj213/afp-2021-10-22/thys/Modal_Logics_for_NTS/Weak_Bisimilarity_Implies_Equivalence.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Modal_Logics_for_NTS", "problem_names": ["lemma weak_bisimilarity_implies_weak_equivalence_Act:\n    assumes \"\\<And>P Q. P \\<approx>\\<cdot> Q \\<Longrightarrow> P \\<Turnstile> x \\<longleftrightarrow> Q \\<Turnstile> x\"\n    and \"P \\<approx>\\<cdot> Q\"\n    \\<comment> \\<open>not needed: and @{prop \"weak_formula x\"}\\<close>\n    and \"P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\"\n    shows \"Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\"", "lemma weak_bisimilarity_implies_weak_equivalence_Pred:\n    assumes \"\\<And>P Q. P \\<approx>\\<cdot> Q \\<Longrightarrow> P \\<Turnstile> x \\<longleftrightarrow> Q \\<Turnstile> x\"\n    and \"P \\<approx>\\<cdot> Q\"\n    \\<comment> \\<open>not needed: and @{prop \"weak_formula x\"}\\<close>\n    and \"P \\<Turnstile> \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>(Conj (binsert (Pred \\<phi>) (bsingleton x)))\"\n    shows \"Q \\<Turnstile> \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>(Conj (binsert (Pred \\<phi>) (bsingleton x)))\"", "theorem weak_bisimilarity_implies_weak_equivalence: assumes \"P \\<approx>\\<cdot> Q\" shows \"P \\<equiv>\\<cdot> Q\""], "translations": [["", "lemma weak_bisimilarity_implies_weak_equivalence_Act:\n    assumes \"\\<And>P Q. P \\<approx>\\<cdot> Q \\<Longrightarrow> P \\<Turnstile> x \\<longleftrightarrow> Q \\<Turnstile> x\"\n    and \"P \\<approx>\\<cdot> Q\"\n    \\<comment> \\<open>not needed: and @{prop \"weak_formula x\"}\\<close>\n    and \"P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\"\n    shows \"Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "have \"finite (supp Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (supp Q)", "by (fact finite_supp)"], ["proof (state)\nthis:\n  finite (supp Q)\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with \\<open>P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\\<close>"], ["proof (chain)\npicking this:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n  finite (supp Q)", "obtain \\<alpha>' x' P' where eq: \"Act \\<alpha> x = Act \\<alpha>' x'\" and trans: \"P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\" and valid: \"P' \\<Turnstile> x'\" and fresh: \"bn \\<alpha>' \\<sharp>* Q\""], ["proof (prove)\nusing this:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n  finite (supp Q)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha>' x' P'.\n        \\<lbrakk>Act \\<alpha> x = Act \\<alpha>' x';\n         P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'; P' \\<Turnstile> x';\n         bn \\<alpha>' \\<sharp>* Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis valid_weak_action_modality_strong)"], ["proof (state)\nthis:\n  Act \\<alpha> x = Act \\<alpha>' x'\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  P' \\<Turnstile> x'\n  bn \\<alpha>' \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from \\<open>P \\<approx>\\<cdot> Q\\<close> and fresh and trans"], ["proof (chain)\npicking this:\n  P \\<approx>\\<cdot> Q\n  bn \\<alpha>' \\<sharp>* Q\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'", "obtain Q' where trans': \"Q \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> Q'\" and bisim': \"P' \\<approx>\\<cdot> Q'\""], ["proof (prove)\nusing this:\n  P \\<approx>\\<cdot> Q\n  bn \\<alpha>' \\<sharp>* Q\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        \\<lbrakk>Q \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> Q';\n         P' \\<approx>\\<cdot> Q'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis weakly_bisimilar_weak_simulation_step)"], ["proof (state)\nthis:\n  Q \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> Q'\n  P' \\<approx>\\<cdot> Q'\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from eq"], ["proof (chain)\npicking this:\n  Act \\<alpha> x = Act \\<alpha>' x'", "obtain p where px: \"x' = p \\<bullet> x\""], ["proof (prove)\nusing this:\n  Act \\<alpha> x = Act \\<alpha>' x'\n\ngoal (1 subgoal):\n 1. (\\<And>p. x' = p \\<bullet> x \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis Act_eq_iff_perm)"], ["proof (state)\nthis:\n  x' = p \\<bullet> x\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with valid"], ["proof (chain)\npicking this:\n  P' \\<Turnstile> x'\n  x' = p \\<bullet> x", "have \"-p \\<bullet> P' \\<Turnstile> x\""], ["proof (prove)\nusing this:\n  P' \\<Turnstile> x'\n  x' = p \\<bullet> x\n\ngoal (1 subgoal):\n 1. - p \\<bullet> P' \\<Turnstile> x", "by (metis permute_minus_cancel(1) valid_eqvt)"], ["proof (state)\nthis:\n  - p \\<bullet> P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "moreover"], ["proof (state)\nthis:\n  - p \\<bullet> P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from bisim'"], ["proof (chain)\npicking this:\n  P' \\<approx>\\<cdot> Q'", "have \"(-p \\<bullet> P') \\<approx>\\<cdot> (-p \\<bullet> Q')\""], ["proof (prove)\nusing this:\n  P' \\<approx>\\<cdot> Q'\n\ngoal (1 subgoal):\n 1. (- p \\<bullet> P') \\<approx>\\<cdot> (- p \\<bullet> Q')", "by (metis weakly_bisimilar_eqvt)"], ["proof (state)\nthis:\n  (- p \\<bullet> P') \\<approx>\\<cdot> (- p \\<bullet> Q')\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "ultimately"], ["proof (chain)\npicking this:\n  - p \\<bullet> P' \\<Turnstile> x\n  (- p \\<bullet> P') \\<approx>\\<cdot> (- p \\<bullet> Q')", "have \"-p \\<bullet> Q' \\<Turnstile> x\""], ["proof (prove)\nusing this:\n  - p \\<bullet> P' \\<Turnstile> x\n  (- p \\<bullet> P') \\<approx>\\<cdot> (- p \\<bullet> Q')\n\ngoal (1 subgoal):\n 1. - p \\<bullet> Q' \\<Turnstile> x", "using \\<open>\\<And>P Q. P \\<approx>\\<cdot> Q \\<Longrightarrow> P \\<Turnstile> x \\<longleftrightarrow> Q \\<Turnstile> x\\<close>"], ["proof (prove)\nusing this:\n  - p \\<bullet> P' \\<Turnstile> x\n  (- p \\<bullet> P') \\<approx>\\<cdot> (- p \\<bullet> Q')\n  ?P \\<approx>\\<cdot> ?Q \\<Longrightarrow>\n  ?P \\<Turnstile> x = ?Q \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. - p \\<bullet> Q' \\<Turnstile> x", "by metis"], ["proof (state)\nthis:\n  - p \\<bullet> Q' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with px"], ["proof (chain)\npicking this:\n  x' = p \\<bullet> x\n  - p \\<bullet> Q' \\<Turnstile> x", "have \"Q' \\<Turnstile> x'\""], ["proof (prove)\nusing this:\n  x' = p \\<bullet> x\n  - p \\<bullet> Q' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. Q' \\<Turnstile> x'", "by (metis permute_minus_cancel(1) valid_eqvt)"], ["proof (state)\nthis:\n  Q' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with eq and trans'"], ["proof (chain)\npicking this:\n  Act \\<alpha> x = Act \\<alpha>' x'\n  Q \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> Q'\n  Q' \\<Turnstile> x'", "show \"Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\""], ["proof (prove)\nusing this:\n  Act \\<alpha> x = Act \\<alpha>' x'\n  Q \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> Q'\n  Q' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "unfolding valid_weak_action_modality"], ["proof (prove)\nusing this:\n  Act \\<alpha> x = Act \\<alpha>' x'\n  Q \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> Q'\n  Q' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       Q \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'", "by metis"], ["proof (state)\nthis:\n  Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weak_bisimilarity_implies_weak_equivalence_Pred:\n    assumes \"\\<And>P Q. P \\<approx>\\<cdot> Q \\<Longrightarrow> P \\<Turnstile> x \\<longleftrightarrow> Q \\<Turnstile> x\"\n    and \"P \\<approx>\\<cdot> Q\"\n    \\<comment> \\<open>not needed: and @{prop \"weak_formula x\"}\\<close>\n    and \"P \\<Turnstile> \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>(Conj (binsert (Pred \\<phi>) (bsingleton x)))\"\n    shows \"Q \\<Turnstile> \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>(Conj (binsert (Pred \\<phi>) (bsingleton x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "let ?c = \"Conj (binsert (Pred \\<phi>) (bsingleton x))\""], ["proof (state)\ngoal (1 subgoal):\n 1. Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "from \\<open>P \\<Turnstile> \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>?c\\<close>"], ["proof (chain)\npicking this:\n  P \\<Turnstile>\n  \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n       (binsert (Pred \\<phi>) (bsingleton x))", "obtain P' where trans: \"P \\<Rightarrow> P'\" and valid: \"P' \\<Turnstile> ?c\""], ["proof (prove)\nusing this:\n  P \\<Turnstile>\n  \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n       (binsert (Pred \\<phi>) (bsingleton x))\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Rightarrow> P';\n         P' \\<Turnstile>\n         Conj (binsert (Pred \\<phi>) (bsingleton x))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using valid_weak_action_modality"], ["proof (prove)\nusing this:\n  P \\<Turnstile>\n  \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n       (binsert (Pred \\<phi>) (bsingleton x))\n  ?P \\<Turnstile> \\<langle>\\<langle>?\\<alpha>\\<rangle>\\<rangle>?x =\n  (\\<exists>\\<alpha>' x' P'.\n      Act ?\\<alpha> ?x = Act \\<alpha>' x' \\<and>\n      ?P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n      P' \\<Turnstile> x')\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Rightarrow> P';\n         P' \\<Turnstile>\n         Conj (binsert (Pred \\<phi>) (bsingleton x))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P \\<Rightarrow> P'\n  P' \\<Turnstile> Conj (binsert (Pred \\<phi>) (bsingleton x))\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "have \"bn \\<tau>  \\<sharp>* Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bn \\<tau> \\<sharp>* Q", "by (simp add: fresh_star_def)"], ["proof (state)\nthis:\n  bn \\<tau> \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "with \\<open>P \\<approx>\\<cdot> Q\\<close> and trans"], ["proof (chain)\npicking this:\n  P \\<approx>\\<cdot> Q\n  P \\<Rightarrow> P'\n  bn \\<tau> \\<sharp>* Q", "obtain Q' where trans': \"Q \\<Rightarrow> Q'\" and bisim': \"P' \\<approx>\\<cdot> Q'\""], ["proof (prove)\nusing this:\n  P \\<approx>\\<cdot> Q\n  P \\<Rightarrow> P'\n  bn \\<tau> \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        \\<lbrakk>Q \\<Rightarrow> Q'; P' \\<approx>\\<cdot> Q'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis weakly_bisimilar_weak_simulation_step weak_transition_tau_iff)"], ["proof (state)\nthis:\n  Q \\<Rightarrow> Q'\n  P' \\<approx>\\<cdot> Q'\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "from valid"], ["proof (chain)\npicking this:\n  P' \\<Turnstile> Conj (binsert (Pred \\<phi>) (bsingleton x))", "have *: \"P' \\<turnstile> \\<phi>\" and **: \"P' \\<Turnstile> x\""], ["proof (prove)\nusing this:\n  P' \\<Turnstile> Conj (binsert (Pred \\<phi>) (bsingleton x))\n\ngoal (1 subgoal):\n 1. P' \\<turnstile> \\<phi> &&& P' \\<Turnstile> x", "by (simp add: binsert.rep_eq)+"], ["proof (state)\nthis:\n  P' \\<turnstile> \\<phi>\n  P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "from bisim' and *"], ["proof (chain)\npicking this:\n  P' \\<approx>\\<cdot> Q'\n  P' \\<turnstile> \\<phi>", "obtain Q'' where trans'': \"Q' \\<Rightarrow> Q''\" and bisim'': \"P' \\<approx>\\<cdot> Q''\" and ***: \"Q'' \\<turnstile> \\<phi>\""], ["proof (prove)\nusing this:\n  P' \\<approx>\\<cdot> Q'\n  P' \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<And>Q''.\n        \\<lbrakk>Q' \\<Rightarrow> Q''; P' \\<approx>\\<cdot> Q'';\n         Q'' \\<turnstile> \\<phi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis is_weak_bisimulation_def weakly_bisimilar_is_weak_bisimulation)"], ["proof (state)\nthis:\n  Q' \\<Rightarrow> Q''\n  P' \\<approx>\\<cdot> Q''\n  Q'' \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "from bisim'' and **"], ["proof (chain)\npicking this:\n  P' \\<approx>\\<cdot> Q''\n  P' \\<Turnstile> x", "have \"Q'' \\<Turnstile> x\""], ["proof (prove)\nusing this:\n  P' \\<approx>\\<cdot> Q''\n  P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. Q'' \\<Turnstile> x", "using \\<open>\\<And>P Q. P \\<approx>\\<cdot> Q \\<Longrightarrow> P \\<Turnstile> x \\<longleftrightarrow> Q \\<Turnstile> x\\<close>"], ["proof (prove)\nusing this:\n  P' \\<approx>\\<cdot> Q''\n  P' \\<Turnstile> x\n  ?P \\<approx>\\<cdot> ?Q \\<Longrightarrow>\n  ?P \\<Turnstile> x = ?Q \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. Q'' \\<Turnstile> x", "by metis"], ["proof (state)\nthis:\n  Q'' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "with ***"], ["proof (chain)\npicking this:\n  Q'' \\<turnstile> \\<phi>\n  Q'' \\<Turnstile> x", "have \"Q'' \\<Turnstile> ?c\""], ["proof (prove)\nusing this:\n  Q'' \\<turnstile> \\<phi>\n  Q'' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. Q'' \\<Turnstile> Conj (binsert (Pred \\<phi>) (bsingleton x))", "by (simp add: binsert.rep_eq)"], ["proof (state)\nthis:\n  Q'' \\<Turnstile> Conj (binsert (Pred \\<phi>) (bsingleton x))\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "moreover"], ["proof (state)\nthis:\n  Q'' \\<Turnstile> Conj (binsert (Pred \\<phi>) (bsingleton x))\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "from trans' and trans''"], ["proof (chain)\npicking this:\n  Q \\<Rightarrow> Q'\n  Q' \\<Rightarrow> Q''", "have \"Q \\<Rightarrow>\\<langle>\\<tau>\\<rangle> Q''\""], ["proof (prove)\nusing this:\n  Q \\<Rightarrow> Q'\n  Q' \\<Rightarrow> Q''\n\ngoal (1 subgoal):\n 1. Q \\<Rightarrow>\\<langle>\\<tau>\\<rangle> Q''", "by (metis tau_transition_trans weak_transition_tau_iff)"], ["proof (state)\nthis:\n  Q \\<Rightarrow>\\<langle>\\<tau>\\<rangle> Q''\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "ultimately"], ["proof (chain)\npicking this:\n  Q'' \\<Turnstile> Conj (binsert (Pred \\<phi>) (bsingleton x))\n  Q \\<Rightarrow>\\<langle>\\<tau>\\<rangle> Q''", "show \"Q \\<Turnstile> \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>?c\""], ["proof (prove)\nusing this:\n  Q'' \\<Turnstile> Conj (binsert (Pred \\<phi>) (bsingleton x))\n  Q \\<Rightarrow>\\<langle>\\<tau>\\<rangle> Q''\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "unfolding valid_weak_action_modality"], ["proof (prove)\nusing this:\n  Q'' \\<Turnstile> Conj (binsert (Pred \\<phi>) (bsingleton x))\n  Q \\<Rightarrow>\\<langle>\\<tau>\\<rangle> Q''\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<tau> (Conj (binsert (Pred \\<phi>) (bsingleton x))) =\n       Act \\<alpha>' x' \\<and>\n       Q \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'", "by metis"], ["proof (state)\nthis:\n  Q \\<Turnstile>\n  \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n       (binsert (Pred \\<phi>) (bsingleton x))\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem weak_bisimilarity_implies_weak_equivalence: assumes \"P \\<approx>\\<cdot> Q\" shows \"P \\<equiv>\\<cdot> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<equiv>\\<cdot> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<equiv>\\<cdot> Q", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<equiv>\\<cdot> Q", "fix x :: \"('idx, 'pred, 'act) formula\""], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<equiv>\\<cdot> Q", "assume \"weak_formula x\""], ["proof (state)\nthis:\n  weak_formula x\n\ngoal (1 subgoal):\n 1. P \\<equiv>\\<cdot> Q", "then"], ["proof (chain)\npicking this:\n  weak_formula x", "have \"\\<And>P Q. P \\<approx>\\<cdot> Q \\<Longrightarrow> P \\<Turnstile> x \\<longleftrightarrow> Q \\<Turnstile> x\""], ["proof (prove)\nusing this:\n  weak_formula x\n\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       P \\<approx>\\<cdot> Q \\<Longrightarrow>\n       P \\<Turnstile> x = Q \\<Turnstile> x", "proof (induct rule: weak_formula.induct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>xset P Q.\n       \\<lbrakk>finite (supp xset);\n        \\<And>x. x \\<in> set_bset xset \\<Longrightarrow> weak_formula x;\n        \\<And>x P Q.\n           \\<lbrakk>x \\<in> set_bset xset; P \\<approx>\\<cdot> Q\\<rbrakk>\n           \\<Longrightarrow> P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile> Conj xset = Q \\<Turnstile> Conj xset\n 2. \\<And>x P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile> Formula.Not x =\n                         Q \\<Turnstile> Formula.Not x\n 3. \\<And>x \\<alpha> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n 4. \\<And>x \\<phi> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x)) =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x))", "case (wf_Conj xset)"], ["proof (state)\nthis:\n  finite (supp xset)\n  ?x7 \\<in> set_bset xset \\<Longrightarrow> weak_formula ?x7\n  \\<lbrakk>?x7 \\<in> set_bset xset; ?P7 \\<approx>\\<cdot> ?Q7\\<rbrakk>\n  \\<Longrightarrow> ?P7 \\<Turnstile> ?x7 = ?Q7 \\<Turnstile> ?x7\n  P \\<approx>\\<cdot> Q\n\ngoal (4 subgoals):\n 1. \\<And>xset P Q.\n       \\<lbrakk>finite (supp xset);\n        \\<And>x. x \\<in> set_bset xset \\<Longrightarrow> weak_formula x;\n        \\<And>x P Q.\n           \\<lbrakk>x \\<in> set_bset xset; P \\<approx>\\<cdot> Q\\<rbrakk>\n           \\<Longrightarrow> P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile> Conj xset = Q \\<Turnstile> Conj xset\n 2. \\<And>x P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile> Formula.Not x =\n                         Q \\<Turnstile> Formula.Not x\n 3. \\<And>x \\<alpha> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n 4. \\<And>x \\<phi> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x)) =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x))", "then"], ["proof (chain)\npicking this:\n  finite (supp xset)\n  ?x7 \\<in> set_bset xset \\<Longrightarrow> weak_formula ?x7\n  \\<lbrakk>?x7 \\<in> set_bset xset; ?P7 \\<approx>\\<cdot> ?Q7\\<rbrakk>\n  \\<Longrightarrow> ?P7 \\<Turnstile> ?x7 = ?Q7 \\<Turnstile> ?x7\n  P \\<approx>\\<cdot> Q", "show ?case"], ["proof (prove)\nusing this:\n  finite (supp xset)\n  ?x7 \\<in> set_bset xset \\<Longrightarrow> weak_formula ?x7\n  \\<lbrakk>?x7 \\<in> set_bset xset; ?P7 \\<approx>\\<cdot> ?Q7\\<rbrakk>\n  \\<Longrightarrow> ?P7 \\<Turnstile> ?x7 = ?Q7 \\<Turnstile> ?x7\n  P \\<approx>\\<cdot> Q\n\ngoal (1 subgoal):\n 1. P \\<Turnstile> Conj xset = Q \\<Turnstile> Conj xset", "by simp"], ["proof (state)\nthis:\n  P \\<Turnstile> Conj xset = Q \\<Turnstile> Conj xset\n\ngoal (3 subgoals):\n 1. \\<And>x P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile> Formula.Not x =\n                         Q \\<Turnstile> Formula.Not x\n 2. \\<And>x \\<alpha> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n 3. \\<And>x \\<phi> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x)) =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x))", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile> Formula.Not x =\n                         Q \\<Turnstile> Formula.Not x\n 2. \\<And>x \\<alpha> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n 3. \\<And>x \\<phi> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x)) =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x))", "case (wf_Not x)"], ["proof (state)\nthis:\n  weak_formula x\n  ?P7 \\<approx>\\<cdot> ?Q7 \\<Longrightarrow>\n  ?P7 \\<Turnstile> x = ?Q7 \\<Turnstile> x\n  P \\<approx>\\<cdot> Q\n\ngoal (3 subgoals):\n 1. \\<And>x P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile> Formula.Not x =\n                         Q \\<Turnstile> Formula.Not x\n 2. \\<And>x \\<alpha> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n 3. \\<And>x \\<phi> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x)) =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x))", "then"], ["proof (chain)\npicking this:\n  weak_formula x\n  ?P7 \\<approx>\\<cdot> ?Q7 \\<Longrightarrow>\n  ?P7 \\<Turnstile> x = ?Q7 \\<Turnstile> x\n  P \\<approx>\\<cdot> Q", "show ?case"], ["proof (prove)\nusing this:\n  weak_formula x\n  ?P7 \\<approx>\\<cdot> ?Q7 \\<Longrightarrow>\n  ?P7 \\<Turnstile> x = ?Q7 \\<Turnstile> x\n  P \\<approx>\\<cdot> Q\n\ngoal (1 subgoal):\n 1. P \\<Turnstile> Formula.Not x = Q \\<Turnstile> Formula.Not x", "by simp"], ["proof (state)\nthis:\n  P \\<Turnstile> Formula.Not x = Q \\<Turnstile> Formula.Not x\n\ngoal (2 subgoals):\n 1. \\<And>x \\<alpha> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n 2. \\<And>x \\<phi> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x)) =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x \\<alpha> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n 2. \\<And>x \\<phi> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x)) =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x))", "case (wf_Act x \\<alpha>)"], ["proof (state)\nthis:\n  weak_formula x\n  ?P7 \\<approx>\\<cdot> ?Q7 \\<Longrightarrow>\n  ?P7 \\<Turnstile> x = ?Q7 \\<Turnstile> x\n  P \\<approx>\\<cdot> Q\n\ngoal (2 subgoals):\n 1. \\<And>x \\<alpha> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n 2. \\<And>x \\<phi> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x)) =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x))", "then"], ["proof (chain)\npicking this:\n  weak_formula x\n  ?P7 \\<approx>\\<cdot> ?Q7 \\<Longrightarrow>\n  ?P7 \\<Turnstile> x = ?Q7 \\<Turnstile> x\n  P \\<approx>\\<cdot> Q", "show ?case"], ["proof (prove)\nusing this:\n  weak_formula x\n  ?P7 \\<approx>\\<cdot> ?Q7 \\<Longrightarrow>\n  ?P7 \\<Turnstile> x = ?Q7 \\<Turnstile> x\n  P \\<approx>\\<cdot> Q\n\ngoal (1 subgoal):\n 1. P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "by (metis weakly_bisimilar_symp weak_bisimilarity_implies_weak_equivalence_Act sympE)"], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n  Q \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal (1 subgoal):\n 1. \\<And>x \\<phi> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x)) =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x \\<phi> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x)) =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x))", "case (wf_Pred x \\<phi>)"], ["proof (state)\nthis:\n  weak_formula x\n  ?P7 \\<approx>\\<cdot> ?Q7 \\<Longrightarrow>\n  ?P7 \\<Turnstile> x = ?Q7 \\<Turnstile> x\n  P \\<approx>\\<cdot> Q\n\ngoal (1 subgoal):\n 1. \\<And>x \\<phi> P Q.\n       \\<lbrakk>weak_formula x;\n        \\<And>P Q.\n           P \\<approx>\\<cdot> Q \\<Longrightarrow>\n           P \\<Turnstile> x = Q \\<Turnstile> x;\n        P \\<approx>\\<cdot> Q\\<rbrakk>\n       \\<Longrightarrow> P \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x)) =\n                         Q \\<Turnstile>\n                         \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n                              (binsert (Pred \\<phi>) (bsingleton x))", "then"], ["proof (chain)\npicking this:\n  weak_formula x\n  ?P7 \\<approx>\\<cdot> ?Q7 \\<Longrightarrow>\n  ?P7 \\<Turnstile> x = ?Q7 \\<Turnstile> x\n  P \\<approx>\\<cdot> Q", "show ?case"], ["proof (prove)\nusing this:\n  weak_formula x\n  ?P7 \\<approx>\\<cdot> ?Q7 \\<Longrightarrow>\n  ?P7 \\<Turnstile> x = ?Q7 \\<Turnstile> x\n  P \\<approx>\\<cdot> Q\n\ngoal (1 subgoal):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x)) =\n    Q \\<Turnstile>\n    \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n         (binsert (Pred \\<phi>) (bsingleton x))", "by (metis weakly_bisimilar_symp weak_bisimilarity_implies_weak_equivalence_Pred sympE)"], ["proof (state)\nthis:\n  P \\<Turnstile>\n  \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n       (binsert (Pred \\<phi>) (bsingleton x)) =\n  Q \\<Turnstile>\n  \\<langle>\\<langle>\\<tau>\\<rangle>\\<rangle>Conj\n       (binsert (Pred \\<phi>) (bsingleton x))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?P7 \\<approx>\\<cdot> ?Q7 \\<Longrightarrow>\n  ?P7 \\<Turnstile> x = ?Q7 \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. P \\<equiv>\\<cdot> Q", "}"], ["proof (state)\nthis:\n  \\<lbrakk>weak_formula ?x10; ?P7 \\<approx>\\<cdot> ?Q7\\<rbrakk>\n  \\<Longrightarrow> ?P7 \\<Turnstile> ?x10 = ?Q7 \\<Turnstile> ?x10\n\ngoal (1 subgoal):\n 1. P \\<equiv>\\<cdot> Q", "with assms"], ["proof (chain)\npicking this:\n  P \\<approx>\\<cdot> Q\n  \\<lbrakk>weak_formula ?x10; ?P7 \\<approx>\\<cdot> ?Q7\\<rbrakk>\n  \\<Longrightarrow> ?P7 \\<Turnstile> ?x10 = ?Q7 \\<Turnstile> ?x10", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<approx>\\<cdot> Q\n  \\<lbrakk>weak_formula ?x10; ?P7 \\<approx>\\<cdot> ?Q7\\<rbrakk>\n  \\<Longrightarrow> ?P7 \\<Turnstile> ?x10 = ?Q7 \\<Turnstile> ?x10\n\ngoal (1 subgoal):\n 1. P \\<equiv>\\<cdot> Q", "unfolding weakly_logically_equivalent_def"], ["proof (prove)\nusing this:\n  P \\<approx>\\<cdot> Q\n  \\<lbrakk>weak_formula ?x10; ?P7 \\<approx>\\<cdot> ?Q7\\<rbrakk>\n  \\<Longrightarrow> ?P7 \\<Turnstile> ?x10 = ?Q7 \\<Turnstile> ?x10\n\ngoal (1 subgoal):\n 1. \\<forall>x.\n       weak_formula x \\<longrightarrow> P \\<Turnstile> x = Q \\<Turnstile> x", "by simp"], ["proof (state)\nthis:\n  P \\<equiv>\\<cdot> Q\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}