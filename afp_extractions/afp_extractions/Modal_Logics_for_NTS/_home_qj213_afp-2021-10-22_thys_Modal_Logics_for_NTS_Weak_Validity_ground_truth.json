{"file_name": "/home/qj213/afp-2021-10-22/thys/Modal_Logics_for_NTS/Weak_Validity.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Modal_Logics_for_NTS", "problem_names": ["lemma valid_weak_tau_modality_iff_tau_steps:\n    \"P \\<Turnstile> weak_tau_modality x \\<longleftrightarrow> (\\<exists>n. P \\<Turnstile> tau_steps x n)\"", "lemma tau_steps_iff_tau_transition:\n    \"(\\<exists>n. P \\<Turnstile> tau_steps x n) \\<longleftrightarrow> (\\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x)\"", "lemma valid_weak_tau_modality:\n    \"P \\<Turnstile> weak_tau_modality x \\<longleftrightarrow> (\\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x)\"", "lemma valid_weak_action_modality:\n    \"P \\<Turnstile> (\\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x) \\<longleftrightarrow> (\\<exists>\\<alpha>' x' P'. Act \\<alpha> x = Act \\<alpha>' x' \\<and> P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x')\"\n    (is \"?l \\<longleftrightarrow> ?r\")", "lemma valid_weak_action_modality_strong:\n    assumes \"finite (supp X)\"\n    shows \"P \\<Turnstile> (\\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x) \\<longleftrightarrow> (\\<exists>\\<alpha>' x' P'. Act \\<alpha> x = Act \\<alpha>' x' \\<and> P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X)\"", "lemma valid_weak_action_modality_fresh:\n    assumes \"bn \\<alpha> \\<sharp>* P\"\n    shows \"P \\<Turnstile> (\\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x) \\<longleftrightarrow> (\\<exists>P'. P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x)\""], "translations": [["", "lemma valid_weak_tau_modality_iff_tau_steps:\n    \"P \\<Turnstile> weak_tau_modality x \\<longleftrightarrow> (\\<exists>n. P \\<Turnstile> tau_steps x n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<Turnstile> weak_tau_modality x =\n    (\\<exists>n. P \\<Turnstile> tau_steps x n)", "unfolding weak_tau_modality_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<Turnstile> Disj (map_bset (tau_steps x) (Abs_bset UNIV)) =\n    (\\<exists>n. P \\<Turnstile> tau_steps x n)", "by (auto simp add: map_bset.rep_eq)"], ["", "lemma tau_steps_iff_tau_transition:\n    \"(\\<exists>n. P \\<Turnstile> tau_steps x n) \\<longleftrightarrow> (\\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>n. P \\<Turnstile> tau_steps x n) =\n    (\\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>n. P \\<Turnstile> tau_steps x n \\<Longrightarrow>\n    \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x \\<Longrightarrow>\n    \\<exists>n. P \\<Turnstile> tau_steps x n", "assume \"\\<exists>n. P \\<Turnstile> tau_steps x n\""], ["proof (state)\nthis:\n  \\<exists>n. P \\<Turnstile> tau_steps x n\n\ngoal (2 subgoals):\n 1. \\<exists>n. P \\<Turnstile> tau_steps x n \\<Longrightarrow>\n    \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x \\<Longrightarrow>\n    \\<exists>n. P \\<Turnstile> tau_steps x n", "then"], ["proof (chain)\npicking this:\n  \\<exists>n. P \\<Turnstile> tau_steps x n", "obtain n where \"P \\<Turnstile> tau_steps x n\""], ["proof (prove)\nusing this:\n  \\<exists>n. P \\<Turnstile> tau_steps x n\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        P \\<Turnstile> tau_steps x n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by meson"], ["proof (state)\nthis:\n  P \\<Turnstile> tau_steps x n\n\ngoal (2 subgoals):\n 1. \\<exists>n. P \\<Turnstile> tau_steps x n \\<Longrightarrow>\n    \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x \\<Longrightarrow>\n    \\<exists>n. P \\<Turnstile> tau_steps x n", "then"], ["proof (chain)\npicking this:\n  P \\<Turnstile> tau_steps x n", "show \"\\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\""], ["proof (prove)\nusing this:\n  P \\<Turnstile> tau_steps x n\n\ngoal (1 subgoal):\n 1. \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x", "proof (induct n arbitrary: P)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P.\n       P \\<Turnstile> tau_steps x 0 \\<Longrightarrow>\n       \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n 2. \\<And>n P.\n       \\<lbrakk>\\<And>P.\n                   P \\<Turnstile> tau_steps x n \\<Longrightarrow>\n                   \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x;\n        P \\<Turnstile> tau_steps x (Suc n)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x", "case 0"], ["proof (state)\nthis:\n  P \\<Turnstile> tau_steps x 0\n\ngoal (2 subgoals):\n 1. \\<And>P.\n       P \\<Turnstile> tau_steps x 0 \\<Longrightarrow>\n       \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n 2. \\<And>n P.\n       \\<lbrakk>\\<And>P.\n                   P \\<Turnstile> tau_steps x n \\<Longrightarrow>\n                   \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x;\n        P \\<Turnstile> tau_steps x (Suc n)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x", "then"], ["proof (chain)\npicking this:\n  P \\<Turnstile> tau_steps x 0", "show ?case"], ["proof (prove)\nusing this:\n  P \\<Turnstile> tau_steps x 0\n\ngoal (1 subgoal):\n 1. \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x", "by simp (metis tau_refl)"], ["proof (state)\nthis:\n  \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. \\<And>n P.\n       \\<lbrakk>\\<And>P.\n                   P \\<Turnstile> tau_steps x n \\<Longrightarrow>\n                   \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x;\n        P \\<Turnstile> tau_steps x (Suc n)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n P.\n       \\<lbrakk>\\<And>P.\n                   P \\<Turnstile> tau_steps x n \\<Longrightarrow>\n                   \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x;\n        P \\<Turnstile> tau_steps x (Suc n)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x", "case (Suc n)"], ["proof (state)\nthis:\n  ?P7 \\<Turnstile> tau_steps x n \\<Longrightarrow>\n  \\<exists>P'. ?P7 \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n  P \\<Turnstile> tau_steps x (Suc n)\n\ngoal (1 subgoal):\n 1. \\<And>n P.\n       \\<lbrakk>\\<And>P.\n                   P \\<Turnstile> tau_steps x n \\<Longrightarrow>\n                   \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x;\n        P \\<Turnstile> tau_steps x (Suc n)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x", "then"], ["proof (chain)\npicking this:\n  ?P7 \\<Turnstile> tau_steps x n \\<Longrightarrow>\n  \\<exists>P'. ?P7 \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n  P \\<Turnstile> tau_steps x (Suc n)", "obtain P' where \"P \\<rightarrow> \\<langle>\\<tau>, P'\\<rangle>\" and \"P' \\<Turnstile> tau_steps x n\""], ["proof (prove)\nusing this:\n  ?P7 \\<Turnstile> tau_steps x n \\<Longrightarrow>\n  \\<exists>P'. ?P7 \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n  P \\<Turnstile> tau_steps x (Suc n)\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>;\n         P' \\<Turnstile> tau_steps x n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: valid_Act_fresh[OF bn_tau_fresh])"], ["proof (state)\nthis:\n  P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>\n  P' \\<Turnstile> tau_steps x n\n\ngoal (1 subgoal):\n 1. \\<And>n P.\n       \\<lbrakk>\\<And>P.\n                   P \\<Turnstile> tau_steps x n \\<Longrightarrow>\n                   \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x;\n        P \\<Turnstile> tau_steps x (Suc n)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x", "with Suc.hyps"], ["proof (chain)\npicking this:\n  ?P7 \\<Turnstile> tau_steps x n \\<Longrightarrow>\n  \\<exists>P'. ?P7 \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n  P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>\n  P' \\<Turnstile> tau_steps x n", "show ?case"], ["proof (prove)\nusing this:\n  ?P7 \\<Turnstile> tau_steps x n \\<Longrightarrow>\n  \\<exists>P'. ?P7 \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n  P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>\n  P' \\<Turnstile> tau_steps x n\n\ngoal (1 subgoal):\n 1. \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x", "using tau_step"], ["proof (prove)\nusing this:\n  ?P7 \\<Turnstile> tau_steps x n \\<Longrightarrow>\n  \\<exists>P'. ?P7 \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n  P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>\n  P' \\<Turnstile> tau_steps x n\n  \\<lbrakk>?P \\<rightarrow> \\<langle>\\<tau>,?P'\\<rangle>;\n   ?P' \\<Rightarrow> ?P''\\<rbrakk>\n  \\<Longrightarrow> ?P \\<Rightarrow> ?P''\n\ngoal (1 subgoal):\n 1. \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x \\<Longrightarrow>\n    \\<exists>n. P \\<Turnstile> tau_steps x n", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x \\<Longrightarrow>\n    \\<exists>n. P \\<Turnstile> tau_steps x n", "assume \"\\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\""], ["proof (state)\nthis:\n  \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x \\<Longrightarrow>\n    \\<exists>n. P \\<Turnstile> tau_steps x n", "then"], ["proof (chain)\npicking this:\n  \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x", "obtain P' where \"P \\<Rightarrow> P'\" and \"P' \\<Turnstile> x\""], ["proof (prove)\nusing this:\n  \\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Rightarrow> P'; P' \\<Turnstile> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by meson"], ["proof (state)\nthis:\n  P \\<Rightarrow> P'\n  P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x \\<Longrightarrow>\n    \\<exists>n. P \\<Turnstile> tau_steps x n", "then"], ["proof (chain)\npicking this:\n  P \\<Rightarrow> P'\n  P' \\<Turnstile> x", "show \"\\<exists>n. P \\<Turnstile> tau_steps x n\""], ["proof (prove)\nusing this:\n  P \\<Rightarrow> P'\n  P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. \\<exists>n. P \\<Turnstile> tau_steps x n", "proof (induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P.\n       P \\<Turnstile> x \\<Longrightarrow>\n       \\<exists>n. P \\<Turnstile> tau_steps x n\n 2. \\<And>P P' P''.\n       \\<lbrakk>P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>;\n        P' \\<Rightarrow> P'';\n        P'' \\<Turnstile> x \\<Longrightarrow>\n        \\<exists>n. P' \\<Turnstile> tau_steps x n;\n        P'' \\<Turnstile> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. P \\<Turnstile> tau_steps x n", "case (tau_refl P)"], ["proof (state)\nthis:\n  P \\<Turnstile> x\n\ngoal (2 subgoals):\n 1. \\<And>P.\n       P \\<Turnstile> x \\<Longrightarrow>\n       \\<exists>n. P \\<Turnstile> tau_steps x n\n 2. \\<And>P P' P''.\n       \\<lbrakk>P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>;\n        P' \\<Rightarrow> P'';\n        P'' \\<Turnstile> x \\<Longrightarrow>\n        \\<exists>n. P' \\<Turnstile> tau_steps x n;\n        P'' \\<Turnstile> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. P \\<Turnstile> tau_steps x n", "then"], ["proof (chain)\npicking this:\n  P \\<Turnstile> x", "have \"P \\<Turnstile> tau_steps x 0\""], ["proof (prove)\nusing this:\n  P \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. P \\<Turnstile> tau_steps x 0", "by simp"], ["proof (state)\nthis:\n  P \\<Turnstile> tau_steps x 0\n\ngoal (2 subgoals):\n 1. \\<And>P.\n       P \\<Turnstile> x \\<Longrightarrow>\n       \\<exists>n. P \\<Turnstile> tau_steps x n\n 2. \\<And>P P' P''.\n       \\<lbrakk>P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>;\n        P' \\<Rightarrow> P'';\n        P'' \\<Turnstile> x \\<Longrightarrow>\n        \\<exists>n. P' \\<Turnstile> tau_steps x n;\n        P'' \\<Turnstile> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. P \\<Turnstile> tau_steps x n", "then"], ["proof (chain)\npicking this:\n  P \\<Turnstile> tau_steps x 0", "show ?case"], ["proof (prove)\nusing this:\n  P \\<Turnstile> tau_steps x 0\n\ngoal (1 subgoal):\n 1. \\<exists>n. P \\<Turnstile> tau_steps x n", "by meson"], ["proof (state)\nthis:\n  \\<exists>n. P \\<Turnstile> tau_steps x n\n\ngoal (1 subgoal):\n 1. \\<And>P P' P''.\n       \\<lbrakk>P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>;\n        P' \\<Rightarrow> P'';\n        P'' \\<Turnstile> x \\<Longrightarrow>\n        \\<exists>n. P' \\<Turnstile> tau_steps x n;\n        P'' \\<Turnstile> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. P \\<Turnstile> tau_steps x n", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P P' P''.\n       \\<lbrakk>P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>;\n        P' \\<Rightarrow> P'';\n        P'' \\<Turnstile> x \\<Longrightarrow>\n        \\<exists>n. P' \\<Turnstile> tau_steps x n;\n        P'' \\<Turnstile> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. P \\<Turnstile> tau_steps x n", "case (tau_step P P' P'')"], ["proof (state)\nthis:\n  P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>\n  P' \\<Rightarrow> P''\n  P'' \\<Turnstile> x \\<Longrightarrow>\n  \\<exists>n. P' \\<Turnstile> tau_steps x n\n  P'' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. \\<And>P P' P''.\n       \\<lbrakk>P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>;\n        P' \\<Rightarrow> P'';\n        P'' \\<Turnstile> x \\<Longrightarrow>\n        \\<exists>n. P' \\<Turnstile> tau_steps x n;\n        P'' \\<Turnstile> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. P \\<Turnstile> tau_steps x n", "then"], ["proof (chain)\npicking this:\n  P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>\n  P' \\<Rightarrow> P''\n  P'' \\<Turnstile> x \\<Longrightarrow>\n  \\<exists>n. P' \\<Turnstile> tau_steps x n\n  P'' \\<Turnstile> x", "obtain n where \"P' \\<Turnstile> tau_steps x n\""], ["proof (prove)\nusing this:\n  P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>\n  P' \\<Rightarrow> P''\n  P'' \\<Turnstile> x \\<Longrightarrow>\n  \\<exists>n. P' \\<Turnstile> tau_steps x n\n  P'' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        P' \\<Turnstile> tau_steps x n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by meson"], ["proof (state)\nthis:\n  P' \\<Turnstile> tau_steps x n\n\ngoal (1 subgoal):\n 1. \\<And>P P' P''.\n       \\<lbrakk>P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>;\n        P' \\<Rightarrow> P'';\n        P'' \\<Turnstile> x \\<Longrightarrow>\n        \\<exists>n. P' \\<Turnstile> tau_steps x n;\n        P'' \\<Turnstile> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. P \\<Turnstile> tau_steps x n", "with \\<open>P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>\\<close>"], ["proof (chain)\npicking this:\n  P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>\n  P' \\<Turnstile> tau_steps x n", "have \"P \\<Turnstile> tau_steps x (Suc n)\""], ["proof (prove)\nusing this:\n  P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>\n  P' \\<Turnstile> tau_steps x n\n\ngoal (1 subgoal):\n 1. P \\<Turnstile> tau_steps x (Suc n)", "by (auto simp add: valid_Act_fresh[OF bn_tau_fresh])"], ["proof (state)\nthis:\n  P \\<Turnstile> tau_steps x (Suc n)\n\ngoal (1 subgoal):\n 1. \\<And>P P' P''.\n       \\<lbrakk>P \\<rightarrow> \\<langle>\\<tau>,P'\\<rangle>;\n        P' \\<Rightarrow> P'';\n        P'' \\<Turnstile> x \\<Longrightarrow>\n        \\<exists>n. P' \\<Turnstile> tau_steps x n;\n        P'' \\<Turnstile> x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>n. P \\<Turnstile> tau_steps x n", "then"], ["proof (chain)\npicking this:\n  P \\<Turnstile> tau_steps x (Suc n)", "show ?case"], ["proof (prove)\nusing this:\n  P \\<Turnstile> tau_steps x (Suc n)\n\ngoal (1 subgoal):\n 1. \\<exists>n. P \\<Turnstile> tau_steps x n", "by meson"], ["proof (state)\nthis:\n  \\<exists>n. P \\<Turnstile> tau_steps x n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>n. P \\<Turnstile> tau_steps x n\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma valid_weak_tau_modality:\n    \"P \\<Turnstile> weak_tau_modality x \\<longleftrightarrow> (\\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<Turnstile> weak_tau_modality x =\n    (\\<exists>P'. P \\<Rightarrow> P' \\<and> P' \\<Turnstile> x)", "by (metis valid_weak_tau_modality_iff_tau_steps tau_steps_iff_tau_transition)"], ["", "lemma valid_weak_action_modality:\n    \"P \\<Turnstile> (\\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x) \\<longleftrightarrow> (\\<exists>\\<alpha>' x' P'. Act \\<alpha> x = Act \\<alpha>' x' \\<and> P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x')\"\n    (is \"?l \\<longleftrightarrow> ?r\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    (\\<exists>\\<alpha>' x' P'.\n        Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n        P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n        P' \\<Turnstile> x')", "proof (cases \"\\<alpha> = \\<tau>\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<alpha> = \\<tau> \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    (\\<exists>\\<alpha>' x' P'.\n        Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n        P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n        P' \\<Turnstile> x')\n 2. \\<alpha> \\<noteq> \\<tau> \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    (\\<exists>\\<alpha>' x' P'.\n        Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n        P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n        P' \\<Turnstile> x')", "case True"], ["proof (state)\nthis:\n  \\<alpha> = \\<tau>\n\ngoal (2 subgoals):\n 1. \\<alpha> = \\<tau> \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    (\\<exists>\\<alpha>' x' P'.\n        Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n        P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n        P' \\<Turnstile> x')\n 2. \\<alpha> \\<noteq> \\<tau> \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    (\\<exists>\\<alpha>' x' P'.\n        Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n        P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n        P' \\<Turnstile> x')", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    (\\<exists>\\<alpha>' x' P'.\n        Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n        P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n        P' \\<Turnstile> x')", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "assume \"?l\""], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with \\<open>\\<alpha> = \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<alpha> = \\<tau>\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "obtain P' where trans: \"P \\<Rightarrow> P'\" and valid: \"P' \\<Turnstile> x\""], ["proof (prove)\nusing this:\n  \\<alpha> = \\<tau>\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>P \\<Rightarrow> P'; P' \\<Turnstile> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis valid_weak_tau_modality weak_action_modality_tau)"], ["proof (state)\nthis:\n  P \\<Rightarrow> P'\n  P' \\<Turnstile> x\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from trans"], ["proof (chain)\npicking this:\n  P \\<Rightarrow> P'", "have \"P \\<Rightarrow>\\<langle>\\<tau>\\<rangle> P'\""], ["proof (prove)\nusing this:\n  P \\<Rightarrow> P'\n\ngoal (1 subgoal):\n 1. P \\<Rightarrow>\\<langle>\\<tau>\\<rangle> P'", "by simp"], ["proof (state)\nthis:\n  P \\<Rightarrow>\\<langle>\\<tau>\\<rangle> P'\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with \\<open>\\<alpha> = \\<tau>\\<close> and valid"], ["proof (chain)\npicking this:\n  \\<alpha> = \\<tau>\n  P' \\<Turnstile> x\n  P \\<Rightarrow>\\<langle>\\<tau>\\<rangle> P'", "show \"?r\""], ["proof (prove)\nusing this:\n  \\<alpha> = \\<tau>\n  P' \\<Turnstile> x\n  P \\<Rightarrow>\\<langle>\\<tau>\\<rangle> P'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'", "by blast"], ["proof (state)\nthis:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "assume \"?r\""], ["proof (state)\nthis:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x'", "obtain \\<alpha>' x' P' where eq: \"Act \\<alpha> x = Act \\<alpha>' x'\" and trans: \"P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\" and valid: \"P' \\<Turnstile> x'\""], ["proof (prove)\nusing this:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha>' x' P'.\n        \\<lbrakk>Act \\<alpha> x = Act \\<alpha>' x';\n         P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P';\n         P' \\<Turnstile> x'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Act \\<alpha> x = Act \\<alpha>' x'\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  P' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from eq"], ["proof (chain)\npicking this:\n  Act \\<alpha> x = Act \\<alpha>' x'", "have \"\\<alpha>' = \\<tau> \\<and> x' = x\""], ["proof (prove)\nusing this:\n  Act \\<alpha> x = Act \\<alpha>' x'\n\ngoal (1 subgoal):\n 1. \\<alpha>' = \\<tau> \\<and> x' = x", "using \\<open>\\<alpha> = \\<tau>\\<close>"], ["proof (prove)\nusing this:\n  Act \\<alpha> x = Act \\<alpha>' x'\n  \\<alpha> = \\<tau>\n\ngoal (1 subgoal):\n 1. \\<alpha>' = \\<tau> \\<and> x' = x", "by simp"], ["proof (state)\nthis:\n  \\<alpha>' = \\<tau> \\<and> x' = x\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with trans and valid"], ["proof (chain)\npicking this:\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  P' \\<Turnstile> x'\n  \\<alpha>' = \\<tau> \\<and> x' = x", "have \"P \\<Rightarrow> P'\" and \"P' \\<Turnstile> x\""], ["proof (prove)\nusing this:\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  P' \\<Turnstile> x'\n  \\<alpha>' = \\<tau> \\<and> x' = x\n\ngoal (1 subgoal):\n 1. P \\<Rightarrow> P' &&& P' \\<Turnstile> x", "by simp+"], ["proof (state)\nthis:\n  P \\<Rightarrow> P'\n  P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with \\<open>\\<alpha> = \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<alpha> = \\<tau>\n  P \\<Rightarrow> P'\n  P' \\<Turnstile> x", "show \"?l\""], ["proof (prove)\nusing this:\n  \\<alpha> = \\<tau>\n  P \\<Rightarrow> P'\n  P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "by (metis valid_weak_tau_modality weak_action_modality_tau)"], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n  (\\<exists>\\<alpha>' x' P'.\n      Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n      P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n      P' \\<Turnstile> x')\n\ngoal (1 subgoal):\n 1. \\<alpha> \\<noteq> \\<tau> \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    (\\<exists>\\<alpha>' x' P'.\n        Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n        P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n        P' \\<Turnstile> x')", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<alpha> \\<noteq> \\<tau> \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    (\\<exists>\\<alpha>' x' P'.\n        Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n        P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n        P' \\<Turnstile> x')", "case False"], ["proof (state)\nthis:\n  \\<alpha> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<alpha> \\<noteq> \\<tau> \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    (\\<exists>\\<alpha>' x' P'.\n        Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n        P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n        P' \\<Turnstile> x')", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    (\\<exists>\\<alpha>' x' P'.\n        Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n        P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n        P' \\<Turnstile> x')", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "assume \"?l\""], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with \\<open>\\<alpha> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<alpha> \\<noteq> \\<tau>\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "obtain Q where trans: \"P \\<Rightarrow> Q\" and valid: \"Q \\<Turnstile> Act \\<alpha> (weak_tau_modality x)\""], ["proof (prove)\nusing this:\n  \\<alpha> \\<noteq> \\<tau>\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>P \\<Rightarrow> Q;\n         Q \\<Turnstile> Act \\<alpha> (weak_tau_modality x)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis valid_weak_tau_modality weak_action_modality_not_tau)"], ["proof (state)\nthis:\n  P \\<Rightarrow> Q\n  Q \\<Turnstile> Act \\<alpha> (weak_tau_modality x)\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from valid"], ["proof (chain)\npicking this:\n  Q \\<Turnstile> Act \\<alpha> (weak_tau_modality x)", "obtain \\<alpha>' x' Q' where eq: \"Act \\<alpha> (weak_tau_modality x) = Act \\<alpha>' x'\" and trans': \"Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>\" and valid': \"Q' \\<Turnstile> x'\""], ["proof (prove)\nusing this:\n  Q \\<Turnstile> Act \\<alpha> (weak_tau_modality x)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha>' x' Q'.\n        \\<lbrakk>Act \\<alpha> (weak_tau_modality x) = Act \\<alpha>' x';\n         Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>;\n         Q' \\<Turnstile> x'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis valid_Act)"], ["proof (state)\nthis:\n  Act \\<alpha> (weak_tau_modality x) = Act \\<alpha>' x'\n  Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>\n  Q' \\<Turnstile> x'\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from eq"], ["proof (chain)\npicking this:\n  Act \\<alpha> (weak_tau_modality x) = Act \\<alpha>' x'", "obtain p where p_\\<alpha>: \"\\<alpha>' = p \\<bullet> \\<alpha>\" and p_x: \"x' = p \\<bullet> weak_tau_modality x\""], ["proof (prove)\nusing this:\n  Act \\<alpha> (weak_tau_modality x) = Act \\<alpha>' x'\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>\\<alpha>' = p \\<bullet> \\<alpha>;\n         x' = p \\<bullet> weak_tau_modality x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis Act_eq_iff_perm)"], ["proof (state)\nthis:\n  \\<alpha>' = p \\<bullet> \\<alpha>\n  x' = p \\<bullet> weak_tau_modality x\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with eq"], ["proof (chain)\npicking this:\n  Act \\<alpha> (weak_tau_modality x) = Act \\<alpha>' x'\n  \\<alpha>' = p \\<bullet> \\<alpha>\n  x' = p \\<bullet> weak_tau_modality x", "have \"Act \\<alpha> x = Act \\<alpha>' (p \\<bullet> x)\""], ["proof (prove)\nusing this:\n  Act \\<alpha> (weak_tau_modality x) = Act \\<alpha>' x'\n  \\<alpha>' = p \\<bullet> \\<alpha>\n  x' = p \\<bullet> weak_tau_modality x\n\ngoal (1 subgoal):\n 1. Act \\<alpha> x = Act \\<alpha>' (p \\<bullet> x)", "using Act_weak_tau_modality_eq_iff"], ["proof (prove)\nusing this:\n  Act \\<alpha> (weak_tau_modality x) = Act \\<alpha>' x'\n  \\<alpha>' = p \\<bullet> \\<alpha>\n  x' = p \\<bullet> weak_tau_modality x\n  (Act ?\\<alpha>1.0 (weak_tau_modality ?x1.0) =\n   Act ?\\<alpha>2.0 (weak_tau_modality ?x2.0)) =\n  (Act ?\\<alpha>1.0 ?x1.0 = Act ?\\<alpha>2.0 ?x2.0)\n\ngoal (1 subgoal):\n 1. Act \\<alpha> x = Act \\<alpha>' (p \\<bullet> x)", "by simp"], ["proof (state)\nthis:\n  Act \\<alpha> x = Act \\<alpha>' (p \\<bullet> x)\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "moreover"], ["proof (state)\nthis:\n  Act \\<alpha> x = Act \\<alpha>' (p \\<bullet> x)\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from valid' and p_x"], ["proof (chain)\npicking this:\n  Q' \\<Turnstile> x'\n  x' = p \\<bullet> weak_tau_modality x", "have \"Q' \\<Turnstile> weak_tau_modality (p \\<bullet> x)\""], ["proof (prove)\nusing this:\n  Q' \\<Turnstile> x'\n  x' = p \\<bullet> weak_tau_modality x\n\ngoal (1 subgoal):\n 1. Q' \\<Turnstile> weak_tau_modality (p \\<bullet> x)", "by simp"], ["proof (state)\nthis:\n  Q' \\<Turnstile> weak_tau_modality (p \\<bullet> x)\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "then"], ["proof (chain)\npicking this:\n  Q' \\<Turnstile> weak_tau_modality (p \\<bullet> x)", "obtain P' where trans'': \"Q' \\<Rightarrow> P'\" and valid'': \"P' \\<Turnstile> p \\<bullet> x\""], ["proof (prove)\nusing this:\n  Q' \\<Turnstile> weak_tau_modality (p \\<bullet> x)\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>Q' \\<Rightarrow> P'; P' \\<Turnstile> p \\<bullet> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis valid_weak_tau_modality)"], ["proof (state)\nthis:\n  Q' \\<Rightarrow> P'\n  P' \\<Turnstile> p \\<bullet> x\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from trans and trans' and trans''"], ["proof (chain)\npicking this:\n  P \\<Rightarrow> Q\n  Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>\n  Q' \\<Rightarrow> P'", "have \"P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\""], ["proof (prove)\nusing this:\n  P \\<Rightarrow> Q\n  Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>\n  Q' \\<Rightarrow> P'\n\ngoal (1 subgoal):\n 1. P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'", "by (metis observable_transitionI weak_transition_stepI)"], ["proof (state)\nthis:\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "ultimately"], ["proof (chain)\npicking this:\n  Act \\<alpha> x = Act \\<alpha>' (p \\<bullet> x)\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'", "show \"?r\""], ["proof (prove)\nusing this:\n  Act \\<alpha> x = Act \\<alpha>' (p \\<bullet> x)\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'", "using valid''"], ["proof (prove)\nusing this:\n  Act \\<alpha> x = Act \\<alpha>' (p \\<bullet> x)\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  P' \\<Turnstile> p \\<bullet> x\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x'", "by blast"], ["proof (state)\nthis:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "assume \"?r\""], ["proof (state)\nthis:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x'", "obtain \\<alpha>' x' P' where eq: \"Act \\<alpha> x = Act \\<alpha>' x'\" and trans: \"P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\" and valid: \"P' \\<Turnstile> x'\""], ["proof (prove)\nusing this:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha>' x' P'.\n        \\<lbrakk>Act \\<alpha> x = Act \\<alpha>' x';\n         P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P';\n         P' \\<Turnstile> x'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Act \\<alpha> x = Act \\<alpha>' x'\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  P' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with \\<open>\\<alpha> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<alpha> \\<noteq> \\<tau>\n  Act \\<alpha> x = Act \\<alpha>' x'\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  P' \\<Turnstile> x'", "have \\<alpha>': \"\\<alpha>' \\<noteq> \\<tau>\""], ["proof (prove)\nusing this:\n  \\<alpha> \\<noteq> \\<tau>\n  Act \\<alpha> x = Act \\<alpha>' x'\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  P' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau>", "using eq"], ["proof (prove)\nusing this:\n  \\<alpha> \\<noteq> \\<tau>\n  Act \\<alpha> x = Act \\<alpha>' x'\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  P' \\<Turnstile> x'\n  Act \\<alpha> x = Act \\<alpha>' x'\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau>", "by (metis Act_tau_eq_iff)"], ["proof (state)\nthis:\n  \\<alpha>' \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with trans"], ["proof (chain)\npicking this:\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  \\<alpha>' \\<noteq> \\<tau>", "obtain Q Q' where trans': \"P \\<Rightarrow> Q\" and trans'': \"Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>\" and trans''': \"Q' \\<Rightarrow> P'\""], ["proof (prove)\nusing this:\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  \\<alpha>' \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. (\\<And>Q Q'.\n        \\<lbrakk>P \\<Rightarrow> Q;\n         Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>;\n         Q' \\<Rightarrow> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson observable_transition_def weak_transition_def)"], ["proof (state)\nthis:\n  P \\<Rightarrow> Q\n  Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>\n  Q' \\<Rightarrow> P'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from trans''' and valid"], ["proof (chain)\npicking this:\n  Q' \\<Rightarrow> P'\n  P' \\<Turnstile> x'", "have \"Q' \\<Turnstile> weak_tau_modality x'\""], ["proof (prove)\nusing this:\n  Q' \\<Rightarrow> P'\n  P' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. Q' \\<Turnstile> weak_tau_modality x'", "by (metis valid_weak_tau_modality)"], ["proof (state)\nthis:\n  Q' \\<Turnstile> weak_tau_modality x'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with trans''"], ["proof (chain)\npicking this:\n  Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>\n  Q' \\<Turnstile> weak_tau_modality x'", "have \"Q \\<Turnstile> Act \\<alpha>' (weak_tau_modality x')\""], ["proof (prove)\nusing this:\n  Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>\n  Q' \\<Turnstile> weak_tau_modality x'\n\ngoal (1 subgoal):\n 1. Q \\<Turnstile> Act \\<alpha>' (weak_tau_modality x')", "by (metis valid_Act)"], ["proof (state)\nthis:\n  Q \\<Turnstile> Act \\<alpha>' (weak_tau_modality x')\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "with trans' and \\<alpha>'"], ["proof (chain)\npicking this:\n  P \\<Rightarrow> Q\n  \\<alpha>' \\<noteq> \\<tau>\n  Q \\<Turnstile> Act \\<alpha>' (weak_tau_modality x')", "have \"P \\<Turnstile> \\<langle>\\<langle>\\<alpha>'\\<rangle>\\<rangle>x'\""], ["proof (prove)\nusing this:\n  P \\<Rightarrow> Q\n  \\<alpha>' \\<noteq> \\<tau>\n  Q \\<Turnstile> Act \\<alpha>' (weak_tau_modality x')\n\ngoal (1 subgoal):\n 1. P \\<Turnstile> \\<langle>\\<langle>\\<alpha>'\\<rangle>\\<rangle>x'", "by (metis valid_weak_tau_modality weak_action_modality_not_tau)"], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>'\\<rangle>\\<rangle>x'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "moreover"], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>'\\<rangle>\\<rangle>x'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from eq"], ["proof (chain)\npicking this:\n  Act \\<alpha> x = Act \\<alpha>' x'", "have \"(\\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x) = (\\<langle>\\<langle>\\<alpha>'\\<rangle>\\<rangle>x')\""], ["proof (prove)\nusing this:\n  Act \\<alpha> x = Act \\<alpha>' x'\n\ngoal (1 subgoal):\n 1. \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    \\<langle>\\<langle>\\<alpha>'\\<rangle>\\<rangle>x'", "by (metis weak_action_modality_eq)"], ["proof (state)\nthis:\n  \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n  \\<langle>\\<langle>\\<alpha>'\\<rangle>\\<rangle>x'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "ultimately"], ["proof (chain)\npicking this:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>'\\<rangle>\\<rangle>x'\n  \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n  \\<langle>\\<langle>\\<alpha>'\\<rangle>\\<rangle>x'", "show \"?l\""], ["proof (prove)\nusing this:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>'\\<rangle>\\<rangle>x'\n  \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n  \\<langle>\\<langle>\\<alpha>'\\<rangle>\\<rangle>x'\n\ngoal (1 subgoal):\n 1. P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "by simp"], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n  (\\<exists>\\<alpha>' x' P'.\n      Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n      P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n      P' \\<Turnstile> x')\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The binding names in the alpha-variant that witnesses validity may be chosen fresh for any\n  finitely supported context.\\<close>"], ["", "lemma valid_weak_action_modality_strong:\n    assumes \"finite (supp X)\"\n    shows \"P \\<Turnstile> (\\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x) \\<longleftrightarrow> (\\<exists>\\<alpha>' x' P'. Act \\<alpha> x = Act \\<alpha>' x' \\<and> P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    (\\<exists>\\<alpha>' x' P'.\n        Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n        P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n        P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "assume \"P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\""], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "then"], ["proof (chain)\npicking this:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "obtain \\<alpha>' x' P' where eq: \"Act \\<alpha> x = Act \\<alpha>' x'\" and trans: \"P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\" and valid: \"P' \\<Turnstile> x'\""], ["proof (prove)\nusing this:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha>' x' P'.\n        \\<lbrakk>Act \\<alpha> x = Act \\<alpha>' x';\n         P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P';\n         P' \\<Turnstile> x'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis valid_weak_action_modality)"], ["proof (state)\nthis:\n  Act \\<alpha> x = Act \\<alpha>' x'\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  P' \\<Turnstile> x'\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X\n 2. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "show \"\\<exists>\\<alpha>' x' P'. Act \\<alpha> x = Act \\<alpha>' x' \\<and> P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "proof (cases \"\\<alpha>' = \\<tau>\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<alpha>' = \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X\n 2. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "case True"], ["proof (state)\nthis:\n  \\<alpha>' = \\<tau>\n\ngoal (2 subgoals):\n 1. \\<alpha>' = \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X\n 2. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "then"], ["proof (chain)\npicking this:\n  \\<alpha>' = \\<tau>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<alpha>' = \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "using eq and trans and valid and bn_tau_fresh"], ["proof (prove)\nusing this:\n  \\<alpha>' = \\<tau>\n  Act \\<alpha> x = Act \\<alpha>' x'\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  P' \\<Turnstile> x'\n  bn \\<tau> \\<sharp>* ?P\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "by blast"], ["proof (state)\nthis:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n     P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "case False"], ["proof (state)\nthis:\n  \\<alpha>' \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "with trans"], ["proof (chain)\npicking this:\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  \\<alpha>' \\<noteq> \\<tau>", "obtain Q Q' where trans': \"P \\<Rightarrow> Q\" and trans'': \"Q \\<rightarrow> \\<langle>\\<alpha>', Q'\\<rangle>\" and trans''': \"Q' \\<Rightarrow> P'\""], ["proof (prove)\nusing this:\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  \\<alpha>' \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. (\\<And>Q Q'.\n        \\<lbrakk>P \\<Rightarrow> Q;\n         Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>;\n         Q' \\<Rightarrow> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis weak_transition_def observable_transition_def)"], ["proof (state)\nthis:\n  P \\<Rightarrow> Q\n  Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>\n  Q' \\<Rightarrow> P'\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "have \"finite (bn \\<alpha>')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (bn \\<alpha>')", "by (fact bn_finite)"], ["proof (state)\nthis:\n  finite (bn \\<alpha>')\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "moreover"], ["proof (state)\nthis:\n  finite (bn \\<alpha>')\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "note \\<open>finite (supp X)\\<close>"], ["proof (state)\nthis:\n  finite (supp X)\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "moreover"], ["proof (state)\nthis:\n  finite (supp X)\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "have \"finite (supp (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (supp (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>))", "by (metis finite_Diff finite_UnI finite_supp supp_Pair supp_abs_residual_pair)"], ["proof (state)\nthis:\n  finite (supp (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>))\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "moreover"], ["proof (state)\nthis:\n  finite (supp (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>))\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "have \"bn \\<alpha>' \\<sharp>* (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bn \\<alpha>' \\<sharp>* (Act \\<alpha>' x',\n                            \\<langle>\\<alpha>',Q'\\<rangle>)", "by (auto simp add: fresh_star_def fresh_def supp_Pair supp_abs_residual_pair)"], ["proof (state)\nthis:\n  bn \\<alpha>' \\<sharp>* (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>)\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "ultimately"], ["proof (chain)\npicking this:\n  finite (bn \\<alpha>')\n  finite (supp X)\n  finite (supp (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>))\n  bn \\<alpha>' \\<sharp>* (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>)", "obtain p where fresh_X: \"(p \\<bullet> bn \\<alpha>') \\<sharp>* X\" and \"supp (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>) \\<sharp>* p\""], ["proof (prove)\nusing this:\n  finite (bn \\<alpha>')\n  finite (supp X)\n  finite (supp (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>))\n  bn \\<alpha>' \\<sharp>* (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>)\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> bn \\<alpha>') \\<sharp>* X;\n         supp\n          (Act \\<alpha>' x',\n           \\<langle>\\<alpha>',Q'\\<rangle>) \\<sharp>* p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis at_set_avoiding2)"], ["proof (state)\nthis:\n  (p \\<bullet> bn \\<alpha>') \\<sharp>* X\n  supp (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>) \\<sharp>* p\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "then"], ["proof (chain)\npicking this:\n  (p \\<bullet> bn \\<alpha>') \\<sharp>* X\n  supp (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>) \\<sharp>* p", "have \"supp (Act \\<alpha>' x') \\<sharp>* p\" and \"supp \\<langle>\\<alpha>',Q'\\<rangle> \\<sharp>* p\""], ["proof (prove)\nusing this:\n  (p \\<bullet> bn \\<alpha>') \\<sharp>* X\n  supp (Act \\<alpha>' x', \\<langle>\\<alpha>',Q'\\<rangle>) \\<sharp>* p\n\ngoal (1 subgoal):\n 1. supp (Act \\<alpha>' x') \\<sharp>* p &&&\n    supp \\<langle>\\<alpha>',Q'\\<rangle> \\<sharp>* p", "by (metis fresh_star_Un supp_Pair)+"], ["proof (state)\nthis:\n  supp (Act \\<alpha>' x') \\<sharp>* p\n  supp \\<langle>\\<alpha>',Q'\\<rangle> \\<sharp>* p\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "then"], ["proof (chain)\npicking this:\n  supp (Act \\<alpha>' x') \\<sharp>* p\n  supp \\<langle>\\<alpha>',Q'\\<rangle> \\<sharp>* p", "have 1: \"Act (p \\<bullet> \\<alpha>') (p \\<bullet> x') = Act \\<alpha>' x'\" and 2: \"\\<langle>p \\<bullet> \\<alpha>', p \\<bullet> Q'\\<rangle> = \\<langle>\\<alpha>',Q'\\<rangle>\""], ["proof (prove)\nusing this:\n  supp (Act \\<alpha>' x') \\<sharp>* p\n  supp \\<langle>\\<alpha>',Q'\\<rangle> \\<sharp>* p\n\ngoal (1 subgoal):\n 1. Act (p \\<bullet> \\<alpha>') (p \\<bullet> x') = Act \\<alpha>' x' &&&\n    \\<langle>p \\<bullet> \\<alpha>',p \\<bullet> Q'\\<rangle> =\n    \\<langle>\\<alpha>',Q'\\<rangle>", "by (metis Act_eqvt supp_perm_eq, metis abs_residual_pair_eqvt supp_perm_eq)"], ["proof (state)\nthis:\n  Act (p \\<bullet> \\<alpha>') (p \\<bullet> x') = Act \\<alpha>' x'\n  \\<langle>p \\<bullet> \\<alpha>',p \\<bullet> Q'\\<rangle> =\n  \\<langle>\\<alpha>',Q'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "from trans' and trans'' and trans'''"], ["proof (chain)\npicking this:\n  P \\<Rightarrow> Q\n  Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>\n  Q' \\<Rightarrow> P'", "have \"P \\<Rightarrow>\\<langle>p \\<bullet> \\<alpha>'\\<rangle> (p \\<bullet> P')\""], ["proof (prove)\nusing this:\n  P \\<Rightarrow> Q\n  Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>\n  Q' \\<Rightarrow> P'\n\ngoal (1 subgoal):\n 1. P \\<Rightarrow>\\<langle>p \\<bullet> \\<alpha>'\\<rangle> p \\<bullet> P'", "using 2"], ["proof (prove)\nusing this:\n  P \\<Rightarrow> Q\n  Q \\<rightarrow> \\<langle>\\<alpha>',Q'\\<rangle>\n  Q' \\<Rightarrow> P'\n  \\<langle>p \\<bullet> \\<alpha>',p \\<bullet> Q'\\<rangle> =\n  \\<langle>\\<alpha>',Q'\\<rangle>\n\ngoal (1 subgoal):\n 1. P \\<Rightarrow>\\<langle>p \\<bullet> \\<alpha>'\\<rangle> p \\<bullet> P'", "by (metis observable_transitionI tau_transition_eqvt weak_transition_stepI)"], ["proof (state)\nthis:\n  P \\<Rightarrow>\\<langle>p \\<bullet> \\<alpha>'\\<rangle> p \\<bullet> P'\n\ngoal (1 subgoal):\n 1. \\<alpha>' \\<noteq> \\<tau> \\<Longrightarrow>\n    \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "then"], ["proof (chain)\npicking this:\n  P \\<Rightarrow>\\<langle>p \\<bullet> \\<alpha>'\\<rangle> p \\<bullet> P'", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<Rightarrow>\\<langle>p \\<bullet> \\<alpha>'\\<rangle> p \\<bullet> P'\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "using eq and 1 and valid and fresh_X"], ["proof (prove)\nusing this:\n  P \\<Rightarrow>\\<langle>p \\<bullet> \\<alpha>'\\<rangle> p \\<bullet> P'\n  Act \\<alpha> x = Act \\<alpha>' x'\n  Act (p \\<bullet> \\<alpha>') (p \\<bullet> x') = Act \\<alpha>' x'\n  P' \\<Turnstile> x'\n  (p \\<bullet> bn \\<alpha>') \\<sharp>* X\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "by (metis bn_eqvt valid_eqvt)"], ["proof (state)\nthis:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n     P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n     P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "assume \"\\<exists>\\<alpha>' x' P'. Act \\<alpha> x = Act \\<alpha>' x' \\<and> P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and> P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X\""], ["proof (state)\nthis:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n     P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha>' x' P'.\n       Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n       P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n       P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n     P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X", "show \"P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\""], ["proof (prove)\nusing this:\n  \\<exists>\\<alpha>' x' P'.\n     Act \\<alpha> x = Act \\<alpha>' x' \\<and>\n     P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P' \\<and>\n     P' \\<Turnstile> x' \\<and> bn \\<alpha>' \\<sharp>* X\n\ngoal (1 subgoal):\n 1. P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "by (metis valid_weak_action_modality)"], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma valid_weak_action_modality_fresh:\n    assumes \"bn \\<alpha> \\<sharp>* P\"\n    shows \"P \\<Turnstile> (\\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x) \\<longleftrightarrow> (\\<exists>P'. P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x =\n    (\\<exists>P'.\n        P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n        P' \\<Turnstile> x)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "assume \"P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\""], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "moreover"], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "have \"finite (supp P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (supp P)", "by (fact finite_supp)"], ["proof (state)\nthis:\n  finite (supp P)\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "ultimately"], ["proof (chain)\npicking this:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n  finite (supp P)", "obtain \\<alpha>' x' P' where\n      eq: \"Act \\<alpha> x = Act \\<alpha>' x'\" and trans: \"P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\" and valid: \"P' \\<Turnstile> x'\" and fresh: \"bn \\<alpha>' \\<sharp>* P\""], ["proof (prove)\nusing this:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n  finite (supp P)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha>' x' P'.\n        \\<lbrakk>Act \\<alpha> x = Act \\<alpha>' x';\n         P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'; P' \\<Turnstile> x';\n         bn \\<alpha>' \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis valid_weak_action_modality_strong)"], ["proof (state)\nthis:\n  Act \\<alpha> x = Act \\<alpha>' x'\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  P' \\<Turnstile> x'\n  bn \\<alpha>' \\<sharp>* P\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from eq"], ["proof (chain)\npicking this:\n  Act \\<alpha> x = Act \\<alpha>' x'", "obtain p where p_\\<alpha>: \"\\<alpha>' = p \\<bullet> \\<alpha>\" and p_x: \"x' = p \\<bullet> x\" and supp_p: \"supp p \\<subseteq> bn \\<alpha> \\<union> p \\<bullet> bn \\<alpha>\""], ["proof (prove)\nusing this:\n  Act \\<alpha> x = Act \\<alpha>' x'\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>\\<alpha>' = p \\<bullet> \\<alpha>; x' = p \\<bullet> x;\n         supp p\n         \\<subseteq> bn \\<alpha> \\<union> p \\<bullet> bn \\<alpha>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis Act_eq_iff_perm_renaming)"], ["proof (state)\nthis:\n  \\<alpha>' = p \\<bullet> \\<alpha>\n  x' = p \\<bullet> x\n  supp p \\<subseteq> bn \\<alpha> \\<union> p \\<bullet> bn \\<alpha>\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from assms and fresh"], ["proof (chain)\npicking this:\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha>' \\<sharp>* P", "have \"(bn \\<alpha> \\<union> p \\<bullet> bn \\<alpha>) \\<sharp>* P\""], ["proof (prove)\nusing this:\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha>' \\<sharp>* P\n\ngoal (1 subgoal):\n 1. (bn \\<alpha> \\<union> p \\<bullet> bn \\<alpha>) \\<sharp>* P", "using p_\\<alpha>"], ["proof (prove)\nusing this:\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha>' \\<sharp>* P\n  \\<alpha>' = p \\<bullet> \\<alpha>\n\ngoal (1 subgoal):\n 1. (bn \\<alpha> \\<union> p \\<bullet> bn \\<alpha>) \\<sharp>* P", "by (metis bn_eqvt fresh_star_Un)"], ["proof (state)\nthis:\n  (bn \\<alpha> \\<union> p \\<bullet> bn \\<alpha>) \\<sharp>* P\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "then"], ["proof (chain)\npicking this:\n  (bn \\<alpha> \\<union> p \\<bullet> bn \\<alpha>) \\<sharp>* P", "have \"supp p \\<sharp>* P\""], ["proof (prove)\nusing this:\n  (bn \\<alpha> \\<union> p \\<bullet> bn \\<alpha>) \\<sharp>* P\n\ngoal (1 subgoal):\n 1. supp p \\<sharp>* P", "using supp_p"], ["proof (prove)\nusing this:\n  (bn \\<alpha> \\<union> p \\<bullet> bn \\<alpha>) \\<sharp>* P\n  supp p \\<subseteq> bn \\<alpha> \\<union> p \\<bullet> bn \\<alpha>\n\ngoal (1 subgoal):\n 1. supp p \\<sharp>* P", "by (metis fresh_star_def subset_eq)"], ["proof (state)\nthis:\n  supp p \\<sharp>* P\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "then"], ["proof (chain)\npicking this:\n  supp p \\<sharp>* P", "have p_P: \"-p \\<bullet> P = P\""], ["proof (prove)\nusing this:\n  supp p \\<sharp>* P\n\ngoal (1 subgoal):\n 1. - p \\<bullet> P = P", "by (metis perm_supp_eq supp_minus_perm)"], ["proof (state)\nthis:\n  - p \\<bullet> P = P\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from trans"], ["proof (chain)\npicking this:\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'", "have \"P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> (-p \\<bullet> P')\""], ["proof (prove)\nusing this:\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n\ngoal (1 subgoal):\n 1. P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> - p \\<bullet> P'", "using p_P p_\\<alpha>"], ["proof (prove)\nusing this:\n  P \\<Rightarrow>\\<langle>\\<alpha>'\\<rangle> P'\n  - p \\<bullet> P = P\n  \\<alpha>' = p \\<bullet> \\<alpha>\n\ngoal (1 subgoal):\n 1. P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> - p \\<bullet> P'", "by (metis permute_minus_cancel(1) weak_transition_eqvt)"], ["proof (state)\nthis:\n  P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> - p \\<bullet> P'\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "moreover"], ["proof (state)\nthis:\n  P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> - p \\<bullet> P'\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "from valid"], ["proof (chain)\npicking this:\n  P' \\<Turnstile> x'", "have \"-p \\<bullet> P' \\<Turnstile> x\""], ["proof (prove)\nusing this:\n  P' \\<Turnstile> x'\n\ngoal (1 subgoal):\n 1. - p \\<bullet> P' \\<Turnstile> x", "using p_x"], ["proof (prove)\nusing this:\n  P' \\<Turnstile> x'\n  x' = p \\<bullet> x\n\ngoal (1 subgoal):\n 1. - p \\<bullet> P' \\<Turnstile> x", "by (metis permute_minus_cancel(1) valid_eqvt)"], ["proof (state)\nthis:\n  - p \\<bullet> P' \\<Turnstile> x\n\ngoal (2 subgoals):\n 1. P \\<Turnstile>\n    \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x \\<Longrightarrow>\n    \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n 2. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "ultimately"], ["proof (chain)\npicking this:\n  P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> - p \\<bullet> P'\n  - p \\<bullet> P' \\<Turnstile> x", "show \"\\<exists>P'. P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\""], ["proof (prove)\nusing this:\n  P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> - p \\<bullet> P'\n  - p \\<bullet> P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x", "by meson"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "assume \"\\<exists>P'. P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\""], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and>\n       P' \\<Turnstile> x \\<Longrightarrow>\n    P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "then"], ["proof (chain)\npicking this:\n  \\<exists>P'.\n     P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x", "show \"P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\""], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     P \\<Rightarrow>\\<langle>\\<alpha>\\<rangle> P' \\<and> P' \\<Turnstile> x\n\ngoal (1 subgoal):\n 1. P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x", "by (metis valid_weak_action_modality)"], ["proof (state)\nthis:\n  P \\<Turnstile> \\<langle>\\<langle>\\<alpha>\\<rangle>\\<rangle>x\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}