{"file_name": "/home/qj213/afp-2021-10-22/thys/Sort_Encodings/Sig.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Sort_Encodings", "problem_names": ["lemma infinite_fst_vimage:\n\"infinite ((fst :: 'a \\<times> nat \\<Rightarrow> 'a) -` {a})\" (is \"infinite (?f -` {a})\")", "lemma tpOfV_pred: \"\\<exists> f. tpOfV_pred f\"", "lemma tpOfV_pred_tpOfV: \"tpOfV_pred tpOfV\"", "lemma tpOfV: \"infinite (tpOfV -` {\\<sigma>})\"", "lemma tinfinite_var[simp,intro]: \"tinfinite (UNIV :: var set)\"", "lemma tinifnite_singl[simp]:\nassumes \"tinfinite V\"  shows \"tinfinite (V - {x})\"", "lemma tpart1_Un_tpart2[simp]:\nassumes \"tinfinite V\" shows \"tpart1 V \\<union> tpart2 V = V\"", "lemma tpart1_Int_tpart2[simp]:\nassumes \"tinfinite V\" shows \"tpart1 V \\<inter> tpart2 V = {}\"", "lemma tpart1_su:\nassumes \"tinfinite V\"  shows \"tpart1 V \\<subseteq> V\"", "lemma tpart1_in:\nassumes \"tinfinite V\" and \"x \\<in> tpart1 V\" shows \"x \\<in> V\"", "lemma tinfinite_tpart1[simp]:\nassumes \"tinfinite V\"\nshows \"tinfinite (tpart1 V)\"", "lemma tinfinite_tpart2[simp]:\nassumes \"tinfinite V\"\nshows \"tinfinite (tpart2 V)\"", "lemma tpart2_su:\nassumes \"tinfinite V\"  shows \"tpart2 V \\<subseteq> V\"", "lemma tpart2_in:\nassumes \"tinfinite V\" and \"x \\<in> tpart2 V\" shows \"x \\<in> V\"", "lemma tinfinite_ex: \"tinfinite V \\<Longrightarrow> \\<exists> x \\<in> V. tpOfV x = \\<sigma>\"", "lemma tpick: assumes \"tinfinite V\" shows \"tpick \\<sigma> V \\<in> V \\<inter> tpOfV -` {\\<sigma>}\"", "lemma tpick_in[simp]: \"tinfinite V \\<Longrightarrow> tpick \\<sigma> V \\<in> V\"\nand tpOfV_tpick[simp]: \"tinfinite V \\<Longrightarrow> tpOfV (tpick \\<sigma> V) = \\<sigma>\"", "lemma finite_tinfinite:\nassumes \"finite V\"\nshows \"tinfinite (UNIV - V)\"", "lemma distinct_getVars: \"distinct (getVars \\<sigma>l)\"", "lemma length_getVars[simp]: \"length (getVars \\<sigma>l) = length \\<sigma>l\"", "lemma map_tpOfV_getVars[simp]: \"map tpOfV (getVars \\<sigma>l) = \\<sigma>l\"", "lemma tpOfV_getVars_nth[simp]:\nassumes \"i < length \\<sigma>l\"  shows \"tpOfV (getVars \\<sigma>l ! i) = \\<sigma>l ! i\""], "translations": [["", "lemma infinite_fst_vimage:\n\"infinite ((fst :: 'a \\<times> nat \\<Rightarrow> 'a) -` {a})\" (is \"infinite (?f -` {a})\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. infinite (fst -` {a})", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. infinite (fst -` {a})", "have \"?f -` {a} = {(a,n::nat) | n . True}\" (is \"_ = ?A\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. fst -` {a} = {(a, n) |n. True}", "by auto"], ["proof (state)\nthis:\n  fst -` {a} = {(a, n) |n. True}\n\ngoal (1 subgoal):\n 1. infinite (fst -` {a})", "moreover"], ["proof (state)\nthis:\n  fst -` {a} = {(a, n) |n. True}\n\ngoal (1 subgoal):\n 1. infinite (fst -` {a})", "{"], ["proof (state)\nthis:\n  fst -` {a} = {(a, n) |n. True}\n\ngoal (1 subgoal):\n 1. infinite (fst -` {a})", "have 0: \"?A = range (Pair a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {(a, n) |n. True} = range (Pair a)", "by auto"], ["proof (state)\nthis:\n  {(a, n) |n. True} = range (Pair a)\n\ngoal (1 subgoal):\n 1. infinite (fst -` {a})", "have \"infinite ?A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infinite {(a, n) |n. True}", "unfolding 0"], ["proof (prove)\ngoal (1 subgoal):\n 1. infinite (range (Pair a))", "apply(rule range_inj_infinite)"], ["proof (prove)\ngoal (1 subgoal):\n 1. inj (Pair a)", "unfolding inj_on_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>UNIV.\n       \\<forall>y\\<in>UNIV. (a, x) = (a, y) \\<longrightarrow> x = y", "by auto"], ["proof (state)\nthis:\n  infinite {(a, n) |n. True}\n\ngoal (1 subgoal):\n 1. infinite (fst -` {a})", "}"], ["proof (state)\nthis:\n  infinite {(a, n) |n. True}\n\ngoal (1 subgoal):\n 1. infinite (fst -` {a})", "ultimately"], ["proof (chain)\npicking this:\n  fst -` {a} = {(a, n) |n. True}\n  infinite {(a, n) |n. True}", "show ?thesis"], ["proof (prove)\nusing this:\n  fst -` {a} = {(a, n) |n. True}\n  infinite {(a, n) |n. True}\n\ngoal (1 subgoal):\n 1. infinite (fst -` {a})", "by auto"], ["proof (state)\nthis:\n  infinite (fst -` {a})\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tpOfV_pred: \"\\<exists> f. tpOfV_pred f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "define Ut Uv where \"Ut = (UNIV :: 'tp set)\" and \"Uv = (UNIV :: var set)\""], ["proof (state)\nthis:\n  Ut = UNIV\n  Uv = UNIV\n\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "define Unt where \"Unt = (UNIV :: nat set)\""], ["proof (state)\nthis:\n  Unt = UNIV\n\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "define U2 where \"U2 = (UNIV :: ('tp \\<times> nat) set)\""], ["proof (state)\nthis:\n  U2 = UNIV\n\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "have U2: \"U2 \\<equiv> Ut \\<times> Unt\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U2 \\<equiv> Ut \\<times> Unt", "unfolding Ut_def Unt_def U2_def UNIV_Times_UNIV"], ["proof (prove)\ngoal (1 subgoal):\n 1. UNIV \\<equiv> UNIV", "."], ["proof (state)\nthis:\n  U2 \\<equiv> Ut \\<times> Unt\n\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "have \"|U2| =o |Unt \\<times> Ut|\""], ["proof (prove)\ngoal (1 subgoal):\n 1. |U2| =o |Unt \\<times> Ut|", "unfolding U2"], ["proof (prove)\ngoal (1 subgoal):\n 1. |Ut \\<times> Unt| =o |Unt \\<times> Ut|", "by (metis card_of_Times_commute)"], ["proof (state)\nthis:\n  |U2| =o |Unt \\<times> Ut|\n\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "also"], ["proof (state)\nthis:\n  |U2| =o |Unt \\<times> Ut|\n\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "have \"|Unt \\<times> Ut| =o |Unt|\""], ["proof (prove)\ngoal (1 subgoal):\n 1. |Unt \\<times> Ut| =o |Unt|", "apply(rule card_of_Times_infinite_simps(1))"], ["proof (prove)\ngoal (3 subgoals):\n 1. infinite Unt\n 2. Ut \\<noteq> {}\n 3. |Ut| \\<le>o |Unt|", "unfolding Ut_def Unt_def"], ["proof (prove)\ngoal (3 subgoals):\n 1. infinite UNIV\n 2. UNIV \\<noteq> {}\n 3. |UNIV| \\<le>o |UNIV|", "apply (metis nat_not_finite)"], ["proof (prove)\ngoal (2 subgoals):\n 1. UNIV \\<noteq> {}\n 2. |UNIV| \\<le>o |UNIV|", "apply (metis UNIV_not_empty)"], ["proof (prove)\ngoal (1 subgoal):\n 1. |UNIV| \\<le>o |UNIV|", "by (metis countable_card_of_nat countable_tp)"], ["proof (state)\nthis:\n  |Unt \\<times> Ut| =o |Unt|\n\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "also"], ["proof (state)\nthis:\n  |Unt \\<times> Ut| =o |Unt|\n\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "have \"|Unt| =o |Uv|\""], ["proof (prove)\ngoal (1 subgoal):\n 1. |Unt| =o |Uv|", "apply(rule ordIso_symmetric)"], ["proof (prove)\ngoal (1 subgoal):\n 1. |Uv| =o |Unt|", "unfolding Unt_def Uv_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. |UNIV| =o |UNIV|", "using card_of_var card_of_nat[THEN ordIso_symmetric]"], ["proof (prove)\nusing this:\n  |UNIV| =o natLeq\n  natLeq =o |UNIV|\n\ngoal (1 subgoal):\n 1. |UNIV| =o |UNIV|", "by(rule ordIso_transitive)"], ["proof (state)\nthis:\n  |Unt| =o |Uv|\n\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "finally"], ["proof (chain)\npicking this:\n  |U2| =o |Uv|", "have \"|U2| =o |Uv|\""], ["proof (prove)\nusing this:\n  |U2| =o |Uv|\n\ngoal (1 subgoal):\n 1. |U2| =o |Uv|", "."], ["proof (state)\nthis:\n  |U2| =o |Uv|\n\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "hence \"|Uv| =o |U2|\""], ["proof (prove)\nusing this:\n  |U2| =o |Uv|\n\ngoal (1 subgoal):\n 1. |Uv| =o |U2|", "by(rule ordIso_symmetric)"], ["proof (state)\nthis:\n  |Uv| =o |U2|\n\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "then"], ["proof (chain)\npicking this:\n  |Uv| =o |U2|", "obtain g where g: \"bij_betw g Uv U2\""], ["proof (prove)\nusing this:\n  |Uv| =o |U2|\n\ngoal (1 subgoal):\n 1. (\\<And>g. bij_betw g Uv U2 \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding card_of_ordIso[symmetric]"], ["proof (prove)\nusing this:\n  \\<exists>f. bij_betw f Uv U2\n\ngoal (1 subgoal):\n 1. (\\<And>g. bij_betw g Uv U2 \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  bij_betw g Uv U2\n\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. Ex tpOfV_pred", "apply(rule exI[of _ \"fst o g\"])"], ["proof (prove)\ngoal (1 subgoal):\n 1. tpOfV_pred (fst \\<circ> g)", "unfolding tpOfV_pred_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<sigma>. infinite ((fst \\<circ> g) -` {\\<sigma>})", "apply safe"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite ((fst \\<circ> g) -` {\\<sigma>}) \\<Longrightarrow> False", "unfolding vimage_comp [symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>. finite (g -` fst -` {\\<sigma>}) \\<Longrightarrow> False", "apply (drule finite_vimageD)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>\\<sigma>. surj g\n 2. \\<And>\\<sigma>. finite (fst -` {\\<sigma>}) \\<Longrightarrow> False", "using g"], ["proof (prove)\nusing this:\n  bij_betw g Uv U2\n\ngoal (2 subgoals):\n 1. \\<And>\\<sigma>. surj g\n 2. \\<And>\\<sigma>. finite (fst -` {\\<sigma>}) \\<Longrightarrow> False", "unfolding bij_betw_def Uv_def U2_def"], ["proof (prove)\nusing this:\n  inj g \\<and> surj g\n\ngoal (2 subgoals):\n 1. \\<And>\\<sigma>. surj g\n 2. \\<And>\\<sigma>. finite (fst -` {\\<sigma>}) \\<Longrightarrow> False", "by (auto simp: infinite_fst_vimage)"], ["proof (state)\nthis:\n  Ex tpOfV_pred\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tpOfV_pred_tpOfV: \"tpOfV_pred tpOfV\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tpOfV_pred tpOfV", "using tpOfV_pred"], ["proof (prove)\nusing this:\n  Ex tpOfV_pred\n\ngoal (1 subgoal):\n 1. tpOfV_pred tpOfV", "unfolding tpOfV_def"], ["proof (prove)\nusing this:\n  Ex tpOfV_pred\n\ngoal (1 subgoal):\n 1. tpOfV_pred (Eps tpOfV_pred)", "by (rule someI_ex)"], ["", "lemma tpOfV: \"infinite (tpOfV -` {\\<sigma>})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infinite (tpOfV -` {\\<sigma>})", "using tpOfV_pred_tpOfV"], ["proof (prove)\nusing this:\n  tpOfV_pred tpOfV\n\ngoal (1 subgoal):\n 1. infinite (tpOfV -` {\\<sigma>})", "unfolding tpOfV_pred_def"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>. infinite (tpOfV -` {\\<sigma>})\n\ngoal (1 subgoal):\n 1. infinite (tpOfV -` {\\<sigma>})", "by auto"], ["", "definition \"tpart1 V \\<equiv> \\<Union> \\<sigma>. part1 (V \\<inter> tpOfV -` {\\<sigma>})\""], ["", "definition \"tpart2 V \\<equiv> \\<Union> \\<sigma>. part2 (V \\<inter> tpOfV -` {\\<sigma>})\""], ["", "definition \"tinfinite V \\<equiv> \\<forall> \\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\""], ["", "lemma tinfinite_var[simp,intro]: \"tinfinite (UNIV :: var set)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tinfinite UNIV", "unfolding tinfinite_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<sigma>. infinite (UNIV \\<inter> tpOfV -` {\\<sigma>})", "using tpOfV"], ["proof (prove)\nusing this:\n  infinite (tpOfV -` {?\\<sigma>})\n\ngoal (1 subgoal):\n 1. \\<forall>\\<sigma>. infinite (UNIV \\<inter> tpOfV -` {\\<sigma>})", "by auto"], ["", "lemma tinifnite_singl[simp]:\nassumes \"tinfinite V\"  shows \"tinfinite (V - {x})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tinfinite (V - {x})", "unfolding tinfinite_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<sigma>. infinite ((V - {x}) \\<inter> tpOfV -` {\\<sigma>})", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite ((V - {x}) \\<inter> tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "fix \\<sigma>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite ((V - {x}) \\<inter> tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "assume 0: \"finite ((V - {x}) \\<inter> tpOfV -` {\\<sigma>})\""], ["proof (state)\nthis:\n  finite ((V - {x}) \\<inter> tpOfV -` {\\<sigma>})\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite ((V - {x}) \\<inter> tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "have \"finite ((V \\<inter> tpOfV -` {\\<sigma>}) - {x})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (V \\<inter> tpOfV -` {\\<sigma>} - {x})", "apply(rule finite_subset[OF _ 0])"], ["proof (prove)\ngoal (1 subgoal):\n 1. V \\<inter> tpOfV -` {\\<sigma>} - {x}\n    \\<subseteq> (V - {x}) \\<inter> tpOfV -` {\\<sigma>}", "by auto"], ["proof (state)\nthis:\n  finite (V \\<inter> tpOfV -` {\\<sigma>} - {x})\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite ((V - {x}) \\<inter> tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "thus False"], ["proof (prove)\nusing this:\n  finite (V \\<inter> tpOfV -` {\\<sigma>} - {x})\n\ngoal (1 subgoal):\n 1. False", "using assms"], ["proof (prove)\nusing this:\n  finite (V \\<inter> tpOfV -` {\\<sigma>} - {x})\n  tinfinite V\n\ngoal (1 subgoal):\n 1. False", "unfolding tinfinite_def"], ["proof (prove)\nusing this:\n  finite (V \\<inter> tpOfV -` {\\<sigma>} - {x})\n  \\<forall>\\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tpart1_Un_tpart2[simp]:\nassumes \"tinfinite V\" shows \"tpart1 V \\<union> tpart2 V = V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tpart1 V \\<union> tpart2 V = V", "using assms part1_Un_part2"], ["proof (prove)\nusing this:\n  tinfinite V\n  infinite ?V \\<Longrightarrow> part1 ?V \\<union> part2 ?V = ?V\n\ngoal (1 subgoal):\n 1. tpart1 V \\<union> tpart2 V = V", "unfolding tinfinite_def tpart1_def tpart2_def"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite ?V \\<Longrightarrow> part1 ?V \\<union> part2 ?V = ?V\n\ngoal (1 subgoal):\n 1. (\\<Union>\\<sigma>. part1 (V \\<inter> tpOfV -` {\\<sigma>})) \\<union>\n    (\\<Union>\\<sigma>. part2 (V \\<inter> tpOfV -` {\\<sigma>})) =\n    V", "unfolding UN_Un_distrib[symmetric]"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite ?V \\<Longrightarrow> part1 ?V \\<union> part2 ?V = ?V\n\ngoal (1 subgoal):\n 1. (\\<Union>i.\n        part1 (V \\<inter> tpOfV -` {i}) \\<union>\n        part2 (V \\<inter> tpOfV -` {i})) =\n    V", "by blast"], ["", "lemma tpart1_Int_tpart2[simp]:\nassumes \"tinfinite V\" shows \"tpart1 V \\<inter> tpart2 V = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tpart1 V \\<inter> tpart2 V = {}", "using assms part1_Int_part2"], ["proof (prove)\nusing this:\n  tinfinite V\n  infinite ?V \\<Longrightarrow> part1 ?V \\<inter> part2 ?V = {}\n\ngoal (1 subgoal):\n 1. tpart1 V \\<inter> tpart2 V = {}", "unfolding tinfinite_def tpart1_def tpart2_def"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite ?V \\<Longrightarrow> part1 ?V \\<inter> part2 ?V = {}\n\ngoal (1 subgoal):\n 1. (\\<Union>\\<sigma>. part1 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n    (\\<Union>\\<sigma>. part2 (V \\<inter> tpOfV -` {\\<sigma>})) =\n    {}", "unfolding Int_UN_distrib2"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite ?V \\<Longrightarrow> part1 ?V \\<inter> part2 ?V = {}\n\ngoal (1 subgoal):\n 1. (\\<Union>i j.\n        part1 (V \\<inter> tpOfV -` {i}) \\<inter>\n        part2 (V \\<inter> tpOfV -` {j})) =\n    {}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>\\<sigma>.\n                   infinite (V \\<inter> tpOfV -` {\\<sigma>});\n        \\<And>V. infinite V \\<Longrightarrow> part1 V \\<inter> part2 V = {};\n        x \\<in> part1 (V \\<inter> tpOfV -` {xa});\n        x \\<in> part2 (V \\<inter> tpOfV -` {xb})\\<rbrakk>\n       \\<Longrightarrow> False", "apply (case_tac \"xa = xb\", auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>\\<sigma>.\n                   infinite (V \\<inter> tpOfV -` {\\<sigma>});\n        \\<And>V. infinite V \\<Longrightarrow> part1 V \\<inter> part2 V = {};\n        x \\<in> part1 (V \\<inter> tpOfV -` {xa});\n        x \\<in> part2 (V \\<inter> tpOfV -` {xb}); xa \\<noteq> xb\\<rbrakk>\n       \\<Longrightarrow> False", "using part1_su part2_su"], ["proof (prove)\nusing this:\n  infinite ?V \\<Longrightarrow> part1 ?V \\<subseteq> ?V\n  infinite ?V \\<Longrightarrow> part2 ?V \\<subseteq> ?V\n\ngoal (1 subgoal):\n 1. \\<And>x xa xb.\n       \\<lbrakk>\\<forall>\\<sigma>.\n                   infinite (V \\<inter> tpOfV -` {\\<sigma>});\n        \\<And>V. infinite V \\<Longrightarrow> part1 V \\<inter> part2 V = {};\n        x \\<in> part1 (V \\<inter> tpOfV -` {xa});\n        x \\<in> part2 (V \\<inter> tpOfV -` {xb}); xa \\<noteq> xb\\<rbrakk>\n       \\<Longrightarrow> False", "by blast"], ["", "(* fixme: clean proof *)"], ["", "lemma tpart1_su:\nassumes \"tinfinite V\"  shows \"tpart1 V \\<subseteq> V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tpart1 V \\<subseteq> V", "using assms"], ["proof (prove)\nusing this:\n  tinfinite V\n\ngoal (1 subgoal):\n 1. tpart1 V \\<subseteq> V", "unfolding tinfinite_def tpart1_def"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\n\ngoal (1 subgoal):\n 1. (\\<Union>\\<sigma>. part1 (V \\<inter> tpOfV -` {\\<sigma>})) \\<subseteq> V", "using part1_su"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite ?V \\<Longrightarrow> part1 ?V \\<subseteq> ?V\n\ngoal (1 subgoal):\n 1. (\\<Union>\\<sigma>. part1 (V \\<inter> tpOfV -` {\\<sigma>})) \\<subseteq> V", "by (auto intro: UN_least)"], ["", "lemma tpart1_in:\nassumes \"tinfinite V\" and \"x \\<in> tpart1 V\" shows \"x \\<in> V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> V", "using assms tpart1_su"], ["proof (prove)\nusing this:\n  tinfinite V\n  x \\<in> tpart1 V\n  tinfinite ?V \\<Longrightarrow> tpart1 ?V \\<subseteq> ?V\n\ngoal (1 subgoal):\n 1. x \\<in> V", "by auto"], ["", "lemma tinfinite_tpart1[simp]:\nassumes \"tinfinite V\"\nshows \"tinfinite (tpart1 V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tinfinite (tpart1 V)", "unfolding tinfinite_def tpart1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<sigma>.\n       infinite\n        ((\\<Union>\\<sigma>. part1 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>})", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part1 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "fix \\<sigma>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part1 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "assume\n  \"finite ((\\<Union>\\<sigma>'. part1 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter> tpOfV -` {\\<sigma>})\" (is \"finite ?A\")"], ["proof (state)\nthis:\n  finite\n   ((\\<Union>\\<sigma>'. part1 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>})\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part1 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "moreover"], ["proof (state)\nthis:\n  finite\n   ((\\<Union>\\<sigma>'. part1 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>})\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part1 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "have \"?A = part1 (V \\<inter> tpOfV -` {\\<sigma>})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>\\<sigma>'. part1 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>} =\n    part1 (V \\<inter> tpOfV -` {\\<sigma>})", "using assms part1_su"], ["proof (prove)\nusing this:\n  tinfinite V\n  infinite ?V \\<Longrightarrow> part1 ?V \\<subseteq> ?V\n\ngoal (1 subgoal):\n 1. (\\<Union>\\<sigma>'. part1 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>} =\n    part1 (V \\<inter> tpOfV -` {\\<sigma>})", "unfolding tinfinite_def"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite ?V \\<Longrightarrow> part1 ?V \\<subseteq> ?V\n\ngoal (1 subgoal):\n 1. (\\<Union>\\<sigma>'. part1 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>} =\n    part1 (V \\<inter> tpOfV -` {\\<sigma>})", "by auto"], ["proof (state)\nthis:\n  (\\<Union>\\<sigma>'. part1 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n  tpOfV -` {\\<sigma>} =\n  part1 (V \\<inter> tpOfV -` {\\<sigma>})\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part1 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "moreover"], ["proof (state)\nthis:\n  (\\<Union>\\<sigma>'. part1 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n  tpOfV -` {\\<sigma>} =\n  part1 (V \\<inter> tpOfV -` {\\<sigma>})\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part1 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "have \"infinite ...\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infinite (part1 (V \\<inter> tpOfV -` {\\<sigma>}))", "using assms infinite_part1"], ["proof (prove)\nusing this:\n  tinfinite V\n  infinite ?V \\<Longrightarrow> infinite (part1 ?V)\n\ngoal (1 subgoal):\n 1. infinite (part1 (V \\<inter> tpOfV -` {\\<sigma>}))", "unfolding tinfinite_def"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite ?V \\<Longrightarrow> infinite (part1 ?V)\n\ngoal (1 subgoal):\n 1. infinite (part1 (V \\<inter> tpOfV -` {\\<sigma>}))", "by auto"], ["proof (state)\nthis:\n  infinite (part1 (V \\<inter> tpOfV -` {\\<sigma>}))\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part1 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "ultimately"], ["proof (chain)\npicking this:\n  finite\n   ((\\<Union>\\<sigma>'. part1 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>})\n  (\\<Union>\\<sigma>'. part1 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n  tpOfV -` {\\<sigma>} =\n  part1 (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite (part1 (V \\<inter> tpOfV -` {\\<sigma>}))", "show False"], ["proof (prove)\nusing this:\n  finite\n   ((\\<Union>\\<sigma>'. part1 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>})\n  (\\<Union>\\<sigma>'. part1 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n  tpOfV -` {\\<sigma>} =\n  part1 (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite (part1 (V \\<inter> tpOfV -` {\\<sigma>}))\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tinfinite_tpart2[simp]:\nassumes \"tinfinite V\"\nshows \"tinfinite (tpart2 V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tinfinite (tpart2 V)", "unfolding tinfinite_def tpart2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<sigma>.\n       infinite\n        ((\\<Union>\\<sigma>. part2 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>})", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part2 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "fix \\<sigma>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part2 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "assume\n  \"finite ((\\<Union>\\<sigma>'. part2 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter> tpOfV -` {\\<sigma>})\" (is \"finite ?A\")"], ["proof (state)\nthis:\n  finite\n   ((\\<Union>\\<sigma>'. part2 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>})\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part2 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "moreover"], ["proof (state)\nthis:\n  finite\n   ((\\<Union>\\<sigma>'. part2 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>})\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part2 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "have \"?A = part2 (V \\<inter> tpOfV -` {\\<sigma>})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>\\<sigma>'. part2 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>} =\n    part2 (V \\<inter> tpOfV -` {\\<sigma>})", "using assms part2_su"], ["proof (prove)\nusing this:\n  tinfinite V\n  infinite ?V \\<Longrightarrow> part2 ?V \\<subseteq> ?V\n\ngoal (1 subgoal):\n 1. (\\<Union>\\<sigma>'. part2 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>} =\n    part2 (V \\<inter> tpOfV -` {\\<sigma>})", "unfolding tinfinite_def"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite ?V \\<Longrightarrow> part2 ?V \\<subseteq> ?V\n\ngoal (1 subgoal):\n 1. (\\<Union>\\<sigma>'. part2 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>} =\n    part2 (V \\<inter> tpOfV -` {\\<sigma>})", "by auto"], ["proof (state)\nthis:\n  (\\<Union>\\<sigma>'. part2 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n  tpOfV -` {\\<sigma>} =\n  part2 (V \\<inter> tpOfV -` {\\<sigma>})\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part2 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "moreover"], ["proof (state)\nthis:\n  (\\<Union>\\<sigma>'. part2 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n  tpOfV -` {\\<sigma>} =\n  part2 (V \\<inter> tpOfV -` {\\<sigma>})\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part2 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "have \"infinite ...\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infinite (part2 (V \\<inter> tpOfV -` {\\<sigma>}))", "using assms infinite_part2"], ["proof (prove)\nusing this:\n  tinfinite V\n  infinite ?V \\<Longrightarrow> infinite (part2 ?V)\n\ngoal (1 subgoal):\n 1. infinite (part2 (V \\<inter> tpOfV -` {\\<sigma>}))", "unfolding tinfinite_def"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite ?V \\<Longrightarrow> infinite (part2 ?V)\n\ngoal (1 subgoal):\n 1. infinite (part2 (V \\<inter> tpOfV -` {\\<sigma>}))", "by auto"], ["proof (state)\nthis:\n  infinite (part2 (V \\<inter> tpOfV -` {\\<sigma>}))\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma>.\n       finite\n        ((\\<Union>\\<sigma>. part2 (V \\<inter> tpOfV -` {\\<sigma>})) \\<inter>\n         tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n       False", "ultimately"], ["proof (chain)\npicking this:\n  finite\n   ((\\<Union>\\<sigma>'. part2 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>})\n  (\\<Union>\\<sigma>'. part2 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n  tpOfV -` {\\<sigma>} =\n  part2 (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite (part2 (V \\<inter> tpOfV -` {\\<sigma>}))", "show False"], ["proof (prove)\nusing this:\n  finite\n   ((\\<Union>\\<sigma>'. part2 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n    tpOfV -` {\\<sigma>})\n  (\\<Union>\\<sigma>'. part2 (V \\<inter> tpOfV -` {\\<sigma>'})) \\<inter>\n  tpOfV -` {\\<sigma>} =\n  part2 (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite (part2 (V \\<inter> tpOfV -` {\\<sigma>}))\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tpart2_su:\nassumes \"tinfinite V\"  shows \"tpart2 V \\<subseteq> V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tpart2 V \\<subseteq> V", "using assms"], ["proof (prove)\nusing this:\n  tinfinite V\n\ngoal (1 subgoal):\n 1. tpart2 V \\<subseteq> V", "unfolding tinfinite_def tpart2_def"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\n\ngoal (1 subgoal):\n 1. (\\<Union>\\<sigma>. part2 (V \\<inter> tpOfV -` {\\<sigma>})) \\<subseteq> V", "using part2_su"], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>. infinite (V \\<inter> tpOfV -` {\\<sigma>})\n  infinite ?V \\<Longrightarrow> part2 ?V \\<subseteq> ?V\n\ngoal (1 subgoal):\n 1. (\\<Union>\\<sigma>. part2 (V \\<inter> tpOfV -` {\\<sigma>})) \\<subseteq> V", "by (auto intro: UN_least)"], ["", "lemma tpart2_in:\nassumes \"tinfinite V\" and \"x \\<in> tpart2 V\" shows \"x \\<in> V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> V", "using assms tpart2_su"], ["proof (prove)\nusing this:\n  tinfinite V\n  x \\<in> tpart2 V\n  tinfinite ?V \\<Longrightarrow> tpart2 ?V \\<subseteq> ?V\n\ngoal (1 subgoal):\n 1. x \\<in> V", "by auto"], ["", "text\\<open>Typed-pick: picking a variable of a given type\\<close>"], ["", "definition \"tpick \\<sigma> V \\<equiv> pick (V \\<inter> tpOfV -` {\\<sigma>})\""], ["", "lemma tinfinite_ex: \"tinfinite V \\<Longrightarrow> \\<exists> x \\<in> V. tpOfV x = \\<sigma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tinfinite V \\<Longrightarrow> \\<exists>x\\<in>V. tpOfV x = \\<sigma>", "unfolding tinfinite_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<sigma>.\n       infinite (V \\<inter> tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n    \\<exists>x\\<in>V. tpOfV x = \\<sigma>", "using infinite_imp_nonempty"], ["proof (prove)\nusing this:\n  infinite ?S \\<Longrightarrow> ?S \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<sigma>.\n       infinite (V \\<inter> tpOfV -` {\\<sigma>}) \\<Longrightarrow>\n    \\<exists>x\\<in>V. tpOfV x = \\<sigma>", "by auto"], ["", "lemma tpick: assumes \"tinfinite V\" shows \"tpick \\<sigma> V \\<in> V \\<inter> tpOfV -` {\\<sigma>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tpick \\<sigma> V \\<in> V \\<inter> tpOfV -` {\\<sigma>}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. tpick \\<sigma> V \\<in> V \\<inter> tpOfV -` {\\<sigma>}", "obtain x where \"x \\<in> V \\<and> tpOfV x = \\<sigma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        x \\<in> V \\<and> tpOfV x = \\<sigma> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using tinfinite_ex[OF assms]"], ["proof (prove)\nusing this:\n  \\<exists>x\\<in>V. tpOfV x = ?\\<sigma>\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        x \\<in> V \\<and> tpOfV x = \\<sigma> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<in> V \\<and> tpOfV x = \\<sigma>\n\ngoal (1 subgoal):\n 1. tpick \\<sigma> V \\<in> V \\<inter> tpOfV -` {\\<sigma>}", "hence \"x \\<in> V \\<inter> tpOfV -` {\\<sigma>}\""], ["proof (prove)\nusing this:\n  x \\<in> V \\<and> tpOfV x = \\<sigma>\n\ngoal (1 subgoal):\n 1. x \\<in> V \\<inter> tpOfV -` {\\<sigma>}", "by blast"], ["proof (state)\nthis:\n  x \\<in> V \\<inter> tpOfV -` {\\<sigma>}\n\ngoal (1 subgoal):\n 1. tpick \\<sigma> V \\<in> V \\<inter> tpOfV -` {\\<sigma>}", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<in> V \\<inter> tpOfV -` {\\<sigma>}\n\ngoal (1 subgoal):\n 1. tpick \\<sigma> V \\<in> V \\<inter> tpOfV -` {\\<sigma>}", "unfolding tpick_def"], ["proof (prove)\nusing this:\n  x \\<in> V \\<inter> tpOfV -` {\\<sigma>}\n\ngoal (1 subgoal):\n 1. pick (V \\<inter> tpOfV -` {\\<sigma>})\n    \\<in> V \\<inter> tpOfV -` {\\<sigma>}", "by (rule pick)"], ["proof (state)\nthis:\n  tpick \\<sigma> V \\<in> V \\<inter> tpOfV -` {\\<sigma>}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tpick_in[simp]: \"tinfinite V \\<Longrightarrow> tpick \\<sigma> V \\<in> V\"\nand tpOfV_tpick[simp]: \"tinfinite V \\<Longrightarrow> tpOfV (tpick \\<sigma> V) = \\<sigma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (tinfinite V \\<Longrightarrow> tpick \\<sigma> V \\<in> V) &&&\n    (tinfinite V \\<Longrightarrow> tpOfV (tpick \\<sigma> V) = \\<sigma>)", "using tpick"], ["proof (prove)\nusing this:\n  tinfinite ?V \\<Longrightarrow>\n  tpick ?\\<sigma> ?V \\<in> ?V \\<inter> tpOfV -` {?\\<sigma>}\n\ngoal (1 subgoal):\n 1. (tinfinite V \\<Longrightarrow> tpick \\<sigma> V \\<in> V) &&&\n    (tinfinite V \\<Longrightarrow> tpOfV (tpick \\<sigma> V) = \\<sigma>)", "by auto"], ["", "lemma finite_tinfinite:\nassumes \"finite V\"\nshows \"tinfinite (UNIV - V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tinfinite (UNIV - V)", "using assms infinite_var"], ["proof (prove)\nusing this:\n  finite V\n  infinite UNIV\n\ngoal (1 subgoal):\n 1. tinfinite (UNIV - V)", "unfolding tinfinite_def"], ["proof (prove)\nusing this:\n  finite V\n  infinite UNIV\n\ngoal (1 subgoal):\n 1. \\<forall>\\<sigma>. infinite ((UNIV - V) \\<inter> tpOfV -` {\\<sigma>})", "by (metis Diff_Int2 Diff_Int_distrib2 Int_UNIV_left finite_Diff2 tpOfV)"], ["", "(* get variable terms for the given types: *)"], ["", "fun getVars where\n\"getVars [] = []\"\n|\n\"getVars (\\<sigma> # \\<sigma>l) =\n (let xl = getVars \\<sigma>l in (tpick \\<sigma> (UNIV - set xl)) # xl)\""], ["", "lemma distinct_getVars: \"distinct (getVars \\<sigma>l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (getVars \\<sigma>l)", "using tpick_in[OF finite_tinfinite]"], ["proof (prove)\nusing this:\n  finite ?V1 \\<Longrightarrow> tpick ?\\<sigma> (UNIV - ?V1) \\<in> UNIV - ?V1\n\ngoal (1 subgoal):\n 1. distinct (getVars \\<sigma>l)", "by (induct \\<sigma>l, auto simp: Let_def)"], ["", "lemma length_getVars[simp]: \"length (getVars \\<sigma>l) = length \\<sigma>l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length (getVars \\<sigma>l) = length \\<sigma>l", "by(induct \\<sigma>l, auto simp: Let_def)"], ["", "lemma map_tpOfV_getVars[simp]: \"map tpOfV (getVars \\<sigma>l) = \\<sigma>l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. map tpOfV (getVars \\<sigma>l) = \\<sigma>l", "using tpOfV_tpick[OF finite_tinfinite]"], ["proof (prove)\nusing this:\n  finite ?V1 \\<Longrightarrow>\n  tpOfV (tpick ?\\<sigma> (UNIV - ?V1)) = ?\\<sigma>\n\ngoal (1 subgoal):\n 1. map tpOfV (getVars \\<sigma>l) = \\<sigma>l", "by (induct \\<sigma>l, auto simp: Let_def)"], ["", "lemma tpOfV_getVars_nth[simp]:\nassumes \"i < length \\<sigma>l\"  shows \"tpOfV (getVars \\<sigma>l ! i) = \\<sigma>l ! i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tpOfV (getVars \\<sigma>l ! i) = \\<sigma>l ! i", "using assms"], ["proof (prove)\nusing this:\n  i < length \\<sigma>l\n\ngoal (1 subgoal):\n 1. tpOfV (getVars \\<sigma>l ! i) = \\<sigma>l ! i", "using map_tpOfV_getVars"], ["proof (prove)\nusing this:\n  i < length \\<sigma>l\n  map tpOfV (getVars ?\\<sigma>l) = ?\\<sigma>l\n\ngoal (1 subgoal):\n 1. tpOfV (getVars \\<sigma>l ! i) = \\<sigma>l ! i", "by (metis length_getVars nth_map)"], ["", "end"], ["", "(* context Signature *)"], ["", "end"]]}