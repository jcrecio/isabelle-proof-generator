{"file_name": "/home/qj213/afp-2021-10-22/thys/Ergodic_Theory/Fekete.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Ergodic_Theory", "problem_names": ["lemma subadditiveI:\n  assumes \"\\<And>m n. u (m+n) \\<le> u m + u n\"\n  shows \"subadditive u\"", "lemma subadditiveD:\n  assumes \"subadditive u\"\n  shows \"u (m+n) \\<le> u m + u n\"", "lemma subadditive_un_le_nu1:\n  assumes \"subadditive u\"\n          \"n > 0\"\n  shows \"u n \\<le> n * u 1\"", "lemma eventually_subadditiveI:\n  assumes \"\\<And>m n. m > N0 \\<Longrightarrow> n > N0 \\<Longrightarrow> u (m+n) \\<le> u m + u n\"\n  shows \"eventually_subadditive u N0\"", "lemma subadditive_imp_eventually_subadditive:\n  assumes \"subadditive u\"\n  shows \"eventually_subadditive u 0\"", "lemma eventually_subadditive_ineq:\n  assumes \"eventually_subadditive u N0\" \"e>0\" \"n>N0\"\n  shows \"\\<exists>N>N0. \\<forall>m\\<ge>N. u m/m < u n/n + e\"", "lemma subadditive_converges_ereal':\n  assumes \"eventually_subadditive u N0\"\n  shows \"(\\<lambda>m. ereal(u m/m)) \\<longlonglongrightarrow> Inf {ereal(u n/n) | n. n>N0}\"", "lemma subadditive_converges_ereal:\n  assumes \"subadditive u\"\n  shows \"(\\<lambda>m. ereal(u m/m)) \\<longlonglongrightarrow> Inf {ereal(u n/n) | n. n>0}\"", "lemma subadditive_converges_bounded':\n  assumes \"eventually_subadditive u N0\"\n          \"bdd_below {u n/n | n. n>N0}\"\n  shows \"(\\<lambda>n. u n/n) \\<longlonglongrightarrow> Inf {u n/n | n. n>N0}\"", "lemma subadditive_converges_bounded:\n  assumes \"subadditive u\"\n          \"bdd_below {u n/n | n. n>0}\"\n  shows \"(\\<lambda>n. u n/n) \\<longlonglongrightarrow> Inf {u n/n | n. n>0}\"", "lemma subadditive_converges_bounded'':\n  assumes \"subadditive u\"\n          \"\\<And>n. n > 0 \\<Longrightarrow> u n \\<ge> n * (a::real)\"\n  shows \"\\<exists>l. (\\<lambda>n. u n / n) \\<longlonglongrightarrow> l \\<and> (\\<forall>n>0. u n \\<ge> n * l)\"", "lemma subadditive_converges_unbounded':\n  assumes \"eventually_subadditive u N0\"\n          \"\\<not> (bdd_below {u n/n | n. n>N0})\"\n  shows \"(\\<lambda>n. ereal(u n/n)) \\<longlonglongrightarrow> -\\<infinity>\"", "lemma subadditive_converges_unbounded:\n  assumes \"subadditive u\"\n          \"\\<not> (bdd_below {u n/n | n. n>0})\"\n  shows \"(\\<lambda>n. ereal(u n/n)) \\<longlonglongrightarrow> -\\<infinity>\"", "lemma subadditive_of_superadditive:\n  assumes \"superadditive u\"\n  shows \"subadditive (\\<lambda>n. -u n)\"", "lemma superadditive_un_ge_nu1:\n  assumes \"superadditive u\"\n          \"n > 0\"\n  shows \"u n \\<ge> n * u 1\"", "lemma superadditive_converges_bounded'':\n  assumes \"superadditive u\"\n          \"\\<And>n. n > 0 \\<Longrightarrow> u n \\<le> n * (a::real)\"\n  shows \"\\<exists>l. (\\<lambda>n. u n / n) \\<longlonglongrightarrow> l \\<and> (\\<forall>n>0. u n \\<le> n * l)\"", "lemma almost_additive_converges:\n  fixes u::\"nat \\<Rightarrow> real\"\n  assumes \"\\<And>m n. abs(u(m+n) - u m - u n) \\<le> C\"\n  shows \"convergent (\\<lambda>n. u n/n)\"\n        \"abs(u k - k * lim (\\<lambda>n. u n / n)) \\<le> C\"", "lemma submultiplicative_converges:\n  fixes u::\"nat\\<Rightarrow>real\"\n  assumes \"\\<And>n. u n \\<ge> 0\"\n          \"\\<And>m n. u (m+n) \\<le> u m * u n\"\n  shows \"(\\<lambda>n. root n (u n))\\<longlonglongrightarrow> Inf {root n (u n) | n. n>0}\"", "lemma spectral_radius_aux:\n  fixes x::\"'a::real_normed_algebra_1\"\n  defines \"V \\<equiv> {root n (norm(x^n))| n. n>0}\"\n  shows \"\\<And>t. t\\<in>V \\<Longrightarrow> t \\<ge> spectral_radius x\"\n        \"\\<And>t. t\\<in>V \\<Longrightarrow> t \\<ge> 0\"\n        \"bdd_below V\"\n        \"V \\<noteq> {}\"\n        \"Inf V \\<ge> 0\"", "lemma spectral_radius_nonneg [simp]:\n  \"spectral_radius x \\<ge> 0\"", "lemma spectral_radius_upper_bound [simp]:\n  \"(spectral_radius x)^n \\<le> norm(x^n)\"", "lemma spectral_radius_limit:\n  \"(\\<lambda>n. root n (norm(x^n))) \\<longlonglongrightarrow> spectral_radius x\""], "translations": [["", "lemma subadditiveI:\n  assumes \"\\<And>m n. u (m+n) \\<le> u m + u n\"\n  shows \"subadditive u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subadditive u", "unfolding subadditive_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m n. u (m + n) \\<le> u m + u n", "using assms"], ["proof (prove)\nusing this:\n  u (?m + ?n) \\<le> u ?m + u ?n\n\ngoal (1 subgoal):\n 1. \\<forall>m n. u (m + n) \\<le> u m + u n", "by auto"], ["", "lemma subadditiveD:\n  assumes \"subadditive u\"\n  shows \"u (m+n) \\<le> u m + u n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (m + n) \\<le> u m + u n", "using assms"], ["proof (prove)\nusing this:\n  subadditive u\n\ngoal (1 subgoal):\n 1. u (m + n) \\<le> u m + u n", "unfolding subadditive_def"], ["proof (prove)\nusing this:\n  \\<forall>m n. u (m + n) \\<le> u m + u n\n\ngoal (1 subgoal):\n 1. u (m + n) \\<le> u m + u n", "by auto"], ["", "lemma subadditive_un_le_nu1:\n  assumes \"subadditive u\"\n          \"n > 0\"\n  shows \"u n \\<le> n * u 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u n \\<le> real n * u 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. u n \\<le> real n * u 1", "have *: \"n = 0 \\<or> (u n \\<le> n * u 1)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. n = 0 \\<or> u n \\<le> real n * u 1", "proof (induction n)"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 = 0 \\<or> u 0 \\<le> real 0 * u 1\n 2. \\<And>n.\n       n = 0 \\<or> u n \\<le> real n * u 1 \\<Longrightarrow>\n       Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. 0 = 0 \\<or> u 0 \\<le> real 0 * u 1\n 2. \\<And>n.\n       n = 0 \\<or> u n \\<le> real n * u 1 \\<Longrightarrow>\n       Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 = 0 \\<or> u 0 \\<le> real 0 * u 1", "by auto"], ["proof (state)\nthis:\n  0 = 0 \\<or> u 0 \\<le> real 0 * u 1\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       n = 0 \\<or> u n \\<le> real n * u 1 \\<Longrightarrow>\n       Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       n = 0 \\<or> u n \\<le> real n * u 1 \\<Longrightarrow>\n       Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "case (Suc n)"], ["proof (state)\nthis:\n  n = 0 \\<or> u n \\<le> real n * u 1\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       n = 0 \\<or> u n \\<le> real n * u 1 \\<Longrightarrow>\n       Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "consider \"n = 0\" | \"n > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = 0 \\<Longrightarrow> thesis;\n     0 < n \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>n = 0 \\<Longrightarrow> ?thesis;\n   0 < n \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       n = 0 \\<or> u n \\<le> real n * u 1 \\<Longrightarrow>\n       Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>n = 0 \\<Longrightarrow> ?thesis;\n   0 < n \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>n = 0 \\<Longrightarrow> ?thesis;\n   0 < n \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "proof (cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. n = 0 \\<Longrightarrow>\n    Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1\n 2. 0 < n \\<Longrightarrow>\n    Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "case 1"], ["proof (state)\nthis:\n  n = 0\n\ngoal (2 subgoals):\n 1. n = 0 \\<Longrightarrow>\n    Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1\n 2. 0 < n \\<Longrightarrow>\n    Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "then"], ["proof (chain)\npicking this:\n  n = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  n = 0\n\ngoal (1 subgoal):\n 1. Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "by auto"], ["proof (state)\nthis:\n  Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1\n\ngoal (1 subgoal):\n 1. 0 < n \\<Longrightarrow>\n    Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < n \\<Longrightarrow>\n    Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "case 2"], ["proof (state)\nthis:\n  0 < n\n\ngoal (1 subgoal):\n 1. 0 < n \\<Longrightarrow>\n    Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "then"], ["proof (chain)\npicking this:\n  0 < n", "have \"u (Suc n) \\<le> u n + u 1\""], ["proof (prove)\nusing this:\n  0 < n\n\ngoal (1 subgoal):\n 1. u (Suc n) \\<le> u n + u 1", "using subadditiveD[OF assms(1), of n 1]"], ["proof (prove)\nusing this:\n  0 < n\n  u (n + 1) \\<le> u n + u 1\n\ngoal (1 subgoal):\n 1. u (Suc n) \\<le> u n + u 1", "by auto"], ["proof (state)\nthis:\n  u (Suc n) \\<le> u n + u 1\n\ngoal (1 subgoal):\n 1. 0 < n \\<Longrightarrow>\n    Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "then"], ["proof (chain)\npicking this:\n  u (Suc n) \\<le> u n + u 1", "show ?thesis"], ["proof (prove)\nusing this:\n  u (Suc n) \\<le> u n + u 1\n\ngoal (1 subgoal):\n 1. Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "using Suc.IH 2"], ["proof (prove)\nusing this:\n  u (Suc n) \\<le> u n + u 1\n  n = 0 \\<or> u n \\<le> real n * u 1\n  0 < n\n\ngoal (1 subgoal):\n 1. Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1", "by (auto simp add: algebra_simps)"], ["proof (state)\nthis:\n  Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Suc n = 0 \\<or> u (Suc n) \\<le> real (Suc n) * u 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?n = 0 \\<or> u ?n \\<le> real ?n * u 1\n\ngoal (1 subgoal):\n 1. u n \\<le> real n * u 1", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. u n \\<le> real n * u 1", "using *[of n] \\<open>n > 0\\<close>"], ["proof (prove)\nusing this:\n  n = 0 \\<or> u n \\<le> real n * u 1\n  0 < n\n\ngoal (1 subgoal):\n 1. u n \\<le> real n * u 1", "by auto"], ["proof (state)\nthis:\n  u n \\<le> real n * u 1\n\ngoal:\nNo subgoals!", "qed"], ["", "definition eventually_subadditive::\"(nat\\<Rightarrow>real) \\<Rightarrow> nat \\<Rightarrow> bool\"\n  where \"eventually_subadditive u N0 = (\\<forall>m>N0. \\<forall>n>N0. u (m+n) \\<le> u m + u n)\""], ["", "lemma eventually_subadditiveI:\n  assumes \"\\<And>m n. m > N0 \\<Longrightarrow> n > N0 \\<Longrightarrow> u (m+n) \\<le> u m + u n\"\n  shows \"eventually_subadditive u N0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually_subadditive u N0", "unfolding eventually_subadditive_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m>N0. \\<forall>n>N0. u (m + n) \\<le> u m + u n", "using assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>N0 < ?m; N0 < ?n\\<rbrakk>\n  \\<Longrightarrow> u (?m + ?n) \\<le> u ?m + u ?n\n\ngoal (1 subgoal):\n 1. \\<forall>m>N0. \\<forall>n>N0. u (m + n) \\<le> u m + u n", "by auto"], ["", "lemma subadditive_imp_eventually_subadditive:\n  assumes \"subadditive u\"\n  shows \"eventually_subadditive u 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually_subadditive u 0", "using assms"], ["proof (prove)\nusing this:\n  subadditive u\n\ngoal (1 subgoal):\n 1. eventually_subadditive u 0", "unfolding subadditive_def eventually_subadditive_def"], ["proof (prove)\nusing this:\n  \\<forall>m n. u (m + n) \\<le> u m + u n\n\ngoal (1 subgoal):\n 1. \\<forall>m>0. \\<forall>n>0. u (m + n) \\<le> u m + u n", "by auto"], ["", "text \\<open>The main inequality that will lead to convergence is given in the next lemma:\ngiven $n$, then eventually $u_m/m$ is bounded by $u_n/n$, up to an arbitrarily small error.\nThis is proved by doing the euclidean division of $m$ by $n$ and using the subadditivity.\n(the remainder in the euclidean division will give the error term.)\\<close>"], ["", "lemma eventually_subadditive_ineq:\n  assumes \"eventually_subadditive u N0\" \"e>0\" \"n>N0\"\n  shows \"\\<exists>N>N0. \\<forall>m\\<ge>N. u m/m < u n/n + e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "have ineq_rec: \"u(a*n+r) \\<le> a * u n + u r\" if \"n>N0\" \"r>N0\" for a n r"], ["proof (prove)\ngoal (1 subgoal):\n 1. u (a * n + r) \\<le> real a * u n + u r", "proof (induct a)"], ["proof (state)\ngoal (2 subgoals):\n 1. u (0 * n + r) \\<le> real 0 * u n + u r\n 2. \\<And>a.\n       u (a * n + r) \\<le> real a * u n + u r \\<Longrightarrow>\n       u (Suc a * n + r) \\<le> real (Suc a) * u n + u r", "case (Suc a)"], ["proof (state)\nthis:\n  u (a * n + r) \\<le> real a * u n + u r\n\ngoal (2 subgoals):\n 1. u (0 * n + r) \\<le> real 0 * u n + u r\n 2. \\<And>a.\n       u (a * n + r) \\<le> real a * u n + u r \\<Longrightarrow>\n       u (Suc a * n + r) \\<le> real (Suc a) * u n + u r", "have \"a*n+r>N0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N0 < a * n + r", "using \\<open>r>N0\\<close>"], ["proof (prove)\nusing this:\n  N0 < r\n\ngoal (1 subgoal):\n 1. N0 < a * n + r", "by simp"], ["proof (state)\nthis:\n  N0 < a * n + r\n\ngoal (2 subgoals):\n 1. u (0 * n + r) \\<le> real 0 * u n + u r\n 2. \\<And>a.\n       u (a * n + r) \\<le> real a * u n + u r \\<Longrightarrow>\n       u (Suc a * n + r) \\<le> real (Suc a) * u n + u r", "have \"u((Suc a)*n+r) = u(a*n+r+n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (Suc a * n + r) = u (a * n + r + n)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  u (Suc a * n + r) = u (a * n + r + n)\n\ngoal (2 subgoals):\n 1. u (0 * n + r) \\<le> real 0 * u n + u r\n 2. \\<And>a.\n       u (a * n + r) \\<le> real a * u n + u r \\<Longrightarrow>\n       u (Suc a * n + r) \\<le> real (Suc a) * u n + u r", "also"], ["proof (state)\nthis:\n  u (Suc a * n + r) = u (a * n + r + n)\n\ngoal (2 subgoals):\n 1. u (0 * n + r) \\<le> real 0 * u n + u r\n 2. \\<And>a.\n       u (a * n + r) \\<le> real a * u n + u r \\<Longrightarrow>\n       u (Suc a * n + r) \\<le> real (Suc a) * u n + u r", "have \"... \\<le> u(a*n+r)+u n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (a * n + r + n) \\<le> u (a * n + r) + u n", "using assms \\<open>n>N0\\<close> \\<open>a*n+r>N0\\<close> eventually_subadditive_def"], ["proof (prove)\nusing this:\n  eventually_subadditive u N0\n  0 < e\n  N0 < n\n  N0 < n\n  N0 < a * n + r\n  eventually_subadditive ?u ?N0.0 =\n  (\\<forall>m>?N0.0. \\<forall>n>?N0.0. ?u (m + n) \\<le> ?u m + ?u n)\n\ngoal (1 subgoal):\n 1. u (a * n + r + n) \\<le> u (a * n + r) + u n", "by blast"], ["proof (state)\nthis:\n  u (a * n + r + n) \\<le> u (a * n + r) + u n\n\ngoal (2 subgoals):\n 1. u (0 * n + r) \\<le> real 0 * u n + u r\n 2. \\<And>a.\n       u (a * n + r) \\<le> real a * u n + u r \\<Longrightarrow>\n       u (Suc a * n + r) \\<le> real (Suc a) * u n + u r", "also"], ["proof (state)\nthis:\n  u (a * n + r + n) \\<le> u (a * n + r) + u n\n\ngoal (2 subgoals):\n 1. u (0 * n + r) \\<le> real 0 * u n + u r\n 2. \\<And>a.\n       u (a * n + r) \\<le> real a * u n + u r \\<Longrightarrow>\n       u (Suc a * n + r) \\<le> real (Suc a) * u n + u r", "have \"... \\<le> a*u n + u r + u n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (a * n + r) + u n \\<le> real a * u n + u r + u n", "by (simp add: Suc.hyps)"], ["proof (state)\nthis:\n  u (a * n + r) + u n \\<le> real a * u n + u r + u n\n\ngoal (2 subgoals):\n 1. u (0 * n + r) \\<le> real 0 * u n + u r\n 2. \\<And>a.\n       u (a * n + r) \\<le> real a * u n + u r \\<Longrightarrow>\n       u (Suc a * n + r) \\<le> real (Suc a) * u n + u r", "also"], ["proof (state)\nthis:\n  u (a * n + r) + u n \\<le> real a * u n + u r + u n\n\ngoal (2 subgoals):\n 1. u (0 * n + r) \\<le> real 0 * u n + u r\n 2. \\<And>a.\n       u (a * n + r) \\<le> real a * u n + u r \\<Longrightarrow>\n       u (Suc a * n + r) \\<le> real (Suc a) * u n + u r", "have \"... = (Suc a) * u n + u r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real a * u n + u r + u n = real (Suc a) * u n + u r", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  real a * u n + u r + u n = real (Suc a) * u n + u r\n\ngoal (2 subgoals):\n 1. u (0 * n + r) \\<le> real 0 * u n + u r\n 2. \\<And>a.\n       u (a * n + r) \\<le> real a * u n + u r \\<Longrightarrow>\n       u (Suc a * n + r) \\<le> real (Suc a) * u n + u r", "finally"], ["proof (chain)\npicking this:\n  u (Suc a * n + r) \\<le> real (Suc a) * u n + u r", "show ?case"], ["proof (prove)\nusing this:\n  u (Suc a * n + r) \\<le> real (Suc a) * u n + u r\n\ngoal (1 subgoal):\n 1. u (Suc a * n + r) \\<le> real (Suc a) * u n + u r", "by simp"], ["proof (state)\nthis:\n  u (Suc a * n + r) \\<le> real (Suc a) * u n + u r\n\ngoal (1 subgoal):\n 1. u (0 * n + r) \\<le> real 0 * u n + u r", "qed (simp)"], ["proof (state)\nthis:\n  \\<lbrakk>N0 < ?n; N0 < ?r\\<rbrakk>\n  \\<Longrightarrow> u (?a * ?n + ?r) \\<le> real ?a * u ?n + u ?r\n\ngoal (1 subgoal):\n 1. \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "have \"n>0\" \"real n > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < n &&& 0 < real n", "using \\<open>n>N0\\<close>"], ["proof (prove)\nusing this:\n  N0 < n\n\ngoal (1 subgoal):\n 1. 0 < n &&& 0 < real n", "by auto"], ["proof (state)\nthis:\n  0 < n\n  0 < real n\n\ngoal (1 subgoal):\n 1. \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "define C where \"C = Max {abs(u i) |i. i\\<le>2*n}\""], ["proof (state)\nthis:\n  C = Max {\\<bar>u i\\<bar> |i. i \\<le> 2 * n}\n\ngoal (1 subgoal):\n 1. \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "have ineq_C: \"abs(u i) \\<le> C\" if \"i \\<le> 2 * n\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>u i\\<bar> \\<le> C", "unfolding C_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>u i\\<bar> \\<le> Max {\\<bar>u i\\<bar> |i. i \\<le> 2 * n}", "by (intro Max_ge, auto simp add: that)"], ["proof (state)\nthis:\n  ?i \\<le> 2 * n \\<Longrightarrow> \\<bar>u ?i\\<bar> \\<le> C\n\ngoal (1 subgoal):\n 1. \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "have ineq_all_m: \"u m/m \\<le> u n/n + 3*C/m\" if \"m\\<ge>n\" for m"], ["proof (prove)\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "have \"real m>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real m", "using \\<open>m\\<ge>n\\<close> \\<open>0 < real n\\<close>"], ["proof (prove)\nusing this:\n  n \\<le> m\n  0 < real n\n\ngoal (1 subgoal):\n 1. 0 < real m", "by linarith"], ["proof (state)\nthis:\n  0 < real m\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "obtain a0 r0 where \"r0<n\" \"m = a0*n+r0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>r0 a0.\n        \\<lbrakk>r0 < n; m = a0 * n + r0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>0 < n\\<close> mod_div_decomp mod_less_divisor"], ["proof (prove)\nusing this:\n  0 < n\n  (\\<And>q r.\n      \\<lbrakk>q = ?a div ?b; r = ?a mod ?b; ?a = q * ?b + r\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n  0 < ?n \\<Longrightarrow> ?m mod ?n < ?n\n\ngoal (1 subgoal):\n 1. (\\<And>r0 a0.\n        \\<lbrakk>r0 < n; m = a0 * n + r0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  r0 < n\n  m = a0 * n + r0\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "define a where \"a = a0-1\""], ["proof (state)\nthis:\n  a = a0 - 1\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "define r where \"r = r0+n\""], ["proof (state)\nthis:\n  r = r0 + n\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "have \"r<2*n\" \"r\\<ge>n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r < 2 * n &&& n \\<le> r", "unfolding r_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. r0 + n < 2 * n &&& n \\<le> r0 + n", "by (auto simp add: \\<open>r0<n\\<close>)"], ["proof (state)\nthis:\n  r < 2 * n\n  n \\<le> r\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "have \"a0>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < a0", "using \\<open>m = a0*n + r0\\<close> \\<open>n \\<le> m\\<close> \\<open>r0 < n\\<close> not_le"], ["proof (prove)\nusing this:\n  m = a0 * n + r0\n  n \\<le> m\n  r0 < n\n  (\\<not> ?x \\<le> ?y) = (?y < ?x)\n\ngoal (1 subgoal):\n 1. 0 < a0", "by fastforce"], ["proof (state)\nthis:\n  0 < a0\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "then"], ["proof (chain)\npicking this:\n  0 < a0", "have \"m = a * n + r\""], ["proof (prove)\nusing this:\n  0 < a0\n\ngoal (1 subgoal):\n 1. m = a * n + r", "using a_def r_def \\<open>m = a0*n+r0\\<close> mult_eq_if"], ["proof (prove)\nusing this:\n  0 < a0\n  a = a0 - 1\n  r = r0 + n\n  m = a0 * n + r0\n  ?m * ?n = (if ?m = 0 then 0 else ?n + (?m - 1) * ?n)\n\ngoal (1 subgoal):\n 1. m = a * n + r", "by auto"], ["proof (state)\nthis:\n  m = a * n + r\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "then"], ["proof (chain)\npicking this:\n  m = a * n + r", "have real_eq: \"-r = real n * a - m\""], ["proof (prove)\nusing this:\n  m = a * n + r\n\ngoal (1 subgoal):\n 1. real_of_int (- int r) = real n * real a - real m", "by simp"], ["proof (state)\nthis:\n  real_of_int (- int r) = real n * real a - real m\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "have \"r>N0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N0 < r", "using \\<open>r\\<ge>n\\<close> \\<open>n>N0\\<close>"], ["proof (prove)\nusing this:\n  n \\<le> r\n  N0 < n\n\ngoal (1 subgoal):\n 1. N0 < r", "by simp"], ["proof (state)\nthis:\n  N0 < r\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "then"], ["proof (chain)\npicking this:\n  N0 < r", "have \"u m \\<le> a * u n + u r\""], ["proof (prove)\nusing this:\n  N0 < r\n\ngoal (1 subgoal):\n 1. u m \\<le> real a * u n + u r", "using ineq_rec \\<open>m = a*n+r\\<close> \\<open>n>N0\\<close>"], ["proof (prove)\nusing this:\n  N0 < r\n  \\<lbrakk>N0 < ?n; N0 < ?r\\<rbrakk>\n  \\<Longrightarrow> u (?a * ?n + ?r) \\<le> real ?a * u ?n + u ?r\n  m = a * n + r\n  N0 < n\n\ngoal (1 subgoal):\n 1. u m \\<le> real a * u n + u r", "by simp"], ["proof (state)\nthis:\n  u m \\<le> real a * u n + u r\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "then"], ["proof (chain)\npicking this:\n  u m \\<le> real a * u n + u r", "have \"n * u m \\<le> n * (a * u n + u r)\""], ["proof (prove)\nusing this:\n  u m \\<le> real a * u n + u r\n\ngoal (1 subgoal):\n 1. real n * u m \\<le> real n * (real a * u n + u r)", "using \\<open>real n>0\\<close>"], ["proof (prove)\nusing this:\n  u m \\<le> real a * u n + u r\n  0 < real n\n\ngoal (1 subgoal):\n 1. real n * u m \\<le> real n * (real a * u n + u r)", "by simp"], ["proof (state)\nthis:\n  real n * u m \\<le> real n * (real a * u n + u r)\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "then"], ["proof (chain)\npicking this:\n  real n * u m \\<le> real n * (real a * u n + u r)", "have \"n * u m - m * u n \\<le> -r * u n + n * u r\""], ["proof (prove)\nusing this:\n  real n * u m \\<le> real n * (real a * u n + u r)\n\ngoal (1 subgoal):\n 1. real n * u m - real m * u n\n    \\<le> real_of_int (- int r) * u n + real n * u r", "unfolding real_eq"], ["proof (prove)\nusing this:\n  real n * u m \\<le> real n * (real a * u n + u r)\n\ngoal (1 subgoal):\n 1. real n * u m - real m * u n\n    \\<le> (real n * real a - real m) * u n + real n * u r", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  real n * u m - real m * u n\n  \\<le> real_of_int (- int r) * u n + real n * u r\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "also"], ["proof (state)\nthis:\n  real n * u m - real m * u n\n  \\<le> real_of_int (- int r) * u n + real n * u r\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "have \"... \\<le> r * abs(u n) + n * abs(u r)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (- int r) * u n + real n * u r\n    \\<le> real r * \\<bar>u n\\<bar> + real n * \\<bar>u r\\<bar>", "apply (intro add_mono mult_left_mono)"], ["proof (prove)\ngoal (3 subgoals):\n 1. real_of_int (- int r) * u n \\<le> real r * \\<bar>u n\\<bar>\n 2. u r \\<le> \\<bar>u r\\<bar>\n 3. 0 \\<le> real n", "using real_0_le_add_iff"], ["proof (prove)\nusing this:\n  (0 \\<le> ?x + ?y) = (- ?x \\<le> ?y)\n\ngoal (3 subgoals):\n 1. real_of_int (- int r) * u n \\<le> real r * \\<bar>u n\\<bar>\n 2. u r \\<le> \\<bar>u r\\<bar>\n 3. 0 \\<le> real n", "by fastforce+"], ["proof (state)\nthis:\n  real_of_int (- int r) * u n + real n * u r\n  \\<le> real r * \\<bar>u n\\<bar> + real n * \\<bar>u r\\<bar>\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "also"], ["proof (state)\nthis:\n  real_of_int (- int r) * u n + real n * u r\n  \\<le> real r * \\<bar>u n\\<bar> + real n * \\<bar>u r\\<bar>\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "have \"... \\<le> (2 * n) * C + n * C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real r * \\<bar>u n\\<bar> + real n * \\<bar>u r\\<bar>\n    \\<le> real (2 * n) * C + real n * C", "apply (intro add_mono mult_mono ineq_C)"], ["proof (prove)\ngoal (8 subgoals):\n 1. real r \\<le> real (2 * n)\n 2. n \\<le> 2 * n\n 3. 0 \\<le> real (2 * n)\n 4. 0 \\<le> \\<bar>u n\\<bar>\n 5. real n \\<le> real n\n 6. r \\<le> 2 * n\n 7. 0 \\<le> real n\n 8. 0 \\<le> \\<bar>u r\\<bar>", "using less_imp_le[OF \\<open>r < 2 * n\\<close>]"], ["proof (prove)\nusing this:\n  r \\<le> 2 * n\n\ngoal (8 subgoals):\n 1. real r \\<le> real (2 * n)\n 2. n \\<le> 2 * n\n 3. 0 \\<le> real (2 * n)\n 4. 0 \\<le> \\<bar>u n\\<bar>\n 5. real n \\<le> real n\n 6. r \\<le> 2 * n\n 7. 0 \\<le> real n\n 8. 0 \\<le> \\<bar>u r\\<bar>", "by auto"], ["proof (state)\nthis:\n  real r * \\<bar>u n\\<bar> + real n * \\<bar>u r\\<bar>\n  \\<le> real (2 * n) * C + real n * C\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "finally"], ["proof (chain)\npicking this:\n  real n * u m - real m * u n \\<le> real (2 * n) * C + real n * C", "have \"n * u m - m * u n \\<le> 3*C*n\""], ["proof (prove)\nusing this:\n  real n * u m - real m * u n \\<le> real (2 * n) * C + real n * C\n\ngoal (1 subgoal):\n 1. real n * u m - real m * u n \\<le> 3 * C * real n", "by auto"], ["proof (state)\nthis:\n  real n * u m - real m * u n \\<le> 3 * C * real n\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "then"], ["proof (chain)\npicking this:\n  real n * u m - real m * u n \\<le> 3 * C * real n", "show \"u m/m \\<le> u n/n + 3*C/m\""], ["proof (prove)\nusing this:\n  real n * u m - real m * u n \\<le> 3 * C * real n\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "using \\<open>0 < real n\\<close> \\<open>0 < real m\\<close>"], ["proof (prove)\nusing this:\n  real n * u m - real m * u n \\<le> 3 * C * real n\n  0 < real n\n  0 < real m\n\ngoal (1 subgoal):\n 1. u m / real m \\<le> u n / real n + 3 * C / real m", "by (simp add: divide_simps mult.commute)"], ["proof (state)\nthis:\n  u m / real m \\<le> u n / real n + 3 * C / real m\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  n \\<le> ?m \\<Longrightarrow>\n  u ?m / real ?m \\<le> u n / real n + 3 * C / real ?m\n\ngoal (1 subgoal):\n 1. \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "obtain M::nat where M: \"M \\<ge> 3 * C / e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>M.\n        3 * C / e \\<le> real M \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using real_nat_ceiling_ge"], ["proof (prove)\nusing this:\n  ?x \\<le> real (nat \\<lceil>?x\\<rceil>)\n\ngoal (1 subgoal):\n 1. (\\<And>M.\n        3 * C / e \\<le> real M \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  3 * C / e \\<le> real M\n\ngoal (1 subgoal):\n 1. \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "define N where \"N = M + n + N0 + 1\""], ["proof (state)\nthis:\n  N = M + n + N0 + 1\n\ngoal (1 subgoal):\n 1. \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "have \"N > 3 * C / e\" \"N \\<ge> n\" \"N > N0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 * C / e < real N &&& n \\<le> N &&& N0 < N", "unfolding N_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 * C / e < real (M + n + N0 + 1) &&&\n    n \\<le> M + n + N0 + 1 &&& N0 < M + n + N0 + 1", "using M"], ["proof (prove)\nusing this:\n  3 * C / e \\<le> real M\n\ngoal (1 subgoal):\n 1. 3 * C / e < real (M + n + N0 + 1) &&&\n    n \\<le> M + n + N0 + 1 &&& N0 < M + n + N0 + 1", "by auto"], ["proof (state)\nthis:\n  3 * C / e < real N\n  n \\<le> N\n  N0 < N\n\ngoal (1 subgoal):\n 1. \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "have \"u m/m < u n/n + e\" if \"m \\<ge> N\" for m"], ["proof (prove)\ngoal (1 subgoal):\n 1. u m / real m < u n / real n + e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. u m / real m < u n / real n + e", "have \"3 * C / m < e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 * C / real m < e", "using that \\<open>N > 3 * C / e\\<close> \\<open>e > 0\\<close>"], ["proof (prove)\nusing this:\n  N \\<le> m\n  3 * C / e < real N\n  0 < e\n\ngoal (1 subgoal):\n 1. 3 * C / real m < e", "apply (auto simp add: algebra_simps divide_simps)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>N \\<le> m; C * 3 < e * real N; 0 < e; 0 < m\\<rbrakk>\n    \\<Longrightarrow> C * 3 < e * real m", "by (meson le_less_trans linorder_not_le mult_less_cancel_left_pos of_nat_less_iff)"], ["proof (state)\nthis:\n  3 * C / real m < e\n\ngoal (1 subgoal):\n 1. u m / real m < u n / real n + e", "then"], ["proof (chain)\npicking this:\n  3 * C / real m < e", "show ?thesis"], ["proof (prove)\nusing this:\n  3 * C / real m < e\n\ngoal (1 subgoal):\n 1. u m / real m < u n / real n + e", "using ineq_all_m[of m] \\<open>n \\<le> N\\<close> \\<open>N \\<le> m\\<close>"], ["proof (prove)\nusing this:\n  3 * C / real m < e\n  n \\<le> m \\<Longrightarrow>\n  u m / real m \\<le> u n / real n + 3 * C / real m\n  n \\<le> N\n  N \\<le> m\n\ngoal (1 subgoal):\n 1. u m / real m < u n / real n + e", "by auto"], ["proof (state)\nthis:\n  u m / real m < u n / real n + e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  N \\<le> ?m \\<Longrightarrow> u ?m / real ?m < u n / real n + e\n\ngoal (1 subgoal):\n 1. \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "then"], ["proof (chain)\npicking this:\n  N \\<le> ?m \\<Longrightarrow> u ?m / real ?m < u n / real n + e", "show ?thesis"], ["proof (prove)\nusing this:\n  N \\<le> ?m \\<Longrightarrow> u ?m / real ?m < u n / real n + e\n\ngoal (1 subgoal):\n 1. \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "using \\<open>N0 < N\\<close>"], ["proof (prove)\nusing this:\n  N \\<le> ?m \\<Longrightarrow> u ?m / real ?m < u n / real n + e\n  N0 < N\n\ngoal (1 subgoal):\n 1. \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "by blast"], ["proof (state)\nthis:\n  \\<exists>N>N0. \\<forall>m\\<ge>N. u m / real m < u n / real n + e\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>From the inequality above, we deduce the convergence of $u_n/n$ to its infimum. As this\ninfimum might be $-\\infty$, we formulate this convergence in the extended reals. Then, we\nspecialize it to the real situation, separating the cases where $u_n/n$ is bounded below or not.\\<close>"], ["", "lemma subadditive_converges_ereal':\n  assumes \"eventually_subadditive u N0\"\n  shows \"(\\<lambda>m. ereal(u m/m)) \\<longlonglongrightarrow> Inf {ereal(u n/n) | n. n>N0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>m. ereal (u m / real m))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>m. ereal (u m / real m))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "define v where \"v = (\\<lambda>m. ereal(u m/m))\""], ["proof (state)\nthis:\n  v = (\\<lambda>m. ereal (u m / real m))\n\ngoal (1 subgoal):\n 1. (\\<lambda>m. ereal (u m / real m))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "define V where \"V = {v n | n. n>N0}\""], ["proof (state)\nthis:\n  V = {v n |n. N0 < n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>m. ereal (u m / real m))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "define l where \"l = Inf V\""], ["proof (state)\nthis:\n  l = Inf V\n\ngoal (1 subgoal):\n 1. (\\<lambda>m. ereal (u m / real m))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "have \"\\<And>t. t\\<in>V \\<Longrightarrow> t\\<ge>l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> V \\<Longrightarrow> l \\<le> t", "by (simp add: Inf_lower l_def)"], ["proof (state)\nthis:\n  ?t \\<in> V \\<Longrightarrow> l \\<le> ?t\n\ngoal (1 subgoal):\n 1. (\\<lambda>m. ereal (u m / real m))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "then"], ["proof (chain)\npicking this:\n  ?t \\<in> V \\<Longrightarrow> l \\<le> ?t", "have \"v n \\<ge> l\" if \"n > N0\" for n"], ["proof (prove)\nusing this:\n  ?t \\<in> V \\<Longrightarrow> l \\<le> ?t\n\ngoal (1 subgoal):\n 1. l \\<le> v n", "using V_def that"], ["proof (prove)\nusing this:\n  ?t \\<in> V \\<Longrightarrow> l \\<le> ?t\n  V = {v n |n. N0 < n}\n  N0 < n\n\ngoal (1 subgoal):\n 1. l \\<le> v n", "by blast"], ["proof (state)\nthis:\n  N0 < ?n \\<Longrightarrow> l \\<le> v ?n\n\ngoal (1 subgoal):\n 1. (\\<lambda>m. ereal (u m / real m))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "then"], ["proof (chain)\npicking this:\n  N0 < ?n \\<Longrightarrow> l \\<le> v ?n", "have lower: \"eventually (\\<lambda>n. a < v n) sequentially\" if \"a < l\" for a"], ["proof (prove)\nusing this:\n  N0 < ?n \\<Longrightarrow> l \\<le> v ?n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. a < v n", "by (meson that dual_order.strict_trans1 eventually_at_top_dense)"], ["proof (state)\nthis:\n  ?a < l \\<Longrightarrow> \\<forall>\\<^sub>F n in sequentially. ?a < v n\n\ngoal (1 subgoal):\n 1. (\\<lambda>m. ereal (u m / real m))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "have upper: \"eventually (\\<lambda>n. a > v n) sequentially\" if \"a > l\" for a"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "obtain t where \"t\\<in>V\" \"t<a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<in> V; t < a\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis \\<open>a>l\\<close> Inf_greatest l_def not_le)"], ["proof (state)\nthis:\n  t \\<in> V\n  t < a\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "then"], ["proof (chain)\npicking this:\n  t \\<in> V\n  t < a", "obtain e::real where \"e>0\" \"t+e < a\""], ["proof (prove)\nusing this:\n  t \\<in> V\n  t < a\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; t + ereal e < a\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson ereal_le_epsilon2 leD le_less_linear)"], ["proof (state)\nthis:\n  0 < e\n  t + ereal e < a\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "obtain n where \"n>N0\" \"t = u n/n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>n.\n        \\<lbrakk>N0 < n; t = ereal (u n / real n)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using V_def v_def \\<open>t \\<in> V\\<close>"], ["proof (prove)\nusing this:\n  V = {v n |n. N0 < n}\n  v = (\\<lambda>m. ereal (u m / real m))\n  t \\<in> V\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        \\<lbrakk>N0 < n; t = ereal (u n / real n)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  N0 < n\n  t = ereal (u n / real n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "then"], ["proof (chain)\npicking this:\n  N0 < n\n  t = ereal (u n / real n)", "have \"u n/n + e < a\""], ["proof (prove)\nusing this:\n  N0 < n\n  t = ereal (u n / real n)\n\ngoal (1 subgoal):\n 1. ereal (u n / real n + e) < a", "using \\<open>t+e < a\\<close>"], ["proof (prove)\nusing this:\n  N0 < n\n  t = ereal (u n / real n)\n  t + ereal e < a\n\ngoal (1 subgoal):\n 1. ereal (u n / real n + e) < a", "by simp"], ["proof (state)\nthis:\n  ereal (u n / real n + e) < a\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "obtain N where \"\\<forall>m\\<ge>N. u m/m < u n/n + e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>m\\<ge>N. u m / real m < u n / real n + e \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using eventually_subadditive_ineq[OF assms] \\<open>0 < e\\<close> \\<open>N0 < n\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?e; N0 < ?n\\<rbrakk>\n  \\<Longrightarrow> \\<exists>N>N0.\n                       \\<forall>m\\<ge>N. u m / real m < u ?n / real ?n + ?e\n  0 < e\n  N0 < n\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>m\\<ge>N. u m / real m < u n / real n + e \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>m\\<ge>N. u m / real m < u n / real n + e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "then"], ["proof (chain)\npicking this:\n  \\<forall>m\\<ge>N. u m / real m < u n / real n + e", "have \"u m/m < a\" if \"m \\<ge> N\" for m"], ["proof (prove)\nusing this:\n  \\<forall>m\\<ge>N. u m / real m < u n / real n + e\n\ngoal (1 subgoal):\n 1. ereal (u m / real m) < a", "using that \\<open>u n/n + e < a\\<close> less_ereal.simps(1) less_trans"], ["proof (prove)\nusing this:\n  \\<forall>m\\<ge>N. u m / real m < u n / real n + e\n  N \\<le> m\n  ereal (u n / real n + e) < a\n  (ereal ?x < ereal ?y) = (?x < ?y)\n  \\<lbrakk>?x < ?y; ?y < ?z\\<rbrakk> \\<Longrightarrow> ?x < ?z\n\ngoal (1 subgoal):\n 1. ereal (u m / real m) < a", "by blast"], ["proof (state)\nthis:\n  N \\<le> ?m \\<Longrightarrow> ereal (u ?m / real ?m) < a\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "then"], ["proof (chain)\npicking this:\n  N \\<le> ?m \\<Longrightarrow> ereal (u ?m / real ?m) < a", "have \"v m< a\" if \"m \\<ge> N\" for m"], ["proof (prove)\nusing this:\n  N \\<le> ?m \\<Longrightarrow> ereal (u ?m / real ?m) < a\n\ngoal (1 subgoal):\n 1. v m < a", "using v_def that"], ["proof (prove)\nusing this:\n  N \\<le> ?m \\<Longrightarrow> ereal (u ?m / real ?m) < a\n  v = (\\<lambda>m. ereal (u m / real m))\n  N \\<le> m\n\ngoal (1 subgoal):\n 1. v m < a", "by blast"], ["proof (state)\nthis:\n  N \\<le> ?m \\<Longrightarrow> v ?m < a\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "then"], ["proof (chain)\npicking this:\n  N \\<le> ?m \\<Longrightarrow> v ?m < a", "show ?thesis"], ["proof (prove)\nusing this:\n  N \\<le> ?m \\<Longrightarrow> v ?m < a\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "using eventually_at_top_linorder"], ["proof (prove)\nusing this:\n  N \\<le> ?m \\<Longrightarrow> v ?m < a\n  eventually ?P at_top = (\\<exists>N. \\<forall>n\\<ge>N. ?P n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. v n < a\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  l < ?a \\<Longrightarrow> \\<forall>\\<^sub>F n in sequentially. v n < ?a\n\ngoal (1 subgoal):\n 1. (\\<lambda>m. ereal (u m / real m))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>m. ereal (u m / real m))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "using lower upper"], ["proof (prove)\nusing this:\n  ?a < l \\<Longrightarrow> \\<forall>\\<^sub>F n in sequentially. ?a < v n\n  l < ?a \\<Longrightarrow> \\<forall>\\<^sub>F n in sequentially. v n < ?a\n\ngoal (1 subgoal):\n 1. (\\<lambda>m. ereal (u m / real m))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "unfolding V_def l_def v_def"], ["proof (prove)\nusing this:\n  ?a < Inf {ereal (u n / real n) |n. N0 < n} \\<Longrightarrow>\n  \\<forall>\\<^sub>F n in sequentially. ?a < ereal (u n / real n)\n  Inf {ereal (u n / real n) |n. N0 < n} < ?a \\<Longrightarrow>\n  \\<forall>\\<^sub>F n in sequentially. ereal (u n / real n) < ?a\n\ngoal (1 subgoal):\n 1. (\\<lambda>m. ereal (u m / real m))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "by (simp add: order_tendsto_iff)"], ["proof (state)\nthis:\n  (\\<lambda>m. ereal (u m / real m))\n  \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subadditive_converges_ereal:\n  assumes \"subadditive u\"\n  shows \"(\\<lambda>m. ereal(u m/m)) \\<longlonglongrightarrow> Inf {ereal(u n/n) | n. n>0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>m. ereal (u m / real m))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. 0 < n}", "by (rule subadditive_converges_ereal'[OF subadditive_imp_eventually_subadditive[OF assms]])"], ["", "lemma subadditive_converges_bounded':\n  assumes \"eventually_subadditive u N0\"\n          \"bdd_below {u n/n | n. n>N0}\"\n  shows \"(\\<lambda>n. u n/n) \\<longlonglongrightarrow> Inf {u n/n | n. n>N0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n / real n)\n    \\<longlonglongrightarrow> Inf {u n / real n |n. N0 < n}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n / real n)\n    \\<longlonglongrightarrow> Inf {u n / real n |n. N0 < n}", "have *: \"(\\<lambda>n. ereal(u n /n)) \\<longlonglongrightarrow> Inf {ereal(u n/n)|n. n > N0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "by (simp add: assms(1) subadditive_converges_ereal')"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (u n / real n))\n  \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n / real n)\n    \\<longlonglongrightarrow> Inf {u n / real n |n. N0 < n}", "define V where \"V = {u n/n | n. n>N0}\""], ["proof (state)\nthis:\n  V = {u n / real n |n. N0 < n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n / real n)\n    \\<longlonglongrightarrow> Inf {u n / real n |n. N0 < n}", "have a: \"bdd_below V\" \"V\\<noteq>{}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_below V &&& V \\<noteq> {}", "by (auto simp add: V_def assms(2))"], ["proof (state)\nthis:\n  bdd_below V\n  V \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n / real n)\n    \\<longlonglongrightarrow> Inf {u n / real n |n. N0 < n}", "have \"Inf {ereal(t)| t. t\\<in>V} = ereal(Inf V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Inf {ereal t |t. t \\<in> V} = ereal (Inf V)", "by (subst ereal_Inf'[OF a], simp add: Setcompr_eq_image)"], ["proof (state)\nthis:\n  Inf {ereal t |t. t \\<in> V} = ereal (Inf V)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n / real n)\n    \\<longlonglongrightarrow> Inf {u n / real n |n. N0 < n}", "moreover"], ["proof (state)\nthis:\n  Inf {ereal t |t. t \\<in> V} = ereal (Inf V)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n / real n)\n    \\<longlonglongrightarrow> Inf {u n / real n |n. N0 < n}", "have \"{ereal(t)| t. t\\<in>V} = {ereal(u n/n)|n. n > N0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {ereal t |t. t \\<in> V} = {ereal (u n / real n) |n. N0 < n}", "using V_def"], ["proof (prove)\nusing this:\n  V = {u n / real n |n. N0 < n}\n\ngoal (1 subgoal):\n 1. {ereal t |t. t \\<in> V} = {ereal (u n / real n) |n. N0 < n}", "by blast"], ["proof (state)\nthis:\n  {ereal t |t. t \\<in> V} = {ereal (u n / real n) |n. N0 < n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n / real n)\n    \\<longlonglongrightarrow> Inf {u n / real n |n. N0 < n}", "ultimately"], ["proof (chain)\npicking this:\n  Inf {ereal t |t. t \\<in> V} = ereal (Inf V)\n  {ereal t |t. t \\<in> V} = {ereal (u n / real n) |n. N0 < n}", "have \"Inf {ereal(u n/n)|n. n > N0} = ereal(Inf {u n/n |n. n > N0})\""], ["proof (prove)\nusing this:\n  Inf {ereal t |t. t \\<in> V} = ereal (Inf V)\n  {ereal t |t. t \\<in> V} = {ereal (u n / real n) |n. N0 < n}\n\ngoal (1 subgoal):\n 1. Inf {ereal (u n / real n) |n. N0 < n} =\n    ereal (Inf {u n / real n |n. N0 < n})", "using V_def"], ["proof (prove)\nusing this:\n  Inf {ereal t |t. t \\<in> V} = ereal (Inf V)\n  {ereal t |t. t \\<in> V} = {ereal (u n / real n) |n. N0 < n}\n  V = {u n / real n |n. N0 < n}\n\ngoal (1 subgoal):\n 1. Inf {ereal (u n / real n) |n. N0 < n} =\n    ereal (Inf {u n / real n |n. N0 < n})", "by auto"], ["proof (state)\nthis:\n  Inf {ereal (u n / real n) |n. N0 < n} =\n  ereal (Inf {u n / real n |n. N0 < n})\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n / real n)\n    \\<longlonglongrightarrow> Inf {u n / real n |n. N0 < n}", "then"], ["proof (chain)\npicking this:\n  Inf {ereal (u n / real n) |n. N0 < n} =\n  ereal (Inf {u n / real n |n. N0 < n})", "have \"(\\<lambda>n. ereal(u n /n)) \\<longlonglongrightarrow> ereal(Inf {u n/n | n. n>N0})\""], ["proof (prove)\nusing this:\n  Inf {ereal (u n / real n) |n. N0 < n} =\n  ereal (Inf {u n / real n |n. N0 < n})\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> ereal (Inf {u n / real n |n. N0 < n})", "using *"], ["proof (prove)\nusing this:\n  Inf {ereal (u n / real n) |n. N0 < n} =\n  ereal (Inf {u n / real n |n. N0 < n})\n  (\\<lambda>n. ereal (u n / real n))\n  \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> ereal (Inf {u n / real n |n. N0 < n})", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (u n / real n))\n  \\<longlonglongrightarrow> ereal (Inf {u n / real n |n. N0 < n})\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n / real n)\n    \\<longlonglongrightarrow> Inf {u n / real n |n. N0 < n}", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. ereal (u n / real n))\n  \\<longlonglongrightarrow> ereal (Inf {u n / real n |n. N0 < n})", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal (u n / real n))\n  \\<longlonglongrightarrow> ereal (Inf {u n / real n |n. N0 < n})\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n / real n)\n    \\<longlonglongrightarrow> Inf {u n / real n |n. N0 < n}", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>n. u n / real n)\n  \\<longlonglongrightarrow> Inf {u n / real n |n. N0 < n}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subadditive_converges_bounded:\n  assumes \"subadditive u\"\n          \"bdd_below {u n/n | n. n>0}\"\n  shows \"(\\<lambda>n. u n/n) \\<longlonglongrightarrow> Inf {u n/n | n. n>0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n / real n)\n    \\<longlonglongrightarrow> Inf {u n / real n |n. 0 < n}", "by (rule subadditive_converges_bounded'[OF subadditive_imp_eventually_subadditive[OF assms(1)] assms(2)])"], ["", "text \\<open>We reformulate the previous lemma in a more directly usable form, avoiding the infimum.\\<close>"], ["", "lemma subadditive_converges_bounded'':\n  assumes \"subadditive u\"\n          \"\\<And>n. n > 0 \\<Longrightarrow> u n \\<ge> n * (a::real)\"\n  shows \"\\<exists>l. (\\<lambda>n. u n / n) \\<longlonglongrightarrow> l \\<and> (\\<forall>n>0. u n \\<ge> n * l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. real n * l \\<le> u n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. real n * l \\<le> u n)", "have B: \"bdd_below {u n/n | n. n>0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_below {u n / real n |n. 0 < n}", "apply (rule bdd_belowI[of _ a])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> {u n / real n |n. 0 < n} \\<Longrightarrow> a \\<le> x", "using assms(2)"], ["proof (prove)\nusing this:\n  0 < ?n \\<Longrightarrow> real ?n * a \\<le> u ?n\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> {u n / real n |n. 0 < n} \\<Longrightarrow> a \\<le> x", "apply (auto simp add: divide_simps)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x n.\n       \\<lbrakk>\\<And>n. 0 < n \\<Longrightarrow> real n * a \\<le> u n;\n        x * real n = u n; 0 < n\\<rbrakk>\n       \\<Longrightarrow> a \\<le> x", "apply (metis mult.commute mult_left_le_imp_le of_nat_0_less_iff)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  bdd_below {u n / real n |n. 0 < n}\n\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. real n * l \\<le> u n)", "define l where \"l = Inf {u n/n | n. n>0}\""], ["proof (state)\nthis:\n  l = Inf {u n / real n |n. 0 < n}\n\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. real n * l \\<le> u n)", "have *: \"u n / n \\<ge> l\" if \"n > 0\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. l \\<le> u n / real n", "unfolding l_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Inf {u n / real n |n. 0 < n} \\<le> u n / real n", "using that"], ["proof (prove)\nusing this:\n  0 < n\n\ngoal (1 subgoal):\n 1. Inf {u n / real n |n. 0 < n} \\<le> u n / real n", "by (auto intro!: cInf_lower[OF _ B])"], ["proof (state)\nthis:\n  0 < ?n \\<Longrightarrow> l \\<le> u ?n / real ?n\n\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. real n * l \\<le> u n)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. real n * l \\<le> u n)", "apply (rule exI[of _ l], auto)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l\n 2. \\<And>n. 0 < n \\<Longrightarrow> real n * l \\<le> u n", "using subadditive_converges_bounded[OF assms(1) B]"], ["proof (prove)\nusing this:\n  (\\<lambda>n. u n / real n)\n  \\<longlonglongrightarrow> Inf {u n / real n |n. 0 < n}\n\ngoal (2 subgoals):\n 1. (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l\n 2. \\<And>n. 0 < n \\<Longrightarrow> real n * l \\<le> u n", "apply (simp add: l_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. 0 < n \\<Longrightarrow> real n * l \\<le> u n", "using *"], ["proof (prove)\nusing this:\n  0 < ?n \\<Longrightarrow> l \\<le> u ?n / real ?n\n\ngoal (1 subgoal):\n 1. \\<And>n. 0 < n \\<Longrightarrow> real n * l \\<le> u n", "by (simp add: divide_simps algebra_simps)"], ["proof (state)\nthis:\n  \\<exists>l.\n     (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n     (\\<forall>n>0. real n * l \\<le> u n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subadditive_converges_unbounded':\n  assumes \"eventually_subadditive u N0\"\n          \"\\<not> (bdd_below {u n/n | n. n>N0})\"\n  shows \"(\\<lambda>n. ereal(u n/n)) \\<longlonglongrightarrow> -\\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> - \\<infinity>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> - \\<infinity>", "have *: \"(\\<lambda>n. ereal(u n /n)) \\<longlonglongrightarrow> Inf {ereal(u n/n)|n. n > N0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}", "by (simp add: assms(1) subadditive_converges_ereal')"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (u n / real n))\n  \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> - \\<infinity>", "define V where \"V = {u n/n | n. n>N0}\""], ["proof (state)\nthis:\n  V = {u n / real n |n. N0 < n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> - \\<infinity>", "then"], ["proof (chain)\npicking this:\n  V = {u n / real n |n. N0 < n}", "have \"\\<not> bdd_below V\""], ["proof (prove)\nusing this:\n  V = {u n / real n |n. N0 < n}\n\ngoal (1 subgoal):\n 1. \\<not> bdd_below V", "using assms"], ["proof (prove)\nusing this:\n  V = {u n / real n |n. N0 < n}\n  eventually_subadditive u N0\n  \\<not> bdd_below {u n / real n |n. N0 < n}\n\ngoal (1 subgoal):\n 1. \\<not> bdd_below V", "by simp"], ["proof (state)\nthis:\n  \\<not> bdd_below V\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> - \\<infinity>", "have \"Inf {ereal(t) | t. t\\<in>V} = -\\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Inf {ereal t |t. t \\<in> V} = - \\<infinity>", "by (rule ereal_bot, metis (mono_tags, lifting) \\<open>\\<not> bdd_below V\\<close> bdd_below_def\n        leI Inf_lower2 ereal_less_eq(3) le_less mem_Collect_eq)"], ["proof (state)\nthis:\n  Inf {ereal t |t. t \\<in> V} = - \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> - \\<infinity>", "moreover"], ["proof (state)\nthis:\n  Inf {ereal t |t. t \\<in> V} = - \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> - \\<infinity>", "have \"{ereal(t)| t. t\\<in>V} = {ereal(u n/n)|n. n > N0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {ereal t |t. t \\<in> V} = {ereal (u n / real n) |n. N0 < n}", "using V_def"], ["proof (prove)\nusing this:\n  V = {u n / real n |n. N0 < n}\n\ngoal (1 subgoal):\n 1. {ereal t |t. t \\<in> V} = {ereal (u n / real n) |n. N0 < n}", "by blast"], ["proof (state)\nthis:\n  {ereal t |t. t \\<in> V} = {ereal (u n / real n) |n. N0 < n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> - \\<infinity>", "ultimately"], ["proof (chain)\npicking this:\n  Inf {ereal t |t. t \\<in> V} = - \\<infinity>\n  {ereal t |t. t \\<in> V} = {ereal (u n / real n) |n. N0 < n}", "have \"Inf {ereal(u n/n)|n. n > N0} = -\\<infinity>\""], ["proof (prove)\nusing this:\n  Inf {ereal t |t. t \\<in> V} = - \\<infinity>\n  {ereal t |t. t \\<in> V} = {ereal (u n / real n) |n. N0 < n}\n\ngoal (1 subgoal):\n 1. Inf {ereal (u n / real n) |n. N0 < n} = - \\<infinity>", "by auto"], ["proof (state)\nthis:\n  Inf {ereal (u n / real n) |n. N0 < n} = - \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> - \\<infinity>", "then"], ["proof (chain)\npicking this:\n  Inf {ereal (u n / real n) |n. N0 < n} = - \\<infinity>", "show ?thesis"], ["proof (prove)\nusing this:\n  Inf {ereal (u n / real n) |n. N0 < n} = - \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> - \\<infinity>", "using *"], ["proof (prove)\nusing this:\n  Inf {ereal (u n / real n) |n. N0 < n} = - \\<infinity>\n  (\\<lambda>n. ereal (u n / real n))\n  \\<longlonglongrightarrow> Inf {ereal (u n / real n) |n. N0 < n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> - \\<infinity>", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (u n / real n)) \\<longlonglongrightarrow> - \\<infinity>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subadditive_converges_unbounded:\n  assumes \"subadditive u\"\n          \"\\<not> (bdd_below {u n/n | n. n>0})\"\n  shows \"(\\<lambda>n. ereal(u n/n)) \\<longlonglongrightarrow> -\\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n / real n))\n    \\<longlonglongrightarrow> - \\<infinity>", "by (rule subadditive_converges_unbounded'[OF subadditive_imp_eventually_subadditive[OF assms(1)] assms(2)])"], ["", "subsection \\<open>Superadditive sequences\\<close>"], ["", "text \\<open>While most applications involve subadditive sequences, one sometimes encounters superadditive\nsequences. We reformulate quickly some of the above results in this setting.\\<close>"], ["", "definition superadditive::\"(nat\\<Rightarrow>real) \\<Rightarrow> bool\"\n  where \"superadditive u = (\\<forall>m n. u (m+n) \\<ge> u m + u n)\""], ["", "lemma subadditive_of_superadditive:\n  assumes \"superadditive u\"\n  shows \"subadditive (\\<lambda>n. -u n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subadditive (\\<lambda>n. - u n)", "using assms"], ["proof (prove)\nusing this:\n  superadditive u\n\ngoal (1 subgoal):\n 1. subadditive (\\<lambda>n. - u n)", "unfolding superadditive_def subadditive_def"], ["proof (prove)\nusing this:\n  \\<forall>m n. u m + u n \\<le> u (m + n)\n\ngoal (1 subgoal):\n 1. \\<forall>m n. - u (m + n) \\<le> - u m + - u n", "by (auto simp add: algebra_simps)"], ["", "lemma superadditive_un_ge_nu1:\n  assumes \"superadditive u\"\n          \"n > 0\"\n  shows \"u n \\<ge> n * u 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real n * u 1 \\<le> u n", "using subadditive_un_le_nu1[OF subadditive_of_superadditive[OF assms(1)] assms(2)]"], ["proof (prove)\nusing this:\n  - u n \\<le> real n * - u 1\n\ngoal (1 subgoal):\n 1. real n * u 1 \\<le> u n", "by auto"], ["", "lemma superadditive_converges_bounded'':\n  assumes \"superadditive u\"\n          \"\\<And>n. n > 0 \\<Longrightarrow> u n \\<le> n * (a::real)\"\n  shows \"\\<exists>l. (\\<lambda>n. u n / n) \\<longlonglongrightarrow> l \\<and> (\\<forall>n>0. u n \\<le> n * l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. u n \\<le> real n * l)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. u n \\<le> real n * l)", "have \"\\<exists>l. (\\<lambda>n. -u n / n) \\<longlonglongrightarrow> l \\<and> (\\<forall>n>0. -u n \\<ge> n * l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. - u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. real n * l \\<le> - u n)", "apply (rule subadditive_converges_bounded''[OF subadditive_of_superadditive[OF assms(1)], of \"-a\"])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. 0 < n \\<Longrightarrow> real n * - a \\<le> - u n", "using assms(2)"], ["proof (prove)\nusing this:\n  0 < ?n \\<Longrightarrow> u ?n \\<le> real ?n * a\n\ngoal (1 subgoal):\n 1. \\<And>n. 0 < n \\<Longrightarrow> real n * - a \\<le> - u n", "by auto"], ["proof (state)\nthis:\n  \\<exists>l.\n     (\\<lambda>n. - u n / real n) \\<longlonglongrightarrow> l \\<and>\n     (\\<forall>n>0. real n * l \\<le> - u n)\n\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. u n \\<le> real n * l)", "then"], ["proof (chain)\npicking this:\n  \\<exists>l.\n     (\\<lambda>n. - u n / real n) \\<longlonglongrightarrow> l \\<and>\n     (\\<forall>n>0. real n * l \\<le> - u n)", "obtain l where l: \"(\\<lambda>n. -u n / n) \\<longlonglongrightarrow> l\" \"(\\<forall>n>0. -u n \\<ge> n * l)\""], ["proof (prove)\nusing this:\n  \\<exists>l.\n     (\\<lambda>n. - u n / real n) \\<longlonglongrightarrow> l \\<and>\n     (\\<forall>n>0. real n * l \\<le> - u n)\n\ngoal (1 subgoal):\n 1. (\\<And>l.\n        \\<lbrakk>(\\<lambda>n. - u n / real n) \\<longlonglongrightarrow> l;\n         \\<forall>n>0. real n * l \\<le> - u n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  (\\<lambda>n. - u n / real n) \\<longlonglongrightarrow> l\n  \\<forall>n>0. real n * l \\<le> - u n\n\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. u n \\<le> real n * l)", "have \"(\\<lambda>n. -((-u n)/n)) \\<longlonglongrightarrow> -l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. - (- u n / real n)) \\<longlonglongrightarrow> - l", "by (intro tendsto_intros l)"], ["proof (state)\nthis:\n  (\\<lambda>n. - (- u n / real n)) \\<longlonglongrightarrow> - l\n\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. u n \\<le> real n * l)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. - (- u n / real n)) \\<longlonglongrightarrow> - l\n\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. u n \\<le> real n * l)", "have \"\\<forall>n>0. u n \\<le> n * (-l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n>0. u n \\<le> real n * - l", "using l(2)"], ["proof (prove)\nusing this:\n  \\<forall>n>0. real n * l \\<le> - u n\n\ngoal (1 subgoal):\n 1. \\<forall>n>0. u n \\<le> real n * - l", "by (auto simp add: algebra_simps) (metis minus_equation_iff neg_le_iff_le)"], ["proof (state)\nthis:\n  \\<forall>n>0. u n \\<le> real n * - l\n\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. u n \\<le> real n * l)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. - (- u n / real n)) \\<longlonglongrightarrow> - l\n  \\<forall>n>0. u n \\<le> real n * - l", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>n. - (- u n / real n)) \\<longlonglongrightarrow> - l\n  \\<forall>n>0. u n \\<le> real n * - l\n\ngoal (1 subgoal):\n 1. \\<exists>l.\n       (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n       (\\<forall>n>0. u n \\<le> real n * l)", "by auto"], ["proof (state)\nthis:\n  \\<exists>l.\n     (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> l \\<and>\n     (\\<forall>n>0. u n \\<le> real n * l)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Almost additive sequences\\<close>"], ["", "text \\<open>One often encounters sequences which are both subadditive and superadditive, but only up\nto an additive constant. Adding or subtracting this constant, one can make the sequence\ngenuinely subadditive or superadditive, and thus deduce results about its convergence, as follows.\nSuch sequences appear notably when dealing with quasimorphisms.\\<close>"], ["", "lemma almost_additive_converges:\n  fixes u::\"nat \\<Rightarrow> real\"\n  assumes \"\\<And>m n. abs(u(m+n) - u m - u n) \\<le> C\"\n  shows \"convergent (\\<lambda>n. u n/n)\"\n        \"abs(u k - k * lim (\\<lambda>n. u n / n)) \\<le> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. u n / real n) &&&\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "have \"(abs (u 0)) \\<le> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>u 0\\<bar> \\<le> C", "using assms[of 0 0]"], ["proof (prove)\nusing this:\n  \\<bar>u (0 + 0) - u 0 - u 0\\<bar> \\<le> C\n\ngoal (1 subgoal):\n 1. \\<bar>u 0\\<bar> \\<le> C", "by auto"], ["proof (state)\nthis:\n  \\<bar>u 0\\<bar> \\<le> C\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "then"], ["proof (chain)\npicking this:\n  \\<bar>u 0\\<bar> \\<le> C", "have \"C \\<ge> 0\""], ["proof (prove)\nusing this:\n  \\<bar>u 0\\<bar> \\<le> C\n\ngoal (1 subgoal):\n 1. 0 \\<le> C", "by auto"], ["proof (state)\nthis:\n  0 \\<le> C\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "define v where \"v = (\\<lambda>n. u n + C)\""], ["proof (state)\nthis:\n  v = (\\<lambda>n. u n + C)\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "have \"subadditive v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subadditive v", "unfolding subadditive_def v_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m n. u (m + n) + C \\<le> u m + C + (u n + C)", "using assms"], ["proof (prove)\nusing this:\n  \\<bar>u (?m + ?n) - u ?m - u ?n\\<bar> \\<le> C\n\ngoal (1 subgoal):\n 1. \\<forall>m n. u (m + n) + C \\<le> u m + C + (u n + C)", "by (auto simp add: algebra_simps abs_diff_le_iff)"], ["proof (state)\nthis:\n  subadditive v\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "then"], ["proof (chain)\npicking this:\n  subadditive v", "have vle: \"v n \\<le> n * v 1\" if \"n > 0\" for n"], ["proof (prove)\nusing this:\n  subadditive v\n\ngoal (1 subgoal):\n 1. v n \\<le> real n * v 1", "using subadditive_un_le_nu1 that"], ["proof (prove)\nusing this:\n  subadditive v\n  \\<lbrakk>subadditive ?u; 0 < ?n\\<rbrakk>\n  \\<Longrightarrow> ?u ?n \\<le> real ?n * ?u 1\n  0 < n\n\ngoal (1 subgoal):\n 1. v n \\<le> real n * v 1", "by auto"], ["proof (state)\nthis:\n  0 < ?n \\<Longrightarrow> v ?n \\<le> real ?n * v 1\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "define w where \"w = (\\<lambda>n. u n - C)\""], ["proof (state)\nthis:\n  w = (\\<lambda>n. u n - C)\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "have \"superadditive w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. superadditive w", "unfolding superadditive_def w_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m n. u m - C + (u n - C) \\<le> u (m + n) - C", "using assms"], ["proof (prove)\nusing this:\n  \\<bar>u (?m + ?n) - u ?m - u ?n\\<bar> \\<le> C\n\ngoal (1 subgoal):\n 1. \\<forall>m n. u m - C + (u n - C) \\<le> u (m + n) - C", "by (auto simp add: algebra_simps abs_diff_le_iff)"], ["proof (state)\nthis:\n  superadditive w\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "then"], ["proof (chain)\npicking this:\n  superadditive w", "have wge: \"w n \\<ge> n * w 1\" if \"n > 0\" for n"], ["proof (prove)\nusing this:\n  superadditive w\n\ngoal (1 subgoal):\n 1. real n * w 1 \\<le> w n", "using superadditive_un_ge_nu1 that"], ["proof (prove)\nusing this:\n  superadditive w\n  \\<lbrakk>superadditive ?u; 0 < ?n\\<rbrakk>\n  \\<Longrightarrow> real ?n * ?u 1 \\<le> ?u ?n\n  0 < n\n\ngoal (1 subgoal):\n 1. real n * w 1 \\<le> w n", "by auto"], ["proof (state)\nthis:\n  0 < ?n \\<Longrightarrow> real ?n * w 1 \\<le> w ?n\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "have I: \"v n \\<ge> w n\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. w n \\<le> v n", "unfolding v_def w_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. u n - C \\<le> u n + C", "using \\<open>C \\<ge> 0\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> C\n\ngoal (1 subgoal):\n 1. u n - C \\<le> u n + C", "by auto"], ["proof (state)\nthis:\n  w ?n \\<le> v ?n\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "then"], ["proof (chain)\npicking this:\n  w ?n \\<le> v ?n", "have *: \"v n \\<ge> n * w 1\" if \"n > 0\" for n"], ["proof (prove)\nusing this:\n  w ?n \\<le> v ?n\n\ngoal (1 subgoal):\n 1. real n * w 1 \\<le> v n", "using order_trans[OF wge[OF that]]"], ["proof (prove)\nusing this:\n  w ?n \\<le> v ?n\n  w n \\<le> ?z \\<Longrightarrow> real n * w 1 \\<le> ?z\n\ngoal (1 subgoal):\n 1. real n * w 1 \\<le> v n", "by auto"], ["proof (state)\nthis:\n  0 < ?n \\<Longrightarrow> real ?n * w 1 \\<le> v ?n\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "then"], ["proof (chain)\npicking this:\n  0 < ?n \\<Longrightarrow> real ?n * w 1 \\<le> v ?n", "obtain lv where lv: \"(\\<lambda>n. v n/n) \\<longlonglongrightarrow> lv\" \"\\<And>n. n > 0 \\<Longrightarrow> v n \\<ge> n * lv\""], ["proof (prove)\nusing this:\n  0 < ?n \\<Longrightarrow> real ?n * w 1 \\<le> v ?n\n\ngoal (1 subgoal):\n 1. (\\<And>lv.\n        \\<lbrakk>(\\<lambda>n. v n / real n) \\<longlonglongrightarrow> lv;\n         \\<And>n. 0 < n \\<Longrightarrow> real n * lv \\<le> v n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using subadditive_converges_bounded''[OF \\<open>subadditive v\\<close> *]"], ["proof (prove)\nusing this:\n  0 < ?n \\<Longrightarrow> real ?n * w 1 \\<le> v ?n\n  (\\<And>n. 0 < n \\<Longrightarrow> 0 < n) \\<Longrightarrow>\n  \\<exists>l.\n     (\\<lambda>n. v n / real n) \\<longlonglongrightarrow> l \\<and>\n     (\\<forall>n>0. real n * l \\<le> v n)\n\ngoal (1 subgoal):\n 1. (\\<And>lv.\n        \\<lbrakk>(\\<lambda>n. v n / real n) \\<longlonglongrightarrow> lv;\n         \\<And>n. 0 < n \\<Longrightarrow> real n * lv \\<le> v n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. v n / real n) \\<longlonglongrightarrow> lv\n  0 < ?n \\<Longrightarrow> real ?n * lv \\<le> v ?n\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "have *: \"w n \\<le> n * v 1\" if \"n > 0\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. w n \\<le> real n * v 1", "using order_trans[OF _ vle[OF that]] I"], ["proof (prove)\nusing this:\n  ?x \\<le> v n \\<Longrightarrow> ?x \\<le> real n * v 1\n  w ?n \\<le> v ?n\n\ngoal (1 subgoal):\n 1. w n \\<le> real n * v 1", "by auto"], ["proof (state)\nthis:\n  0 < ?n \\<Longrightarrow> w ?n \\<le> real ?n * v 1\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "then"], ["proof (chain)\npicking this:\n  0 < ?n \\<Longrightarrow> w ?n \\<le> real ?n * v 1", "obtain lw where lw: \"(\\<lambda>n. w n/n) \\<longlonglongrightarrow> lw\" \"\\<And>n. n > 0 \\<Longrightarrow> w n \\<le> n * lw\""], ["proof (prove)\nusing this:\n  0 < ?n \\<Longrightarrow> w ?n \\<le> real ?n * v 1\n\ngoal (1 subgoal):\n 1. (\\<And>lw.\n        \\<lbrakk>(\\<lambda>n. w n / real n) \\<longlonglongrightarrow> lw;\n         \\<And>n. 0 < n \\<Longrightarrow> w n \\<le> real n * lw\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using superadditive_converges_bounded''[OF \\<open>superadditive w\\<close> *]"], ["proof (prove)\nusing this:\n  0 < ?n \\<Longrightarrow> w ?n \\<le> real ?n * v 1\n  (\\<And>n. 0 < n \\<Longrightarrow> 0 < n) \\<Longrightarrow>\n  \\<exists>l.\n     (\\<lambda>n. w n / real n) \\<longlonglongrightarrow> l \\<and>\n     (\\<forall>n>0. w n \\<le> real n * l)\n\ngoal (1 subgoal):\n 1. (\\<And>lw.\n        \\<lbrakk>(\\<lambda>n. w n / real n) \\<longlonglongrightarrow> lw;\n         \\<And>n. 0 < n \\<Longrightarrow> w n \\<le> real n * lw\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. w n / real n) \\<longlonglongrightarrow> lw\n  0 < ?n \\<Longrightarrow> w ?n \\<le> real ?n * lw\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "have *: \"v n/n = w n /n + 2*C*(1/n)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. v n / real n = w n / real n + 2 * C * (1 / real n)", "unfolding v_def w_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (u n + C) / real n = (u n - C) / real n + 2 * C * (1 / real n)", "by (auto simp add: algebra_simps divide_simps)"], ["proof (state)\nthis:\n  v ?n / real ?n = w ?n / real ?n + 2 * C * (1 / real ?n)\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "have \"(\\<lambda>n. w n /n + 2*C*(1/n)) \\<longlonglongrightarrow> lw + 2*C*0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. w n / real n + 2 * C * (1 / real n))\n    \\<longlonglongrightarrow> lw + 2 * C * 0", "by (intro tendsto_add tendsto_mult lim_1_over_n lw, auto)"], ["proof (state)\nthis:\n  (\\<lambda>n. w n / real n + 2 * C * (1 / real n))\n  \\<longlonglongrightarrow> lw + 2 * C * 0\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. w n / real n + 2 * C * (1 / real n))\n  \\<longlonglongrightarrow> lw + 2 * C * 0", "have \"lw = lv\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. w n / real n + 2 * C * (1 / real n))\n  \\<longlonglongrightarrow> lw + 2 * C * 0\n\ngoal (1 subgoal):\n 1. lw = lv", "unfolding *[symmetric]"], ["proof (prove)\nusing this:\n  (\\<lambda>n. v n / real n) \\<longlonglongrightarrow> lw + 2 * C * 0\n\ngoal (1 subgoal):\n 1. lw = lv", "using lv(1) LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>n. v n / real n) \\<longlonglongrightarrow> lw + 2 * C * 0\n  (\\<lambda>n. v n / real n) \\<longlonglongrightarrow> lv\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. lw = lv", "by auto"], ["proof (state)\nthis:\n  lw = lv\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "have *: \"u n/n = w n /n + C*(1/n)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. u n / real n = w n / real n + C * (1 / real n)", "unfolding w_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. u n / real n = (u n - C) / real n + C * (1 / real n)", "by (auto simp add: algebra_simps divide_simps)"], ["proof (state)\nthis:\n  u ?n / real ?n = w ?n / real ?n + C * (1 / real ?n)\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "have \"(\\<lambda>n. u n /n) \\<longlonglongrightarrow> lw + C*0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> lw + C * 0", "unfolding *"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. w n / real n + C * (1 / real n))\n    \\<longlonglongrightarrow> lw + C * 0", "by (intro tendsto_add tendsto_mult lim_1_over_n lw, auto)"], ["proof (state)\nthis:\n  (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> lw + C * 0\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> lw + C * 0", "have lu: \"convergent (\\<lambda>n. u n/n)\" \"lim (\\<lambda>n. u n/n) = lw\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. u n / real n) \\<longlonglongrightarrow> lw + C * 0\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. u n / real n) &&&\n    lim (\\<lambda>n. u n / real n) = lw", "by (auto simp add: convergentI limI)"], ["proof (state)\nthis:\n  convergent (\\<lambda>n. u n / real n)\n  lim (\\<lambda>n. u n / real n) = lw\n\ngoal (2 subgoals):\n 1. convergent (\\<lambda>n. u n / real n)\n 2. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "then"], ["proof (chain)\npicking this:\n  convergent (\\<lambda>n. u n / real n)\n  lim (\\<lambda>n. u n / real n) = lw", "show \"convergent (\\<lambda>n. u n/n)\""], ["proof (prove)\nusing this:\n  convergent (\\<lambda>n. u n / real n)\n  lim (\\<lambda>n. u n / real n) = lw\n\ngoal (1 subgoal):\n 1. convergent (\\<lambda>n. u n / real n)", "by simp"], ["proof (state)\nthis:\n  convergent (\\<lambda>n. u n / real n)\n\ngoal (1 subgoal):\n 1. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "show \"abs(u k - k * lim (\\<lambda>n. u n / n)) \\<le> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "proof (cases \"k>0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C\n 2. \\<not> 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "case False"], ["proof (state)\nthis:\n  \\<not> 0 < k\n\ngoal (2 subgoals):\n 1. 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C\n 2. \\<not> 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "then"], ["proof (chain)\npicking this:\n  \\<not> 0 < k", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> 0 < k\n\ngoal (1 subgoal):\n 1. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "using assms[of 0 0]"], ["proof (prove)\nusing this:\n  \\<not> 0 < k\n  \\<bar>u (0 + 0) - u 0 - u 0\\<bar> \\<le> C\n\ngoal (1 subgoal):\n 1. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "by auto"], ["proof (state)\nthis:\n  \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C\n\ngoal (1 subgoal):\n 1. 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "case True"], ["proof (state)\nthis:\n  0 < k\n\ngoal (1 subgoal):\n 1. 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "have \"u k - k * lim (\\<lambda>n. u n/n) = v k - C - k * lv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u k - real k * lim (\\<lambda>n. u n / real n) = v k - C - real k * lv", "unfolding lu(2) \\<open>lw = lv\\<close> v_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. u k - real k * lv = u k + C - C - real k * lv", "by auto"], ["proof (state)\nthis:\n  u k - real k * lim (\\<lambda>n. u n / real n) = v k - C - real k * lv\n\ngoal (1 subgoal):\n 1. 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "also"], ["proof (state)\nthis:\n  u k - real k * lim (\\<lambda>n. u n / real n) = v k - C - real k * lv\n\ngoal (1 subgoal):\n 1. 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "have \"... \\<ge> -C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - C \\<le> v k - C - real k * lv", "using lv(2)[OF True]"], ["proof (prove)\nusing this:\n  real k * lv \\<le> v k\n\ngoal (1 subgoal):\n 1. - C \\<le> v k - C - real k * lv", "by auto"], ["proof (state)\nthis:\n  - C \\<le> v k - C - real k * lv\n\ngoal (1 subgoal):\n 1. 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "finally"], ["proof (chain)\npicking this:\n  - C \\<le> u k - real k * lim (\\<lambda>n. u n / real n)", "have A: \"u k - k * lim (\\<lambda>n. u n/n) \\<ge> - C\""], ["proof (prove)\nusing this:\n  - C \\<le> u k - real k * lim (\\<lambda>n. u n / real n)\n\ngoal (1 subgoal):\n 1. - C \\<le> u k - real k * lim (\\<lambda>n. u n / real n)", "by simp"], ["proof (state)\nthis:\n  - C \\<le> u k - real k * lim (\\<lambda>n. u n / real n)\n\ngoal (1 subgoal):\n 1. 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "have \"u k - k * lim (\\<lambda>n. u n/n) = w k + C - k * lw\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u k - real k * lim (\\<lambda>n. u n / real n) = w k + C - real k * lw", "unfolding lu(2) w_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. u k - real k * lw = u k - C + C - real k * lw", "by auto"], ["proof (state)\nthis:\n  u k - real k * lim (\\<lambda>n. u n / real n) = w k + C - real k * lw\n\ngoal (1 subgoal):\n 1. 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "also"], ["proof (state)\nthis:\n  u k - real k * lim (\\<lambda>n. u n / real n) = w k + C - real k * lw\n\ngoal (1 subgoal):\n 1. 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "have \"... \\<le> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w k + C - real k * lw \\<le> C", "using lw(2)[OF True]"], ["proof (prove)\nusing this:\n  w k \\<le> real k * lw\n\ngoal (1 subgoal):\n 1. w k + C - real k * lw \\<le> C", "by auto"], ["proof (state)\nthis:\n  w k + C - real k * lw \\<le> C\n\ngoal (1 subgoal):\n 1. 0 < k \\<Longrightarrow>\n    \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "finally"], ["proof (chain)\npicking this:\n  u k - real k * lim (\\<lambda>n. u n / real n) \\<le> C", "show ?thesis"], ["proof (prove)\nusing this:\n  u k - real k * lim (\\<lambda>n. u n / real n) \\<le> C\n\ngoal (1 subgoal):\n 1. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "using A"], ["proof (prove)\nusing this:\n  u k - real k * lim (\\<lambda>n. u n / real n) \\<le> C\n  - C \\<le> u k - real k * lim (\\<lambda>n. u n / real n)\n\ngoal (1 subgoal):\n 1. \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C", "by auto"], ["proof (state)\nthis:\n  \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>u k - real k * lim (\\<lambda>n. u n / real n)\\<bar> \\<le> C\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Submultiplicative sequences, application to the spectral radius\\<close>"], ["", "text \\<open>In the same way as subadditive sequences, one may define submultiplicative sequences.\nEssentially, a sequence is submultiplicative if its logarithm is subadditive. A difference is\nthat we allow a submultiplicative sequence to take the value $0$, as this shows up in applications.\nThis implies that we have to distinguish in the proofs the situations where the value $0$\nis taken or not. In the latter situation, we can use directly the results from the\nsubadditive case to deduce convergence. In the former situation, convergence to $0$ is obvious\nas the sequence vanishes eventually.\\<close>"], ["", "lemma submultiplicative_converges:\n  fixes u::\"nat\\<Rightarrow>real\"\n  assumes \"\\<And>n. u n \\<ge> 0\"\n          \"\\<And>m n. u (m+n) \\<le> u m * u n\"\n  shows \"(\\<lambda>n. root n (u n))\\<longlonglongrightarrow> Inf {root n (u n) | n. n>0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "define v where \"v = (\\<lambda> n. root n (u n))\""], ["proof (state)\nthis:\n  v = (\\<lambda>n. root n (u n))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "define V where \"V = {v n | n. n>0}\""], ["proof (state)\nthis:\n  V = {v n |n. 0 < n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "then"], ["proof (chain)\npicking this:\n  V = {v n |n. 0 < n}", "have \"V \\<noteq> {}\""], ["proof (prove)\nusing this:\n  V = {v n |n. 0 < n}\n\ngoal (1 subgoal):\n 1. V \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  V \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "have \"t \\<ge> 0\" if \"t \\<in> V\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> t", "using that V_def v_def assms(1)"], ["proof (prove)\nusing this:\n  t \\<in> V\n  V = {v n |n. 0 < n}\n  v = (\\<lambda>n. root n (u n))\n  0 \\<le> u ?n\n\ngoal (1 subgoal):\n 1. 0 \\<le> t", "by auto"], ["proof (state)\nthis:\n  ?t \\<in> V \\<Longrightarrow> 0 \\<le> ?t\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "then"], ["proof (chain)\npicking this:\n  ?t \\<in> V \\<Longrightarrow> 0 \\<le> ?t", "have \"Inf V \\<ge> 0\""], ["proof (prove)\nusing this:\n  ?t \\<in> V \\<Longrightarrow> 0 \\<le> ?t\n\ngoal (1 subgoal):\n 1. 0 \\<le> Inf V", "by (simp add: \\<open>V \\<noteq> {}\\<close> cInf_greatest)"], ["proof (state)\nthis:\n  0 \\<le> Inf V\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "have \"bdd_below V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_below V", "by (meson \\<open>\\<And>t. t \\<in> V \\<Longrightarrow> 0 \\<le> t\\<close> bdd_below_def)"], ["proof (state)\nthis:\n  bdd_below V\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "assume \"\\<exists>n. u n = 0\""], ["proof (state)\nthis:\n  \\<exists>n. u n = 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "then"], ["proof (chain)\npicking this:\n  \\<exists>n. u n = 0", "obtain n where \"u n = 0\""], ["proof (prove)\nusing this:\n  \\<exists>n. u n = 0\n\ngoal (1 subgoal):\n 1. (\\<And>n. u n = 0 \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  u n = 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "then"], ["proof (chain)\npicking this:\n  u n = 0", "have \"u m = 0\" if \"m \\<ge> n\" for m"], ["proof (prove)\nusing this:\n  u n = 0\n\ngoal (1 subgoal):\n 1. u m = 0", "by (metis that antisym_conv assms(1) assms(2) le_Suc_ex mult_zero_left)"], ["proof (state)\nthis:\n  n \\<le> ?m \\<Longrightarrow> u ?m = 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "then"], ["proof (chain)\npicking this:\n  n \\<le> ?m \\<Longrightarrow> u ?m = 0", "have *: \"v m = 0\" if \"m \\<ge> n\" for m"], ["proof (prove)\nusing this:\n  n \\<le> ?m \\<Longrightarrow> u ?m = 0\n\ngoal (1 subgoal):\n 1. v m = 0", "using v_def that"], ["proof (prove)\nusing this:\n  n \\<le> ?m \\<Longrightarrow> u ?m = 0\n  v = (\\<lambda>n. root n (u n))\n  n \\<le> m\n\ngoal (1 subgoal):\n 1. v m = 0", "by simp"], ["proof (state)\nthis:\n  n \\<le> ?m \\<Longrightarrow> v ?m = 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "then"], ["proof (chain)\npicking this:\n  n \\<le> ?m \\<Longrightarrow> v ?m = 0", "have \"v \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  n \\<le> ?m \\<Longrightarrow> v ?m = 0\n\ngoal (1 subgoal):\n 1. v \\<longlonglongrightarrow> 0", "using lim_explicit"], ["proof (prove)\nusing this:\n  n \\<le> ?m \\<Longrightarrow> v ?m = 0\n  ?f \\<longlonglongrightarrow> ?f0.0 =\n  (\\<forall>S.\n      open S \\<longrightarrow>\n      ?f0.0 \\<in> S \\<longrightarrow>\n      (\\<exists>N. \\<forall>n\\<ge>N. ?f n \\<in> S))\n\ngoal (1 subgoal):\n 1. v \\<longlonglongrightarrow> 0", "by force"], ["proof (state)\nthis:\n  v \\<longlonglongrightarrow> 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "have \"v (Suc n) \\<in> V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v (Suc n) \\<in> V", "using V_def"], ["proof (prove)\nusing this:\n  V = {v n |n. 0 < n}\n\ngoal (1 subgoal):\n 1. v (Suc n) \\<in> V", "by blast"], ["proof (state)\nthis:\n  v (Suc n) \\<in> V\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "moreover"], ["proof (state)\nthis:\n  v (Suc n) \\<in> V\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "have \"v (Suc n) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v (Suc n) = 0", "using *"], ["proof (prove)\nusing this:\n  n \\<le> ?m \\<Longrightarrow> v ?m = 0\n\ngoal (1 subgoal):\n 1. v (Suc n) = 0", "by auto"], ["proof (state)\nthis:\n  v (Suc n) = 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "ultimately"], ["proof (chain)\npicking this:\n  v (Suc n) \\<in> V\n  v (Suc n) = 0", "have \"Inf V \\<le> 0\""], ["proof (prove)\nusing this:\n  v (Suc n) \\<in> V\n  v (Suc n) = 0\n\ngoal (1 subgoal):\n 1. Inf V \\<le> 0", "by (simp add: \\<open>bdd_below V\\<close> cInf_lower)"], ["proof (state)\nthis:\n  Inf V \\<le> 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "then"], ["proof (chain)\npicking this:\n  Inf V \\<le> 0", "have \"Inf V = 0\""], ["proof (prove)\nusing this:\n  Inf V \\<le> 0\n\ngoal (1 subgoal):\n 1. Inf V = 0", "using \\<open>0 \\<le> Inf V\\<close>"], ["proof (prove)\nusing this:\n  Inf V \\<le> 0\n  0 \\<le> Inf V\n\ngoal (1 subgoal):\n 1. Inf V = 0", "by auto"], ["proof (state)\nthis:\n  Inf V = 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "then"], ["proof (chain)\npicking this:\n  Inf V = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  Inf V = 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "using V_def v_def \\<open>v \\<longlonglongrightarrow> 0\\<close>"], ["proof (prove)\nusing this:\n  Inf V = 0\n  V = {v n |n. 0 < n}\n  v = (\\<lambda>n. root n (u n))\n  v \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. root n (u n))\n  \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n\ngoal (1 subgoal):\n 1. \\<nexists>n. u n = 0 \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>n. u n = 0 \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "assume \"\\<not> (\\<exists>n. u n = 0)\""], ["proof (state)\nthis:\n  \\<nexists>n. u n = 0\n\ngoal (1 subgoal):\n 1. \\<nexists>n. u n = 0 \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "then"], ["proof (chain)\npicking this:\n  \\<nexists>n. u n = 0", "have \"u n > 0\" for n"], ["proof (prove)\nusing this:\n  \\<nexists>n. u n = 0\n\ngoal (1 subgoal):\n 1. 0 < u n", "by (metis assms(1) less_eq_real_def)"], ["proof (state)\nthis:\n  0 < u ?n\n\ngoal (1 subgoal):\n 1. \\<nexists>n. u n = 0 \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "define w where \"w n = ln (u n)\" for n"], ["proof (state)\nthis:\n  w ?n = ln (u ?n)\n\ngoal (1 subgoal):\n 1. \\<nexists>n. u n = 0 \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "have express_vn: \"v n = exp(w n/n)\" if \"n>0\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. v n = exp (w n / real n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v n = exp (w n / real n)", "have \"(exp(w n/n))^n = exp(n*(w n/n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (w n / real n) ^ n = exp (real n * (w n / real n))", "by (metis exp_of_nat_mult)"], ["proof (state)\nthis:\n  exp (w n / real n) ^ n = exp (real n * (w n / real n))\n\ngoal (1 subgoal):\n 1. v n = exp (w n / real n)", "also"], ["proof (state)\nthis:\n  exp (w n / real n) ^ n = exp (real n * (w n / real n))\n\ngoal (1 subgoal):\n 1. v n = exp (w n / real n)", "have \"... = exp(w n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (real n * (w n / real n)) = exp (w n)", "by (simp add: \\<open>0 < n\\<close>)"], ["proof (state)\nthis:\n  exp (real n * (w n / real n)) = exp (w n)\n\ngoal (1 subgoal):\n 1. v n = exp (w n / real n)", "also"], ["proof (state)\nthis:\n  exp (real n * (w n / real n)) = exp (w n)\n\ngoal (1 subgoal):\n 1. v n = exp (w n / real n)", "have \"... = u n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (w n) = u n", "by (simp add: \\<open>\\<And>n. 0 < u n\\<close> w_def)"], ["proof (state)\nthis:\n  exp (w n) = u n\n\ngoal (1 subgoal):\n 1. v n = exp (w n / real n)", "finally"], ["proof (chain)\npicking this:\n  exp (w n / real n) ^ n = u n", "have \"exp(w n/n) = root n (u n)\""], ["proof (prove)\nusing this:\n  exp (w n / real n) ^ n = u n\n\ngoal (1 subgoal):\n 1. exp (w n / real n) = root n (u n)", "by (metis \\<open>0 < n\\<close> exp_ge_zero real_root_power_cancel)"], ["proof (state)\nthis:\n  exp (w n / real n) = root n (u n)\n\ngoal (1 subgoal):\n 1. v n = exp (w n / real n)", "then"], ["proof (chain)\npicking this:\n  exp (w n / real n) = root n (u n)", "show ?thesis"], ["proof (prove)\nusing this:\n  exp (w n / real n) = root n (u n)\n\ngoal (1 subgoal):\n 1. v n = exp (w n / real n)", "unfolding v_def"], ["proof (prove)\nusing this:\n  exp (w n / real n) = root n (u n)\n\ngoal (1 subgoal):\n 1. root n (u n) = exp (w n / real n)", "by simp"], ["proof (state)\nthis:\n  v n = exp (w n / real n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?n \\<Longrightarrow> v ?n = exp (w ?n / real ?n)\n\ngoal (1 subgoal):\n 1. \\<nexists>n. u n = 0 \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "have \"eventually_subadditive w 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually_subadditive w 0", "proof (rule eventually_subadditiveI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m n.\n       \\<lbrakk>0 < m; 0 < n\\<rbrakk>\n       \\<Longrightarrow> w (m + n) \\<le> w m + w n", "fix m n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m n.\n       \\<lbrakk>0 < m; 0 < n\\<rbrakk>\n       \\<Longrightarrow> w (m + n) \\<le> w m + w n", "have \"w (m+n) = ln (u (m+n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w (m + n) = ln (u (m + n))", "by (simp add: w_def)"], ["proof (state)\nthis:\n  w (m + n) = ln (u (m + n))\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       \\<lbrakk>0 < m; 0 < n\\<rbrakk>\n       \\<Longrightarrow> w (m + n) \\<le> w m + w n", "also"], ["proof (state)\nthis:\n  w (m + n) = ln (u (m + n))\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       \\<lbrakk>0 < m; 0 < n\\<rbrakk>\n       \\<Longrightarrow> w (m + n) \\<le> w m + w n", "have \"... \\<le> ln(u m * u n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ln (u (m + n)) \\<le> ln (u m * u n)", "by (meson \\<open>\\<And>n. 0 < u n\\<close> assms(2) zero_less_mult_iff ln_le_cancel_iff)"], ["proof (state)\nthis:\n  ln (u (m + n)) \\<le> ln (u m * u n)\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       \\<lbrakk>0 < m; 0 < n\\<rbrakk>\n       \\<Longrightarrow> w (m + n) \\<le> w m + w n", "also"], ["proof (state)\nthis:\n  ln (u (m + n)) \\<le> ln (u m * u n)\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       \\<lbrakk>0 < m; 0 < n\\<rbrakk>\n       \\<Longrightarrow> w (m + n) \\<le> w m + w n", "have \"... = ln(u m) + ln(u n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ln (u m * u n) = ln (u m) + ln (u n)", "by (simp add: \\<open>\\<And>n. 0 < u n\\<close> ln_mult)"], ["proof (state)\nthis:\n  ln (u m * u n) = ln (u m) + ln (u n)\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       \\<lbrakk>0 < m; 0 < n\\<rbrakk>\n       \\<Longrightarrow> w (m + n) \\<le> w m + w n", "also"], ["proof (state)\nthis:\n  ln (u m * u n) = ln (u m) + ln (u n)\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       \\<lbrakk>0 < m; 0 < n\\<rbrakk>\n       \\<Longrightarrow> w (m + n) \\<le> w m + w n", "have \"... = w m + w n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ln (u m) + ln (u n) = w m + w n", "by (simp add: w_def)"], ["proof (state)\nthis:\n  ln (u m) + ln (u n) = w m + w n\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       \\<lbrakk>0 < m; 0 < n\\<rbrakk>\n       \\<Longrightarrow> w (m + n) \\<le> w m + w n", "finally"], ["proof (chain)\npicking this:\n  w (m + n) \\<le> w m + w n", "show \"w (m+n) \\<le> w m + w n\""], ["proof (prove)\nusing this:\n  w (m + n) \\<le> w m + w n\n\ngoal (1 subgoal):\n 1. w (m + n) \\<le> w m + w n", "."], ["proof (state)\nthis:\n  w (m + n) \\<le> w m + w n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  eventually_subadditive w 0\n\ngoal (1 subgoal):\n 1. \\<nexists>n. u n = 0 \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "define l where \"l = Inf V\""], ["proof (state)\nthis:\n  l = Inf V\n\ngoal (1 subgoal):\n 1. \\<nexists>n. u n = 0 \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "then"], ["proof (chain)\npicking this:\n  l = Inf V", "have \"v n\\<ge>l\" if \"n > 0\" for n"], ["proof (prove)\nusing this:\n  l = Inf V\n\ngoal (1 subgoal):\n 1. l \\<le> v n", "using V_def that"], ["proof (prove)\nusing this:\n  l = Inf V\n  V = {v n |n. 0 < n}\n  0 < n\n\ngoal (1 subgoal):\n 1. l \\<le> v n", "by (metis (mono_tags, lifting) \\<open>bdd_below V\\<close> cInf_lower mem_Collect_eq)"], ["proof (state)\nthis:\n  0 < ?n \\<Longrightarrow> l \\<le> v ?n\n\ngoal (1 subgoal):\n 1. \\<nexists>n. u n = 0 \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "then"], ["proof (chain)\npicking this:\n  0 < ?n \\<Longrightarrow> l \\<le> v ?n", "have lower: \"eventually (\\<lambda>n. a < v n) sequentially\" if \"a < l\" for a"], ["proof (prove)\nusing this:\n  0 < ?n \\<Longrightarrow> l \\<le> v ?n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. a < v n", "by (meson that dual_order.strict_trans1 eventually_at_top_dense)"], ["proof (state)\nthis:\n  ?a < l \\<Longrightarrow> \\<forall>\\<^sub>F n in sequentially. ?a < v n\n\ngoal (1 subgoal):\n 1. \\<nexists>n. u n = 0 \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "have upper: \"eventually (\\<lambda>n. a > v n) sequentially\" if \"a > l\" for a"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "obtain t where \"t\\<in>V\" \"t < a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<in> V; t < a\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>V \\<noteq> {}\\<close> cInf_lessD l_def \\<open>a>l\\<close>"], ["proof (prove)\nusing this:\n  V \\<noteq> {}\n  \\<lbrakk>?X \\<noteq> {}; Inf ?X < ?z\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x\\<in>?X. x < ?z\n  l = Inf V\n  l < a\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<in> V; t < a\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  t \\<in> V\n  t < a\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "then"], ["proof (chain)\npicking this:\n  t \\<in> V\n  t < a", "have \"t > 0\""], ["proof (prove)\nusing this:\n  t \\<in> V\n  t < a\n\ngoal (1 subgoal):\n 1. 0 < t", "using V_def \\<open>\\<And>n. 0 < u n\\<close> v_def"], ["proof (prove)\nusing this:\n  t \\<in> V\n  t < a\n  V = {v n |n. 0 < n}\n  0 < u ?n\n  v = (\\<lambda>n. root n (u n))\n\ngoal (1 subgoal):\n 1. 0 < t", "by auto"], ["proof (state)\nthis:\n  0 < t\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "then"], ["proof (chain)\npicking this:\n  0 < t", "have \"a/t > 1\""], ["proof (prove)\nusing this:\n  0 < t\n\ngoal (1 subgoal):\n 1. 1 < a / t", "using \\<open>t<a\\<close>"], ["proof (prove)\nusing this:\n  0 < t\n  t < a\n\ngoal (1 subgoal):\n 1. 1 < a / t", "by simp"], ["proof (state)\nthis:\n  1 < a / t\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "define e where \"e = ln(a/t)/2\""], ["proof (state)\nthis:\n  e = ln (a / t) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "have \"e > 0\" \"e < ln(a/t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < e &&& e < ln (a / t)", "unfolding e_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < ln (a / t) / 2 &&& ln (a / t) / 2 < ln (a / t)", "by (simp_all add: \\<open>1 < a / t\\<close> ln_gt_zero)"], ["proof (state)\nthis:\n  0 < e\n  e < ln (a / t)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "then"], ["proof (chain)\npicking this:\n  0 < e\n  e < ln (a / t)", "have \"exp(e) < a/t\""], ["proof (prove)\nusing this:\n  0 < e\n  e < ln (a / t)\n\ngoal (1 subgoal):\n 1. exp e < a / t", "by (metis \\<open>1 < a / t\\<close> exp_less_cancel_iff exp_ln less_trans zero_less_one)"], ["proof (state)\nthis:\n  exp e < a / t\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "obtain n where \"n>0\" \"t = v n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>n.\n        \\<lbrakk>0 < n; t = v n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using V_def v_def \\<open>t \\<in> V\\<close>"], ["proof (prove)\nusing this:\n  V = {v n |n. 0 < n}\n  v = (\\<lambda>n. root n (u n))\n  t \\<in> V\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        \\<lbrakk>0 < n; t = v n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  0 < n\n  t = v n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "with \\<open>0 < t\\<close>"], ["proof (chain)\npicking this:\n  0 < t\n  0 < n\n  t = v n", "have \"v n * exp(e) < a\""], ["proof (prove)\nusing this:\n  0 < t\n  0 < n\n  t = v n\n\ngoal (1 subgoal):\n 1. v n * exp e < a", "using \\<open>exp(e) < a/t\\<close>"], ["proof (prove)\nusing this:\n  0 < t\n  0 < n\n  t = v n\n  exp e < a / t\n\ngoal (1 subgoal):\n 1. v n * exp e < a", "by (auto simp add: field_simps)"], ["proof (state)\nthis:\n  v n * exp e < a\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "obtain N where *: \"N>0\" \"\\<And>m. m\\<ge>N \\<Longrightarrow> w m/m < w n/n + e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>0 < N;\n         \\<And>m.\n            N \\<le> m \\<Longrightarrow>\n            w m / real m < w n / real n + e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using eventually_subadditive_ineq[OF \\<open>eventually_subadditive w 0\\<close>] \\<open>0 < n\\<close> \\<open>e>0\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?e; 0 < ?n\\<rbrakk>\n  \\<Longrightarrow> \\<exists>N>0.\n                       \\<forall>m\\<ge>N. w m / real m < w ?n / real ?n + ?e\n  0 < n\n  0 < e\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>0 < N;\n         \\<And>m.\n            N \\<le> m \\<Longrightarrow>\n            w m / real m < w n / real n + e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  0 < N\n  N \\<le> ?m \\<Longrightarrow> w ?m / real ?m < w n / real n + e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "have \"v m < a\" if \"m \\<ge> N\" for m"], ["proof (prove)\ngoal (1 subgoal):\n 1. v m < a", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v m < a", "have \"m>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < m", "using that \\<open>N>0\\<close>"], ["proof (prove)\nusing this:\n  N \\<le> m\n  0 < N\n\ngoal (1 subgoal):\n 1. 0 < m", "by simp"], ["proof (state)\nthis:\n  0 < m\n\ngoal (1 subgoal):\n 1. v m < a", "have \"w m/m < w n/n + e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w m / real m < w n / real n + e", "by (simp add: \\<open>N \\<le> m\\<close> *)"], ["proof (state)\nthis:\n  w m / real m < w n / real n + e\n\ngoal (1 subgoal):\n 1. v m < a", "then"], ["proof (chain)\npicking this:\n  w m / real m < w n / real n + e", "have \"exp(w m/m) < exp(w n/n + e)\""], ["proof (prove)\nusing this:\n  w m / real m < w n / real n + e\n\ngoal (1 subgoal):\n 1. exp (w m / real m) < exp (w n / real n + e)", "by simp"], ["proof (state)\nthis:\n  exp (w m / real m) < exp (w n / real n + e)\n\ngoal (1 subgoal):\n 1. v m < a", "also"], ["proof (state)\nthis:\n  exp (w m / real m) < exp (w n / real n + e)\n\ngoal (1 subgoal):\n 1. v m < a", "have \"... = exp(w n/n) * exp(e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (w n / real n + e) = exp (w n / real n) * exp e", "by (simp add: mult_exp_exp)"], ["proof (state)\nthis:\n  exp (w n / real n + e) = exp (w n / real n) * exp e\n\ngoal (1 subgoal):\n 1. v m < a", "finally"], ["proof (chain)\npicking this:\n  exp (w m / real m) < exp (w n / real n) * exp e", "have \"v m < v n * exp(e)\""], ["proof (prove)\nusing this:\n  exp (w m / real m) < exp (w n / real n) * exp e\n\ngoal (1 subgoal):\n 1. v m < v n * exp e", "using express_vn \\<open>m>0\\<close> \\<open>n>0\\<close>"], ["proof (prove)\nusing this:\n  exp (w m / real m) < exp (w n / real n) * exp e\n  0 < ?n \\<Longrightarrow> v ?n = exp (w ?n / real ?n)\n  0 < m\n  0 < n\n\ngoal (1 subgoal):\n 1. v m < v n * exp e", "by simp"], ["proof (state)\nthis:\n  v m < v n * exp e\n\ngoal (1 subgoal):\n 1. v m < a", "then"], ["proof (chain)\npicking this:\n  v m < v n * exp e", "show \"v m < a\""], ["proof (prove)\nusing this:\n  v m < v n * exp e\n\ngoal (1 subgoal):\n 1. v m < a", "using \\<open>v n * exp(e) < a\\<close>"], ["proof (prove)\nusing this:\n  v m < v n * exp e\n  v n * exp e < a\n\ngoal (1 subgoal):\n 1. v m < a", "by simp"], ["proof (state)\nthis:\n  v m < a\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  N \\<le> ?m \\<Longrightarrow> v ?m < a\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "then"], ["proof (chain)\npicking this:\n  N \\<le> ?m \\<Longrightarrow> v ?m < a", "show ?thesis"], ["proof (prove)\nusing this:\n  N \\<le> ?m \\<Longrightarrow> v ?m < a\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "using eventually_at_top_linorder"], ["proof (prove)\nusing this:\n  N \\<le> ?m \\<Longrightarrow> v ?m < a\n  eventually ?P at_top = (\\<exists>N. \\<forall>n\\<ge>N. ?P n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. v n < a", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. v n < a\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  l < ?a \\<Longrightarrow> \\<forall>\\<^sub>F n in sequentially. v n < ?a\n\ngoal (1 subgoal):\n 1. \\<nexists>n. u n = 0 \\<Longrightarrow>\n    (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "using lower upper"], ["proof (prove)\nusing this:\n  ?a < l \\<Longrightarrow> \\<forall>\\<^sub>F n in sequentially. ?a < v n\n  l < ?a \\<Longrightarrow> \\<forall>\\<^sub>F n in sequentially. v n < ?a\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "unfolding v_def l_def V_def"], ["proof (prove)\nusing this:\n  ?a < Inf {root n (u n) |n. 0 < n} \\<Longrightarrow>\n  \\<forall>\\<^sub>F n in sequentially. ?a < root n (u n)\n  Inf {root n (u n) |n. 0 < n} < ?a \\<Longrightarrow>\n  \\<forall>\\<^sub>F n in sequentially. root n (u n) < ?a\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (u n))\n    \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}", "by (simp add: order_tendsto_iff)"], ["proof (state)\nthis:\n  (\\<lambda>n. root n (u n))\n  \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>n. root n (u n))\n  \\<longlonglongrightarrow> Inf {root n (u n) |n. 0 < n}\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>An important application of submultiplicativity is to prove the existence of the\nspectral radius of a matrix, as the limit of $\\|A^n\\|^{1/n}$.\\<close>"], ["", "definition spectral_radius::\"'a::real_normed_algebra_1 \\<Rightarrow> real\"\n  where \"spectral_radius x = Inf {root n (norm(x^n))| n. n>0}\""], ["", "lemma spectral_radius_aux:\n  fixes x::\"'a::real_normed_algebra_1\"\n  defines \"V \\<equiv> {root n (norm(x^n))| n. n>0}\"\n  shows \"\\<And>t. t\\<in>V \\<Longrightarrow> t \\<ge> spectral_radius x\"\n        \"\\<And>t. t\\<in>V \\<Longrightarrow> t \\<ge> 0\"\n        \"bdd_below V\"\n        \"V \\<noteq> {}\"\n        \"Inf V \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>t. t \\<in> V \\<Longrightarrow> spectral_radius x \\<le> t) &&&\n     (\\<And>t. t \\<in> V \\<Longrightarrow> 0 \\<le> t)) &&&\n    bdd_below V &&& V \\<noteq> {} &&& 0 \\<le> Inf V", "proof -"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>t. t \\<in> V \\<Longrightarrow> spectral_radius x \\<le> t\n 2. \\<And>t. t \\<in> V \\<Longrightarrow> 0 \\<le> t\n 3. bdd_below V\n 4. V \\<noteq> {}\n 5. 0 \\<le> Inf V", "show \"V\\<noteq>{}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. V \\<noteq> {}", "using V_def"], ["proof (prove)\nusing this:\n  V \\<equiv> {root n (norm (x ^ n)) |n. 0 < n}\n\ngoal (1 subgoal):\n 1. V \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  V \\<noteq> {}\n\ngoal (4 subgoals):\n 1. \\<And>t. t \\<in> V \\<Longrightarrow> spectral_radius x \\<le> t\n 2. \\<And>t. t \\<in> V \\<Longrightarrow> 0 \\<le> t\n 3. bdd_below V\n 4. 0 \\<le> Inf V", "show *: \"t \\<ge> 0\" if \"t \\<in> V\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> t", "using that"], ["proof (prove)\nusing this:\n  t \\<in> V\n\ngoal (1 subgoal):\n 1. 0 \\<le> t", "unfolding V_def"], ["proof (prove)\nusing this:\n  t \\<in> {root n (norm (x ^ n)) |n. 0 < n}\n\ngoal (1 subgoal):\n 1. 0 \\<le> t", "using real_root_pos_pos_le"], ["proof (prove)\nusing this:\n  t \\<in> {root n (norm (x ^ n)) |n. 0 < n}\n  0 \\<le> ?x \\<Longrightarrow> 0 \\<le> root ?n ?x\n\ngoal (1 subgoal):\n 1. 0 \\<le> t", "by auto"], ["proof (state)\nthis:\n  ?t \\<in> V \\<Longrightarrow> 0 \\<le> ?t\n\ngoal (3 subgoals):\n 1. \\<And>t. t \\<in> V \\<Longrightarrow> spectral_radius x \\<le> t\n 2. bdd_below V\n 3. 0 \\<le> Inf V", "then"], ["proof (chain)\npicking this:\n  ?t \\<in> V \\<Longrightarrow> 0 \\<le> ?t", "show \"bdd_below V\""], ["proof (prove)\nusing this:\n  ?t \\<in> V \\<Longrightarrow> 0 \\<le> ?t\n\ngoal (1 subgoal):\n 1. bdd_below V", "by (meson bdd_below_def)"], ["proof (state)\nthis:\n  bdd_below V\n\ngoal (2 subgoals):\n 1. \\<And>t. t \\<in> V \\<Longrightarrow> spectral_radius x \\<le> t\n 2. 0 \\<le> Inf V", "then"], ["proof (chain)\npicking this:\n  bdd_below V", "show \"Inf V \\<ge> 0\""], ["proof (prove)\nusing this:\n  bdd_below V\n\ngoal (1 subgoal):\n 1. 0 \\<le> Inf V", "by (simp add: \\<open>V \\<noteq> {}\\<close> * cInf_greatest)"], ["proof (state)\nthis:\n  0 \\<le> Inf V\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> V \\<Longrightarrow> spectral_radius x \\<le> t", "show \"\\<And>t. t\\<in>V \\<Longrightarrow> t \\<ge> spectral_radius x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> V \\<Longrightarrow> spectral_radius x \\<le> t", "by (metis (mono_tags, lifting) \\<open>bdd_below V\\<close> assms cInf_lower spectral_radius_def)"], ["proof (state)\nthis:\n  ?t \\<in> V \\<Longrightarrow> spectral_radius x \\<le> ?t\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma spectral_radius_nonneg [simp]:\n  \"spectral_radius x \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> spectral_radius x", "by (simp add: spectral_radius_aux(5) spectral_radius_def)"], ["", "lemma spectral_radius_upper_bound [simp]:\n  \"(spectral_radius x)^n \\<le> norm(x^n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. spectral_radius x ^ n \\<le> norm (x ^ n)", "proof (cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> spectral_radius x ^ n \\<le> norm (x ^ n)\n 2. \\<not> ?P \\<Longrightarrow> spectral_radius x ^ n \\<le> norm (x ^ n)", "assume \"\\<not>(n = 0)\""], ["proof (state)\nthis:\n  n \\<noteq> 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> spectral_radius x ^ n \\<le> norm (x ^ n)\n 2. \\<not> ?P \\<Longrightarrow> spectral_radius x ^ n \\<le> norm (x ^ n)", "have \"root n (norm(x^n)) \\<ge> spectral_radius x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. spectral_radius x \\<le> root n (norm (x ^ n))", "using spectral_radius_aux \\<open>n \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  ?t \\<in> {root n (norm (?x ^ n)) |n. 0 < n} \\<Longrightarrow>\n  spectral_radius ?x \\<le> ?t\n  ?t \\<in> {root n (norm (?x ^ n)) |n. 0 < n} \\<Longrightarrow> 0 \\<le> ?t\n  bdd_below {root n (norm (?x ^ n)) |n. 0 < n}\n  {root n (norm (?x ^ n)) |n. 0 < n} \\<noteq> {}\n  0 \\<le> Inf {root n (norm (?x ^ n)) |n. 0 < n}\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. spectral_radius x \\<le> root n (norm (x ^ n))", "by auto"], ["proof (state)\nthis:\n  spectral_radius x \\<le> root n (norm (x ^ n))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> spectral_radius x ^ n \\<le> norm (x ^ n)\n 2. \\<not> ?P \\<Longrightarrow> spectral_radius x ^ n \\<le> norm (x ^ n)", "then"], ["proof (chain)\npicking this:\n  spectral_radius x \\<le> root n (norm (x ^ n))", "show ?thesis"], ["proof (prove)\nusing this:\n  spectral_radius x \\<le> root n (norm (x ^ n))\n\ngoal (1 subgoal):\n 1. spectral_radius x ^ n \\<le> norm (x ^ n)", "by (metis \\<open>n \\<noteq> 0\\<close> spectral_radius_nonneg norm_ge_zero not_gr0 power_mono real_root_pow_pos2)"], ["proof (state)\nthis:\n  spectral_radius x ^ n \\<le> norm (x ^ n)\n\ngoal (1 subgoal):\n 1. \\<not> n \\<noteq> 0 \\<Longrightarrow>\n    spectral_radius x ^ n \\<le> norm (x ^ n)", "qed (simp)"], ["", "lemma spectral_radius_limit:\n  \"(\\<lambda>n. root n (norm(x^n))) \\<longlonglongrightarrow> spectral_radius x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (norm (x ^ n)))\n    \\<longlonglongrightarrow> spectral_radius x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (norm (x ^ n)))\n    \\<longlonglongrightarrow> spectral_radius x", "have \"norm(x^(m+n)) \\<le> norm(x^m) * norm(x^n)\" for m n"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (x ^ (m + n)) \\<le> norm (x ^ m) * norm (x ^ n)", "by (simp add: power_add norm_mult_ineq)"], ["proof (state)\nthis:\n  norm (x ^ (?m + ?n)) \\<le> norm (x ^ ?m) * norm (x ^ ?n)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (norm (x ^ n)))\n    \\<longlonglongrightarrow> spectral_radius x", "then"], ["proof (chain)\npicking this:\n  norm (x ^ (?m + ?n)) \\<le> norm (x ^ ?m) * norm (x ^ ?n)", "show ?thesis"], ["proof (prove)\nusing this:\n  norm (x ^ (?m + ?n)) \\<le> norm (x ^ ?m) * norm (x ^ ?n)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (norm (x ^ n)))\n    \\<longlonglongrightarrow> spectral_radius x", "unfolding spectral_radius_def"], ["proof (prove)\nusing this:\n  norm (x ^ (?m + ?n)) \\<le> norm (x ^ ?m) * norm (x ^ ?n)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (norm (x ^ n)))\n    \\<longlonglongrightarrow> Inf {root n (norm (x ^ n)) |n. 0 < n}", "using submultiplicative_converges"], ["proof (prove)\nusing this:\n  norm (x ^ (?m + ?n)) \\<le> norm (x ^ ?m) * norm (x ^ ?n)\n  \\<lbrakk>\\<And>n. 0 \\<le> ?u n;\n   \\<And>m n. ?u (m + n) \\<le> ?u m * ?u n\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. root n (?u n))\n                    \\<longlonglongrightarrow> Inf {root n (?u n) |n. 0 < n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. root n (norm (x ^ n)))\n    \\<longlonglongrightarrow> Inf {root n (norm (x ^ n)) |n. 0 < n}", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. root n (norm (x ^ n)))\n  \\<longlonglongrightarrow> spectral_radius x\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "(*of Fekete.thy*)"]]}