{"file_name": "/home/qj213/afp-2021-10-22/thys/Ergodic_Theory/Kingman.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Ergodic_Theory", "problem_names": ["lemma subcocycle_ineq:\n  assumes \"subcocycle u\"\n  shows \"u (n+m) x \\<le> u n x + u m ((T^^n) x)\"", "lemma subcocycle_0_nonneg:\n  assumes \"subcocycle u\"\n  shows \"u 0 x \\<ge> 0\"", "lemma subcocycle_integrable:\n  assumes \"subcocycle u\"\n  shows \"integrable M (u n)\"\n        \"u n \\<in> borel_measurable M\"", "lemma subcocycle_birkhoff:\n  assumes \"integrable M f\"\n  shows \"subcocycle (birkhoff_sum f)\"", "lemma subcocycle_add:\n  assumes \"subcocycle u\" \"subcocycle v\"\n  shows \"subcocycle (\\<lambda>n x. u n x + v n x)\"", "lemma subcocycle_cmult:\n  assumes \"subcocycle u\" \"c \\<ge> 0\"\n  shows \"subcocycle (\\<lambda>n x. c * u n x)\"", "lemma subcocycle_max:\n  assumes \"subcocycle u\" \"subcocycle v\"\n  shows \"subcocycle (\\<lambda>n x. max (u n x) (v n x))\"", "lemma subcocycle_bounded_by_birkhoff1:\n  assumes \"subcocycle u\" \"n > 0\"\n  shows \"u n x \\<le> birkhoff_sum (u 1) n x\"", "lemma subcocycle_bounded_by_birkhoffN:\n  assumes \"subcocycle u\" \"n > 2*N\" \"N>0\"\n  shows \"u n x \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x\n                + (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n                + 2 * (\\<Sum>i<2*N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)\"", "lemma integrable_v:\n  \"integrable M (v n)\" for n", "lemma u_eq_v_AE:\n  \"AE x in M. v n x = u n x\" for n", "lemma subcocycle_v:\n  \"v (n+m) x \\<le> v n x + v m ((T^^n) x)\"", "lemma subcocycle_AE_in_context:\n  \"\\<exists>w. subcocycle w \\<and> (AE x in M. \\<forall>n. w n x = u n x)\"", "lemma subcocycle_AE:\n  fixes u::\"nat \\<Rightarrow> 'a \\<Rightarrow> real\"\n  assumes \"\\<And>m n. AE x in M. u (n+m) x \\<le> u n x + u m ((T^^n) x)\"\n          \"\\<And>n. integrable M (u n)\"\n  shows \"\\<exists>w. subcocycle w \\<and> (AE x in M. \\<forall>n. w n x = u n x)\"", "lemma subcocycle_avg_finite:\n  \"subcocycle_avg_ereal u < \\<infinity>\"", "lemma subcocycle_avg_subadditive:\n  assumes \"subcocycle u\"\n  shows \"subadditive (\\<lambda>n. (\\<integral>x. u n x \\<partial>M))\"", "lemma subcocycle_int_tendsto_avg_ereal:\n  assumes \"subcocycle u\"\n  shows \"(\\<lambda>n. (\\<integral>x. u n x / n \\<partial>M)) \\<longlonglongrightarrow> subcocycle_avg_ereal u\"", "lemma subcocycle_avg_ereal_add:\n  assumes \"subcocycle u\" \"subcocycle v\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) = subcocycle_avg_ereal u + subcocycle_avg_ereal v\"", "lemma subcocycle_avg_ereal_cmult:\n  assumes \"subcocycle u\" \"c \\<ge> (0::real)\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. c * u n x) = c * subcocycle_avg_ereal u\"", "lemma subcocycle_avg_ereal_max:\n  assumes \"subcocycle u\" \"subcocycle v\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x)) \\<ge> max (subcocycle_avg_ereal u) (subcocycle_avg_ereal v)\"", "lemma subcocycle_avg_ereal_birkhoff:\n  assumes \"integrable M u\"\n  shows \"subcocycle_avg_ereal (birkhoff_sum u) = (\\<integral>x. u x \\<partial>M)\"", "lemma subcocycle_avg_real_ereal:\n  assumes \"subcocycle_avg_ereal u > - \\<infinity>\"\n  shows \"subcocycle_avg_ereal u = ereal(subcocycle_avg u)\"", "lemma subcocycle_int_tendsto_avg:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > - \\<infinity>\"\n  shows \"(\\<lambda>n. (\\<integral>x. u n x / n \\<partial>M)) \\<longlonglongrightarrow> subcocycle_avg u\"", "lemma subcocycle_avg_add:\n  assumes \"subcocycle u\" \"subcocycle v\" \"subcocycle_avg_ereal u > - \\<infinity>\" \"subcocycle_avg_ereal v > - \\<infinity>\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) > -\\<infinity>\"\n        \"subcocycle_avg (\\<lambda>n x. u n x + v n x) = subcocycle_avg u + subcocycle_avg v\"", "lemma subcocycle_avg_cmult:\n  assumes \"subcocycle u\" \"c \\<ge> (0::real)\" \"subcocycle_avg_ereal u > - \\<infinity>\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. c * u n x) > - \\<infinity>\"\n        \"subcocycle_avg (\\<lambda>n x. c * u n x) = c * subcocycle_avg u\"", "lemma subcocycle_avg_max:\n  assumes \"subcocycle u\" \"subcocycle v\" \"subcocycle_avg_ereal u > - \\<infinity>\" \"subcocycle_avg_ereal v > - \\<infinity>\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x)) > -\\<infinity>\"\n        \"subcocycle_avg (\\<lambda>n x. max (u n x) (v n x)) \\<ge> max (subcocycle_avg u) (subcocycle_avg v)\"", "lemma subcocycle_avg_birkhoff:\n  assumes \"integrable M u\"\n  shows \"subcocycle_avg_ereal (birkhoff_sum u) > - \\<infinity>\"\n        \"subcocycle_avg (birkhoff_sum u) = (\\<integral>x. u x \\<partial>M)\"", "lemma kingman_theorem_AE_aux1:\n  assumes \"subcocycle u\"\n          \"\\<And>x. u 1 x \\<le> 0\"\n  shows \"\\<exists>(g::'a\\<Rightarrow>ereal). (g\\<in>borel_measurable Invariants \\<and> (\\<forall>x. g x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x))\"", "theorem kingman_theorem_AE_aux2:\n  assumes \"subcocycle u\"\n  shows \"\\<exists>(g::'a\\<Rightarrow>ereal). (g\\<in>borel_measurable Invariants \\<and> (\\<forall>x. g x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x))\"", "lemma subcocycle_lim_meas_Inv [measurable]:\n  \"subcocycle_lim_ereal u \\<in> borel_measurable Invariants\"\n  \"subcocycle_lim u \\<in> borel_measurable Invariants\"", "lemma subcocycle_lim_meas [measurable]:\n  \"subcocycle_lim_ereal u \\<in> borel_measurable M\"\n  \"subcocycle_lim u \\<in> borel_measurable M\"", "lemma subcocycle_lim_ereal_not_PInf:\n  \"subcocycle_lim_ereal u x < \\<infinity>\"", "theorem kingman_theorem_AE_nonergodic_ereal:\n  assumes \"subcocycle u\"\n  shows \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\"", "lemma subcocycle_lim_ereal_add:\n  assumes \"subcocycle u\" \"subcocycle v\"\n  shows \"AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x = subcocycle_lim_ereal u x + subcocycle_lim_ereal v x\"", "lemma subcocycle_lim_ereal_cmult:\n  assumes \"subcocycle u\" \"c\\<ge>(0::real)\"\n  shows \"AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x = c * subcocycle_lim_ereal u x\"", "lemma subcocycle_lim_ereal_max:\n  assumes \"subcocycle u\" \"subcocycle v\"\n  shows \"AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x\n                    = max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\"", "lemma subcocycle_lim_ereal_birkhoff:\n  assumes \"integrable M u\"\n  shows \"AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x = ereal(real_cond_exp M Invariants u x)\"", "lemma subcocycle_lim_ereal_atmost_uN_invariants:\n  assumes \"subcocycle u\" \"N>(0::nat)\"\n  shows \"AE x in M. subcocycle_lim_ereal u x \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\"", "lemma kingman_theorem_L1_aux:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\" \"\\<And>x. u 1 x \\<le> 0\"\n  shows \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\"\n        \"integrable M (subcocycle_lim u)\"\n        \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(u n x / n - subcocycle_lim u x) \\<partial>M)) \\<longlonglongrightarrow> 0\"", "theorem kingman_theorem_nonergodic:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\"\n  shows \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\"\n        \"integrable M (subcocycle_lim u)\"\n        \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(u n x / n - subcocycle_lim u x) \\<partial>M)) \\<longlonglongrightarrow> 0\"", "lemma subcocycle_lim_avg:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\"\n  shows \"(\\<integral>x. subcocycle_lim u x \\<partial>M) = subcocycle_avg u\"", "lemma subcocycle_lim_real_ereal:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\"\n  shows \"AE x in M. subcocycle_lim_ereal u x = ereal(subcocycle_lim u x)\"", "lemma subcocycle_lim_add:\n  assumes \"subcocycle u\" \"subcocycle v\" \"subcocycle_avg_ereal u > -\\<infinity>\" \"subcocycle_avg_ereal v > -\\<infinity>\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) > - \\<infinity>\"\n        \"AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x = subcocycle_lim u x + subcocycle_lim v x\"", "lemma subcocycle_lim_cmult:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\" \"c\\<ge>(0::real)\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. c * u n x) > - \\<infinity>\"\n        \"AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x = c * subcocycle_lim u x\"", "lemma subcocycle_lim_max:\n  assumes \"subcocycle u\" \"subcocycle v\" \"subcocycle_avg_ereal u > -\\<infinity>\" \"subcocycle_avg_ereal v > -\\<infinity>\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x)) > - \\<infinity>\"\n        \"AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x = max (subcocycle_lim u x) (subcocycle_lim v x)\"", "lemma subcocycle_lim_birkhoff:\n  assumes \"integrable M u\"\n  shows \"subcocycle_avg_ereal (birkhoff_sum u) > -\\<infinity>\"\n        \"AE x in M. subcocycle_lim (birkhoff_sum u) x = real_cond_exp M Invariants u x\"", "theorem kingman_theorem_nonergodic_invariant:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\"\n  shows \"AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<longlonglongrightarrow> subcocycle_lim u x\"\n        \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(real_cond_exp M Invariants (u n) x / n - subcocycle_lim u x) \\<partial>M)) \\<longlonglongrightarrow> 0\"", "theorem kingman_theorem_AE_nonergodic_invariant_ereal:\n  assumes \"subcocycle u\"\n  shows \"AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\"", "lemma subcocycle_ergodic_lim_avg:\n  assumes \"subcocycle u\"\n  shows \"AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u\"\n        \"AE x in M. subcocycle_lim u x = subcocycle_avg u\"", "theorem kingman_theorem_AE_ereal:\n  assumes \"subcocycle u\"\n  shows \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_avg_ereal u\"", "theorem kingman_theorem:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\"\n  shows \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_avg u\"\n        \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(u n x / n - subcocycle_avg u) \\<partial>M)) \\<longlonglongrightarrow> 0\""], "translations": [["", "lemma subcocycle_ineq:\n  assumes \"subcocycle u\"\n  shows \"u (n+m) x \\<le> u n x + u m ((T^^n) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "by blast"], ["", "lemma subcocycle_0_nonneg:\n  assumes \"subcocycle u\"\n  shows \"u 0 x \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> u 0 x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 \\<le> u 0 x", "have \"u (0+0) x \\<le> u 0 x + u 0 ((T^^0) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (0 + 0) x \\<le> u 0 x + u 0 ((T ^^ 0) x)", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. u (0 + 0) x \\<le> u 0 x + u 0 ((T ^^ 0) x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. u (0 + 0) x \\<le> u 0 x + u 0 ((T ^^ 0) x)", "by blast"], ["proof (state)\nthis:\n  u (0 + 0) x \\<le> u 0 x + u 0 ((T ^^ 0) x)\n\ngoal (1 subgoal):\n 1. 0 \\<le> u 0 x", "then"], ["proof (chain)\npicking this:\n  u (0 + 0) x \\<le> u 0 x + u 0 ((T ^^ 0) x)", "show ?thesis"], ["proof (prove)\nusing this:\n  u (0 + 0) x \\<le> u 0 x + u 0 ((T ^^ 0) x)\n\ngoal (1 subgoal):\n 1. 0 \\<le> u 0 x", "by auto"], ["proof (state)\nthis:\n  0 \\<le> u 0 x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_integrable:\n  assumes \"subcocycle u\"\n  shows \"integrable M (u n)\"\n        \"u n \\<in> borel_measurable M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (u n) &&& u n \\<in> borel_measurable M", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. integrable M (u n) &&& u n \\<in> borel_measurable M", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. integrable M (u n) &&& u n \\<in> borel_measurable M", "by auto"], ["", "lemma subcocycle_birkhoff:\n  assumes \"integrable M f\"\n  shows \"subcocycle (birkhoff_sum f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle (birkhoff_sum f)", "unfolding subcocycle_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>n. integrable M (birkhoff_sum f n)) \\<and>\n    (\\<forall>n m x.\n        birkhoff_sum f (n + m) x\n        \\<le> birkhoff_sum f n x + birkhoff_sum f m ((T ^^ n) x))", "by (auto simp add: assms birkhoff_sum_integral(1) birkhoff_sum_cocycle)"], ["", "text \\<open>The set of subcocycles is stable under addition, multiplication by positive numbers,\nand $\\max$.\\<close>"], ["", "lemma subcocycle_add:\n  assumes \"subcocycle u\" \"subcocycle v\"\n  shows \"subcocycle (\\<lambda>n x. u n x + v n x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle (\\<lambda>n x. u n x + v n x)", "unfolding subcocycle_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>n. integrable M (\\<lambda>x. u n x + v n x)) \\<and>\n    (\\<forall>n m x.\n        u (n + m) x + v (n + m) x\n        \\<le> u n x + v n x + (u m ((T ^^ n) x) + v m ((T ^^ n) x)))", "proof (auto)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>n. integrable M (\\<lambda>x. u n x + v n x)\n 2. \\<And>n m x.\n       u (n + m) x + v (n + m) x\n       \\<le> u n x + v n x + (u m ((T ^^ n) x) + v m ((T ^^ n) x))", "fix n"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>n. integrable M (\\<lambda>x. u n x + v n x)\n 2. \\<And>n m x.\n       u (n + m) x + v (n + m) x\n       \\<le> u n x + v n x + (u m ((T ^^ n) x) + v m ((T ^^ n) x))", "show \"integrable M (\\<lambda>x. u n x + v n x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u n x + v n x)", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n  subcocycle v\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u n x + v n x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n  (\\<forall>n. integrable M (v n)) \\<and>\n  (\\<forall>n m x. v (n + m) x \\<le> v n x + v m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u n x + v n x)", "by simp"], ["proof (state)\nthis:\n  integrable M (\\<lambda>x. u n x + v n x)\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) x + v (n + m) x\n       \\<le> u n x + v n x + (u m ((T ^^ n) x) + v m ((T ^^ n) x))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) x + v (n + m) x\n       \\<le> u n x + v n x + (u m ((T ^^ n) x) + v m ((T ^^ n) x))", "fix n m x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) x + v (n + m) x\n       \\<le> u n x + v n x + (u m ((T ^^ n) x) + v m ((T ^^ n) x))", "have \"u (n+m) x \\<le> u n x + u m ((T ^^ n) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "using assms(1) subcocycle_def"], ["proof (prove)\nusing this:\n  subcocycle u\n  subcocycle ?u =\n  ((\\<forall>n. integrable M (?u n)) \\<and>\n   (\\<forall>n m x. ?u (n + m) x \\<le> ?u n x + ?u m ((T ^^ n) x)))\n\ngoal (1 subgoal):\n 1. u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "by simp"], ["proof (state)\nthis:\n  u (n + m) x \\<le> u n x + u m ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) x + v (n + m) x\n       \\<le> u n x + v n x + (u m ((T ^^ n) x) + v m ((T ^^ n) x))", "moreover"], ["proof (state)\nthis:\n  u (n + m) x \\<le> u n x + u m ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) x + v (n + m) x\n       \\<le> u n x + v n x + (u m ((T ^^ n) x) + v m ((T ^^ n) x))", "have \"v (n+m) x \\<le> v n x + v m ((T ^^ n) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "using assms(2) subcocycle_def"], ["proof (prove)\nusing this:\n  subcocycle v\n  subcocycle ?u =\n  ((\\<forall>n. integrable M (?u n)) \\<and>\n   (\\<forall>n m x. ?u (n + m) x \\<le> ?u n x + ?u m ((T ^^ n) x)))\n\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "by simp"], ["proof (state)\nthis:\n  v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) x + v (n + m) x\n       \\<le> u n x + v n x + (u m ((T ^^ n) x) + v m ((T ^^ n) x))", "ultimately"], ["proof (chain)\npicking this:\n  u (n + m) x \\<le> u n x + u m ((T ^^ n) x)\n  v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "show \"u (n + m) x + v (n + m) x \\<le> u n x + v n x + (u m ((T ^^ n) x) + v m ((T ^^ n) x))\""], ["proof (prove)\nusing this:\n  u (n + m) x \\<le> u n x + u m ((T ^^ n) x)\n  v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. u (n + m) x + v (n + m) x\n    \\<le> u n x + v n x + (u m ((T ^^ n) x) + v m ((T ^^ n) x))", "by simp"], ["proof (state)\nthis:\n  u (n + m) x + v (n + m) x\n  \\<le> u n x + v n x + (u m ((T ^^ n) x) + v m ((T ^^ n) x))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_cmult:\n  assumes \"subcocycle u\" \"c \\<ge> 0\"\n  shows \"subcocycle (\\<lambda>n x. c * u n x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle (\\<lambda>n x. c * u n x)", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. subcocycle (\\<lambda>n x. c * u n x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. (\\<forall>n. integrable M (\\<lambda>x. c * u n x)) \\<and>\n    (\\<forall>n m x. c * u (n + m) x \\<le> c * u n x + c * u m ((T ^^ n) x))", "by (auto, metis distrib_left mult_left_mono)"], ["", "lemma subcocycle_max:\n  assumes \"subcocycle u\" \"subcocycle v\"\n  shows \"subcocycle (\\<lambda>n x. max (u n x) (v n x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle (\\<lambda>n x. max (u n x) (v n x))", "unfolding subcocycle_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>n. integrable M (\\<lambda>x. max (u n x) (v n x))) \\<and>\n    (\\<forall>n m x.\n        max (u (n + m) x) (v (n + m) x)\n        \\<le> max (u n x) (v n x) +\n              max (u m ((T ^^ n) x)) (v m ((T ^^ n) x)))", "proof (auto)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>n. integrable M (\\<lambda>x. max (u n x) (v n x))\n 2. \\<And>n m x.\n       u (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))\n 3. \\<And>n m x.\n       v (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))", "fix n"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>n. integrable M (\\<lambda>x. max (u n x) (v n x))\n 2. \\<And>n m x.\n       u (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))\n 3. \\<And>n m x.\n       v (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))", "show \"integrable M (\\<lambda>x. max (u n x) (v n x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. max (u n x) (v n x))", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n  subcocycle v\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. max (u n x) (v n x))", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n  (\\<forall>n. integrable M (v n)) \\<and>\n  (\\<forall>n m x. v (n + m) x \\<le> v n x + v m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. max (u n x) (v n x))", "by auto"], ["proof (state)\nthis:\n  integrable M (\\<lambda>x. max (u n x) (v n x))\n\ngoal (2 subgoals):\n 1. \\<And>n m x.\n       u (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))\n 2. \\<And>n m x.\n       v (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>n m x.\n       u (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))\n 2. \\<And>n m x.\n       v (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))", "fix n m x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>n m x.\n       u (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))\n 2. \\<And>n m x.\n       v (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))", "have \"u (n+m) x \\<le> u n x + u m ((T^^n) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "using assms(1)"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "by auto"], ["proof (state)\nthis:\n  u (n + m) x \\<le> u n x + u m ((T ^^ n) x)\n\ngoal (2 subgoals):\n 1. \\<And>n m x.\n       u (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))\n 2. \\<And>n m x.\n       v (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))", "then"], ["proof (chain)\npicking this:\n  u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "show \"u (n + m) x \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))\""], ["proof (prove)\nusing this:\n  u (n + m) x \\<le> u n x + u m ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. u (n + m) x\n    \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))", "by simp"], ["proof (state)\nthis:\n  u (n + m) x\n  \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       v (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       v (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))", "fix n m x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       v (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))", "have \"v (n+m) x \\<le> v n x + v m ((T^^n) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "using assms(2)"], ["proof (prove)\nusing this:\n  subcocycle v\n\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (v n)) \\<and>\n  (\\<forall>n m x. v (n + m) x \\<le> v n x + v m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "by auto"], ["proof (state)\nthis:\n  v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       v (n + m) x\n       \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))", "then"], ["proof (chain)\npicking this:\n  v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "show \"v (n + m) x \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))\""], ["proof (prove)\nusing this:\n  v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. v (n + m) x\n    \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))", "by simp"], ["proof (state)\nthis:\n  v (n + m) x\n  \\<le> max (u n x) (v n x) + max (u m ((T ^^ n) x)) (v m ((T ^^ n) x))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Applying inductively the subcocycle equation, it follows that a subcocycle is bounded\nby the Birkhoff sum of the subcocycle at time $1$.\\<close>"], ["", "lemma subcocycle_bounded_by_birkhoff1:\n  assumes \"subcocycle u\" \"n > 0\"\n  shows \"u n x \\<le> birkhoff_sum (u 1) n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x \\<le> birkhoff_sum (u 1) n x", "using \\<open>n > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < n\n\ngoal (1 subgoal):\n 1. u n x \\<le> birkhoff_sum (u 1) n x", "proof (induction rule: ind_from_1)"], ["proof (state)\ngoal (2 subgoals):\n 1. u 1 x \\<le> birkhoff_sum (u 1) 1 x\n 2. \\<And>n.\n       \\<lbrakk>0 < n; u n x \\<le> birkhoff_sum (u 1) n x\\<rbrakk>\n       \\<Longrightarrow> u (Suc n) x \\<le> birkhoff_sum (u 1) (Suc n) x", "case 1"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. u 1 x \\<le> birkhoff_sum (u 1) 1 x\n 2. \\<And>n.\n       \\<lbrakk>0 < n; u n x \\<le> birkhoff_sum (u 1) n x\\<rbrakk>\n       \\<Longrightarrow> u (Suc n) x \\<le> birkhoff_sum (u 1) (Suc n) x", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. u 1 x \\<le> birkhoff_sum (u 1) 1 x", "by auto"], ["proof (state)\nthis:\n  u 1 x \\<le> birkhoff_sum (u 1) 1 x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n; u n x \\<le> birkhoff_sum (u 1) n x\\<rbrakk>\n       \\<Longrightarrow> u (Suc n) x \\<le> birkhoff_sum (u 1) (Suc n) x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n; u n x \\<le> birkhoff_sum (u 1) n x\\<rbrakk>\n       \\<Longrightarrow> u (Suc n) x \\<le> birkhoff_sum (u 1) (Suc n) x", "case (Suc p)"], ["proof (state)\nthis:\n  0 < p\n  u p x \\<le> birkhoff_sum (u 1) p x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n; u n x \\<le> birkhoff_sum (u 1) n x\\<rbrakk>\n       \\<Longrightarrow> u (Suc n) x \\<le> birkhoff_sum (u 1) (Suc n) x", "have \"u (Suc p) x \\<le> u p x + u 1 ((T^^p)x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (Suc p) x \\<le> u p x + u 1 ((T ^^ p) x)", "using assms(1) subcocycle_def"], ["proof (prove)\nusing this:\n  subcocycle u\n  subcocycle ?u =\n  ((\\<forall>n. integrable M (?u n)) \\<and>\n   (\\<forall>n m x. ?u (n + m) x \\<le> ?u n x + ?u m ((T ^^ n) x)))\n\ngoal (1 subgoal):\n 1. u (Suc p) x \\<le> u p x + u 1 ((T ^^ p) x)", "by (metis Suc_eq_plus1)"], ["proof (state)\nthis:\n  u (Suc p) x \\<le> u p x + u 1 ((T ^^ p) x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n; u n x \\<le> birkhoff_sum (u 1) n x\\<rbrakk>\n       \\<Longrightarrow> u (Suc n) x \\<le> birkhoff_sum (u 1) (Suc n) x", "then"], ["proof (chain)\npicking this:\n  u (Suc p) x \\<le> u p x + u 1 ((T ^^ p) x)", "show ?case"], ["proof (prove)\nusing this:\n  u (Suc p) x \\<le> u p x + u 1 ((T ^^ p) x)\n\ngoal (1 subgoal):\n 1. u (Suc p) x \\<le> birkhoff_sum (u 1) (Suc p) x", "using Suc birkhoff_sum_cocycle[where ?n = p and ?m = 1] \\<open> p>0 \\<close>"], ["proof (prove)\nusing this:\n  u (Suc p) x \\<le> u p x + u 1 ((T ^^ p) x)\n  0 < p\n  u p x \\<le> birkhoff_sum (u 1) p x\n  birkhoff_sum ?f (p + 1) ?x =\n  birkhoff_sum ?f p ?x + birkhoff_sum ?f 1 ((T ^^ p) ?x)\n  0 < p\n\ngoal (1 subgoal):\n 1. u (Suc p) x \\<le> birkhoff_sum (u 1) (Suc p) x", "by (simp add: birkhoff_sum_def)"], ["proof (state)\nthis:\n  u (Suc p) x \\<le> birkhoff_sum (u 1) (Suc p) x\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>It is often important to bound a cocycle $u_n(x)$ by the Birkhoff sums of $u_N/N$. Compared\nto the trivial upper bound for $u_1$, there are additional boundary errors that make the\nestimate more cumbersome (but these terms only come from a $N$-neighborhood of $0$ and $n$, so\nthey are negligible if $N$ is fixed and $n$ tends to infinity.\\<close>"], ["", "lemma subcocycle_bounded_by_birkhoffN:\n  assumes \"subcocycle u\" \"n > 2*N\" \"N>0\"\n  shows \"u n x \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x\n                + (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n                + 2 * (\\<Sum>i<2*N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have Iar: \"u (a*N+r) x \\<le> u r x + (\\<Sum>i<a. u N ((T^^(i * N + r))x))\" for r a"], ["proof (prove)\ngoal (1 subgoal):\n 1. u (a * N + r) x \\<le> u r x + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "proof (induction a)"], ["proof (state)\ngoal (2 subgoals):\n 1. u (0 * N + r) x \\<le> u r x + (\\<Sum>i<0. u N ((T ^^ (i * N + r)) x))\n 2. \\<And>a.\n       u (a * N + r) x\n       \\<le> u r x +\n             (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) \\<Longrightarrow>\n       u (Suc a * N + r) x\n       \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. u (0 * N + r) x \\<le> u r x + (\\<Sum>i<0. u N ((T ^^ (i * N + r)) x))\n 2. \\<And>a.\n       u (a * N + r) x\n       \\<le> u r x +\n             (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) \\<Longrightarrow>\n       u (Suc a * N + r) x\n       \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. u (0 * N + r) x \\<le> u r x + (\\<Sum>i<0. u N ((T ^^ (i * N + r)) x))", "by auto"], ["proof (state)\nthis:\n  u (0 * N + r) x \\<le> u r x + (\\<Sum>i<0. u N ((T ^^ (i * N + r)) x))\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       u (a * N + r) x\n       \\<le> u r x +\n             (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) \\<Longrightarrow>\n       u (Suc a * N + r) x\n       \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       u (a * N + r) x\n       \\<le> u r x +\n             (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) \\<Longrightarrow>\n       u (Suc a * N + r) x\n       \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))", "case (Suc a)"], ["proof (state)\nthis:\n  u (a * N + r) x \\<le> u r x + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       u (a * N + r) x\n       \\<le> u r x +\n             (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) \\<Longrightarrow>\n       u (Suc a * N + r) x\n       \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))", "have \"u ((a+1)*N+r) x = u((a*N+r) + N) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u ((a + 1) * N + r) x = u (a * N + r + N) x", "by (simp add: semiring_normalization_rules(2) semiring_normalization_rules(23))"], ["proof (state)\nthis:\n  u ((a + 1) * N + r) x = u (a * N + r + N) x\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       u (a * N + r) x\n       \\<le> u r x +\n             (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) \\<Longrightarrow>\n       u (Suc a * N + r) x\n       \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))", "also"], ["proof (state)\nthis:\n  u ((a + 1) * N + r) x = u (a * N + r + N) x\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       u (a * N + r) x\n       \\<le> u r x +\n             (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) \\<Longrightarrow>\n       u (Suc a * N + r) x\n       \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))", "have \"... \\<le> u(a*N+r) x + u N ((T^^(a*N+r))x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (a * N + r + N) x \\<le> u (a * N + r) x + u N ((T ^^ (a * N + r)) x)", "using assms(1)"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. u (a * N + r + N) x \\<le> u (a * N + r) x + u N ((T ^^ (a * N + r)) x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. u (a * N + r + N) x \\<le> u (a * N + r) x + u N ((T ^^ (a * N + r)) x)", "by auto"], ["proof (state)\nthis:\n  u (a * N + r + N) x \\<le> u (a * N + r) x + u N ((T ^^ (a * N + r)) x)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       u (a * N + r) x\n       \\<le> u r x +\n             (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) \\<Longrightarrow>\n       u (Suc a * N + r) x\n       \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))", "also"], ["proof (state)\nthis:\n  u (a * N + r + N) x \\<le> u (a * N + r) x + u N ((T ^^ (a * N + r)) x)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       u (a * N + r) x\n       \\<le> u r x +\n             (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) \\<Longrightarrow>\n       u (Suc a * N + r) x\n       \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))", "have \"... \\<le> u r x + (\\<Sum>i<a. u N ((T^^(i * N + r))x)) + u N ((T^^(a*N+r))x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (a * N + r) x + u N ((T ^^ (a * N + r)) x)\n    \\<le> u r x + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) +\n          u N ((T ^^ (a * N + r)) x)", "using Suc.IH"], ["proof (prove)\nusing this:\n  u (a * N + r) x \\<le> u r x + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n\ngoal (1 subgoal):\n 1. u (a * N + r) x + u N ((T ^^ (a * N + r)) x)\n    \\<le> u r x + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) +\n          u N ((T ^^ (a * N + r)) x)", "by auto"], ["proof (state)\nthis:\n  u (a * N + r) x + u N ((T ^^ (a * N + r)) x)\n  \\<le> u r x + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) +\n        u N ((T ^^ (a * N + r)) x)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       u (a * N + r) x\n       \\<le> u r x +\n             (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) \\<Longrightarrow>\n       u (Suc a * N + r) x\n       \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))", "also"], ["proof (state)\nthis:\n  u (a * N + r) x + u N ((T ^^ (a * N + r)) x)\n  \\<le> u r x + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) +\n        u N ((T ^^ (a * N + r)) x)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       u (a * N + r) x\n       \\<le> u r x +\n             (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) \\<Longrightarrow>\n       u (Suc a * N + r) x\n       \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))", "have \"... = u r x + (\\<Sum>i<a+1. u N ((T^^(i * N + r))x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u r x + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) +\n    u N ((T ^^ (a * N + r)) x) =\n    u r x + (\\<Sum>i<a + 1. u N ((T ^^ (i * N + r)) x))", "by auto"], ["proof (state)\nthis:\n  u r x + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) +\n  u N ((T ^^ (a * N + r)) x) =\n  u r x + (\\<Sum>i<a + 1. u N ((T ^^ (i * N + r)) x))\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       u (a * N + r) x\n       \\<le> u r x +\n             (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) \\<Longrightarrow>\n       u (Suc a * N + r) x\n       \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))", "finally"], ["proof (chain)\npicking this:\n  u ((a + 1) * N + r) x\n  \\<le> u r x + (\\<Sum>i<a + 1. u N ((T ^^ (i * N + r)) x))", "show ?case"], ["proof (prove)\nusing this:\n  u ((a + 1) * N + r) x\n  \\<le> u r x + (\\<Sum>i<a + 1. u N ((T ^^ (i * N + r)) x))\n\ngoal (1 subgoal):\n 1. u (Suc a * N + r) x\n    \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))", "by auto"], ["proof (state)\nthis:\n  u (Suc a * N + r) x\n  \\<le> u r x + (\\<Sum>i<Suc a. u N ((T ^^ (i * N + r)) x))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  u (?a3 * N + ?r3) x\n  \\<le> u ?r3 x + (\\<Sum>i<?a3. u N ((T ^^ (i * N + ?r3)) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have Ia: \"u (a*N) x \\<le> (\\<Sum>i<a. u N ((T^^(i * N))x))\" if \"a>0\" for a"], ["proof (prove)\ngoal (1 subgoal):\n 1. u (a * N) x \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N)) x))", "using that"], ["proof (prove)\nusing this:\n  0 < a\n\ngoal (1 subgoal):\n 1. u (a * N) x \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N)) x))", "proof (induction rule: ind_from_1)"], ["proof (state)\ngoal (2 subgoals):\n 1. u (1 * N) x \\<le> (\\<Sum>i<1. u N ((T ^^ (i * N)) x))\n 2. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (n * N) x \\<le> (\\<Sum>i<n. u N ((T ^^ (i * N)) x))\\<rbrakk>\n       \\<Longrightarrow> u (Suc n * N) x\n                         \\<le> (\\<Sum>i<Suc n. u N ((T ^^ (i * N)) x))", "case 1"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. u (1 * N) x \\<le> (\\<Sum>i<1. u N ((T ^^ (i * N)) x))\n 2. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (n * N) x \\<le> (\\<Sum>i<n. u N ((T ^^ (i * N)) x))\\<rbrakk>\n       \\<Longrightarrow> u (Suc n * N) x\n                         \\<le> (\\<Sum>i<Suc n. u N ((T ^^ (i * N)) x))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. u (1 * N) x \\<le> (\\<Sum>i<1. u N ((T ^^ (i * N)) x))", "by auto"], ["proof (state)\nthis:\n  u (1 * N) x \\<le> (\\<Sum>i<1. u N ((T ^^ (i * N)) x))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (n * N) x \\<le> (\\<Sum>i<n. u N ((T ^^ (i * N)) x))\\<rbrakk>\n       \\<Longrightarrow> u (Suc n * N) x\n                         \\<le> (\\<Sum>i<Suc n. u N ((T ^^ (i * N)) x))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (n * N) x \\<le> (\\<Sum>i<n. u N ((T ^^ (i * N)) x))\\<rbrakk>\n       \\<Longrightarrow> u (Suc n * N) x\n                         \\<le> (\\<Sum>i<Suc n. u N ((T ^^ (i * N)) x))", "case (Suc a)"], ["proof (state)\nthis:\n  0 < a\n  u (a * N) x \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N)) x))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (n * N) x \\<le> (\\<Sum>i<n. u N ((T ^^ (i * N)) x))\\<rbrakk>\n       \\<Longrightarrow> u (Suc n * N) x\n                         \\<le> (\\<Sum>i<Suc n. u N ((T ^^ (i * N)) x))", "have \"u ((a+1)*N) x = u((a*N) + N) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u ((a + 1) * N) x = u (a * N + N) x", "by (simp add: semiring_normalization_rules(2) semiring_normalization_rules(23))"], ["proof (state)\nthis:\n  u ((a + 1) * N) x = u (a * N + N) x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (n * N) x \\<le> (\\<Sum>i<n. u N ((T ^^ (i * N)) x))\\<rbrakk>\n       \\<Longrightarrow> u (Suc n * N) x\n                         \\<le> (\\<Sum>i<Suc n. u N ((T ^^ (i * N)) x))", "also"], ["proof (state)\nthis:\n  u ((a + 1) * N) x = u (a * N + N) x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (n * N) x \\<le> (\\<Sum>i<n. u N ((T ^^ (i * N)) x))\\<rbrakk>\n       \\<Longrightarrow> u (Suc n * N) x\n                         \\<le> (\\<Sum>i<Suc n. u N ((T ^^ (i * N)) x))", "have \"... \\<le> u(a*N) x + u N ((T^^(a*N))x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (a * N + N) x \\<le> u (a * N) x + u N ((T ^^ (a * N)) x)", "using assms(1)"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. u (a * N + N) x \\<le> u (a * N) x + u N ((T ^^ (a * N)) x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. u (a * N + N) x \\<le> u (a * N) x + u N ((T ^^ (a * N)) x)", "by auto"], ["proof (state)\nthis:\n  u (a * N + N) x \\<le> u (a * N) x + u N ((T ^^ (a * N)) x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (n * N) x \\<le> (\\<Sum>i<n. u N ((T ^^ (i * N)) x))\\<rbrakk>\n       \\<Longrightarrow> u (Suc n * N) x\n                         \\<le> (\\<Sum>i<Suc n. u N ((T ^^ (i * N)) x))", "also"], ["proof (state)\nthis:\n  u (a * N + N) x \\<le> u (a * N) x + u N ((T ^^ (a * N)) x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (n * N) x \\<le> (\\<Sum>i<n. u N ((T ^^ (i * N)) x))\\<rbrakk>\n       \\<Longrightarrow> u (Suc n * N) x\n                         \\<le> (\\<Sum>i<Suc n. u N ((T ^^ (i * N)) x))", "have \"... \\<le> (\\<Sum>i<a. u N ((T^^(i * N))x)) + u N ((T^^(a*N))x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (a * N) x + u N ((T ^^ (a * N)) x)\n    \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N)) x)) + u N ((T ^^ (a * N)) x)", "using Suc"], ["proof (prove)\nusing this:\n  0 < a\n  u (a * N) x \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N)) x))\n\ngoal (1 subgoal):\n 1. u (a * N) x + u N ((T ^^ (a * N)) x)\n    \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N)) x)) + u N ((T ^^ (a * N)) x)", "by auto"], ["proof (state)\nthis:\n  u (a * N) x + u N ((T ^^ (a * N)) x)\n  \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N)) x)) + u N ((T ^^ (a * N)) x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (n * N) x \\<le> (\\<Sum>i<n. u N ((T ^^ (i * N)) x))\\<rbrakk>\n       \\<Longrightarrow> u (Suc n * N) x\n                         \\<le> (\\<Sum>i<Suc n. u N ((T ^^ (i * N)) x))", "also"], ["proof (state)\nthis:\n  u (a * N) x + u N ((T ^^ (a * N)) x)\n  \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N)) x)) + u N ((T ^^ (a * N)) x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (n * N) x \\<le> (\\<Sum>i<n. u N ((T ^^ (i * N)) x))\\<rbrakk>\n       \\<Longrightarrow> u (Suc n * N) x\n                         \\<le> (\\<Sum>i<Suc n. u N ((T ^^ (i * N)) x))", "have \"... = (\\<Sum>i<a+1. u N ((T^^(i * N))x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<a. u N ((T ^^ (i * N)) x)) + u N ((T ^^ (a * N)) x) =\n    (\\<Sum>i<a + 1. u N ((T ^^ (i * N)) x))", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i<a. u N ((T ^^ (i * N)) x)) + u N ((T ^^ (a * N)) x) =\n  (\\<Sum>i<a + 1. u N ((T ^^ (i * N)) x))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (n * N) x \\<le> (\\<Sum>i<n. u N ((T ^^ (i * N)) x))\\<rbrakk>\n       \\<Longrightarrow> u (Suc n * N) x\n                         \\<le> (\\<Sum>i<Suc n. u N ((T ^^ (i * N)) x))", "finally"], ["proof (chain)\npicking this:\n  u ((a + 1) * N) x \\<le> (\\<Sum>i<a + 1. u N ((T ^^ (i * N)) x))", "show ?case"], ["proof (prove)\nusing this:\n  u ((a + 1) * N) x \\<le> (\\<Sum>i<a + 1. u N ((T ^^ (i * N)) x))\n\ngoal (1 subgoal):\n 1. u (Suc a * N) x \\<le> (\\<Sum>i<Suc a. u N ((T ^^ (i * N)) x))", "by auto"], ["proof (state)\nthis:\n  u (Suc a * N) x \\<le> (\\<Sum>i<Suc a. u N ((T ^^ (i * N)) x))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?a3 \\<Longrightarrow>\n  u (?a3 * N) x \\<le> (\\<Sum>i<?a3. u N ((T ^^ (i * N)) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "define E1 where \"E1 = (\\<Sum>i<N. abs(u 1 ((T^^i)x)))\""], ["proof (state)\nthis:\n  E1 = (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "define E2 where \"E2 = (\\<Sum>i<2*N. abs(u 1 ((T^^(n-(2*N-i))) x)))\""], ["proof (state)\nthis:\n  E2 = (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"E2 \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> E2", "unfolding E2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "by auto"], ["proof (state)\nthis:\n  0 \\<le> E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "obtain a0 s0 where 0: \"s0 < N\" \"n = a0 * N + s0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>s0 a0.\n        \\<lbrakk>s0 < N; n = a0 * N + s0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>0 < N\\<close> mod_div_decomp mod_less_divisor"], ["proof (prove)\nusing this:\n  0 < N\n  (\\<And>q r.\n      \\<lbrakk>q = ?a div ?b; r = ?a mod ?b; ?a = q * ?b + r\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n  0 < ?n \\<Longrightarrow> ?m mod ?n < ?n\n\ngoal (1 subgoal):\n 1. (\\<And>s0 a0.\n        \\<lbrakk>s0 < N; n = a0 * N + s0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  s0 < N\n  n = a0 * N + s0\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "then"], ["proof (chain)\npicking this:\n  s0 < N\n  n = a0 * N + s0", "have \"a0 \\<ge> 1\""], ["proof (prove)\nusing this:\n  s0 < N\n  n = a0 * N + s0\n\ngoal (1 subgoal):\n 1. 1 \\<le> a0", "using \\<open>n > 2 * N\\<close> \\<open>N>0\\<close>"], ["proof (prove)\nusing this:\n  s0 < N\n  n = a0 * N + s0\n  2 * N < n\n  0 < N\n\ngoal (1 subgoal):\n 1. 1 \\<le> a0", "by (metis Nat.add_0_right add.commute add_lessD1 add_mult_distrib comm_monoid_mult_class.mult_1 eq_imp_le\n    less_imp_add_positive less_imp_le_nat less_one linorder_neqE_nat mult.left_neutral mult_not_zero not_add_less1 one_add_one)"], ["proof (state)\nthis:\n  1 \\<le> a0\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "define a s where \"a = a0-1\" and \"s = s0+N\""], ["proof (state)\nthis:\n  a = a0 - 1\n  s = s0 + N\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "then"], ["proof (chain)\npicking this:\n  a = a0 - 1\n  s = s0 + N", "have as: \"n = a * N + s\""], ["proof (prove)\nusing this:\n  a = a0 - 1\n  s = s0 + N\n\ngoal (1 subgoal):\n 1. n = a * N + s", "unfolding a_def s_def"], ["proof (prove)\nusing this:\n  a0 - 1 = a0 - 1\n  s0 + N = s0 + N\n\ngoal (1 subgoal):\n 1. n = (a0 - 1) * N + (s0 + N)", "using \\<open>a0 \\<ge> 1\\<close> 0"], ["proof (prove)\nusing this:\n  a0 - 1 = a0 - 1\n  s0 + N = s0 + N\n  1 \\<le> a0\n  s0 < N\n  n = a0 * N + s0\n\ngoal (1 subgoal):\n 1. n = (a0 - 1) * N + (s0 + N)", "by (simp add: mult_eq_if)"], ["proof (state)\nthis:\n  n = a * N + s\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have s: \"s \\<ge> N\" \"s < 2*N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<le> s &&& s < 2 * N", "using 0"], ["proof (prove)\nusing this:\n  s0 < N\n  n = a0 * N + s0\n\ngoal (1 subgoal):\n 1. N \\<le> s &&& s < 2 * N", "unfolding s_def"], ["proof (prove)\nusing this:\n  s0 < N\n  n = a0 * N + s0\n\ngoal (1 subgoal):\n 1. N \\<le> s0 + N &&& s0 + N < 2 * N", "by auto"], ["proof (state)\nthis:\n  N \\<le> s\n  s < 2 * N\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have a: \"a*N > n - 2*N\" \"a*N \\<le> n - N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 2 * N < a * N &&& a * N \\<le> n - N", "using as s \\<open>n > 2*N\\<close>"], ["proof (prove)\nusing this:\n  n = a * N + s\n  N \\<le> s\n  s < 2 * N\n  2 * N < n\n\ngoal (1 subgoal):\n 1. n - 2 * N < a * N &&& a * N \\<le> n - N", "by auto"], ["proof (state)\nthis:\n  n - 2 * N < a * N\n  a * N \\<le> n - N\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "then"], ["proof (chain)\npicking this:\n  n - 2 * N < a * N\n  a * N \\<le> n - N", "have \"(a*N - (n-2*N)) \\<le> N\""], ["proof (prove)\nusing this:\n  n - 2 * N < a * N\n  a * N \\<le> n - N\n\ngoal (1 subgoal):\n 1. a * N - (n - 2 * N) \\<le> N", "using \\<open>n > 2*N\\<close>"], ["proof (prove)\nusing this:\n  n - 2 * N < a * N\n  a * N \\<le> n - N\n  2 * N < n\n\ngoal (1 subgoal):\n 1. a * N - (n - 2 * N) \\<le> N", "by auto"], ["proof (state)\nthis:\n  a * N - (n - 2 * N) \\<le> N\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"a*N \\<ge> n - 2*N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 2 * N \\<le> a * N", "using a"], ["proof (prove)\nusing this:\n  n - 2 * N < a * N\n  a * N \\<le> n - N\n\ngoal (1 subgoal):\n 1. n - 2 * N \\<le> a * N", "by simp"], ["proof (state)\nthis:\n  n - 2 * N \\<le> a * N\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "{"], ["proof (state)\nthis:\n  n - 2 * N \\<le> a * N\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "fix r::nat"], ["proof (state)\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "assume \"r < N\""], ["proof (state)\nthis:\n  r < N\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"a*N+r > n - 2*N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 2 * N < a * N + r", "using \\<open>n>2*N\\<close> as s"], ["proof (prove)\nusing this:\n  2 * N < n\n  n = a * N + s\n  N \\<le> s\n  s < 2 * N\n\ngoal (1 subgoal):\n 1. n - 2 * N < a * N + r", "by auto"], ["proof (state)\nthis:\n  n - 2 * N < a * N + r\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "define tr where \"tr = n-(a*N+r)\""], ["proof (state)\nthis:\n  tr = n - (a * N + r)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"tr > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < tr", "unfolding tr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < n - (a * N + r)", "using as s \\<open>r<N\\<close>"], ["proof (prove)\nusing this:\n  n = a * N + s\n  N \\<le> s\n  s < 2 * N\n  r < N\n\ngoal (1 subgoal):\n 1. 0 < n - (a * N + r)", "by auto"], ["proof (state)\nthis:\n  0 < tr\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "then"], ["proof (chain)\npicking this:\n  0 < tr", "have *: \"n = (a*N+r) + tr\""], ["proof (prove)\nusing this:\n  0 < tr\n\ngoal (1 subgoal):\n 1. n = a * N + r + tr", "unfolding tr_def"], ["proof (prove)\nusing this:\n  0 < n - (a * N + r)\n\ngoal (1 subgoal):\n 1. n = a * N + r + (n - (a * N + r))", "by auto"], ["proof (state)\nthis:\n  n = a * N + r + tr\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"birkhoff_sum (u 1) tr ((T^^(a*N+r))x) = (\\<Sum>i<tr. u 1 ((T^^(a*N+r+i))x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x) =\n    (\\<Sum>i<tr. u 1 ((T ^^ (a * N + r + i)) x))", "unfolding birkhoff_sum_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<tr. u 1 ((T ^^ i) ((T ^^ (a * N + r)) x))) =\n    (\\<Sum>i<tr. u 1 ((T ^^ (a * N + r + i)) x))", "by (simp add: add.commute funpow_add)"], ["proof (state)\nthis:\n  birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x) =\n  (\\<Sum>i<tr. u 1 ((T ^^ (a * N + r + i)) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x) =\n  (\\<Sum>i<tr. u 1 ((T ^^ (a * N + r + i)) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... = (\\<Sum>i\\<in>{a*N+r..<a*N+r+tr}. u 1 ((T^^i) x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<tr. u 1 ((T ^^ (a * N + r + i)) x)) =\n    (\\<Sum>i = a * N + r..<a * N + r + tr. u 1 ((T ^^ i) x))", "by (rule sum.reindex_bij_betw, rule bij_betw_byWitness[where ?f' = \"\\<lambda>i. i - (a * N + r)\"], auto)"], ["proof (state)\nthis:\n  (\\<Sum>i<tr. u 1 ((T ^^ (a * N + r + i)) x)) =\n  (\\<Sum>i = a * N + r..<a * N + r + tr. u 1 ((T ^^ i) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  (\\<Sum>i<tr. u 1 ((T ^^ (a * N + r + i)) x)) =\n  (\\<Sum>i = a * N + r..<a * N + r + tr. u 1 ((T ^^ i) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... \\<le> (\\<Sum>i\\<in>{a*N+r..<a*N+r+tr}. abs(u 1 ((T^^i) x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = a * N + r..<a * N + r + tr. u 1 ((T ^^ i) x))\n    \\<le> (\\<Sum>i = a * N + r..<a * N + r + tr.\n              \\<bar>u 1 ((T ^^ i) x)\\<bar>)", "by (simp add: sum_mono)"], ["proof (state)\nthis:\n  (\\<Sum>i = a * N + r..<a * N + r + tr. u 1 ((T ^^ i) x))\n  \\<le> (\\<Sum>i = a * N + r..<a * N + r + tr. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  (\\<Sum>i = a * N + r..<a * N + r + tr. u 1 ((T ^^ i) x))\n  \\<le> (\\<Sum>i = a * N + r..<a * N + r + tr. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... \\<le> (\\<Sum>i\\<in>{n-2*N..<n}. abs(u 1 ((T^^i) x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = a * N + r..<a * N + r + tr. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n    \\<le> (\\<Sum>i = n - 2 * N..<n. \\<bar>u 1 ((T ^^ i) x)\\<bar>)", "apply (rule sum_mono2)"], ["proof (prove)\ngoal (3 subgoals):\n 1. finite {n - 2 * N..<n}\n 2. {a * N + r..<a * N + r + tr} \\<subseteq> {n - 2 * N..<n}\n 3. \\<And>b.\n       b \\<in> {n - 2 * N..<n} -\n               {a * N + r..<a * N + r + tr} \\<Longrightarrow>\n       0 \\<le> \\<bar>u 1 ((T ^^ b) x)\\<bar>", "using as s \\<open>r<N\\<close> tr_def"], ["proof (prove)\nusing this:\n  n = a * N + s\n  N \\<le> s\n  s < 2 * N\n  r < N\n  tr = n - (a * N + r)\n\ngoal (3 subgoals):\n 1. finite {n - 2 * N..<n}\n 2. {a * N + r..<a * N + r + tr} \\<subseteq> {n - 2 * N..<n}\n 3. \\<And>b.\n       b \\<in> {n - 2 * N..<n} -\n               {a * N + r..<a * N + r + tr} \\<Longrightarrow>\n       0 \\<le> \\<bar>u 1 ((T ^^ b) x)\\<bar>", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i = a * N + r..<a * N + r + tr. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n  \\<le> (\\<Sum>i = n - 2 * N..<n. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  (\\<Sum>i = a * N + r..<a * N + r + tr. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n  \\<le> (\\<Sum>i = n - 2 * N..<n. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... = E2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = n - 2 * N..<n. \\<bar>u 1 ((T ^^ i) x)\\<bar>) = E2", "unfolding E2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = n - 2 * N..<n. \\<bar>u 1 ((T ^^ i) x)\\<bar>) =\n    (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "apply (rule sum.reindex_bij_betw[symmetric], rule bij_betw_byWitness[where ?f' = \"\\<lambda>i. i - (n-2*N)\"])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<forall>a\\<in>{..<2 * N}. n - (2 * N - a) - (n - 2 * N) = a\n 2. \\<forall>a'\\<in>{n - 2 * N..<n}. n - (2 * N - (a' - (n - 2 * N))) = a'\n 3. (\\<lambda>x. n - (2 * N - x)) ` {..<2 * N} \\<subseteq> {n - 2 * N..<n}\n 4. (\\<lambda>i. i - (n - 2 * N)) ` {n - 2 * N..<n} \\<subseteq> {..<2 * N}", "using \\<open>n > 2*N\\<close>"], ["proof (prove)\nusing this:\n  2 * N < n\n\ngoal (4 subgoals):\n 1. \\<forall>a\\<in>{..<2 * N}. n - (2 * N - a) - (n - 2 * N) = a\n 2. \\<forall>a'\\<in>{n - 2 * N..<n}. n - (2 * N - (a' - (n - 2 * N))) = a'\n 3. (\\<lambda>x. n - (2 * N - x)) ` {..<2 * N} \\<subseteq> {n - 2 * N..<n}\n 4. (\\<lambda>i. i - (n - 2 * N)) ` {n - 2 * N..<n} \\<subseteq> {..<2 * N}", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i = n - 2 * N..<n. \\<bar>u 1 ((T ^^ i) x)\\<bar>) = E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "finally"], ["proof (chain)\npicking this:\n  birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x) \\<le> E2", "have A: \"birkhoff_sum (u 1) tr ((T^^(a*N+r))x) \\<le> E2\""], ["proof (prove)\nusing this:\n  birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x) \\<le> E2\n\ngoal (1 subgoal):\n 1. birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x) \\<le> E2", "by simp"], ["proof (state)\nthis:\n  birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x) \\<le> E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"u n x \\<le> u (a*N+r) x + u tr ((T^^(a*N+r))x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x \\<le> u (a * N + r) x + u tr ((T ^^ (a * N + r)) x)", "using assms(1) *"], ["proof (prove)\nusing this:\n  subcocycle u\n  n = a * N + r + tr\n\ngoal (1 subgoal):\n 1. u n x \\<le> u (a * N + r) x + u tr ((T ^^ (a * N + r)) x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n  n = a * N + r + tr\n\ngoal (1 subgoal):\n 1. u n x \\<le> u (a * N + r) x + u tr ((T ^^ (a * N + r)) x)", "by auto"], ["proof (state)\nthis:\n  u n x \\<le> u (a * N + r) x + u tr ((T ^^ (a * N + r)) x)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  u n x \\<le> u (a * N + r) x + u tr ((T ^^ (a * N + r)) x)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... \\<le> u (a*N+r) x + birkhoff_sum (u 1) tr ((T^^(a*N+r))x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (a * N + r) x + u tr ((T ^^ (a * N + r)) x)\n    \\<le> u (a * N + r) x + birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x)", "using subcocycle_bounded_by_birkhoff1[OF assms(1)] \\<open>tr > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < ?n \\<Longrightarrow> u ?n ?x \\<le> birkhoff_sum (u 1) ?n ?x\n  0 < tr\n\ngoal (1 subgoal):\n 1. u (a * N + r) x + u tr ((T ^^ (a * N + r)) x)\n    \\<le> u (a * N + r) x + birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x)", "by auto"], ["proof (state)\nthis:\n  u (a * N + r) x + u tr ((T ^^ (a * N + r)) x)\n  \\<le> u (a * N + r) x + birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "finally"], ["proof (chain)\npicking this:\n  u n x \\<le> u (a * N + r) x + birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x)", "have B: \"u n x \\<le> u (a*N+r) x + E2\""], ["proof (prove)\nusing this:\n  u n x \\<le> u (a * N + r) x + birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x)\n\ngoal (1 subgoal):\n 1. u n x \\<le> u (a * N + r) x + E2", "using A"], ["proof (prove)\nusing this:\n  u n x \\<le> u (a * N + r) x + birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x)\n  birkhoff_sum (u 1) tr ((T ^^ (a * N + r)) x) \\<le> E2\n\ngoal (1 subgoal):\n 1. u n x \\<le> u (a * N + r) x + E2", "by auto"], ["proof (state)\nthis:\n  u n x \\<le> u (a * N + r) x + E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"u (a*N+r) x \\<le> (\\<Sum>i<N. abs(u 1 ((T^^i)x))) + (\\<Sum>i<a. u N ((T^^(i*N+r))x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "proof (cases \"r = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. r = 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n 2. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "case True"], ["proof (state)\nthis:\n  r = 0\n\ngoal (2 subgoals):\n 1. r = 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n 2. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "then"], ["proof (chain)\npicking this:\n  r = 0", "have \"a>0\""], ["proof (prove)\nusing this:\n  r = 0\n\ngoal (1 subgoal):\n 1. 0 < a", "using \\<open>a*N+r > n - 2*N\\<close> not_less"], ["proof (prove)\nusing this:\n  r = 0\n  n - 2 * N < a * N + r\n  (\\<not> ?x < ?y) = (?y \\<le> ?x)\n\ngoal (1 subgoal):\n 1. 0 < a", "by fastforce"], ["proof (state)\nthis:\n  0 < a\n\ngoal (2 subgoals):\n 1. r = 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n 2. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "have \"u(a*N+r) x \\<le> (\\<Sum>i<a. u N ((T^^(i*N+r))x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (a * N + r) x \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "using Ia[OF \\<open>a>0\\<close>] True"], ["proof (prove)\nusing this:\n  u (a * N) x \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N)) x))\n  r = 0\n\ngoal (1 subgoal):\n 1. u (a * N + r) x \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "by auto"], ["proof (state)\nthis:\n  u (a * N + r) x \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n\ngoal (2 subgoals):\n 1. r = 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n 2. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "moreover"], ["proof (state)\nthis:\n  u (a * N + r) x \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n\ngoal (2 subgoals):\n 1. r = 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n 2. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "have \"0 \\<le> (\\<Sum>i<N. abs(u 1 ((T^^i)x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>)", "by auto"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n\ngoal (2 subgoals):\n 1. r = 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n 2. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "ultimately"], ["proof (chain)\npicking this:\n  u (a * N + r) x \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n  0 \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>)", "show ?thesis"], ["proof (prove)\nusing this:\n  u (a * N + r) x \\<le> (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n  0 \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "by linarith"], ["proof (state)\nthis:\n  u (a * N + r) x\n  \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n\ngoal (1 subgoal):\n 1. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "case False"], ["proof (state)\nthis:\n  r \\<noteq> 0\n\ngoal (1 subgoal):\n 1. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "then"], ["proof (chain)\npicking this:\n  r \\<noteq> 0", "have I: \"u (a*N+r) x \\<le> u r x + (\\<Sum>i<a. u N ((T^^(i * N + r))x))\""], ["proof (prove)\nusing this:\n  r \\<noteq> 0\n\ngoal (1 subgoal):\n 1. u (a * N + r) x \\<le> u r x + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "using Iar"], ["proof (prove)\nusing this:\n  r \\<noteq> 0\n  u (?a3 * N + ?r3) x\n  \\<le> u ?r3 x + (\\<Sum>i<?a3. u N ((T ^^ (i * N + ?r3)) x))\n\ngoal (1 subgoal):\n 1. u (a * N + r) x \\<le> u r x + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "by auto"], ["proof (state)\nthis:\n  u (a * N + r) x \\<le> u r x + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n\ngoal (1 subgoal):\n 1. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "have \"u r x \\<le> (\\<Sum>i<r. u 1 ((T^^i)x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u r x \\<le> (\\<Sum>i<r. u 1 ((T ^^ i) x))", "using subcocycle_bounded_by_birkhoff1[OF assms(1)] False"], ["proof (prove)\nusing this:\n  0 < ?n \\<Longrightarrow> u ?n ?x \\<le> birkhoff_sum (u 1) ?n ?x\n  r \\<noteq> 0\n\ngoal (1 subgoal):\n 1. u r x \\<le> (\\<Sum>i<r. u 1 ((T ^^ i) x))", "unfolding birkhoff_sum_def"], ["proof (prove)\nusing this:\n  0 < ?n \\<Longrightarrow> u ?n ?x \\<le> (\\<Sum>i<?n. u 1 ((T ^^ i) ?x))\n  r \\<noteq> 0\n\ngoal (1 subgoal):\n 1. u r x \\<le> (\\<Sum>i<r. u 1 ((T ^^ i) x))", "by auto"], ["proof (state)\nthis:\n  u r x \\<le> (\\<Sum>i<r. u 1 ((T ^^ i) x))\n\ngoal (1 subgoal):\n 1. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "also"], ["proof (state)\nthis:\n  u r x \\<le> (\\<Sum>i<r. u 1 ((T ^^ i) x))\n\ngoal (1 subgoal):\n 1. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "have \"... \\<le> (\\<Sum>i<r. abs(u 1 ((T^^i)x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<r. u 1 ((T ^^ i) x))\n    \\<le> (\\<Sum>i<r. \\<bar>u 1 ((T ^^ i) x)\\<bar>)", "by (simp add: sum_mono)"], ["proof (state)\nthis:\n  (\\<Sum>i<r. u 1 ((T ^^ i) x))\n  \\<le> (\\<Sum>i<r. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "also"], ["proof (state)\nthis:\n  (\\<Sum>i<r. u 1 ((T ^^ i) x))\n  \\<le> (\\<Sum>i<r. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "have \"... \\<le> (\\<Sum>i<N. abs(u 1 ((T^^i)x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<r. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>)", "apply (rule sum_mono2)"], ["proof (prove)\ngoal (3 subgoals):\n 1. finite {..<N}\n 2. {..<r} \\<subseteq> {..<N}\n 3. \\<And>b.\n       b \\<in> {..<N} - {..<r} \\<Longrightarrow>\n       0 \\<le> \\<bar>u 1 ((T ^^ b) x)\\<bar>", "using \\<open>r<N\\<close>"], ["proof (prove)\nusing this:\n  r < N\n\ngoal (3 subgoals):\n 1. finite {..<N}\n 2. {..<r} \\<subseteq> {..<N}\n 3. \\<And>b.\n       b \\<in> {..<N} - {..<r} \\<Longrightarrow>\n       0 \\<le> \\<bar>u 1 ((T ^^ b) x)\\<bar>", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i<r. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n  \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. r \\<noteq> 0 \\<Longrightarrow>\n    u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "finally"], ["proof (chain)\npicking this:\n  u r x \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>)", "show ?thesis"], ["proof (prove)\nusing this:\n  u r x \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "using I"], ["proof (prove)\nusing this:\n  u r x \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n  u (a * N + r) x \\<le> u r x + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n\ngoal (1 subgoal):\n 1. u (a * N + r) x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "by auto"], ["proof (state)\nthis:\n  u (a * N + r) x\n  \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  u (a * N + r) x\n  \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "then"], ["proof (chain)\npicking this:\n  u (a * N + r) x\n  \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "have \"u n x \\<le> E1 + (\\<Sum>i<a. u N ((T^^(i*N+r))x)) + E2\""], ["proof (prove)\nusing this:\n  u (a * N + r) x\n  \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n\ngoal (1 subgoal):\n 1. u n x \\<le> E1 + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) + E2", "unfolding E1_def"], ["proof (prove)\nusing this:\n  u (a * N + r) x\n  \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) +\n          E2", "using B"], ["proof (prove)\nusing this:\n  u (a * N + r) x\n  \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n  u n x \\<le> u (a * N + r) x + E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) +\n          E2", "by auto"], ["proof (state)\nthis:\n  u n x \\<le> E1 + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) + E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "}"], ["proof (state)\nthis:\n  ?r5 < N \\<Longrightarrow>\n  u n x \\<le> E1 + (\\<Sum>i<a. u N ((T ^^ (i * N + ?r5)) x)) + E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "note * = this"], ["proof (state)\nthis:\n  ?r5 < N \\<Longrightarrow>\n  u n x \\<le> E1 + (\\<Sum>i<a. u N ((T ^^ (i * N + ?r5)) x)) + E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have I: \"u N ((T^^j) x) \\<le> E2\" if \"j\\<in>{n-2*N..<a*N}\" for j"], ["proof (prove)\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "have \"u N ((T^^j) x) \\<le> (\\<Sum>i<N. u 1 ((T^^i) ((T^^j)x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> (\\<Sum>i<N. u 1 ((T ^^ i) ((T ^^ j) x)))", "using subcocycle_bounded_by_birkhoff1[OF assms(1) \\<open>N>0\\<close>]"], ["proof (prove)\nusing this:\n  u N ?x \\<le> birkhoff_sum (u 1) N ?x\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> (\\<Sum>i<N. u 1 ((T ^^ i) ((T ^^ j) x)))", "unfolding birkhoff_sum_def"], ["proof (prove)\nusing this:\n  u N ?x \\<le> (\\<Sum>i<N. u 1 ((T ^^ i) ?x))\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> (\\<Sum>i<N. u 1 ((T ^^ i) ((T ^^ j) x)))", "by auto"], ["proof (state)\nthis:\n  u N ((T ^^ j) x) \\<le> (\\<Sum>i<N. u 1 ((T ^^ i) ((T ^^ j) x)))\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "also"], ["proof (state)\nthis:\n  u N ((T ^^ j) x) \\<le> (\\<Sum>i<N. u 1 ((T ^^ i) ((T ^^ j) x)))\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "have \"... = (\\<Sum>i<N. u 1 ((T^^(i+j))x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<N. u 1 ((T ^^ i) ((T ^^ j) x))) =\n    (\\<Sum>i<N. u 1 ((T ^^ (i + j)) x))", "by (simp add: funpow_add)"], ["proof (state)\nthis:\n  (\\<Sum>i<N. u 1 ((T ^^ i) ((T ^^ j) x))) =\n  (\\<Sum>i<N. u 1 ((T ^^ (i + j)) x))\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "also"], ["proof (state)\nthis:\n  (\\<Sum>i<N. u 1 ((T ^^ i) ((T ^^ j) x))) =\n  (\\<Sum>i<N. u 1 ((T ^^ (i + j)) x))\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "have \"... \\<le> (\\<Sum>i<N. abs(u 1 ((T^^(i+j))x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<N. u 1 ((T ^^ (i + j)) x))\n    \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ (i + j)) x)\\<bar>)", "by (rule sum_mono, auto)"], ["proof (state)\nthis:\n  (\\<Sum>i<N. u 1 ((T ^^ (i + j)) x))\n  \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ (i + j)) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "also"], ["proof (state)\nthis:\n  (\\<Sum>i<N. u 1 ((T ^^ (i + j)) x))\n  \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ (i + j)) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "have \"... = (\\<Sum>k\\<in>{j..<N+j}. abs(u 1 ((T^^k)x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<N. \\<bar>u 1 ((T ^^ (i + j)) x)\\<bar>) =\n    (\\<Sum>k = j..<N + j. \\<bar>u 1 ((T ^^ k) x)\\<bar>)", "by (rule sum.reindex_bij_betw, rule bij_betw_byWitness[where ?f' = \"\\<lambda>k. k-j\"], auto)"], ["proof (state)\nthis:\n  (\\<Sum>i<N. \\<bar>u 1 ((T ^^ (i + j)) x)\\<bar>) =\n  (\\<Sum>k = j..<N + j. \\<bar>u 1 ((T ^^ k) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "also"], ["proof (state)\nthis:\n  (\\<Sum>i<N. \\<bar>u 1 ((T ^^ (i + j)) x)\\<bar>) =\n  (\\<Sum>k = j..<N + j. \\<bar>u 1 ((T ^^ k) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "have \"... \\<le> (\\<Sum>i\\<in>{n-2*N..<n}. abs(u 1 ((T^^i) x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = j..<N + j. \\<bar>u 1 ((T ^^ k) x)\\<bar>)\n    \\<le> (\\<Sum>i = n - 2 * N..<n. \\<bar>u 1 ((T ^^ i) x)\\<bar>)", "apply (rule sum_mono2)"], ["proof (prove)\ngoal (3 subgoals):\n 1. finite {n - 2 * N..<n}\n 2. {j..<N + j} \\<subseteq> {n - 2 * N..<n}\n 3. \\<And>b.\n       b \\<in> {n - 2 * N..<n} - {j..<N + j} \\<Longrightarrow>\n       0 \\<le> \\<bar>u 1 ((T ^^ b) x)\\<bar>", "using \\<open>j\\<in>{n-2*N..<a*N}\\<close> \\<open>a*N \\<le> n - N\\<close>"], ["proof (prove)\nusing this:\n  j \\<in> {n - 2 * N..<a * N}\n  a * N \\<le> n - N\n\ngoal (3 subgoals):\n 1. finite {n - 2 * N..<n}\n 2. {j..<N + j} \\<subseteq> {n - 2 * N..<n}\n 3. \\<And>b.\n       b \\<in> {n - 2 * N..<n} - {j..<N + j} \\<Longrightarrow>\n       0 \\<le> \\<bar>u 1 ((T ^^ b) x)\\<bar>", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>k = j..<N + j. \\<bar>u 1 ((T ^^ k) x)\\<bar>)\n  \\<le> (\\<Sum>i = n - 2 * N..<n. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "also"], ["proof (state)\nthis:\n  (\\<Sum>k = j..<N + j. \\<bar>u 1 ((T ^^ k) x)\\<bar>)\n  \\<le> (\\<Sum>i = n - 2 * N..<n. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "have \"... = E2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = n - 2 * N..<n. \\<bar>u 1 ((T ^^ i) x)\\<bar>) = E2", "unfolding E2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = n - 2 * N..<n. \\<bar>u 1 ((T ^^ i) x)\\<bar>) =\n    (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "apply (rule sum.reindex_bij_betw[symmetric], rule bij_betw_byWitness[where ?f' = \"\\<lambda>i. i - (n-2*N)\"])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<forall>a\\<in>{..<2 * N}. n - (2 * N - a) - (n - 2 * N) = a\n 2. \\<forall>a'\\<in>{n - 2 * N..<n}. n - (2 * N - (a' - (n - 2 * N))) = a'\n 3. (\\<lambda>x. n - (2 * N - x)) ` {..<2 * N} \\<subseteq> {n - 2 * N..<n}\n 4. (\\<lambda>i. i - (n - 2 * N)) ` {n - 2 * N..<n} \\<subseteq> {..<2 * N}", "using \\<open>n > 2*N\\<close>"], ["proof (prove)\nusing this:\n  2 * N < n\n\ngoal (4 subgoals):\n 1. \\<forall>a\\<in>{..<2 * N}. n - (2 * N - a) - (n - 2 * N) = a\n 2. \\<forall>a'\\<in>{n - 2 * N..<n}. n - (2 * N - (a' - (n - 2 * N))) = a'\n 3. (\\<lambda>x. n - (2 * N - x)) ` {..<2 * N} \\<subseteq> {n - 2 * N..<n}\n 4. (\\<lambda>i. i - (n - 2 * N)) ` {n - 2 * N..<n} \\<subseteq> {..<2 * N}", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i = n - 2 * N..<n. \\<bar>u 1 ((T ^^ i) x)\\<bar>) = E2\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "finally"], ["proof (chain)\npicking this:\n  u N ((T ^^ j) x) \\<le> E2", "show ?thesis"], ["proof (prove)\nusing this:\n  u N ((T ^^ j) x) \\<le> E2\n\ngoal (1 subgoal):\n 1. u N ((T ^^ j) x) \\<le> E2", "by auto"], ["proof (state)\nthis:\n  u N ((T ^^ j) x) \\<le> E2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?j3 \\<in> {n - 2 * N..<a * N} \\<Longrightarrow>\n  u N ((T ^^ ?j3) x) \\<le> E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"(\\<Sum>j<a*N. u N ((T^^j) x)) - (\\<Sum>j<n-2*N. u N ((T^^j) x)) = (\\<Sum>j\\<in>{n-2*N..<a*N}. u N ((T^^j) x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j<a * N. u N ((T ^^ j) x)) -\n    (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) =\n    (\\<Sum>j = n - 2 * N..<a * N. u N ((T ^^ j) x))", "using sum.atLeastLessThan_concat[OF _ \\<open>a*N \\<ge> n - 2*N\\<close>, of 0 \"\\<lambda>j. u N ((T^^j) x)\", symmetric] atLeast0LessThan"], ["proof (prove)\nusing this:\n  0 \\<le> n - 2 * N \\<Longrightarrow>\n  (\\<Sum>j = 0..<a * N. u N ((T ^^ j) x)) =\n  (\\<Sum>j = 0..<n - 2 * N. u N ((T ^^ j) x)) +\n  (\\<Sum>j = n - 2 * N..<a * N. u N ((T ^^ j) x))\n  {0..<?n} = {..<?n}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j<a * N. u N ((T ^^ j) x)) -\n    (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) =\n    (\\<Sum>j = n - 2 * N..<a * N. u N ((T ^^ j) x))", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j<a * N. u N ((T ^^ j) x)) -\n  (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) =\n  (\\<Sum>j = n - 2 * N..<a * N. u N ((T ^^ j) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  (\\<Sum>j<a * N. u N ((T ^^ j) x)) -\n  (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) =\n  (\\<Sum>j = n - 2 * N..<a * N. u N ((T ^^ j) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... \\<le> (\\<Sum>j\\<in>{n-2*N..<a*N}. E2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j = n - 2 * N..<a * N. u N ((T ^^ j) x))\n    \\<le> (\\<Sum>j = n - 2 * N..<a * N. E2)", "by (rule sum_mono[OF I])"], ["proof (state)\nthis:\n  (\\<Sum>j = n - 2 * N..<a * N. u N ((T ^^ j) x))\n  \\<le> (\\<Sum>j = n - 2 * N..<a * N. E2)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  (\\<Sum>j = n - 2 * N..<a * N. u N ((T ^^ j) x))\n  \\<le> (\\<Sum>j = n - 2 * N..<a * N. E2)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... = (a*N - (n-2*N)) * E2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j = n - 2 * N..<a * N. E2) = real (a * N - (n - 2 * N)) * E2", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j = n - 2 * N..<a * N. E2) = real (a * N - (n - 2 * N)) * E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  (\\<Sum>j = n - 2 * N..<a * N. E2) = real (a * N - (n - 2 * N)) * E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... \\<le> N * E2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (a * N - (n - 2 * N)) * E2 \\<le> real N * E2", "using \\<open>(a*N - (n-2*N)) \\<le> N\\<close> \\<open>E2 \\<ge> 0\\<close>"], ["proof (prove)\nusing this:\n  a * N - (n - 2 * N) \\<le> N\n  0 \\<le> E2\n\ngoal (1 subgoal):\n 1. real (a * N - (n - 2 * N)) * E2 \\<le> real N * E2", "by (simp add: mult_right_mono)"], ["proof (state)\nthis:\n  real (a * N - (n - 2 * N)) * E2 \\<le> real N * E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "finally"], ["proof (chain)\npicking this:\n  (\\<Sum>j<a * N. u N ((T ^^ j) x)) - (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x))\n  \\<le> real N * E2", "have J: \"(\\<Sum>j<a*N. u N ((T^^j) x)) \\<le> (\\<Sum>j<n-2*N. u N ((T^^j) x)) + N * E2\""], ["proof (prove)\nusing this:\n  (\\<Sum>j<a * N. u N ((T ^^ j) x)) - (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x))\n  \\<le> real N * E2\n\ngoal (1 subgoal):\n 1. (\\<Sum>j<a * N. u N ((T ^^ j) x))\n    \\<le> (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) + real N * E2", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>j<a * N. u N ((T ^^ j) x))\n  \\<le> (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) + real N * E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"N * u n x = (\\<Sum>r<N. u n x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real N * u n x = (\\<Sum>r<N. u n x)", "by auto"], ["proof (state)\nthis:\n  real N * u n x = (\\<Sum>r<N. u n x)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  real N * u n x = (\\<Sum>r<N. u n x)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... \\<le> (\\<Sum>r<N. E1 + E2 + (\\<Sum>i<a. u N ((T^^(i*N+r))x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>r<N. u n x)\n    \\<le> (\\<Sum>r<N. E1 + E2 + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)))", "apply (rule sum_mono)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> {..<N} \\<Longrightarrow>\n       u n x \\<le> E1 + E2 + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "using *"], ["proof (prove)\nusing this:\n  ?r5 < N \\<Longrightarrow>\n  u n x \\<le> E1 + (\\<Sum>i<a. u N ((T ^^ (i * N + ?r5)) x)) + E2\n\ngoal (1 subgoal):\n 1. \\<And>r.\n       r \\<in> {..<N} \\<Longrightarrow>\n       u n x \\<le> E1 + E2 + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "by fastforce"], ["proof (state)\nthis:\n  (\\<Sum>r<N. u n x)\n  \\<le> (\\<Sum>r<N. E1 + E2 + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  (\\<Sum>r<N. u n x)\n  \\<le> (\\<Sum>r<N. E1 + E2 + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x)))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... = (\\<Sum>r<N. E1 + E2) + (\\<Sum>r<N. (\\<Sum>i<a. u N ((T^^(i*N+r))x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>r<N. E1 + E2 + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))) =\n    (\\<Sum>r<N. E1 + E2) +\n    (\\<Sum>r<N. \\<Sum>i<a. u N ((T ^^ (i * N + r)) x))", "by (rule sum.distrib)"], ["proof (state)\nthis:\n  (\\<Sum>r<N. E1 + E2 + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))) =\n  (\\<Sum>r<N. E1 + E2) + (\\<Sum>r<N. \\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  (\\<Sum>r<N. E1 + E2 + (\\<Sum>i<a. u N ((T ^^ (i * N + r)) x))) =\n  (\\<Sum>r<N. E1 + E2) + (\\<Sum>r<N. \\<Sum>i<a. u N ((T ^^ (i * N + r)) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... = N* (E1 + E2) + (\\<Sum>j<a*N. u N ((T^^j) x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>r<N. E1 + E2) +\n    (\\<Sum>r<N. \\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) =\n    real N * (E1 + E2) + (\\<Sum>j<a * N. u N ((T ^^ j) x))", "using sum_arith_progression"], ["proof (prove)\nusing this:\n  (\\<Sum>r<?N. \\<Sum>i<?a. ?f (i * ?N + r)) = sum ?f {..<?a * ?N}\n\ngoal (1 subgoal):\n 1. (\\<Sum>r<N. E1 + E2) +\n    (\\<Sum>r<N. \\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) =\n    real N * (E1 + E2) + (\\<Sum>j<a * N. u N ((T ^^ j) x))", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>r<N. E1 + E2) +\n  (\\<Sum>r<N. \\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) =\n  real N * (E1 + E2) + (\\<Sum>j<a * N. u N ((T ^^ j) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  (\\<Sum>r<N. E1 + E2) +\n  (\\<Sum>r<N. \\<Sum>i<a. u N ((T ^^ (i * N + r)) x)) =\n  real N * (E1 + E2) + (\\<Sum>j<a * N. u N ((T ^^ j) x))\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... \\<le> N *(E1+E2) + (\\<Sum>j<n-2*N. u N ((T^^j) x)) + N*E2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real N * (E1 + E2) + (\\<Sum>j<a * N. u N ((T ^^ j) x))\n    \\<le> real N * (E1 + E2) + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) +\n          real N * E2", "using J"], ["proof (prove)\nusing this:\n  (\\<Sum>j<a * N. u N ((T ^^ j) x))\n  \\<le> (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) + real N * E2\n\ngoal (1 subgoal):\n 1. real N * (E1 + E2) + (\\<Sum>j<a * N. u N ((T ^^ j) x))\n    \\<le> real N * (E1 + E2) + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) +\n          real N * E2", "by auto"], ["proof (state)\nthis:\n  real N * (E1 + E2) + (\\<Sum>j<a * N. u N ((T ^^ j) x))\n  \\<le> real N * (E1 + E2) + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) +\n        real N * E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  real N * (E1 + E2) + (\\<Sum>j<a * N. u N ((T ^^ j) x))\n  \\<le> real N * (E1 + E2) + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) +\n        real N * E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... = N * (E1+E2) + N * (\\<Sum>j<n-2*N. u N ((T^^j) x) / N) + N * E2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real N * (E1 + E2) + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) +\n    real N * E2 =\n    real N * (E1 + E2) +\n    real N * (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x) / real N) +\n    real N * E2", "using \\<open>N>0\\<close>"], ["proof (prove)\nusing this:\n  0 < N\n\ngoal (1 subgoal):\n 1. real N * (E1 + E2) + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) +\n    real N * E2 =\n    real N * (E1 + E2) +\n    real N * (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x) / real N) +\n    real N * E2", "by (simp add: sum_distrib_left)"], ["proof (state)\nthis:\n  real N * (E1 + E2) + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) + real N * E2 =\n  real N * (E1 + E2) +\n  real N * (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x) / real N) +\n  real N * E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "also"], ["proof (state)\nthis:\n  real N * (E1 + E2) + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x)) + real N * E2 =\n  real N * (E1 + E2) +\n  real N * (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x) / real N) +\n  real N * E2\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "have \"... = N*(E1 + E2 + (\\<Sum>j<n-2*N. u N ((T^^j) x) / N) + E2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real N * (E1 + E2) +\n    real N * (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x) / real N) +\n    real N * E2 =\n    real N * (E1 + E2 + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x) / real N) + E2)", "by (simp add: distrib_left)"], ["proof (state)\nthis:\n  real N * (E1 + E2) +\n  real N * (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x) / real N) +\n  real N * E2 =\n  real N * (E1 + E2 + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x) / real N) + E2)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "finally"], ["proof (chain)\npicking this:\n  real N * u n x\n  \\<le> real N *\n        (E1 + E2 + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x) / real N) + E2)", "have \"u n x \\<le> E1 + 2*E2 + birkhoff_sum (\\<lambda>x. u N x / N) (n-2*N) x\""], ["proof (prove)\nusing this:\n  real N * u n x\n  \\<le> real N *\n        (E1 + E2 + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x) / real N) + E2)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> E1 + 2 * E2 +\n          birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x", "unfolding birkhoff_sum_def"], ["proof (prove)\nusing this:\n  real N * u n x\n  \\<le> real N *\n        (E1 + E2 + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x) / real N) + E2)\n\ngoal (1 subgoal):\n 1. u n x \\<le> E1 + 2 * E2 + (\\<Sum>i<n - 2 * N. u N ((T ^^ i) x) / real N)", "using \\<open>N>0\\<close>"], ["proof (prove)\nusing this:\n  real N * u n x\n  \\<le> real N *\n        (E1 + E2 + (\\<Sum>j<n - 2 * N. u N ((T ^^ j) x) / real N) + E2)\n  0 < N\n\ngoal (1 subgoal):\n 1. u n x \\<le> E1 + 2 * E2 + (\\<Sum>i<n - 2 * N. u N ((T ^^ i) x) / real N)", "by auto"], ["proof (state)\nthis:\n  u n x\n  \\<le> E1 + 2 * E2 +\n        birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "then"], ["proof (chain)\npicking this:\n  u n x\n  \\<le> E1 + 2 * E2 +\n        birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x", "show ?thesis"], ["proof (prove)\nusing this:\n  u n x\n  \\<le> E1 + 2 * E2 +\n        birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "unfolding E1_def E2_def"], ["proof (prove)\nusing this:\n  u n x\n  \\<le> (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>) +\n        birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n          (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)", "by auto"], ["proof (state)\nthis:\n  u n x\n  \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n        (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Many natural cocycles are only defined almost everywhere, and then the\nsubadditivity property only makes sense almost everywhere. We will now show\nthat such an a.e.-subcocycle coincides almost everywhere with a genuine subcocycle\nin the above sense. Then, all the results for subcocycles will apply to such\na.e.-subcocycles. (Usually, in ergodic theory, subcocycles only satisfy the subadditivity\nproperty almost everywhere, but we have requested it everywhere for simplicity in the proofs.)\n\nThe subcocycle will be defined in a recursive way. This means that is can not be defined in a\nproof (since complicated function definitions are not available inside proofs). Since it is\ndefined in terms of $u$, then $u$ has to be available at the top level, which is most\nconveniently done using a context.\n\\<close>"], ["", "context\n  fixes u::\"nat \\<Rightarrow> 'a \\<Rightarrow> real\"\n  assumes H: \"\\<And>m n. AE x in M. u (n+m) x \\<le> u n x + u m ((T^^n) x)\"\n          \"\\<And>n. integrable M (u n)\"\nbegin"], ["", "private"], ["", "fun v :: \"nat \\<Rightarrow> 'a \\<Rightarrow> real\" where \"v n x = (\n  if n = 0 then max (u 0 x) 0\n  else if n = 1 then u 1 x\n  else min (u n x) (Min ((\\<lambda>k. v k x + v (n-k) ((T^^k) x))`{0<..<n})))\""], ["", "private"], ["", "lemma integrable_v:\n  \"integrable M (v n)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (v n)", "proof (induction n rule: nat_less_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>m<n. integrable M (v m) \\<Longrightarrow> integrable M (v n)", "case (1 n)"], ["proof (state)\nthis:\n  \\<forall>m<n. integrable M (v m)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>m<n. integrable M (v m) \\<Longrightarrow> integrable M (v n)", "consider \"n = 0\" | \"n = 1\" | \"n>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = 0 \\<Longrightarrow> thesis; n = 1 \\<Longrightarrow> thesis;\n     1 < n \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by linarith"], ["proof (state)\nthis:\n  \\<lbrakk>n = 0 \\<Longrightarrow> ?thesis3;\n   n = 1 \\<Longrightarrow> ?thesis3;\n   1 < n \\<Longrightarrow> ?thesis3\\<rbrakk>\n  \\<Longrightarrow> ?thesis3\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>m<n. integrable M (v m) \\<Longrightarrow> integrable M (v n)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>n = 0 \\<Longrightarrow> ?thesis3;\n   n = 1 \\<Longrightarrow> ?thesis3;\n   1 < n \\<Longrightarrow> ?thesis3\\<rbrakk>\n  \\<Longrightarrow> ?thesis3", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>n = 0 \\<Longrightarrow> ?thesis3;\n   n = 1 \\<Longrightarrow> ?thesis3;\n   1 < n \\<Longrightarrow> ?thesis3\\<rbrakk>\n  \\<Longrightarrow> ?thesis3\n\ngoal (1 subgoal):\n 1. integrable M (v n)", "proof (cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. n = 0 \\<Longrightarrow> integrable M (v n)\n 2. n = 1 \\<Longrightarrow> integrable M (v n)\n 3. 1 < n \\<Longrightarrow> integrable M (v n)", "assume \"n = 0\""], ["proof (state)\nthis:\n  n = 0\n\ngoal (3 subgoals):\n 1. n = 0 \\<Longrightarrow> integrable M (v n)\n 2. n = 1 \\<Longrightarrow> integrable M (v n)\n 3. 1 < n \\<Longrightarrow> integrable M (v n)", "have \"v 0 x = max (u 0 x) 0\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. v 0 x = max (u 0 x) 0", "by simp"], ["proof (state)\nthis:\n  v 0 ?x3 = max (u 0 ?x3) 0\n\ngoal (3 subgoals):\n 1. n = 0 \\<Longrightarrow> integrable M (v n)\n 2. n = 1 \\<Longrightarrow> integrable M (v n)\n 3. 1 < n \\<Longrightarrow> integrable M (v n)", "then"], ["proof (chain)\npicking this:\n  v 0 ?x3 = max (u 0 ?x3) 0", "show ?thesis"], ["proof (prove)\nusing this:\n  v 0 ?x3 = max (u 0 ?x3) 0\n\ngoal (1 subgoal):\n 1. integrable M (v n)", "using integrable_max[OF H(2)[of 0]] \\<open>n = 0\\<close>"], ["proof (prove)\nusing this:\n  v 0 ?x3 = max (u 0 ?x3) 0\n  integrable M ?g \\<Longrightarrow>\n  integrable M (\\<lambda>x. max (u 0 x) (?g x))\n  n = 0\n\ngoal (1 subgoal):\n 1. integrable M (v n)", "by auto"], ["proof (state)\nthis:\n  integrable M (v n)\n\ngoal (2 subgoals):\n 1. n = 1 \\<Longrightarrow> integrable M (v n)\n 2. 1 < n \\<Longrightarrow> integrable M (v n)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. n = 1 \\<Longrightarrow> integrable M (v n)\n 2. 1 < n \\<Longrightarrow> integrable M (v n)", "assume \"n = 1\""], ["proof (state)\nthis:\n  n = 1\n\ngoal (2 subgoals):\n 1. n = 1 \\<Longrightarrow> integrable M (v n)\n 2. 1 < n \\<Longrightarrow> integrable M (v n)", "have \"v 1 x = u 1 x\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. v 1 x = u 1 x", "by simp"], ["proof (state)\nthis:\n  v 1 ?x3 = u 1 ?x3\n\ngoal (2 subgoals):\n 1. n = 1 \\<Longrightarrow> integrable M (v n)\n 2. 1 < n \\<Longrightarrow> integrable M (v n)", "then"], ["proof (chain)\npicking this:\n  v 1 ?x3 = u 1 ?x3", "show ?thesis"], ["proof (prove)\nusing this:\n  v 1 ?x3 = u 1 ?x3\n\ngoal (1 subgoal):\n 1. integrable M (v n)", "using H(2)[of 1] \\<open>n = 1\\<close>"], ["proof (prove)\nusing this:\n  v 1 ?x3 = u 1 ?x3\n  integrable M (u 1)\n  n = 1\n\ngoal (1 subgoal):\n 1. integrable M (v n)", "by auto"], ["proof (state)\nthis:\n  integrable M (v n)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> integrable M (v n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> integrable M (v n)", "assume \"n > 1\""], ["proof (state)\nthis:\n  1 < n\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> integrable M (v n)", "hence \"v n x = min (u n x) (MIN k \\<in> {0<..<n}. v k x + v (n-k) ((T^^k) x))\" for x"], ["proof (prove)\nusing this:\n  1 < n\n\ngoal (1 subgoal):\n 1. v n x = min (u n x) (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x))", "by auto"], ["proof (state)\nthis:\n  v n ?x3 =\n  min (u n ?x3) (MIN k\\<in>{0<..<n}. v k ?x3 + v (n - k) ((T ^^ k) ?x3))\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> integrable M (v n)", "moreover"], ["proof (state)\nthis:\n  v n ?x3 =\n  min (u n ?x3) (MIN k\\<in>{0<..<n}. v k ?x3 + v (n - k) ((T ^^ k) ?x3))\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> integrable M (v n)", "have \"integrable M (\\<lambda>x. min (u n x) (MIN k \\<in> {0<..<n}. v k x + v (n-k) ((T^^k) x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M\n     (\\<lambda>x.\n         min (u n x) (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x)))", "apply (rule integrable_min)"], ["proof (prove)\ngoal (2 subgoals):\n 1. integrable M (u n)\n 2. integrable M\n     (\\<lambda>x. MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x))", "apply (simp add: H(2))"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M\n     (\\<lambda>x. MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x))", "apply (rule integrable_MIN, simp)"], ["proof (prove)\ngoal (2 subgoals):\n 1. {0<..<n} \\<noteq> {}\n 2. \\<And>k.\n       k \\<in> {0<..<n} \\<Longrightarrow>\n       integrable M (\\<lambda>x. v k x + v (n - k) ((T ^^ k) x))", "using \\<open>n >1\\<close>"], ["proof (prove)\nusing this:\n  1 < n\n\ngoal (2 subgoals):\n 1. {0<..<n} \\<noteq> {}\n 2. \\<And>k.\n       k \\<in> {0<..<n} \\<Longrightarrow>\n       integrable M (\\<lambda>x. v k x + v (n - k) ((T ^^ k) x))", "apply auto[1]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>k.\n       k \\<in> {0<..<n} \\<Longrightarrow>\n       integrable M (\\<lambda>x. v k x + v (n - k) ((T ^^ k) x))", "apply (rule Bochner_Integration.integrable_add)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>k. k \\<in> {0<..<n} \\<Longrightarrow> integrable M (v k)\n 2. \\<And>k.\n       k \\<in> {0<..<n} \\<Longrightarrow>\n       integrable M (\\<lambda>x. v (n - k) ((T ^^ k) x))", "using \"1.IH\""], ["proof (prove)\nusing this:\n  \\<forall>m<n. integrable M (v m)\n\ngoal (2 subgoals):\n 1. \\<And>k. k \\<in> {0<..<n} \\<Longrightarrow> integrable M (v k)\n 2. \\<And>k.\n       k \\<in> {0<..<n} \\<Longrightarrow>\n       integrable M (\\<lambda>x. v (n - k) ((T ^^ k) x))", "apply auto[1]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>k.\n       k \\<in> {0<..<n} \\<Longrightarrow>\n       integrable M (\\<lambda>x. v (n - k) ((T ^^ k) x))", "apply (rule Tn_integral_preserving(1))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>k. k \\<in> {0<..<n} \\<Longrightarrow> integrable M (v (n - k))", "using \"1.IH\""], ["proof (prove)\nusing this:\n  \\<forall>m<n. integrable M (v m)\n\ngoal (1 subgoal):\n 1. \\<And>k. k \\<in> {0<..<n} \\<Longrightarrow> integrable M (v (n - k))", "by (metis \\<open>1 < n\\<close> diff_less greaterThanLessThan_iff max_0_1(2) max_less_iff_conj)"], ["proof (state)\nthis:\n  integrable M\n   (\\<lambda>x.\n       min (u n x) (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x)))\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> integrable M (v n)", "ultimately"], ["proof (chain)\npicking this:\n  v n ?x3 =\n  min (u n ?x3) (MIN k\\<in>{0<..<n}. v k ?x3 + v (n - k) ((T ^^ k) ?x3))\n  integrable M\n   (\\<lambda>x.\n       min (u n x) (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x)))", "show ?case"], ["proof (prove)\nusing this:\n  v n ?x3 =\n  min (u n ?x3) (MIN k\\<in>{0<..<n}. v k ?x3 + v (n - k) ((T ^^ k) ?x3))\n  integrable M\n   (\\<lambda>x.\n       min (u n x) (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x)))\n\ngoal (1 subgoal):\n 1. integrable M (v n)", "by auto"], ["proof (state)\nthis:\n  integrable M (v n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  integrable M (v n)\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma u_eq_v_AE:\n  \"AE x in M. v n x = u n x\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. v n x = u n x", "proof (induction n rule: nat_less_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>m<n. AE x in M. v m x = u m x \\<Longrightarrow>\n       AE x in M. v n x = u n x", "case (1 n)"], ["proof (state)\nthis:\n  \\<forall>m<n. AE x in M. v m x = u m x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>m<n. AE x in M. v m x = u m x \\<Longrightarrow>\n       AE x in M. v n x = u n x", "consider \"n = 0\" | \"n = 1\" | \"n>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = 0 \\<Longrightarrow> thesis; n = 1 \\<Longrightarrow> thesis;\n     1 < n \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by linarith"], ["proof (state)\nthis:\n  \\<lbrakk>n = 0 \\<Longrightarrow> ?thesis3;\n   n = 1 \\<Longrightarrow> ?thesis3;\n   1 < n \\<Longrightarrow> ?thesis3\\<rbrakk>\n  \\<Longrightarrow> ?thesis3\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>m<n. AE x in M. v m x = u m x \\<Longrightarrow>\n       AE x in M. v n x = u n x", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>n = 0 \\<Longrightarrow> ?thesis3;\n   n = 1 \\<Longrightarrow> ?thesis3;\n   1 < n \\<Longrightarrow> ?thesis3\\<rbrakk>\n  \\<Longrightarrow> ?thesis3", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>n = 0 \\<Longrightarrow> ?thesis3;\n   n = 1 \\<Longrightarrow> ?thesis3;\n   1 < n \\<Longrightarrow> ?thesis3\\<rbrakk>\n  \\<Longrightarrow> ?thesis3\n\ngoal (1 subgoal):\n 1. AE x in M. v n x = u n x", "proof (cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. n = 0 \\<Longrightarrow> AE x in M. v n x = u n x\n 2. n = 1 \\<Longrightarrow> AE x in M. v n x = u n x\n 3. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "assume \"n = 0\""], ["proof (state)\nthis:\n  n = 0\n\ngoal (3 subgoals):\n 1. n = 0 \\<Longrightarrow> AE x in M. v n x = u n x\n 2. n = 1 \\<Longrightarrow> AE x in M. v n x = u n x\n 3. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "have \"AE x in M. u 0 x \\<le> u 0 x + u 0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. u 0 x \\<le> u 0 x + u 0 x", "using H(1)[of 0 0]"], ["proof (prove)\nusing this:\n  AE x in M. u (0 + 0) x \\<le> u 0 x + u 0 ((T ^^ 0) x)\n\ngoal (1 subgoal):\n 1. AE x in M. u 0 x \\<le> u 0 x + u 0 x", "by auto"], ["proof (state)\nthis:\n  AE x in M. u 0 x \\<le> u 0 x + u 0 x\n\ngoal (3 subgoals):\n 1. n = 0 \\<Longrightarrow> AE x in M. v n x = u n x\n 2. n = 1 \\<Longrightarrow> AE x in M. v n x = u n x\n 3. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "then"], ["proof (chain)\npicking this:\n  AE x in M. u 0 x \\<le> u 0 x + u 0 x", "have \"AE x in M. u 0 x \\<ge> 0\""], ["proof (prove)\nusing this:\n  AE x in M. u 0 x \\<le> u 0 x + u 0 x\n\ngoal (1 subgoal):\n 1. AE x in M. 0 \\<le> u 0 x", "by auto"], ["proof (state)\nthis:\n  AE x in M. 0 \\<le> u 0 x\n\ngoal (3 subgoals):\n 1. n = 0 \\<Longrightarrow> AE x in M. v n x = u n x\n 2. n = 1 \\<Longrightarrow> AE x in M. v n x = u n x\n 3. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "moreover"], ["proof (state)\nthis:\n  AE x in M. 0 \\<le> u 0 x\n\ngoal (3 subgoals):\n 1. n = 0 \\<Longrightarrow> AE x in M. v n x = u n x\n 2. n = 1 \\<Longrightarrow> AE x in M. v n x = u n x\n 3. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "have \"v 0 x = max (u 0 x) 0\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. v 0 x = max (u 0 x) 0", "by simp"], ["proof (state)\nthis:\n  v 0 ?x3 = max (u 0 ?x3) 0\n\ngoal (3 subgoals):\n 1. n = 0 \\<Longrightarrow> AE x in M. v n x = u n x\n 2. n = 1 \\<Longrightarrow> AE x in M. v n x = u n x\n 3. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. 0 \\<le> u 0 x\n  v 0 ?x3 = max (u 0 ?x3) 0", "show ?thesis"], ["proof (prove)\nusing this:\n  AE x in M. 0 \\<le> u 0 x\n  v 0 ?x3 = max (u 0 ?x3) 0\n\ngoal (1 subgoal):\n 1. AE x in M. v n x = u n x", "using \\<open>n = 0\\<close>"], ["proof (prove)\nusing this:\n  AE x in M. 0 \\<le> u 0 x\n  v 0 ?x3 = max (u 0 ?x3) 0\n  n = 0\n\ngoal (1 subgoal):\n 1. AE x in M. v n x = u n x", "by auto"], ["proof (state)\nthis:\n  AE x in M. v n x = u n x\n\ngoal (2 subgoals):\n 1. n = 1 \\<Longrightarrow> AE x in M. v n x = u n x\n 2. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. n = 1 \\<Longrightarrow> AE x in M. v n x = u n x\n 2. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "assume \"n = 1\""], ["proof (state)\nthis:\n  n = 1\n\ngoal (2 subgoals):\n 1. n = 1 \\<Longrightarrow> AE x in M. v n x = u n x\n 2. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "have \"v 1 x = u 1 x\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. v 1 x = u 1 x", "by simp"], ["proof (state)\nthis:\n  v 1 ?x3 = u 1 ?x3\n\ngoal (2 subgoals):\n 1. n = 1 \\<Longrightarrow> AE x in M. v n x = u n x\n 2. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "then"], ["proof (chain)\npicking this:\n  v 1 ?x3 = u 1 ?x3", "show ?thesis"], ["proof (prove)\nusing this:\n  v 1 ?x3 = u 1 ?x3\n\ngoal (1 subgoal):\n 1. AE x in M. v n x = u n x", "using \\<open>n = 1\\<close>"], ["proof (prove)\nusing this:\n  v 1 ?x3 = u 1 ?x3\n  n = 1\n\ngoal (1 subgoal):\n 1. AE x in M. v n x = u n x", "by simp"], ["proof (state)\nthis:\n  AE x in M. v n x = u n x\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "assume \"n > 1\""], ["proof (state)\nthis:\n  1 < n\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "{"], ["proof (state)\nthis:\n  1 < n\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "fix k"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "assume \"k<n\""], ["proof (state)\nthis:\n  k < n\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "then"], ["proof (chain)\npicking this:\n  k < n", "have \"AE x in M. v k x = u k x\""], ["proof (prove)\nusing this:\n  k < n\n\ngoal (1 subgoal):\n 1. AE x in M. v k x = u k x", "using \"1.IH\""], ["proof (prove)\nusing this:\n  k < n\n  \\<forall>m<n. AE x in M. v m x = u m x\n\ngoal (1 subgoal):\n 1. AE x in M. v k x = u k x", "by simp"], ["proof (state)\nthis:\n  AE x in M. v k x = u k x\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "with T_AE_iterates[OF this]"], ["proof (chain)\npicking this:\n  AE x in M. \\<forall>n. v k ((T ^^ n) x) = u k ((T ^^ n) x)\n  AE x in M. v k x = u k x", "have \"AE x in M. \\<forall>s. v k ((T^^s) x) = u k ((T^^s) x)\""], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>n. v k ((T ^^ n) x) = u k ((T ^^ n) x)\n  AE x in M. v k x = u k x\n\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>s. v k ((T ^^ s) x) = u k ((T ^^ s) x)", "by simp"], ["proof (state)\nthis:\n  AE x in M. \\<forall>s. v k ((T ^^ s) x) = u k ((T ^^ s) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "}"], ["proof (state)\nthis:\n  ?k5 < n \\<Longrightarrow>\n  AE x in M. \\<forall>s. v ?k5 ((T ^^ s) x) = u ?k5 ((T ^^ s) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "note * = this"], ["proof (state)\nthis:\n  ?k5 < n \\<Longrightarrow>\n  AE x in M. \\<forall>s. v ?k5 ((T ^^ s) x) = u ?k5 ((T ^^ s) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "have \"AE x in M. \\<forall>k \\<in> {..<n}. \\<forall>s. v k ((T^^s) x) = u k ((T^^s) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>k\\<in>{..<n}.\n                  \\<forall>s. v k ((T ^^ s) x) = u k ((T ^^ s) x)", "apply (rule AE_finite_allI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. finite {..<n}\n 2. \\<And>k.\n       k \\<in> {..<n} \\<Longrightarrow>\n       AE x in M. \\<forall>s. v k ((T ^^ s) x) = u k ((T ^^ s) x)", "using *"], ["proof (prove)\nusing this:\n  ?k5 < n \\<Longrightarrow>\n  AE x in M. \\<forall>s. v ?k5 ((T ^^ s) x) = u ?k5 ((T ^^ s) x)\n\ngoal (2 subgoals):\n 1. finite {..<n}\n 2. \\<And>k.\n       k \\<in> {..<n} \\<Longrightarrow>\n       AE x in M. \\<forall>s. v k ((T ^^ s) x) = u k ((T ^^ s) x)", "by simp_all"], ["proof (state)\nthis:\n  AE x in M. \\<forall>k\\<in>{..<n}.\n                \\<forall>s. v k ((T ^^ s) x) = u k ((T ^^ s) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "moreover"], ["proof (state)\nthis:\n  AE x in M. \\<forall>k\\<in>{..<n}.\n                \\<forall>s. v k ((T ^^ s) x) = u k ((T ^^ s) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "have \"AE x in M. \\<forall>i j. u (i+j) x \\<le> u i x + u j ((T^^i) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>i j. u (i + j) x \\<le> u i x + u j ((T ^^ i) x)", "apply (subst AE_all_countable, intro allI)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i ia. AE x in M. u (i + ia) x \\<le> u i x + u ia ((T ^^ i) x)", "using H(1)"], ["proof (prove)\nusing this:\n  AE x in M. u (?n3 + ?m3) x \\<le> u ?n3 x + u ?m3 ((T ^^ ?n3) x)\n\ngoal (1 subgoal):\n 1. \\<And>i ia. AE x in M. u (i + ia) x \\<le> u i x + u ia ((T ^^ i) x)", "by simp"], ["proof (state)\nthis:\n  AE x in M. \\<forall>i j. u (i + j) x \\<le> u i x + u j ((T ^^ i) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "moreover"], ["proof (state)\nthis:\n  AE x in M. \\<forall>i j. u (i + j) x \\<le> u i x + u j ((T ^^ i) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "{"], ["proof (state)\nthis:\n  AE x in M. \\<forall>i j. u (i + j) x \\<le> u i x + u j ((T ^^ i) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "assume \"\\<forall>k \\<in> {..<n}. \\<forall>s. v k ((T^^s) x) = u k ((T^^s) x)\"\n                   \"\\<forall>i j. u (i+j) x \\<le> u i x + u j ((T^^i) x)\""], ["proof (state)\nthis:\n  \\<forall>k\\<in>{..<n}. \\<forall>s. v k ((T ^^ s) x) = u k ((T ^^ s) x)\n  \\<forall>i j. u (i + j) x \\<le> u i x + u j ((T ^^ i) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "then"], ["proof (chain)\npicking this:\n  \\<forall>k\\<in>{..<n}. \\<forall>s. v k ((T ^^ s) x) = u k ((T ^^ s) x)\n  \\<forall>i j. u (i + j) x \\<le> u i x + u j ((T ^^ i) x)", "have Hx: \"\\<And>k s. k < n \\<Longrightarrow> v k ((T^^s) x) = u k ((T^^s) x)\"\n                    \"\\<And>i j. u (i+j) x \\<le> u i x + u j ((T^^i) x)\""], ["proof (prove)\nusing this:\n  \\<forall>k\\<in>{..<n}. \\<forall>s. v k ((T ^^ s) x) = u k ((T ^^ s) x)\n  \\<forall>i j. u (i + j) x \\<le> u i x + u j ((T ^^ i) x)\n\ngoal (1 subgoal):\n 1. (\\<And>k s.\n        k < n \\<Longrightarrow> v k ((T ^^ s) x) = u k ((T ^^ s) x)) &&&\n    (\\<And>i j. u (i + j) x \\<le> u i x + u j ((T ^^ i) x))", "by auto"], ["proof (state)\nthis:\n  ?k3 < n \\<Longrightarrow> v ?k3 ((T ^^ ?s3) x) = u ?k3 ((T ^^ ?s3) x)\n  u (?i3 + ?j3) x \\<le> u ?i3 x + u ?j3 ((T ^^ ?i3) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "{"], ["proof (state)\nthis:\n  ?k3 < n \\<Longrightarrow> v ?k3 ((T ^^ ?s3) x) = u ?k3 ((T ^^ ?s3) x)\n  u (?i3 + ?j3) x \\<le> u ?i3 x + u ?j3 ((T ^^ ?i3) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "fix k"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "assume \"k \\<in> {0<..<n}\""], ["proof (state)\nthis:\n  k \\<in> {0<..<n}\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "then"], ["proof (chain)\npicking this:\n  k \\<in> {0<..<n}", "have K: \"k<n\" \"n-k<n\""], ["proof (prove)\nusing this:\n  k \\<in> {0<..<n}\n\ngoal (1 subgoal):\n 1. k < n &&& n - k < n", "by auto"], ["proof (state)\nthis:\n  k < n\n  n - k < n\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "have \"u n x \\<le> u k x + u (n-k) ((T^^k) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x \\<le> u k x + u (n - k) ((T ^^ k) x)", "using Hx(2) K"], ["proof (prove)\nusing this:\n  u (?i3 + ?j3) x \\<le> u ?i3 x + u ?j3 ((T ^^ ?i3) x)\n  k < n\n  n - k < n\n\ngoal (1 subgoal):\n 1. u n x \\<le> u k x + u (n - k) ((T ^^ k) x)", "by (metis le_add_diff_inverse less_imp_le_nat)"], ["proof (state)\nthis:\n  u n x \\<le> u k x + u (n - k) ((T ^^ k) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "also"], ["proof (state)\nthis:\n  u n x \\<le> u k x + u (n - k) ((T ^^ k) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "have \"... = v k x + v (n-k) ((T^^k)x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u k x + u (n - k) ((T ^^ k) x) = v k x + v (n - k) ((T ^^ k) x)", "using Hx(1)[OF \\<open>k <n\\<close>, of 0] Hx(1)[OF \\<open>n-k <n\\<close>, of k]"], ["proof (prove)\nusing this:\n  v k ((T ^^ 0) x) = u k ((T ^^ 0) x)\n  v (n - k) ((T ^^ k) x) = u (n - k) ((T ^^ k) x)\n\ngoal (1 subgoal):\n 1. u k x + u (n - k) ((T ^^ k) x) = v k x + v (n - k) ((T ^^ k) x)", "by auto"], ["proof (state)\nthis:\n  u k x + u (n - k) ((T ^^ k) x) = v k x + v (n - k) ((T ^^ k) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "finally"], ["proof (chain)\npicking this:\n  u n x \\<le> v k x + v (n - k) ((T ^^ k) x)", "have \"u n x \\<le> v k x + v (n-k) ((T^^k)x)\""], ["proof (prove)\nusing this:\n  u n x \\<le> v k x + v (n - k) ((T ^^ k) x)\n\ngoal (1 subgoal):\n 1. u n x \\<le> v k x + v (n - k) ((T ^^ k) x)", "by simp"], ["proof (state)\nthis:\n  u n x \\<le> v k x + v (n - k) ((T ^^ k) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "}"], ["proof (state)\nthis:\n  ?k5 \\<in> {0<..<n} \\<Longrightarrow>\n  u n x \\<le> v ?k5 x + v (n - ?k5) ((T ^^ ?k5) x)\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "then"], ["proof (chain)\npicking this:\n  ?k5 \\<in> {0<..<n} \\<Longrightarrow>\n  u n x \\<le> v ?k5 x + v (n - ?k5) ((T ^^ ?k5) x)", "have *: \"\\<And>z. z \\<in> (\\<lambda>k. v k x + v (n-k) ((T^^k) x))`{0<..<n} \\<Longrightarrow> u n x \\<le> z\""], ["proof (prove)\nusing this:\n  ?k5 \\<in> {0<..<n} \\<Longrightarrow>\n  u n x \\<le> v ?k5 x + v (n - ?k5) ((T ^^ ?k5) x)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> (\\<lambda>k. v k x + v (n - k) ((T ^^ k) x)) `\n               {0<..<n} \\<Longrightarrow>\n       u n x \\<le> z", "by blast"], ["proof (state)\nthis:\n  ?z3\n  \\<in> (\\<lambda>k. v k x + v (n - k) ((T ^^ k) x)) `\n        {0<..<n} \\<Longrightarrow>\n  u n x \\<le> ?z3\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "have \"u n x \\<le> Min ((\\<lambda>k. v k x + v (n-k) ((T^^k) x))`{0<..<n})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x \\<le> (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x))", "apply (rule Min.boundedI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. finite ((\\<lambda>k. v k x + v (n - k) ((T ^^ k) x)) ` {0<..<n})\n 2. (\\<lambda>k. v k x + v (n - k) ((T ^^ k) x)) ` {0<..<n} \\<noteq> {}\n 3. \\<And>a.\n       a \\<in> (\\<lambda>k. v k x + v (n - k) ((T ^^ k) x)) `\n               {0<..<n} \\<Longrightarrow>\n       u n x \\<le> a", "using \\<open>n>1\\<close> *"], ["proof (prove)\nusing this:\n  1 < n\n  ?z3\n  \\<in> (\\<lambda>k. v k x + v (n - k) ((T ^^ k) x)) `\n        {0<..<n} \\<Longrightarrow>\n  u n x \\<le> ?z3\n\ngoal (3 subgoals):\n 1. finite ((\\<lambda>k. v k x + v (n - k) ((T ^^ k) x)) ` {0<..<n})\n 2. (\\<lambda>k. v k x + v (n - k) ((T ^^ k) x)) ` {0<..<n} \\<noteq> {}\n 3. \\<And>a.\n       a \\<in> (\\<lambda>k. v k x + v (n - k) ((T ^^ k) x)) `\n               {0<..<n} \\<Longrightarrow>\n       u n x \\<le> a", "by auto"], ["proof (state)\nthis:\n  u n x \\<le> (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x))\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "moreover"], ["proof (state)\nthis:\n  u n x \\<le> (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x))\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "have \"v n x = min (u n x) (Min ((\\<lambda>k. v k x + v (n-k) ((T^^k) x))`{0<..<n}))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v n x = min (u n x) (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x))", "using \\<open>1<n\\<close>"], ["proof (prove)\nusing this:\n  1 < n\n\ngoal (1 subgoal):\n 1. v n x = min (u n x) (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x))", "by auto"], ["proof (state)\nthis:\n  v n x = min (u n x) (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x))\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "ultimately"], ["proof (chain)\npicking this:\n  u n x \\<le> (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x))\n  v n x = min (u n x) (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x))", "have \"v n x = u n x\""], ["proof (prove)\nusing this:\n  u n x \\<le> (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x))\n  v n x = min (u n x) (MIN k\\<in>{0<..<n}. v k x + v (n - k) ((T ^^ k) x))\n\ngoal (1 subgoal):\n 1. v n x = u n x", "by auto"], ["proof (state)\nthis:\n  v n x = u n x\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>k\\<in>{..<n}.\n              \\<forall>s. v k ((T ^^ s) ?x5) = u k ((T ^^ s) ?x5);\n   \\<forall>i j. u (i + j) ?x5 \\<le> u i ?x5 + u j ((T ^^ i) ?x5)\\<rbrakk>\n  \\<Longrightarrow> v n ?x5 = u n ?x5\n\ngoal (1 subgoal):\n 1. 1 < n \\<Longrightarrow> AE x in M. v n x = u n x", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. \\<forall>k\\<in>{..<n}.\n                \\<forall>s. v k ((T ^^ s) x) = u k ((T ^^ s) x)\n  AE x in M. \\<forall>i j. u (i + j) x \\<le> u i x + u j ((T ^^ i) x)\n  \\<lbrakk>\\<forall>k\\<in>{..<n}.\n              \\<forall>s. v k ((T ^^ s) ?x5) = u k ((T ^^ s) ?x5);\n   \\<forall>i j. u (i + j) ?x5 \\<le> u i ?x5 + u j ((T ^^ i) ?x5)\\<rbrakk>\n  \\<Longrightarrow> v n ?x5 = u n ?x5", "show ?thesis"], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>k\\<in>{..<n}.\n                \\<forall>s. v k ((T ^^ s) x) = u k ((T ^^ s) x)\n  AE x in M. \\<forall>i j. u (i + j) x \\<le> u i x + u j ((T ^^ i) x)\n  \\<lbrakk>\\<forall>k\\<in>{..<n}.\n              \\<forall>s. v k ((T ^^ s) ?x5) = u k ((T ^^ s) ?x5);\n   \\<forall>i j. u (i + j) ?x5 \\<le> u i ?x5 + u j ((T ^^ i) ?x5)\\<rbrakk>\n  \\<Longrightarrow> v n ?x5 = u n ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. v n x = u n x", "by auto"], ["proof (state)\nthis:\n  AE x in M. v n x = u n x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  AE x in M. v n x = u n x\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma subcocycle_v:\n  \"v (n+m) x \\<le> v n x + v m ((T^^n) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "consider \"n = 0\" | \"m = 0\" | \"n>0 \\<and> m >0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = 0 \\<Longrightarrow> thesis; m = 0 \\<Longrightarrow> thesis;\n     0 < n \\<and> 0 < m \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>n = 0 \\<Longrightarrow> ?thesis3;\n   m = 0 \\<Longrightarrow> ?thesis3;\n   0 < n \\<and> 0 < m \\<Longrightarrow> ?thesis3\\<rbrakk>\n  \\<Longrightarrow> ?thesis3\n\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>n = 0 \\<Longrightarrow> ?thesis3;\n   m = 0 \\<Longrightarrow> ?thesis3;\n   0 < n \\<and> 0 < m \\<Longrightarrow> ?thesis3\\<rbrakk>\n  \\<Longrightarrow> ?thesis3", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>n = 0 \\<Longrightarrow> ?thesis3;\n   m = 0 \\<Longrightarrow> ?thesis3;\n   0 < n \\<and> 0 < m \\<Longrightarrow> ?thesis3\\<rbrakk>\n  \\<Longrightarrow> ?thesis3\n\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "proof (cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. n = 0 \\<Longrightarrow> v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n 2. m = 0 \\<Longrightarrow> v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n 3. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "case 1"], ["proof (state)\nthis:\n  n = 0\n\ngoal (3 subgoals):\n 1. n = 0 \\<Longrightarrow> v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n 2. m = 0 \\<Longrightarrow> v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n 3. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "then"], ["proof (chain)\npicking this:\n  n = 0", "have \"v n x \\<ge> 0\""], ["proof (prove)\nusing this:\n  n = 0\n\ngoal (1 subgoal):\n 1. 0 \\<le> v n x", "by simp"], ["proof (state)\nthis:\n  0 \\<le> v n x\n\ngoal (3 subgoals):\n 1. n = 0 \\<Longrightarrow> v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n 2. m = 0 \\<Longrightarrow> v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n 3. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "then"], ["proof (chain)\npicking this:\n  0 \\<le> v n x", "show ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> v n x\n\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "using \\<open>n = 0\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> v n x\n  n = 0\n\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "by auto"], ["proof (state)\nthis:\n  v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n\ngoal (2 subgoals):\n 1. m = 0 \\<Longrightarrow> v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n 2. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. m = 0 \\<Longrightarrow> v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n 2. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "case 2"], ["proof (state)\nthis:\n  m = 0\n\ngoal (2 subgoals):\n 1. m = 0 \\<Longrightarrow> v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n 2. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "then"], ["proof (chain)\npicking this:\n  m = 0", "have \"v m x \\<ge> 0\""], ["proof (prove)\nusing this:\n  m = 0\n\ngoal (1 subgoal):\n 1. 0 \\<le> v m x", "by simp"], ["proof (state)\nthis:\n  0 \\<le> v m x\n\ngoal (2 subgoals):\n 1. m = 0 \\<Longrightarrow> v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n 2. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "then"], ["proof (chain)\npicking this:\n  0 \\<le> v m x", "show ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> v m x\n\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "using \\<open>m = 0\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> v m x\n  m = 0\n\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "by auto"], ["proof (state)\nthis:\n  v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "case 3"], ["proof (state)\nthis:\n  0 < n \\<and> 0 < m\n\ngoal (1 subgoal):\n 1. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "then"], ["proof (chain)\npicking this:\n  0 < n \\<and> 0 < m", "have \"n+m > 1\""], ["proof (prove)\nusing this:\n  0 < n \\<and> 0 < m\n\ngoal (1 subgoal):\n 1. 1 < n + m", "by simp"], ["proof (state)\nthis:\n  1 < n + m\n\ngoal (1 subgoal):\n 1. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "then"], ["proof (chain)\npicking this:\n  1 < n + m", "have \"v (n+m) x = min (u(n+m) x) (Min ((\\<lambda>k. v k x + v ((n+m)-k) ((T^^k) x))`{0<..<n+m}))\""], ["proof (prove)\nusing this:\n  1 < n + m\n\ngoal (1 subgoal):\n 1. v (n + m) x =\n    min (u (n + m) x)\n     (MIN k\\<in>{0<..<n + m}. v k x + v (n + m - k) ((T ^^ k) x))", "by simp"], ["proof (state)\nthis:\n  v (n + m) x =\n  min (u (n + m) x)\n   (MIN k\\<in>{0<..<n + m}. v k x + v (n + m - k) ((T ^^ k) x))\n\ngoal (1 subgoal):\n 1. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "also"], ["proof (state)\nthis:\n  v (n + m) x =\n  min (u (n + m) x)\n   (MIN k\\<in>{0<..<n + m}. v k x + v (n + m - k) ((T ^^ k) x))\n\ngoal (1 subgoal):\n 1. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "have \"... \\<le> Min ((\\<lambda>k. v k x + v ((n+m)-k) ((T^^k) x))`{0<..<n+m})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min (u (n + m) x)\n     (MIN k\\<in>{0<..<n + m}. v k x + v (n + m - k) ((T ^^ k) x))\n    \\<le> (MIN k\\<in>{0<..<n + m}. v k x + v (n + m - k) ((T ^^ k) x))", "by simp"], ["proof (state)\nthis:\n  min (u (n + m) x)\n   (MIN k\\<in>{0<..<n + m}. v k x + v (n + m - k) ((T ^^ k) x))\n  \\<le> (MIN k\\<in>{0<..<n + m}. v k x + v (n + m - k) ((T ^^ k) x))\n\ngoal (1 subgoal):\n 1. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "also"], ["proof (state)\nthis:\n  min (u (n + m) x)\n   (MIN k\\<in>{0<..<n + m}. v k x + v (n + m - k) ((T ^^ k) x))\n  \\<le> (MIN k\\<in>{0<..<n + m}. v k x + v (n + m - k) ((T ^^ k) x))\n\ngoal (1 subgoal):\n 1. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "have \"... \\<le> v n x + v ((n+m)-n) ((T^^n) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (MIN k\\<in>{0<..<n + m}. v k x + v (n + m - k) ((T ^^ k) x))\n    \\<le> v n x + v (n + m - n) ((T ^^ n) x)", "apply (rule Min_le, simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. v n x + v (n + m - n) ((T ^^ n) x)\n    \\<in> (\\<lambda>k. v k x + v (n + m - k) ((T ^^ k) x)) ` {0<..<n + m}", "by (metis (lifting) \\<open>0 < n \\<and> 0 < m\\<close> add.commute greaterThanLessThan_iff image_iff less_add_same_cancel2)"], ["proof (state)\nthis:\n  (MIN k\\<in>{0<..<n + m}. v k x + v (n + m - k) ((T ^^ k) x))\n  \\<le> v n x + v (n + m - n) ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. 0 < n \\<and> 0 < m \\<Longrightarrow>\n    v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "finally"], ["proof (chain)\npicking this:\n  v (n + m) x \\<le> v n x + v (n + m - n) ((T ^^ n) x)", "show ?thesis"], ["proof (prove)\nusing this:\n  v (n + m) x \\<le> v n x + v (n + m - n) ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. v (n + m) x \\<le> v n x + v m ((T ^^ n) x)", "by simp"], ["proof (state)\nthis:\n  v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v (n + m) x \\<le> v n x + v m ((T ^^ n) x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_AE_in_context:\n  \"\\<exists>w. subcocycle w \\<and> (AE x in M. \\<forall>n. w n x = u n x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. subcocycle w \\<and> (AE x in M. \\<forall>n. w n x = u n x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. subcocycle w \\<and> (AE x in M. \\<forall>n. w n x = u n x)", "have \"subcocycle v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle v", "using subcocycle_v integrable_v"], ["proof (prove)\nusing this:\n  v (?n + ?m) ?x \\<le> v ?n ?x + v ?m ((T ^^ ?n) ?x)\n  integrable M (v ?n)\n\ngoal (1 subgoal):\n 1. subcocycle v", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  v (?n + ?m) ?x \\<le> v ?n ?x + v ?m ((T ^^ ?n) ?x)\n  integrable M (v ?n)\n\ngoal (1 subgoal):\n 1. (\\<forall>n. integrable M (v n)) \\<and>\n    (\\<forall>n m x. v (n + m) x \\<le> v n x + v m ((T ^^ n) x))", "by auto"], ["proof (state)\nthis:\n  subcocycle v\n\ngoal (1 subgoal):\n 1. \\<exists>w. subcocycle w \\<and> (AE x in M. \\<forall>n. w n x = u n x)", "moreover"], ["proof (state)\nthis:\n  subcocycle v\n\ngoal (1 subgoal):\n 1. \\<exists>w. subcocycle w \\<and> (AE x in M. \\<forall>n. w n x = u n x)", "have \"AE x in M. \\<forall>n. v n x = u n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>n. v n x = u n x", "by (subst AE_all_countable, intro allI, rule u_eq_v_AE)"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n. v n x = u n x\n\ngoal (1 subgoal):\n 1. \\<exists>w. subcocycle w \\<and> (AE x in M. \\<forall>n. w n x = u n x)", "ultimately"], ["proof (chain)\npicking this:\n  subcocycle v\n  AE x in M. \\<forall>n. v n x = u n x", "show ?thesis"], ["proof (prove)\nusing this:\n  subcocycle v\n  AE x in M. \\<forall>n. v n x = u n x\n\ngoal (1 subgoal):\n 1. \\<exists>w. subcocycle w \\<and> (AE x in M. \\<forall>n. w n x = u n x)", "by blast"], ["proof (state)\nthis:\n  \\<exists>w. subcocycle w \\<and> (AE x in M. \\<forall>n. w n x = u n x)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "lemma subcocycle_AE:\n  fixes u::\"nat \\<Rightarrow> 'a \\<Rightarrow> real\"\n  assumes \"\\<And>m n. AE x in M. u (n+m) x \\<le> u n x + u m ((T^^n) x)\"\n          \"\\<And>n. integrable M (u n)\"\n  shows \"\\<exists>w. subcocycle w \\<and> (AE x in M. \\<forall>n. w n x = u n x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. subcocycle w \\<and> (AE x in M. \\<forall>n. w n x = u n x)", "using subcocycle_AE_in_context assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>m n.\n              AE x in M. ?u (n + m) x \\<le> ?u n x + ?u m ((T ^^ n) x);\n   \\<And>n. integrable M (?u n)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>w.\n                       subcocycle w \\<and>\n                       (AE x in M. \\<forall>n. w n x = ?u n x)\n  AE x in M. u (?n3 + ?m3) x \\<le> u ?n3 x + u ?m3 ((T ^^ ?n3) x)\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. \\<exists>w. subcocycle w \\<and> (AE x in M. \\<forall>n. w n x = u n x)", "by blast"], ["", "subsection \\<open>The asymptotic average\\<close>"], ["", "text \\<open>In this subsection, we define the asymptotic average of a subcocycle $u$, i.e., the\nlimit of $\\int u_n(x)/n$ (the convergence follows from subadditivity of $\\int u_n$) and study its\nbasic properties, especially in terms of operations on subcocycles. In general, it can be\n$-\\infty$, so we define it in the extended reals.\\<close>"], ["", "definition subcocycle_avg_ereal::\"(nat \\<Rightarrow> 'a \\<Rightarrow> real) \\<Rightarrow> ereal\" where\n  \"subcocycle_avg_ereal u = Inf {ereal((\\<integral>x. u n x \\<partial>M) / n) |n. n > 0}\""], ["", "lemma subcocycle_avg_finite:\n  \"subcocycle_avg_ereal u < \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u < \\<infinity>", "unfolding subcocycle_avg_ereal_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sqinter> {ereal (integral\\<^sup>L M (u n) / real n) |n. 0 < n}\n    < \\<infinity>", "using Inf_less_iff less_ereal.simps(4)"], ["proof (prove)\nusing this:\n  (\\<Sqinter> ?S < ?a) = (\\<exists>x\\<in>?S. x < ?a)\n  (ereal ?x < \\<infinity>) = True\n\ngoal (1 subgoal):\n 1. \\<Sqinter> {ereal (integral\\<^sup>L M (u n) / real n) |n. 0 < n}\n    < \\<infinity>", "by blast"], ["", "lemma subcocycle_avg_subadditive:\n  assumes \"subcocycle u\"\n  shows \"subadditive (\\<lambda>n. (\\<integral>x. u n x \\<partial>M))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Fekete.subadditive (\\<lambda>n. integral\\<^sup>L M (u n))", "unfolding subadditive_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       integral\\<^sup>L M (u (m + n))\n       \\<le> integral\\<^sup>L M (u m) + integral\\<^sup>L M (u n)", "proof (intro allI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m n.\n       integral\\<^sup>L M (u (m + n))\n       \\<le> integral\\<^sup>L M (u m) + integral\\<^sup>L M (u n)", "have int_u [measurable]: \"\\<And>n. integrable M (u n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. integrable M (u n)", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. \\<And>n. integrable M (u n)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. \\<And>n. integrable M (u n)", "by auto"], ["proof (state)\nthis:\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       integral\\<^sup>L M (u (m + n))\n       \\<le> integral\\<^sup>L M (u m) + integral\\<^sup>L M (u n)", "fix m n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m n.\n       integral\\<^sup>L M (u (m + n))\n       \\<le> integral\\<^sup>L M (u m) + integral\\<^sup>L M (u n)", "have \"(\\<integral>x. u (n+m) x \\<partial>M) \\<le> (\\<integral>x. u n x + u m ((T^^n) x) \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (u (n + m)) \\<le> LINT x|M. u n x + u m ((T ^^ n) x)", "apply (rule integral_mono)"], ["proof (prove)\ngoal (3 subgoals):\n 1. integrable M (u (n + m))\n 2. integrable M (\\<lambda>x. u n x + u m ((T ^^ n) x))\n 3. \\<And>x.\n       x \\<in> space M \\<Longrightarrow>\n       u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "using int_u"], ["proof (prove)\nusing this:\n  integrable M (u ?n3)\n\ngoal (3 subgoals):\n 1. integrable M (u (n + m))\n 2. integrable M (\\<lambda>x. u n x + u m ((T ^^ n) x))\n 3. \\<And>x.\n       x \\<in> space M \\<Longrightarrow>\n       u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "apply (auto simp add: Tn_integral_preserving(1))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> space M; \\<And>n. integrable M (u n)\\<rbrakk>\n       \\<Longrightarrow> u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> space M; \\<And>n. integrable M (u n)\\<rbrakk>\n       \\<Longrightarrow> u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> space M; \\<And>n. integrable M (u n)\\<rbrakk>\n       \\<Longrightarrow> u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "by auto"], ["proof (state)\nthis:\n  integral\\<^sup>L M (u (n + m)) \\<le> LINT x|M. u n x + u m ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       integral\\<^sup>L M (u (m + n))\n       \\<le> integral\\<^sup>L M (u m) + integral\\<^sup>L M (u n)", "also"], ["proof (state)\nthis:\n  integral\\<^sup>L M (u (n + m)) \\<le> LINT x|M. u n x + u m ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       integral\\<^sup>L M (u (m + n))\n       \\<le> integral\\<^sup>L M (u m) + integral\\<^sup>L M (u n)", "have \"... \\<le> (\\<integral>x. u n x \\<partial>M) + (\\<integral>x. u m ((T^^n) x) \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. LINT x|M. u n x + u m ((T ^^ n) x)\n    \\<le> integral\\<^sup>L M (u n) + (LINT x|M. u m ((T ^^ n) x))", "using int_u"], ["proof (prove)\nusing this:\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. LINT x|M. u n x + u m ((T ^^ n) x)\n    \\<le> integral\\<^sup>L M (u n) + (LINT x|M. u m ((T ^^ n) x))", "by (auto simp add: Tn_integral_preserving(1))"], ["proof (state)\nthis:\n  LINT x|M. u n x + u m ((T ^^ n) x)\n  \\<le> integral\\<^sup>L M (u n) + (LINT x|M. u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       integral\\<^sup>L M (u (m + n))\n       \\<le> integral\\<^sup>L M (u m) + integral\\<^sup>L M (u n)", "also"], ["proof (state)\nthis:\n  LINT x|M. u n x + u m ((T ^^ n) x)\n  \\<le> integral\\<^sup>L M (u n) + (LINT x|M. u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       integral\\<^sup>L M (u (m + n))\n       \\<le> integral\\<^sup>L M (u m) + integral\\<^sup>L M (u n)", "have \"... = (\\<integral>x. u n x \\<partial>M) + (\\<integral>x. u m x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (u n) + (LINT x|M. u m ((T ^^ n) x)) =\n    integral\\<^sup>L M (u n) + integral\\<^sup>L M (u m)", "using int_u"], ["proof (prove)\nusing this:\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (u n) + (LINT x|M. u m ((T ^^ n) x)) =\n    integral\\<^sup>L M (u n) + integral\\<^sup>L M (u m)", "by (auto simp add: Tn_integral_preserving(2))"], ["proof (state)\nthis:\n  integral\\<^sup>L M (u n) + (LINT x|M. u m ((T ^^ n) x)) =\n  integral\\<^sup>L M (u n) + integral\\<^sup>L M (u m)\n\ngoal (1 subgoal):\n 1. \\<And>m n.\n       integral\\<^sup>L M (u (m + n))\n       \\<le> integral\\<^sup>L M (u m) + integral\\<^sup>L M (u n)", "finally"], ["proof (chain)\npicking this:\n  integral\\<^sup>L M (u (n + m))\n  \\<le> integral\\<^sup>L M (u n) + integral\\<^sup>L M (u m)", "show \"(\\<integral>x. u (n+m) x \\<partial>M) \\<le> (\\<integral>x. u n x \\<partial>M) + (\\<integral>x. u m x \\<partial>M)\""], ["proof (prove)\nusing this:\n  integral\\<^sup>L M (u (n + m))\n  \\<le> integral\\<^sup>L M (u n) + integral\\<^sup>L M (u m)\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (u (n + m))\n    \\<le> integral\\<^sup>L M (u n) + integral\\<^sup>L M (u m)", "by simp"], ["proof (state)\nthis:\n  integral\\<^sup>L M (u (n + m))\n  \\<le> integral\\<^sup>L M (u n) + integral\\<^sup>L M (u m)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_int_tendsto_avg_ereal:\n  assumes \"subcocycle u\"\n  shows \"(\\<lambda>n. (\\<integral>x. u n x / n \\<partial>M)) \\<longlonglongrightarrow> subcocycle_avg_ereal u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal u", "unfolding subcocycle_avg_ereal_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n    \\<longlonglongrightarrow> \\<Sqinter> {ereal\n     (integral\\<^sup>L M (u n) / real n) |\n    n. 0 < n}", "using subadditive_converges_ereal[OF subcocycle_avg_subadditive[OF assms]]"], ["proof (prove)\nusing this:\n  (\\<lambda>m. ereal (integral\\<^sup>L M (u m) / real m))\n  \\<longlonglongrightarrow> \\<Sqinter> {ereal\n   (integral\\<^sup>L M (u n) / real n) |\n  n. 0 < n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n    \\<longlonglongrightarrow> \\<Sqinter> {ereal\n     (integral\\<^sup>L M (u n) / real n) |\n    n. 0 < n}", "by auto"], ["", "text \\<open>The average behaves well under addition, scalar multiplication and max, trivially.\\<close>"], ["", "lemma subcocycle_avg_ereal_add:\n  assumes \"subcocycle u\" \"subcocycle v\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) = subcocycle_avg_ereal u + subcocycle_avg_ereal v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "have int [simp]: \"\\<And>n. integrable M (u n)\" \"\\<And>n. integrable M (v n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>n. integrable M (u n)) &&& (\\<And>n. integrable M (v n))", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n  subcocycle v\n\ngoal (1 subgoal):\n 1. (\\<And>n. integrable M (u n)) &&& (\\<And>n. integrable M (v n))", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n  (\\<forall>n. integrable M (v n)) \\<and>\n  (\\<forall>n m x. v (n + m) x \\<le> v n x + v m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. (\\<And>n. integrable M (u n)) &&& (\\<And>n. integrable M (v n))", "by auto"], ["proof (state)\nthis:\n  integrable M (u ?n3)\n  integrable M (v ?n3)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "{"], ["proof (state)\nthis:\n  integrable M (u ?n3)\n  integrable M (v ?n3)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "have \"(\\<integral>x. u n x / n \\<partial>M) + (\\<integral>x. v n x / n \\<partial>M) = (\\<integral>x. u n x / n + v n x / n \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (LINT x|M. u n x / real n) + (LINT x|M. v n x / real n) =\n    LINT x|M. u n x / real n + v n x / real n", "by (rule Bochner_Integration.integral_add[symmetric], auto)"], ["proof (state)\nthis:\n  (LINT x|M. u n x / real n) + (LINT x|M. v n x / real n) =\n  LINT x|M. u n x / real n + v n x / real n\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "also"], ["proof (state)\nthis:\n  (LINT x|M. u n x / real n) + (LINT x|M. v n x / real n) =\n  LINT x|M. u n x / real n + v n x / real n\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "have \"... = (\\<integral>x. (u n x + v n x) / n \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. LINT x|M. u n x / real n + v n x / real n =\n    LINT x|M. (u n x + v n x) / real n", "by (rule Bochner_Integration.integral_cong, auto simp add: add_divide_distrib)"], ["proof (state)\nthis:\n  LINT x|M. u n x / real n + v n x / real n =\n  LINT x|M. (u n x + v n x) / real n\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "finally"], ["proof (chain)\npicking this:\n  (LINT x|M. u n x / real n) + (LINT x|M. v n x / real n) =\n  LINT x|M. (u n x + v n x) / real n", "have \"ereal (\\<integral>x. u n x / n \\<partial>M) + (\\<integral>x. v n x / n \\<partial>M) = (\\<integral>x. (u n x + v n x) / n \\<partial>M)\""], ["proof (prove)\nusing this:\n  (LINT x|M. u n x / real n) + (LINT x|M. v n x / real n) =\n  LINT x|M. (u n x + v n x) / real n\n\ngoal (1 subgoal):\n 1. ereal (LINT x|M. u n x / real n) + ereal (LINT x|M. v n x / real n) =\n    ereal (LINT x|M. (u n x + v n x) / real n)", "by auto"], ["proof (state)\nthis:\n  ereal (LINT x|M. u n x / real n) + ereal (LINT x|M. v n x / real n) =\n  ereal (LINT x|M. (u n x + v n x) / real n)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "}"], ["proof (state)\nthis:\n  ereal (LINT x|M. u ?n5 x / real ?n5) +\n  ereal (LINT x|M. v ?n5 x / real ?n5) =\n  ereal (LINT x|M. (u ?n5 x + v ?n5 x) / real ?n5)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "moreover"], ["proof (state)\nthis:\n  ereal (LINT x|M. u ?n5 x / real ?n5) +\n  ereal (LINT x|M. v ?n5 x / real ?n5) =\n  ereal (LINT x|M. (u ?n5 x + v ?n5 x) / real ?n5)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "have \"(\\<lambda>n. ereal (\\<integral>x. u n x / n \\<partial>M) + (\\<integral>x. v n x / n \\<partial>M))\n                  \\<longlonglongrightarrow> subcocycle_avg_ereal u + subcocycle_avg_ereal v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        ereal (LINT x|M. u n x / real n) + ereal (LINT x|M. v n x / real n))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal u +\n                              subcocycle_avg_ereal v", "apply (intro tendsto_intros subcocycle_int_tendsto_avg_ereal[OF assms(1)] subcocycle_int_tendsto_avg_ereal[OF assms(2)])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> (subcocycle_avg_ereal u = \\<infinity> \\<and>\n            subcocycle_avg_ereal v = - \\<infinity> \\<or>\n            subcocycle_avg_ereal u = - \\<infinity> \\<and>\n            subcocycle_avg_ereal v = \\<infinity>)", "using subcocycle_avg_finite"], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal ?u < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<not> (subcocycle_avg_ereal u = \\<infinity> \\<and>\n            subcocycle_avg_ereal v = - \\<infinity> \\<or>\n            subcocycle_avg_ereal u = - \\<infinity> \\<and>\n            subcocycle_avg_ereal v = \\<infinity>)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      ereal (LINT x|M. u n x / real n) + ereal (LINT x|M. v n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u + subcocycle_avg_ereal v\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "ultimately"], ["proof (chain)\npicking this:\n  ereal (LINT x|M. u ?n5 x / real ?n5) +\n  ereal (LINT x|M. v ?n5 x / real ?n5) =\n  ereal (LINT x|M. (u ?n5 x + v ?n5 x) / real ?n5)\n  (\\<lambda>n.\n      ereal (LINT x|M. u n x / real n) + ereal (LINT x|M. v n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u + subcocycle_avg_ereal v", "have \"(\\<lambda>n. (\\<integral>x. (u n x + v n x) / n \\<partial>M)) \\<longlonglongrightarrow> subcocycle_avg_ereal u + subcocycle_avg_ereal v\""], ["proof (prove)\nusing this:\n  ereal (LINT x|M. u ?n5 x / real ?n5) +\n  ereal (LINT x|M. v ?n5 x / real ?n5) =\n  ereal (LINT x|M. (u ?n5 x + v ?n5 x) / real ?n5)\n  (\\<lambda>n.\n      ereal (LINT x|M. u n x / real n) + ereal (LINT x|M. v n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u + subcocycle_avg_ereal v\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. (u x xa + v x xa) / real x))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal u +\n                              subcocycle_avg_ereal v", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. (u x xa + v x xa) / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u + subcocycle_avg_ereal v\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. (u x xa + v x xa) / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u + subcocycle_avg_ereal v\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "have \"(\\<lambda>n. (\\<integral>x. (u n x + v n x) / n \\<partial>M)) \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. (u x xa + v x xa) / real x))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal\n                               (\\<lambda>n x. u n x + v n x)", "by (rule subcocycle_int_tendsto_avg_ereal[OF subcocycle_add[OF assms]])"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. (u x xa + v x xa) / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal\n                             (\\<lambda>n x. u n x + v n x)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>x. ereal (LINT xa|M. (u x xa + v x xa) / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u + subcocycle_avg_ereal v\n  (\\<lambda>x. ereal (LINT xa|M. (u x xa + v x xa) / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal\n                             (\\<lambda>n x. u n x + v n x)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. (u x xa + v x xa) / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u + subcocycle_avg_ereal v\n  (\\<lambda>x. ereal (LINT xa|M. (u x xa + v x xa) / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal\n                             (\\<lambda>n x. u n x + v n x)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "using LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. (u x xa + v x xa) / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u + subcocycle_avg_ereal v\n  (\\<lambda>x. ereal (LINT xa|M. (u x xa + v x xa) / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal\n                             (\\<lambda>n x. u n x + v n x)\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg_ereal u + subcocycle_avg_ereal v", "by blast"], ["proof (state)\nthis:\n  subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) =\n  subcocycle_avg_ereal u + subcocycle_avg_ereal v\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_avg_ereal_cmult:\n  assumes \"subcocycle u\" \"c \\<ge> (0::real)\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. c * u n x) = c * subcocycle_avg_ereal u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "proof (cases \"c = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. c = 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u\n 2. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "case True"], ["proof (state)\nthis:\n  c = 0\n\ngoal (2 subgoals):\n 1. c = 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u\n 2. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "have *: \"ereal (\\<integral>x. (c * u n x) / n \\<partial>M) = 0\" if \"n>0\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (LINT x|M. c * u n x / real n) = 0", "by (subst True, auto)"], ["proof (state)\nthis:\n  0 < ?n3 \\<Longrightarrow> ereal (LINT x|M. c * u ?n3 x / real ?n3) = 0\n\ngoal (2 subgoals):\n 1. c = 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u\n 2. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "have \"(\\<lambda>n. ereal (\\<integral>x. (c * u n x) / n \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (LINT x|M. c * u n x / real n))\n    \\<longlonglongrightarrow> 0", "by (subst lim_explicit, metis * less_le_trans zero_less_one)"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (LINT x|M. c * u n x / real n))\n  \\<longlonglongrightarrow> 0\n\ngoal (2 subgoals):\n 1. c = 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u\n 2. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (LINT x|M. c * u n x / real n))\n  \\<longlonglongrightarrow> 0\n\ngoal (2 subgoals):\n 1. c = 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u\n 2. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "have \"(\\<lambda>n. ereal (\\<integral>x. (c * u n x) / n \\<partial>M)) \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (LINT x|M. c * u n x / real n))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)", "using subcocycle_int_tendsto_avg_ereal[OF subcocycle_cmult[OF assms]]"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. c * u x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (LINT x|M. c * u n x / real n))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (LINT x|M. c * u n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\n\ngoal (2 subgoals):\n 1. c = 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u\n 2. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. ereal (LINT x|M. c * u n x / real n))\n  \\<longlonglongrightarrow> 0\n  (\\<lambda>n. ereal (LINT x|M. c * u n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)", "have \"subcocycle_avg_ereal (\\<lambda>n x. c * u n x) = 0\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal (LINT x|M. c * u n x / real n))\n  \\<longlonglongrightarrow> 0\n  (\\<lambda>n. ereal (LINT x|M. c * u n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. c * u n x) = 0", "using LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal (LINT x|M. c * u n x / real n))\n  \\<longlonglongrightarrow> 0\n  (\\<lambda>n. ereal (LINT x|M. c * u n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. c * u n x) = 0", "by blast"], ["proof (state)\nthis:\n  subcocycle_avg_ereal (\\<lambda>n x. c * u n x) = 0\n\ngoal (2 subgoals):\n 1. c = 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u\n 2. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "then"], ["proof (chain)\npicking this:\n  subcocycle_avg_ereal (\\<lambda>n x. c * u n x) = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal (\\<lambda>n x. c * u n x) = 0\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "using True"], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal (\\<lambda>n x. c * u n x) = 0\n  c = 0\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "by auto"], ["proof (state)\nthis:\n  subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n  ereal c * subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "case False"], ["proof (state)\nthis:\n  c \\<noteq> 0\n\ngoal (1 subgoal):\n 1. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "have int: \"\\<And>n. integrable M (u n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. integrable M (u n)", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. \\<And>n. integrable M (u n)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. \\<And>n. integrable M (u n)", "by auto"], ["proof (state)\nthis:\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "have \"ereal (\\<integral>x. c * u n x / n \\<partial>M) = c * ereal (\\<integral>x. u n x / n \\<partial>M)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (LINT x|M. c * u n x / real n) =\n    ereal c * ereal (LINT x|M. u n x / real n)", "by auto"], ["proof (state)\nthis:\n  ereal (LINT x|M. c * u ?n3 x / real ?n3) =\n  ereal c * ereal (LINT x|M. u ?n3 x / real ?n3)\n\ngoal (1 subgoal):\n 1. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "then"], ["proof (chain)\npicking this:\n  ereal (LINT x|M. c * u ?n3 x / real ?n3) =\n  ereal c * ereal (LINT x|M. u ?n3 x / real ?n3)", "have \"(\\<lambda>n. c * ereal (\\<integral>x. u n x / n \\<partial>M)) \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\""], ["proof (prove)\nusing this:\n  ereal (LINT x|M. c * u ?n3 x / real ?n3) =\n  ereal c * ereal (LINT x|M. u ?n3 x / real ?n3)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal c * ereal (LINT x|M. u n x / real n))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)", "using subcocycle_int_tendsto_avg_ereal[OF subcocycle_cmult[OF assms]]"], ["proof (prove)\nusing this:\n  ereal (LINT x|M. c * u ?n3 x / real ?n3) =\n  ereal c * ereal (LINT x|M. u ?n3 x / real ?n3)\n  (\\<lambda>x. ereal (LINT xa|M. c * u x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal c * ereal (LINT x|M. u n x / real n))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal c * ereal (LINT x|M. u n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\n\ngoal (1 subgoal):\n 1. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal c * ereal (LINT x|M. u n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\n\ngoal (1 subgoal):\n 1. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "have \"(\\<lambda>n. c * ereal (\\<integral>x. u n x / n \\<partial>M)) \\<longlonglongrightarrow> c * subcocycle_avg_ereal u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal c * ereal (LINT x|M. u n x / real n))\n    \\<longlonglongrightarrow> ereal c * subcocycle_avg_ereal u", "apply (rule tendsto_mult_ereal)"], ["proof (prove)\ngoal (3 subgoals):\n 1. (\\<lambda>x. ereal c) \\<longlonglongrightarrow> ereal c\n 2. (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal u\n 3. \\<not> (ereal c = 0 \\<and>\n            \\<bar>subcocycle_avg_ereal u\\<bar> = \\<infinity> \\<or>\n            subcocycle_avg_ereal u = 0 \\<and>\n            \\<bar>ereal c\\<bar> = \\<infinity>)", "using False subcocycle_int_tendsto_avg_ereal[OF assms(1)]"], ["proof (prove)\nusing this:\n  c \\<noteq> 0\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u\n\ngoal (3 subgoals):\n 1. (\\<lambda>x. ereal c) \\<longlonglongrightarrow> ereal c\n 2. (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal u\n 3. \\<not> (ereal c = 0 \\<and>\n            \\<bar>subcocycle_avg_ereal u\\<bar> = \\<infinity> \\<or>\n            subcocycle_avg_ereal u = 0 \\<and>\n            \\<bar>ereal c\\<bar> = \\<infinity>)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal c * ereal (LINT x|M. u n x / real n))\n  \\<longlonglongrightarrow> ereal c * subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. c \\<noteq> 0 \\<Longrightarrow>\n    subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. ereal c * ereal (LINT x|M. u n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\n  (\\<lambda>n. ereal c * ereal (LINT x|M. u n x / real n))\n  \\<longlonglongrightarrow> ereal c * subcocycle_avg_ereal u", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal c * ereal (LINT x|M. u n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\n  (\\<lambda>n. ereal c * ereal (LINT x|M. u n x / real n))\n  \\<longlonglongrightarrow> ereal c * subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "using LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal c * ereal (LINT x|M. u n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\n  (\\<lambda>n. ereal c * ereal (LINT x|M. u n x / real n))\n  \\<longlonglongrightarrow> ereal c * subcocycle_avg_ereal u\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n    ereal c * subcocycle_avg_ereal u", "by blast"], ["proof (state)\nthis:\n  subcocycle_avg_ereal (\\<lambda>n x. c * u n x) =\n  ereal c * subcocycle_avg_ereal u\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_avg_ereal_max:\n  assumes \"subcocycle u\" \"subcocycle v\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x)) \\<ge> max (subcocycle_avg_ereal u) (subcocycle_avg_ereal v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. max (subcocycle_avg_ereal u) (subcocycle_avg_ereal v)\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "proof (auto)"], ["proof (state)\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n 2. subcocycle_avg_ereal v\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "have int: \"integrable M (u n)\" \"integrable M (v n)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (u n) &&& integrable M (v n)", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n  subcocycle v\n\ngoal (1 subgoal):\n 1. integrable M (u n) &&& integrable M (v n)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n  (\\<forall>n. integrable M (v n)) \\<and>\n  (\\<forall>n m x. v (n + m) x \\<le> v n x + v m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. integrable M (u n) &&& integrable M (v n)", "by auto"], ["proof (state)\nthis:\n  integrable M (u ?n3)\n  integrable M (v ?n3)\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n 2. subcocycle_avg_ereal v\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "have int2: \"integrable M (\\<lambda>x. max (u n x) (v n x))\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. max (u n x) (v n x))", "using integrable_max int"], ["proof (prove)\nusing this:\n  \\<lbrakk>integrable ?M ?f; integrable ?M ?g\\<rbrakk>\n  \\<Longrightarrow> integrable ?M (\\<lambda>x. max (?f x) (?g x))\n  integrable M (u ?n3)\n  integrable M (v ?n3)\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. max (u n x) (v n x))", "by auto"], ["proof (state)\nthis:\n  integrable M (\\<lambda>x. max (u ?n3 x) (v ?n3 x))\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n 2. subcocycle_avg_ereal v\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "have \"(\\<integral>x. u n x / n \\<partial>M) \\<le> (\\<integral>x. max (u n x) (v n x) / n \\<partial>M)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. LINT x|M. u n x / real n \\<le> LINT x|M. max (u n x) (v n x) / real n", "apply (rule integral_mono)"], ["proof (prove)\ngoal (3 subgoals):\n 1. integrable M (\\<lambda>x. u n x / real n)\n 2. integrable M (\\<lambda>x. max (u n x) (v n x) / real n)\n 3. \\<And>x.\n       x \\<in> space M \\<Longrightarrow>\n       u n x / real n \\<le> max (u n x) (v n x) / real n", "using int int2"], ["proof (prove)\nusing this:\n  integrable M (u ?n3)\n  integrable M (v ?n3)\n  integrable M (\\<lambda>x. max (u ?n3 x) (v ?n3 x))\n\ngoal (3 subgoals):\n 1. integrable M (\\<lambda>x. u n x / real n)\n 2. integrable M (\\<lambda>x. max (u n x) (v n x) / real n)\n 3. \\<And>x.\n       x \\<in> space M \\<Longrightarrow>\n       u n x / real n \\<le> max (u n x) (v n x) / real n", "by (auto simp add: divide_simps)"], ["proof (state)\nthis:\n  LINT x|M. u ?n3 x / real ?n3\n  \\<le> LINT x|M. max (u ?n3 x) (v ?n3 x) / real ?n3\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n 2. subcocycle_avg_ereal v\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "then"], ["proof (chain)\npicking this:\n  LINT x|M. u ?n3 x / real ?n3\n  \\<le> LINT x|M. max (u ?n3 x) (v ?n3 x) / real ?n3", "show \"subcocycle_avg_ereal u \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\""], ["proof (prove)\nusing this:\n  LINT x|M. u ?n3 x / real ?n3\n  \\<le> LINT x|M. max (u ?n3 x) (v ?n3 x) / real ?n3\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "using LIMSEQ_le[OF subcocycle_int_tendsto_avg_ereal[OF assms(1)]\n          subcocycle_int_tendsto_avg_ereal[OF subcocycle_max[OF assms]]]"], ["proof (prove)\nusing this:\n  LINT x|M. u ?n3 x / real ?n3\n  \\<le> LINT x|M. max (u ?n3 x) (v ?n3 x) / real ?n3\n  \\<exists>N.\n     \\<forall>n\\<ge>N.\n        ereal (LINT x|M. u n x / real n)\n        \\<le> ereal\n               (LINT x|M. max (u n x) (v n x) / real n) \\<Longrightarrow>\n  subcocycle_avg_ereal u\n  \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "by auto"], ["proof (state)\nthis:\n  subcocycle_avg_ereal u\n  \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal v\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "have \"(\\<integral>x. v n x / n \\<partial>M) \\<le> (\\<integral>x. max (u n x) (v n x) / n \\<partial>M)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. LINT x|M. v n x / real n \\<le> LINT x|M. max (u n x) (v n x) / real n", "apply (rule integral_mono)"], ["proof (prove)\ngoal (3 subgoals):\n 1. integrable M (\\<lambda>x. v n x / real n)\n 2. integrable M (\\<lambda>x. max (u n x) (v n x) / real n)\n 3. \\<And>x.\n       x \\<in> space M \\<Longrightarrow>\n       v n x / real n \\<le> max (u n x) (v n x) / real n", "using int int2"], ["proof (prove)\nusing this:\n  integrable M (u ?n3)\n  integrable M (v ?n3)\n  integrable M (\\<lambda>x. max (u ?n3 x) (v ?n3 x))\n\ngoal (3 subgoals):\n 1. integrable M (\\<lambda>x. v n x / real n)\n 2. integrable M (\\<lambda>x. max (u n x) (v n x) / real n)\n 3. \\<And>x.\n       x \\<in> space M \\<Longrightarrow>\n       v n x / real n \\<le> max (u n x) (v n x) / real n", "by (auto simp add: divide_simps)"], ["proof (state)\nthis:\n  LINT x|M. v ?n3 x / real ?n3\n  \\<le> LINT x|M. max (u ?n3 x) (v ?n3 x) / real ?n3\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal v\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "then"], ["proof (chain)\npicking this:\n  LINT x|M. v ?n3 x / real ?n3\n  \\<le> LINT x|M. max (u ?n3 x) (v ?n3 x) / real ?n3", "show \"subcocycle_avg_ereal v \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\""], ["proof (prove)\nusing this:\n  LINT x|M. v ?n3 x / real ?n3\n  \\<le> LINT x|M. max (u ?n3 x) (v ?n3 x) / real ?n3\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal v\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "using LIMSEQ_le[OF subcocycle_int_tendsto_avg_ereal[OF assms(2)]\n          subcocycle_int_tendsto_avg_ereal[OF subcocycle_max[OF assms]]]"], ["proof (prove)\nusing this:\n  LINT x|M. v ?n3 x / real ?n3\n  \\<le> LINT x|M. max (u ?n3 x) (v ?n3 x) / real ?n3\n  \\<exists>N.\n     \\<forall>n\\<ge>N.\n        ereal (LINT x|M. v n x / real n)\n        \\<le> ereal\n               (LINT x|M. max (u n x) (v n x) / real n) \\<Longrightarrow>\n  subcocycle_avg_ereal v\n  \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal v\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "by auto"], ["proof (state)\nthis:\n  subcocycle_avg_ereal v\n  \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>For a Birkhoff sum, the average at each time is the same, equal to the average of the\nfunction, so the asymptotic average is also equal to this common value.\\<close>"], ["", "lemma subcocycle_avg_ereal_birkhoff:\n  assumes \"integrable M u\"\n  shows \"subcocycle_avg_ereal (birkhoff_sum u) = (\\<integral>x. u x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (birkhoff_sum u) = ereal (integral\\<^sup>L M u)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (birkhoff_sum u) = ereal (integral\\<^sup>L M u)", "have *: \"ereal (\\<integral>x. (birkhoff_sum u n x) / n \\<partial>M) = (\\<integral>x. u x \\<partial>M)\" if \"n>0\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (LINT x|M. birkhoff_sum u n x / real n) =\n    ereal (integral\\<^sup>L M u)", "using birkhoff_sum_integral(2)[OF assms] that"], ["proof (prove)\nusing this:\n  integral\\<^sup>L M (birkhoff_sum u ?n) =\n  real ?n *\\<^sub>R integral\\<^sup>L M u\n  0 < n\n\ngoal (1 subgoal):\n 1. ereal (LINT x|M. birkhoff_sum u n x / real n) =\n    ereal (integral\\<^sup>L M u)", "by auto"], ["proof (state)\nthis:\n  0 < ?n3 \\<Longrightarrow>\n  ereal (LINT x|M. birkhoff_sum u ?n3 x / real ?n3) =\n  ereal (integral\\<^sup>L M u)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (birkhoff_sum u) = ereal (integral\\<^sup>L M u)", "have \"(\\<lambda>n. ereal (\\<integral>x. (birkhoff_sum u n x) / n \\<partial>M)) \\<longlonglongrightarrow> (\\<integral>x. u x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (LINT x|M. birkhoff_sum u n x / real n))\n    \\<longlonglongrightarrow> ereal (integral\\<^sup>L M u)", "by (subst lim_explicit, metis * less_le_trans zero_less_one)"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (LINT x|M. birkhoff_sum u n x / real n))\n  \\<longlonglongrightarrow> ereal (integral\\<^sup>L M u)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (birkhoff_sum u) = ereal (integral\\<^sup>L M u)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (LINT x|M. birkhoff_sum u n x / real n))\n  \\<longlonglongrightarrow> ereal (integral\\<^sup>L M u)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (birkhoff_sum u) = ereal (integral\\<^sup>L M u)", "have \"(\\<lambda>n. ereal (\\<integral>x. (birkhoff_sum u n x) / n \\<partial>M)) \\<longlonglongrightarrow> subcocycle_avg_ereal (birkhoff_sum u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (LINT x|M. birkhoff_sum u n x / real n))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal (birkhoff_sum u)", "using subcocycle_int_tendsto_avg_ereal[OF subcocycle_birkhoff[OF assms]]"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. birkhoff_sum u x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (birkhoff_sum u)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (LINT x|M. birkhoff_sum u n x / real n))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal (birkhoff_sum u)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (LINT x|M. birkhoff_sum u n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (birkhoff_sum u)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (birkhoff_sum u) = ereal (integral\\<^sup>L M u)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. ereal (LINT x|M. birkhoff_sum u n x / real n))\n  \\<longlonglongrightarrow> ereal (integral\\<^sup>L M u)\n  (\\<lambda>n. ereal (LINT x|M. birkhoff_sum u n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (birkhoff_sum u)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal (LINT x|M. birkhoff_sum u n x / real n))\n  \\<longlonglongrightarrow> ereal (integral\\<^sup>L M u)\n  (\\<lambda>n. ereal (LINT x|M. birkhoff_sum u n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (birkhoff_sum u)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (birkhoff_sum u) = ereal (integral\\<^sup>L M u)", "using LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal (LINT x|M. birkhoff_sum u n x / real n))\n  \\<longlonglongrightarrow> ereal (integral\\<^sup>L M u)\n  (\\<lambda>n. ereal (LINT x|M. birkhoff_sum u n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal (birkhoff_sum u)\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (birkhoff_sum u) = ereal (integral\\<^sup>L M u)", "by blast"], ["proof (state)\nthis:\n  subcocycle_avg_ereal (birkhoff_sum u) = ereal (integral\\<^sup>L M u)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>In nice situations, where one can avoid the use of ereal, the following\ndefinition is more convenient. The kind of statements we are after is as follows: if the\nereal average is finite, then something holds, likely involving the real average.\n\nIn particular, we show in this setting what we have proved above under this new assumption:\nconvergence (in real numbers) of the average to the asymptotic average, as well as good behavior\nunder sum, scalar multiplication by positive numbers, max, formula for Birkhoff sums.\\<close>"], ["", "definition subcocycle_avg::\"(nat \\<Rightarrow> 'a \\<Rightarrow> real) \\<Rightarrow> real\" where\n  \"subcocycle_avg u = real_of_ereal(subcocycle_avg_ereal u)\""], ["", "lemma subcocycle_avg_real_ereal:\n  assumes \"subcocycle_avg_ereal u > - \\<infinity>\"\n  shows \"subcocycle_avg_ereal u = ereal(subcocycle_avg u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u = ereal (subcocycle_avg u)", "unfolding subcocycle_avg_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u = ereal (real_of_ereal (subcocycle_avg_ereal u))", "using assms subcocycle_avg_finite[of u] ereal_real"], ["proof (prove)\nusing this:\n  - \\<infinity> < subcocycle_avg_ereal u\n  subcocycle_avg_ereal u < \\<infinity>\n  ereal (real_of_ereal ?x) =\n  (if \\<bar>?x\\<bar> = \\<infinity> then 0 else ?x)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u = ereal (real_of_ereal (subcocycle_avg_ereal u))", "by auto"], ["", "lemma subcocycle_int_tendsto_avg:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > - \\<infinity>\"\n  shows \"(\\<lambda>n. (\\<integral>x. u n x / n \\<partial>M)) \\<longlonglongrightarrow> subcocycle_avg u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. LINT x|M. u n x / real n)\n    \\<longlonglongrightarrow> subcocycle_avg u", "using subcocycle_avg_real_ereal[OF assms(2)] subcocycle_int_tendsto_avg_ereal[OF assms(1)]"], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal u = ereal (subcocycle_avg u)\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. LINT x|M. u n x / real n)\n    \\<longlonglongrightarrow> subcocycle_avg u", "by auto"], ["", "lemma subcocycle_avg_add:\n  assumes \"subcocycle u\" \"subcocycle v\" \"subcocycle_avg_ereal u > - \\<infinity>\" \"subcocycle_avg_ereal v > - \\<infinity>\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) > -\\<infinity>\"\n        \"subcocycle_avg (\\<lambda>n x. u n x + v n x) = subcocycle_avg u + subcocycle_avg v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) &&&\n    subcocycle_avg (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg u + subcocycle_avg v", "using assms subcocycle_avg_finite real_of_ereal_add"], ["proof (prove)\nusing this:\n  subcocycle u\n  subcocycle v\n  - \\<infinity> < subcocycle_avg_ereal u\n  - \\<infinity> < subcocycle_avg_ereal v\n  subcocycle_avg_ereal ?u < \\<infinity>\n  real_of_ereal (?a + ?b) =\n  (if \\<bar>?a\\<bar> = \\<infinity> \\<and> \\<bar>?b\\<bar> = \\<infinity> \\<or>\n      \\<bar>?a\\<bar> \\<noteq> \\<infinity> \\<and>\n      \\<bar>?b\\<bar> \\<noteq> \\<infinity>\n   then real_of_ereal ?a + real_of_ereal ?b else 0)\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) &&&\n    subcocycle_avg (\\<lambda>n x. u n x + v n x) =\n    subcocycle_avg u + subcocycle_avg v", "unfolding subcocycle_avg_def subcocycle_avg_ereal_add[OF assms(1) assms(2)]"], ["proof (prove)\nusing this:\n  subcocycle u\n  subcocycle v\n  - \\<infinity> < subcocycle_avg_ereal u\n  - \\<infinity> < subcocycle_avg_ereal v\n  subcocycle_avg_ereal ?u < \\<infinity>\n  real_of_ereal (?a + ?b) =\n  (if \\<bar>?a\\<bar> = \\<infinity> \\<and> \\<bar>?b\\<bar> = \\<infinity> \\<or>\n      \\<bar>?a\\<bar> \\<noteq> \\<infinity> \\<and>\n      \\<bar>?b\\<bar> \\<noteq> \\<infinity>\n   then real_of_ereal ?a + real_of_ereal ?b else 0)\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal u + subcocycle_avg_ereal v &&&\n    real_of_ereal (subcocycle_avg_ereal u + subcocycle_avg_ereal v) =\n    real_of_ereal (subcocycle_avg_ereal u) +\n    real_of_ereal (subcocycle_avg_ereal v)", "by auto"], ["", "lemma subcocycle_avg_cmult:\n  assumes \"subcocycle u\" \"c \\<ge> (0::real)\" \"subcocycle_avg_ereal u > - \\<infinity>\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. c * u n x) > - \\<infinity>\"\n        \"subcocycle_avg (\\<lambda>n x. c * u n x) = c * subcocycle_avg u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. c * u n x) &&&\n    subcocycle_avg (\\<lambda>n x. c * u n x) = c * subcocycle_avg u", "using assms subcocycle_avg_finite"], ["proof (prove)\nusing this:\n  subcocycle u\n  0 \\<le> c\n  - \\<infinity> < subcocycle_avg_ereal u\n  subcocycle_avg_ereal ?u < \\<infinity>\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. c * u n x) &&&\n    subcocycle_avg (\\<lambda>n x. c * u n x) = c * subcocycle_avg u", "unfolding subcocycle_avg_def subcocycle_avg_ereal_cmult[OF assms(1) assms(2)]"], ["proof (prove)\nusing this:\n  subcocycle u\n  0 \\<le> c\n  - \\<infinity> < subcocycle_avg_ereal u\n  subcocycle_avg_ereal ?u < \\<infinity>\n\ngoal (1 subgoal):\n 1. - \\<infinity> < ereal c * subcocycle_avg_ereal u &&&\n    real_of_ereal (ereal c * subcocycle_avg_ereal u) =\n    c * real_of_ereal (subcocycle_avg_ereal u)", "by auto"], ["", "lemma subcocycle_avg_max:\n  assumes \"subcocycle u\" \"subcocycle v\" \"subcocycle_avg_ereal u > - \\<infinity>\" \"subcocycle_avg_ereal v > - \\<infinity>\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x)) > -\\<infinity>\"\n        \"subcocycle_avg (\\<lambda>n x. max (u n x) (v n x)) \\<ge> max (subcocycle_avg u) (subcocycle_avg v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity>\n    < subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x)) &&&\n    max (subcocycle_avg u) (subcocycle_avg v)\n    \\<le> subcocycle_avg (\\<lambda>n x. max (u n x) (v n x))", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n 2. max (subcocycle_avg u) (subcocycle_avg v)\n    \\<le> subcocycle_avg (\\<lambda>n x. max (u n x) (v n x))", "show *: \"subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x)) > - \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "using assms(3) subcocycle_avg_ereal_max[OF assms(1) assms(2)]"], ["proof (prove)\nusing this:\n  - \\<infinity> < subcocycle_avg_ereal u\n  max (subcocycle_avg_ereal u) (subcocycle_avg_ereal v)\n  \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "by auto"], ["proof (state)\nthis:\n  - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n\ngoal (1 subgoal):\n 1. max (subcocycle_avg u) (subcocycle_avg v)\n    \\<le> subcocycle_avg (\\<lambda>n x. max (u n x) (v n x))", "have \"ereal (subcocycle_avg (\\<lambda>n x. max (u n x) (v n x))) \\<ge> max (ereal(subcocycle_avg u)) (ereal(subcocycle_avg v))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. max (ereal (subcocycle_avg u)) (ereal (subcocycle_avg v))\n    \\<le> ereal (subcocycle_avg (\\<lambda>n x. max (u n x) (v n x)))", "using subcocycle_avg_real_ereal[OF assms(3)] subcocycle_avg_real_ereal[OF assms(4)]\n      subcocycle_avg_real_ereal[OF *] subcocycle_avg_ereal_max[OF assms(1) assms(2)]"], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal u = ereal (subcocycle_avg u)\n  subcocycle_avg_ereal v = ereal (subcocycle_avg v)\n  subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x)) =\n  ereal (subcocycle_avg (\\<lambda>n x. max (u n x) (v n x)))\n  max (subcocycle_avg_ereal u) (subcocycle_avg_ereal v)\n  \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n\ngoal (1 subgoal):\n 1. max (ereal (subcocycle_avg u)) (ereal (subcocycle_avg v))\n    \\<le> ereal (subcocycle_avg (\\<lambda>n x. max (u n x) (v n x)))", "by auto"], ["proof (state)\nthis:\n  max (ereal (subcocycle_avg u)) (ereal (subcocycle_avg v))\n  \\<le> ereal (subcocycle_avg (\\<lambda>n x. max (u n x) (v n x)))\n\ngoal (1 subgoal):\n 1. max (subcocycle_avg u) (subcocycle_avg v)\n    \\<le> subcocycle_avg (\\<lambda>n x. max (u n x) (v n x))", "then"], ["proof (chain)\npicking this:\n  max (ereal (subcocycle_avg u)) (ereal (subcocycle_avg v))\n  \\<le> ereal (subcocycle_avg (\\<lambda>n x. max (u n x) (v n x)))", "show \"subcocycle_avg (\\<lambda>n x. max (u n x) (v n x)) \\<ge> max (subcocycle_avg u) (subcocycle_avg v)\""], ["proof (prove)\nusing this:\n  max (ereal (subcocycle_avg u)) (ereal (subcocycle_avg v))\n  \\<le> ereal (subcocycle_avg (\\<lambda>n x. max (u n x) (v n x)))\n\ngoal (1 subgoal):\n 1. max (subcocycle_avg u) (subcocycle_avg v)\n    \\<le> subcocycle_avg (\\<lambda>n x. max (u n x) (v n x))", "by auto"], ["proof (state)\nthis:\n  max (subcocycle_avg u) (subcocycle_avg v)\n  \\<le> subcocycle_avg (\\<lambda>n x. max (u n x) (v n x))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_avg_birkhoff:\n  assumes \"integrable M u\"\n  shows \"subcocycle_avg_ereal (birkhoff_sum u) > - \\<infinity>\"\n        \"subcocycle_avg (birkhoff_sum u) = (\\<integral>x. u x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (birkhoff_sum u) &&&\n    subcocycle_avg (birkhoff_sum u) = integral\\<^sup>L M u", "unfolding subcocycle_avg_def subcocycle_avg_ereal_birkhoff[OF assms(1)]"], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < ereal (integral\\<^sup>L M u) &&&\n    real_of_ereal (ereal (integral\\<^sup>L M u)) = integral\\<^sup>L M u", "by auto"], ["", "end"], ["", "subsection \\<open>Almost sure convergence of subcocycles\\<close>"], ["", "text \\<open>In this paragraph, we prove Kingman's theorem, i.e., the almost sure convergence of\nsubcocycles. Their limit is almost surely invariant. There is no really easy proof. The one we use\nbelow is arguably the simplest known one, due to Steele (1989). The idea is to show that the limsup\nof the subcocycle is bounded by the liminf (which is almost surely constant along trajectories), by\nusing subadditivity along time intervals where the liminf is almost reached, of length at most $N$.\nFor some points, the liminf takes a large time $>N$ to be reached. We neglect those times,\nintroducing an additional error that gets smaller with $N$, thanks to Birkhoff ergodic theorem\napplied to the set of bad points. The error is most easily managed if the subcocycle is assumed to\nbe nonpositive, which one can assume in a first step. The general case is reduced to this one by\nreplacing $u_n$ with $u_n - S_n u_1 \\leq 0$, and using Birkhoff theorem to control $S_n u_1$.\\<close>"], ["", "context fmpt begin"], ["", "text \\<open>First, as explained above, we prove the theorem for nonpositive subcocycles.\\<close>"], ["", "lemma kingman_theorem_AE_aux1:\n  assumes \"subcocycle u\"\n          \"\\<And>x. u 1 x \\<le> 0\"\n  shows \"\\<exists>(g::'a\\<Rightarrow>ereal). (g\\<in>borel_measurable Invariants \\<and> (\\<forall>x. g x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "define l where \"l = (\\<lambda>x. liminf (\\<lambda>n. u n x / n))\""], ["proof (state)\nthis:\n  l = (\\<lambda>x. liminf (\\<lambda>xa. ereal (u xa x / real xa)))\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have u_meas [measurable]: \"\\<And>n. u n \\<in> borel_measurable M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. u n \\<in> borel_measurable M", "using assms(1)"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. \\<And>n. u n \\<in> borel_measurable M", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. \\<And>n. u n \\<in> borel_measurable M", "by auto"], ["proof (state)\nthis:\n  u ?n3 \\<in> borel_measurable M\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have l_meas [measurable]: \"l \\<in> borel_measurable M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l \\<in> borel_measurable M", "unfolding l_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. liminf (\\<lambda>xa. ereal (u xa x / real xa)))\n    \\<in> borel_measurable M", "by auto"], ["proof (state)\nthis:\n  l \\<in> borel_measurable M\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "{"], ["proof (state)\nthis:\n  l \\<in> borel_measurable M\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "assume *: \"(\\<lambda>n. birkhoff_sum (u 1) n x / n) \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\""], ["proof (state)\nthis:\n  (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x", "have \"(\\<lambda>n. birkhoff_sum (u 1) n x / n) \\<longlonglongrightarrow> ereal(real_cond_exp M Invariants (u 1) x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa))\n    \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants (u 1) x)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa))\n  \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants (u 1) x)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa))\n  \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants (u 1) x)", "have a: \"liminf (\\<lambda>n. birkhoff_sum (u 1) n x / n) = ereal(real_cond_exp M Invariants (u 1) x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa))\n  \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants (u 1) x)\n\ngoal (1 subgoal):\n 1. liminf (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa)) =\n    ereal (real_cond_exp M Invariants (u 1) x)", "using lim_imp_Liminf"], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa))\n  \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants (u 1) x)\n  \\<lbrakk>?F \\<noteq> \\<bottom>;\n   (?f \\<longlongrightarrow> ?f0.0) ?F\\<rbrakk>\n  \\<Longrightarrow> Liminf ?F ?f = ?f0.0\n\ngoal (1 subgoal):\n 1. liminf (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa)) =\n    ereal (real_cond_exp M Invariants (u 1) x)", "by force"], ["proof (state)\nthis:\n  liminf (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa)) =\n  ereal (real_cond_exp M Invariants (u 1) x)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have \"ereal(u n x / n) \\<le> ereal(birkhoff_sum (u 1) n x / n)\" if \"n>0\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (u n x / real n) \\<le> ereal (birkhoff_sum (u 1) n x / real n)", "using subcocycle_bounded_by_birkhoff1[OF assms(1) that, of x] that"], ["proof (prove)\nusing this:\n  u n x \\<le> birkhoff_sum (u 1) n x\n  0 < n\n\ngoal (1 subgoal):\n 1. ereal (u n x / real n) \\<le> ereal (birkhoff_sum (u 1) n x / real n)", "by (simp add: divide_right_mono)"], ["proof (state)\nthis:\n  0 < ?n3 \\<Longrightarrow>\n  ereal (u ?n3 x / real ?n3)\n  \\<le> ereal (birkhoff_sum (u 1) ?n3 x / real ?n3)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "with eventually_mono[OF eventually_gt_at_top[of 0] this]"], ["proof (chain)\npicking this:\n  (\\<And>x. (0::?'b8) < x \\<Longrightarrow> 0 < ?n4 x) \\<Longrightarrow>\n  \\<forall>\\<^sub>F xa in at_top.\n     ereal (u (?n4 xa) x / real (?n4 xa))\n     \\<le> ereal (birkhoff_sum (u 1) (?n4 xa) x / real (?n4 xa))\n  0 < ?n3 \\<Longrightarrow>\n  ereal (u ?n3 x / real ?n3)\n  \\<le> ereal (birkhoff_sum (u 1) ?n3 x / real ?n3)", "have \"eventually (\\<lambda>n. ereal(u n x / n) \\<le> ereal(birkhoff_sum (u 1) n x / n)) sequentially\""], ["proof (prove)\nusing this:\n  (\\<And>x. (0::?'b8) < x \\<Longrightarrow> 0 < ?n4 x) \\<Longrightarrow>\n  \\<forall>\\<^sub>F xa in at_top.\n     ereal (u (?n4 xa) x / real (?n4 xa))\n     \\<le> ereal (birkhoff_sum (u 1) (?n4 xa) x / real (?n4 xa))\n  0 < ?n3 \\<Longrightarrow>\n  ereal (u ?n3 x / real ?n3)\n  \\<le> ereal (birkhoff_sum (u 1) ?n3 x / real ?n3)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       ereal (u n x / real n) \\<le> ereal (birkhoff_sum (u 1) n x / real n)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     ereal (u n x / real n) \\<le> ereal (birkhoff_sum (u 1) n x / real n)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     ereal (u n x / real n) \\<le> ereal (birkhoff_sum (u 1) n x / real n)", "have \"liminf (\\<lambda>n. u n x / n) \\<le> liminf (\\<lambda>n. birkhoff_sum (u 1) n x / n)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     ereal (u n x / real n) \\<le> ereal (birkhoff_sum (u 1) n x / real n)\n\ngoal (1 subgoal):\n 1. liminf (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> liminf (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa))", "by (simp add: Liminf_mono)"], ["proof (state)\nthis:\n  liminf (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<le> liminf (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa))\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  liminf (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<le> liminf (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa))", "have \"l x < \\<infinity>\""], ["proof (prove)\nusing this:\n  liminf (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<le> liminf (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa))\n\ngoal (1 subgoal):\n 1. l x < \\<infinity>", "unfolding l_def"], ["proof (prove)\nusing this:\n  liminf (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<le> liminf (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa))\n\ngoal (1 subgoal):\n 1. liminf (\\<lambda>xa. ereal (u xa x / real xa)) < \\<infinity>", "using a"], ["proof (prove)\nusing this:\n  liminf (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<le> liminf (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa))\n  liminf (\\<lambda>xa. ereal (birkhoff_sum (u 1) xa x / real xa)) =\n  ereal (real_cond_exp M Invariants (u 1) x)\n\ngoal (1 subgoal):\n 1. liminf (\\<lambda>xa. ereal (u xa x / real xa)) < \\<infinity>", "by auto"], ["proof (state)\nthis:\n  l x < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "}"], ["proof (state)\nthis:\n  (\\<lambda>n. birkhoff_sum (u 1) n ?x5 / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1)\n                             ?x5 \\<Longrightarrow>\n  l ?x5 < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. birkhoff_sum (u 1) n ?x5 / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1)\n                             ?x5 \\<Longrightarrow>\n  l ?x5 < \\<infinity>", "have \"AE x in M. l x < \\<infinity>\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. birkhoff_sum (u 1) n ?x5 / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1)\n                             ?x5 \\<Longrightarrow>\n  l ?x5 < \\<infinity>\n\ngoal (1 subgoal):\n 1. AE x in M. l x < \\<infinity>", "using birkhoff_theorem_AE_nonergodic[of \"u 1\"] subcocycle_def assms(1)"], ["proof (prove)\nusing this:\n  (\\<lambda>n. birkhoff_sum (u 1) n ?x5 / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1)\n                             ?x5 \\<Longrightarrow>\n  l ?x5 < \\<infinity>\n  integrable M (u 1) \\<Longrightarrow>\n  AE x in M. (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\n  subcocycle ?u =\n  ((\\<forall>n. integrable M (?u n)) \\<and>\n   (\\<forall>n m x. ?u (n + m) x \\<le> ?u n x + ?u m ((T ^^ n) x)))\n  subcocycle u\n\ngoal (1 subgoal):\n 1. AE x in M. l x < \\<infinity>", "by auto"], ["proof (state)\nthis:\n  AE x in M. l x < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have l_dec: \"l x \\<le> l (T x)\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "have \"l x = liminf (\\<lambda>n. ereal ((u (n+1) x)/(n+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l x = liminf (\\<lambda>n. ereal (u (n + 1) x / real (n + 1)))", "unfolding l_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. liminf (\\<lambda>xa. ereal (u xa x / real xa)) =\n    liminf (\\<lambda>n. ereal (u (n + 1) x / real (n + 1)))", "by (rule liminf_shift[of \"\\<lambda>n. ereal (u n x / real n)\", symmetric])"], ["proof (state)\nthis:\n  l x = liminf (\\<lambda>n. ereal (u (n + 1) x / real (n + 1)))\n\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "also"], ["proof (state)\nthis:\n  l x = liminf (\\<lambda>n. ereal (u (n + 1) x / real (n + 1)))\n\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "have \"... \\<le> liminf (\\<lambda>n. ereal((u 1 x)/(n+1)) + ereal((u n (T x))/(n+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. liminf (\\<lambda>n. ereal (u (n + 1) x / real (n + 1)))\n    \\<le> liminf\n           (\\<lambda>n.\n               ereal (u 1 x / real (n + 1)) +\n               ereal (u n (T x) / real (n + 1)))", "proof (rule Liminf_mono[OF eventuallyI])"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       ereal (u (xa + 1) x / real (xa + 1))\n       \\<le> ereal (u 1 x / real (xa + 1)) +\n             ereal (u xa (T x) / real (xa + 1))", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       ereal (u (xa + 1) x / real (xa + 1))\n       \\<le> ereal (u 1 x / real (xa + 1)) +\n             ereal (u xa (T x) / real (xa + 1))", "have \"u (1+n) x \\<le> u 1 x + u n ((T^^1) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (1 + n) x \\<le> u 1 x + u n ((T ^^ 1) x)", "using assms(1)"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. u (1 + n) x \\<le> u 1 x + u n ((T ^^ 1) x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. u (1 + n) x \\<le> u 1 x + u n ((T ^^ 1) x)", "by blast"], ["proof (state)\nthis:\n  u (1 + n) x \\<le> u 1 x + u n ((T ^^ 1) x)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       ereal (u (xa + 1) x / real (xa + 1))\n       \\<le> ereal (u 1 x / real (xa + 1)) +\n             ereal (u xa (T x) / real (xa + 1))", "then"], ["proof (chain)\npicking this:\n  u (1 + n) x \\<le> u 1 x + u n ((T ^^ 1) x)", "have \"u (n+1) x \\<le> u 1 x + u n (T x)\""], ["proof (prove)\nusing this:\n  u (1 + n) x \\<le> u 1 x + u n ((T ^^ 1) x)\n\ngoal (1 subgoal):\n 1. u (n + 1) x \\<le> u 1 x + u n (T x)", "by auto"], ["proof (state)\nthis:\n  u (n + 1) x \\<le> u 1 x + u n (T x)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       ereal (u (xa + 1) x / real (xa + 1))\n       \\<le> ereal (u 1 x / real (xa + 1)) +\n             ereal (u xa (T x) / real (xa + 1))", "then"], ["proof (chain)\npicking this:\n  u (n + 1) x \\<le> u 1 x + u n (T x)", "have \"(u (n+1) x)/(n+1) \\<le> (u 1 x)/(n+1) + (u n (T x))/(n+1)\""], ["proof (prove)\nusing this:\n  u (n + 1) x \\<le> u 1 x + u n (T x)\n\ngoal (1 subgoal):\n 1. u (n + 1) x / real (n + 1)\n    \\<le> u 1 x / real (n + 1) + u n (T x) / real (n + 1)", "by (metis add_divide_distrib divide_right_mono of_nat_0_le_iff)"], ["proof (state)\nthis:\n  u (n + 1) x / real (n + 1)\n  \\<le> u 1 x / real (n + 1) + u n (T x) / real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       ereal (u (xa + 1) x / real (xa + 1))\n       \\<le> ereal (u 1 x / real (xa + 1)) +\n             ereal (u xa (T x) / real (xa + 1))", "then"], ["proof (chain)\npicking this:\n  u (n + 1) x / real (n + 1)\n  \\<le> u 1 x / real (n + 1) + u n (T x) / real (n + 1)", "show \"ereal ((u (n+1) x)/(n+1)) \\<le> ereal((u 1 x)/(n+1)) + ereal((u n (T x))/(n+1))\""], ["proof (prove)\nusing this:\n  u (n + 1) x / real (n + 1)\n  \\<le> u 1 x / real (n + 1) + u n (T x) / real (n + 1)\n\ngoal (1 subgoal):\n 1. ereal (u (n + 1) x / real (n + 1))\n    \\<le> ereal (u 1 x / real (n + 1)) + ereal (u n (T x) / real (n + 1))", "by auto"], ["proof (state)\nthis:\n  ereal (u (n + 1) x / real (n + 1))\n  \\<le> ereal (u 1 x / real (n + 1)) + ereal (u n (T x) / real (n + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  liminf (\\<lambda>n. ereal (u (n + 1) x / real (n + 1)))\n  \\<le> liminf\n         (\\<lambda>n.\n             ereal (u 1 x / real (n + 1)) +\n             ereal (u n (T x) / real (n + 1)))\n\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "also"], ["proof (state)\nthis:\n  liminf (\\<lambda>n. ereal (u (n + 1) x / real (n + 1)))\n  \\<le> liminf\n         (\\<lambda>n.\n             ereal (u 1 x / real (n + 1)) +\n             ereal (u n (T x) / real (n + 1)))\n\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "have \"... = 0 + liminf(\\<lambda>n. ereal((u n (T x))/(n+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>n.\n         ereal (u 1 x / real (n + 1)) + ereal (u n (T x) / real (n + 1))) =\n    0 + liminf (\\<lambda>n. ereal (u n (T x) / real (n + 1)))", "proof (rule ereal_liminf_lim_add[of \"\\<lambda>n. ereal((u 1 x)/real(n+1))\" 0 \"\\<lambda>n. ereal((u n (T x))/(n+1))\"])"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<lambda>n. ereal (u 1 x / real (n + 1))) \\<longlonglongrightarrow> 0\n 2. \\<bar>0\\<bar> \\<noteq> \\<infinity>", "have \"(\\<lambda>n. ereal((u 1 x)*(1/real(n+1)))) \\<longlonglongrightarrow> ereal((u 1 x) * 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u 1 x * (1 / real (n + 1))))\n    \\<longlonglongrightarrow> ereal (u 1 x * 0)", "by (intro tendsto_intros LIMSEQ_ignore_initial_segment)"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (u 1 x * (1 / real (n + 1))))\n  \\<longlonglongrightarrow> ereal (u 1 x * 0)\n\ngoal (2 subgoals):\n 1. (\\<lambda>n. ereal (u 1 x / real (n + 1))) \\<longlonglongrightarrow> 0\n 2. \\<bar>0\\<bar> \\<noteq> \\<infinity>", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. ereal (u 1 x * (1 / real (n + 1))))\n  \\<longlonglongrightarrow> ereal (u 1 x * 0)", "show \"(\\<lambda>n. ereal((u 1 x)/real(n+1))) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal (u 1 x * (1 / real (n + 1))))\n  \\<longlonglongrightarrow> ereal (u 1 x * 0)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u 1 x / real (n + 1))) \\<longlonglongrightarrow> 0", "by (simp add: zero_ereal_def)"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (u 1 x / real (n + 1))) \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<bar>0\\<bar> \\<noteq> \\<infinity>", "qed (simp)"], ["proof (state)\nthis:\n  liminf\n   (\\<lambda>n.\n       ereal (u 1 x / real (n + 1)) + ereal (u n (T x) / real (n + 1))) =\n  0 + liminf (\\<lambda>n. ereal (u n (T x) / real (n + 1)))\n\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "also"], ["proof (state)\nthis:\n  liminf\n   (\\<lambda>n.\n       ereal (u 1 x / real (n + 1)) + ereal (u n (T x) / real (n + 1))) =\n  0 + liminf (\\<lambda>n. ereal (u n (T x) / real (n + 1)))\n\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "have \"... = 1 * liminf(\\<lambda>n. ereal((u n (T x))/(n+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 + liminf (\\<lambda>n. ereal (u n (T x) / real (n + 1))) =\n    1 * liminf (\\<lambda>n. ereal (u n (T x) / real (n + 1)))", "by simp"], ["proof (state)\nthis:\n  0 + liminf (\\<lambda>n. ereal (u n (T x) / real (n + 1))) =\n  1 * liminf (\\<lambda>n. ereal (u n (T x) / real (n + 1)))\n\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "also"], ["proof (state)\nthis:\n  0 + liminf (\\<lambda>n. ereal (u n (T x) / real (n + 1))) =\n  1 * liminf (\\<lambda>n. ereal (u n (T x) / real (n + 1)))\n\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "have \"... = liminf(\\<lambda>n. (n+1)/n * ereal((u n (T x))/(n+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 * liminf (\\<lambda>n. ereal (u n (T x) / real (n + 1))) =\n    liminf\n     (\\<lambda>n.\n         ereal (real (n + 1) / real n) * ereal (u n (T x) / real (n + 1)))", "proof (rule ereal_liminf_lim_mult[symmetric])"], ["proof (state)\ngoal (3 subgoals):\n 1. (\\<lambda>n. ereal (real (n + 1) / real n)) \\<longlonglongrightarrow> 1\n 2. 0 < 1\n 3. 1 \\<noteq> \\<infinity>", "have \"real (n+1) / real n = 1 + 1/real n\" if \"n>0\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. real (n + 1) / real n = 1 + 1 / real n", "by (simp add: divide_simps mult.commute that)"], ["proof (state)\nthis:\n  0 < ?n3 \\<Longrightarrow> real (?n3 + 1) / real ?n3 = 1 + 1 / real ?n3\n\ngoal (3 subgoals):\n 1. (\\<lambda>n. ereal (real (n + 1) / real n)) \\<longlonglongrightarrow> 1\n 2. 0 < 1\n 3. 1 \\<noteq> \\<infinity>", "with eventually_mono[OF eventually_gt_at_top[of \"0::nat\"] this]"], ["proof (chain)\npicking this:\n  (\\<And>x. 0 < x \\<Longrightarrow> 0 < ?n4 x) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     real (?n4 x + 1) / real (?n4 x) = 1 + 1 / real (?n4 x)\n  0 < ?n3 \\<Longrightarrow> real (?n3 + 1) / real ?n3 = 1 + 1 / real ?n3", "have \"eventually (\\<lambda>n. real (n+1) / real n = 1 + 1/real n) sequentially\""], ["proof (prove)\nusing this:\n  (\\<And>x. 0 < x \\<Longrightarrow> 0 < ?n4 x) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     real (?n4 x + 1) / real (?n4 x) = 1 + 1 / real (?n4 x)\n  0 < ?n3 \\<Longrightarrow> real (?n3 + 1) / real ?n3 = 1 + 1 / real ?n3\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (n + 1) / real n = 1 + 1 / real n", "by simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real (n + 1) / real n = 1 + 1 / real n\n\ngoal (3 subgoals):\n 1. (\\<lambda>n. ereal (real (n + 1) / real n)) \\<longlonglongrightarrow> 1\n 2. 0 < 1\n 3. 1 \\<noteq> \\<infinity>", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real (n + 1) / real n = 1 + 1 / real n\n\ngoal (3 subgoals):\n 1. (\\<lambda>n. ereal (real (n + 1) / real n)) \\<longlonglongrightarrow> 1\n 2. 0 < 1\n 3. 1 \\<noteq> \\<infinity>", "have \"(\\<lambda>n. 1 + 1/real n) \\<longlonglongrightarrow> 1 + 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. 1 + 1 / real n) \\<longlonglongrightarrow> 1 + 0", "by (intro tendsto_intros)"], ["proof (state)\nthis:\n  (\\<lambda>n. 1 + 1 / real n) \\<longlonglongrightarrow> 1 + 0\n\ngoal (3 subgoals):\n 1. (\\<lambda>n. ereal (real (n + 1) / real n)) \\<longlonglongrightarrow> 1\n 2. 0 < 1\n 3. 1 \\<noteq> \\<infinity>", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real (n + 1) / real n = 1 + 1 / real n\n  (\\<lambda>n. 1 + 1 / real n) \\<longlonglongrightarrow> 1 + 0", "have \"(\\<lambda>n. real (n+1) / real n) \\<longlonglongrightarrow> 1\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real (n + 1) / real n = 1 + 1 / real n\n  (\\<lambda>n. 1 + 1 / real n) \\<longlonglongrightarrow> 1 + 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (n + 1) / real n) \\<longlonglongrightarrow> 1", "using Lim_transform_eventually"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real (n + 1) / real n = 1 + 1 / real n\n  (\\<lambda>n. 1 + 1 / real n) \\<longlonglongrightarrow> 1 + 0\n  \\<lbrakk>(?f \\<longlongrightarrow> ?l) ?F;\n   \\<forall>\\<^sub>F x in ?F. ?f x = ?g x\\<rbrakk>\n  \\<Longrightarrow> (?g \\<longlongrightarrow> ?l) ?F\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (n + 1) / real n) \\<longlonglongrightarrow> 1", "by (simp add: filterlim_cong)"], ["proof (state)\nthis:\n  (\\<lambda>n. real (n + 1) / real n) \\<longlonglongrightarrow> 1\n\ngoal (3 subgoals):\n 1. (\\<lambda>n. ereal (real (n + 1) / real n)) \\<longlonglongrightarrow> 1\n 2. 0 < 1\n 3. 1 \\<noteq> \\<infinity>", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. real (n + 1) / real n) \\<longlonglongrightarrow> 1", "show \"(\\<lambda>n. ereal(real (n+1) / real n)) \\<longlonglongrightarrow> 1\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. real (n + 1) / real n) \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (real (n + 1) / real n)) \\<longlonglongrightarrow> 1", "by (simp add: one_ereal_def)"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (real (n + 1) / real n)) \\<longlonglongrightarrow> 1\n\ngoal (2 subgoals):\n 1. 0 < 1\n 2. 1 \\<noteq> \\<infinity>", "qed (auto)"], ["proof (state)\nthis:\n  1 * liminf (\\<lambda>n. ereal (u n (T x) / real (n + 1))) =\n  liminf\n   (\\<lambda>n.\n       ereal (real (n + 1) / real n) * ereal (u n (T x) / real (n + 1)))\n\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "also"], ["proof (state)\nthis:\n  1 * liminf (\\<lambda>n. ereal (u n (T x) / real (n + 1))) =\n  liminf\n   (\\<lambda>n.\n       ereal (real (n + 1) / real n) * ereal (u n (T x) / real (n + 1)))\n\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "have \"... = l (T x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>n.\n         ereal (real (n + 1) / real n) * ereal (u n (T x) / real (n + 1))) =\n    l (T x)", "unfolding l_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>n.\n         ereal (real (n + 1) / real n) * ereal (u n (T x) / real (n + 1))) =\n    liminf (\\<lambda>xa. ereal (u xa (T x) / real xa))", "by auto"], ["proof (state)\nthis:\n  liminf\n   (\\<lambda>n.\n       ereal (real (n + 1) / real n) * ereal (u n (T x) / real (n + 1))) =\n  l (T x)\n\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "finally"], ["proof (chain)\npicking this:\n  l x \\<le> l (T x)", "show \"l x \\<le> l (T x)\""], ["proof (prove)\nusing this:\n  l x \\<le> l (T x)\n\ngoal (1 subgoal):\n 1. l x \\<le> l (T x)", "by simp"], ["proof (state)\nthis:\n  l x \\<le> l (T x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  l ?x3 \\<le> l (T ?x3)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have \"AE x in M. l (T x) = l x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. l (T x) = l x", "apply (rule AE_increasing_then_invariant)"], ["proof (prove)\ngoal (2 subgoals):\n 1. AE x in M. l x \\<le> l (T x)\n 2. l \\<in> borel_measurable M", "using l_dec"], ["proof (prove)\nusing this:\n  l ?x3 \\<le> l (T ?x3)\n\ngoal (2 subgoals):\n 1. AE x in M. l x \\<le> l (T x)\n 2. l \\<in> borel_measurable M", "by auto"], ["proof (state)\nthis:\n  AE x in M. l (T x) = l x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  AE x in M. l (T x) = l x", "obtain g0 where g0: \"g0 \\<in> borel_measurable Invariants\" \"AE x in M. l x = g0 x\""], ["proof (prove)\nusing this:\n  AE x in M. l (T x) = l x\n\ngoal (1 subgoal):\n 1. (\\<And>g0.\n        \\<lbrakk>g0 \\<in> borel_measurable Invariants;\n         AE x in M. l x = g0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Invariants_quasi_Invariants_functions[OF l_meas]"], ["proof (prove)\nusing this:\n  AE x in M. l (T x) = l x\n  (\\<exists>g\\<in>borel_measurable Invariants. AE x in M. l x = g x) =\n  (AE x in M. l (T x) = l x)\n\ngoal (1 subgoal):\n 1. (\\<And>g0.\n        \\<lbrakk>g0 \\<in> borel_measurable Invariants;\n         AE x in M. l x = g0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  g0 \\<in> borel_measurable Invariants\n  AE x in M. l x = g0 x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "define g where \"g = (\\<lambda>x. if g0 x = \\<infinity> then 0 else g0 x)\""], ["proof (state)\nthis:\n  g = (\\<lambda>x. if g0 x = \\<infinity> then 0 else g0 x)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have g: \"g \\<in> borel_measurable Invariants\" \"AE x in M. g x = l x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g \\<in> borel_measurable Invariants &&& AE x in M. g x = l x", "unfolding g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. if g0 x = \\<infinity> then 0 else g0 x)\n    \\<in> borel_measurable Invariants &&&\n    AE x in M. (if g0 x = \\<infinity> then 0 else g0 x) = l x", "using g0(1) \\<open>AE x in M. l x = g0 x\\<close> \\<open>AE x in M. l x < \\<infinity>\\<close>"], ["proof (prove)\nusing this:\n  g0 \\<in> borel_measurable Invariants\n  AE x in M. l x = g0 x\n  AE x in M. l x < \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. if g0 x = \\<infinity> then 0 else g0 x)\n    \\<in> borel_measurable Invariants &&&\n    AE x in M. (if g0 x = \\<infinity> then 0 else g0 x) = l x", "by auto"], ["proof (state)\nthis:\n  g \\<in> borel_measurable Invariants\n  AE x in M. g x = l x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have [measurable]: \"g \\<in> borel_measurable M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g \\<in> borel_measurable M", "using g(1) Invariants_measurable_func"], ["proof (prove)\nusing this:\n  g \\<in> borel_measurable Invariants\n  ?f \\<in> Invariants \\<rightarrow>\\<^sub>M ?N \\<Longrightarrow>\n  ?f \\<in> M \\<rightarrow>\\<^sub>M ?N\n\ngoal (1 subgoal):\n 1. g \\<in> borel_measurable M", "by blast"], ["proof (state)\nthis:\n  g \\<in> borel_measurable M\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have \"\\<And>x. g x < \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. g x < \\<infinity>", "unfolding g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. (if g0 x = \\<infinity> then 0 else g0 x) < \\<infinity>", "by auto"], ["proof (state)\nthis:\n  g ?x3 < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "define A where \"A = {x \\<in> space M. l x < \\<infinity> \\<and> (\\<forall>n. l ((T^^n) x) = g ((T^^n) x))}\""], ["proof (state)\nthis:\n  A =\n  {x \\<in> space M.\n   l x < \\<infinity> \\<and> (\\<forall>n. l ((T ^^ n) x) = g ((T ^^ n) x))}\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have A_meas [measurable]: \"A \\<in> sets M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> sets M", "unfolding A_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> space M.\n     l x < \\<infinity> \\<and> (\\<forall>n. l ((T ^^ n) x) = g ((T ^^ n) x))}\n    \\<in> sets M", "by auto"], ["proof (state)\nthis:\n  A \\<in> sets M\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have \"AE x in M. x \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. x \\<in> A", "unfolding A_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. x \\<in> {x \\<in> space M.\n                        l x < \\<infinity> \\<and>\n                        (\\<forall>n. l ((T ^^ n) x) = g ((T ^^ n) x))}", "using T_AE_iterates[OF g(2)] \\<open>AE x in M. l x < \\<infinity>\\<close>"], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>n. g ((T ^^ n) x) = l ((T ^^ n) x)\n  AE x in M. l x < \\<infinity>\n\ngoal (1 subgoal):\n 1. AE x in M. x \\<in> {x \\<in> space M.\n                        l x < \\<infinity> \\<and>\n                        (\\<forall>n. l ((T ^^ n) x) = g ((T ^^ n) x))}", "by auto"], ["proof (state)\nthis:\n  AE x in M. x \\<in> A\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  AE x in M. x \\<in> A", "have \"space M - A \\<in> null_sets M\""], ["proof (prove)\nusing this:\n  AE x in M. x \\<in> A\n\ngoal (1 subgoal):\n 1. space M - A \\<in> null_sets M", "by (simp add: AE_iff_null set_diff_eq)"], ["proof (state)\nthis:\n  space M - A \\<in> null_sets M\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have l_inv: \"l((T^^n) x) = l x\" if \"x \\<in> A\" for x n"], ["proof (prove)\ngoal (1 subgoal):\n 1. l ((T ^^ n) x) = l x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. l ((T ^^ n) x) = l x", "have \"l((T^^n) x) = g((T^^n) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l ((T ^^ n) x) = g ((T ^^ n) x)", "using \\<open> x \\<in> A \\<close>"], ["proof (prove)\nusing this:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. l ((T ^^ n) x) = g ((T ^^ n) x)", "unfolding A_def"], ["proof (prove)\nusing this:\n  x \\<in> {x \\<in> space M.\n           l x < \\<infinity> \\<and>\n           (\\<forall>n. l ((T ^^ n) x) = g ((T ^^ n) x))}\n\ngoal (1 subgoal):\n 1. l ((T ^^ n) x) = g ((T ^^ n) x)", "by blast"], ["proof (state)\nthis:\n  l ((T ^^ n) x) = g ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. l ((T ^^ n) x) = l x", "also"], ["proof (state)\nthis:\n  l ((T ^^ n) x) = g ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. l ((T ^^ n) x) = l x", "have \"... = g x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g ((T ^^ n) x) = g x", "using g(1) A_def Invariants_func_is_invariant_n that"], ["proof (prove)\nusing this:\n  g \\<in> borel_measurable Invariants\n  A =\n  {x \\<in> space M.\n   l x < \\<infinity> \\<and> (\\<forall>n. l ((T ^^ n) x) = g ((T ^^ n) x))}\n  \\<lbrakk>?f \\<in> borel_measurable Invariants; ?x \\<in> space M\\<rbrakk>\n  \\<Longrightarrow> ?f ((T ^^ ?n) ?x) = ?f ?x\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. g ((T ^^ n) x) = g x", "by blast"], ["proof (state)\nthis:\n  g ((T ^^ n) x) = g x\n\ngoal (1 subgoal):\n 1. l ((T ^^ n) x) = l x", "also"], ["proof (state)\nthis:\n  g ((T ^^ n) x) = g x\n\ngoal (1 subgoal):\n 1. l ((T ^^ n) x) = l x", "have \"... = g((T^^0) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g x = g ((T ^^ 0) x)", "by auto"], ["proof (state)\nthis:\n  g x = g ((T ^^ 0) x)\n\ngoal (1 subgoal):\n 1. l ((T ^^ n) x) = l x", "also"], ["proof (state)\nthis:\n  g x = g ((T ^^ 0) x)\n\ngoal (1 subgoal):\n 1. l ((T ^^ n) x) = l x", "have \"... = l((T^^0) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g ((T ^^ 0) x) = l ((T ^^ 0) x)", "using \\<open> x \\<in> A \\<close>"], ["proof (prove)\nusing this:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. g ((T ^^ 0) x) = l ((T ^^ 0) x)", "unfolding A_def"], ["proof (prove)\nusing this:\n  x \\<in> {x \\<in> space M.\n           l x < \\<infinity> \\<and>\n           (\\<forall>n. l ((T ^^ n) x) = g ((T ^^ n) x))}\n\ngoal (1 subgoal):\n 1. g ((T ^^ 0) x) = l ((T ^^ 0) x)", "by (metis (mono_tags, lifting) mem_Collect_eq)"], ["proof (state)\nthis:\n  g ((T ^^ 0) x) = l ((T ^^ 0) x)\n\ngoal (1 subgoal):\n 1. l ((T ^^ n) x) = l x", "finally"], ["proof (chain)\npicking this:\n  l ((T ^^ n) x) = l ((T ^^ 0) x)", "show ?thesis"], ["proof (prove)\nusing this:\n  l ((T ^^ n) x) = l ((T ^^ 0) x)\n\ngoal (1 subgoal):\n 1. l ((T ^^ n) x) = l x", "by auto"], ["proof (state)\nthis:\n  l ((T ^^ n) x) = l x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?x3 \\<in> A \\<Longrightarrow> l ((T ^^ ?n3) ?x3) = l ?x3\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "define F where \"F = (\\<lambda> K e x. real_of_ereal(max (l x) (-ereal K)) + e)\""], ["proof (state)\nthis:\n  F = (\\<lambda>K e x. real_of_ereal (max (l x) (- ereal K)) + e)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have F_meas [measurable]: \"F K e \\<in> borel_measurable M\" for K e"], ["proof (prove)\ngoal (1 subgoal):\n 1. F K e \\<in> borel_measurable M", "unfolding F_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. real_of_ereal (max (l x) (- ereal K)) + e)\n    \\<in> borel_measurable M", "by auto"], ["proof (state)\nthis:\n  F ?K3 ?e3 \\<in> borel_measurable M\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "define B where \"B = (\\<lambda>N K e. {x \\<in> A. \\<exists>n\\<in>{1..N}. u n x - n * F K e x < 0})\""], ["proof (state)\nthis:\n  B =\n  (\\<lambda>N K e.\n      {x \\<in> A. \\<exists>n\\<in>{1..N}. u n x - real n * F K e x < 0})\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have B_meas [measurable]: \"B N K e \\<in> sets M\" for N K e"], ["proof (prove)\ngoal (1 subgoal):\n 1. B N K e \\<in> sets M", "unfolding B_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> A. \\<exists>n\\<in>{1..N}. u n x - real n * F K e x < 0}\n    \\<in> sets M", "by (measurable)"], ["proof (state)\nthis:\n  B ?N3 ?K3 ?e3 \\<in> sets M\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "define I where \"I = (\\<lambda>N K e x. (indicator (- B N K e) x)::real)\""], ["proof (state)\nthis:\n  I = (\\<lambda>N K e. indicat_real (- B N K e))\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have I_meas [measurable]: \"I N K e \\<in> borel_measurable M\" for N K e"], ["proof (prove)\ngoal (1 subgoal):\n 1. I N K e \\<in> borel_measurable M", "unfolding I_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. indicat_real (- B N K e) \\<in> borel_measurable M", "by auto"], ["proof (state)\nthis:\n  I ?N3 ?K3 ?e3 \\<in> borel_measurable M\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have I_int: \"integrable M (I N K e)\" for N K e"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (I N K e)", "unfolding I_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (indicat_real (- B N K e))", "apply (subst integrable_cong[where ?g = \"indicator (space M - B N K e)::_ \\<Rightarrow> real\"], auto)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> space M \\<Longrightarrow>\n       indicat_real (- B N K e) x = indicat_real (space M - B N K e) x\n 2. integrable M (indicat_real (space M - B N K e))", "by (auto split: split_indicator simp: less_top[symmetric])"], ["proof (state)\nthis:\n  integrable M (I ?N3 ?K3 ?e3)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have main: \"AE x in M. limsup (\\<lambda>n. u n x / n) \\<le> F K e x + abs(F K e x) * ereal(real_cond_exp M Invariants (I N K e) x)\"\n    if \"N>(1::nat)\" \"K>(0::real)\" \"e>(0::real)\" for N K e"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "let ?B = \"B N K e\" and ?I = \"I N K e\" and ?F = \"F K e\""], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "define t where \"t = (\\<lambda>x. if x \\<in> ?B then Min {n\\<in>{1..N}. u n x - n * ?F x < 0} else 1)\""], ["proof (state)\nthis:\n  t =\n  (\\<lambda>x.\n      if x \\<in> B N K e\n      then Min {n \\<in> {1..N}. u n x - real n * F K e x < 0} else 1)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "have [measurable]: \"t \\<in> measurable M (count_space UNIV)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> M \\<rightarrow>\\<^sub>M count_space UNIV", "unfolding t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        if x \\<in> B N K e\n        then Min {n \\<in> {1..N}. u n x - real n * F K e x < 0} else 1)\n    \\<in> M \\<rightarrow>\\<^sub>M count_space UNIV", "by measurable"], ["proof (state)\nthis:\n  t \\<in> M \\<rightarrow>\\<^sub>M count_space UNIV\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "have t1: \"t x \\<in> {1..N}\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. t x \\<in> {1..N}", "proof (cases \"x \\<in> ?B\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<in> B N K e \\<Longrightarrow> t x \\<in> {1..N}\n 2. x \\<notin> B N K e \\<Longrightarrow> t x \\<in> {1..N}", "case False"], ["proof (state)\nthis:\n  x \\<notin> B N K e\n\ngoal (2 subgoals):\n 1. x \\<in> B N K e \\<Longrightarrow> t x \\<in> {1..N}\n 2. x \\<notin> B N K e \\<Longrightarrow> t x \\<in> {1..N}", "then"], ["proof (chain)\npicking this:\n  x \\<notin> B N K e", "have \"t x = 1\""], ["proof (prove)\nusing this:\n  x \\<notin> B N K e\n\ngoal (1 subgoal):\n 1. t x = 1", "by (simp add: t_def)"], ["proof (state)\nthis:\n  t x = 1\n\ngoal (2 subgoals):\n 1. x \\<in> B N K e \\<Longrightarrow> t x \\<in> {1..N}\n 2. x \\<notin> B N K e \\<Longrightarrow> t x \\<in> {1..N}", "then"], ["proof (chain)\npicking this:\n  t x = 1", "show ?thesis"], ["proof (prove)\nusing this:\n  t x = 1\n\ngoal (1 subgoal):\n 1. t x \\<in> {1..N}", "using \\<open>N>1\\<close>"], ["proof (prove)\nusing this:\n  t x = 1\n  1 < N\n\ngoal (1 subgoal):\n 1. t x \\<in> {1..N}", "by auto"], ["proof (state)\nthis:\n  t x \\<in> {1..N}\n\ngoal (1 subgoal):\n 1. x \\<in> B N K e \\<Longrightarrow> t x \\<in> {1..N}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<in> B N K e \\<Longrightarrow> t x \\<in> {1..N}", "case True"], ["proof (state)\nthis:\n  x \\<in> B N K e\n\ngoal (1 subgoal):\n 1. x \\<in> B N K e \\<Longrightarrow> t x \\<in> {1..N}", "let ?A = \"{n\\<in>{1..N}. u n x - n * ?F x < 0}\""], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<in> B N K e \\<Longrightarrow> t x \\<in> {1..N}", "have \"t x = Min ?A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t x = Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}", "using True"], ["proof (prove)\nusing this:\n  x \\<in> B N K e\n\ngoal (1 subgoal):\n 1. t x = Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}", "by (simp add: t_def)"], ["proof (state)\nthis:\n  t x = Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n\ngoal (1 subgoal):\n 1. x \\<in> B N K e \\<Longrightarrow> t x \\<in> {1..N}", "moreover"], ["proof (state)\nthis:\n  t x = Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n\ngoal (1 subgoal):\n 1. x \\<in> B N K e \\<Longrightarrow> t x \\<in> {1..N}", "have \"Min ?A \\<in> ?A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n    \\<in> {n \\<in> {1..N}. u n x - real n * F K e x < 0}", "apply (rule Min_in, simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. {n \\<in> {1..N}. u n x - real n * F K e x < 0} \\<noteq> {}", "using True B_def"], ["proof (prove)\nusing this:\n  x \\<in> B N K e\n  B =\n  (\\<lambda>N K e.\n      {x \\<in> A. \\<exists>n\\<in>{1..N}. u n x - real n * F K e x < 0})\n\ngoal (1 subgoal):\n 1. {n \\<in> {1..N}. u n x - real n * F K e x < 0} \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n  \\<in> {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n\ngoal (1 subgoal):\n 1. x \\<in> B N K e \\<Longrightarrow> t x \\<in> {1..N}", "ultimately"], ["proof (chain)\npicking this:\n  t x = Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n  Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n  \\<in> {n \\<in> {1..N}. u n x - real n * F K e x < 0}", "show ?thesis"], ["proof (prove)\nusing this:\n  t x = Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n  Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n  \\<in> {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n\ngoal (1 subgoal):\n 1. t x \\<in> {1..N}", "by auto"], ["proof (state)\nthis:\n  t x \\<in> {1..N}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t ?x3 \\<in> {1..N}\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "have bound1: \"u (t x) x \\<le> t x * ?F x + birkhoff_sum ?I (t x) x * abs(?F x)\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "proof (cases \"x \\<in> ?B\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<in> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>\n 2. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "case True"], ["proof (state)\nthis:\n  x \\<in> B N K e\n\ngoal (2 subgoals):\n 1. x \\<in> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>\n 2. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "let ?A = \"{n\\<in>{1..N}. u n x - n * F K e x < 0}\""], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<in> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>\n 2. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "have \"t x = Min ?A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t x = Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}", "using True"], ["proof (prove)\nusing this:\n  x \\<in> B N K e\n\ngoal (1 subgoal):\n 1. t x = Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}", "by (simp add: t_def)"], ["proof (state)\nthis:\n  t x = Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n\ngoal (2 subgoals):\n 1. x \\<in> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>\n 2. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "moreover"], ["proof (state)\nthis:\n  t x = Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n\ngoal (2 subgoals):\n 1. x \\<in> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>\n 2. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "have \"Min ?A \\<in> ?A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n    \\<in> {n \\<in> {1..N}. u n x - real n * F K e x < 0}", "apply (rule Min_in, simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. {n \\<in> {1..N}. u n x - real n * F K e x < 0} \\<noteq> {}", "using True B_def"], ["proof (prove)\nusing this:\n  x \\<in> B N K e\n  B =\n  (\\<lambda>N K e.\n      {x \\<in> A. \\<exists>n\\<in>{1..N}. u n x - real n * F K e x < 0})\n\ngoal (1 subgoal):\n 1. {n \\<in> {1..N}. u n x - real n * F K e x < 0} \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n  \\<in> {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n\ngoal (2 subgoals):\n 1. x \\<in> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>\n 2. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  t x = Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n  Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n  \\<in> {n \\<in> {1..N}. u n x - real n * F K e x < 0}", "have \"u (t x) x \\<le> (t x) * ?F x\""], ["proof (prove)\nusing this:\n  t x = Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n  Min {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n  \\<in> {n \\<in> {1..N}. u n x - real n * F K e x < 0}\n\ngoal (1 subgoal):\n 1. u (t x) x \\<le> real (t x) * F K e x", "by auto"], ["proof (state)\nthis:\n  u (t x) x \\<le> real (t x) * F K e x\n\ngoal (2 subgoals):\n 1. x \\<in> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>\n 2. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "moreover"], ["proof (state)\nthis:\n  u (t x) x \\<le> real (t x) * F K e x\n\ngoal (2 subgoals):\n 1. x \\<in> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>\n 2. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "have \"0 \\<le> birkhoff_sum ?I (t x) x * abs(?F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "unfolding birkhoff_sum_def I_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>i<t x. indicat_real (- B N K e) ((T ^^ i) x)) *\n            \\<bar>F K e x\\<bar>", "by (simp add: sum_nonneg)"], ["proof (state)\nthis:\n  0 \\<le> birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>\n\ngoal (2 subgoals):\n 1. x \\<in> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>\n 2. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  u (t x) x \\<le> real (t x) * F K e x\n  0 \\<le> birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "show ?thesis"], ["proof (prove)\nusing this:\n  u (t x) x \\<le> real (t x) * F K e x\n  0 \\<le> birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "by auto"], ["proof (state)\nthis:\n  u (t x) x\n  \\<le> real (t x) * F K e x +\n        birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "case False"], ["proof (state)\nthis:\n  x \\<notin> B N K e\n\ngoal (1 subgoal):\n 1. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "then"], ["proof (chain)\npicking this:\n  x \\<notin> B N K e", "have \"0 \\<le> ?F x + ?I x * abs(?F x)\""], ["proof (prove)\nusing this:\n  x \\<notin> B N K e\n\ngoal (1 subgoal):\n 1. 0 \\<le> F K e x + I N K e x * \\<bar>F K e x\\<bar>", "unfolding I_def"], ["proof (prove)\nusing this:\n  x \\<notin> B N K e\n\ngoal (1 subgoal):\n 1. 0 \\<le> F K e x + indicat_real (- B N K e) x * \\<bar>F K e x\\<bar>", "by auto"], ["proof (state)\nthis:\n  0 \\<le> F K e x + I N K e x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "then"], ["proof (chain)\npicking this:\n  0 \\<le> F K e x + I N K e x * \\<bar>F K e x\\<bar>", "have \"u 1 x \\<le> ?F x + ?I x * abs(?F x)\""], ["proof (prove)\nusing this:\n  0 \\<le> F K e x + I N K e x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u 1 x \\<le> F K e x + I N K e x * \\<bar>F K e x\\<bar>", "using assms(2)[of x]"], ["proof (prove)\nusing this:\n  0 \\<le> F K e x + I N K e x * \\<bar>F K e x\\<bar>\n  u 1 x \\<le> 0\n\ngoal (1 subgoal):\n 1. u 1 x \\<le> F K e x + I N K e x * \\<bar>F K e x\\<bar>", "by auto"], ["proof (state)\nthis:\n  u 1 x \\<le> F K e x + I N K e x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "moreover"], ["proof (state)\nthis:\n  u 1 x \\<le> F K e x + I N K e x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "have \"t x = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t x = 1", "unfolding t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if x \\<in> B N K e\n     then Min {n \\<in> {1..N}. u n x - real n * F K e x < 0} else 1) =\n    1", "using False"], ["proof (prove)\nusing this:\n  x \\<notin> B N K e\n\ngoal (1 subgoal):\n 1. (if x \\<in> B N K e\n     then Min {n \\<in> {1..N}. u n x - real n * F K e x < 0} else 1) =\n    1", "by auto"], ["proof (state)\nthis:\n  t x = 1\n\ngoal (1 subgoal):\n 1. x \\<notin> B N K e \\<Longrightarrow>\n    u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  u 1 x \\<le> F K e x + I N K e x * \\<bar>F K e x\\<bar>\n  t x = 1", "show ?thesis"], ["proof (prove)\nusing this:\n  u 1 x \\<le> F K e x + I N K e x * \\<bar>F K e x\\<bar>\n  t x = 1\n\ngoal (1 subgoal):\n 1. u (t x) x\n    \\<le> real (t x) * F K e x +\n          birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>", "by auto"], ["proof (state)\nthis:\n  u (t x) x\n  \\<le> real (t x) * F K e x +\n        birkhoff_sum (I N K e) (t x) x * \\<bar>F K e x\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  u (t ?x3) ?x3\n  \\<le> real (t ?x3) * F K e ?x3 +\n        birkhoff_sum (I N K e) (t ?x3) ?x3 * \\<bar>F K e ?x3\\<bar>\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "define TB where \"TB = (\\<lambda>x. (T^^(t x)) x)\""], ["proof (state)\nthis:\n  TB = (\\<lambda>x. (T ^^ t x) x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "have [measurable]: \"TB \\<in> measurable M M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. TB \\<in> M \\<rightarrow>\\<^sub>M M", "unfolding TB_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. (T ^^ t x) x) \\<in> M \\<rightarrow>\\<^sub>M M", "by auto"], ["proof (state)\nthis:\n  TB \\<in> M \\<rightarrow>\\<^sub>M M\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "define S where \"S = (\\<lambda>n x. (\\<Sum>i<n. t((TB^^i) x)))\""], ["proof (state)\nthis:\n  S = (\\<lambda>n x. \\<Sum>i<n. t ((TB ^^ i) x))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "have [measurable]: \"S n \\<in> measurable M (count_space UNIV)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. S n \\<in> M \\<rightarrow>\\<^sub>M count_space UNIV", "unfolding S_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. \\<Sum>i<n. t ((TB ^^ i) x))\n    \\<in> M \\<rightarrow>\\<^sub>M count_space UNIV", "by measurable"], ["proof (state)\nthis:\n  S ?n3 \\<in> M \\<rightarrow>\\<^sub>M count_space UNIV\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "have TB_pow: \"(TB^^n) x = (T^^(S n x)) x\" for n x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (TB ^^ n) x = (T ^^ S n x) x", "unfolding S_def TB_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. (T ^^ t x) x) ^^ n) x =\n    (T ^^ (\\<Sum>i<n. t (((\\<lambda>x. (T ^^ t x) x) ^^ i) x))) x", "by (induction n, auto, metis (mono_tags, lifting) add.commute funpow_add o_apply)"], ["proof (state)\nthis:\n  (TB ^^ ?n3) ?x3 = (T ^^ S ?n3 ?x3) ?x3\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "have uS: \"u (S n x) x \\<le> (S n x) * ?F x + birkhoff_sum ?I (S n x) x * abs(?F x)\" if \"x \\<in> A\" \"n>0\" for x n"], ["proof (prove)\ngoal (1 subgoal):\n 1. u (S n x) x\n    \\<le> real (S n x) * F K e x +\n          birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar>", "using \\<open>n > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < n\n\ngoal (1 subgoal):\n 1. u (S n x) x\n    \\<le> real (S n x) * F K e x +\n          birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar>", "proof (induction rule: ind_from_1)"], ["proof (state)\ngoal (2 subgoals):\n 1. u (S 1 x) x\n    \\<le> real (S 1 x) * F K e x +\n          birkhoff_sum (I N K e) (S 1 x) x * \\<bar>F K e x\\<bar>\n 2. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "case 1"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. u (S 1 x) x\n    \\<le> real (S 1 x) * F K e x +\n          birkhoff_sum (I N K e) (S 1 x) x * \\<bar>F K e x\\<bar>\n 2. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. u (S 1 x) x\n    \\<le> real (S 1 x) * F K e x +\n          birkhoff_sum (I N K e) (S 1 x) x * \\<bar>F K e x\\<bar>", "unfolding S_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. u (\\<Sum>i<1. t ((TB ^^ i) x)) x\n    \\<le> real (\\<Sum>i<1. t ((TB ^^ i) x)) * F K e x +\n          birkhoff_sum (I N K e) (\\<Sum>i<1. t ((TB ^^ i) x)) x *\n          \\<bar>F K e x\\<bar>", "using bound1"], ["proof (prove)\nusing this:\n  u (t ?x3) ?x3\n  \\<le> real (t ?x3) * F K e ?x3 +\n        birkhoff_sum (I N K e) (t ?x3) ?x3 * \\<bar>F K e ?x3\\<bar>\n\ngoal (1 subgoal):\n 1. u (\\<Sum>i<1. t ((TB ^^ i) x)) x\n    \\<le> real (\\<Sum>i<1. t ((TB ^^ i) x)) * F K e x +\n          birkhoff_sum (I N K e) (\\<Sum>i<1. t ((TB ^^ i) x)) x *\n          \\<bar>F K e x\\<bar>", "by auto"], ["proof (state)\nthis:\n  u (S 1 x) x\n  \\<le> real (S 1 x) * F K e x +\n        birkhoff_sum (I N K e) (S 1 x) x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "case (Suc n)"], ["proof (state)\nthis:\n  0 < n\n  u (S n x) x\n  \\<le> real (S n x) * F K e x +\n        birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "have *: \"?F((TB^^n) x) = ?F x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F K e ((TB ^^ n) x) = F K e x", "apply (subst TB_pow)"], ["proof (prove)\ngoal (1 subgoal):\n 1. F K e ((T ^^ S n x) x) = F K e x", "unfolding F_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_ereal (max (l ((T ^^ S n x) x)) (- ereal K)) + e =\n    real_of_ereal (max (l x) (- ereal K)) + e", "using l_inv[OF \\<open>x\\<in>A\\<close>]"], ["proof (prove)\nusing this:\n  l ((T ^^ ?n3) x) = l x\n\ngoal (1 subgoal):\n 1. real_of_ereal (max (l ((T ^^ S n x) x)) (- ereal K)) + e =\n    real_of_ereal (max (l x) (- ereal K)) + e", "by auto"], ["proof (state)\nthis:\n  F K e ((TB ^^ n) x) = F K e x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "have **: \"S n x + t ((TB^^n) x) = S (Suc n) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S n x + t ((TB ^^ n) x) = S (Suc n) x", "unfolding S_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<n. t ((TB ^^ i) x)) + t ((TB ^^ n) x) =\n    (\\<Sum>i<Suc n. t ((TB ^^ i) x))", "by auto"], ["proof (state)\nthis:\n  S n x + t ((TB ^^ n) x) = S (Suc n) x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "have \"u (S (Suc n) x) x = u (S n x + t((TB^^n) x)) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (S (Suc n) x) x = u (S n x + t ((TB ^^ n) x)) x", "unfolding S_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. u (\\<Sum>i<Suc n. t ((TB ^^ i) x)) x =\n    u ((\\<Sum>i<n. t ((TB ^^ i) x)) + t ((TB ^^ n) x)) x", "by auto"], ["proof (state)\nthis:\n  u (S (Suc n) x) x = u (S n x + t ((TB ^^ n) x)) x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  u (S (Suc n) x) x = u (S n x + t ((TB ^^ n) x)) x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "have \"... \\<le> u (S n x) x + u (t((TB^^n) x)) ((T^^(S n x)) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (S n x + t ((TB ^^ n) x)) x\n    \\<le> u (S n x) x + u (t ((TB ^^ n) x)) ((T ^^ S n x) x)", "using assms(1)"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. u (S n x + t ((TB ^^ n) x)) x\n    \\<le> u (S n x) x + u (t ((TB ^^ n) x)) ((T ^^ S n x) x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. u (S n x + t ((TB ^^ n) x)) x\n    \\<le> u (S n x) x + u (t ((TB ^^ n) x)) ((T ^^ S n x) x)", "by auto"], ["proof (state)\nthis:\n  u (S n x + t ((TB ^^ n) x)) x\n  \\<le> u (S n x) x + u (t ((TB ^^ n) x)) ((T ^^ S n x) x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  u (S n x + t ((TB ^^ n) x)) x\n  \\<le> u (S n x) x + u (t ((TB ^^ n) x)) ((T ^^ S n x) x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "have \"... \\<le> u (S n x) x + u (t((TB^^n) x)) ((TB^^n) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (S n x) x + u (t ((TB ^^ n) x)) ((T ^^ S n x) x)\n    \\<le> u (S n x) x + u (t ((TB ^^ n) x)) ((TB ^^ n) x)", "using TB_pow"], ["proof (prove)\nusing this:\n  (TB ^^ ?n3) ?x3 = (T ^^ S ?n3 ?x3) ?x3\n\ngoal (1 subgoal):\n 1. u (S n x) x + u (t ((TB ^^ n) x)) ((T ^^ S n x) x)\n    \\<le> u (S n x) x + u (t ((TB ^^ n) x)) ((TB ^^ n) x)", "by auto"], ["proof (state)\nthis:\n  u (S n x) x + u (t ((TB ^^ n) x)) ((T ^^ S n x) x)\n  \\<le> u (S n x) x + u (t ((TB ^^ n) x)) ((TB ^^ n) x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  u (S n x) x + u (t ((TB ^^ n) x)) ((T ^^ S n x) x)\n  \\<le> u (S n x) x + u (t ((TB ^^ n) x)) ((TB ^^ n) x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "have \"... \\<le> (S n x) * ?F x + birkhoff_sum ?I (S n x) x * abs(?F x) +\n                  t ((TB^^n) x) * ?F ((TB^^n) x) + birkhoff_sum ?I (t ((TB^^n) x)) ((TB^^n) x) * abs(?F ((TB^^n) x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (S n x) x + u (t ((TB ^^ n) x)) ((TB ^^ n) x)\n    \\<le> real (S n x) * F K e x +\n          birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n          real (t ((TB ^^ n) x)) * F K e ((TB ^^ n) x) +\n          birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((TB ^^ n) x) *\n          \\<bar>F K e ((TB ^^ n) x)\\<bar>", "using Suc bound1[of \"((TB^^n) x)\"]"], ["proof (prove)\nusing this:\n  0 < n\n  u (S n x) x\n  \\<le> real (S n x) * F K e x +\n        birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar>\n  u (t ((TB ^^ n) x)) ((TB ^^ n) x)\n  \\<le> real (t ((TB ^^ n) x)) * F K e ((TB ^^ n) x) +\n        birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((TB ^^ n) x) *\n        \\<bar>F K e ((TB ^^ n) x)\\<bar>\n\ngoal (1 subgoal):\n 1. u (S n x) x + u (t ((TB ^^ n) x)) ((TB ^^ n) x)\n    \\<le> real (S n x) * F K e x +\n          birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n          real (t ((TB ^^ n) x)) * F K e ((TB ^^ n) x) +\n          birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((TB ^^ n) x) *\n          \\<bar>F K e ((TB ^^ n) x)\\<bar>", "by auto"], ["proof (state)\nthis:\n  u (S n x) x + u (t ((TB ^^ n) x)) ((TB ^^ n) x)\n  \\<le> real (S n x) * F K e x +\n        birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n        real (t ((TB ^^ n) x)) * F K e ((TB ^^ n) x) +\n        birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((TB ^^ n) x) *\n        \\<bar>F K e ((TB ^^ n) x)\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  u (S n x) x + u (t ((TB ^^ n) x)) ((TB ^^ n) x)\n  \\<le> real (S n x) * F K e x +\n        birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n        real (t ((TB ^^ n) x)) * F K e ((TB ^^ n) x) +\n        birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((TB ^^ n) x) *\n        \\<bar>F K e ((TB ^^ n) x)\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "have \"... = (S n x) * ?F x + birkhoff_sum ?I (S n x) x * abs(?F x) +\n                  t ((TB^^n) x) * ?F x + birkhoff_sum ?I (t ((TB^^n) x)) ((T^^(S n x)) x) * abs(?F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (S n x) * F K e x +\n    birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n    real (t ((TB ^^ n) x)) * F K e ((TB ^^ n) x) +\n    birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((TB ^^ n) x) *\n    \\<bar>F K e ((TB ^^ n) x)\\<bar> =\n    real (S n x) * F K e x +\n    birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n    real (t ((TB ^^ n) x)) * F K e x +\n    birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x) *\n    \\<bar>F K e x\\<bar>", "using * TB_pow"], ["proof (prove)\nusing this:\n  F K e ((TB ^^ n) x) = F K e x\n  (TB ^^ ?n3) ?x3 = (T ^^ S ?n3 ?x3) ?x3\n\ngoal (1 subgoal):\n 1. real (S n x) * F K e x +\n    birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n    real (t ((TB ^^ n) x)) * F K e ((TB ^^ n) x) +\n    birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((TB ^^ n) x) *\n    \\<bar>F K e ((TB ^^ n) x)\\<bar> =\n    real (S n x) * F K e x +\n    birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n    real (t ((TB ^^ n) x)) * F K e x +\n    birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x) *\n    \\<bar>F K e x\\<bar>", "by auto"], ["proof (state)\nthis:\n  real (S n x) * F K e x +\n  birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n  real (t ((TB ^^ n) x)) * F K e ((TB ^^ n) x) +\n  birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((TB ^^ n) x) *\n  \\<bar>F K e ((TB ^^ n) x)\\<bar> =\n  real (S n x) * F K e x +\n  birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n  real (t ((TB ^^ n) x)) * F K e x +\n  birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x) *\n  \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  real (S n x) * F K e x +\n  birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n  real (t ((TB ^^ n) x)) * F K e ((TB ^^ n) x) +\n  birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((TB ^^ n) x) *\n  \\<bar>F K e ((TB ^^ n) x)\\<bar> =\n  real (S n x) * F K e x +\n  birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n  real (t ((TB ^^ n) x)) * F K e x +\n  birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x) *\n  \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "have \"... = (real(S n x) + t ((TB^^n) x)) * ?F x +\n                  (birkhoff_sum ?I (S n x) x + birkhoff_sum ?I (t ((TB^^n) x)) ((T^^(S n x)) x)) * abs(?F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (S n x) * F K e x +\n    birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n    real (t ((TB ^^ n) x)) * F K e x +\n    birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x) *\n    \\<bar>F K e x\\<bar> =\n    (real (S n x) + real (t ((TB ^^ n) x))) * F K e x +\n    (birkhoff_sum (I N K e) (S n x) x +\n     birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x)) *\n    \\<bar>F K e x\\<bar>", "by (simp add: mult.commute ring_class.ring_distribs(1))"], ["proof (state)\nthis:\n  real (S n x) * F K e x +\n  birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n  real (t ((TB ^^ n) x)) * F K e x +\n  birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x) *\n  \\<bar>F K e x\\<bar> =\n  (real (S n x) + real (t ((TB ^^ n) x))) * F K e x +\n  (birkhoff_sum (I N K e) (S n x) x +\n   birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x)) *\n  \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  real (S n x) * F K e x +\n  birkhoff_sum (I N K e) (S n x) x * \\<bar>F K e x\\<bar> +\n  real (t ((TB ^^ n) x)) * F K e x +\n  birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x) *\n  \\<bar>F K e x\\<bar> =\n  (real (S n x) + real (t ((TB ^^ n) x))) * F K e x +\n  (birkhoff_sum (I N K e) (S n x) x +\n   birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x)) *\n  \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "have \"... = (S n x + t ((TB^^n) x)) * ?F x +\n                  (birkhoff_sum ?I (S n x) x + birkhoff_sum ?I (t ((TB^^n) x)) ((T^^(S n x)) x)) * abs(?F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (real (S n x) + real (t ((TB ^^ n) x))) * F K e x +\n    (birkhoff_sum (I N K e) (S n x) x +\n     birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x)) *\n    \\<bar>F K e x\\<bar> =\n    real (S n x + t ((TB ^^ n) x)) * F K e x +\n    (birkhoff_sum (I N K e) (S n x) x +\n     birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x)) *\n    \\<bar>F K e x\\<bar>", "by simp"], ["proof (state)\nthis:\n  (real (S n x) + real (t ((TB ^^ n) x))) * F K e x +\n  (birkhoff_sum (I N K e) (S n x) x +\n   birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x)) *\n  \\<bar>F K e x\\<bar> =\n  real (S n x + t ((TB ^^ n) x)) * F K e x +\n  (birkhoff_sum (I N K e) (S n x) x +\n   birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x)) *\n  \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  (real (S n x) + real (t ((TB ^^ n) x))) * F K e x +\n  (birkhoff_sum (I N K e) (S n x) x +\n   birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x)) *\n  \\<bar>F K e x\\<bar> =\n  real (S n x + t ((TB ^^ n) x)) * F K e x +\n  (birkhoff_sum (I N K e) (S n x) x +\n   birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x)) *\n  \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "have \"... = (S (Suc n) x) * ?F x + birkhoff_sum ?I (S (Suc n) x) x * abs(?F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (S n x + t ((TB ^^ n) x)) * F K e x +\n    (birkhoff_sum (I N K e) (S n x) x +\n     birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x)) *\n    \\<bar>F K e x\\<bar> =\n    real (S (Suc n) x) * F K e x +\n    birkhoff_sum (I N K e) (S (Suc n) x) x * \\<bar>F K e x\\<bar>", "by (subst birkhoff_sum_cocycle[symmetric], subst **, subst **, simp)"], ["proof (state)\nthis:\n  real (S n x + t ((TB ^^ n) x)) * F K e x +\n  (birkhoff_sum (I N K e) (S n x) x +\n   birkhoff_sum (I N K e) (t ((TB ^^ n) x)) ((T ^^ S n x) x)) *\n  \\<bar>F K e x\\<bar> =\n  real (S (Suc n) x) * F K e x +\n  birkhoff_sum (I N K e) (S (Suc n) x) x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < n;\n        u (S n x) x\n        \\<le> real (S n x) * F K e x +\n              birkhoff_sum (I N K e) (S n x) x *\n              \\<bar>F K e x\\<bar>\\<rbrakk>\n       \\<Longrightarrow> u (S (Suc n) x) x\n                         \\<le> real (S (Suc n) x) * F K e x +\n                               birkhoff_sum (I N K e) (S (Suc n) x) x *\n                               \\<bar>F K e x\\<bar>", "finally"], ["proof (chain)\npicking this:\n  u (S (Suc n) x) x\n  \\<le> real (S (Suc n) x) * F K e x +\n        birkhoff_sum (I N K e) (S (Suc n) x) x * \\<bar>F K e x\\<bar>", "show ?case"], ["proof (prove)\nusing this:\n  u (S (Suc n) x) x\n  \\<le> real (S (Suc n) x) * F K e x +\n        birkhoff_sum (I N K e) (S (Suc n) x) x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u (S (Suc n) x) x\n    \\<le> real (S (Suc n) x) * F K e x +\n          birkhoff_sum (I N K e) (S (Suc n) x) x * \\<bar>F K e x\\<bar>", "by simp"], ["proof (state)\nthis:\n  u (S (Suc n) x) x\n  \\<le> real (S (Suc n) x) * F K e x +\n        birkhoff_sum (I N K e) (S (Suc n) x) x * \\<bar>F K e x\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?x3 \\<in> A; 0 < ?n3\\<rbrakk>\n  \\<Longrightarrow> u (S ?n3 ?x3) ?x3\n                    \\<le> real (S ?n3 ?x3) * F K e ?x3 +\n                          birkhoff_sum (I N K e) (S ?n3 ?x3) ?x3 *\n                          \\<bar>F K e ?x3\\<bar>\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "have un: \"u n x \\<le> n * ?F x + N * abs(?F x) + birkhoff_sum ?I n x * abs(?F x)\" if \"x \\<in> A\" \"n>N\" for x n"], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "let ?A = \"{i. S i x > n}\""], ["proof (state)\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "let ?iA = \"Inf ?A\""], ["proof (state)\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"n < (\\<Sum>i<n + 1. 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n < (\\<Sum>i<n + 1. 1)", "by auto"], ["proof (state)\nthis:\n  n < (\\<Sum>i<n + 1. 1)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  n < (\\<Sum>i<n + 1. 1)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"... \\<le> S (n+1) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<n + 1. 1) \\<le> S (n + 1) x", "unfolding S_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<n + 1. 1) \\<le> (\\<Sum>i<n + 1. t ((TB ^^ i) x))", "apply (rule sum_mono)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> {..<n + 1} \\<Longrightarrow> 1 \\<le> t ((TB ^^ i) x)", "using t1"], ["proof (prove)\nusing this:\n  t ?x3 \\<in> {1..N}\n\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> {..<n + 1} \\<Longrightarrow> 1 \\<le> t ((TB ^^ i) x)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i<n + 1. 1) \\<le> S (n + 1) x\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "finally"], ["proof (chain)\npicking this:\n  n < S (n + 1) x", "have \"?A \\<noteq> {}\""], ["proof (prove)\nusing this:\n  n < S (n + 1) x\n\ngoal (1 subgoal):\n 1. {i. n < S i x} \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  {i. n < S i x} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "then"], ["proof (chain)\npicking this:\n  {i. n < S i x} \\<noteq> {}", "have \"?iA \\<in> ?A\""], ["proof (prove)\nusing this:\n  {i. n < S i x} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<Sqinter> {i. n < S i x} \\<in> {i. n < S i x}", "by (meson Inf_nat_def1)"], ["proof (state)\nthis:\n  \\<Sqinter> {i. n < S i x} \\<in> {i. n < S i x}\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "moreover"], ["proof (state)\nthis:\n  \\<Sqinter> {i. n < S i x} \\<in> {i. n < S i x}\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"0 \\<notin> ?A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<notin> {i. n < S i x}", "unfolding S_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<notin> {i. n < (\\<Sum>i<i. t ((TB ^^ i) x))}", "by auto"], ["proof (state)\nthis:\n  0 \\<notin> {i. n < S i x}\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  \\<Sqinter> {i. n < S i x} \\<in> {i. n < S i x}\n  0 \\<notin> {i. n < S i x}", "have \"?iA \\<noteq> 0\""], ["proof (prove)\nusing this:\n  \\<Sqinter> {i. n < S i x} \\<in> {i. n < S i x}\n  0 \\<notin> {i. n < S i x}\n\ngoal (1 subgoal):\n 1. \\<Sqinter> {i. n < S i x} \\<noteq> 0", "by fastforce"], ["proof (state)\nthis:\n  \\<Sqinter> {i. n < S i x} \\<noteq> 0\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "define j where \"j = ?iA - 1\""], ["proof (state)\nthis:\n  j = \\<Sqinter> {i. n < S i x} - 1\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "then"], ["proof (chain)\npicking this:\n  j = \\<Sqinter> {i. n < S i x} - 1", "have \"j < ?iA\""], ["proof (prove)\nusing this:\n  j = \\<Sqinter> {i. n < S i x} - 1\n\ngoal (1 subgoal):\n 1. j < \\<Sqinter> {i. n < S i x}", "using \\<open>?iA \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  j = \\<Sqinter> {i. n < S i x} - 1\n  \\<Sqinter> {i. n < S i x} \\<noteq> 0\n\ngoal (1 subgoal):\n 1. j < \\<Sqinter> {i. n < S i x}", "by auto"], ["proof (state)\nthis:\n  j < \\<Sqinter> {i. n < S i x}\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "then"], ["proof (chain)\npicking this:\n  j < \\<Sqinter> {i. n < S i x}", "have \"j \\<notin> ?A\""], ["proof (prove)\nusing this:\n  j < \\<Sqinter> {i. n < S i x}\n\ngoal (1 subgoal):\n 1. j \\<notin> {i. n < S i x}", "by (meson bdd_below_def cInf_lower le0 not_less)"], ["proof (state)\nthis:\n  j \\<notin> {i. n < S i x}\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "then"], ["proof (chain)\npicking this:\n  j \\<notin> {i. n < S i x}", "have \"S j x \\<le> n\""], ["proof (prove)\nusing this:\n  j \\<notin> {i. n < S i x}\n\ngoal (1 subgoal):\n 1. S j x \\<le> n", "by auto"], ["proof (state)\nthis:\n  S j x \\<le> n\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "define k where \"k = n - S j x\""], ["proof (state)\nthis:\n  k = n - S j x\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"n = S j x + k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n = S j x + k", "unfolding k_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. n = S j x + (n - S j x)", "using \\<open>S j x \\<le> n\\<close>"], ["proof (prove)\nusing this:\n  S j x \\<le> n\n\ngoal (1 subgoal):\n 1. n = S j x + (n - S j x)", "by auto"], ["proof (state)\nthis:\n  n = S j x + k\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"n < S (j+1) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n < S (j + 1) x", "unfolding j_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. n < S (\\<Sqinter> {i. n < S i x} - 1 + 1) x", "using \\<open>?iA \\<noteq> 0\\<close> \\<open>?iA \\<in> ?A\\<close>"], ["proof (prove)\nusing this:\n  \\<Sqinter> {i. n < S i x} \\<noteq> 0\n  \\<Sqinter> {i. n < S i x} \\<in> {i. n < S i x}\n\ngoal (1 subgoal):\n 1. n < S (\\<Sqinter> {i. n < S i x} - 1 + 1) x", "by auto"], ["proof (state)\nthis:\n  n < S (j + 1) x\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  n < S (j + 1) x\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"... = S j x + t((TB^^j) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S (j + 1) x = S j x + t ((TB ^^ j) x)", "unfolding S_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<j + 1. t ((TB ^^ i) x)) =\n    (\\<Sum>i<j. t ((TB ^^ i) x)) + t ((TB ^^ j) x)", "by auto"], ["proof (state)\nthis:\n  S (j + 1) x = S j x + t ((TB ^^ j) x)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  S (j + 1) x = S j x + t ((TB ^^ j) x)\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"... \\<le> S j x + N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S j x + t ((TB ^^ j) x) \\<le> S j x + N", "using t1"], ["proof (prove)\nusing this:\n  t ?x3 \\<in> {1..N}\n\ngoal (1 subgoal):\n 1. S j x + t ((TB ^^ j) x) \\<le> S j x + N", "by auto"], ["proof (state)\nthis:\n  S j x + t ((TB ^^ j) x) \\<le> S j x + N\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "finally"], ["proof (chain)\npicking this:\n  n < S j x + N", "have \"k \\<le> N\""], ["proof (prove)\nusing this:\n  n < S j x + N\n\ngoal (1 subgoal):\n 1. k \\<le> N", "unfolding k_def"], ["proof (prove)\nusing this:\n  n < S j x + N\n\ngoal (1 subgoal):\n 1. n - S j x \\<le> N", "using \\<open>n > N\\<close>"], ["proof (prove)\nusing this:\n  n < S j x + N\n  N < n\n\ngoal (1 subgoal):\n 1. n - S j x \\<le> N", "by auto"], ["proof (state)\nthis:\n  k \\<le> N\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "then"], ["proof (chain)\npicking this:\n  k \\<le> N", "have \"S j x > 0\""], ["proof (prove)\nusing this:\n  k \\<le> N\n\ngoal (1 subgoal):\n 1. 0 < S j x", "unfolding k_def"], ["proof (prove)\nusing this:\n  n - S j x \\<le> N\n\ngoal (1 subgoal):\n 1. 0 < S j x", "using \\<open>n > N\\<close>"], ["proof (prove)\nusing this:\n  n - S j x \\<le> N\n  N < n\n\ngoal (1 subgoal):\n 1. 0 < S j x", "by auto"], ["proof (state)\nthis:\n  0 < S j x\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "then"], ["proof (chain)\npicking this:\n  0 < S j x", "have \"j > 0\""], ["proof (prove)\nusing this:\n  0 < S j x\n\ngoal (1 subgoal):\n 1. 0 < j", "unfolding S_def"], ["proof (prove)\nusing this:\n  0 < (\\<Sum>i<j. t ((TB ^^ i) x))\n\ngoal (1 subgoal):\n 1. 0 < j", "using not_gr0"], ["proof (prove)\nusing this:\n  0 < (\\<Sum>i<j. t ((TB ^^ i) x))\n  (\\<not> 0 < ?n) = (?n = 0)\n\ngoal (1 subgoal):\n 1. 0 < j", "by fastforce"], ["proof (state)\nthis:\n  0 < j\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"birkhoff_sum ?I (S j x) x \\<le> birkhoff_sum ?I n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. birkhoff_sum (I N K e) (S j x) x \\<le> birkhoff_sum (I N K e) n x", "unfolding birkhoff_sum_def I_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<S j x. indicat_real (- B N K e) ((T ^^ i) x))\n    \\<le> (\\<Sum>i<n. indicat_real (- B N K e) ((T ^^ i) x))", "using \\<open>S j x \\<le> n\\<close>"], ["proof (prove)\nusing this:\n  S j x \\<le> n\n\ngoal (1 subgoal):\n 1. (\\<Sum>i<S j x. indicat_real (- B N K e) ((T ^^ i) x))\n    \\<le> (\\<Sum>i<n. indicat_real (- B N K e) ((T ^^ i) x))", "by (metis finite_Collect_less_nat indicator_pos_le lessThan_def lessThan_subset_iff sum_mono2)"], ["proof (state)\nthis:\n  birkhoff_sum (I N K e) (S j x) x \\<le> birkhoff_sum (I N K e) n x\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"u n x \\<le> u (S j x) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x \\<le> u (S j x) x", "proof (cases \"k = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. k = 0 \\<Longrightarrow> u n x \\<le> u (S j x) x\n 2. k \\<noteq> 0 \\<Longrightarrow> u n x \\<le> u (S j x) x", "case True"], ["proof (state)\nthis:\n  k = 0\n\ngoal (2 subgoals):\n 1. k = 0 \\<Longrightarrow> u n x \\<le> u (S j x) x\n 2. k \\<noteq> 0 \\<Longrightarrow> u n x \\<le> u (S j x) x", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x \\<le> u (S j x) x", "using True"], ["proof (prove)\nusing this:\n  k = 0\n\ngoal (1 subgoal):\n 1. u n x \\<le> u (S j x) x", "unfolding k_def"], ["proof (prove)\nusing this:\n  n - S j x = 0\n\ngoal (1 subgoal):\n 1. u n x \\<le> u (S j x) x", "using \\<open>S j x \\<le> n\\<close>"], ["proof (prove)\nusing this:\n  n - S j x = 0\n  S j x \\<le> n\n\ngoal (1 subgoal):\n 1. u n x \\<le> u (S j x) x", "by auto"], ["proof (state)\nthis:\n  u n x \\<le> u (S j x) x\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> u n x \\<le> u (S j x) x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> u n x \\<le> u (S j x) x", "case False"], ["proof (state)\nthis:\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> u n x \\<le> u (S j x) x", "then"], ["proof (chain)\npicking this:\n  k \\<noteq> 0", "have \"k > 0\""], ["proof (prove)\nusing this:\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 0 < k", "by simp"], ["proof (state)\nthis:\n  0 < k\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> u n x \\<le> u (S j x) x", "have \"u k ((T^^(S j x)) x) \\<le> birkhoff_sum (u 1) k ((T ^^ S j x) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u k ((T ^^ S j x) x) \\<le> birkhoff_sum (u 1) k ((T ^^ S j x) x)", "using subcocycle_bounded_by_birkhoff1[OF assms(1) \\<open>k>0\\<close>, of \"(T^^(S j x)) x\"]"], ["proof (prove)\nusing this:\n  u k ((T ^^ S j x) x) \\<le> birkhoff_sum (u 1) k ((T ^^ S j x) x)\n\ngoal (1 subgoal):\n 1. u k ((T ^^ S j x) x) \\<le> birkhoff_sum (u 1) k ((T ^^ S j x) x)", "by simp"], ["proof (state)\nthis:\n  u k ((T ^^ S j x) x) \\<le> birkhoff_sum (u 1) k ((T ^^ S j x) x)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> u n x \\<le> u (S j x) x", "also"], ["proof (state)\nthis:\n  u k ((T ^^ S j x) x) \\<le> birkhoff_sum (u 1) k ((T ^^ S j x) x)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> u n x \\<le> u (S j x) x", "have \"... \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. birkhoff_sum (u 1) k ((T ^^ S j x) x) \\<le> 0", "unfolding birkhoff_sum_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. u 1 ((T ^^ i) ((T ^^ S j x) x))) \\<le> 0", "using sum_mono assms(2)"], ["proof (prove)\nusing this:\n  (\\<And>i. i \\<in> ?K \\<Longrightarrow> ?f i \\<le> ?g i) \\<Longrightarrow>\n  sum ?f ?K \\<le> sum ?g ?K\n  u 1 ?x3 \\<le> 0\n\ngoal (1 subgoal):\n 1. (\\<Sum>i<k. u 1 ((T ^^ i) ((T ^^ S j x) x))) \\<le> 0", "by (simp add: sum_nonpos)"], ["proof (state)\nthis:\n  birkhoff_sum (u 1) k ((T ^^ S j x) x) \\<le> 0\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> u n x \\<le> u (S j x) x", "also"], ["proof (state)\nthis:\n  birkhoff_sum (u 1) k ((T ^^ S j x) x) \\<le> 0\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> u n x \\<le> u (S j x) x", "have \"u n x \\<le> u (S j x) x + u k ((T^^(S j x)) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x \\<le> u (S j x) x + u k ((T ^^ S j x) x)", "apply (subst \\<open>n = S j x + k\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. u (S j x + k) x \\<le> u (S j x) x + u k ((T ^^ S j x) x)", "using assms(1) subcocycle_def"], ["proof (prove)\nusing this:\n  subcocycle u\n  subcocycle ?u =\n  ((\\<forall>n. integrable M (?u n)) \\<and>\n   (\\<forall>n m x. ?u (n + m) x \\<le> ?u n x + ?u m ((T ^^ n) x)))\n\ngoal (1 subgoal):\n 1. u (S j x + k) x \\<le> u (S j x) x + u k ((T ^^ S j x) x)", "by auto"], ["proof (state)\nthis:\n  u n x \\<le> u (S j x) x + u k ((T ^^ S j x) x)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> u n x \\<le> u (S j x) x", "ultimately"], ["proof (chain)\npicking this:\n  u k ((T ^^ S j x) x) \\<le> 0\n  u n x \\<le> u (S j x) x + u k ((T ^^ S j x) x)", "show ?thesis"], ["proof (prove)\nusing this:\n  u k ((T ^^ S j x) x) \\<le> 0\n  u n x \\<le> u (S j x) x + u k ((T ^^ S j x) x)\n\ngoal (1 subgoal):\n 1. u n x \\<le> u (S j x) x", "by auto"], ["proof (state)\nthis:\n  u n x \\<le> u (S j x) x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  u n x \\<le> u (S j x) x\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  u n x \\<le> u (S j x) x\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"... \\<le> (S j x) * ?F x + birkhoff_sum ?I (S j x) x * abs(?F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (S j x) x\n    \\<le> real (S j x) * F K e x +\n          birkhoff_sum (I N K e) (S j x) x * \\<bar>F K e x\\<bar>", "using uS[OF \\<open>x \\<in> A\\<close> \\<open>j>0\\<close>]"], ["proof (prove)\nusing this:\n  u (S j x) x\n  \\<le> real (S j x) * F K e x +\n        birkhoff_sum (I N K e) (S j x) x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u (S j x) x\n    \\<le> real (S j x) * F K e x +\n          birkhoff_sum (I N K e) (S j x) x * \\<bar>F K e x\\<bar>", "by simp"], ["proof (state)\nthis:\n  u (S j x) x\n  \\<le> real (S j x) * F K e x +\n        birkhoff_sum (I N K e) (S j x) x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  u (S j x) x\n  \\<le> real (S j x) * F K e x +\n        birkhoff_sum (I N K e) (S j x) x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"... \\<le> (S j x) * ?F x + birkhoff_sum ?I n x * abs(?F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (S j x) * F K e x +\n    birkhoff_sum (I N K e) (S j x) x * \\<bar>F K e x\\<bar>\n    \\<le> real (S j x) * F K e x +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "using \\<open>birkhoff_sum ?I (S j x) x \\<le> birkhoff_sum ?I n x\\<close>"], ["proof (prove)\nusing this:\n  birkhoff_sum (I N K e) (S j x) x \\<le> birkhoff_sum (I N K e) n x\n\ngoal (1 subgoal):\n 1. real (S j x) * F K e x +\n    birkhoff_sum (I N K e) (S j x) x * \\<bar>F K e x\\<bar>\n    \\<le> real (S j x) * F K e x +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "by (simp add: mult_right_mono)"], ["proof (state)\nthis:\n  real (S j x) * F K e x +\n  birkhoff_sum (I N K e) (S j x) x * \\<bar>F K e x\\<bar>\n  \\<le> real (S j x) * F K e x +\n        birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  real (S j x) * F K e x +\n  birkhoff_sum (I N K e) (S j x) x * \\<bar>F K e x\\<bar>\n  \\<le> real (S j x) * F K e x +\n        birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"... = n * ?F x - k * ?F x + birkhoff_sum ?I n x * abs(?F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (S j x) * F K e x +\n    birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar> =\n    real n * F K e x - real k * F K e x +\n    birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "by (metis \\<open>n = S j x + k\\<close> add_diff_cancel_right' le_add2 left_diff_distrib' of_nat_diff)"], ["proof (state)\nthis:\n  real (S j x) * F K e x +\n  birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar> =\n  real n * F K e x - real k * F K e x +\n  birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  real (S j x) * F K e x +\n  birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar> =\n  real n * F K e x - real k * F K e x +\n  birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"... \\<le> n * ?F x + k * abs(?F x) + birkhoff_sum ?I n x * abs(?F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real n * F K e x - real k * F K e x +\n    birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n    \\<le> real n * F K e x + real k * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "by (auto, metis abs_ge_minus_self abs_mult abs_of_nat)"], ["proof (state)\nthis:\n  real n * F K e x - real k * F K e x +\n  birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n  \\<le> real n * F K e x + real k * \\<bar>F K e x\\<bar> +\n        birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "also"], ["proof (state)\nthis:\n  real n * F K e x - real k * F K e x +\n  birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n  \\<le> real n * F K e x + real k * \\<bar>F K e x\\<bar> +\n        birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "have \"... \\<le> n * ?F x + N * abs(?F x) + birkhoff_sum ?I n x * abs(?F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real n * F K e x + real k * \\<bar>F K e x\\<bar> +\n    birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "using \\<open>k \\<le> N\\<close>"], ["proof (prove)\nusing this:\n  k \\<le> N\n\ngoal (1 subgoal):\n 1. real n * F K e x + real k * \\<bar>F K e x\\<bar> +\n    birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "by (simp add: mult_right_mono)"], ["proof (state)\nthis:\n  real n * F K e x + real k * \\<bar>F K e x\\<bar> +\n  birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n  \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n        birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "finally"], ["proof (chain)\npicking this:\n  u n x\n  \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n        birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "show ?thesis"], ["proof (prove)\nusing this:\n  u n x\n  \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n        birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u n x\n    \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n          birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>", "by simp"], ["proof (state)\nthis:\n  u n x\n  \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n        birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?x3 \\<in> A; N < ?n3\\<rbrakk>\n  \\<Longrightarrow> u ?n3 ?x3\n                    \\<le> real ?n3 * F K e ?x3 +\n                          real N * \\<bar>F K e ?x3\\<bar> +\n                          birkhoff_sum (I N K e) ?n3 ?x3 *\n                          \\<bar>F K e ?x3\\<bar>\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "have \"limsup (\\<lambda>n. u n x / n) \\<le> ?F x + limsup (\\<lambda>n. abs(?F x) * ereal(birkhoff_sum ?I n x / n))\" if \"x \\<in> A\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "have \"(\\<lambda>n. ereal(?F x + N * abs(?F x) * (1 / n))) \\<longlonglongrightarrow> ereal(?F x + N * abs (?F x) * 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        ereal (F K e x + real N * \\<bar>F K e x\\<bar> * (1 / real n)))\n    \\<longlonglongrightarrow> ereal\n                               (F K e x + real N * \\<bar>F K e x\\<bar> * 0)", "by (intro tendsto_intros)"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      ereal (F K e x + real N * \\<bar>F K e x\\<bar> * (1 / real n)))\n  \\<longlonglongrightarrow> ereal\n                             (F K e x + real N * \\<bar>F K e x\\<bar> * 0)\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n.\n      ereal (F K e x + real N * \\<bar>F K e x\\<bar> * (1 / real n)))\n  \\<longlonglongrightarrow> ereal\n                             (F K e x + real N * \\<bar>F K e x\\<bar> * 0)", "have *: \"limsup (\\<lambda>n. ?F x + N * abs(?F x)/n) = ?F x\""], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      ereal (F K e x + real N * \\<bar>F K e x\\<bar> * (1 / real n)))\n  \\<longlonglongrightarrow> ereal\n                             (F K e x + real N * \\<bar>F K e x\\<bar> * 0)\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>xa.\n         ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real xa)) =\n    ereal (F K e x)", "using sequentially_bot tendsto_iff_Liminf_eq_Limsup"], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      ereal (F K e x + real N * \\<bar>F K e x\\<bar> * (1 / real n)))\n  \\<longlonglongrightarrow> ereal\n                             (F K e x + real N * \\<bar>F K e x\\<bar> * 0)\n  sequentially \\<noteq> \\<bottom>\n  ?F \\<noteq> \\<bottom> \\<Longrightarrow>\n  (?f \\<longlongrightarrow> ?f0.0) ?F =\n  (Liminf ?F ?f = ?f0.0 \\<and> Limsup ?F ?f = ?f0.0)\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>xa.\n         ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real xa)) =\n    ereal (F K e x)", "by force"], ["proof (state)\nthis:\n  limsup\n   (\\<lambda>xa. ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real xa)) =\n  ereal (F K e x)\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "{"], ["proof (state)\nthis:\n  limsup\n   (\\<lambda>xa. ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real xa)) =\n  ereal (F K e x)\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "assume \"n > N\""], ["proof (state)\nthis:\n  N < n\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "have \"u n x / real n \\<le> ?F x + N * abs(?F x) / n + abs(?F x) * birkhoff_sum ?I n x / n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x / real n\n    \\<le> F K e x + real N * \\<bar>F K e x\\<bar> / real n +\n          \\<bar>F K e x\\<bar> * birkhoff_sum (I N K e) n x / real n", "using un[OF \\<open>x \\<in> A\\<close> \\<open>n > N\\<close>]"], ["proof (prove)\nusing this:\n  u n x\n  \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n        birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n\ngoal (1 subgoal):\n 1. u n x / real n\n    \\<le> F K e x + real N * \\<bar>F K e x\\<bar> / real n +\n          \\<bar>F K e x\\<bar> * birkhoff_sum (I N K e) n x / real n", "using \\<open>n>N\\<close>"], ["proof (prove)\nusing this:\n  u n x\n  \\<le> real n * F K e x + real N * \\<bar>F K e x\\<bar> +\n        birkhoff_sum (I N K e) n x * \\<bar>F K e x\\<bar>\n  N < n\n\ngoal (1 subgoal):\n 1. u n x / real n\n    \\<le> F K e x + real N * \\<bar>F K e x\\<bar> / real n +\n          \\<bar>F K e x\\<bar> * birkhoff_sum (I N K e) n x / real n", "by (auto simp add: divide_simps mult.commute)"], ["proof (state)\nthis:\n  u n x / real n\n  \\<le> F K e x + real N * \\<bar>F K e x\\<bar> / real n +\n        \\<bar>F K e x\\<bar> * birkhoff_sum (I N K e) n x / real n\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "then"], ["proof (chain)\npicking this:\n  u n x / real n\n  \\<le> F K e x + real N * \\<bar>F K e x\\<bar> / real n +\n        \\<bar>F K e x\\<bar> * birkhoff_sum (I N K e) n x / real n", "have \"ereal(u n x/n) \\<le> ereal(?F x + N * abs(?F x) / n) + abs(?F x) * ereal(birkhoff_sum ?I n x / n)\""], ["proof (prove)\nusing this:\n  u n x / real n\n  \\<le> F K e x + real N * \\<bar>F K e x\\<bar> / real n +\n        \\<bar>F K e x\\<bar> * birkhoff_sum (I N K e) n x / real n\n\ngoal (1 subgoal):\n 1. ereal (u n x / real n)\n    \\<le> ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n          ereal \\<bar>F K e x\\<bar> *\n          ereal (birkhoff_sum (I N K e) n x / real n)", "by auto"], ["proof (state)\nthis:\n  ereal (u n x / real n)\n  \\<le> ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n        ereal \\<bar>F K e x\\<bar> *\n        ereal (birkhoff_sum (I N K e) n x / real n)\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "}"], ["proof (state)\nthis:\n  N < ?n5 \\<Longrightarrow>\n  ereal (u ?n5 x / real ?n5)\n  \\<le> ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real ?n5) +\n        ereal \\<bar>F K e x\\<bar> *\n        ereal (birkhoff_sum (I N K e) ?n5 x / real ?n5)\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "then"], ["proof (chain)\npicking this:\n  N < ?n5 \\<Longrightarrow>\n  ereal (u ?n5 x / real ?n5)\n  \\<le> ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real ?n5) +\n        ereal \\<bar>F K e x\\<bar> *\n        ereal (birkhoff_sum (I N K e) ?n5 x / real ?n5)", "have \"eventually (\\<lambda>n. ereal(u n x / n) \\<le> ereal(?F x + N * abs(?F x) / n) + abs(?F x) * ereal(birkhoff_sum ?I n x / n)) sequentially\""], ["proof (prove)\nusing this:\n  N < ?n5 \\<Longrightarrow>\n  ereal (u ?n5 x / real ?n5)\n  \\<le> ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real ?n5) +\n        ereal \\<bar>F K e x\\<bar> *\n        ereal (birkhoff_sum (I N K e) ?n5 x / real ?n5)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       ereal (u n x / real n)\n       \\<le> ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (birkhoff_sum (I N K e) n x / real n)", "using eventually_mono[OF eventually_gt_at_top[of N]]"], ["proof (prove)\nusing this:\n  N < ?n5 \\<Longrightarrow>\n  ereal (u ?n5 x / real ?n5)\n  \\<le> ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real ?n5) +\n        ereal \\<bar>F K e x\\<bar> *\n        ereal (birkhoff_sum (I N K e) ?n5 x / real ?n5)\n  (\\<And>x. N < x \\<Longrightarrow> ?Q x) \\<Longrightarrow>\n  eventually ?Q sequentially\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       ereal (u n x / real n)\n       \\<le> ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (birkhoff_sum (I N K e) n x / real n)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     ereal (u n x / real n)\n     \\<le> ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n           ereal \\<bar>F K e x\\<bar> *\n           ereal (birkhoff_sum (I N K e) n x / real n)\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "with Limsup_mono[OF this]"], ["proof (chain)\npicking this:\n  limsup (\\<lambda>n. ereal (u n x / real n))\n  \\<le> limsup\n         (\\<lambda>n.\n             ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (birkhoff_sum (I N K e) n x / real n))\n  \\<forall>\\<^sub>F n in sequentially.\n     ereal (u n x / real n)\n     \\<le> ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n           ereal \\<bar>F K e x\\<bar> *\n           ereal (birkhoff_sum (I N K e) n x / real n)", "have \"limsup (\\<lambda>n. u n x / n) \\<le> limsup (\\<lambda>n. ereal(?F x + N * abs(?F x) / n) + abs(?F x) * ereal(birkhoff_sum ?I n x / n))\""], ["proof (prove)\nusing this:\n  limsup (\\<lambda>n. ereal (u n x / real n))\n  \\<le> limsup\n         (\\<lambda>n.\n             ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (birkhoff_sum (I N K e) n x / real n))\n  \\<forall>\\<^sub>F n in sequentially.\n     ereal (u n x / real n)\n     \\<le> ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n           ereal \\<bar>F K e x\\<bar> *\n           ereal (birkhoff_sum (I N K e) n x / real n)\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> limsup\n           (\\<lambda>n.\n               ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "by auto"], ["proof (state)\nthis:\n  limsup (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<le> limsup\n         (\\<lambda>n.\n             ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (birkhoff_sum (I N K e) n x / real n))\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "also"], ["proof (state)\nthis:\n  limsup (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<le> limsup\n         (\\<lambda>n.\n             ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (birkhoff_sum (I N K e) n x / real n))\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "have \"... \\<le> limsup (\\<lambda>n. ?F x + N * abs(?F x) / n) + limsup (\\<lambda>n. abs(?F x) * ereal(birkhoff_sum ?I n x / n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n         ereal \\<bar>F K e x\\<bar> *\n         ereal (birkhoff_sum (I N K e) n x / real n))\n    \\<le> limsup\n           (\\<lambda>xa.\n               ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real xa)) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "by (rule ereal_limsup_add_mono)"], ["proof (state)\nthis:\n  limsup\n   (\\<lambda>n.\n       ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n       ereal \\<bar>F K e x\\<bar> *\n       ereal (birkhoff_sum (I N K e) n x / real n))\n  \\<le> limsup\n         (\\<lambda>xa.\n             ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real xa)) +\n        limsup\n         (\\<lambda>n.\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (birkhoff_sum (I N K e) n x / real n))\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "also"], ["proof (state)\nthis:\n  limsup\n   (\\<lambda>n.\n       ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real n) +\n       ereal \\<bar>F K e x\\<bar> *\n       ereal (birkhoff_sum (I N K e) n x / real n))\n  \\<le> limsup\n         (\\<lambda>xa.\n             ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real xa)) +\n        limsup\n         (\\<lambda>n.\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (birkhoff_sum (I N K e) n x / real n))\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "have \"... = ?F x + limsup (\\<lambda>n. abs(?F x) * ereal(birkhoff_sum ?I n x / n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>xa.\n         ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real xa)) +\n    limsup\n     (\\<lambda>n.\n         ereal \\<bar>F K e x\\<bar> *\n         ereal (birkhoff_sum (I N K e) n x / real n)) =\n    ereal (F K e x) +\n    limsup\n     (\\<lambda>n.\n         ereal \\<bar>F K e x\\<bar> *\n         ereal (birkhoff_sum (I N K e) n x / real n))", "using *"], ["proof (prove)\nusing this:\n  limsup\n   (\\<lambda>xa. ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real xa)) =\n  ereal (F K e x)\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>xa.\n         ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real xa)) +\n    limsup\n     (\\<lambda>n.\n         ereal \\<bar>F K e x\\<bar> *\n         ereal (birkhoff_sum (I N K e) n x / real n)) =\n    ereal (F K e x) +\n    limsup\n     (\\<lambda>n.\n         ereal \\<bar>F K e x\\<bar> *\n         ereal (birkhoff_sum (I N K e) n x / real n))", "by auto"], ["proof (state)\nthis:\n  limsup\n   (\\<lambda>xa. ereal (F K e x + real N * \\<bar>F K e x\\<bar> / real xa)) +\n  limsup\n   (\\<lambda>n.\n       ereal \\<bar>F K e x\\<bar> *\n       ereal (birkhoff_sum (I N K e) n x / real n)) =\n  ereal (F K e x) +\n  limsup\n   (\\<lambda>n.\n       ereal \\<bar>F K e x\\<bar> *\n       ereal (birkhoff_sum (I N K e) n x / real n))\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "finally"], ["proof (chain)\npicking this:\n  limsup (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<le> ereal (F K e x) +\n        limsup\n         (\\<lambda>n.\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (birkhoff_sum (I N K e) n x / real n))", "show ?thesis"], ["proof (prove)\nusing this:\n  limsup (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<le> ereal (F K e x) +\n        limsup\n         (\\<lambda>n.\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (birkhoff_sum (I N K e) n x / real n))\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<le> ereal (F K e x) +\n          limsup\n           (\\<lambda>n.\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (birkhoff_sum (I N K e) n x / real n))", "by auto"], ["proof (state)\nthis:\n  limsup (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<le> ereal (F K e x) +\n        limsup\n         (\\<lambda>n.\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (birkhoff_sum (I N K e) n x / real n))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?x3 \\<in> A \\<Longrightarrow>\n  limsup (\\<lambda>x. ereal (u x ?x3 / real x))\n  \\<le> ereal (F K e ?x3) +\n        limsup\n         (\\<lambda>n.\n             ereal \\<bar>F K e ?x3\\<bar> *\n             ereal (birkhoff_sum (I N K e) n ?x3 / real n))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "then"], ["proof (chain)\npicking this:\n  ?x3 \\<in> A \\<Longrightarrow>\n  limsup (\\<lambda>x. ereal (u x ?x3 / real x))\n  \\<le> ereal (F K e ?x3) +\n        limsup\n         (\\<lambda>n.\n             ereal \\<bar>F K e ?x3\\<bar> *\n             ereal (birkhoff_sum (I N K e) n ?x3 / real n))", "have *: \"AE x in M. limsup (\\<lambda>n. u n x / n) \\<le> ?F x + limsup (\\<lambda>n. abs(?F x) * ereal(birkhoff_sum ?I n x / n))\""], ["proof (prove)\nusing this:\n  ?x3 \\<in> A \\<Longrightarrow>\n  limsup (\\<lambda>x. ereal (u x ?x3 / real x))\n  \\<le> ereal (F K e ?x3) +\n        limsup\n         (\\<lambda>n.\n             ereal \\<bar>F K e ?x3\\<bar> *\n             ereal (birkhoff_sum (I N K e) n ?x3 / real n))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     limsup\n                      (\\<lambda>n.\n                          ereal \\<bar>F K e x\\<bar> *\n                          ereal (birkhoff_sum (I N K e) n x / real n))", "using \\<open>AE x in M. x \\<in> A\\<close>"], ["proof (prove)\nusing this:\n  ?x3 \\<in> A \\<Longrightarrow>\n  limsup (\\<lambda>x. ereal (u x ?x3 / real x))\n  \\<le> ereal (F K e ?x3) +\n        limsup\n         (\\<lambda>n.\n             ereal \\<bar>F K e ?x3\\<bar> *\n             ereal (birkhoff_sum (I N K e) n ?x3 / real n))\n  AE x in M. x \\<in> A\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     limsup\n                      (\\<lambda>n.\n                          ereal \\<bar>F K e x\\<bar> *\n                          ereal (birkhoff_sum (I N K e) n x / real n))", "by auto"], ["proof (state)\nthis:\n  AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<le> ereal (F K e x) +\n                   limsup\n                    (\\<lambda>n.\n                        ereal \\<bar>F K e x\\<bar> *\n                        ereal (birkhoff_sum (I N K e) n x / real n))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "{"], ["proof (state)\nthis:\n  AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<le> ereal (F K e x) +\n                   limsup\n                    (\\<lambda>n.\n                        ereal \\<bar>F K e x\\<bar> *\n                        ereal (birkhoff_sum (I N K e) n x / real n))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "assume H: \"(\\<lambda>n. birkhoff_sum ?I n x / n) \\<longlonglongrightarrow> real_cond_exp M Invariants ?I x\""], ["proof (state)\nthis:\n  (\\<lambda>n. birkhoff_sum (I N K e) n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (I N K e) x\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "have \"(\\<lambda>n. abs(?F x) * ereal(birkhoff_sum ?I n x / n)) \\<longlonglongrightarrow> abs(?F x) * ereal(real_cond_exp M Invariants ?I x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        ereal \\<bar>F K e x\\<bar> *\n        ereal (birkhoff_sum (I N K e) n x / real n))\n    \\<longlonglongrightarrow> ereal \\<bar>F K e x\\<bar> *\n                              ereal (real_cond_exp M Invariants (I N K e) x)", "by (rule tendsto_mult_ereal, auto simp add: H)"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      ereal \\<bar>F K e x\\<bar> *\n      ereal (birkhoff_sum (I N K e) n x / real n))\n  \\<longlonglongrightarrow> ereal \\<bar>F K e x\\<bar> *\n                            ereal (real_cond_exp M Invariants (I N K e) x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n.\n      ereal \\<bar>F K e x\\<bar> *\n      ereal (birkhoff_sum (I N K e) n x / real n))\n  \\<longlonglongrightarrow> ereal \\<bar>F K e x\\<bar> *\n                            ereal (real_cond_exp M Invariants (I N K e) x)", "have \"limsup (\\<lambda>n. abs(?F x) * ereal(birkhoff_sum ?I n x / n)) = abs(?F x) * ereal(real_cond_exp M Invariants ?I x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      ereal \\<bar>F K e x\\<bar> *\n      ereal (birkhoff_sum (I N K e) n x / real n))\n  \\<longlonglongrightarrow> ereal \\<bar>F K e x\\<bar> *\n                            ereal (real_cond_exp M Invariants (I N K e) x)\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         ereal \\<bar>F K e x\\<bar> *\n         ereal (birkhoff_sum (I N K e) n x / real n)) =\n    ereal \\<bar>F K e x\\<bar> *\n    ereal (real_cond_exp M Invariants (I N K e) x)", "using sequentially_bot tendsto_iff_Liminf_eq_Limsup"], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      ereal \\<bar>F K e x\\<bar> *\n      ereal (birkhoff_sum (I N K e) n x / real n))\n  \\<longlonglongrightarrow> ereal \\<bar>F K e x\\<bar> *\n                            ereal (real_cond_exp M Invariants (I N K e) x)\n  sequentially \\<noteq> \\<bottom>\n  ?F \\<noteq> \\<bottom> \\<Longrightarrow>\n  (?f \\<longlongrightarrow> ?f0.0) ?F =\n  (Liminf ?F ?f = ?f0.0 \\<and> Limsup ?F ?f = ?f0.0)\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         ereal \\<bar>F K e x\\<bar> *\n         ereal (birkhoff_sum (I N K e) n x / real n)) =\n    ereal \\<bar>F K e x\\<bar> *\n    ereal (real_cond_exp M Invariants (I N K e) x)", "by blast"], ["proof (state)\nthis:\n  limsup\n   (\\<lambda>n.\n       ereal \\<bar>F K e x\\<bar> *\n       ereal (birkhoff_sum (I N K e) n x / real n)) =\n  ereal \\<bar>F K e x\\<bar> * ereal (real_cond_exp M Invariants (I N K e) x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "}"], ["proof (state)\nthis:\n  (\\<lambda>n. birkhoff_sum (I N K e) n ?x5 / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (I N K e)\n                             ?x5 \\<Longrightarrow>\n  limsup\n   (\\<lambda>n.\n       ereal \\<bar>F K e ?x5\\<bar> *\n       ereal (birkhoff_sum (I N K e) n ?x5 / real n)) =\n  ereal \\<bar>F K e ?x5\\<bar> *\n  ereal (real_cond_exp M Invariants (I N K e) ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. birkhoff_sum (I N K e) n ?x5 / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (I N K e)\n                             ?x5 \\<Longrightarrow>\n  limsup\n   (\\<lambda>n.\n       ereal \\<bar>F K e ?x5\\<bar> *\n       ereal (birkhoff_sum (I N K e) n ?x5 / real n)) =\n  ereal \\<bar>F K e ?x5\\<bar> *\n  ereal (real_cond_exp M Invariants (I N K e) ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "have \"AE x in M. (\\<lambda>n. birkhoff_sum ?I n x / n) \\<longlonglongrightarrow> real_cond_exp M Invariants ?I x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. birkhoff_sum (I N K e) n x / real n)\n               \\<longlonglongrightarrow> real_cond_exp M Invariants\n    (I N K e) x", "by (rule birkhoff_theorem_AE_nonergodic[OF I_int])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. birkhoff_sum (I N K e) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants (I N K e)\n  x\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. birkhoff_sum (I N K e) n ?x5 / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (I N K e)\n                             ?x5 \\<Longrightarrow>\n  limsup\n   (\\<lambda>n.\n       ereal \\<bar>F K e ?x5\\<bar> *\n       ereal (birkhoff_sum (I N K e) n ?x5 / real n)) =\n  ereal \\<bar>F K e ?x5\\<bar> *\n  ereal (real_cond_exp M Invariants (I N K e) ?x5)\n  AE x in M. (\\<lambda>n. birkhoff_sum (I N K e) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants (I N K e)\n  x", "have \"AE x in M. limsup (\\<lambda>n. abs(?F x) * ereal(birkhoff_sum ?I n x / n)) = abs(?F x) * ereal(real_cond_exp M Invariants ?I x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. birkhoff_sum (I N K e) n ?x5 / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (I N K e)\n                             ?x5 \\<Longrightarrow>\n  limsup\n   (\\<lambda>n.\n       ereal \\<bar>F K e ?x5\\<bar> *\n       ereal (birkhoff_sum (I N K e) n ?x5 / real n)) =\n  ereal \\<bar>F K e ?x5\\<bar> *\n  ereal (real_cond_exp M Invariants (I N K e) ?x5)\n  AE x in M. (\\<lambda>n. birkhoff_sum (I N K e) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants (I N K e)\n  x\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>n.\n                    ereal \\<bar>F K e x\\<bar> *\n                    ereal (birkhoff_sum (I N K e) n x / real n)) =\n               ereal \\<bar>F K e x\\<bar> *\n               ereal (real_cond_exp M Invariants (I N K e) x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. limsup\n              (\\<lambda>n.\n                  ereal \\<bar>F K e x\\<bar> *\n                  ereal (birkhoff_sum (I N K e) n x / real n)) =\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (real_cond_exp M Invariants (I N K e) x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "then"], ["proof (chain)\npicking this:\n  AE x in M. limsup\n              (\\<lambda>n.\n                  ereal \\<bar>F K e x\\<bar> *\n                  ereal (birkhoff_sum (I N K e) n x / real n)) =\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (real_cond_exp M Invariants (I N K e) x)", "show ?thesis"], ["proof (prove)\nusing this:\n  AE x in M. limsup\n              (\\<lambda>n.\n                  ereal \\<bar>F K e x\\<bar> *\n                  ereal (birkhoff_sum (I N K e) n x / real n)) =\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (real_cond_exp M Invariants (I N K e) x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "using *"], ["proof (prove)\nusing this:\n  AE x in M. limsup\n              (\\<lambda>n.\n                  ereal \\<bar>F K e x\\<bar> *\n                  ereal (birkhoff_sum (I N K e) n x / real n)) =\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (real_cond_exp M Invariants (I N K e) x)\n  AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<le> ereal (F K e x) +\n                   limsup\n                    (\\<lambda>n.\n                        ereal \\<bar>F K e x\\<bar> *\n                        ereal (birkhoff_sum (I N K e) n x / real n))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x) +\n                     ereal \\<bar>F K e x\\<bar> *\n                     ereal (real_cond_exp M Invariants (I N K e) x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<le> ereal (F K e x) +\n                   ereal \\<bar>F K e x\\<bar> *\n                   ereal (real_cond_exp M Invariants (I N K e) x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>1 < ?N3; 0 < ?K3; 0 < ?e3\\<rbrakk>\n  \\<Longrightarrow> AE x in M. limsup\n                                (\\<lambda>xa. ereal (u xa x / real xa))\n                               \\<le> ereal (F ?K3 ?e3 x) +\n                                     ereal \\<bar>F ?K3 ?e3 x\\<bar> *\n                                     ereal\n(real_cond_exp M Invariants (I ?N3 ?K3 ?e3) x)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have bound2: \"AE x in M. limsup (\\<lambda>n. u n x / n) \\<le> F K e x\" if \"K > 0\" \"e > 0\" for K e"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "define C where \"C = (\\<lambda>N. A - B N K e)\""], ["proof (state)\nthis:\n  C = (\\<lambda>N. A - B N K e)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "have C_meas [measurable]: \"\\<And>N. C N \\<in> sets M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>N. C N \\<in> sets M", "unfolding C_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>N. A - B N K e \\<in> sets M", "by auto"], ["proof (state)\nthis:\n  C ?N3 \\<in> sets M\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "{"], ["proof (state)\nthis:\n  C ?N3 \\<in> sets M\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "assume \"x \\<in> A\""], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "have \"F K e x > l x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l x < ereal (F K e x)", "using \\<open>x \\<in> A\\<close> \\<open>e > 0\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> A\n  0 < e\n\ngoal (1 subgoal):\n 1. l x < ereal (F K e x)", "unfolding F_def A_def"], ["proof (prove)\nusing this:\n  x \\<in> {x \\<in> space M.\n           l x < \\<infinity> \\<and>\n           (\\<forall>n. l ((T ^^ n) x) = g ((T ^^ n) x))}\n  0 < e\n\ngoal (1 subgoal):\n 1. l x < ereal (real_of_ereal (max (l x) (- ereal K)) + e)", "by (cases \"l x\", auto, metis add.commute ereal_max less_add_same_cancel2 max_less_iff_conj real_of_ereal.simps(1))"], ["proof (state)\nthis:\n  l x < ereal (F K e x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "then"], ["proof (chain)\npicking this:\n  l x < ereal (F K e x)", "have \"\\<exists>n>0. ereal(u n x / n) < F K e x\""], ["proof (prove)\nusing this:\n  l x < ereal (F K e x)\n\ngoal (1 subgoal):\n 1. \\<exists>n>0. ereal (u n x / real n) < ereal (F K e x)", "unfolding l_def"], ["proof (prove)\nusing this:\n  liminf (\\<lambda>xa. ereal (u xa x / real xa)) < ereal (F K e x)\n\ngoal (1 subgoal):\n 1. \\<exists>n>0. ereal (u n x / real n) < ereal (F K e x)", "using liminf_upper_bound"], ["proof (prove)\nusing this:\n  liminf (\\<lambda>xa. ereal (u xa x / real xa)) < ereal (F K e x)\n  liminf ?u < ?l \\<Longrightarrow> \\<exists>N>?k. ?u N < ?l\n\ngoal (1 subgoal):\n 1. \\<exists>n>0. ereal (u n x / real n) < ereal (F K e x)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>n>0. ereal (u n x / real n) < ereal (F K e x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "then"], ["proof (chain)\npicking this:\n  \\<exists>n>0. ereal (u n x / real n) < ereal (F K e x)", "obtain n where \"n>0\" \"ereal(u n x / n) < F K e x\""], ["proof (prove)\nusing this:\n  \\<exists>n>0. ereal (u n x / real n) < ereal (F K e x)\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        \\<lbrakk>0 < n; ereal (u n x / real n) < ereal (F K e x)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < n\n  ereal (u n x / real n) < ereal (F K e x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "then"], ["proof (chain)\npicking this:\n  0 < n\n  ereal (u n x / real n) < ereal (F K e x)", "have \"u n x - n * F K e x < 0\""], ["proof (prove)\nusing this:\n  0 < n\n  ereal (u n x / real n) < ereal (F K e x)\n\ngoal (1 subgoal):\n 1. u n x - real n * F K e x < 0", "by (simp add: divide_less_eq mult.commute)"], ["proof (state)\nthis:\n  u n x - real n * F K e x < 0\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "then"], ["proof (chain)\npicking this:\n  u n x - real n * F K e x < 0", "have \"x \\<notin> C n\""], ["proof (prove)\nusing this:\n  u n x - real n * F K e x < 0\n\ngoal (1 subgoal):\n 1. x \\<notin> C n", "unfolding C_def B_def"], ["proof (prove)\nusing this:\n  u n x - real n * F K e x < 0\n\ngoal (1 subgoal):\n 1. x \\<notin> A -\n               {x \\<in> A.\n                \\<exists>n\\<in>{1..n}. u n x - real n * F K e x < 0}", "using \\<open>x \\<in> A\\<close> \\<open>n>0\\<close>"], ["proof (prove)\nusing this:\n  u n x - real n * F K e x < 0\n  x \\<in> A\n  0 < n\n\ngoal (1 subgoal):\n 1. x \\<notin> A -\n               {x \\<in> A.\n                \\<exists>n\\<in>{1..n}. u n x - real n * F K e x < 0}", "by auto"], ["proof (state)\nthis:\n  x \\<notin> C n\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "then"], ["proof (chain)\npicking this:\n  x \\<notin> C n", "have \"x \\<notin> (\\<Inter>n. C n)\""], ["proof (prove)\nusing this:\n  x \\<notin> C n\n\ngoal (1 subgoal):\n 1. x \\<notin> \\<Inter> (range C)", "by auto"], ["proof (state)\nthis:\n  x \\<notin> \\<Inter> (range C)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "}"], ["proof (state)\nthis:\n  ?x5 \\<in> A \\<Longrightarrow> ?x5 \\<notin> \\<Inter> (range C)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "then"], ["proof (chain)\npicking this:\n  ?x5 \\<in> A \\<Longrightarrow> ?x5 \\<notin> \\<Inter> (range C)", "have \"(\\<Inter>n. C n) = {}\""], ["proof (prove)\nusing this:\n  ?x5 \\<in> A \\<Longrightarrow> ?x5 \\<notin> \\<Inter> (range C)\n\ngoal (1 subgoal):\n 1. \\<Inter> (range C) = {}", "unfolding C_def"], ["proof (prove)\nusing this:\n  ?x5 \\<in> A \\<Longrightarrow> ?x5 \\<notin> (\\<Inter>n. A - B n K e)\n\ngoal (1 subgoal):\n 1. (\\<Inter>n. A - B n K e) = {}", "by auto"], ["proof (state)\nthis:\n  \\<Inter> (range C) = {}\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "then"], ["proof (chain)\npicking this:\n  \\<Inter> (range C) = {}", "have *: \"0 = measure M (\\<Inter>n. C n)\""], ["proof (prove)\nusing this:\n  \\<Inter> (range C) = {}\n\ngoal (1 subgoal):\n 1. 0 = Sigma_Algebra.measure M (\\<Inter> (range C))", "by auto"], ["proof (state)\nthis:\n  0 = Sigma_Algebra.measure M (\\<Inter> (range C))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "have \"(\\<lambda>n. measure M (C n)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. Sigma_Algebra.measure M (C n)) \\<longlonglongrightarrow> 0", "apply (subst *, rule finite_Lim_measure_decseq, auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. decseq C", "unfolding C_def B_def decseq_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m n.\n       m \\<le> n \\<longrightarrow>\n       A - {x \\<in> A. \\<exists>n\\<in>{1..n}. u n x - real n * F K e x < 0}\n       \\<subseteq> A -\n                   {x \\<in> A.\n                    \\<exists>n\\<in>{1..m}. u n x - real n * F K e x < 0}", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. Sigma_Algebra.measure M (C n)) \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. Sigma_Algebra.measure M (C n)) \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "have \"measure M (C n) = (\\<integral>x. norm(real_cond_exp M Invariants (I n K e) x) \\<partial>M)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. Sigma_Algebra.measure M (C n) =\n    LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Sigma_Algebra.measure M (C n) =\n    LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)", "have *: \"AE x in M. 0 \\<le> real_cond_exp M Invariants (I n K e) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. 0 \\<le> real_cond_exp M Invariants (I n K e) x", "apply (rule real_cond_exp_pos, auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. 0 \\<le> I n K e x", "unfolding I_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. 0 \\<le> indicat_real (- B n K e) x", "by auto"], ["proof (state)\nthis:\n  AE x in M. 0 \\<le> real_cond_exp M Invariants (I n K e) x\n\ngoal (1 subgoal):\n 1. Sigma_Algebra.measure M (C n) =\n    LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)", "have \"measure M (C n) = (\\<integral>x. indicator (C n) x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sigma_Algebra.measure M (C n) = integral\\<^sup>L M (indicat_real (C n))", "by auto"], ["proof (state)\nthis:\n  Sigma_Algebra.measure M (C n) = integral\\<^sup>L M (indicat_real (C n))\n\ngoal (1 subgoal):\n 1. Sigma_Algebra.measure M (C n) =\n    LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)", "also"], ["proof (state)\nthis:\n  Sigma_Algebra.measure M (C n) = integral\\<^sup>L M (indicat_real (C n))\n\ngoal (1 subgoal):\n 1. Sigma_Algebra.measure M (C n) =\n    LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)", "have \"... = (\\<integral>x. I n K e x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (indicat_real (C n)) = integral\\<^sup>L M (I n K e)", "apply (rule integral_cong_AE, auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. indicat_real (C n) x = I n K e x", "unfolding C_def I_def indicator_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (if x \\<in> A - B n K e then 1 else 0) =\n               (if x \\<in> - B n K e then 1 else 0)", "using \\<open>AE x in M. x \\<in> A\\<close>"], ["proof (prove)\nusing this:\n  AE x in M. x \\<in> A\n\ngoal (1 subgoal):\n 1. AE x in M. (if x \\<in> A - B n K e then 1 else 0) =\n               (if x \\<in> - B n K e then 1 else 0)", "by auto"], ["proof (state)\nthis:\n  integral\\<^sup>L M (indicat_real (C n)) = integral\\<^sup>L M (I n K e)\n\ngoal (1 subgoal):\n 1. Sigma_Algebra.measure M (C n) =\n    LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)", "also"], ["proof (state)\nthis:\n  integral\\<^sup>L M (indicat_real (C n)) = integral\\<^sup>L M (I n K e)\n\ngoal (1 subgoal):\n 1. Sigma_Algebra.measure M (C n) =\n    LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)", "have \"... = (\\<integral>x. real_cond_exp M Invariants (I n K e) x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (I n K e) =\n    integral\\<^sup>L M (real_cond_exp M Invariants (I n K e))", "by (rule real_cond_exp_int(2)[symmetric, OF I_int])"], ["proof (state)\nthis:\n  integral\\<^sup>L M (I n K e) =\n  integral\\<^sup>L M (real_cond_exp M Invariants (I n K e))\n\ngoal (1 subgoal):\n 1. Sigma_Algebra.measure M (C n) =\n    LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)", "also"], ["proof (state)\nthis:\n  integral\\<^sup>L M (I n K e) =\n  integral\\<^sup>L M (real_cond_exp M Invariants (I n K e))\n\ngoal (1 subgoal):\n 1. Sigma_Algebra.measure M (C n) =\n    LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)", "have \"... = (\\<integral>x. norm(real_cond_exp M Invariants (I n K e) x) \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (real_cond_exp M Invariants (I n K e)) =\n    LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)", "apply (rule integral_cong_AE, auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M Invariants (I n K e) x =\n               \\<bar>real_cond_exp M Invariants (I n K e) x\\<bar>", "using *"], ["proof (prove)\nusing this:\n  AE x in M. 0 \\<le> real_cond_exp M Invariants (I n K e) x\n\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M Invariants (I n K e) x =\n               \\<bar>real_cond_exp M Invariants (I n K e) x\\<bar>", "by auto"], ["proof (state)\nthis:\n  integral\\<^sup>L M (real_cond_exp M Invariants (I n K e)) =\n  LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)\n\ngoal (1 subgoal):\n 1. Sigma_Algebra.measure M (C n) =\n    LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)", "finally"], ["proof (chain)\npicking this:\n  Sigma_Algebra.measure M (C n) =\n  LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)", "show ?thesis"], ["proof (prove)\nusing this:\n  Sigma_Algebra.measure M (C n) =\n  LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)\n\ngoal (1 subgoal):\n 1. Sigma_Algebra.measure M (C n) =\n    LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)", "by auto"], ["proof (state)\nthis:\n  Sigma_Algebra.measure M (C n) =\n  LINT x|M. norm (real_cond_exp M Invariants (I n K e) x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Sigma_Algebra.measure M (C ?n3) =\n  LINT x|M. norm (real_cond_exp M Invariants (I ?n3 K e) x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. Sigma_Algebra.measure M (C n)) \\<longlonglongrightarrow> 0\n  Sigma_Algebra.measure M (C ?n3) =\n  LINT x|M. norm (real_cond_exp M Invariants (I ?n3 K e) x)", "have *: \"(\\<lambda>n. (\\<integral>x. norm(real_cond_exp M Invariants (I n K e) x) \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. Sigma_Algebra.measure M (C n)) \\<longlonglongrightarrow> 0\n  Sigma_Algebra.measure M (C ?n3) =\n  LINT x|M. norm (real_cond_exp M Invariants (I ?n3 K e) x)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. LINT x|M. norm (real_cond_exp M Invariants (I n K e) x))\n    \\<longlonglongrightarrow> 0", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>n. LINT x|M. norm (real_cond_exp M Invariants (I n K e) x))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "have \"\\<exists>r. strict_mono r \\<and> (AE x in M. (\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) x) \\<longlonglongrightarrow> 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>r.\n       strict_mono r \\<and>\n       (AE x in M. (\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) x)\n                   \\<longlonglongrightarrow> 0)", "apply (rule tendsto_L1_AE_subseq)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n. integrable M (real_cond_exp M Invariants (I n K e))\n 2. (\\<lambda>n. LINT x|M. norm (real_cond_exp M Invariants (I n K e) x))\n    \\<longlonglongrightarrow> 0", "using * real_cond_exp_int[OF I_int]"], ["proof (prove)\nusing this:\n  (\\<lambda>n. LINT x|M. norm (real_cond_exp M Invariants (I n K e) x))\n  \\<longlonglongrightarrow> 0\n  integrable M (real_cond_exp M Invariants (I ?N4 ?K4 ?e4))\n  integral\\<^sup>L M (real_cond_exp M Invariants (I ?N4 ?K4 ?e4)) =\n  integral\\<^sup>L M (I ?N4 ?K4 ?e4)\n\ngoal (2 subgoals):\n 1. \\<And>n. integrable M (real_cond_exp M Invariants (I n K e))\n 2. (\\<lambda>n. LINT x|M. norm (real_cond_exp M Invariants (I n K e) x))\n    \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  \\<exists>r.\n     strict_mono r \\<and>\n     (AE x in M. (\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) x)\n                 \\<longlonglongrightarrow> 0)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "then"], ["proof (chain)\npicking this:\n  \\<exists>r.\n     strict_mono r \\<and>\n     (AE x in M. (\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) x)\n                 \\<longlonglongrightarrow> 0)", "obtain r where \"strict_mono r\" \"AE x in M. (\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) x) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  \\<exists>r.\n     strict_mono r \\<and>\n     (AE x in M. (\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) x)\n                 \\<longlonglongrightarrow> 0)\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>strict_mono r;\n         AE x in M. (\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) x)\n                    \\<longlonglongrightarrow> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  strict_mono r\n  AE x in M. (\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) x)\n             \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "moreover"], ["proof (state)\nthis:\n  strict_mono r\n  AE x in M. (\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) x)\n             \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "have \"AE x in M. \\<forall>N \\<in> {1<..}. limsup (\\<lambda>n. u n x / n) \\<le> F K e x + abs(F K e x) * ereal(real_cond_exp M Invariants (I N K e) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>N\\<in>{1<..}.\n                  limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<le> ereal (F K e x) +\n                        ereal \\<bar>F K e x\\<bar> *\n                        ereal (real_cond_exp M Invariants (I N K e) x)", "apply (rule AE_ball_countable')"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>N.\n       N \\<in> {1<..} \\<Longrightarrow>\n       AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<le> ereal (F K e x) +\n                        ereal \\<bar>F K e x\\<bar> *\n                        ereal (real_cond_exp M Invariants (I N K e) x)\n 2. countable {1<..}", "using main[OF _ \\<open>K>0\\<close> \\<open>e>0\\<close>]"], ["proof (prove)\nusing this:\n  1 < ?N3 \\<Longrightarrow>\n  AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<le> ereal (F K e x) +\n                   ereal \\<bar>F K e x\\<bar> *\n                   ereal (real_cond_exp M Invariants (I ?N3 K e) x)\n\ngoal (2 subgoals):\n 1. \\<And>N.\n       N \\<in> {1<..} \\<Longrightarrow>\n       AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<le> ereal (F K e x) +\n                        ereal \\<bar>F K e x\\<bar> *\n                        ereal (real_cond_exp M Invariants (I N K e) x)\n 2. countable {1<..}", "by auto"], ["proof (state)\nthis:\n  AE x in M. \\<forall>N\\<in>{1<..}.\n                limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                \\<le> ereal (F K e x) +\n                      ereal \\<bar>F K e x\\<bar> *\n                      ereal (real_cond_exp M Invariants (I N K e) x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. \\<forall>N\\<in>{1<..}.\n                limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                \\<le> ereal (F K e x) +\n                      ereal \\<bar>F K e x\\<bar> *\n                      ereal (real_cond_exp M Invariants (I N K e) x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "{"], ["proof (state)\nthis:\n  AE x in M. \\<forall>N\\<in>{1<..}.\n                limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                \\<le> ereal (F K e x) +\n                      ereal \\<bar>F K e x\\<bar> *\n                      ereal (real_cond_exp M Invariants (I N K e) x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "assume H: \"(\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) x) \\<longlonglongrightarrow> 0\"\n                      \"\\<And>N. N > 1 \\<Longrightarrow> limsup (\\<lambda>n. u n x / n) \\<le> F K e x + abs(F K e x) * ereal(real_cond_exp M Invariants (I N K e) x)\""], ["proof (state)\nthis:\n  (\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) x)\n  \\<longlonglongrightarrow> 0\n  1 < ?N3 \\<Longrightarrow>\n  limsup (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<le> ereal (F K e x) +\n        ereal \\<bar>F K e x\\<bar> *\n        ereal (real_cond_exp M Invariants (I ?N3 K e) x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "have 1: \"eventually (\\<lambda>N. limsup (\\<lambda>n. u n x / n) \\<le> F K e x + abs(F K e x) * ereal(real_cond_exp M Invariants (I (r N) K e) x)) sequentially\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       limsup (\\<lambda>xa. ereal (u xa x / real xa))\n       \\<le> ereal (F K e x) +\n             ereal \\<bar>F K e x\\<bar> *\n             ereal (real_cond_exp M Invariants (I (r N) K e) x)", "apply (rule eventually_mono[OF eventually_gt_at_top[of 1] H(2)])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. 1 < x \\<Longrightarrow> 1 < r x", "using \\<open>strict_mono r\\<close> less_le_trans seq_suble"], ["proof (prove)\nusing this:\n  strict_mono r\n  \\<lbrakk>?x < ?y; ?y \\<le> ?z\\<rbrakk> \\<Longrightarrow> ?x < ?z\n  strict_mono ?f \\<Longrightarrow> ?n \\<le> ?f ?n\n\ngoal (1 subgoal):\n 1. \\<And>x. 1 < x \\<Longrightarrow> 1 < r x", "by blast"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially.\n     limsup (\\<lambda>xa. ereal (u xa x / real xa))\n     \\<le> ereal (F K e x) +\n           ereal \\<bar>F K e x\\<bar> *\n           ereal (real_cond_exp M Invariants (I (r N) K e) x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "have 2: \"(\\<lambda>N. F K e x + (abs(F K e x) * ereal(real_cond_exp M Invariants (I (r N) K e) x))) \\<longlonglongrightarrow> ereal(F K e x) + (abs(F K e x) * ereal 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>N.\n        ereal (F K e x) +\n        ereal \\<bar>F K e x\\<bar> *\n        ereal (real_cond_exp M Invariants (I (r N) K e) x))\n    \\<longlonglongrightarrow> ereal (F K e x) +\n                              ereal \\<bar>F K e x\\<bar> * ereal 0", "by (intro tendsto_intros) (auto simp add: H(1))"], ["proof (state)\nthis:\n  (\\<lambda>N.\n      ereal (F K e x) +\n      ereal \\<bar>F K e x\\<bar> *\n      ereal (real_cond_exp M Invariants (I (r N) K e) x))\n  \\<longlonglongrightarrow> ereal (F K e x) +\n                            ereal \\<bar>F K e x\\<bar> * ereal 0\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "have \"limsup (\\<lambda>n. u n x / n) \\<le> F K e x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> ereal (F K e x)", "apply (rule LIMSEQ_le_const)"], ["proof (prove)\ngoal (2 subgoals):\n 1. ?X \\<longlonglongrightarrow> ereal (F K e x)\n 2. \\<exists>N.\n       \\<forall>n\\<ge>N.\n          limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> ?X n", "using 1 2"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F N in sequentially.\n     limsup (\\<lambda>xa. ereal (u xa x / real xa))\n     \\<le> ereal (F K e x) +\n           ereal \\<bar>F K e x\\<bar> *\n           ereal (real_cond_exp M Invariants (I (r N) K e) x)\n  (\\<lambda>N.\n      ereal (F K e x) +\n      ereal \\<bar>F K e x\\<bar> *\n      ereal (real_cond_exp M Invariants (I (r N) K e) x))\n  \\<longlonglongrightarrow> ereal (F K e x) +\n                            ereal \\<bar>F K e x\\<bar> * ereal 0\n\ngoal (2 subgoals):\n 1. ?X \\<longlonglongrightarrow> ereal (F K e x)\n 2. \\<exists>N.\n       \\<forall>n\\<ge>N.\n          limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> ?X n", "by (auto simp add: eventually_at_top_linorder)"], ["proof (state)\nthis:\n  limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> ereal (F K e x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) ?x5)\n           \\<longlonglongrightarrow> 0;\n   \\<And>N.\n      1 < N \\<Longrightarrow>\n      limsup (\\<lambda>x. ereal (u x ?x5 / real x))\n      \\<le> ereal (F K e ?x5) +\n            ereal \\<bar>F K e ?x5\\<bar> *\n            ereal (real_cond_exp M Invariants (I N K e) ?x5)\\<rbrakk>\n  \\<Longrightarrow> limsup (\\<lambda>x. ereal (u x ?x5 / real x))\n                    \\<le> ereal (F K e ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "ultimately"], ["proof (chain)\npicking this:\n  strict_mono r\n  AE x in M. (\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) x)\n             \\<longlonglongrightarrow> 0\n  AE x in M. \\<forall>N\\<in>{1<..}.\n                limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                \\<le> ereal (F K e x) +\n                      ereal \\<bar>F K e x\\<bar> *\n                      ereal (real_cond_exp M Invariants (I N K e) x)\n  \\<lbrakk>(\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) ?x5)\n           \\<longlonglongrightarrow> 0;\n   \\<And>N.\n      1 < N \\<Longrightarrow>\n      limsup (\\<lambda>x. ereal (u x ?x5 / real x))\n      \\<le> ereal (F K e ?x5) +\n            ereal \\<bar>F K e ?x5\\<bar> *\n            ereal (real_cond_exp M Invariants (I N K e) ?x5)\\<rbrakk>\n  \\<Longrightarrow> limsup (\\<lambda>x. ereal (u x ?x5 / real x))\n                    \\<le> ereal (F K e ?x5)", "show \"AE x in M. limsup (\\<lambda>n. u n x / n) \\<le> F K e x\""], ["proof (prove)\nusing this:\n  strict_mono r\n  AE x in M. (\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) x)\n             \\<longlonglongrightarrow> 0\n  AE x in M. \\<forall>N\\<in>{1<..}.\n                limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                \\<le> ereal (F K e x) +\n                      ereal \\<bar>F K e x\\<bar> *\n                      ereal (real_cond_exp M Invariants (I N K e) x)\n  \\<lbrakk>(\\<lambda>n. real_cond_exp M Invariants (I (r n) K e) ?x5)\n           \\<longlonglongrightarrow> 0;\n   \\<And>N.\n      1 < N \\<Longrightarrow>\n      limsup (\\<lambda>x. ereal (u x ?x5 / real x))\n      \\<le> ereal (F K e ?x5) +\n            ereal \\<bar>F K e ?x5\\<bar> *\n            ereal (real_cond_exp M Invariants (I N K e) ?x5)\\<rbrakk>\n  \\<Longrightarrow> limsup (\\<lambda>x. ereal (u x ?x5 / real x))\n                    \\<le> ereal (F K e ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (F K e x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<le> ereal (F K e x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?K3; 0 < ?e3\\<rbrakk>\n  \\<Longrightarrow> AE x in M. limsup\n                                (\\<lambda>xa. ereal (u xa x / real xa))\n                               \\<le> ereal (F ?K3 ?e3 x)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have \"AE x in M. limsup (\\<lambda>n. u n x / n) \\<le> real_of_ereal(max (l x) (-ereal K))\" if \"K>(0::nat)\" for K"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<le> ereal (real_of_ereal (max (l x) (- ereal (real K))))", "apply (rule AE_upper_bound_inf_ereal)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<le> ereal\n                         (real_of_ereal (max (l x) (- ereal (real K)))) +\n                        ereal e", "using bound2 \\<open>K>0\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?K3; 0 < ?e3\\<rbrakk>\n  \\<Longrightarrow> AE x in M. limsup\n                                (\\<lambda>xa. ereal (u xa x / real xa))\n                               \\<le> ereal (F ?K3 ?e3 x)\n  0 < K\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<le> ereal\n                         (real_of_ereal (max (l x) (- ereal (real K)))) +\n                        ereal e", "unfolding F_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?K3; 0 < ?e3\\<rbrakk>\n  \\<Longrightarrow> AE x in M. limsup\n                                (\\<lambda>xa. ereal (u xa x / real xa))\n                               \\<le> ereal\n(real_of_ereal (max (l x) (- ereal ?K3)) + ?e3)\n  0 < K\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<le> ereal\n                         (real_of_ereal (max (l x) (- ereal (real K)))) +\n                        ereal e", "by auto"], ["proof (state)\nthis:\n  0 < ?K3 \\<Longrightarrow>\n  AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<le> ereal (real_of_ereal (max (l x) (- ereal (real ?K3))))\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  0 < ?K3 \\<Longrightarrow>\n  AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<le> ereal (real_of_ereal (max (l x) (- ereal (real ?K3))))", "have \"AE x in M. \\<forall>K\\<in>{(0::nat)<..}. limsup (\\<lambda>n. u n x / n) \\<le> real_of_ereal(max (l x) (-ereal K))\""], ["proof (prove)\nusing this:\n  0 < ?K3 \\<Longrightarrow>\n  AE x in M. limsup (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<le> ereal (real_of_ereal (max (l x) (- ereal (real ?K3))))\n\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>K\\<in>{0<..}.\n                  limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<le> ereal (real_of_ereal (max (l x) (- ereal (real K))))", "by (rule AE_ball_countable', auto)"], ["proof (state)\nthis:\n  AE x in M. \\<forall>K\\<in>{0<..}.\n                limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                \\<le> ereal (real_of_ereal (max (l x) (- ereal (real K))))\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. \\<forall>K\\<in>{0<..}.\n                limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                \\<le> ereal (real_of_ereal (max (l x) (- ereal (real K))))\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> l x\"\n    if H: \"\\<forall>K\\<in>{(0::nat)<..}. limsup (\\<lambda>n. u n x / n) \\<le> real_of_ereal(max (l x) (-ereal K))\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (u xa x / real xa)) \\<longlonglongrightarrow> l x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (u xa x / real xa)) \\<longlonglongrightarrow> l x", "have \"limsup (\\<lambda>n. u n x / n) \\<le> l x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x", "proof (cases \"l x = \\<infinity>\")"], ["proof (state)\ngoal (2 subgoals):\n 1. l x = \\<infinity> \\<Longrightarrow>\n    limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x\n 2. l x \\<noteq> \\<infinity> \\<Longrightarrow>\n    limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x", "case False"], ["proof (state)\nthis:\n  l x \\<noteq> \\<infinity>\n\ngoal (2 subgoals):\n 1. l x = \\<infinity> \\<Longrightarrow>\n    limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x\n 2. l x \\<noteq> \\<infinity> \\<Longrightarrow>\n    limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x", "then"], ["proof (chain)\npicking this:\n  l x \\<noteq> \\<infinity>", "have \"(\\<lambda>K. real_of_ereal(max (l x) (-ereal K))) \\<longlonglongrightarrow> l x\""], ["proof (prove)\nusing this:\n  l x \\<noteq> \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (real_of_ereal (max (l x) (- ereal (real xa)))))\n    \\<longlonglongrightarrow> l x", "using ereal_truncation_real_bottom"], ["proof (prove)\nusing this:\n  l x \\<noteq> \\<infinity>\n  ?x \\<noteq> \\<infinity> \\<Longrightarrow>\n  (\\<lambda>x. ereal (real_of_ereal (max ?x (ereal (- real x)))))\n  \\<longlonglongrightarrow> ?x\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (real_of_ereal (max (l x) (- ereal (real xa)))))\n    \\<longlonglongrightarrow> l x", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (real_of_ereal (max (l x) (- ereal (real xa)))))\n  \\<longlonglongrightarrow> l x\n\ngoal (2 subgoals):\n 1. l x = \\<infinity> \\<Longrightarrow>\n    limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x\n 2. l x \\<noteq> \\<infinity> \\<Longrightarrow>\n    limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (real_of_ereal (max (l x) (- ereal (real xa)))))\n  \\<longlonglongrightarrow> l x\n\ngoal (2 subgoals):\n 1. l x = \\<infinity> \\<Longrightarrow>\n    limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x\n 2. l x \\<noteq> \\<infinity> \\<Longrightarrow>\n    limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x", "have \"eventually (\\<lambda>K. limsup (\\<lambda>n. u n x / n) \\<le> real_of_ereal(max (l x) (-ereal K))) sequentially\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F K in sequentially.\n       limsup (\\<lambda>xa. ereal (u xa x / real xa))\n       \\<le> ereal (real_of_ereal (max (l x) (- ereal (real K))))", "using H"], ["proof (prove)\nusing this:\n  \\<forall>K\\<in>{0<..}.\n     limsup (\\<lambda>xa. ereal (u xa x / real xa))\n     \\<le> ereal (real_of_ereal (max (l x) (- ereal (real K))))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F K in sequentially.\n       limsup (\\<lambda>xa. ereal (u xa x / real xa))\n       \\<le> ereal (real_of_ereal (max (l x) (- ereal (real K))))", "by (metis (no_types, lifting) eventually_at_top_linorder eventually_gt_at_top greaterThan_iff)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F K in sequentially.\n     limsup (\\<lambda>xa. ereal (u xa x / real xa))\n     \\<le> ereal (real_of_ereal (max (l x) (- ereal (real K))))\n\ngoal (2 subgoals):\n 1. l x = \\<infinity> \\<Longrightarrow>\n    limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x\n 2. l x \\<noteq> \\<infinity> \\<Longrightarrow>\n    limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>xa. ereal (real_of_ereal (max (l x) (- ereal (real xa)))))\n  \\<longlonglongrightarrow> l x\n  \\<forall>\\<^sub>F K in sequentially.\n     limsup (\\<lambda>xa. ereal (u xa x / real xa))\n     \\<le> ereal (real_of_ereal (max (l x) (- ereal (real K))))", "show \"limsup (\\<lambda>n. u n x / n) \\<le> l x\""], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (real_of_ereal (max (l x) (- ereal (real xa)))))\n  \\<longlonglongrightarrow> l x\n  \\<forall>\\<^sub>F K in sequentially.\n     limsup (\\<lambda>xa. ereal (u xa x / real xa))\n     \\<le> ereal (real_of_ereal (max (l x) (- ereal (real K))))\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x", "using Lim_bounded2 eventually_sequentially"], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (real_of_ereal (max (l x) (- ereal (real xa)))))\n  \\<longlonglongrightarrow> l x\n  \\<forall>\\<^sub>F K in sequentially.\n     limsup (\\<lambda>xa. ereal (u xa x / real xa))\n     \\<le> ereal (real_of_ereal (max (l x) (- ereal (real K))))\n  \\<lbrakk>?f \\<longlonglongrightarrow> ?l;\n   \\<forall>n\\<ge>?N. ?C \\<le> ?f n\\<rbrakk>\n  \\<Longrightarrow> ?C \\<le> ?l\n  eventually ?P sequentially = (\\<exists>N. \\<forall>n\\<ge>N. ?P n)\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x", "by auto"], ["proof (state)\nthis:\n  limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x\n\ngoal (1 subgoal):\n 1. l x = \\<infinity> \\<Longrightarrow>\n    limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x", "qed (simp)"], ["proof (state)\nthis:\n  limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (u xa x / real xa)) \\<longlonglongrightarrow> l x", "then"], ["proof (chain)\npicking this:\n  limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x", "have \"limsup (\\<lambda>n. ereal (u n x / real n)) = l x\""], ["proof (prove)\nusing this:\n  limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>n. ereal (u n x / real n)) = l x", "using Liminf_le_Limsup l_def eq_iff sequentially_bot"], ["proof (prove)\nusing this:\n  limsup (\\<lambda>xa. ereal (u xa x / real xa)) \\<le> l x\n  ?F \\<noteq> \\<bottom> \\<Longrightarrow> Liminf ?F ?f \\<le> Limsup ?F ?f\n  l = (\\<lambda>x. liminf (\\<lambda>xa. ereal (u xa x / real xa)))\n  (?x = ?y) = (?x \\<le> ?y \\<and> ?y \\<le> ?x)\n  sequentially \\<noteq> \\<bottom>\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>n. ereal (u n x / real n)) = l x", "by blast"], ["proof (state)\nthis:\n  limsup (\\<lambda>n. ereal (u n x / real n)) = l x\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (u xa x / real xa)) \\<longlonglongrightarrow> l x", "then"], ["proof (chain)\npicking this:\n  limsup (\\<lambda>n. ereal (u n x / real n)) = l x", "show \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> l x\""], ["proof (prove)\nusing this:\n  limsup (\\<lambda>n. ereal (u n x / real n)) = l x\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (u xa x / real xa)) \\<longlonglongrightarrow> l x", "by (simp add: l_def tendsto_iff_Liminf_eq_Limsup)"], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (u xa x / real xa)) \\<longlonglongrightarrow> l x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>K\\<in>{0<..}.\n     limsup (\\<lambda>x. ereal (u x ?x3 / real x))\n     \\<le> ereal\n            (real_of_ereal\n              (max (l ?x3) (- ereal (real K)))) \\<Longrightarrow>\n  (\\<lambda>x. ereal (u x ?x3 / real x)) \\<longlonglongrightarrow> l ?x3\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. \\<forall>K\\<in>{0<..}.\n                limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                \\<le> ereal (real_of_ereal (max (l x) (- ereal (real K))))\n  \\<forall>K\\<in>{0<..}.\n     limsup (\\<lambda>x. ereal (u x ?x3 / real x))\n     \\<le> ereal\n            (real_of_ereal\n              (max (l ?x3) (- ereal (real K)))) \\<Longrightarrow>\n  (\\<lambda>x. ereal (u x ?x3 / real x)) \\<longlonglongrightarrow> l ?x3", "have \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> l x\""], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>K\\<in>{0<..}.\n                limsup (\\<lambda>xa. ereal (u xa x / real xa))\n                \\<le> ereal (real_of_ereal (max (l x) (- ereal (real K))))\n  \\<forall>K\\<in>{0<..}.\n     limsup (\\<lambda>x. ereal (u x ?x3 / real x))\n     \\<le> ereal\n            (real_of_ereal\n              (max (l ?x3) (- ereal (real K)))) \\<Longrightarrow>\n  (\\<lambda>x. ereal (u x ?x3 / real x)) \\<longlonglongrightarrow> l ?x3\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> l x", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> l x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> l x", "have \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x\""], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> l x\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> g x", "using g(2)"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> l x\n  AE x in M. g x = l x\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> g x", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> g x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> g x", "show \"\\<exists>(g::'a\\<Rightarrow>ereal). (g\\<in>borel_measurable Invariants \\<and> (\\<forall>x. g x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x))\""], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> g x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "using g(1) \\<open>\\<And>x. g x < \\<infinity>\\<close>"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> g x\n  g \\<in> borel_measurable Invariants\n  g ?x < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "by auto"], ["proof (state)\nthis:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>We deduce it for general subcocycles, by reducing to nonpositive subcocycles by subtracting\nthe Birkhoff sum of $u_1$ (for which the convergence follows from Birkhoff theorem).\\<close>"], ["", "theorem kingman_theorem_AE_aux2:\n  assumes \"subcocycle u\"\n  shows \"\\<exists>(g::'a\\<Rightarrow>ereal). (g\\<in>borel_measurable Invariants \\<and> (\\<forall>x. g x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "define v where \"v = (\\<lambda>n x. u n x + birkhoff_sum (\\<lambda>x. - u 1 x) n x)\""], ["proof (state)\nthis:\n  v = (\\<lambda>n x. u n x + birkhoff_sum (\\<lambda>x. - u 1 x) n x)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have \"subcocycle v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle v", "unfolding v_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle\n     (\\<lambda>n x. u n x + birkhoff_sum (\\<lambda>x. - u 1 x) n x)", "apply (rule subcocycle_add[OF assms], rule subcocycle_birkhoff)"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. - u 1 x)", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. - u 1 x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. - u 1 x)", "by auto"], ["proof (state)\nthis:\n  subcocycle v\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have \"\\<exists>(gv::'a\\<Rightarrow>ereal). (gv\\<in>borel_measurable Invariants \\<and> (\\<forall>x. gv x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. v n x / n) \\<longlonglongrightarrow> gv x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>gv.\n       gv \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. gv x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n                   \\<longlonglongrightarrow> gv x)", "apply (rule kingman_theorem_AE_aux1[OF \\<open>subcocycle v\\<close>])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. v 1 x \\<le> 0", "unfolding v_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. u 1 x + birkhoff_sum (\\<lambda>x. - u 1 x) 1 x \\<le> 0", "by auto"], ["proof (state)\nthis:\n  \\<exists>gv.\n     gv \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. gv x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n                 \\<longlonglongrightarrow> gv x)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  \\<exists>gv.\n     gv \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. gv x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n                 \\<longlonglongrightarrow> gv x)", "obtain gv where gv: \"gv \\<in> borel_measurable Invariants\" \"AE x in M. (\\<lambda>n. v n x / n) \\<longlonglongrightarrow> (gv x::ereal)\" \"\\<And>x. gv x < \\<infinity>\""], ["proof (prove)\nusing this:\n  \\<exists>gv.\n     gv \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. gv x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n                 \\<longlonglongrightarrow> gv x)\n\ngoal (1 subgoal):\n 1. (\\<And>gv.\n        \\<lbrakk>gv \\<in> borel_measurable Invariants;\n         AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n                    \\<longlonglongrightarrow> gv x;\n         \\<And>x. gv x < \\<infinity>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  gv \\<in> borel_measurable Invariants\n  AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n             \\<longlonglongrightarrow> gv x\n  gv ?x3 < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "define g where \"g = (\\<lambda>x. gv x + ereal(real_cond_exp M Invariants (u 1) x))\""], ["proof (state)\nthis:\n  g = (\\<lambda>x. gv x + ereal (real_cond_exp M Invariants (u 1) x))\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have g_meas: \"g \\<in> borel_measurable Invariants\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g \\<in> borel_measurable Invariants", "unfolding g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. gv x + ereal (real_cond_exp M Invariants (u 1) x))\n    \\<in> borel_measurable Invariants", "using gv(1)"], ["proof (prove)\nusing this:\n  gv \\<in> borel_measurable Invariants\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. gv x + ereal (real_cond_exp M Invariants (u 1) x))\n    \\<in> borel_measurable Invariants", "by auto"], ["proof (state)\nthis:\n  g \\<in> borel_measurable Invariants\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have g_fin: \"\\<And>x. g x < \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. g x < \\<infinity>", "unfolding g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. gv x + ereal (real_cond_exp M Invariants (u 1) x) < \\<infinity>", "using gv(3)"], ["proof (prove)\nusing this:\n  gv ?x3 < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<And>x. gv x + ereal (real_cond_exp M Invariants (u 1) x) < \\<infinity>", "by auto"], ["proof (state)\nthis:\n  g ?x3 < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have \"AE x in M. (\\<lambda>n. birkhoff_sum (u 1) n x / n) \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n               \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x", "apply (rule birkhoff_theorem_AE_nonergodic)"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (u 1)", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. integrable M (u 1)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. integrable M (u 1)", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "{"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "assume H: \"(\\<lambda>n. v n x / n) \\<longlonglongrightarrow> (gv x)\"\n                    \"(\\<lambda>n. birkhoff_sum (u 1) n x / n) \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\""], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (v xa x / real xa)) \\<longlonglongrightarrow> gv x\n  (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>xa. ereal (v xa x / real xa)) \\<longlonglongrightarrow> gv x\n  (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x", "have \"(\\<lambda>n. ereal(birkhoff_sum (u 1) n x / n)) \\<longlonglongrightarrow> ereal(real_cond_exp M Invariants (u 1) x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (v xa x / real xa)) \\<longlonglongrightarrow> gv x\n  (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (birkhoff_sum (u 1) n x / real n))\n    \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants (u 1) x)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (birkhoff_sum (u 1) n x / real n))\n  \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants (u 1) x)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "{"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (birkhoff_sum (u 1) n x / real n))\n  \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants (u 1) x)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have \"u n x = v n x + birkhoff_sum (u 1) n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x = v n x + birkhoff_sum (u 1) n x", "unfolding v_def birkhoff_sum_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x =\n    u n x + (\\<Sum>i<n. - u 1 ((T ^^ i) x)) + (\\<Sum>i<n. u 1 ((T ^^ i) x))", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<n. - u (Suc 0) ((T ^^ i) x)) +\n    (\\<Sum>i<n. u (Suc 0) ((T ^^ i) x)) =\n    0", "by (simp add: sum_negf)"], ["proof (state)\nthis:\n  u n x = v n x + birkhoff_sum (u 1) n x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  u n x = v n x + birkhoff_sum (u 1) n x", "have \"u n x / n = v n x / n + birkhoff_sum (u 1) n x / n\""], ["proof (prove)\nusing this:\n  u n x = v n x + birkhoff_sum (u 1) n x\n\ngoal (1 subgoal):\n 1. u n x / real n = v n x / real n + birkhoff_sum (u 1) n x / real n", "by (simp add: add_divide_distrib)"], ["proof (state)\nthis:\n  u n x / real n = v n x / real n + birkhoff_sum (u 1) n x / real n\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  u n x / real n = v n x / real n + birkhoff_sum (u 1) n x / real n", "have \"ereal(u n x / n) = ereal(v n x / n) + ereal(birkhoff_sum (u 1) n x / n)\""], ["proof (prove)\nusing this:\n  u n x / real n = v n x / real n + birkhoff_sum (u 1) n x / real n\n\ngoal (1 subgoal):\n 1. ereal (u n x / real n) =\n    ereal (v n x / real n) + ereal (birkhoff_sum (u 1) n x / real n)", "by auto"], ["proof (state)\nthis:\n  ereal (u n x / real n) =\n  ereal (v n x / real n) + ereal (birkhoff_sum (u 1) n x / real n)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "}"], ["proof (state)\nthis:\n  ereal (u ?n5 x / real ?n5) =\n  ereal (v ?n5 x / real ?n5) + ereal (birkhoff_sum (u 1) ?n5 x / real ?n5)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "note * = this"], ["proof (state)\nthis:\n  ereal (u ?n5 x / real ?n5) =\n  ereal (v ?n5 x / real ?n5) + ereal (birkhoff_sum (u 1) ?n5 x / real ?n5)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "have \"(\\<lambda>n. ereal(u n x / n)) \\<longlonglongrightarrow> g x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n x / real n)) \\<longlonglongrightarrow> g x", "unfolding * g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        ereal (v n x / real n) + ereal (birkhoff_sum (u 1) n x / real n))\n    \\<longlonglongrightarrow> gv x +\n                              ereal (real_cond_exp M Invariants (u 1) x)", "apply (intro tendsto_intros)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<not> (gv x = \\<infinity> \\<and>\n            ereal (real_cond_exp M Invariants (u 1) x) = - \\<infinity> \\<or>\n            gv x = - \\<infinity> \\<and>\n            ereal (real_cond_exp M Invariants (u 1) x) = \\<infinity>)\n 2. (\\<lambda>xa. ereal (v xa x / real xa)) \\<longlonglongrightarrow> gv x\n 3. (\\<lambda>xa. birkhoff_sum (u 1) xa x / real xa)\n    \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x", "using H"], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (v xa x / real xa)) \\<longlonglongrightarrow> gv x\n  (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\n\ngoal (3 subgoals):\n 1. \\<not> (gv x = \\<infinity> \\<and>\n            ereal (real_cond_exp M Invariants (u 1) x) = - \\<infinity> \\<or>\n            gv x = - \\<infinity> \\<and>\n            ereal (real_cond_exp M Invariants (u 1) x) = \\<infinity>)\n 2. (\\<lambda>xa. ereal (v xa x / real xa)) \\<longlonglongrightarrow> gv x\n 3. (\\<lambda>xa. birkhoff_sum (u 1) xa x / real xa)\n    \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (u n x / real n)) \\<longlonglongrightarrow> g x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>x. ereal (v x ?x5 / real x))\n           \\<longlonglongrightarrow> gv ?x5;\n   (\\<lambda>n. birkhoff_sum (u 1) n ?x5 / real n)\n   \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. ereal (u n ?x5 / real n))\n                    \\<longlonglongrightarrow> g ?x5\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\n  \\<lbrakk>(\\<lambda>x. ereal (v x ?x5 / real x))\n           \\<longlonglongrightarrow> gv ?x5;\n   (\\<lambda>n. birkhoff_sum (u 1) n ?x5 / real n)\n   \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. ereal (u n ?x5 / real n))\n                    \\<longlonglongrightarrow> g ?x5", "have \"AE x in M. (\\<lambda>n. ereal(u n x / n)) \\<longlonglongrightarrow> g x\""], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\n  \\<lbrakk>(\\<lambda>x. ereal (v x ?x5 / real x))\n           \\<longlonglongrightarrow> gv ?x5;\n   (\\<lambda>n. birkhoff_sum (u 1) n ?x5 / real n)\n   \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. ereal (u n ?x5 / real n))\n                    \\<longlonglongrightarrow> g ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. ereal (u n x / real n))\n               \\<longlonglongrightarrow> g x", "using gv(2)"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\n  \\<lbrakk>(\\<lambda>x. ereal (v x ?x5 / real x))\n           \\<longlonglongrightarrow> gv ?x5;\n   (\\<lambda>n. birkhoff_sum (u 1) n ?x5 / real n)\n   \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. ereal (u n ?x5 / real n))\n                    \\<longlonglongrightarrow> g ?x5\n  AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n             \\<longlonglongrightarrow> gv x\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. ereal (u n x / real n))\n               \\<longlonglongrightarrow> g x", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. ereal (u n x / real n))\n             \\<longlonglongrightarrow> g x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "then"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>n. ereal (u n x / real n))\n             \\<longlonglongrightarrow> g x", "show ?thesis"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. ereal (u n x / real n))\n             \\<longlonglongrightarrow> g x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "using g_meas g_fin"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. ereal (u n x / real n))\n             \\<longlonglongrightarrow> g x\n  g \\<in> borel_measurable Invariants\n  g ?x3 < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "by blast"], ["proof (state)\nthis:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>For applications, it is convenient to have a limit which is really measurable with respect\nto the invariant sigma algebra and does not come from a hard to use abstract existence statement.\nHence we introduce the following definition for the would-be limit -- Kingman's theorem shows that\nit is indeed a limit.\n\nWe introduce the definition for any function, not only subcocycles, but it will only be usable for\nsubcocycles. We introduce an if clause in the definition so that the limit is always measurable,\neven when $u$ is not a subcocycle and there is no convergence.\\<close>"], ["", "definition subcocycle_lim_ereal::\"(nat \\<Rightarrow> 'a \\<Rightarrow> real) \\<Rightarrow> ('a \\<Rightarrow> ereal)\"\n  where \"subcocycle_lim_ereal u = (\n    if (\\<exists>(g::'a\\<Rightarrow>ereal). (g\\<in>borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x)))\n    then (SOME (g::'a\\<Rightarrow>ereal). g\\<in>borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x))\n    else (\\<lambda>_. 0))\""], ["", "definition subcocycle_lim::\"(nat \\<Rightarrow> 'a \\<Rightarrow> real) \\<Rightarrow> ('a \\<Rightarrow> real)\"\n  where \"subcocycle_lim u = (\\<lambda>x. real_of_ereal(subcocycle_lim_ereal u x))\""], ["", "lemma subcocycle_lim_meas_Inv [measurable]:\n  \"subcocycle_lim_ereal u \\<in> borel_measurable Invariants\"\n  \"subcocycle_lim u \\<in> borel_measurable Invariants\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u \\<in> borel_measurable Invariants &&&\n    subcocycle_lim u \\<in> borel_measurable Invariants", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. subcocycle_lim_ereal u \\<in> borel_measurable Invariants\n 2. subcocycle_lim u \\<in> borel_measurable Invariants", "show \"subcocycle_lim_ereal u \\<in> borel_measurable Invariants\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u \\<in> borel_measurable Invariants", "proof (cases \"\\<exists>(g::'a\\<Rightarrow>ereal). (g\\<in>borel_measurable Invariants \\<and> (\\<forall>x. g x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x))\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u \\<in> borel_measurable Invariants\n 2. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u \\<in> borel_measurable Invariants", "case True"], ["proof (state)\nthis:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (2 subgoals):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u \\<in> borel_measurable Invariants\n 2. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u \\<in> borel_measurable Invariants", "then"], ["proof (chain)\npicking this:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)", "have \"subcocycle_lim_ereal u = (SOME (g::'a\\<Rightarrow>ereal). g\\<in>borel_measurable Invariants \\<and>\n          (\\<forall>x. g x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x))\""], ["proof (prove)\nusing this:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u =\n    (SOME g.\n        g \\<in> borel_measurable Invariants \\<and>\n        (\\<forall>x. g x < \\<infinity>) \\<and>\n        (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                    \\<longlonglongrightarrow> g x))", "unfolding subcocycle_lim_ereal_def"], ["proof (prove)\nusing this:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. (if \\<exists>g.\n           g \\<in> borel_measurable Invariants \\<and>\n           (\\<forall>x. g x < \\<infinity>) \\<and>\n           (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                       \\<longlonglongrightarrow> g x)\n     then SOME g.\n             g \\<in> borel_measurable Invariants \\<and>\n             (\\<forall>x. g x < \\<infinity>) \\<and>\n             (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                         \\<longlonglongrightarrow> g x)\n     else (\\<lambda>_. 0)) =\n    (SOME g.\n        g \\<in> borel_measurable Invariants \\<and>\n        (\\<forall>x. g x < \\<infinity>) \\<and>\n        (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                    \\<longlonglongrightarrow> g x))", "by auto"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u =\n  (SOME g.\n      g \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and>\n      (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<longlonglongrightarrow> g x))\n\ngoal (2 subgoals):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u \\<in> borel_measurable Invariants\n 2. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u \\<in> borel_measurable Invariants", "then"], ["proof (chain)\npicking this:\n  subcocycle_lim_ereal u =\n  (SOME g.\n      g \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and>\n      (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<longlonglongrightarrow> g x))", "show ?thesis"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal u =\n  (SOME g.\n      g \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and>\n      (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<longlonglongrightarrow> g x))\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u \\<in> borel_measurable Invariants", "using someI_ex[OF True]"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal u =\n  (SOME g.\n      g \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and>\n      (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<longlonglongrightarrow> g x))\n  (SOME x.\n      x \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>xa. x xa < \\<infinity>) \\<and>\n      (AE xa in M. (\\<lambda>x. ereal (u x xa / real x))\n                   \\<longlonglongrightarrow> x xa))\n  \\<in> borel_measurable Invariants \\<and>\n  (\\<forall>x.\n      (SOME x.\n          x \\<in> borel_measurable Invariants \\<and>\n          (\\<forall>xa. x xa < \\<infinity>) \\<and>\n          (AE xa in M. (\\<lambda>x. ereal (u x xa / real x))\n                       \\<longlonglongrightarrow> x xa))\n       x\n      < \\<infinity>) \\<and>\n  (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n              \\<longlonglongrightarrow> (SOME x.\n      x \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>xa. x xa < \\<infinity>) \\<and>\n      (AE xa in M. (\\<lambda>x. ereal (u x xa / real x))\n                   \\<longlonglongrightarrow> x xa))\n   x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u \\<in> borel_measurable Invariants", "by auto"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u \\<in> borel_measurable Invariants\n\ngoal (1 subgoal):\n 1. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u \\<in> borel_measurable Invariants", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u \\<in> borel_measurable Invariants", "case False"], ["proof (state)\nthis:\n  \\<nexists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u \\<in> borel_measurable Invariants", "then"], ["proof (chain)\npicking this:\n  \\<nexists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)", "have \"subcocycle_lim_ereal u = (\\<lambda>_. 0)\""], ["proof (prove)\nusing this:\n  \\<nexists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u = (\\<lambda>_. 0)", "unfolding subcocycle_lim_ereal_def"], ["proof (prove)\nusing this:\n  \\<nexists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. (if \\<exists>g.\n           g \\<in> borel_measurable Invariants \\<and>\n           (\\<forall>x. g x < \\<infinity>) \\<and>\n           (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                       \\<longlonglongrightarrow> g x)\n     then SOME g.\n             g \\<in> borel_measurable Invariants \\<and>\n             (\\<forall>x. g x < \\<infinity>) \\<and>\n             (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                         \\<longlonglongrightarrow> g x)\n     else (\\<lambda>_. 0)) =\n    (\\<lambda>_. 0)", "by auto"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u = (\\<lambda>_. 0)\n\ngoal (1 subgoal):\n 1. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u \\<in> borel_measurable Invariants", "then"], ["proof (chain)\npicking this:\n  subcocycle_lim_ereal u = (\\<lambda>_. 0)", "show ?thesis"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal u = (\\<lambda>_. 0)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u \\<in> borel_measurable Invariants", "by auto"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u \\<in> borel_measurable Invariants\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u \\<in> borel_measurable Invariants\n\ngoal (1 subgoal):\n 1. subcocycle_lim u \\<in> borel_measurable Invariants", "then"], ["proof (chain)\npicking this:\n  subcocycle_lim_ereal u \\<in> borel_measurable Invariants", "show \"subcocycle_lim u \\<in> borel_measurable Invariants\""], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal u \\<in> borel_measurable Invariants\n\ngoal (1 subgoal):\n 1. subcocycle_lim u \\<in> borel_measurable Invariants", "unfolding subcocycle_lim_def"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal u \\<in> borel_measurable Invariants\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. real_of_ereal (subcocycle_lim_ereal u x))\n    \\<in> borel_measurable Invariants", "by auto"], ["proof (state)\nthis:\n  subcocycle_lim u \\<in> borel_measurable Invariants\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_lim_meas [measurable]:\n  \"subcocycle_lim_ereal u \\<in> borel_measurable M\"\n  \"subcocycle_lim u \\<in> borel_measurable M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u \\<in> borel_measurable M &&&\n    subcocycle_lim u \\<in> borel_measurable M", "using subcocycle_lim_meas_Inv Invariants_measurable_func"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal ?u \\<in> borel_measurable Invariants\n  subcocycle_lim ?u \\<in> borel_measurable Invariants\n  ?f \\<in> Invariants \\<rightarrow>\\<^sub>M ?N \\<Longrightarrow>\n  ?f \\<in> M \\<rightarrow>\\<^sub>M ?N\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u \\<in> borel_measurable M &&&\n    subcocycle_lim u \\<in> borel_measurable M", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_lim u \\<in> borel_measurable M", "using subcocycle_lim_meas_Inv Invariants_measurable_func"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal ?u \\<in> borel_measurable Invariants\n  subcocycle_lim ?u \\<in> borel_measurable Invariants\n  ?f \\<in> Invariants \\<rightarrow>\\<^sub>M ?N \\<Longrightarrow>\n  ?f \\<in> M \\<rightarrow>\\<^sub>M ?N\n\ngoal (1 subgoal):\n 1. subcocycle_lim u \\<in> borel_measurable M", "by blast"], ["", "lemma subcocycle_lim_ereal_not_PInf:\n  \"subcocycle_lim_ereal u x < \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u x < \\<infinity>", "proof (cases \"\\<exists>(g::'a\\<Rightarrow>ereal). (g\\<in>borel_measurable Invariants \\<and> (\\<forall>x. g x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x))\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u x < \\<infinity>\n 2. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u x < \\<infinity>", "case True"], ["proof (state)\nthis:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (2 subgoals):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u x < \\<infinity>\n 2. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u x < \\<infinity>", "then"], ["proof (chain)\npicking this:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)", "have \"subcocycle_lim_ereal u = (SOME (g::'a\\<Rightarrow>ereal). g\\<in>borel_measurable Invariants \\<and>\n        (\\<forall>x. g x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x))\""], ["proof (prove)\nusing this:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u =\n    (SOME g.\n        g \\<in> borel_measurable Invariants \\<and>\n        (\\<forall>x. g x < \\<infinity>) \\<and>\n        (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                    \\<longlonglongrightarrow> g x))", "unfolding subcocycle_lim_ereal_def"], ["proof (prove)\nusing this:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. (if \\<exists>g.\n           g \\<in> borel_measurable Invariants \\<and>\n           (\\<forall>x. g x < \\<infinity>) \\<and>\n           (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                       \\<longlonglongrightarrow> g x)\n     then SOME g.\n             g \\<in> borel_measurable Invariants \\<and>\n             (\\<forall>x. g x < \\<infinity>) \\<and>\n             (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                         \\<longlonglongrightarrow> g x)\n     else (\\<lambda>_. 0)) =\n    (SOME g.\n        g \\<in> borel_measurable Invariants \\<and>\n        (\\<forall>x. g x < \\<infinity>) \\<and>\n        (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                    \\<longlonglongrightarrow> g x))", "by auto"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u =\n  (SOME g.\n      g \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and>\n      (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<longlonglongrightarrow> g x))\n\ngoal (2 subgoals):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u x < \\<infinity>\n 2. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u x < \\<infinity>", "then"], ["proof (chain)\npicking this:\n  subcocycle_lim_ereal u =\n  (SOME g.\n      g \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and>\n      (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<longlonglongrightarrow> g x))", "show ?thesis"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal u =\n  (SOME g.\n      g \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and>\n      (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<longlonglongrightarrow> g x))\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u x < \\<infinity>", "using someI_ex[OF True]"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal u =\n  (SOME g.\n      g \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and>\n      (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<longlonglongrightarrow> g x))\n  (SOME x.\n      x \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>xa. x xa < \\<infinity>) \\<and>\n      (AE xa in M. (\\<lambda>x. ereal (u x xa / real x))\n                   \\<longlonglongrightarrow> x xa))\n  \\<in> borel_measurable Invariants \\<and>\n  (\\<forall>x.\n      (SOME x.\n          x \\<in> borel_measurable Invariants \\<and>\n          (\\<forall>xa. x xa < \\<infinity>) \\<and>\n          (AE xa in M. (\\<lambda>x. ereal (u x xa / real x))\n                       \\<longlonglongrightarrow> x xa))\n       x\n      < \\<infinity>) \\<and>\n  (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n              \\<longlonglongrightarrow> (SOME x.\n      x \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>xa. x xa < \\<infinity>) \\<and>\n      (AE xa in M. (\\<lambda>x. ereal (u x xa / real x))\n                   \\<longlonglongrightarrow> x xa))\n   x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u x < \\<infinity>", "by auto"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u x < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u x < \\<infinity>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u x < \\<infinity>", "case False"], ["proof (state)\nthis:\n  \\<nexists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u x < \\<infinity>", "then"], ["proof (chain)\npicking this:\n  \\<nexists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)", "have \"subcocycle_lim_ereal u = (\\<lambda>_. 0)\""], ["proof (prove)\nusing this:\n  \\<nexists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u = (\\<lambda>_. 0)", "unfolding subcocycle_lim_ereal_def"], ["proof (prove)\nusing this:\n  \\<nexists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. (if \\<exists>g.\n           g \\<in> borel_measurable Invariants \\<and>\n           (\\<forall>x. g x < \\<infinity>) \\<and>\n           (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                       \\<longlonglongrightarrow> g x)\n     then SOME g.\n             g \\<in> borel_measurable Invariants \\<and>\n             (\\<forall>x. g x < \\<infinity>) \\<and>\n             (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                         \\<longlonglongrightarrow> g x)\n     else (\\<lambda>_. 0)) =\n    (\\<lambda>_. 0)", "by auto"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u = (\\<lambda>_. 0)\n\ngoal (1 subgoal):\n 1. \\<nexists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x) \\<Longrightarrow>\n    subcocycle_lim_ereal u x < \\<infinity>", "then"], ["proof (chain)\npicking this:\n  subcocycle_lim_ereal u = (\\<lambda>_. 0)", "show ?thesis"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal u = (\\<lambda>_. 0)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u x < \\<infinity>", "by auto"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u x < \\<infinity>\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>We reformulate the subadditive ergodic theorem of Kingman with this definition.\nFrom this point on, the technical definition of \\verb+subcocycle_lim_ereal+ will never be used, only\nthe following property will be relevant.\\<close>"], ["", "theorem kingman_theorem_AE_nonergodic_ereal:\n  assumes \"subcocycle u\"\n  shows \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "have *: \"\\<exists>(g::'a\\<Rightarrow>ereal). (g\\<in>borel_measurable Invariants \\<and> (\\<forall>x. g x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "using kingman_theorem_AE_aux2[OF assms]"], ["proof (prove)\nusing this:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       g \\<in> borel_measurable Invariants \\<and>\n       (\\<forall>x. g x < \\<infinity>) \\<and>\n       (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                   \\<longlonglongrightarrow> g x)", "by auto"], ["proof (state)\nthis:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "then"], ["proof (chain)\npicking this:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)", "have \"subcocycle_lim_ereal u = (SOME (g::'a\\<Rightarrow>ereal). g\\<in>borel_measurable Invariants \\<and>\n        (\\<forall>x. g x < \\<infinity>) \\<and> (AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> g x))\""], ["proof (prove)\nusing this:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u =\n    (SOME g.\n        g \\<in> borel_measurable Invariants \\<and>\n        (\\<forall>x. g x < \\<infinity>) \\<and>\n        (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                    \\<longlonglongrightarrow> g x))", "unfolding subcocycle_lim_ereal_def"], ["proof (prove)\nusing this:\n  \\<exists>g.\n     g \\<in> borel_measurable Invariants \\<and>\n     (\\<forall>x. g x < \\<infinity>) \\<and>\n     (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                 \\<longlonglongrightarrow> g x)\n\ngoal (1 subgoal):\n 1. (if \\<exists>g.\n           g \\<in> borel_measurable Invariants \\<and>\n           (\\<forall>x. g x < \\<infinity>) \\<and>\n           (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                       \\<longlonglongrightarrow> g x)\n     then SOME g.\n             g \\<in> borel_measurable Invariants \\<and>\n             (\\<forall>x. g x < \\<infinity>) \\<and>\n             (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                         \\<longlonglongrightarrow> g x)\n     else (\\<lambda>_. 0)) =\n    (SOME g.\n        g \\<in> borel_measurable Invariants \\<and>\n        (\\<forall>x. g x < \\<infinity>) \\<and>\n        (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                    \\<longlonglongrightarrow> g x))", "by auto"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u =\n  (SOME g.\n      g \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and>\n      (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<longlonglongrightarrow> g x))\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "then"], ["proof (chain)\npicking this:\n  subcocycle_lim_ereal u =\n  (SOME g.\n      g \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and>\n      (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<longlonglongrightarrow> g x))", "show ?thesis"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal u =\n  (SOME g.\n      g \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and>\n      (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<longlonglongrightarrow> g x))\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "using someI_ex[OF *]"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal u =\n  (SOME g.\n      g \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>x. g x < \\<infinity>) \\<and>\n      (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n                  \\<longlonglongrightarrow> g x))\n  (SOME x.\n      x \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>xa. x xa < \\<infinity>) \\<and>\n      (AE xa in M. (\\<lambda>x. ereal (u x xa / real x))\n                   \\<longlonglongrightarrow> x xa))\n  \\<in> borel_measurable Invariants \\<and>\n  (\\<forall>x.\n      (SOME x.\n          x \\<in> borel_measurable Invariants \\<and>\n          (\\<forall>xa. x xa < \\<infinity>) \\<and>\n          (AE xa in M. (\\<lambda>x. ereal (u x xa / real x))\n                       \\<longlonglongrightarrow> x xa))\n       x\n      < \\<infinity>) \\<and>\n  (AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n              \\<longlonglongrightarrow> (SOME x.\n      x \\<in> borel_measurable Invariants \\<and>\n      (\\<forall>xa. x xa < \\<infinity>) \\<and>\n      (AE xa in M. (\\<lambda>x. ereal (u x xa / real x))\n                   \\<longlonglongrightarrow> x xa))\n   x)\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The subcocycle limit behaves well under addition, multiplication by a positive scalar,\nmax, and is simply the conditional expectation with respect to invariants for Birkhoff sums,\nthanks to Birkhoff theorem.\\<close>"], ["", "lemma subcocycle_lim_ereal_add:\n  assumes \"subcocycle u\" \"subcocycle v\"\n  shows \"AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x = subcocycle_lim_ereal u x + subcocycle_lim_ereal v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "have \"AE x in M. (\\<lambda>n. (u n x + v n x)/n) \\<longlonglongrightarrow> subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal ((u xa x + v xa x) / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal\n    (\\<lambda>n x. u n x + v n x) x", "by (rule kingman_theorem_AE_nonergodic_ereal[OF subcocycle_add[OF assms]])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal ((u xa x + v xa x) / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal\n  (\\<lambda>n x. u n x + v n x) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal ((u xa x + v xa x) / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal\n  (\\<lambda>n x. u n x + v n x) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "have \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "by (rule kingman_theorem_AE_nonergodic_ereal[OF assms(1)])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "have \"AE x in M. (\\<lambda>n. v n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal v x", "by (rule kingman_theorem_AE_nonergodic_ereal[OF assms(2)])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "{"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "assume H: \"(\\<lambda>n. (u n x + v n x)/n) \\<longlonglongrightarrow> subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x\"\n                    \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\"\n                    \"(\\<lambda>n. v n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal v x\""], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal ((u xa x + v xa x) / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal\n                             (\\<lambda>n x. u n x + v n x) x\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  (\\<lambda>xa. ereal (v xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "have *: \"(u n x + v n x)/n = ereal (u n x / n) + (v n x / n)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal ((u n x + v n x) / real n) =\n    ereal (u n x / real n) + ereal (v n x / real n)", "by (simp add: add_divide_distrib)"], ["proof (state)\nthis:\n  ereal ((u ?n3 x + v ?n3 x) / real ?n3) =\n  ereal (u ?n3 x / real ?n3) + ereal (v ?n3 x / real ?n3)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "have \"(\\<lambda>n. (u n x + v n x)/n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x + subcocycle_lim_ereal v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal ((u xa x + v xa x) / real xa))\n    \\<longlonglongrightarrow> subcocycle_lim_ereal u x +\n                              subcocycle_lim_ereal v x", "unfolding *"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (u xa x / real xa) + ereal (v xa x / real xa))\n    \\<longlonglongrightarrow> subcocycle_lim_ereal u x +\n                              subcocycle_lim_ereal v x", "apply (intro tendsto_intros H(2) H(3))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> (subcocycle_lim_ereal u x = \\<infinity> \\<and>\n            subcocycle_lim_ereal v x = - \\<infinity> \\<or>\n            subcocycle_lim_ereal u x = - \\<infinity> \\<and>\n            subcocycle_lim_ereal v x = \\<infinity>)", "using subcocycle_lim_ereal_not_PInf"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal ?u ?x < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<not> (subcocycle_lim_ereal u x = \\<infinity> \\<and>\n            subcocycle_lim_ereal v x = - \\<infinity> \\<or>\n            subcocycle_lim_ereal u x = - \\<infinity> \\<and>\n            subcocycle_lim_ereal v x = \\<infinity>)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal ((u xa x + v xa x) / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x +\n                            subcocycle_lim_ereal v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>xa. ereal ((u xa x + v xa x) / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x +\n                            subcocycle_lim_ereal v x", "have \"subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x = subcocycle_lim_ereal u x + subcocycle_lim_ereal v x\""], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal ((u xa x + v xa x) / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x +\n                            subcocycle_lim_ereal v x\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n    subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "using H(1)"], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal ((u xa x + v xa x) / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x +\n                            subcocycle_lim_ereal v x\n  (\\<lambda>xa. ereal ((u xa x + v xa x) / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal\n                             (\\<lambda>n x. u n x + v n x) x\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n    subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "by (simp add: LIMSEQ_unique)"], ["proof (state)\nthis:\n  subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n  subcocycle_lim_ereal u x + subcocycle_lim_ereal v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>x. ereal ((u x ?x5 + v x ?x5) / real x))\n           \\<longlonglongrightarrow> subcocycle_lim_ereal\n(\\<lambda>n x. u n x + v n x) ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   (\\<lambda>x. ereal (v x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal v ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) ?x5 =\n                    subcocycle_lim_ereal u ?x5 + subcocycle_lim_ereal v ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>xa. ereal ((u xa x + v xa x) / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal\n  (\\<lambda>n x. u n x + v n x) x\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n  \\<lbrakk>(\\<lambda>x. ereal ((u x ?x5 + v x ?x5) / real x))\n           \\<longlonglongrightarrow> subcocycle_lim_ereal\n(\\<lambda>n x. u n x + v n x) ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   (\\<lambda>x. ereal (v x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal v ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) ?x5 =\n                    subcocycle_lim_ereal u ?x5 + subcocycle_lim_ereal v ?x5", "show ?thesis"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>xa. ereal ((u xa x + v xa x) / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal\n  (\\<lambda>n x. u n x + v n x) x\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n  \\<lbrakk>(\\<lambda>x. ereal ((u x ?x5 + v x ?x5) / real x))\n           \\<longlonglongrightarrow> subcocycle_lim_ereal\n(\\<lambda>n x. u n x + v n x) ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   (\\<lambda>x. ereal (v x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal v ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) ?x5 =\n                    subcocycle_lim_ereal u ?x5 + subcocycle_lim_ereal v ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim_ereal u x + subcocycle_lim_ereal v x", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal (\\<lambda>n x. u n x + v n x) x =\n             subcocycle_lim_ereal u x + subcocycle_lim_ereal v x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_lim_ereal_cmult:\n  assumes \"subcocycle u\" \"c\\<ge>(0::real)\"\n  shows \"AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x = c * subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n               ereal c * subcocycle_lim_ereal u x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n               ereal c * subcocycle_lim_ereal u x", "have \"AE x in M. (\\<lambda>n. (c * u n x)/n) \\<longlonglongrightarrow> subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (c * u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal\n    (\\<lambda>n x. c * u n x) x", "by (rule kingman_theorem_AE_nonergodic_ereal[OF subcocycle_cmult[OF assms]])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (c * u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal\n  (\\<lambda>n x. c * u n x) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n               ereal c * subcocycle_lim_ereal u x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (c * u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal\n  (\\<lambda>n x. c * u n x) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n               ereal c * subcocycle_lim_ereal u x", "have \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "by (rule kingman_theorem_AE_nonergodic_ereal[OF assms(1)])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n               ereal c * subcocycle_lim_ereal u x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n               ereal c * subcocycle_lim_ereal u x", "{"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n               ereal c * subcocycle_lim_ereal u x", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n               ereal c * subcocycle_lim_ereal u x", "assume H: \"(\\<lambda>n. (c * u n x)/n) \\<longlonglongrightarrow> subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x\"\n                    \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\""], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (c * u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n               ereal c * subcocycle_lim_ereal u x", "have \"(\\<lambda>n. c * ereal (u n x / n)) \\<longlonglongrightarrow> c * subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal c * ereal (u n x / real n))\n    \\<longlonglongrightarrow> ereal c * subcocycle_lim_ereal u x", "by (rule tendsto_cmult_ereal[OF _ H(2)], auto)"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal c * ereal (u n x / real n))\n  \\<longlonglongrightarrow> ereal c * subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n               ereal c * subcocycle_lim_ereal u x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. ereal c * ereal (u n x / real n))\n  \\<longlonglongrightarrow> ereal c * subcocycle_lim_ereal u x", "have \"subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x = c * subcocycle_lim_ereal u x\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal c * ereal (u n x / real n))\n  \\<longlonglongrightarrow> ereal c * subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n    ereal c * subcocycle_lim_ereal u x", "using H(1)"], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal c * ereal (u n x / real n))\n  \\<longlonglongrightarrow> ereal c * subcocycle_lim_ereal u x\n  (\\<lambda>xa. ereal (c * u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n    ereal c * subcocycle_lim_ereal u x", "by (simp add: LIMSEQ_unique)"], ["proof (state)\nthis:\n  subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n  ereal c * subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n               ereal c * subcocycle_lim_ereal u x", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>x. ereal (c * u x ?x5 / real x))\n           \\<longlonglongrightarrow> subcocycle_lim_ereal\n(\\<lambda>n x. c * u n x) ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal (\\<lambda>n x. c * u n x) ?x5 =\n                    ereal c * subcocycle_lim_ereal u ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n               ereal c * subcocycle_lim_ereal u x", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>xa. ereal (c * u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal\n  (\\<lambda>n x. c * u n x) x\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  \\<lbrakk>(\\<lambda>x. ereal (c * u x ?x5 / real x))\n           \\<longlonglongrightarrow> subcocycle_lim_ereal\n(\\<lambda>n x. c * u n x) ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal (\\<lambda>n x. c * u n x) ?x5 =\n                    ereal c * subcocycle_lim_ereal u ?x5", "show ?thesis"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>xa. ereal (c * u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal\n  (\\<lambda>n x. c * u n x) x\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  \\<lbrakk>(\\<lambda>x. ereal (c * u x ?x5 / real x))\n           \\<longlonglongrightarrow> subcocycle_lim_ereal\n(\\<lambda>n x. c * u n x) ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal (\\<lambda>n x. c * u n x) ?x5 =\n                    ereal c * subcocycle_lim_ereal u ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n               ereal c * subcocycle_lim_ereal u x", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal (\\<lambda>n x. c * u n x) x =\n             ereal c * subcocycle_lim_ereal u x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_lim_ereal_max:\n  assumes \"subcocycle u\" \"subcocycle v\"\n  shows \"AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x\n                    = max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "have \"AE x in M. (\\<lambda>n. max (u n x) (v n x) / n) \\<longlonglongrightarrow> subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (max (u xa x) (v xa x) / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal\n    (\\<lambda>n x. max (u n x) (v n x)) x", "by (rule kingman_theorem_AE_nonergodic_ereal[OF subcocycle_max[OF assms]])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (max (u xa x) (v xa x) / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal\n  (\\<lambda>n x. max (u n x) (v n x)) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (max (u xa x) (v xa x) / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal\n  (\\<lambda>n x. max (u n x) (v n x)) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "have \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "by (rule kingman_theorem_AE_nonergodic_ereal[OF assms(1)])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "have \"AE x in M. (\\<lambda>n. v n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal v x", "by (rule kingman_theorem_AE_nonergodic_ereal[OF assms(2)])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "{"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "assume H: \"(\\<lambda>n. max (u n x) (v n x) / n) \\<longlonglongrightarrow> subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x\"\n                    \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\"\n                    \"(\\<lambda>n. v n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal v x\""], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (max (u xa x) (v xa x) / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal\n                             (\\<lambda>n x. max (u n x) (v n x)) x\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  (\\<lambda>xa. ereal (v xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "have \"(\\<lambda>n. max (ereal(u n x / n)) (ereal(v n x / n)))\n            \\<longlonglongrightarrow> max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. max (ereal (u n x / real n)) (ereal (v n x / real n)))\n    \\<longlonglongrightarrow> max (subcocycle_lim_ereal u x)\n                               (subcocycle_lim_ereal v x)", "apply (rule tendsto_max)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n 2. (\\<lambda>xa. ereal (v xa x / real xa))\n    \\<longlonglongrightarrow> subcocycle_lim_ereal v x", "using H"], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (max (u xa x) (v xa x) / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal\n                             (\\<lambda>n x. max (u n x) (v n x)) x\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  (\\<lambda>xa. ereal (v xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n\ngoal (2 subgoals):\n 1. (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n 2. (\\<lambda>xa. ereal (v xa x / real xa))\n    \\<longlonglongrightarrow> subcocycle_lim_ereal v x", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. max (ereal (u n x / real n)) (ereal (v n x / real n)))\n  \\<longlonglongrightarrow> max (subcocycle_lim_ereal u x)\n                             (subcocycle_lim_ereal v x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. max (ereal (u n x / real n)) (ereal (v n x / real n)))\n  \\<longlonglongrightarrow> max (subcocycle_lim_ereal u x)\n                             (subcocycle_lim_ereal v x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "have \"max (ereal(u n x / n)) (ereal(v n x / n)) = max (u n x) (v n x) / n\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. max (ereal (u n x / real n)) (ereal (v n x / real n)) =\n    ereal (max (u n x) (v n x) / real n)", "by (simp del: ereal_max add:ereal_max[symmetric] max_divide_distrib_right)"], ["proof (state)\nthis:\n  max (ereal (u ?n3 x / real ?n3)) (ereal (v ?n3 x / real ?n3)) =\n  ereal (max (u ?n3 x) (v ?n3 x) / real ?n3)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. max (ereal (u n x / real n)) (ereal (v n x / real n)))\n  \\<longlonglongrightarrow> max (subcocycle_lim_ereal u x)\n                             (subcocycle_lim_ereal v x)\n  max (ereal (u ?n3 x / real ?n3)) (ereal (v ?n3 x / real ?n3)) =\n  ereal (max (u ?n3 x) (v ?n3 x) / real ?n3)", "have \"(\\<lambda>n. max (u n x) (v n x) / n)\n          \\<longlonglongrightarrow> max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. max (ereal (u n x / real n)) (ereal (v n x / real n)))\n  \\<longlonglongrightarrow> max (subcocycle_lim_ereal u x)\n                             (subcocycle_lim_ereal v x)\n  max (ereal (u ?n3 x / real ?n3)) (ereal (v ?n3 x / real ?n3)) =\n  ereal (max (u ?n3 x) (v ?n3 x) / real ?n3)\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (max (u xa x) (v xa x) / real xa))\n    \\<longlonglongrightarrow> max (subcocycle_lim_ereal u x)\n                               (subcocycle_lim_ereal v x)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (max (u xa x) (v xa x) / real xa))\n  \\<longlonglongrightarrow> max (subcocycle_lim_ereal u x)\n                             (subcocycle_lim_ereal v x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>xa. ereal (max (u xa x) (v xa x) / real xa))\n  \\<longlonglongrightarrow> max (subcocycle_lim_ereal u x)\n                             (subcocycle_lim_ereal v x)", "have \"subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x\n                = max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (max (u xa x) (v xa x) / real xa))\n  \\<longlonglongrightarrow> max (subcocycle_lim_ereal u x)\n                             (subcocycle_lim_ereal v x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n    max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "using H(1)"], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (max (u xa x) (v xa x) / real xa))\n  \\<longlonglongrightarrow> max (subcocycle_lim_ereal u x)\n                             (subcocycle_lim_ereal v x)\n  (\\<lambda>xa. ereal (max (u xa x) (v xa x) / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal\n                             (\\<lambda>n x. max (u n x) (v n x)) x\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n    max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "by (simp add: LIMSEQ_unique)"], ["proof (state)\nthis:\n  subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n  max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>x. ereal (max (u x ?x5) (v x ?x5) / real x))\n           \\<longlonglongrightarrow> subcocycle_lim_ereal\n(\\<lambda>n x. max (u n x) (v n x)) ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   (\\<lambda>x. ereal (v x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal v ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x))\n                     ?x5 =\n                    max (subcocycle_lim_ereal u ?x5)\n                     (subcocycle_lim_ereal v ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>xa. ereal (max (u xa x) (v xa x) / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal\n  (\\<lambda>n x. max (u n x) (v n x)) x\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n  \\<lbrakk>(\\<lambda>x. ereal (max (u x ?x5) (v x ?x5) / real x))\n           \\<longlonglongrightarrow> subcocycle_lim_ereal\n(\\<lambda>n x. max (u n x) (v n x)) ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   (\\<lambda>x. ereal (v x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal v ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x))\n                     ?x5 =\n                    max (subcocycle_lim_ereal u ?x5)\n                     (subcocycle_lim_ereal v ?x5)", "show ?thesis"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>xa. ereal (max (u xa x) (v xa x) / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal\n  (\\<lambda>n x. max (u n x) (v n x)) x\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n  \\<lbrakk>(\\<lambda>x. ereal (max (u x ?x5) (v x ?x5) / real x))\n           \\<longlonglongrightarrow> subcocycle_lim_ereal\n(\\<lambda>n x. max (u n x) (v n x)) ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   (\\<lambda>x. ereal (v x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal v ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x))\n                     ?x5 =\n                    max (subcocycle_lim_ereal u ?x5)\n                     (subcocycle_lim_ereal v ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n             max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_lim_ereal_birkhoff:\n  assumes \"integrable M u\"\n  shows \"AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x = ereal(real_cond_exp M Invariants u x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n               ereal (real_cond_exp M Invariants u x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n               ereal (real_cond_exp M Invariants u x)", "have \"AE x in M. (\\<lambda>n. birkhoff_sum u n x / n) \\<longlonglongrightarrow> real_cond_exp M Invariants u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n               \\<longlonglongrightarrow> real_cond_exp M Invariants u x", "by (rule birkhoff_theorem_AE_nonergodic[OF assms])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n               ereal (real_cond_exp M Invariants u x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n               ereal (real_cond_exp M Invariants u x)", "have \"AE x in M. (\\<lambda>n. birkhoff_sum u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal (birkhoff_sum u) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal\n    (birkhoff_sum u) x", "by (rule kingman_theorem_AE_nonergodic_ereal[OF subcocycle_birkhoff[OF assms]])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal (birkhoff_sum u)\n  x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n               ereal (real_cond_exp M Invariants u x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal (birkhoff_sum u)\n  x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n               ereal (real_cond_exp M Invariants u x)", "{"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal (birkhoff_sum u)\n  x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n               ereal (real_cond_exp M Invariants u x)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n               ereal (real_cond_exp M Invariants u x)", "assume H: \"(\\<lambda>n. birkhoff_sum u n x / n) \\<longlonglongrightarrow> real_cond_exp M Invariants u x\"\n                    \"(\\<lambda>n. birkhoff_sum u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal (birkhoff_sum u) x\""], ["proof (state)\nthis:\n  (\\<lambda>n. birkhoff_sum u n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n  (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal (birkhoff_sum u) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n               ereal (real_cond_exp M Invariants u x)", "have \"(\\<lambda>n. birkhoff_sum u n x / n) \\<longlonglongrightarrow> ereal(real_cond_exp M Invariants u x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n    \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants u x)", "using H(1)"], ["proof (prove)\nusing this:\n  (\\<lambda>n. birkhoff_sum u n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n    \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants u x)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n  \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants u x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n               ereal (real_cond_exp M Invariants u x)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n  \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants u x)", "have \"subcocycle_lim_ereal (birkhoff_sum u) x = ereal(real_cond_exp M Invariants u x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n  \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants u x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal (birkhoff_sum u) x =\n    ereal (real_cond_exp M Invariants u x)", "using H(2)"], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n  \\<longlonglongrightarrow> ereal (real_cond_exp M Invariants u x)\n  (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal (birkhoff_sum u) x\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal (birkhoff_sum u) x =\n    ereal (real_cond_exp M Invariants u x)", "by (simp add: LIMSEQ_unique)"], ["proof (state)\nthis:\n  subcocycle_lim_ereal (birkhoff_sum u) x =\n  ereal (real_cond_exp M Invariants u x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n               ereal (real_cond_exp M Invariants u x)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>n. birkhoff_sum u n ?x5 / real n)\n           \\<longlonglongrightarrow> real_cond_exp M Invariants u ?x5;\n   (\\<lambda>x. ereal (birkhoff_sum u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal (birkhoff_sum u)\n                              ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal (birkhoff_sum u) ?x5 =\n                    ereal (real_cond_exp M Invariants u ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n               ereal (real_cond_exp M Invariants u x)", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n  AE x in M. (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal (birkhoff_sum u)\n  x\n  \\<lbrakk>(\\<lambda>n. birkhoff_sum u n ?x5 / real n)\n           \\<longlonglongrightarrow> real_cond_exp M Invariants u ?x5;\n   (\\<lambda>x. ereal (birkhoff_sum u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal (birkhoff_sum u)\n                              ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal (birkhoff_sum u) ?x5 =\n                    ereal (real_cond_exp M Invariants u ?x5)", "show ?thesis"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n  AE x in M. (\\<lambda>xa. ereal (birkhoff_sum u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal (birkhoff_sum u)\n  x\n  \\<lbrakk>(\\<lambda>n. birkhoff_sum u n ?x5 / real n)\n           \\<longlonglongrightarrow> real_cond_exp M Invariants u ?x5;\n   (\\<lambda>x. ereal (birkhoff_sum u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal (birkhoff_sum u)\n                              ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal (birkhoff_sum u) ?x5 =\n                    ereal (real_cond_exp M Invariants u ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n               ereal (real_cond_exp M Invariants u x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal (birkhoff_sum u) x =\n             ereal (real_cond_exp M Invariants u x)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>$L^1$ and a.e.\\ convergence of subcocycles with finite asymptotic average\\<close>"], ["", "text \\<open>In this subsection, we show that the almost sure convergence in Kingman theorem\nalso takes place in $L^1$ if the limit is integrable, i.e., if the asymptotic average\nof the subcocycle is $> -\\infty$. To deduce it from the almost sure convergence, we only need\nto show that there is no loss of mass, i.e., that the integral of the limit is not\nstrictly larger than the limit of the integrals (thanks to Scheffe criterion). This follows\nfrom comparison to Birkhoff sums, for which we know that the average of the limit is\nthe same as the average of the function.\\<close>"], ["", "text \\<open>First, we show that the subcocycle limit is bounded by the limit of the Birkhoff sums of\n$u_N$, i.e., its conditional expectation. This follows from the fact that $u_n$ is bounded by the\nBirkhoff sum of $u_N$ (up to negligible boundary terms).\\<close>"], ["", "lemma subcocycle_lim_ereal_atmost_uN_invariants:\n  assumes \"subcocycle u\" \"N>(0::nat)\"\n  shows \"AE x in M. subcocycle_lim_ereal u x \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "have \"AE x in M. (\\<lambda>n. u 1 ((T^^n) x) / n) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. u 1 ((T ^^ n) x) / real n)\n               \\<longlonglongrightarrow> 0", "apply (rule limit_foTn_over_n')"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (u 1)", "using assms(1)"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. integrable M (u 1)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. integrable M (u 1)", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. u 1 ((T ^^ n) x) / real n)\n             \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. u 1 ((T ^^ n) x) / real n)\n             \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "have \"AE x in M. (\\<lambda>n. birkhoff_sum (\\<lambda>x. u N x/N) n x / n) \\<longlonglongrightarrow> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n.\n                   birkhoff_sum (\\<lambda>x. u N x / real N) n x / real n)\n               \\<longlonglongrightarrow> real_cond_exp M Invariants\n    (\\<lambda>x. u N x / real N) x", "apply (rule birkhoff_theorem_AE_nonergodic)"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u N x / real N)", "using assms(1)"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u N x / real N)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u N x / real N)", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n.\n                 birkhoff_sum (\\<lambda>x. u N x / real N) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants\n  (\\<lambda>x. u N x / real N) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n.\n                 birkhoff_sum (\\<lambda>x. u N x / real N) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants\n  (\\<lambda>x. u N x / real N) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "have \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "by (rule kingman_theorem_AE_nonergodic_ereal[OF assms(1)])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "{"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "assume H: \"(\\<lambda>n. u 1 ((T^^n) x) / n) \\<longlonglongrightarrow> 0\"\n                    \"(\\<lambda>n. birkhoff_sum (\\<lambda>x. u N x/N) n x / n) \\<longlonglongrightarrow> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\"\n                    \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\""], ["proof (state)\nthis:\n  (\\<lambda>n. u 1 ((T ^^ n) x) / real n) \\<longlonglongrightarrow> 0\n  (\\<lambda>n. birkhoff_sum (\\<lambda>x. u N x / real N) n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants\n                             (\\<lambda>x. u N x / real N) x\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "let ?f = \"\\<lambda>n. birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / n\n                  + (\\<Sum>i<N. (1/n) * \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n                  + 2 * (\\<Sum>i<2*N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / n)\""], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "assume \"n\\<ge>2*N+1\""], ["proof (state)\nthis:\n  2 * N + 1 \\<le> n\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "then"], ["proof (chain)\npicking this:\n  2 * N + 1 \\<le> n", "have \"n > 2 * N\""], ["proof (prove)\nusing this:\n  2 * N + 1 \\<le> n\n\ngoal (1 subgoal):\n 1. 2 * N < n", "by simp"], ["proof (state)\nthis:\n  2 * N < n\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "have \"u n x / n \\<le> (birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x\n                  + (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>)\n                  + 2 * (\\<Sum>i<2*N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)) / n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x / real n\n    \\<le> (birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n           (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n           2 *\n           (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)) /\n          real n", "using subcocycle_bounded_by_birkhoffN[OF assms(1) \\<open>n>2*N\\<close> \\<open>N>0\\<close>, of x] \\<open>n>2*N\\<close>"], ["proof (prove)\nusing this:\n  u n x\n  \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n        (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)\n  2 * N < n\n\ngoal (1 subgoal):\n 1. u n x / real n\n    \\<le> (birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n           (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n           2 *\n           (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)) /\n          real n", "by (simp add: divide_right_mono)"], ["proof (state)\nthis:\n  u n x / real n\n  \\<le> (birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n         (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n         2 *\n         (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)) /\n        real n\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "also"], ["proof (state)\nthis:\n  u n x / real n\n  \\<le> (birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n         (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n         2 *\n         (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)) /\n        real n\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "have \"... = ?f n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n     (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n     2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)) /\n    real n =\n    birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n    (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n    2 *\n    (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n)", "apply (subst add_divide_distrib)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n    (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) / real n +\n    2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>) /\n    real n =\n    birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n    (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n    2 *\n    (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n)", "by (auto simp add: sum_divide_distrib[symmetric])"], ["proof (state)\nthis:\n  (birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x +\n   (\\<Sum>i<N. \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n   2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar>)) /\n  real n =\n  birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n  (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n  2 * (\\<Sum>i<2 * N. \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "finally"], ["proof (chain)\npicking this:\n  u n x / real n\n  \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n        (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        2 *\n        (\\<Sum>i<2 * N.\n            \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n)", "have \"u n x / n \\<le> ?f n\""], ["proof (prove)\nusing this:\n  u n x / real n\n  \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n        (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        2 *\n        (\\<Sum>i<2 * N.\n            \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n)\n\ngoal (1 subgoal):\n 1. u n x / real n\n    \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n          (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 *\n          (\\<Sum>i<2 * N.\n              \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n)", "by simp"], ["proof (state)\nthis:\n  u n x / real n\n  \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n        (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        2 *\n        (\\<Sum>i<2 * N.\n            \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "then"], ["proof (chain)\npicking this:\n  u n x / real n\n  \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n        (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        2 *\n        (\\<Sum>i<2 * N.\n            \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n)", "have \"u n x / n \\<le> ereal(?f n)\""], ["proof (prove)\nusing this:\n  u n x / real n\n  \\<le> birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n        (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        2 *\n        (\\<Sum>i<2 * N.\n            \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n)\n\ngoal (1 subgoal):\n 1. ereal (u n x / real n)\n    \\<le> ereal\n           (birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x /\n            real n +\n            (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n            2 *\n            (\\<Sum>i<2 * N.\n                \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n))", "by simp"], ["proof (state)\nthis:\n  ereal (u n x / real n)\n  \\<le> ereal\n         (birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n          (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 *\n          (\\<Sum>i<2 * N.\n              \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n))\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "}"], ["proof (state)\nthis:\n  2 * N + 1 \\<le> ?n5 \\<Longrightarrow>\n  ereal (u ?n5 x / real ?n5)\n  \\<le> ereal\n         (birkhoff_sum (\\<lambda>x. u N x / real N) (?n5 - 2 * N) x /\n          real ?n5 +\n          (\\<Sum>i<N. 1 / real ?n5 * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 *\n          (\\<Sum>i<2 * N.\n              \\<bar>u 1 ((T ^^ (?n5 - (2 * N - i))) x)\\<bar> / real ?n5))\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "have \"(\\<lambda>n. ?f n) \\<longlonglongrightarrow> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x + (\\<Sum>i<N. 0 * \\<bar>u 1 ((T ^^ i) x)\\<bar>) + 2 * (\\<Sum>i<2*N. 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n        (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        2 *\n        (\\<Sum>i<2 * N.\n            \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n))\n    \\<longlonglongrightarrow> real_cond_exp M Invariants\n                               (\\<lambda>x. u N x / real N) x +\n                              (\\<Sum>i<N.\n                                  0 * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n                              2 * (\\<Sum>i<2 * N. 0)", "apply (intro tendsto_intros)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (\\<lambda>xa. birkhoff_sum (\\<lambda>x. u N x / real N) xa x / real xa)\n    \\<longlonglongrightarrow> real_cond_exp M Invariants\n                               (\\<lambda>x. u N x / real N) x\n 2. \\<And>i.\n       i \\<in> {..<2 * N} \\<Longrightarrow>\n       (\\<lambda>xa. \\<bar>u 1 ((T ^^ xa) x)\\<bar> / real xa)\n       \\<longlonglongrightarrow> 0", "using H(2) tendsto_norm[OF H(1)]"], ["proof (prove)\nusing this:\n  (\\<lambda>n. birkhoff_sum (\\<lambda>x. u N x / real N) n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants\n                             (\\<lambda>x. u N x / real N) x\n  (\\<lambda>xa. norm (u 1 ((T ^^ xa) x) / real xa))\n  \\<longlonglongrightarrow> norm 0\n\ngoal (2 subgoals):\n 1. (\\<lambda>xa. birkhoff_sum (\\<lambda>x. u N x / real N) xa x / real xa)\n    \\<longlonglongrightarrow> real_cond_exp M Invariants\n                               (\\<lambda>x. u N x / real N) x\n 2. \\<And>i.\n       i \\<in> {..<2 * N} \\<Longrightarrow>\n       (\\<lambda>xa. \\<bar>u 1 ((T ^^ xa) x)\\<bar> / real xa)\n       \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n      (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n      2 *\n      (\\<Sum>i<2 * N.\n          \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n))\n  \\<longlonglongrightarrow> real_cond_exp M Invariants\n                             (\\<lambda>x. u N x / real N) x +\n                            (\\<Sum>i<N. 0 * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n                            2 * (\\<Sum>i<2 * N. 0)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n.\n      birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n      (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n      2 *\n      (\\<Sum>i<2 * N.\n          \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n))\n  \\<longlonglongrightarrow> real_cond_exp M Invariants\n                             (\\<lambda>x. u N x / real N) x +\n                            (\\<Sum>i<N. 0 * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n                            2 * (\\<Sum>i<2 * N. 0)", "have \"(\\<lambda>n. ereal(?f n)) \\<longlonglongrightarrow> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\""], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n      (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n      2 *\n      (\\<Sum>i<2 * N.\n          \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n))\n  \\<longlonglongrightarrow> real_cond_exp M Invariants\n                             (\\<lambda>x. u N x / real N) x +\n                            (\\<Sum>i<N. 0 * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n                            2 * (\\<Sum>i<2 * N. 0)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        ereal\n         (birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n          (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n          2 *\n          (\\<Sum>i<2 * N.\n              \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n)))\n    \\<longlonglongrightarrow> ereal\n                               (real_cond_exp M Invariants\n                                 (\\<lambda>x. u N x / real N) x)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      ereal\n       (birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n        (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        2 *\n        (\\<Sum>i<2 * N.\n            \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n)))\n  \\<longlonglongrightarrow> ereal\n                             (real_cond_exp M Invariants\n                               (\\<lambda>x. u N x / real N) x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "with lim_mono[OF \\<open>\\<And>n. n \\<ge> 2*N+1 \\<Longrightarrow> u n x / n \\<le> ereal(?f n)\\<close> H(3) this]"], ["proof (chain)\npicking this:\n  (\\<And>n.\n      ?N \\<le> n \\<Longrightarrow> 2 * N + 1 \\<le> n) \\<Longrightarrow>\n  subcocycle_lim_ereal u x\n  \\<le> ereal (real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x)\n  (\\<lambda>n.\n      ereal\n       (birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n        (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        2 *\n        (\\<Sum>i<2 * N.\n            \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n)))\n  \\<longlonglongrightarrow> ereal\n                             (real_cond_exp M Invariants\n                               (\\<lambda>x. u N x / real N) x)", "have \"subcocycle_lim_ereal u x \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\""], ["proof (prove)\nusing this:\n  (\\<And>n.\n      ?N \\<le> n \\<Longrightarrow> 2 * N + 1 \\<le> n) \\<Longrightarrow>\n  subcocycle_lim_ereal u x\n  \\<le> ereal (real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x)\n  (\\<lambda>n.\n      ereal\n       (birkhoff_sum (\\<lambda>x. u N x / real N) (n - 2 * N) x / real n +\n        (\\<Sum>i<N. 1 / real n * \\<bar>u 1 ((T ^^ i) x)\\<bar>) +\n        2 *\n        (\\<Sum>i<2 * N.\n            \\<bar>u 1 ((T ^^ (n - (2 * N - i))) x)\\<bar> / real n)))\n  \\<longlonglongrightarrow> ereal\n                             (real_cond_exp M Invariants\n                               (\\<lambda>x. u N x / real N) x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u x\n    \\<le> ereal (real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x)", "by simp"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u x\n  \\<le> ereal (real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>n. u 1 ((T ^^ n) ?x5) / real n)\n           \\<longlonglongrightarrow> 0;\n   (\\<lambda>n. birkhoff_sum (\\<lambda>x. u N x / real N) n ?x5 / real n)\n   \\<longlonglongrightarrow> real_cond_exp M Invariants\n                              (\\<lambda>x. u N x / real N) ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal u ?x5\n                    \\<le> ereal\n                           (real_cond_exp M Invariants\n                             (\\<lambda>x. u N x / real N) ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>n. u 1 ((T ^^ n) x) / real n)\n             \\<longlonglongrightarrow> 0\n  AE x in M. (\\<lambda>n.\n                 birkhoff_sum (\\<lambda>x. u N x / real N) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants\n  (\\<lambda>x. u N x / real N) x\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  \\<lbrakk>(\\<lambda>n. u 1 ((T ^^ n) ?x5) / real n)\n           \\<longlonglongrightarrow> 0;\n   (\\<lambda>n. birkhoff_sum (\\<lambda>x. u N x / real N) n ?x5 / real n)\n   \\<longlonglongrightarrow> real_cond_exp M Invariants\n                              (\\<lambda>x. u N x / real N) ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal u ?x5\n                    \\<le> ereal\n                           (real_cond_exp M Invariants\n                             (\\<lambda>x. u N x / real N) ?x5)", "show ?thesis"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. u 1 ((T ^^ n) x) / real n)\n             \\<longlonglongrightarrow> 0\n  AE x in M. (\\<lambda>n.\n                 birkhoff_sum (\\<lambda>x. u N x / real N) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants\n  (\\<lambda>x. u N x / real N) x\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  \\<lbrakk>(\\<lambda>n. u 1 ((T ^^ n) ?x5) / real n)\n           \\<longlonglongrightarrow> 0;\n   (\\<lambda>n. birkhoff_sum (\\<lambda>x. u N x / real N) n ?x5 / real n)\n   \\<longlonglongrightarrow> real_cond_exp M Invariants\n                              (\\<lambda>x. u N x / real N) ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal u ?x5\n                    \\<le> ereal\n                           (real_cond_exp M Invariants\n                             (\\<lambda>x. u N x / real N) ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> ereal\n                    (real_cond_exp M Invariants (\\<lambda>x. u N x / real N)\n                      x)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>To apply Scheffe criterion, we need to deal with nonnegative functions, or equivalently\nwith nonpositive functions after a change of sign. Hence, as in the proof of the almost\nsure version of Kingman theorem above, we first give the proof assuming that the\nsubcocycle is nonpositive, and deduce the general statement by adding a suitable\nBirkhoff sum.\\<close>"], ["", "lemma kingman_theorem_L1_aux:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\" \"\\<And>x. u 1 x \\<le> 0\"\n  shows \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\"\n        \"integrable M (subcocycle_lim u)\"\n        \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(u n x / n - subcocycle_lim u x) \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x &&&\n    integrable M (subcocycle_lim u) &&&\n    (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "proof -"], ["proof (state)\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have int_u [measurable]: \"\\<And>n. integrable M (u n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. integrable M (u n)", "using assms(1) subcocycle_def"], ["proof (prove)\nusing this:\n  subcocycle u\n  subcocycle ?u =\n  ((\\<forall>n. integrable M (?u n)) \\<and>\n   (\\<forall>n m x. ?u (n + m) x \\<le> ?u n x + ?u m ((T ^^ n) x)))\n\ngoal (1 subgoal):\n 1. \\<And>n. integrable M (u n)", "by auto"], ["proof (state)\nthis:\n  integrable M (u ?n3)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  integrable M (u ?n3)", "have int_F [measurable]: \"\\<And>n. integrable M (\\<lambda>x. - u n x/ n)\""], ["proof (prove)\nusing this:\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. \\<And>n. integrable M (\\<lambda>x. - u n x / real n)", "by auto"], ["proof (state)\nthis:\n  integrable M (\\<lambda>x. - u ?n3 x / real ?n3)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have F_pos: \"- u n x / n \\<ge> 0\" for x n"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> - u n x / real n", "proof (cases \"n > 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n\n 2. \\<not> 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n", "case True"], ["proof (state)\nthis:\n  0 < n\n\ngoal (2 subgoals):\n 1. 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n\n 2. \\<not> 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n", "have \"u n x \\<le> (\\<Sum>i<n. u 1 ((T ^^ i) x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x \\<le> (\\<Sum>i<n. u 1 ((T ^^ i) x))", "using subcocycle_bounded_by_birkhoff1[OF assms(1) \\<open>n>0\\<close>]"], ["proof (prove)\nusing this:\n  u n ?x \\<le> birkhoff_sum (u 1) n ?x\n\ngoal (1 subgoal):\n 1. u n x \\<le> (\\<Sum>i<n. u 1 ((T ^^ i) x))", "unfolding birkhoff_sum_def"], ["proof (prove)\nusing this:\n  u n ?x \\<le> (\\<Sum>i<n. u 1 ((T ^^ i) ?x))\n\ngoal (1 subgoal):\n 1. u n x \\<le> (\\<Sum>i<n. u 1 ((T ^^ i) x))", "by simp"], ["proof (state)\nthis:\n  u n x \\<le> (\\<Sum>i<n. u 1 ((T ^^ i) x))\n\ngoal (2 subgoals):\n 1. 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n\n 2. \\<not> 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n", "also"], ["proof (state)\nthis:\n  u n x \\<le> (\\<Sum>i<n. u 1 ((T ^^ i) x))\n\ngoal (2 subgoals):\n 1. 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n\n 2. \\<not> 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n", "have \"... \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i<n. u 1 ((T ^^ i) x)) \\<le> 0", "using sum_mono[OF assms(3)]"], ["proof (prove)\nusing this:\n  (\\<Sum>i\\<in>?K. u 1 (?x4 i)) \\<le> (\\<Sum>i\\<in>?K. 0)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i<n. u 1 ((T ^^ i) x)) \\<le> 0", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i<n. u 1 ((T ^^ i) x)) \\<le> 0\n\ngoal (2 subgoals):\n 1. 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n\n 2. \\<not> 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n", "finally"], ["proof (chain)\npicking this:\n  u n x \\<le> 0", "have \"u n x \\<le> 0\""], ["proof (prove)\nusing this:\n  u n x \\<le> 0\n\ngoal (1 subgoal):\n 1. u n x \\<le> 0", "by simp"], ["proof (state)\nthis:\n  u n x \\<le> 0\n\ngoal (2 subgoals):\n 1. 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n\n 2. \\<not> 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n", "then"], ["proof (chain)\npicking this:\n  u n x \\<le> 0", "have \"-u n x \\<ge> 0\""], ["proof (prove)\nusing this:\n  u n x \\<le> 0\n\ngoal (1 subgoal):\n 1. 0 \\<le> - u n x", "by simp"], ["proof (state)\nthis:\n  0 \\<le> - u n x\n\ngoal (2 subgoals):\n 1. 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n\n 2. \\<not> 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n", "with divide_nonneg_nonneg[OF this]"], ["proof (chain)\npicking this:\n  0 \\<le> ?y \\<Longrightarrow> 0 \\<le> - u n x / ?y\n  0 \\<le> - u n x", "show \"- u n x / n \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 \\<le> ?y \\<Longrightarrow> 0 \\<le> - u n x / ?y\n  0 \\<le> - u n x\n\ngoal (1 subgoal):\n 1. 0 \\<le> - u n x / real n", "using \\<open>n>0\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> ?y \\<Longrightarrow> 0 \\<le> - u n x / ?y\n  0 \\<le> - u n x\n  0 < n\n\ngoal (1 subgoal):\n 1. 0 \\<le> - u n x / real n", "by auto"], ["proof (state)\nthis:\n  0 \\<le> - u n x / real n\n\ngoal (1 subgoal):\n 1. \\<not> 0 < n \\<Longrightarrow> 0 \\<le> - u n x / real n", "qed (auto)"], ["proof (state)\nthis:\n  0 \\<le> - u ?n3 ?x3 / real ?n3\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "{"], ["proof (state)\nthis:\n  0 \\<le> - u ?n3 ?x3 / real ?n3\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "fix x"], ["proof (state)\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "assume *: \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\""], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have H: \"(\\<lambda>n. - u n x / n) \\<longlonglongrightarrow> - subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (- u xa x / real xa))\n    \\<longlonglongrightarrow> - subcocycle_lim_ereal u x", "using tendsto_cmult_ereal[OF _ *, of \"-1\"]"], ["proof (prove)\nusing this:\n  \\<bar>- 1\\<bar> \\<noteq> \\<infinity> \\<Longrightarrow>\n  (\\<lambda>xa. - 1 * ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> - 1 * subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (- u xa x / real xa))\n    \\<longlonglongrightarrow> - subcocycle_lim_ereal u x", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (- u xa x / real xa))\n  \\<longlonglongrightarrow> - subcocycle_lim_ereal u x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"liminf (\\<lambda>n. -u n x / n) = - subcocycle_lim_ereal u x\"\n         \"(\\<lambda>n. - u n x / n) \\<longlonglongrightarrow> - subcocycle_lim_ereal u x\"\n         \"- subcocycle_lim_ereal u x \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. liminf (\\<lambda>xa. ereal (- u xa x / real xa)) =\n    - subcocycle_lim_ereal u x &&&\n    (\\<lambda>xa. ereal (- u xa x / real xa))\n    \\<longlonglongrightarrow> - subcocycle_lim_ereal u x &&&\n    0 \\<le> - subcocycle_lim_ereal u x", "using H"], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (- u xa x / real xa))\n  \\<longlonglongrightarrow> - subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. liminf (\\<lambda>xa. ereal (- u xa x / real xa)) =\n    - subcocycle_lim_ereal u x &&&\n    (\\<lambda>xa. ereal (- u xa x / real xa))\n    \\<longlonglongrightarrow> - subcocycle_lim_ereal u x &&&\n    0 \\<le> - subcocycle_lim_ereal u x", "apply (simp add: tendsto_iff_Liminf_eq_Limsup, simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> - subcocycle_lim_ereal u x", "apply (rule LIMSEQ_le_const[OF H])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>N. \\<forall>n\\<ge>N. 0 \\<le> ereal (- u n x / real n)", "using F_pos"], ["proof (prove)\nusing this:\n  0 \\<le> - u ?n3 ?x3 / real ?n3\n\ngoal (1 subgoal):\n 1. \\<exists>N. \\<forall>n\\<ge>N. 0 \\<le> ereal (- u n x / real n)", "by auto"], ["proof (state)\nthis:\n  liminf (\\<lambda>xa. ereal (- u xa x / real xa)) =\n  - subcocycle_lim_ereal u x\n  (\\<lambda>xa. ereal (- u xa x / real xa))\n  \\<longlonglongrightarrow> - subcocycle_lim_ereal u x\n  0 \\<le> - subcocycle_lim_ereal u x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "}"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (u x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5 \\<Longrightarrow>\n  liminf (\\<lambda>x. ereal (- u x ?x5 / real x)) =\n  - subcocycle_lim_ereal u ?x5\n  (\\<lambda>x. ereal (u x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5 \\<Longrightarrow>\n  (\\<lambda>x. ereal (- u x ?x5 / real x))\n  \\<longlonglongrightarrow> - subcocycle_lim_ereal u ?x5\n  (\\<lambda>x. ereal (u x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5 \\<Longrightarrow>\n  0 \\<le> - subcocycle_lim_ereal u ?x5\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>x. ereal (u x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5 \\<Longrightarrow>\n  liminf (\\<lambda>x. ereal (- u x ?x5 / real x)) =\n  - subcocycle_lim_ereal u ?x5\n  (\\<lambda>x. ereal (u x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5 \\<Longrightarrow>\n  (\\<lambda>x. ereal (- u x ?x5 / real x))\n  \\<longlonglongrightarrow> - subcocycle_lim_ereal u ?x5\n  (\\<lambda>x. ereal (u x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5 \\<Longrightarrow>\n  0 \\<le> - subcocycle_lim_ereal u ?x5", "have AE_1: \"AE x in M. liminf (\\<lambda>n. -u n x / n) = - subcocycle_lim_ereal u x\"\n                  \"AE x in M. (\\<lambda>n. - u n x / n) \\<longlonglongrightarrow> - subcocycle_lim_ereal u x\"\n                  \"AE x in M. - subcocycle_lim_ereal u x \\<ge> 0\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (u x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5 \\<Longrightarrow>\n  liminf (\\<lambda>x. ereal (- u x ?x5 / real x)) =\n  - subcocycle_lim_ereal u ?x5\n  (\\<lambda>x. ereal (u x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5 \\<Longrightarrow>\n  (\\<lambda>x. ereal (- u x ?x5 / real x))\n  \\<longlonglongrightarrow> - subcocycle_lim_ereal u ?x5\n  (\\<lambda>x. ereal (u x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5 \\<Longrightarrow>\n  0 \\<le> - subcocycle_lim_ereal u ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. liminf (\\<lambda>xa. ereal (- u xa x / real xa)) =\n               - subcocycle_lim_ereal u x &&&\n    AE x in M. (\\<lambda>xa. ereal (- u xa x / real xa))\n               \\<longlonglongrightarrow> - subcocycle_lim_ereal u x &&&\n    AE x in M. 0 \\<le> - subcocycle_lim_ereal u x", "using kingman_theorem_AE_nonergodic_ereal[OF assms(1)]"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (u x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5 \\<Longrightarrow>\n  liminf (\\<lambda>x. ereal (- u x ?x5 / real x)) =\n  - subcocycle_lim_ereal u ?x5\n  (\\<lambda>x. ereal (u x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5 \\<Longrightarrow>\n  (\\<lambda>x. ereal (- u x ?x5 / real x))\n  \\<longlonglongrightarrow> - subcocycle_lim_ereal u ?x5\n  (\\<lambda>x. ereal (u x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5 \\<Longrightarrow>\n  0 \\<le> - subcocycle_lim_ereal u ?x5\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. liminf (\\<lambda>xa. ereal (- u xa x / real xa)) =\n               - subcocycle_lim_ereal u x &&&\n    AE x in M. (\\<lambda>xa. ereal (- u xa x / real xa))\n               \\<longlonglongrightarrow> - subcocycle_lim_ereal u x &&&\n    AE x in M. 0 \\<le> - subcocycle_lim_ereal u x", "by auto"], ["proof (state)\nthis:\n  AE x in M. liminf (\\<lambda>xa. ereal (- u xa x / real xa)) =\n             - subcocycle_lim_ereal u x\n  AE x in M. (\\<lambda>xa. ereal (- u xa x / real xa))\n             \\<longlonglongrightarrow> - subcocycle_lim_ereal u x\n  AE x in M. 0 \\<le> - subcocycle_lim_ereal u x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"(\\<integral>\\<^sup>+ x. -subcocycle_lim_ereal u x \\<partial>M) = (\\<integral>\\<^sup>+ x. liminf (\\<lambda>n. -u n x / n) \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x)\n                       \\<partial>M =\n    \\<integral>\\<^sup>+ x. e2ennreal\n                            (liminf\n                              (\\<lambda>xa. ereal (- u xa x / real xa)))\n                       \\<partial>M", "apply (rule nn_integral_cong_AE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. e2ennreal (- subcocycle_lim_ereal u x) =\n               e2ennreal (liminf (\\<lambda>xa. ereal (- u xa x / real xa)))", "using AE_1(1)"], ["proof (prove)\nusing this:\n  AE x in M. liminf (\\<lambda>xa. ereal (- u xa x / real xa)) =\n             - subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. e2ennreal (- subcocycle_lim_ereal u x) =\n               e2ennreal (liminf (\\<lambda>xa. ereal (- u xa x / real xa)))", "by auto"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x)\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. e2ennreal\n                          (liminf (\\<lambda>xa. ereal (- u xa x / real xa)))\n                     \\<partial>M\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x)\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. e2ennreal\n                          (liminf (\\<lambda>xa. ereal (- u xa x / real xa)))\n                     \\<partial>M\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"... \\<le> liminf (\\<lambda>n. \\<integral>\\<^sup>+ x. -u n x / n \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. e2ennreal\n                            (liminf\n                              (\\<lambda>xa. ereal (- u xa x / real xa)))\n                       \\<partial>M\n    \\<le> liminf\n           (\\<lambda>n.\n               \\<integral>\\<^sup>+ x. ennreal (- u n x / real n)\n                                  \\<partial>M)", "apply (subst e2ennreal_Liminf)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x. sequentially \\<noteq> \\<bottom>\n 2. \\<integral>\\<^sup>+ x. liminf\n                            (\\<lambda>n.\n                                e2ennreal (ereal (- u n x / real n)))\n                       \\<partial>M\n    \\<le> liminf\n           (\\<lambda>n.\n               \\<integral>\\<^sup>+ x. ennreal (- u n x / real n)\n                                  \\<partial>M)", "apply (simp_all add: e2ennreal_ereal)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. liminf (\\<lambda>n. ennreal (- (u n x / real n)))\n                       \\<partial>M\n    \\<le> liminf\n           (\\<lambda>n.\n               \\<integral>\\<^sup>+ x. ennreal (- (u n x / real n))\n                                  \\<partial>M)", "using F_pos"], ["proof (prove)\nusing this:\n  0 \\<le> - u ?n3 ?x3 / real ?n3\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. liminf (\\<lambda>n. ennreal (- (u n x / real n)))\n                       \\<partial>M\n    \\<le> liminf\n           (\\<lambda>n.\n               \\<integral>\\<^sup>+ x. ennreal (- (u n x / real n))\n                                  \\<partial>M)", "by (intro nn_integral_liminf) (simp add: int_F)"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. e2ennreal\n                          (liminf (\\<lambda>xa. ereal (- u xa x / real xa)))\n                     \\<partial>M\n  \\<le> liminf\n         (\\<lambda>n.\n             \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. e2ennreal\n                          (liminf (\\<lambda>xa. ereal (- u xa x / real xa)))\n                     \\<partial>M\n  \\<le> liminf\n         (\\<lambda>n.\n             \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"... = - subcocycle_avg_ereal u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M) =\n    e2ennreal (- subcocycle_avg_ereal u)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M) =\n    e2ennreal (- subcocycle_avg_ereal u)", "have \"(\\<lambda>n. (\\<integral>x. u n x / n \\<partial>M)) \\<longlonglongrightarrow> subcocycle_avg_ereal u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal u", "by (rule subcocycle_int_tendsto_avg_ereal[OF assms(1)])"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M) =\n    e2ennreal (- subcocycle_avg_ereal u)", "with tendsto_cmult_ereal[OF _ this, of \"-1\"]"], ["proof (chain)\npicking this:\n  \\<bar>- 1\\<bar> \\<noteq> \\<infinity> \\<Longrightarrow>\n  (\\<lambda>x. - 1 * ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> - 1 * subcocycle_avg_ereal u\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u", "have \"(\\<lambda>n. (\\<integral>x. - u n x / n \\<partial>M)) \\<longlonglongrightarrow> - subcocycle_avg_ereal u\""], ["proof (prove)\nusing this:\n  \\<bar>- 1\\<bar> \\<noteq> \\<infinity> \\<Longrightarrow>\n  (\\<lambda>x. - 1 * ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> - 1 * subcocycle_avg_ereal u\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. - u x xa / real x))\n    \\<longlonglongrightarrow> - subcocycle_avg_ereal u", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. - u x xa / real x))\n  \\<longlonglongrightarrow> - subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M) =\n    e2ennreal (- subcocycle_avg_ereal u)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>x. ereal (LINT xa|M. - u x xa / real x))\n  \\<longlonglongrightarrow> - subcocycle_avg_ereal u", "have \"- subcocycle_avg_ereal u = liminf (\\<lambda>n. (\\<integral>x. - u n x / n \\<partial>M))\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. - u x xa / real x))\n  \\<longlonglongrightarrow> - subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. - subcocycle_avg_ereal u =\n    liminf (\\<lambda>x. ereal (LINT xa|M. - u x xa / real x))", "by (simp add: tendsto_iff_Liminf_eq_Limsup)"], ["proof (state)\nthis:\n  - subcocycle_avg_ereal u =\n  liminf (\\<lambda>x. ereal (LINT xa|M. - u x xa / real x))\n\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M) =\n    e2ennreal (- subcocycle_avg_ereal u)", "moreover"], ["proof (state)\nthis:\n  - subcocycle_avg_ereal u =\n  liminf (\\<lambda>x. ereal (LINT xa|M. - u x xa / real x))\n\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M) =\n    e2ennreal (- subcocycle_avg_ereal u)", "have \"(\\<integral>\\<^sup>+ x. ennreal (-u n x / n) \\<partial>M) = ennreal(\\<integral>x. - u n x / n \\<partial>M)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M =\n    ennreal (LINT x|M. - u n x / real n)", "apply (rule nn_integral_eq_integral[OF int_F])"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. 0 \\<le> - u n x / real n", "using F_pos"], ["proof (prove)\nusing this:\n  0 \\<le> - u ?n3 ?x3 / real ?n3\n\ngoal (1 subgoal):\n 1. AE x in M. 0 \\<le> - u n x / real n", "by auto"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal (- u ?n3 x / real ?n3) \\<partial>M =\n  ennreal (LINT x|M. - u ?n3 x / real ?n3)\n\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M) =\n    e2ennreal (- subcocycle_avg_ereal u)", "ultimately"], ["proof (chain)\npicking this:\n  - subcocycle_avg_ereal u =\n  liminf (\\<lambda>x. ereal (LINT xa|M. - u x xa / real x))\n  \\<integral>\\<^sup>+ x. ennreal (- u ?n3 x / real ?n3) \\<partial>M =\n  ennreal (LINT x|M. - u ?n3 x / real ?n3)", "show ?thesis"], ["proof (prove)\nusing this:\n  - subcocycle_avg_ereal u =\n  liminf (\\<lambda>x. ereal (LINT xa|M. - u x xa / real x))\n  \\<integral>\\<^sup>+ x. ennreal (- u ?n3 x / real ?n3) \\<partial>M =\n  ennreal (LINT x|M. - u ?n3 x / real ?n3)\n\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M) =\n    e2ennreal (- subcocycle_avg_ereal u)", "by (auto simp: e2ennreal_Liminf e2ennreal_ereal)"], ["proof (state)\nthis:\n  liminf\n   (\\<lambda>n.\n       \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M) =\n  e2ennreal (- subcocycle_avg_ereal u)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  liminf\n   (\\<lambda>n.\n       \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M) =\n  e2ennreal (- subcocycle_avg_ereal u)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "finally"], ["proof (chain)\npicking this:\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x) \\<partial>M\n  \\<le> e2ennreal (- subcocycle_avg_ereal u)", "have \"(\\<integral>\\<^sup>+ x. -subcocycle_lim_ereal u x \\<partial>M) \\<le> - subcocycle_avg_ereal u\""], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x) \\<partial>M\n  \\<le> e2ennreal (- subcocycle_avg_ereal u)\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x)\n                       \\<partial>M\n    \\<le> e2ennreal (- subcocycle_avg_ereal u)", "by simp"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x) \\<partial>M\n  \\<le> e2ennreal (- subcocycle_avg_ereal u)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x) \\<partial>M\n  \\<le> e2ennreal (- subcocycle_avg_ereal u)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"\\<dots> < \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e2ennreal (- subcocycle_avg_ereal u) < \\<infinity>", "using assms(2)"], ["proof (prove)\nusing this:\n  - \\<infinity> < subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. e2ennreal (- subcocycle_avg_ereal u) < \\<infinity>", "by (cases \"subcocycle_avg_ereal u\") (auto simp: e2ennreal_ereal e2ennreal_neg)"], ["proof (state)\nthis:\n  e2ennreal (- subcocycle_avg_ereal u) < \\<infinity>\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "finally"], ["proof (chain)\npicking this:\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x) \\<partial>M\n  < \\<infinity>", "have *: \"(\\<integral>\\<^sup>+ x. -subcocycle_lim_ereal u x \\<partial>M) < \\<infinity>\""], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x) \\<partial>M\n  < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x)\n                       \\<partial>M\n    < \\<infinity>", "."], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x) \\<partial>M\n  < \\<infinity>\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. e2ennreal (- subcocycle_lim_ereal u x) \\<noteq> \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. e2ennreal (- subcocycle_lim_ereal u x) \\<noteq> \\<infinity>", "apply (rule nn_integral_PInf_AE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (\\<lambda>x. e2ennreal (- subcocycle_lim_ereal u x))\n    \\<in> borel_measurable M\n 2. \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x)\n                       \\<partial>M \\<noteq>\n    \\<infinity>", "using *"], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x) \\<partial>M\n  < \\<infinity>\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. e2ennreal (- subcocycle_lim_ereal u x))\n    \\<in> borel_measurable M\n 2. \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x)\n                       \\<partial>M \\<noteq>\n    \\<infinity>", "by auto"], ["proof (state)\nthis:\n  AE x in M. e2ennreal (- subcocycle_lim_ereal u x) \\<noteq> \\<infinity>\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  AE x in M. e2ennreal (- subcocycle_lim_ereal u x) \\<noteq> \\<infinity>", "have **: \"AE x in M. - subcocycle_lim_ereal u x \\<noteq> \\<infinity>\""], ["proof (prove)\nusing this:\n  AE x in M. e2ennreal (- subcocycle_lim_ereal u x) \\<noteq> \\<infinity>\n\ngoal (1 subgoal):\n 1. AE x in M. - subcocycle_lim_ereal u x \\<noteq> \\<infinity>", "using AE_1(3)"], ["proof (prove)\nusing this:\n  AE x in M. e2ennreal (- subcocycle_lim_ereal u x) \\<noteq> \\<infinity>\n  AE x in M. 0 \\<le> - subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. - subcocycle_lim_ereal u x \\<noteq> \\<infinity>", "by eventually_elim simp"], ["proof (state)\nthis:\n  AE x in M. - subcocycle_lim_ereal u x \\<noteq> \\<infinity>\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "{"], ["proof (state)\nthis:\n  AE x in M. - subcocycle_lim_ereal u x \\<noteq> \\<infinity>\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "fix x"], ["proof (state)\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "assume H: \"- subcocycle_lim_ereal u x \\<noteq> \\<infinity>\"\n                    \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\"\n                    \"- subcocycle_lim_ereal u x \\<ge> 0\""], ["proof (state)\nthis:\n  - subcocycle_lim_ereal u x \\<noteq> \\<infinity>\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  0 \\<le> - subcocycle_lim_ereal u x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  - subcocycle_lim_ereal u x \\<noteq> \\<infinity>\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  0 \\<le> - subcocycle_lim_ereal u x", "have 1: \"abs(subcocycle_lim_ereal u x) \\<noteq> \\<infinity>\""], ["proof (prove)\nusing this:\n  - subcocycle_lim_ereal u x \\<noteq> \\<infinity>\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  0 \\<le> - subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>", "by auto"], ["proof (state)\nthis:\n  \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>", "have 2: \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\""], ["proof (prove)\nusing this:\n  \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n x / real n)\n    \\<longlonglongrightarrow> subcocycle_lim u x", "using H(2)"], ["proof (prove)\nusing this:\n  \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n x / real n)\n    \\<longlonglongrightarrow> subcocycle_lim u x", "unfolding subcocycle_lim_def"], ["proof (prove)\nusing this:\n  \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n x / real n)\n    \\<longlonglongrightarrow> real_of_ereal (subcocycle_lim_ereal u x)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. u n x / real n) \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. u n x / real n) \\<longlonglongrightarrow> subcocycle_lim u x", "have 3: \"(\\<lambda>n. - (u n x / n)) \\<longlonglongrightarrow> - subcocycle_lim u x\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. u n x / real n) \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. - (u n x / real n))\n    \\<longlonglongrightarrow> - subcocycle_lim u x", "using tendsto_mult[OF _ 2, of \"\\<lambda>_. -1\", of \"-1\"]"], ["proof (prove)\nusing this:\n  (\\<lambda>n. u n x / real n) \\<longlonglongrightarrow> subcocycle_lim u x\n  (\\<lambda>_. - 1) \\<longlonglongrightarrow> - 1 \\<Longrightarrow>\n  (\\<lambda>xa. - 1 * (u xa x / real xa))\n  \\<longlonglongrightarrow> - 1 * subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. - (u n x / real n))\n    \\<longlonglongrightarrow> - subcocycle_lim u x", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. - (u n x / real n))\n  \\<longlonglongrightarrow> - subcocycle_lim u x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have 4: \"-subcocycle_lim u x \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> - subcocycle_lim u x", "using H(3)"], ["proof (prove)\nusing this:\n  0 \\<le> - subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. 0 \\<le> - subcocycle_lim u x", "unfolding subcocycle_lim_def"], ["proof (prove)\nusing this:\n  0 \\<le> - subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. 0 \\<le> - real_of_ereal (subcocycle_lim_ereal u x)", "by auto"], ["proof (state)\nthis:\n  0 \\<le> - subcocycle_lim u x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"abs(subcocycle_lim_ereal u x) \\<noteq> \\<infinity>\"\n         \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\"\n         \"(\\<lambda>n. - (u n x / n)) \\<longlonglongrightarrow> - subcocycle_lim u x\"\n         \"-subcocycle_lim u x \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity> &&&\n     (\\<lambda>n. u n x / real n)\n     \\<longlonglongrightarrow> subcocycle_lim u x) &&&\n    (\\<lambda>n. - (u n x / real n))\n    \\<longlonglongrightarrow> - subcocycle_lim u x &&&\n    0 \\<le> - subcocycle_lim u x", "using 1 2 3 4"], ["proof (prove)\nusing this:\n  \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>\n  (\\<lambda>n. u n x / real n) \\<longlonglongrightarrow> subcocycle_lim u x\n  (\\<lambda>n. - (u n x / real n))\n  \\<longlonglongrightarrow> - subcocycle_lim u x\n  0 \\<le> - subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. (\\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity> &&&\n     (\\<lambda>n. u n x / real n)\n     \\<longlonglongrightarrow> subcocycle_lim u x) &&&\n    (\\<lambda>n. - (u n x / real n))\n    \\<longlonglongrightarrow> - subcocycle_lim u x &&&\n    0 \\<le> - subcocycle_lim u x", "by auto"], ["proof (state)\nthis:\n  \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>\n  (\\<lambda>n. u n x / real n) \\<longlonglongrightarrow> subcocycle_lim u x\n  (\\<lambda>n. - (u n x / real n))\n  \\<longlonglongrightarrow> - subcocycle_lim u x\n  0 \\<le> - subcocycle_lim u x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "}"], ["proof (state)\nthis:\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> \\<bar>subcocycle_lim_ereal u ?x5\\<bar> \\<noteq>\n                    \\<infinity>\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. u n ?x5 / real n)\n                    \\<longlonglongrightarrow> subcocycle_lim u ?x5\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. - (u n ?x5 / real n))\n                    \\<longlonglongrightarrow> - subcocycle_lim u ?x5\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> - subcocycle_lim u ?x5\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> \\<bar>subcocycle_lim_ereal u ?x5\\<bar> \\<noteq>\n                    \\<infinity>\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. u n ?x5 / real n)\n                    \\<longlonglongrightarrow> subcocycle_lim u ?x5\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. - (u n ?x5 / real n))\n                    \\<longlonglongrightarrow> - subcocycle_lim u ?x5\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> - subcocycle_lim u ?x5", "have AE_2: \"AE x in M. abs(subcocycle_lim_ereal u x) \\<noteq> \\<infinity>\"\n                  \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\"\n                  \"AE x in M. (\\<lambda>n. - (u n x / n)) \\<longlonglongrightarrow> - subcocycle_lim u x\"\n                  \"AE x in M. -subcocycle_lim u x \\<ge> 0\""], ["proof (prove)\nusing this:\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> \\<bar>subcocycle_lim_ereal u ?x5\\<bar> \\<noteq>\n                    \\<infinity>\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. u n ?x5 / real n)\n                    \\<longlonglongrightarrow> subcocycle_lim u ?x5\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. - (u n ?x5 / real n))\n                    \\<longlonglongrightarrow> - subcocycle_lim u ?x5\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> - subcocycle_lim u ?x5\n\ngoal (1 subgoal):\n 1. (AE x in M. \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq>\n                \\<infinity> &&&\n     AE x in M. (\\<lambda>n. u n x / real n)\n                \\<longlonglongrightarrow> subcocycle_lim u x) &&&\n    AE x in M. (\\<lambda>n. - (u n x / real n))\n               \\<longlonglongrightarrow> - subcocycle_lim u x &&&\n    AE x in M. 0 \\<le> - subcocycle_lim u x", "using kingman_theorem_AE_nonergodic_ereal[OF assms(1)] ** AE_1(3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> \\<bar>subcocycle_lim_ereal u ?x5\\<bar> \\<noteq>\n                    \\<infinity>\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. u n ?x5 / real n)\n                    \\<longlonglongrightarrow> subcocycle_lim u ?x5\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. - (u n ?x5 / real n))\n                    \\<longlonglongrightarrow> - subcocycle_lim u ?x5\n  \\<lbrakk>- subcocycle_lim_ereal u ?x5 \\<noteq> \\<infinity>;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   0 \\<le> - subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> - subcocycle_lim u ?x5\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  AE x in M. - subcocycle_lim_ereal u x \\<noteq> \\<infinity>\n  AE x in M. 0 \\<le> - subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. (AE x in M. \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq>\n                \\<infinity> &&&\n     AE x in M. (\\<lambda>n. u n x / real n)\n                \\<longlonglongrightarrow> subcocycle_lim u x) &&&\n    AE x in M. (\\<lambda>n. - (u n x / real n))\n               \\<longlonglongrightarrow> - subcocycle_lim u x &&&\n    AE x in M. 0 \\<le> - subcocycle_lim u x", "by auto"], ["proof (state)\nthis:\n  AE x in M. \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  AE x in M. (\\<lambda>n. - (u n x / real n))\n             \\<longlonglongrightarrow> - subcocycle_lim u x\n  AE x in M. 0 \\<le> - subcocycle_lim u x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  AE x in M. \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  AE x in M. (\\<lambda>n. - (u n x / real n))\n             \\<longlonglongrightarrow> - subcocycle_lim u x\n  AE x in M. 0 \\<le> - subcocycle_lim u x", "show \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\""], ["proof (prove)\nusing this:\n  AE x in M. \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  AE x in M. (\\<lambda>n. - (u n x / real n))\n             \\<longlonglongrightarrow> - subcocycle_lim u x\n  AE x in M. 0 \\<le> - subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x", "by simp"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (2 subgoals):\n 1. integrable M (subcocycle_lim u)\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"(\\<integral>\\<^sup>+x. abs(subcocycle_lim u x) \\<partial>M) = (\\<integral>\\<^sup>+x. -subcocycle_lim_ereal u x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                       \\<partial>M =\n    \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x)\n                       \\<partial>M", "apply (rule nn_integral_cong_AE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. ennreal \\<bar>subcocycle_lim u x\\<bar> =\n               e2ennreal (- subcocycle_lim_ereal u x)", "using AE_2"], ["proof (prove)\nusing this:\n  AE x in M. \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  AE x in M. (\\<lambda>n. - (u n x / real n))\n             \\<longlonglongrightarrow> - subcocycle_lim u x\n  AE x in M. 0 \\<le> - subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. ennreal \\<bar>subcocycle_lim u x\\<bar> =\n               e2ennreal (- subcocycle_lim_ereal u x)", "unfolding subcocycle_lim_def abs_real_of_ereal"], ["proof (prove)\nusing this:\n  AE x in M. \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> real_of_ereal\n  (subcocycle_lim_ereal u x)\n  AE x in M. (\\<lambda>n. - (u n x / real n))\n             \\<longlonglongrightarrow> - real_of_ereal\n    (subcocycle_lim_ereal u x)\n  AE x in M. 0 \\<le> - real_of_ereal (subcocycle_lim_ereal u x)\n\ngoal (1 subgoal):\n 1. AE x in M. ennreal\n                (real_of_ereal \\<bar>subcocycle_lim_ereal u x\\<bar>) =\n               e2ennreal (- subcocycle_lim_ereal u x)", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>;\n        (\\<lambda>n. u n x / real n)\n        \\<longlonglongrightarrow> real_of_ereal (subcocycle_lim_ereal u x);\n        (\\<lambda>n. - (u n x / real n))\n        \\<longlonglongrightarrow> - real_of_ereal\n                                     (subcocycle_lim_ereal u x);\n        0 \\<le> - real_of_ereal (subcocycle_lim_ereal u x)\\<rbrakk>\n       \\<Longrightarrow> ennreal\n                          (real_of_ereal\n                            \\<bar>subcocycle_lim_ereal u x\\<bar>) =\n                         e2ennreal (- subcocycle_lim_ereal u x)", "by (auto simp: e2ennreal_ereal)"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x) \\<partial>M\n\ngoal (2 subgoals):\n 1. integrable M (subcocycle_lim u)\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x) \\<partial>M", "have A: \"(\\<integral>\\<^sup>+x. abs(subcocycle_lim u x) \\<partial>M) < \\<infinity>\""], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x) \\<partial>M\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                       \\<partial>M\n    < \\<infinity>", "using *"], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x) \\<partial>M\n  \\<integral>\\<^sup>+ x. e2ennreal (- subcocycle_lim_ereal u x) \\<partial>M\n  < \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                       \\<partial>M\n    < \\<infinity>", "by auto"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar> \\<partial>M\n  < \\<infinity>\n\ngoal (2 subgoals):\n 1. integrable M (subcocycle_lim u)\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "show int_Gr: \"integrable M (subcocycle_lim u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (subcocycle_lim u)", "apply (rule integrableI_bounded)"], ["proof (prove)\ngoal (2 subgoals):\n 1. subcocycle_lim u \\<in> borel_measurable M\n 2. \\<integral>\\<^sup>+ x. ennreal (norm (subcocycle_lim u x)) \\<partial>M\n    < \\<infinity>", "using A"], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar> \\<partial>M\n  < \\<infinity>\n\ngoal (2 subgoals):\n 1. subcocycle_lim u \\<in> borel_measurable M\n 2. \\<integral>\\<^sup>+ x. ennreal (norm (subcocycle_lim u x)) \\<partial>M\n    < \\<infinity>", "by auto"], ["proof (state)\nthis:\n  integrable M (subcocycle_lim u)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have B: \"(\\<lambda>n. (\\<integral>\\<^sup>+ x. norm((- u n x /n) - (-subcocycle_lim u x)) \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                (norm\n                                  (- u n x / real n - - subcocycle_lim u x))\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "proof (rule Scheffe_lemma1, auto simp add: int_Gr int_u AE_2(2) AE_2(3))"], ["proof (state)\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "assume \"n>(0::nat)\""], ["proof (state)\nthis:\n  0 < n\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "have *: \"AE x in M. subcocycle_lim u x \\<le> real_cond_exp M Invariants (\\<lambda>x. u n x / n) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim u x\n               \\<le> real_cond_exp M Invariants (\\<lambda>x. u n x / real n)\n                      x", "using subcocycle_lim_ereal_atmost_uN_invariants[OF assms(1) \\<open>n>0\\<close>] AE_2(1)"], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> ereal\n                    (real_cond_exp M Invariants (\\<lambda>x. u n x / real n)\n                      x)\n  AE x in M. \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim u x\n               \\<le> real_cond_exp M Invariants (\\<lambda>x. u n x / real n)\n                      x", "unfolding subcocycle_lim_def"], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> ereal\n                    (real_cond_exp M Invariants (\\<lambda>x. u n x / real n)\n                      x)\n  AE x in M. \\<bar>subcocycle_lim_ereal u x\\<bar> \\<noteq> \\<infinity>\n\ngoal (1 subgoal):\n 1. AE x in M. real_of_ereal (subcocycle_lim_ereal u x)\n               \\<le> real_cond_exp M Invariants (\\<lambda>x. u n x / real n)\n                      x", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim u x\n             \\<le> real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "have \"(\\<integral>x. subcocycle_lim u x \\<partial>M) \\<le> (\\<integral>x. real_cond_exp M Invariants (\\<lambda>x. u n x / n) x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (subcocycle_lim u)\n    \\<le> integral\\<^sup>L M\n           (real_cond_exp M Invariants (\\<lambda>x. u n x / real n))", "apply (rule integral_mono_AE[OF int_Gr _ *], rule real_cond_exp_int(1))"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u n x / real n)", "using int_u"], ["proof (prove)\nusing this:\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u n x / real n)", "by auto"], ["proof (state)\nthis:\n  integral\\<^sup>L M (subcocycle_lim u)\n  \\<le> integral\\<^sup>L M\n         (real_cond_exp M Invariants (\\<lambda>x. u n x / real n))\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "also"], ["proof (state)\nthis:\n  integral\\<^sup>L M (subcocycle_lim u)\n  \\<le> integral\\<^sup>L M\n         (real_cond_exp M Invariants (\\<lambda>x. u n x / real n))\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "have \"... = (\\<integral>x. u n x / n \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L M\n     (real_cond_exp M Invariants (\\<lambda>x. u n x / real n)) =\n    LINT x|M. u n x / real n", "apply (rule real_cond_exp_int(2))"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u n x / real n)", "using int_u"], ["proof (prove)\nusing this:\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u n x / real n)", "by auto"], ["proof (state)\nthis:\n  integral\\<^sup>L M\n   (real_cond_exp M Invariants (\\<lambda>x. u n x / real n)) =\n  LINT x|M. u n x / real n\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "finally"], ["proof (chain)\npicking this:\n  integral\\<^sup>L M (subcocycle_lim u) \\<le> LINT x|M. u n x / real n", "have A: \"(\\<integral>x. subcocycle_lim u x \\<partial>M) \\<le> (\\<integral>x. u n x / n \\<partial>M)\""], ["proof (prove)\nusing this:\n  integral\\<^sup>L M (subcocycle_lim u) \\<le> LINT x|M. u n x / real n\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (subcocycle_lim u) \\<le> LINT x|M. u n x / real n", "by auto"], ["proof (state)\nthis:\n  integral\\<^sup>L M (subcocycle_lim u) \\<le> LINT x|M. u n x / real n\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "have \"(\\<integral>\\<^sup>+x. abs(u n x) / n \\<partial>M) = (\\<integral>\\<^sup>+x. - u n x / n \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                       \\<partial>M =\n    \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M", "apply (rule nn_integral_cong)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> space M \\<Longrightarrow>\n       ennreal (\\<bar>u n x\\<bar> / real n) = ennreal (- u n x / real n)", "using F_pos abs_of_nonneg"], ["proof (prove)\nusing this:\n  0 \\<le> - u ?n3 ?x3 / real ?n3\n  (0::?'a) \\<le> ?a \\<Longrightarrow> \\<bar>?a\\<bar> = ?a\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> space M \\<Longrightarrow>\n       ennreal (\\<bar>u n x\\<bar> / real n) = ennreal (- u n x / real n)", "by (intro arg_cong[where f = ennreal]) fastforce"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n) \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n) \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "have \"... = (\\<integral>x. - u n x / n \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M =\n    ennreal (LINT x|M. - u n x / real n)", "apply (rule nn_integral_eq_integral)"], ["proof (prove)\ngoal (2 subgoals):\n 1. integrable M (\\<lambda>x. - u n x / real n)\n 2. AE x in M. 0 \\<le> - u n x / real n", "using F_pos int_F"], ["proof (prove)\nusing this:\n  0 \\<le> - u ?n3 ?x3 / real ?n3\n  integrable M (\\<lambda>x. - u ?n3 x / real ?n3)\n\ngoal (2 subgoals):\n 1. integrable M (\\<lambda>x. - u n x / real n)\n 2. AE x in M. 0 \\<le> - u n x / real n", "by auto"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M =\n  ennreal (LINT x|M. - u n x / real n)\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal (- u n x / real n) \\<partial>M =\n  ennreal (LINT x|M. - u n x / real n)\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "have \"... \\<le> (\\<integral>x. - subcocycle_lim u x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ennreal (LINT x|M. - u n x / real n)\n    \\<le> ennreal (LINT x|M. - subcocycle_lim u x)", "using A"], ["proof (prove)\nusing this:\n  integral\\<^sup>L M (subcocycle_lim u) \\<le> LINT x|M. u n x / real n\n\ngoal (1 subgoal):\n 1. ennreal (LINT x|M. - u n x / real n)\n    \\<le> ennreal (LINT x|M. - subcocycle_lim u x)", "by (auto intro!: ennreal_leI)"], ["proof (state)\nthis:\n  ennreal (LINT x|M. - u n x / real n)\n  \\<le> ennreal (LINT x|M. - subcocycle_lim u x)\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "also"], ["proof (state)\nthis:\n  ennreal (LINT x|M. - u n x / real n)\n  \\<le> ennreal (LINT x|M. - subcocycle_lim u x)\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "have \"... = (\\<integral>\\<^sup>+x. - subcocycle_lim u x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ennreal (LINT x|M. - subcocycle_lim u x) =\n    \\<integral>\\<^sup>+ x. ennreal (- subcocycle_lim u x) \\<partial>M", "apply (rule nn_integral_eq_integral[symmetric])"], ["proof (prove)\ngoal (2 subgoals):\n 1. integrable M (\\<lambda>x. - subcocycle_lim u x)\n 2. AE x in M. 0 \\<le> - subcocycle_lim u x", "using int_Gr AE_2(4)"], ["proof (prove)\nusing this:\n  integrable M (subcocycle_lim u)\n  AE x in M. 0 \\<le> - subcocycle_lim u x\n\ngoal (2 subgoals):\n 1. integrable M (\\<lambda>x. - subcocycle_lim u x)\n 2. AE x in M. 0 \\<le> - subcocycle_lim u x", "by auto"], ["proof (state)\nthis:\n  ennreal (LINT x|M. - subcocycle_lim u x) =\n  \\<integral>\\<^sup>+ x. ennreal (- subcocycle_lim u x) \\<partial>M\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "also"], ["proof (state)\nthis:\n  ennreal (LINT x|M. - subcocycle_lim u x) =\n  \\<integral>\\<^sup>+ x. ennreal (- subcocycle_lim u x) \\<partial>M\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "have \"... = (\\<integral>\\<^sup>+x. abs(subcocycle_lim u x) \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal (- subcocycle_lim u x) \\<partial>M =\n    \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                       \\<partial>M", "apply (rule nn_integral_cong_AE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. ennreal (- subcocycle_lim u x) =\n               ennreal \\<bar>subcocycle_lim u x\\<bar>", "using AE_2(4)"], ["proof (prove)\nusing this:\n  AE x in M. 0 \\<le> - subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. ennreal (- subcocycle_lim u x) =\n               ennreal \\<bar>subcocycle_lim u x\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal (- subcocycle_lim u x) \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar> \\<partial>M\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "finally"], ["proof (chain)\npicking this:\n  \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n) \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                           \\<partial>M", "have \"(\\<integral>\\<^sup>+x. abs(u n x) / n \\<partial>M) \\<le> (\\<integral>\\<^sup>+x. abs(subcocycle_lim u x) \\<partial>M)\""], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n) \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                           \\<partial>M\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n) \\<partial>M\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "by simp"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n) \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                           \\<partial>M\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "}"], ["proof (state)\nthis:\n  0 < ?n5 \\<Longrightarrow>\n  \\<integral>\\<^sup>+ x. ennreal (\\<bar>u ?n5 x\\<bar> / real ?n5)\n                     \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                           \\<partial>M\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "with eventually_mono[OF eventually_gt_at_top[of 0] this]"], ["proof (chain)\npicking this:\n  (\\<And>x. (0::?'b10) < x \\<Longrightarrow> 0 < ?n6 x) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in at_top.\n     \\<integral>\\<^sup>+ xa. ennreal\n                              (\\<bar>u (?n6 x) xa\\<bar> / real (?n6 x))\n                        \\<partial>M\n     \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                              \\<partial>M\n  0 < ?n5 \\<Longrightarrow>\n  \\<integral>\\<^sup>+ x. ennreal (\\<bar>u ?n5 x\\<bar> / real ?n5)\n                     \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                           \\<partial>M", "have \"eventually (\\<lambda>n. (\\<integral>\\<^sup>+x. abs(u n x) / n \\<partial>M) \\<le> (\\<integral>\\<^sup>+x. abs(subcocycle_lim u x) \\<partial>M)) sequentially\""], ["proof (prove)\nusing this:\n  (\\<And>x. (0::?'b10) < x \\<Longrightarrow> 0 < ?n6 x) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in at_top.\n     \\<integral>\\<^sup>+ xa. ennreal\n                              (\\<bar>u (?n6 x) xa\\<bar> / real (?n6 x))\n                        \\<partial>M\n     \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                              \\<partial>M\n  0 < ?n5 \\<Longrightarrow>\n  \\<integral>\\<^sup>+ x. ennreal (\\<bar>u ?n5 x\\<bar> / real ?n5)\n                     \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                           \\<partial>M\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                          \\<partial>M\n       \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                                \\<partial>M", "by fastforce"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n) \\<partial>M\n     \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                              \\<partial>M\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n) \\<partial>M\n     \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                              \\<partial>M", "show \"limsup (\\<lambda>n. \\<integral>\\<^sup>+ x. abs(u n x) / n \\<partial>M) \\<le> \\<integral>\\<^sup>+ x. abs(subcocycle_lim u x) \\<partial>M\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n) \\<partial>M\n     \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                              \\<partial>M\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "using Limsup_bounded"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n) \\<partial>M\n     \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                              \\<partial>M\n  \\<forall>\\<^sub>F n in ?F. ?X n \\<le> ?C \\<Longrightarrow>\n  Limsup ?F ?X \\<le> ?C\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>n.\n         \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                            \\<partial>M)\n    \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                             \\<partial>M", "by fastforce"], ["proof (state)\nthis:\n  limsup\n   (\\<lambda>n.\n       \\<integral>\\<^sup>+ x. ennreal (\\<bar>u n x\\<bar> / real n)\n                          \\<partial>M)\n  \\<le> \\<integral>\\<^sup>+ x. ennreal \\<bar>subcocycle_lim u x\\<bar>\n                           \\<partial>M\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              (norm\n                                (- u n x / real n - - subcocycle_lim u x))\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              (norm\n                                (- u n x / real n - - subcocycle_lim u x))\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"norm((- u n x /n) - (-subcocycle_lim u x)) = abs(u n x / n - subcocycle_lim u x)\"\n    for n x"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (- u n x / real n - - subcocycle_lim u x) =\n    \\<bar>u n x / real n - subcocycle_lim u x\\<bar>", "by auto"], ["proof (state)\nthis:\n  norm (- u ?n3 ?x3 / real ?n3 - - subcocycle_lim u ?x3) =\n  \\<bar>u ?n3 ?x3 / real ?n3 - subcocycle_lim u ?x3\\<bar>\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              (norm\n                                (- u n x / real n - - subcocycle_lim u x))\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n  norm (- u ?n3 ?x3 / real ?n3 - - subcocycle_lim u ?x3) =\n  \\<bar>u ?n3 ?x3 / real ?n3 - subcocycle_lim u ?x3\\<bar>", "show \"(\\<lambda>n. \\<integral>\\<^sup>+ x. ennreal \\<bar>u n x / real n - subcocycle_lim u x\\<bar> \\<partial>M) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              (norm\n                                (- u n x / real n - - subcocycle_lim u x))\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n  norm (- u ?n3 ?x3 / real ?n3 - - subcocycle_lim u ?x3) =\n  \\<bar>u ?n3 ?x3 / real ?n3 - subcocycle_lim u ?x3\\<bar>\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>u n x / real n -\n                                    subcocycle_lim u x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>We can then remove the nonpositivity assumption, by subtracting the Birkhoff sums of $u_1$\nto a general subcocycle $u$.\\<close>"], ["", "theorem kingman_theorem_nonergodic:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\"\n  shows \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\"\n        \"integrable M (subcocycle_lim u)\"\n        \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(u n x / n - subcocycle_lim u x) \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x &&&\n    integrable M (subcocycle_lim u) &&&\n    (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "proof -"], ["proof (state)\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have [measurable]: \"u n \\<in> borel_measurable M\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. u n \\<in> borel_measurable M", "using assms(1)"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. u n \\<in> borel_measurable M", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n\ngoal (1 subgoal):\n 1. u n \\<in> borel_measurable M", "by auto"], ["proof (state)\nthis:\n  u ?n3 \\<in> borel_measurable M\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have int_u [measurable]: \"integrable M (u 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (u 1)", "using assms(1) subcocycle_def"], ["proof (prove)\nusing this:\n  subcocycle u\n  subcocycle ?u =\n  ((\\<forall>n. integrable M (?u n)) \\<and>\n   (\\<forall>n m x. ?u (n + m) x \\<le> ?u n x + ?u m ((T ^^ n) x)))\n\ngoal (1 subgoal):\n 1. integrable M (u 1)", "by auto"], ["proof (state)\nthis:\n  integrable M (u 1)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "define v where \"v = (\\<lambda>n x. u n x + birkhoff_sum (\\<lambda>x. - u 1 x) n x)\""], ["proof (state)\nthis:\n  v = (\\<lambda>n x. u n x + birkhoff_sum (\\<lambda>x. - u 1 x) n x)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have [measurable]: \"v n \\<in> borel_measurable M\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. v n \\<in> borel_measurable M", "unfolding v_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. u n x + birkhoff_sum (\\<lambda>x. - u 1 x) n x)\n    \\<in> borel_measurable M", "by auto"], ["proof (state)\nthis:\n  v ?n3 \\<in> borel_measurable M\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "define w where \"w = birkhoff_sum (u 1)\""], ["proof (state)\nthis:\n  w = birkhoff_sum (u 1)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have [measurable]: \"w n \\<in> borel_measurable M\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. w n \\<in> borel_measurable M", "unfolding w_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. birkhoff_sum (u 1) n \\<in> borel_measurable M", "by auto"], ["proof (state)\nthis:\n  w ?n3 \\<in> borel_measurable M\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"subcocycle v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle v", "unfolding v_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle\n     (\\<lambda>n x. u n x + birkhoff_sum (\\<lambda>x. - u 1 x) n x)", "apply (rule subcocycle_add[OF assms(1)], rule subcocycle_birkhoff)"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. - u 1 x)", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n  - \\<infinity> < subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. - u 1 x)", "unfolding subcocycle_def"], ["proof (prove)\nusing this:\n  (\\<forall>n. integrable M (u n)) \\<and>\n  (\\<forall>n m x. u (n + m) x \\<le> u n x + u m ((T ^^ n) x))\n  - \\<infinity> < subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. - u 1 x)", "by auto"], ["proof (state)\nthis:\n  subcocycle v\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"subcocycle w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle w", "unfolding w_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle (birkhoff_sum (u 1))", "by (rule subcocycle_birkhoff[OF int_u])"], ["proof (state)\nthis:\n  subcocycle w\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have uvw: \"u n x = v n x + w n x\" for n x"], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x = v n x + w n x", "unfolding v_def w_def birkhoff_sum_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x =\n    u n x + (\\<Sum>i<n. - u 1 ((T ^^ i) x)) + (\\<Sum>i<n. u 1 ((T ^^ i) x))", "by (auto simp add: sum_negf)"], ["proof (state)\nthis:\n  u ?n3 ?x3 = v ?n3 ?x3 + w ?n3 ?x3\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  u ?n3 ?x3 = v ?n3 ?x3 + w ?n3 ?x3", "have \"subcocycle_avg_ereal (\\<lambda>n x. u n x) = subcocycle_avg_ereal v + subcocycle_avg_ereal w\""], ["proof (prove)\nusing this:\n  u ?n3 ?x3 = v ?n3 ?x3 + w ?n3 ?x3\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u = subcocycle_avg_ereal v + subcocycle_avg_ereal w", "using subcocycle_avg_ereal_add[OF \\<open>subcocycle v\\<close> \\<open>subcocycle w\\<close>]"], ["proof (prove)\nusing this:\n  u ?n3 ?x3 = v ?n3 ?x3 + w ?n3 ?x3\n  subcocycle_avg_ereal (\\<lambda>n x. v n x + w n x) =\n  subcocycle_avg_ereal v + subcocycle_avg_ereal w\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u = subcocycle_avg_ereal v + subcocycle_avg_ereal w", "by auto"], ["proof (state)\nthis:\n  subcocycle_avg_ereal u = subcocycle_avg_ereal v + subcocycle_avg_ereal w\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  subcocycle_avg_ereal u = subcocycle_avg_ereal v + subcocycle_avg_ereal w", "have \"subcocycle_avg_ereal u = subcocycle_avg_ereal v + subcocycle_avg_ereal w\""], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal u = subcocycle_avg_ereal v + subcocycle_avg_ereal w\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u = subcocycle_avg_ereal v + subcocycle_avg_ereal w", "by auto"], ["proof (state)\nthis:\n  subcocycle_avg_ereal u = subcocycle_avg_ereal v + subcocycle_avg_ereal w\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  subcocycle_avg_ereal u = subcocycle_avg_ereal v + subcocycle_avg_ereal w", "have \"subcocycle_avg_ereal v > -\\<infinity>\""], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal u = subcocycle_avg_ereal v + subcocycle_avg_ereal w\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal v", "unfolding w_def"], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal u =\n  subcocycle_avg_ereal v + subcocycle_avg_ereal (birkhoff_sum (u 1))\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal v", "using subcocycle_avg_ereal_birkhoff[OF int_u] assms(2)"], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal u =\n  subcocycle_avg_ereal v + subcocycle_avg_ereal (birkhoff_sum (u 1))\n  subcocycle_avg_ereal (birkhoff_sum (u 1)) =\n  ereal (integral\\<^sup>L M (u 1))\n  - \\<infinity> < subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal v", "by auto"], ["proof (state)\nthis:\n  - \\<infinity> < subcocycle_avg_ereal v\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"subcocycle_avg_ereal w > - \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal w", "unfolding w_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (birkhoff_sum (u 1))", "using subcocycle_avg_birkhoff[OF int_u]"], ["proof (prove)\nusing this:\n  - \\<infinity> < subcocycle_avg_ereal (birkhoff_sum (u 1))\n  subcocycle_avg (birkhoff_sum (u 1)) = integral\\<^sup>L M (u 1)\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (birkhoff_sum (u 1))", "by auto"], ["proof (state)\nthis:\n  - \\<infinity> < subcocycle_avg_ereal w\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"\\<And>x. v 1 x \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. v 1 x \\<le> 0", "unfolding v_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. u 1 x + birkhoff_sum (\\<lambda>x. - u 1 x) 1 x \\<le> 0", "by auto"], ["proof (state)\nthis:\n  v 1 ?x3 \\<le> 0\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have v: \"AE x in M. (\\<lambda>n. v n x / n) \\<longlonglongrightarrow> subcocycle_lim v x\"\n            \"integrable M (subcocycle_lim v)\"\n            \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(v n x / n - subcocycle_lim v x) \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. v n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim v x &&&\n    integrable M (subcocycle_lim v) &&&\n    (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "using kingman_theorem_L1_aux[OF \\<open>subcocycle v\\<close> \\<open>subcocycle_avg_ereal v > -\\<infinity>\\<close> \\<open>\\<And>x. v 1 x \\<le> 0\\<close>]"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. v n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim v x\n  integrable M (subcocycle_lim v)\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>v n x / real n -\n                                    subcocycle_lim v x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. v n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim v x &&&\n    integrable M (subcocycle_lim v) &&&\n    (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. v n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim v x\n  integrable M (subcocycle_lim v)\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>v n x / real n -\n                                    subcocycle_lim v x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have w: \"AE x in M. (\\<lambda>n. w n x / n) \\<longlonglongrightarrow> subcocycle_lim w x\"\n            \"integrable M (subcocycle_lim w)\"\n            \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(w n x / n - subcocycle_lim w x) \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. w n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim w x &&&\n    integrable M (subcocycle_lim w) &&&\n    (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "proof -"], ["proof (state)\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. w n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim w x\n 2. integrable M (subcocycle_lim w)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "show \"AE x in M. (\\<lambda>n. w n x / n) \\<longlonglongrightarrow> subcocycle_lim w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. w n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim w x", "unfolding w_def subcocycle_lim_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n               \\<longlonglongrightarrow> real_of_ereal\n    (subcocycle_lim_ereal (birkhoff_sum (u 1)) x)", "using subcocycle_lim_ereal_birkhoff[OF int_u]\n      birkhoff_theorem_AE_nonergodic[OF int_u]"], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim_ereal (birkhoff_sum (u 1)) x =\n             ereal (real_cond_exp M Invariants (u 1) x)\n  AE x in M. (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants (u 1) x\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. birkhoff_sum (u 1) n x / real n)\n               \\<longlonglongrightarrow> real_of_ereal\n    (subcocycle_lim_ereal (birkhoff_sum (u 1)) x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. w n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n\ngoal (2 subgoals):\n 1. integrable M (subcocycle_lim w)\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "show \"integrable M (subcocycle_lim w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (subcocycle_lim w)", "apply (subst integrable_cong_AE[where ?g = \"\\<lambda>x. real_cond_exp M Invariants (u 1) x\"])"], ["proof (prove)\ngoal (4 subgoals):\n 1. subcocycle_lim w \\<in> borel_measurable M\n 2. real_cond_exp M Invariants (u 1) \\<in> borel_measurable M\n 3. AE x in M. subcocycle_lim w x = real_cond_exp M Invariants (u 1) x\n 4. integrable M (real_cond_exp M Invariants (u 1))", "unfolding w_def subcocycle_lim_def"], ["proof (prove)\ngoal (4 subgoals):\n 1. (\\<lambda>x.\n        real_of_ereal (subcocycle_lim_ereal (birkhoff_sum (u 1)) x))\n    \\<in> borel_measurable M\n 2. real_cond_exp M Invariants (u 1) \\<in> borel_measurable M\n 3. AE x in M. real_of_ereal (subcocycle_lim_ereal (birkhoff_sum (u 1)) x) =\n               real_cond_exp M Invariants (u 1) x\n 4. integrable M (real_cond_exp M Invariants (u 1))", "using subcocycle_lim_ereal_birkhoff[OF int_u] real_cond_exp_int(1)[OF int_u]"], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim_ereal (birkhoff_sum (u 1)) x =\n             ereal (real_cond_exp M Invariants (u 1) x)\n  integrable M (real_cond_exp M Invariants (u 1))\n\ngoal (4 subgoals):\n 1. (\\<lambda>x.\n        real_of_ereal (subcocycle_lim_ereal (birkhoff_sum (u 1)) x))\n    \\<in> borel_measurable M\n 2. real_cond_exp M Invariants (u 1) \\<in> borel_measurable M\n 3. AE x in M. real_of_ereal (subcocycle_lim_ereal (birkhoff_sum (u 1)) x) =\n               real_cond_exp M Invariants (u 1) x\n 4. integrable M (real_cond_exp M Invariants (u 1))", "by auto"], ["proof (state)\nthis:\n  integrable M (subcocycle_lim w)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"(\\<integral>\\<^sup>+x. abs(w n x / n - subcocycle_lim w x) \\<partial>M)\n        = (\\<integral>\\<^sup>+x. abs(birkhoff_sum (u 1) n x / n - real_cond_exp M Invariants (u 1) x) \\<partial>M)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>w n x / real n - subcocycle_lim w x\\<bar>\n                       \\<partial>M =\n    \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>birkhoff_sum (u 1) n x / real n -\n                                  real_cond_exp M Invariants (u 1) x\\<bar>\n                       \\<partial>M", "apply (rule nn_integral_cong_AE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. ennreal \\<bar>w n x / real n - subcocycle_lim w x\\<bar> =\n               ennreal\n                \\<bar>birkhoff_sum (u 1) n x / real n -\n                      real_cond_exp M Invariants (u 1) x\\<bar>", "unfolding w_def subcocycle_lim_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. ennreal\n                \\<bar>birkhoff_sum (u 1) n x / real n -\n                      real_of_ereal\n                       (subcocycle_lim_ereal (birkhoff_sum (u 1)) x)\\<bar> =\n               ennreal\n                \\<bar>birkhoff_sum (u 1) n x / real n -\n                      real_cond_exp M Invariants (u 1) x\\<bar>", "using subcocycle_lim_ereal_birkhoff[OF int_u]"], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim_ereal (birkhoff_sum (u 1)) x =\n             ereal (real_cond_exp M Invariants (u 1) x)\n\ngoal (1 subgoal):\n 1. AE x in M. ennreal\n                \\<bar>birkhoff_sum (u 1) n x / real n -\n                      real_of_ereal\n                       (subcocycle_lim_ereal (birkhoff_sum (u 1)) x)\\<bar> =\n               ennreal\n                \\<bar>birkhoff_sum (u 1) n x / real n -\n                      real_cond_exp M Invariants (u 1) x\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>w ?n3 x / real ?n3 -\n                                subcocycle_lim w x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>birkhoff_sum (u 1) ?n3 x / real ?n3 -\n                                real_cond_exp M Invariants (u 1) x\\<bar>\n                     \\<partial>M\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>w ?n3 x / real ?n3 -\n                                subcocycle_lim w x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>birkhoff_sum (u 1) ?n3 x / real ?n3 -\n                                real_cond_exp M Invariants (u 1) x\\<bar>\n                     \\<partial>M", "show \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(w n x / n - subcocycle_lim w x) \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>w ?n3 x / real ?n3 -\n                                subcocycle_lim w x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>birkhoff_sum (u 1) ?n3 x / real ?n3 -\n                                real_cond_exp M Invariants (u 1) x\\<bar>\n                     \\<partial>M\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "using birkhoff_theorem_L1_nonergodic[OF int_u]"], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>w ?n3 x / real ?n3 -\n                                subcocycle_lim w x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>birkhoff_sum (u 1) ?n3 x / real ?n3 -\n                                real_cond_exp M Invariants (u 1) x\\<bar>\n                     \\<partial>M\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              (norm\n                                (birkhoff_sum (u 1) n x / real n -\n                                 real_cond_exp M Invariants (u 1) x))\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>w n x / real n -\n                                    subcocycle_lim w x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. w n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n  integrable M (subcocycle_lim w)\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>w n x / real n -\n                                    subcocycle_lim w x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "{"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. w n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n  integrable M (subcocycle_lim w)\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>w n x / real n -\n                                    subcocycle_lim w x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "fix x"], ["proof (state)\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "assume H: \"(\\<lambda>n. v n x / n) \\<longlonglongrightarrow> subcocycle_lim v x\"\n                    \"(\\<lambda>n. w n x / n) \\<longlonglongrightarrow> subcocycle_lim w x\"\n                    \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\""], ["proof (state)\nthis:\n  (\\<lambda>n. v n x / real n) \\<longlonglongrightarrow> subcocycle_lim v x\n  (\\<lambda>n. w n x / real n) \\<longlonglongrightarrow> subcocycle_lim w x\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. v n x / real n) \\<longlonglongrightarrow> subcocycle_lim v x\n  (\\<lambda>n. w n x / real n) \\<longlonglongrightarrow> subcocycle_lim w x\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "have \"(\\<lambda>n. v n x / n + w n x / n) \\<longlonglongrightarrow> subcocycle_lim v x + subcocycle_lim w x\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. v n x / real n) \\<longlonglongrightarrow> subcocycle_lim v x\n  (\\<lambda>n. w n x / real n) \\<longlonglongrightarrow> subcocycle_lim w x\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. v n x / real n + w n x / real n)\n    \\<longlonglongrightarrow> subcocycle_lim v x + subcocycle_lim w x", "using tendsto_add[OF H(1) H(2)]"], ["proof (prove)\nusing this:\n  (\\<lambda>n. v n x / real n) \\<longlonglongrightarrow> subcocycle_lim v x\n  (\\<lambda>n. w n x / real n) \\<longlonglongrightarrow> subcocycle_lim w x\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  (\\<lambda>xa. v xa x / real xa + w xa x / real xa)\n  \\<longlonglongrightarrow> subcocycle_lim v x + subcocycle_lim w x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. v n x / real n + w n x / real n)\n    \\<longlonglongrightarrow> subcocycle_lim v x + subcocycle_lim w x", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>n. v n x / real n + w n x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim v x + subcocycle_lim w x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. v n x / real n + w n x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim v x + subcocycle_lim w x", "have *: \"(\\<lambda>n. ereal(u n x / n)) \\<longlonglongrightarrow> ereal(subcocycle_lim v x + subcocycle_lim w x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. v n x / real n + w n x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim v x + subcocycle_lim w x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (u n x / real n))\n    \\<longlonglongrightarrow> ereal\n                               (subcocycle_lim v x + subcocycle_lim w x)", "unfolding uvw"], ["proof (prove)\nusing this:\n  (\\<lambda>n. v n x / real n + w n x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim v x + subcocycle_lim w x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal ((v n x + w n x) / real n))\n    \\<longlonglongrightarrow> ereal\n                               (subcocycle_lim v x + subcocycle_lim w x)", "by (simp add: add_divide_distrib)"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (u n x / real n))\n  \\<longlonglongrightarrow> ereal (subcocycle_lim v x + subcocycle_lim w x)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. ereal (u n x / real n))\n  \\<longlonglongrightarrow> ereal (subcocycle_lim v x + subcocycle_lim w x)", "have \"subcocycle_lim_ereal u x = ereal(subcocycle_lim v x + subcocycle_lim w x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal (u n x / real n))\n  \\<longlonglongrightarrow> ereal (subcocycle_lim v x + subcocycle_lim w x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u x =\n    ereal (subcocycle_lim v x + subcocycle_lim w x)", "using H(3) LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal (u n x / real n))\n  \\<longlonglongrightarrow> ereal (subcocycle_lim v x + subcocycle_lim w x)\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u x =\n    ereal (subcocycle_lim v x + subcocycle_lim w x)", "by blast"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u x = ereal (subcocycle_lim v x + subcocycle_lim w x)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  subcocycle_lim_ereal u x = ereal (subcocycle_lim v x + subcocycle_lim w x)", "have **: \"subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x\""], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal u x = ereal (subcocycle_lim v x + subcocycle_lim w x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x", "using subcocycle_lim_def"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal u x = ereal (subcocycle_lim v x + subcocycle_lim w x)\n  subcocycle_lim ?u =\n  (\\<lambda>x. real_of_ereal (subcocycle_lim_ereal ?u x))\n\ngoal (1 subgoal):\n 1. subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x", "by auto"], ["proof (state)\nthis:\n  subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"u n x / n - subcocycle_lim u x = v n x / n - subcocycle_lim v x + w n x / n - subcocycle_lim w x\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. u n x / real n - subcocycle_lim u x =\n    v n x / real n - subcocycle_lim v x + w n x / real n -\n    subcocycle_lim w x", "apply (subst **, subst uvw)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (v n x + w n x) / real n - (subcocycle_lim v x + subcocycle_lim w x) =\n    v n x / real n - subcocycle_lim v x + w n x / real n -\n    subcocycle_lim w x", "using add_divide_distrib add.commute"], ["proof (prove)\nusing this:\n  (?a + ?b) / ?c = ?a / ?c + ?b / ?c\n  ?a + ?b = ?b + ?a\n\ngoal (1 subgoal):\n 1. (v n x + w n x) / real n - (subcocycle_lim v x + subcocycle_lim w x) =\n    v n x / real n - subcocycle_lim v x + w n x / real n -\n    subcocycle_lim w x", "by auto"], ["proof (state)\nthis:\n  u ?n3 x / real ?n3 - subcocycle_lim u x =\n  v ?n3 x / real ?n3 - subcocycle_lim v x + w ?n3 x / real ?n3 -\n  subcocycle_lim w x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  u ?n3 x / real ?n3 - subcocycle_lim u x =\n  v ?n3 x / real ?n3 - subcocycle_lim v x + w ?n3 x / real ?n3 -\n  subcocycle_lim w x", "have \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\n          \\<and> subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x\n          \\<and> (\\<forall>n. u n x / n - subcocycle_lim u x = v n x / n - subcocycle_lim v x + w n x / n - subcocycle_lim w x)\""], ["proof (prove)\nusing this:\n  u ?n3 x / real ?n3 - subcocycle_lim u x =\n  v ?n3 x / real ?n3 - subcocycle_lim v x + w ?n3 x / real ?n3 -\n  subcocycle_lim w x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n x / real n)\n    \\<longlonglongrightarrow> subcocycle_lim u x \\<and>\n    subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x \\<and>\n    (\\<forall>n.\n        u n x / real n - subcocycle_lim u x =\n        v n x / real n - subcocycle_lim v x + w n x / real n -\n        subcocycle_lim w x)", "using * **"], ["proof (prove)\nusing this:\n  u ?n3 x / real ?n3 - subcocycle_lim u x =\n  v ?n3 x / real ?n3 - subcocycle_lim v x + w ?n3 x / real ?n3 -\n  subcocycle_lim w x\n  (\\<lambda>n. ereal (u n x / real n))\n  \\<longlonglongrightarrow> ereal (subcocycle_lim v x + subcocycle_lim w x)\n  subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n x / real n)\n    \\<longlonglongrightarrow> subcocycle_lim u x \\<and>\n    subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x \\<and>\n    (\\<forall>n.\n        u n x / real n - subcocycle_lim u x =\n        v n x / real n - subcocycle_lim v x + w n x / real n -\n        subcocycle_lim w x)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. u n x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim u x \\<and>\n  subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x \\<and>\n  (\\<forall>n.\n      u n x / real n - subcocycle_lim u x =\n      v n x / real n - subcocycle_lim v x + w n x / real n -\n      subcocycle_lim w x)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>n. v n ?x5 / real n)\n           \\<longlonglongrightarrow> subcocycle_lim v ?x5;\n   (\\<lambda>n. w n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. u n ?x5 / real n)\n                    \\<longlonglongrightarrow> subcocycle_lim u ?x5 \\<and>\n                    subcocycle_lim u ?x5 =\n                    subcocycle_lim v ?x5 + subcocycle_lim w ?x5 \\<and>\n                    (\\<forall>n.\n                        u n ?x5 / real n - subcocycle_lim u ?x5 =\n                        v n ?x5 / real n - subcocycle_lim v ?x5 +\n                        w n ?x5 / real n -\n                        subcocycle_lim w ?x5)\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>(\\<lambda>n. v n ?x5 / real n)\n           \\<longlonglongrightarrow> subcocycle_lim v ?x5;\n   (\\<lambda>n. w n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. u n ?x5 / real n)\n                    \\<longlonglongrightarrow> subcocycle_lim u ?x5 \\<and>\n                    subcocycle_lim u ?x5 =\n                    subcocycle_lim v ?x5 + subcocycle_lim w ?x5 \\<and>\n                    (\\<forall>n.\n                        u n ?x5 / real n - subcocycle_lim u ?x5 =\n                        v n ?x5 / real n - subcocycle_lim v ?x5 +\n                        w n ?x5 / real n -\n                        subcocycle_lim w ?x5)", "have AE: \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\"\n                \"AE x in M. subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x\"\n                \"AE x in M. \\<forall>n. u n x / n - subcocycle_lim u x = v n x / n - subcocycle_lim v x + w n x / n - subcocycle_lim w x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>(\\<lambda>n. v n ?x5 / real n)\n           \\<longlonglongrightarrow> subcocycle_lim v ?x5;\n   (\\<lambda>n. w n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. u n ?x5 / real n)\n                    \\<longlonglongrightarrow> subcocycle_lim u ?x5 \\<and>\n                    subcocycle_lim u ?x5 =\n                    subcocycle_lim v ?x5 + subcocycle_lim w ?x5 \\<and>\n                    (\\<forall>n.\n                        u n ?x5 / real n - subcocycle_lim u ?x5 =\n                        v n ?x5 / real n - subcocycle_lim v ?x5 +\n                        w n ?x5 / real n -\n                        subcocycle_lim w ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x &&&\n    AE x in M. subcocycle_lim u x =\n               subcocycle_lim v x + subcocycle_lim w x &&&\n    AE x in M. \\<forall>n.\n                  u n x / real n - subcocycle_lim u x =\n                  v n x / real n - subcocycle_lim v x + w n x / real n -\n                  subcocycle_lim w x", "using v(1) w(1) kingman_theorem_AE_nonergodic_ereal[OF assms(1)]"], ["proof (prove)\nusing this:\n  \\<lbrakk>(\\<lambda>n. v n ?x5 / real n)\n           \\<longlonglongrightarrow> subcocycle_lim v ?x5;\n   (\\<lambda>n. w n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   (\\<lambda>x. ereal (u x ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n. u n ?x5 / real n)\n                    \\<longlonglongrightarrow> subcocycle_lim u ?x5 \\<and>\n                    subcocycle_lim u ?x5 =\n                    subcocycle_lim v ?x5 + subcocycle_lim w ?x5 \\<and>\n                    (\\<forall>n.\n                        u n ?x5 / real n - subcocycle_lim u ?x5 =\n                        v n ?x5 / real n - subcocycle_lim v ?x5 +\n                        w n ?x5 / real n -\n                        subcocycle_lim w ?x5)\n  AE x in M. (\\<lambda>n. v n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim v x\n  AE x in M. (\\<lambda>n. w n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x &&&\n    AE x in M. subcocycle_lim u x =\n               subcocycle_lim v x + subcocycle_lim w x &&&\n    AE x in M. \\<forall>n.\n                  u n x / real n - subcocycle_lim u x =\n                  v n x / real n - subcocycle_lim v x + w n x / real n -\n                  subcocycle_lim w x", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  AE x in M. subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x\n  AE x in M. \\<forall>n.\n                u n x / real n - subcocycle_lim u x =\n                v n x / real n - subcocycle_lim v x + w n x / real n -\n                subcocycle_lim w x\n\ngoal (3 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. integrable M (subcocycle_lim u)\n 3. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  AE x in M. subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x\n  AE x in M. \\<forall>n.\n                u n x / real n - subcocycle_lim u x =\n                v n x / real n - subcocycle_lim v x + w n x / real n -\n                subcocycle_lim w x", "show \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\""], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  AE x in M. subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x\n  AE x in M. \\<forall>n.\n                u n x / real n - subcocycle_lim u x =\n                v n x / real n - subcocycle_lim v x + w n x / real n -\n                subcocycle_lim w x\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x", "by simp"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (2 subgoals):\n 1. integrable M (subcocycle_lim u)\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "show \"integrable M (subcocycle_lim u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (subcocycle_lim u)", "apply (subst integrable_cong_AE[where ?g = \"\\<lambda>x. subcocycle_lim v x + subcocycle_lim w x\"])"], ["proof (prove)\ngoal (4 subgoals):\n 1. subcocycle_lim u \\<in> borel_measurable M\n 2. (\\<lambda>x. subcocycle_lim v x + subcocycle_lim w x)\n    \\<in> borel_measurable M\n 3. AE x in M. subcocycle_lim u x = subcocycle_lim v x + subcocycle_lim w x\n 4. integrable M (\\<lambda>x. subcocycle_lim v x + subcocycle_lim w x)", "by (auto simp add: AE(2) v(2) w(2))"], ["proof (state)\nthis:\n  integrable M (subcocycle_lim u)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "show \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(u n x / n - subcocycle_lim u x) \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "proof (rule tendsto_sandwich[where ?f = \"\\<lambda>_. 0\"\n    and ?h = \"\\<lambda>n. (\\<integral>\\<^sup>+x. abs(v n x / n - subcocycle_lim v x) \\<partial>M) + (\\<integral>\\<^sup>+x. abs(w n x / n - subcocycle_lim w x) \\<partial>M)\"], auto)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<integral>\\<^sup>+ x. ennreal\n                               \\<bar>u n x / real n -\n                                     subcocycle_lim u x\\<bar>\n                          \\<partial>M\n       \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>v n x / real n -\n     subcocycle_lim v x\\<bar>\n                                \\<partial>M +\n             \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>w n x / real n -\n     subcocycle_lim w x\\<bar>\n                                \\<partial>M\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<integral>\\<^sup>+ x. ennreal\n                               \\<bar>u n x / real n -\n                                     subcocycle_lim u x\\<bar>\n                          \\<partial>M\n       \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>v n x / real n -\n     subcocycle_lim v x\\<bar>\n                                \\<partial>M +\n             \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>w n x / real n -\n     subcocycle_lim w x\\<bar>\n                                \\<partial>M\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "fix n"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<integral>\\<^sup>+ x. ennreal\n                               \\<bar>u n x / real n -\n                                     subcocycle_lim u x\\<bar>\n                          \\<partial>M\n       \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>v n x / real n -\n     subcocycle_lim v x\\<bar>\n                                \\<partial>M +\n             \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>w n x / real n -\n     subcocycle_lim w x\\<bar>\n                                \\<partial>M\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"(\\<integral>\\<^sup>+x. abs(u n x / n - subcocycle_lim u x) \\<partial>M)\n        = (\\<integral>\\<^sup>+x. abs((v n x / n - subcocycle_lim v x) + (w n x / n - subcocycle_lim w x)) \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>u n x / real n - subcocycle_lim u x\\<bar>\n                       \\<partial>M =\n    \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>v n x / real n - subcocycle_lim v x +\n                                  (w n x / real n -\n                                   subcocycle_lim w x)\\<bar>\n                       \\<partial>M", "apply (rule nn_integral_cong_AE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. ennreal \\<bar>u n x / real n - subcocycle_lim u x\\<bar> =\n               ennreal\n                \\<bar>v n x / real n - subcocycle_lim v x +\n                      (w n x / real n - subcocycle_lim w x)\\<bar>", "using AE(3)"], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>n.\n                u n x / real n - subcocycle_lim u x =\n                v n x / real n - subcocycle_lim v x + w n x / real n -\n                subcocycle_lim w x\n\ngoal (1 subgoal):\n 1. AE x in M. ennreal \\<bar>u n x / real n - subcocycle_lim u x\\<bar> =\n               ennreal\n                \\<bar>v n x / real n - subcocycle_lim v x +\n                      (w n x / real n - subcocycle_lim w x)\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u n x / real n - subcocycle_lim u x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>v n x / real n - subcocycle_lim v x +\n                                (w n x / real n - subcocycle_lim w x)\\<bar>\n                     \\<partial>M\n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<integral>\\<^sup>+ x. ennreal\n                               \\<bar>u n x / real n -\n                                     subcocycle_lim u x\\<bar>\n                          \\<partial>M\n       \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>v n x / real n -\n     subcocycle_lim v x\\<bar>\n                                \\<partial>M +\n             \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>w n x / real n -\n     subcocycle_lim w x\\<bar>\n                                \\<partial>M\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u n x / real n - subcocycle_lim u x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>v n x / real n - subcocycle_lim v x +\n                                (w n x / real n - subcocycle_lim w x)\\<bar>\n                     \\<partial>M\n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<integral>\\<^sup>+ x. ennreal\n                               \\<bar>u n x / real n -\n                                     subcocycle_lim u x\\<bar>\n                          \\<partial>M\n       \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>v n x / real n -\n     subcocycle_lim v x\\<bar>\n                                \\<partial>M +\n             \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>w n x / real n -\n     subcocycle_lim w x\\<bar>\n                                \\<partial>M\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"... \\<le> (\\<integral>\\<^sup>+x. ennreal(abs(v n x / n - subcocycle_lim v x)) + abs(w n x / n - subcocycle_lim w x) \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>v n x / real n - subcocycle_lim v x +\n                                  (w n x / real n -\n                                   subcocycle_lim w x)\\<bar>\n                       \\<partial>M\n    \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                  \\<bar>v n x / real n -\n  subcocycle_lim v x\\<bar> +\n                                 ennreal\n                                  \\<bar>w n x / real n -\n  subcocycle_lim w x\\<bar>\n                             \\<partial>M", "by (rule nn_integral_mono, auto simp add: ennreal_plus[symmetric] simp del: ennreal_plus)"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>v n x / real n - subcocycle_lim v x +\n                                (w n x / real n - subcocycle_lim w x)\\<bar>\n                     \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar> +\n                               ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M\n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<integral>\\<^sup>+ x. ennreal\n                               \\<bar>u n x / real n -\n                                     subcocycle_lim u x\\<bar>\n                          \\<partial>M\n       \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>v n x / real n -\n     subcocycle_lim v x\\<bar>\n                                \\<partial>M +\n             \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>w n x / real n -\n     subcocycle_lim w x\\<bar>\n                                \\<partial>M\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>v n x / real n - subcocycle_lim v x +\n                                (w n x / real n - subcocycle_lim w x)\\<bar>\n                     \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar> +\n                               ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M\n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<integral>\\<^sup>+ x. ennreal\n                               \\<bar>u n x / real n -\n                                     subcocycle_lim u x\\<bar>\n                          \\<partial>M\n       \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>v n x / real n -\n     subcocycle_lim v x\\<bar>\n                                \\<partial>M +\n             \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>w n x / real n -\n     subcocycle_lim w x\\<bar>\n                                \\<partial>M\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"... = (\\<integral>\\<^sup>+x. abs(v n x / n - subcocycle_lim v x) \\<partial>M) + (\\<integral>\\<^sup>+x. abs(w n x / n - subcocycle_lim w x) \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>v n x / real n -\n                                  subcocycle_lim v x\\<bar> +\n                           ennreal\n                            \\<bar>w n x / real n - subcocycle_lim w x\\<bar>\n                       \\<partial>M =\n    \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>v n x / real n - subcocycle_lim v x\\<bar>\n                       \\<partial>M +\n    \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>w n x / real n - subcocycle_lim w x\\<bar>\n                       \\<partial>M", "by (rule nn_integral_add, auto, measurable)"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>v n x / real n - subcocycle_lim v x\\<bar> +\n                         ennreal\n                          \\<bar>w n x / real n - subcocycle_lim w x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>v n x / real n - subcocycle_lim v x\\<bar>\n                     \\<partial>M +\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>w n x / real n - subcocycle_lim w x\\<bar>\n                     \\<partial>M\n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<integral>\\<^sup>+ x. ennreal\n                               \\<bar>u n x / real n -\n                                     subcocycle_lim u x\\<bar>\n                          \\<partial>M\n       \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>v n x / real n -\n     subcocycle_lim v x\\<bar>\n                                \\<partial>M +\n             \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>w n x / real n -\n     subcocycle_lim w x\\<bar>\n                                \\<partial>M\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "finally"], ["proof (chain)\npicking this:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u n x / real n - subcocycle_lim u x\\<bar>\n                     \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M", "have \"(\\<integral>\\<^sup>+x. abs(u n x / n - subcocycle_lim u x) \\<partial>M)\n        \\<le> (\\<integral>\\<^sup>+x. abs(v n x / n - subcocycle_lim v x) \\<partial>M) + (\\<integral>\\<^sup>+x. abs(w n x / n - subcocycle_lim w x) \\<partial>M)\""], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u n x / real n - subcocycle_lim u x\\<bar>\n                     \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>u n x / real n - subcocycle_lim u x\\<bar>\n                       \\<partial>M\n    \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                  \\<bar>v n x / real n -\n  subcocycle_lim v x\\<bar>\n                             \\<partial>M +\n          \\<integral>\\<^sup>+ x. ennreal\n                                  \\<bar>w n x / real n -\n  subcocycle_lim w x\\<bar>\n                             \\<partial>M", "using tendsto_sandwich"], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u n x / real n - subcocycle_lim u x\\<bar>\n                     \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M\n  \\<lbrakk>\\<forall>\\<^sub>F n in ?net. ?f n \\<le> ?g n;\n   \\<forall>\\<^sub>F n in ?net. ?g n \\<le> ?h n;\n   (?f \\<longlongrightarrow> ?c) ?net;\n   (?h \\<longlongrightarrow> ?c) ?net\\<rbrakk>\n  \\<Longrightarrow> (?g \\<longlongrightarrow> ?c) ?net\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>u n x / real n - subcocycle_lim u x\\<bar>\n                       \\<partial>M\n    \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                  \\<bar>v n x / real n -\n  subcocycle_lim v x\\<bar>\n                             \\<partial>M +\n          \\<integral>\\<^sup>+ x. ennreal\n                                  \\<bar>w n x / real n -\n  subcocycle_lim w x\\<bar>\n                             \\<partial>M", "by simp"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u n x / real n - subcocycle_lim u x\\<bar>\n                     \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M\n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<integral>\\<^sup>+ x. ennreal\n                               \\<bar>u n x / real n -\n                                     subcocycle_lim u x\\<bar>\n                          \\<partial>M\n       \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>v n x / real n -\n     subcocycle_lim v x\\<bar>\n                                \\<partial>M +\n             \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>w n x / real n -\n     subcocycle_lim w x\\<bar>\n                                \\<partial>M\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "}"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u ?n5 x / real ?n5 -\n                                subcocycle_lim u x\\<bar>\n                     \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v ?n5 x / real ?n5 -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w ?n5 x / real ?n5 -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M\n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<integral>\\<^sup>+ x. ennreal\n                               \\<bar>u n x / real n -\n                                     subcocycle_lim u x\\<bar>\n                          \\<partial>M\n       \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>v n x / real n -\n     subcocycle_lim v x\\<bar>\n                                \\<partial>M +\n             \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>w n x / real n -\n     subcocycle_lim w x\\<bar>\n                                \\<partial>M\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u ?n5 x / real ?n5 -\n                                subcocycle_lim u x\\<bar>\n                     \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v ?n5 x / real ?n5 -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w ?n5 x / real ?n5 -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M", "show \"eventually (\\<lambda>n. (\\<integral>\\<^sup>+x. abs(u n x / n - subcocycle_lim u x) \\<partial>M)\n        \\<le> (\\<integral>\\<^sup>+x. abs(v n x / n - subcocycle_lim v x) \\<partial>M) + (\\<integral>\\<^sup>+x. abs(w n x / n - subcocycle_lim w x) \\<partial>M)) sequentially\""], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u ?n5 x / real ?n5 -\n                                subcocycle_lim u x\\<bar>\n                     \\<partial>M\n  \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v ?n5 x / real ?n5 -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w ?n5 x / real ?n5 -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<integral>\\<^sup>+ x. ennreal\n                               \\<bar>u n x / real n -\n                                     subcocycle_lim u x\\<bar>\n                          \\<partial>M\n       \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>v n x / real n -\n     subcocycle_lim v x\\<bar>\n                                \\<partial>M +\n             \\<integral>\\<^sup>+ x. ennreal\n                                     \\<bar>w n x / real n -\n     subcocycle_lim w x\\<bar>\n                                \\<partial>M", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     \\<integral>\\<^sup>+ x. ennreal\n                             \\<bar>u n x / real n - subcocycle_lim u x\\<bar>\n                        \\<partial>M\n     \\<le> \\<integral>\\<^sup>+ x. ennreal\n                                   \\<bar>v n x / real n -\n   subcocycle_lim v x\\<bar>\n                              \\<partial>M +\n           \\<integral>\\<^sup>+ x. ennreal\n                                   \\<bar>w n x / real n -\n   subcocycle_lim w x\\<bar>\n                              \\<partial>M\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(v n x / n - subcocycle_lim v x) \\<partial>M) + (\\<integral>\\<^sup>+x. abs(w n x / n - subcocycle_lim w x) \\<partial>M))\n              \\<longlonglongrightarrow> 0 + 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0 + 0", "by (rule tendsto_add[OF v(3) w(3)])"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>v n x / real n -\n                                    subcocycle_lim v x\\<bar>\n                         \\<partial>M +\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>w n x / real n -\n                                    subcocycle_lim w x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0 + 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>v n x / real n -\n                                    subcocycle_lim v x\\<bar>\n                         \\<partial>M +\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>w n x / real n -\n                                    subcocycle_lim w x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0 + 0", "show \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(v n x / n - subcocycle_lim v x) \\<partial>M) + (\\<integral>\\<^sup>+x. abs(w n x / n - subcocycle_lim w x) \\<partial>M))\n              \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>v n x / real n -\n                                    subcocycle_lim v x\\<bar>\n                         \\<partial>M +\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>w n x / real n -\n                                    subcocycle_lim w x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0 + 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>v n x / real n -\nsubcocycle_lim v x\\<bar>\n                           \\<partial>M +\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>v n x / real n -\n                                    subcocycle_lim v x\\<bar>\n                         \\<partial>M +\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>w n x / real n -\n                                    subcocycle_lim w x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>u n x / real n -\n                                    subcocycle_lim u x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>From the almost sure convergence, we can prove the basic properties of the (real)\nsubcocycle limit: relationship to the asymptotic average, behavior under sum, multiplication,\nmax, behavior for Birkhoff sums.\\<close>"], ["", "lemma subcocycle_lim_avg:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\"\n  shows \"(\\<integral>x. subcocycle_lim u x \\<partial>M) = subcocycle_avg u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (subcocycle_lim u) = subcocycle_avg u", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (subcocycle_lim u) = subcocycle_avg u", "have H: \"(\\<lambda>n. (\\<integral>\\<^sup>+x. norm(u n x / n - subcocycle_lim u x) \\<partial>M)) \\<longlonglongrightarrow> 0\"\n          \"integrable M (subcocycle_lim u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                (norm (u n x / real n - subcocycle_lim u x))\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0 &&&\n    integrable M (subcocycle_lim u)", "using kingman_theorem_nonergodic[OF assms]"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  integrable M (subcocycle_lim u)\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>u n x / real n -\n                                    subcocycle_lim u x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                (norm (u n x / real n - subcocycle_lim u x))\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0 &&&\n    integrable M (subcocycle_lim u)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              (norm (u n x / real n - subcocycle_lim u x))\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n  integrable M (subcocycle_lim u)\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (subcocycle_lim u) = subcocycle_avg u", "have \"(\\<lambda>n. (\\<integral>x. u n x / n \\<partial>M)) \\<longlonglongrightarrow> (\\<integral>x. subcocycle_lim u x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. LINT x|M. u n x / real n)\n    \\<longlonglongrightarrow> integral\\<^sup>L M (subcocycle_lim u)", "apply (rule tendsto_L1_int[OF _ H(2) H(1)])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. integrable M (\\<lambda>x. u n x / real n)", "using subcocycle_integrable[OF assms(1)]"], ["proof (prove)\nusing this:\n  integrable M (u ?n)\n  u ?n \\<in> borel_measurable M\n\ngoal (1 subgoal):\n 1. \\<And>n. integrable M (\\<lambda>x. u n x / real n)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. LINT x|M. u n x / real n)\n  \\<longlonglongrightarrow> integral\\<^sup>L M (subcocycle_lim u)\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (subcocycle_lim u) = subcocycle_avg u", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. LINT x|M. u n x / real n)\n  \\<longlonglongrightarrow> integral\\<^sup>L M (subcocycle_lim u)", "have \"(\\<lambda>n. (\\<integral>x. u n x / n \\<partial>M)) \\<longlonglongrightarrow> ereal (\\<integral>x. subcocycle_lim u x \\<partial>M)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. LINT x|M. u n x / real n)\n  \\<longlonglongrightarrow> integral\\<^sup>L M (subcocycle_lim u)\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n    \\<longlonglongrightarrow> ereal (integral\\<^sup>L M (subcocycle_lim u))", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> ereal (integral\\<^sup>L M (subcocycle_lim u))\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (subcocycle_lim u) = subcocycle_avg u", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> ereal (integral\\<^sup>L M (subcocycle_lim u))\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (subcocycle_lim u) = subcocycle_avg u", "have \"(\\<lambda>n. (\\<integral>x. u n x / n \\<partial>M)) \\<longlonglongrightarrow> ereal (subcocycle_avg u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n    \\<longlonglongrightarrow> ereal (subcocycle_avg u)", "using subcocycle_int_tendsto_avg[OF assms]"], ["proof (prove)\nusing this:\n  (\\<lambda>n. LINT x|M. u n x / real n)\n  \\<longlonglongrightarrow> subcocycle_avg u\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n    \\<longlonglongrightarrow> ereal (subcocycle_avg u)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> ereal (subcocycle_avg u)\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (subcocycle_lim u) = subcocycle_avg u", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> ereal (integral\\<^sup>L M (subcocycle_lim u))\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> ereal (subcocycle_avg u)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> ereal (integral\\<^sup>L M (subcocycle_lim u))\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> ereal (subcocycle_avg u)\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (subcocycle_lim u) = subcocycle_avg u", "using LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> ereal (integral\\<^sup>L M (subcocycle_lim u))\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> ereal (subcocycle_avg u)\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (subcocycle_lim u) = subcocycle_avg u", "by blast"], ["proof (state)\nthis:\n  integral\\<^sup>L M (subcocycle_lim u) = subcocycle_avg u\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_lim_real_ereal:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\"\n  shows \"AE x in M. subcocycle_lim_ereal u x = ereal(subcocycle_lim u x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)", "assume H: \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\"\n                    \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\""], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  (\\<lambda>n. u n x / real n) \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  (\\<lambda>n. u n x / real n) \\<longlonglongrightarrow> subcocycle_lim u x", "have \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> ereal(subcocycle_lim u x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  (\\<lambda>n. u n x / real n) \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (u xa x / real xa))\n    \\<longlonglongrightarrow> ereal (subcocycle_lim u x)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> ereal (subcocycle_lim u x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> ereal (subcocycle_lim u x)", "have \"subcocycle_lim_ereal u x = ereal(subcocycle_lim u x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> ereal (subcocycle_lim u x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)", "using H(1) LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> ereal (subcocycle_lim u x)\n  (\\<lambda>xa. ereal (u xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)", "by blast"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>x. ereal (u x ?x5 / real x))\n           \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   (\\<lambda>n. u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal u ?x5 =\n                    ereal (subcocycle_lim u ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>(\\<lambda>x. ereal (u x ?x5 / real x))\n           \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   (\\<lambda>n. u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal u ?x5 =\n                    ereal (subcocycle_lim u ?x5)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>(\\<lambda>x. ereal (u x ?x5 / real x))\n           \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   (\\<lambda>n. u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal u ?x5 =\n                    ereal (subcocycle_lim u ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)", "using kingman_theorem_AE_nonergodic_ereal[OF assms(1)] kingman_theorem_nonergodic(1)[OF assms]"], ["proof (prove)\nusing this:\n  \\<lbrakk>(\\<lambda>x. ereal (u x ?x5 / real x))\n           \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   (\\<lambda>n. u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal u ?x5 =\n                    ereal (subcocycle_lim u ?x5)\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_lim_add:\n  assumes \"subcocycle u\" \"subcocycle v\" \"subcocycle_avg_ereal u > -\\<infinity>\" \"subcocycle_avg_ereal v > -\\<infinity>\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) > - \\<infinity>\"\n        \"AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x = subcocycle_lim u x + subcocycle_lim v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) &&&\n    AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x)\n 2. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "show *: \"subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x) > - \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x)", "using subcocycle_avg_add[OF assms(1) assms(2)] assms(3) assms(4)"], ["proof (prove)\nusing this:\n  \\<lbrakk>- \\<infinity> < subcocycle_avg_ereal u;\n   - \\<infinity> < subcocycle_avg_ereal v\\<rbrakk>\n  \\<Longrightarrow> - \\<infinity>\n                    < subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x)\n  \\<lbrakk>- \\<infinity> < subcocycle_avg_ereal u;\n   - \\<infinity> < subcocycle_avg_ereal v\\<rbrakk>\n  \\<Longrightarrow> subcocycle_avg (\\<lambda>n x. u n x + v n x) =\n                    subcocycle_avg u + subcocycle_avg v\n  - \\<infinity> < subcocycle_avg_ereal u\n  - \\<infinity> < subcocycle_avg_ereal v\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x)", "by auto"], ["proof (state)\nthis:\n  - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. u n x + v n x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "have \"AE x in M. (\\<lambda>n. (u n x + v n x)/n) \\<longlonglongrightarrow> subcocycle_lim (\\<lambda>n x. u n x + v n x) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. (u n x + v n x) / real n)\n               \\<longlonglongrightarrow> subcocycle_lim\n    (\\<lambda>n x. u n x + v n x) x", "by (rule kingman_theorem_nonergodic(1)[OF subcocycle_add[OF assms(1) assms(2)] *])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. (u n x + v n x) / real n)\n             \\<longlonglongrightarrow> subcocycle_lim\n  (\\<lambda>n x. u n x + v n x) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. (u n x + v n x) / real n)\n             \\<longlonglongrightarrow> subcocycle_lim\n  (\\<lambda>n x. u n x + v n x) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "have \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x", "by (rule kingman_theorem_nonergodic[OF assms(1) assms(3)])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "have \"AE x in M. (\\<lambda>n. v n x / n) \\<longlonglongrightarrow> subcocycle_lim v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. v n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim v x", "by (rule kingman_theorem_nonergodic[OF assms(2) assms(4)])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. v n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. v n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "{"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. v n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "assume H: \"(\\<lambda>n. (u n x + v n x)/n) \\<longlonglongrightarrow> subcocycle_lim (\\<lambda>n x. u n x + v n x) x\"\n                    \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\"\n                    \"(\\<lambda>n. v n x / n) \\<longlonglongrightarrow> subcocycle_lim v x\""], ["proof (state)\nthis:\n  (\\<lambda>n. (u n x + v n x) / real n)\n  \\<longlonglongrightarrow> subcocycle_lim (\\<lambda>n x. u n x + v n x) x\n  (\\<lambda>n. u n x / real n) \\<longlonglongrightarrow> subcocycle_lim u x\n  (\\<lambda>n. v n x / real n) \\<longlonglongrightarrow> subcocycle_lim v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "have *: \"(u n x + v n x)/n = (u n x / n) + (v n x / n)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. (u n x + v n x) / real n = u n x / real n + v n x / real n", "by (simp add: add_divide_distrib)"], ["proof (state)\nthis:\n  (u ?n3 x + v ?n3 x) / real ?n3 = u ?n3 x / real ?n3 + v ?n3 x / real ?n3\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "have \"(\\<lambda>n. (u n x + v n x)/n) \\<longlonglongrightarrow> subcocycle_lim u x + subcocycle_lim v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. (u n x + v n x) / real n)\n    \\<longlonglongrightarrow> subcocycle_lim u x + subcocycle_lim v x", "unfolding *"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. u n x / real n + v n x / real n)\n    \\<longlonglongrightarrow> subcocycle_lim u x + subcocycle_lim v x", "by (intro tendsto_intros H)"], ["proof (state)\nthis:\n  (\\<lambda>n. (u n x + v n x) / real n)\n  \\<longlonglongrightarrow> subcocycle_lim u x + subcocycle_lim v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. (u n x + v n x) / real n)\n  \\<longlonglongrightarrow> subcocycle_lim u x + subcocycle_lim v x", "have \"subcocycle_lim (\\<lambda>n x. u n x + v n x) x = subcocycle_lim u x + subcocycle_lim v x\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. (u n x + v n x) / real n)\n  \\<longlonglongrightarrow> subcocycle_lim u x + subcocycle_lim v x\n\ngoal (1 subgoal):\n 1. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n    subcocycle_lim u x + subcocycle_lim v x", "using H(1)"], ["proof (prove)\nusing this:\n  (\\<lambda>n. (u n x + v n x) / real n)\n  \\<longlonglongrightarrow> subcocycle_lim u x + subcocycle_lim v x\n  (\\<lambda>n. (u n x + v n x) / real n)\n  \\<longlonglongrightarrow> subcocycle_lim (\\<lambda>n x. u n x + v n x) x\n\ngoal (1 subgoal):\n 1. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n    subcocycle_lim u x + subcocycle_lim v x", "by (simp add: LIMSEQ_unique)"], ["proof (state)\nthis:\n  subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n  subcocycle_lim u x + subcocycle_lim v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>n. (u n ?x5 + v n ?x5) / real n)\n           \\<longlonglongrightarrow> subcocycle_lim\n(\\<lambda>n x. u n x + v n x) ?x5;\n   (\\<lambda>n. u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5;\n   (\\<lambda>n. v n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim v ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim (\\<lambda>n x. u n x + v n x) ?x5 =\n                    subcocycle_lim u ?x5 + subcocycle_lim v ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>n. (u n x + v n x) / real n)\n             \\<longlonglongrightarrow> subcocycle_lim\n  (\\<lambda>n x. u n x + v n x) x\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  AE x in M. (\\<lambda>n. v n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim v x\n  \\<lbrakk>(\\<lambda>n. (u n ?x5 + v n ?x5) / real n)\n           \\<longlonglongrightarrow> subcocycle_lim\n(\\<lambda>n x. u n x + v n x) ?x5;\n   (\\<lambda>n. u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5;\n   (\\<lambda>n. v n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim v ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim (\\<lambda>n x. u n x + v n x) ?x5 =\n                    subcocycle_lim u ?x5 + subcocycle_lim v ?x5", "show \"AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x\n                    = subcocycle_lim u x + subcocycle_lim v x\""], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. (u n x + v n x) / real n)\n             \\<longlonglongrightarrow> subcocycle_lim\n  (\\<lambda>n x. u n x + v n x) x\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  AE x in M. (\\<lambda>n. v n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim v x\n  \\<lbrakk>(\\<lambda>n. (u n ?x5 + v n ?x5) / real n)\n           \\<longlonglongrightarrow> subcocycle_lim\n(\\<lambda>n x. u n x + v n x) ?x5;\n   (\\<lambda>n. u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5;\n   (\\<lambda>n. v n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim v ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim (\\<lambda>n x. u n x + v n x) ?x5 =\n                    subcocycle_lim u ?x5 + subcocycle_lim v ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n               subcocycle_lim u x + subcocycle_lim v x", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim (\\<lambda>n x. u n x + v n x) x =\n             subcocycle_lim u x + subcocycle_lim v x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_lim_cmult:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\" \"c\\<ge>(0::real)\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. c * u n x) > - \\<infinity>\"\n        \"AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x = c * subcocycle_lim u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. c * u n x) &&&\n    AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\n 2. AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "show *: \"subcocycle_avg_ereal (\\<lambda>n x. c * u n x) > - \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. c * u n x)", "using subcocycle_avg_cmult[OF assms(1) assms(3)] assms(2) assms(3)"], ["proof (prove)\nusing this:\n  - \\<infinity> < subcocycle_avg_ereal u \\<Longrightarrow>\n  - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\n  - \\<infinity> < subcocycle_avg_ereal u \\<Longrightarrow>\n  subcocycle_avg (\\<lambda>n x. c * u n x) = c * subcocycle_avg u\n  - \\<infinity> < subcocycle_avg_ereal u\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. c * u n x)", "by auto"], ["proof (state)\nthis:\n  - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. c * u n x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "have \"AE x in M. (\\<lambda>n. (c * u n x)/n) \\<longlonglongrightarrow> subcocycle_lim (\\<lambda>n x. c * u n x) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. c * u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim\n    (\\<lambda>n x. c * u n x) x", "by (rule kingman_theorem_nonergodic(1)[OF subcocycle_cmult[OF assms(1) assms(3)] *])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. c * u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim\n  (\\<lambda>n x. c * u n x) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. c * u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim\n  (\\<lambda>n x. c * u n x) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "have \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x", "by (rule kingman_theorem_nonergodic(1)[OF assms(1) assms(2)])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "{"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "assume H: \"(\\<lambda>n. (c * u n x)/n) \\<longlonglongrightarrow> subcocycle_lim (\\<lambda>n x. c * u n x) x\"\n                    \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\""], ["proof (state)\nthis:\n  (\\<lambda>n. c * u n x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim (\\<lambda>n x. c * u n x) x\n  (\\<lambda>n. u n x / real n) \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "have \"(\\<lambda>n. c * (u n x / n)) \\<longlonglongrightarrow> c * subcocycle_lim u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. c * (u n x / real n))\n    \\<longlonglongrightarrow> c * subcocycle_lim u x", "by (rule tendsto_mult[OF _ H(2)], auto)"], ["proof (state)\nthis:\n  (\\<lambda>n. c * (u n x / real n))\n  \\<longlonglongrightarrow> c * subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. c * (u n x / real n))\n  \\<longlonglongrightarrow> c * subcocycle_lim u x", "have \"subcocycle_lim (\\<lambda>n x. c * u n x) x = c * subcocycle_lim u x\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. c * (u n x / real n))\n  \\<longlonglongrightarrow> c * subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. subcocycle_lim (\\<lambda>n x. c * u n x) x = c * subcocycle_lim u x", "using H(1)"], ["proof (prove)\nusing this:\n  (\\<lambda>n. c * (u n x / real n))\n  \\<longlonglongrightarrow> c * subcocycle_lim u x\n  (\\<lambda>n. c * u n x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim (\\<lambda>n x. c * u n x) x\n\ngoal (1 subgoal):\n 1. subcocycle_lim (\\<lambda>n x. c * u n x) x = c * subcocycle_lim u x", "by (simp add: LIMSEQ_unique)"], ["proof (state)\nthis:\n  subcocycle_lim (\\<lambda>n x. c * u n x) x = c * subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>n. c * u n ?x5 / real n)\n           \\<longlonglongrightarrow> subcocycle_lim\n(\\<lambda>n x. c * u n x) ?x5;\n   (\\<lambda>n. u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim (\\<lambda>n x. c * u n x) ?x5 =\n                    c * subcocycle_lim u ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>n. c * u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim\n  (\\<lambda>n x. c * u n x) x\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  \\<lbrakk>(\\<lambda>n. c * u n ?x5 / real n)\n           \\<longlonglongrightarrow> subcocycle_lim\n(\\<lambda>n x. c * u n x) ?x5;\n   (\\<lambda>n. u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim (\\<lambda>n x. c * u n x) ?x5 =\n                    c * subcocycle_lim u ?x5", "show \"AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x = c * subcocycle_lim u x\""], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. c * u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim\n  (\\<lambda>n x. c * u n x) x\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  \\<lbrakk>(\\<lambda>n. c * u n ?x5 / real n)\n           \\<longlonglongrightarrow> subcocycle_lim\n(\\<lambda>n x. c * u n x) ?x5;\n   (\\<lambda>n. u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim (\\<lambda>n x. c * u n x) ?x5 =\n                    c * subcocycle_lim u ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n               c * subcocycle_lim u x", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim (\\<lambda>n x. c * u n x) x =\n             c * subcocycle_lim u x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_lim_max:\n  assumes \"subcocycle u\" \"subcocycle v\" \"subcocycle_avg_ereal u > -\\<infinity>\" \"subcocycle_avg_ereal v > -\\<infinity>\"\n  shows \"subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x)) > - \\<infinity>\"\n        \"AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x = max (subcocycle_lim u x) (subcocycle_lim v x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity>\n    < subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x)) &&&\n    AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n 2. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "show *: \"subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x)) > - \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "using subcocycle_avg_max(1)[OF assms(1) assms(2)] assms(3) assms(4)"], ["proof (prove)\nusing this:\n  \\<lbrakk>- \\<infinity> < subcocycle_avg_ereal u;\n   - \\<infinity> < subcocycle_avg_ereal v\\<rbrakk>\n  \\<Longrightarrow> - \\<infinity>\n                    < subcocycle_avg_ereal\n                       (\\<lambda>n x. max (u n x) (v n x))\n  - \\<infinity> < subcocycle_avg_ereal u\n  - \\<infinity> < subcocycle_avg_ereal v\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "by auto"], ["proof (state)\nthis:\n  - \\<infinity> < subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "have \"AE x in M. (\\<lambda>n. max (u n x) (v n x) / n) \\<longlonglongrightarrow> subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. max (u n x) (v n x) / real n)\n               \\<longlonglongrightarrow> subcocycle_lim\n    (\\<lambda>n x. max (u n x) (v n x)) x", "by (rule kingman_theorem_nonergodic[OF subcocycle_max[OF assms(1) assms(2)] *])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. max (u n x) (v n x) / real n)\n             \\<longlonglongrightarrow> subcocycle_lim\n  (\\<lambda>n x. max (u n x) (v n x)) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. max (u n x) (v n x) / real n)\n             \\<longlonglongrightarrow> subcocycle_lim\n  (\\<lambda>n x. max (u n x) (v n x)) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "have \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x", "by (rule kingman_theorem_nonergodic[OF assms(1) assms(3)])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "have \"AE x in M. (\\<lambda>n. v n x / n) \\<longlonglongrightarrow> subcocycle_lim v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. v n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim v x", "by (rule kingman_theorem_nonergodic[OF assms(2) assms(4)])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. v n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. v n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "{"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. v n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "assume H: \"(\\<lambda>n. max (u n x) (v n x) / n) \\<longlonglongrightarrow> subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x\"\n                    \"(\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_lim u x\"\n                    \"(\\<lambda>n. v n x / n) \\<longlonglongrightarrow> subcocycle_lim v x\""], ["proof (state)\nthis:\n  (\\<lambda>n. max (u n x) (v n x) / real n)\n  \\<longlonglongrightarrow> subcocycle_lim\n                             (\\<lambda>n x. max (u n x) (v n x)) x\n  (\\<lambda>n. u n x / real n) \\<longlonglongrightarrow> subcocycle_lim u x\n  (\\<lambda>n. v n x / real n) \\<longlonglongrightarrow> subcocycle_lim v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "have \"(\\<lambda>n. max (u n x / n) (v n x / n)) \\<longlonglongrightarrow> max (subcocycle_lim u x) (subcocycle_lim v x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. max (u n x / real n) (v n x / real n))\n    \\<longlonglongrightarrow> max (subcocycle_lim u x) (subcocycle_lim v x)", "apply (rule tendsto_max)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (\\<lambda>xa. u xa x / real xa)\n    \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>xa. v xa x / real xa)\n    \\<longlonglongrightarrow> subcocycle_lim v x", "using H"], ["proof (prove)\nusing this:\n  (\\<lambda>n. max (u n x) (v n x) / real n)\n  \\<longlonglongrightarrow> subcocycle_lim\n                             (\\<lambda>n x. max (u n x) (v n x)) x\n  (\\<lambda>n. u n x / real n) \\<longlonglongrightarrow> subcocycle_lim u x\n  (\\<lambda>n. v n x / real n) \\<longlonglongrightarrow> subcocycle_lim v x\n\ngoal (2 subgoals):\n 1. (\\<lambda>xa. u xa x / real xa)\n    \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>xa. v xa x / real xa)\n    \\<longlonglongrightarrow> subcocycle_lim v x", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. max (u n x / real n) (v n x / real n))\n  \\<longlonglongrightarrow> max (subcocycle_lim u x) (subcocycle_lim v x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. max (u n x / real n) (v n x / real n))\n  \\<longlonglongrightarrow> max (subcocycle_lim u x) (subcocycle_lim v x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "have \"max (u n x / n) (v n x / n) = max (u n x) (v n x) / n\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. max (u n x / real n) (v n x / real n) = max (u n x) (v n x) / real n", "by (simp add: max_divide_distrib_right)"], ["proof (state)\nthis:\n  max (u ?n3 x / real ?n3) (v ?n3 x / real ?n3) =\n  max (u ?n3 x) (v ?n3 x) / real ?n3\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. max (u n x / real n) (v n x / real n))\n  \\<longlonglongrightarrow> max (subcocycle_lim u x) (subcocycle_lim v x)\n  max (u ?n3 x / real ?n3) (v ?n3 x / real ?n3) =\n  max (u ?n3 x) (v ?n3 x) / real ?n3", "have \"(\\<lambda>n. max (u n x) (v n x) / n) \\<longlonglongrightarrow> max (subcocycle_lim u x) (subcocycle_lim v x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. max (u n x / real n) (v n x / real n))\n  \\<longlonglongrightarrow> max (subcocycle_lim u x) (subcocycle_lim v x)\n  max (u ?n3 x / real ?n3) (v ?n3 x / real ?n3) =\n  max (u ?n3 x) (v ?n3 x) / real ?n3\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. max (u n x) (v n x) / real n)\n    \\<longlonglongrightarrow> max (subcocycle_lim u x) (subcocycle_lim v x)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. max (u n x) (v n x) / real n)\n  \\<longlonglongrightarrow> max (subcocycle_lim u x) (subcocycle_lim v x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. max (u n x) (v n x) / real n)\n  \\<longlonglongrightarrow> max (subcocycle_lim u x) (subcocycle_lim v x)", "have \"subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x = max (subcocycle_lim u x) (subcocycle_lim v x)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. max (u n x) (v n x) / real n)\n  \\<longlonglongrightarrow> max (subcocycle_lim u x) (subcocycle_lim v x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n    max (subcocycle_lim u x) (subcocycle_lim v x)", "using H(1)"], ["proof (prove)\nusing this:\n  (\\<lambda>n. max (u n x) (v n x) / real n)\n  \\<longlonglongrightarrow> max (subcocycle_lim u x) (subcocycle_lim v x)\n  (\\<lambda>n. max (u n x) (v n x) / real n)\n  \\<longlonglongrightarrow> subcocycle_lim\n                             (\\<lambda>n x. max (u n x) (v n x)) x\n\ngoal (1 subgoal):\n 1. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n    max (subcocycle_lim u x) (subcocycle_lim v x)", "by (simp add: LIMSEQ_unique)"], ["proof (state)\nthis:\n  subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n  max (subcocycle_lim u x) (subcocycle_lim v x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>n. max (u n ?x5) (v n ?x5) / real n)\n           \\<longlonglongrightarrow> subcocycle_lim\n(\\<lambda>n x. max (u n x) (v n x)) ?x5;\n   (\\<lambda>n. u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5;\n   (\\<lambda>n. v n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim v ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) ?x5 =\n                    max (subcocycle_lim u ?x5) (subcocycle_lim v ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>n. max (u n x) (v n x) / real n)\n             \\<longlonglongrightarrow> subcocycle_lim\n  (\\<lambda>n x. max (u n x) (v n x)) x\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  AE x in M. (\\<lambda>n. v n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim v x\n  \\<lbrakk>(\\<lambda>n. max (u n ?x5) (v n ?x5) / real n)\n           \\<longlonglongrightarrow> subcocycle_lim\n(\\<lambda>n x. max (u n x) (v n x)) ?x5;\n   (\\<lambda>n. u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5;\n   (\\<lambda>n. v n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim v ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) ?x5 =\n                    max (subcocycle_lim u ?x5) (subcocycle_lim v ?x5)", "show \"AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x\n                    = max (subcocycle_lim u x) (subcocycle_lim v x)\""], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. max (u n x) (v n x) / real n)\n             \\<longlonglongrightarrow> subcocycle_lim\n  (\\<lambda>n x. max (u n x) (v n x)) x\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  AE x in M. (\\<lambda>n. v n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim v x\n  \\<lbrakk>(\\<lambda>n. max (u n ?x5) (v n ?x5) / real n)\n           \\<longlonglongrightarrow> subcocycle_lim\n(\\<lambda>n x. max (u n x) (v n x)) ?x5;\n   (\\<lambda>n. u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5;\n   (\\<lambda>n. v n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim v ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) ?x5 =\n                    max (subcocycle_lim u ?x5) (subcocycle_lim v ?x5)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim u x) (subcocycle_lim v x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim (\\<lambda>n x. max (u n x) (v n x)) x =\n             max (subcocycle_lim u x) (subcocycle_lim v x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subcocycle_lim_birkhoff:\n  assumes \"integrable M u\"\n  shows \"subcocycle_avg_ereal (birkhoff_sum u) > -\\<infinity>\"\n        \"AE x in M. subcocycle_lim (birkhoff_sum u) x = real_cond_exp M Invariants u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (birkhoff_sum u) &&&\n    AE x in M. subcocycle_lim (birkhoff_sum u) x =\n               real_cond_exp M Invariants u x", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. - \\<infinity> < subcocycle_avg_ereal (birkhoff_sum u)\n 2. AE x in M. subcocycle_lim (birkhoff_sum u) x =\n               real_cond_exp M Invariants u x", "show *: \"subcocycle_avg_ereal (birkhoff_sum u) > -\\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (birkhoff_sum u)", "using subcocycle_avg_birkhoff[OF assms]"], ["proof (prove)\nusing this:\n  - \\<infinity> < subcocycle_avg_ereal (birkhoff_sum u)\n  subcocycle_avg (birkhoff_sum u) = integral\\<^sup>L M u\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal (birkhoff_sum u)", "by auto"], ["proof (state)\nthis:\n  - \\<infinity> < subcocycle_avg_ereal (birkhoff_sum u)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (birkhoff_sum u) x =\n               real_cond_exp M Invariants u x", "have \"AE x in M. (\\<lambda>n. birkhoff_sum u n x / n) \\<longlonglongrightarrow> real_cond_exp M Invariants u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n               \\<longlonglongrightarrow> real_cond_exp M Invariants u x", "by (rule birkhoff_theorem_AE_nonergodic[OF assms])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (birkhoff_sum u) x =\n               real_cond_exp M Invariants u x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (birkhoff_sum u) x =\n               real_cond_exp M Invariants u x", "have \"AE x in M. (\\<lambda>n. birkhoff_sum u n x / n) \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) x", "by (rule kingman_theorem_nonergodic(1)[OF subcocycle_birkhoff[OF assms] *])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (birkhoff_sum u) x =\n               real_cond_exp M Invariants u x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (birkhoff_sum u) x =\n               real_cond_exp M Invariants u x", "{"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (birkhoff_sum u) x =\n               real_cond_exp M Invariants u x", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (birkhoff_sum u) x =\n               real_cond_exp M Invariants u x", "assume H: \"(\\<lambda>n. birkhoff_sum u n x / n) \\<longlonglongrightarrow> real_cond_exp M Invariants u x\"\n                    \"(\\<lambda>n. birkhoff_sum u n x / n) \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) x\""], ["proof (state)\nthis:\n  (\\<lambda>n. birkhoff_sum u n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n  (\\<lambda>n. birkhoff_sum u n x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (birkhoff_sum u) x =\n               real_cond_exp M Invariants u x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. birkhoff_sum u n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n  (\\<lambda>n. birkhoff_sum u n x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) x", "have \"subcocycle_lim (birkhoff_sum u) x = real_cond_exp M Invariants u x\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. birkhoff_sum u n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n  (\\<lambda>n. birkhoff_sum u n x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) x\n\ngoal (1 subgoal):\n 1. subcocycle_lim (birkhoff_sum u) x = real_cond_exp M Invariants u x", "using H(2)"], ["proof (prove)\nusing this:\n  (\\<lambda>n. birkhoff_sum u n x / real n)\n  \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n  (\\<lambda>n. birkhoff_sum u n x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) x\n  (\\<lambda>n. birkhoff_sum u n x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) x\n\ngoal (1 subgoal):\n 1. subcocycle_lim (birkhoff_sum u) x = real_cond_exp M Invariants u x", "by (simp add: LIMSEQ_unique)"], ["proof (state)\nthis:\n  subcocycle_lim (birkhoff_sum u) x = real_cond_exp M Invariants u x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (birkhoff_sum u) x =\n               real_cond_exp M Invariants u x", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>n. birkhoff_sum u n ?x5 / real n)\n           \\<longlonglongrightarrow> real_cond_exp M Invariants u ?x5;\n   (\\<lambda>n. birkhoff_sum u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim (birkhoff_sum u) ?x5 =\n                    real_cond_exp M Invariants u ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (birkhoff_sum u) x =\n               real_cond_exp M Invariants u x", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n  AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) x\n  \\<lbrakk>(\\<lambda>n. birkhoff_sum u n ?x5 / real n)\n           \\<longlonglongrightarrow> real_cond_exp M Invariants u ?x5;\n   (\\<lambda>n. birkhoff_sum u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim (birkhoff_sum u) ?x5 =\n                    real_cond_exp M Invariants u ?x5", "show \"AE x in M. subcocycle_lim (birkhoff_sum u) x = real_cond_exp M Invariants u x\""], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n             \\<longlonglongrightarrow> real_cond_exp M Invariants u x\n  AE x in M. (\\<lambda>n. birkhoff_sum u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) x\n  \\<lbrakk>(\\<lambda>n. birkhoff_sum u n ?x5 / real n)\n           \\<longlonglongrightarrow> real_cond_exp M Invariants u ?x5;\n   (\\<lambda>n. birkhoff_sum u n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim (birkhoff_sum u) ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim (birkhoff_sum u) ?x5 =\n                    real_cond_exp M Invariants u ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim (birkhoff_sum u) x =\n               real_cond_exp M Invariants u x", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim (birkhoff_sum u) x =\n             real_cond_exp M Invariants u x\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Conditional expectations of subcocycles\\<close>"], ["", "text \\<open>In this subsection, we show that the conditional expectations of a subcocycle\n(with respect to the invariant subalgebra) also converge, with the same limit as the\ncocycle.\n\nNote that the conditional expectation of a subcocycle $u$ is still a subcocycle, with the\nsame average at each step so with the same asymptotic average. Kingman theorem can be applied to\nit, and what we have to show is that the limit of this subcocycle is the same as the limit\nof the original subcocycle.\n\nWhen the asymptotic average is $>-\\infty$, both limits have the same integral, and moreover\nthe domination of the subcocycle by the Birkhoff sums of $u_n$ for fixed $n$\n(which converge to the conditional expectation of $u_n$) implies that one limit is smaller than\nthe other. Hence, they coincide almost everywhere.\n\nThe case when the asymptotic average is $-\\infty$ is deduced from the previous one by truncation.\n\\<close>"], ["", "text \\<open>First, we prove the result when the asymptotic average with finite.\\<close>"], ["", "theorem kingman_theorem_nonergodic_invariant:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\"\n  shows \"AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<longlonglongrightarrow> subcocycle_lim u x\"\n        \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(real_cond_exp M Invariants (u n) x / n - subcocycle_lim u x) \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x &&&\n    (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have int [simp]: \"integrable M (u n)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (u n)", "using subcocycle_integrable[OF assms(1)]"], ["proof (prove)\nusing this:\n  integrable M (u ?n)\n  u ?n \\<in> borel_measurable M\n\ngoal (1 subgoal):\n 1. integrable M (u n)", "by auto"], ["proof (state)\nthis:\n  integrable M (u ?n3)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  integrable M (u ?n3)", "have int2: \"integrable M (real_cond_exp M Invariants (u n))\" for n"], ["proof (prove)\nusing this:\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. integrable M (real_cond_exp M Invariants (u n))", "using real_cond_exp_int"], ["proof (prove)\nusing this:\n  integrable M (u ?n3)\n  integrable M ?f \\<Longrightarrow>\n  integrable M (real_cond_exp M Invariants ?f)\n  integrable M ?f \\<Longrightarrow>\n  integral\\<^sup>L M (real_cond_exp M Invariants ?f) = integral\\<^sup>L M ?f\n\ngoal (1 subgoal):\n 1. integrable M (real_cond_exp M Invariants (u n))", "by auto"], ["proof (state)\nthis:\n  integrable M (real_cond_exp M Invariants (u ?n3))\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "{"], ["proof (state)\nthis:\n  integrable M (real_cond_exp M Invariants (u ?n3))\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "fix n m"], ["proof (state)\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"u (n+m) x \\<le> u n x + u m ((T^^n) x)\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "using subcocycle_ineq[OF assms(1)]"], ["proof (prove)\nusing this:\n  u (?n + ?m) ?x \\<le> u ?n ?x + u ?m ((T ^^ ?n) ?x)\n\ngoal (1 subgoal):\n 1. u (n + m) x \\<le> u n x + u m ((T ^^ n) x)", "by auto"], ["proof (state)\nthis:\n  u (n + m) ?x3 \\<le> u n ?x3 + u m ((T ^^ n) ?x3)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. real_cond_exp M Invariants (u (n+m)) x \\<le> real_cond_exp M Invariants (\\<lambda>x. u n x + u m ((T^^n) x)) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M Invariants (u (n + m)) x\n               \\<le> real_cond_exp M Invariants\n                      (\\<lambda>x. u n x + u m ((T ^^ n) x)) x", "apply (rule real_cond_exp_mono)"], ["proof (prove)\ngoal (3 subgoals):\n 1. AE x in M. u (n + m) x \\<le> u n x + u m ((T ^^ n) x)\n 2. integrable M (u (n + m))\n 3. integrable M (\\<lambda>x. u n x + u m ((T ^^ n) x))", "using subcocycle_ineq[OF assms(1)]"], ["proof (prove)\nusing this:\n  u (?n + ?m) ?x \\<le> u ?n ?x + u ?m ((T ^^ ?n) ?x)\n\ngoal (3 subgoals):\n 1. AE x in M. u (n + m) x \\<le> u n x + u m ((T ^^ n) x)\n 2. integrable M (u (n + m))\n 3. integrable M (\\<lambda>x. u n x + u m ((T ^^ n) x))", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>n m x.\n        u (n + m) x \\<le> u n x + u m ((T ^^ n) x)) \\<Longrightarrow>\n    integrable M (\\<lambda>x. u n x + u m ((T ^^ n) x))", "by (rule Bochner_Integration.integrable_add, auto simp add: Tn_integral_preserving)"], ["proof (state)\nthis:\n  AE x in M. real_cond_exp M Invariants (u (n + m)) x\n             \\<le> real_cond_exp M Invariants\n                    (\\<lambda>x. u n x + u m ((T ^^ n) x)) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. real_cond_exp M Invariants (u (n + m)) x\n             \\<le> real_cond_exp M Invariants\n                    (\\<lambda>x. u n x + u m ((T ^^ n) x)) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. real_cond_exp M Invariants (\\<lambda>x. u n x + u m ((T^^n) x)) x\n              = real_cond_exp M Invariants (u n) x + real_cond_exp M Invariants (\\<lambda>x. u m ((T^^n) x)) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M Invariants\n                (\\<lambda>x. u n x + u m ((T ^^ n) x)) x =\n               real_cond_exp M Invariants (u n) x +\n               real_cond_exp M Invariants (\\<lambda>x. u m ((T ^^ n) x)) x", "by (rule real_cond_exp_add, auto simp add: Tn_integral_preserving)"], ["proof (state)\nthis:\n  AE x in M. real_cond_exp M Invariants\n              (\\<lambda>x. u n x + u m ((T ^^ n) x)) x =\n             real_cond_exp M Invariants (u n) x +\n             real_cond_exp M Invariants (\\<lambda>x. u m ((T ^^ n) x)) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. real_cond_exp M Invariants\n              (\\<lambda>x. u n x + u m ((T ^^ n) x)) x =\n             real_cond_exp M Invariants (u n) x +\n             real_cond_exp M Invariants (\\<lambda>x. u m ((T ^^ n) x)) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. real_cond_exp M Invariants (u m \\<circ> ((T^^n))) x = real_cond_exp M Invariants (u m) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M Invariants (u m \\<circ> T ^^ n) x =\n               real_cond_exp M Invariants (u m) x", "by (rule Invariants_of_foTn, simp)"], ["proof (state)\nthis:\n  AE x in M. real_cond_exp M Invariants (u m \\<circ> T ^^ n) x =\n             real_cond_exp M Invariants (u m) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. real_cond_exp M Invariants (u m \\<circ> T ^^ n) x =\n             real_cond_exp M Invariants (u m) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. real_cond_exp M Invariants (u m) x = real_cond_exp M Invariants (u m) ((T^^n) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M Invariants (u m) x =\n               real_cond_exp M Invariants (u m) ((T ^^ n) x)", "using Invariants_func_is_invariant_n[symmetric, of \"real_cond_exp M Invariants (u m)\"]"], ["proof (prove)\nusing this:\n  \\<lbrakk>real_cond_exp M Invariants (u m)\n           \\<in> borel_measurable Invariants;\n   ?x \\<in> space M\\<rbrakk>\n  \\<Longrightarrow> real_cond_exp M Invariants (u m) ?x =\n                    real_cond_exp M Invariants (u m) ((T ^^ ?n) ?x)\n\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M Invariants (u m) x =\n               real_cond_exp M Invariants (u m) ((T ^^ n) x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. real_cond_exp M Invariants (u m) x =\n             real_cond_exp M Invariants (u m) ((T ^^ n) x)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. real_cond_exp M Invariants (u (n + m)) x\n             \\<le> real_cond_exp M Invariants\n                    (\\<lambda>x. u n x + u m ((T ^^ n) x)) x\n  AE x in M. real_cond_exp M Invariants\n              (\\<lambda>x. u n x + u m ((T ^^ n) x)) x =\n             real_cond_exp M Invariants (u n) x +\n             real_cond_exp M Invariants (\\<lambda>x. u m ((T ^^ n) x)) x\n  AE x in M. real_cond_exp M Invariants (u m \\<circ> T ^^ n) x =\n             real_cond_exp M Invariants (u m) x\n  AE x in M. real_cond_exp M Invariants (u m) x =\n             real_cond_exp M Invariants (u m) ((T ^^ n) x)", "have \"AE x in M. real_cond_exp M Invariants (u (n+m)) x\n        \\<le> real_cond_exp M Invariants (u n) x + real_cond_exp M Invariants (u m) ((T^^n) x)\""], ["proof (prove)\nusing this:\n  AE x in M. real_cond_exp M Invariants (u (n + m)) x\n             \\<le> real_cond_exp M Invariants\n                    (\\<lambda>x. u n x + u m ((T ^^ n) x)) x\n  AE x in M. real_cond_exp M Invariants\n              (\\<lambda>x. u n x + u m ((T ^^ n) x)) x =\n             real_cond_exp M Invariants (u n) x +\n             real_cond_exp M Invariants (\\<lambda>x. u m ((T ^^ n) x)) x\n  AE x in M. real_cond_exp M Invariants (u m \\<circ> T ^^ n) x =\n             real_cond_exp M Invariants (u m) x\n  AE x in M. real_cond_exp M Invariants (u m) x =\n             real_cond_exp M Invariants (u m) ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M Invariants (u (n + m)) x\n               \\<le> real_cond_exp M Invariants (u n) x +\n                     real_cond_exp M Invariants (u m) ((T ^^ n) x)", "unfolding o_def"], ["proof (prove)\nusing this:\n  AE x in M. real_cond_exp M Invariants (u (n + m)) x\n             \\<le> real_cond_exp M Invariants\n                    (\\<lambda>x. u n x + u m ((T ^^ n) x)) x\n  AE x in M. real_cond_exp M Invariants\n              (\\<lambda>x. u n x + u m ((T ^^ n) x)) x =\n             real_cond_exp M Invariants (u n) x +\n             real_cond_exp M Invariants (\\<lambda>x. u m ((T ^^ n) x)) x\n  AE x in M. real_cond_exp M Invariants (\\<lambda>x. u m ((T ^^ n) x)) x =\n             real_cond_exp M Invariants (u m) x\n  AE x in M. real_cond_exp M Invariants (u m) x =\n             real_cond_exp M Invariants (u m) ((T ^^ n) x)\n\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M Invariants (u (n + m)) x\n               \\<le> real_cond_exp M Invariants (u n) x +\n                     real_cond_exp M Invariants (u m) ((T ^^ n) x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. real_cond_exp M Invariants (u (n + m)) x\n             \\<le> real_cond_exp M Invariants (u n) x +\n                   real_cond_exp M Invariants (u m) ((T ^^ n) x)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "}"], ["proof (state)\nthis:\n  AE x in M. real_cond_exp M Invariants (u (?n5 + ?m5)) x\n             \\<le> real_cond_exp M Invariants (u ?n5) x +\n                   real_cond_exp M Invariants (u ?m5) ((T ^^ ?n5) x)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "with subcocycle_AE[OF this int2]"], ["proof (chain)\npicking this:\n  \\<exists>w.\n     subcocycle w \\<and>\n     (AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x)\n  AE x in M. real_cond_exp M Invariants (u (?n5 + ?m5)) x\n             \\<le> real_cond_exp M Invariants (u ?n5) x +\n                   real_cond_exp M Invariants (u ?m5) ((T ^^ ?n5) x)", "obtain w where w: \"subcocycle w\" \"AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\""], ["proof (prove)\nusing this:\n  \\<exists>w.\n     subcocycle w \\<and>\n     (AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x)\n  AE x in M. real_cond_exp M Invariants (u (?n5 + ?m5)) x\n             \\<le> real_cond_exp M Invariants (u ?n5) x +\n                   real_cond_exp M Invariants (u ?m5) ((T ^^ ?n5) x)\n\ngoal (1 subgoal):\n 1. (\\<And>w.\n        \\<lbrakk>subcocycle w;\n         AE x in M. \\<forall>n.\n                       w n x = real_cond_exp M Invariants (u n) x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  subcocycle w\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have [measurable]: \"integrable M (w n)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (w n)", "using subcocycle_integrable[OF w(1)]"], ["proof (prove)\nusing this:\n  integrable M (w ?n)\n  w ?n \\<in> borel_measurable M\n\ngoal (1 subgoal):\n 1. integrable M (w n)", "by simp"], ["proof (state)\nthis:\n  integrable M (w ?n3)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "{"], ["proof (state)\nthis:\n  integrable M (w ?n3)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "fix n::nat"], ["proof (state)\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"(\\<integral>x. w n x / n \\<partial>M) = (\\<integral>x. real_cond_exp M Invariants (u n) x / n \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. LINT x|M. w n x / real n =\n    LINT x|M. real_cond_exp M Invariants (u n) x / real n", "apply (rule integral_cong_AE)"], ["proof (prove)\ngoal (3 subgoals):\n 1. (\\<lambda>x. w n x / real n) \\<in> borel_measurable M\n 2. (\\<lambda>x. real_cond_exp M Invariants (u n) x / real n)\n    \\<in> borel_measurable M\n 3. AE x in M. w n x / real n = real_cond_exp M Invariants (u n) x / real n", "using w(2)"], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (3 subgoals):\n 1. (\\<lambda>x. w n x / real n) \\<in> borel_measurable M\n 2. (\\<lambda>x. real_cond_exp M Invariants (u n) x / real n)\n    \\<in> borel_measurable M\n 3. AE x in M. w n x / real n = real_cond_exp M Invariants (u n) x / real n", "by auto"], ["proof (state)\nthis:\n  LINT x|M. w n x / real n =\n  LINT x|M. real_cond_exp M Invariants (u n) x / real n\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "also"], ["proof (state)\nthis:\n  LINT x|M. w n x / real n =\n  LINT x|M. real_cond_exp M Invariants (u n) x / real n\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"... = (\\<integral>x. real_cond_exp M Invariants (u n) x \\<partial>M) / n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. LINT x|M. real_cond_exp M Invariants (u n) x / real n =\n    integral\\<^sup>L M (real_cond_exp M Invariants (u n)) / real n", "by (rule integral_divide_zero)"], ["proof (state)\nthis:\n  LINT x|M. real_cond_exp M Invariants (u n) x / real n =\n  integral\\<^sup>L M (real_cond_exp M Invariants (u n)) / real n\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "also"], ["proof (state)\nthis:\n  LINT x|M. real_cond_exp M Invariants (u n) x / real n =\n  integral\\<^sup>L M (real_cond_exp M Invariants (u n)) / real n\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"... = (\\<integral>x. u n x \\<partial>M) / n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (real_cond_exp M Invariants (u n)) / real n =\n    integral\\<^sup>L M (u n) / real n", "by (simp add: divide_simps real_cond_exp_int(2)[OF int[of n]])"], ["proof (state)\nthis:\n  integral\\<^sup>L M (real_cond_exp M Invariants (u n)) / real n =\n  integral\\<^sup>L M (u n) / real n\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "also"], ["proof (state)\nthis:\n  integral\\<^sup>L M (real_cond_exp M Invariants (u n)) / real n =\n  integral\\<^sup>L M (u n) / real n\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"... = (\\<integral>x. u n x / n \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (u n) / real n = LINT x|M. u n x / real n", "by (rule integral_divide_zero[symmetric])"], ["proof (state)\nthis:\n  integral\\<^sup>L M (u n) / real n = LINT x|M. u n x / real n\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "finally"], ["proof (chain)\npicking this:\n  LINT x|M. w n x / real n = LINT x|M. u n x / real n", "have \"ereal (\\<integral>x. w n x / n \\<partial>M) = ereal (\\<integral>x. u n x / n \\<partial>M)\""], ["proof (prove)\nusing this:\n  LINT x|M. w n x / real n = LINT x|M. u n x / real n\n\ngoal (1 subgoal):\n 1. ereal (LINT x|M. w n x / real n) = ereal (LINT x|M. u n x / real n)", "by simp"], ["proof (state)\nthis:\n  ereal (LINT x|M. w n x / real n) = ereal (LINT x|M. u n x / real n)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "}"], ["proof (state)\nthis:\n  ereal (LINT x|M. w ?n5 x / real ?n5) =\n  ereal (LINT x|M. u ?n5 x / real ?n5)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "note * = this"], ["proof (state)\nthis:\n  ereal (LINT x|M. w ?n5 x / real ?n5) =\n  ereal (LINT x|M. u ?n5 x / real ?n5)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"(\\<lambda>n. (\\<integral>x. u n x / n \\<partial>M)) \\<longlonglongrightarrow> subcocycle_avg_ereal w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal w", "apply (rule Lim_transform_eventually[OF subcocycle_int_tendsto_avg_ereal[OF w(1)]])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       ereal (LINT xa|M. w x xa / real x) =\n       ereal (LINT xa|M. u x xa / real x)", "using *"], ["proof (prove)\nusing this:\n  ereal (LINT x|M. w ?n5 x / real ?n5) =\n  ereal (LINT x|M. u ?n5 x / real ?n5)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       ereal (LINT xa|M. w x xa / real x) =\n       ereal (LINT xa|M. u x xa / real x)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal w\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal w", "have \"subcocycle_avg_ereal u = subcocycle_avg_ereal w\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal w\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u = subcocycle_avg_ereal w", "using subcocycle_int_tendsto_avg_ereal[OF assms(1)] LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal w\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal u\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u = subcocycle_avg_ereal w", "by auto"], ["proof (state)\nthis:\n  subcocycle_avg_ereal u = subcocycle_avg_ereal w\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  subcocycle_avg_ereal u = subcocycle_avg_ereal w", "have \"subcocycle_avg_ereal w > -\\<infinity>\""], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal u = subcocycle_avg_ereal w\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal w", "using assms(2)"], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal u = subcocycle_avg_ereal w\n  - \\<infinity> < subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal w", "by simp"], ["proof (state)\nthis:\n  - \\<infinity> < subcocycle_avg_ereal w\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"subcocycle_avg u = subcocycle_avg w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_avg u = subcocycle_avg w", "using \\<open>subcocycle_avg_ereal u = subcocycle_avg_ereal w\\<close>"], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal u = subcocycle_avg_ereal w\n\ngoal (1 subgoal):\n 1. subcocycle_avg u = subcocycle_avg w", "unfolding subcocycle_avg_def"], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal u = subcocycle_avg_ereal w\n\ngoal (1 subgoal):\n 1. real_of_ereal (subcocycle_avg_ereal u) =\n    real_of_ereal (subcocycle_avg_ereal w)", "by simp"], ["proof (state)\nthis:\n  subcocycle_avg u = subcocycle_avg w\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have *: \"AE x in M. N > 0 \\<longrightarrow> subcocycle_lim_ereal u x \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\" for N"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. 0 < N \\<longrightarrow>\n               subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "by (cases \"N = 0\", auto simp add: subcocycle_lim_ereal_atmost_uN_invariants[OF assms(1)])"], ["proof (state)\nthis:\n  AE x in M. 0 < ?N3 \\<longrightarrow>\n             subcocycle_lim_ereal u x\n             \\<le> ereal\n                    (real_cond_exp M Invariants\n                      (\\<lambda>x. u ?N3 x / real ?N3) x)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. \\<forall>N. N > 0 \\<longrightarrow> subcocycle_lim_ereal u x \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>N>0.\n                  subcocycle_lim_ereal u x\n                  \\<le> ereal\n                         (real_cond_exp M Invariants\n                           (\\<lambda>x. u N x / real N) x)", "by (subst AE_all_countable, intro allI, simp add: *)"], ["proof (state)\nthis:\n  AE x in M. \\<forall>N>0.\n                subcocycle_lim_ereal u x\n                \\<le> ereal\n                       (real_cond_exp M Invariants\n                         (\\<lambda>x. u N x / real N) x)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. \\<forall>N>0.\n                subcocycle_lim_ereal u x\n                \\<le> ereal\n                       (real_cond_exp M Invariants\n                         (\\<lambda>x. u N x / real N) x)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. subcocycle_lim_ereal u x = ereal(subcocycle_lim u x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)", "by (rule subcocycle_lim_real_ereal[OF assms])"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. (\\<lambda>N. u N x / N) \\<longlonglongrightarrow> subcocycle_lim u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>N. u N x / real N)\n               \\<longlonglongrightarrow> subcocycle_lim u x", "using kingman_theorem_nonergodic[OF assms]"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  integrable M (subcocycle_lim u)\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>u n x / real n -\n                                    subcocycle_lim u x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>N. u N x / real N)\n               \\<longlonglongrightarrow> subcocycle_lim u x", "by simp"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>N. u N x / real N)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>N. u N x / real N)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. (\\<lambda>N. w N x / N) \\<longlonglongrightarrow> subcocycle_lim w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>N. w N x / real N)\n               \\<longlonglongrightarrow> subcocycle_lim w x", "using kingman_theorem_nonergodic[OF w(1) \\<open>subcocycle_avg_ereal w > -\\<infinity>\\<close> ]"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>n. w n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n  integrable M (subcocycle_lim w)\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>w n x / real n -\n                                    subcocycle_lim w x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>N. w N x / real N)\n               \\<longlonglongrightarrow> subcocycle_lim w x", "by simp"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>N. w N x / real N)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>N. w N x / real N)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x", "using w(2)"], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x", "by simp"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. \\<forall>n. real_cond_exp M Invariants (u n) x / n = real_cond_exp M Invariants (\\<lambda>x. u n x / n) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>n.\n                  real_cond_exp M Invariants (u n) x / real n =\n                  real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x", "apply (subst AE_all_countable, intro allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       AE x in M. real_cond_exp M Invariants (u i) x / real i =\n                  real_cond_exp M Invariants (\\<lambda>x. u i x / real i) x", "using AE_symmetric[OF real_cond_exp_cdiv[OF int]]"], ["proof (prove)\nusing this:\n  AE x in M. real_cond_exp M Invariants (u ?n5) x / ?c1 =\n             real_cond_exp M Invariants (\\<lambda>x. u ?n5 x / ?c1) x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       AE x in M. real_cond_exp M Invariants (u i) x / real i =\n                  real_cond_exp M Invariants (\\<lambda>x. u i x / real i) x", "by auto"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (u n) x / real n =\n                real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (u n) x / real n =\n                real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "{"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (u n) x / real n =\n                real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "assume x: \"\\<forall>N. N > 0 \\<longrightarrow> subcocycle_lim_ereal u x \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\"\n                    \"subcocycle_lim_ereal u x = ereal(subcocycle_lim u x)\"\n                    \"(\\<lambda>N. u N x / N) \\<longlonglongrightarrow> subcocycle_lim u x\"\n                    \"(\\<lambda>N. w N x / N) \\<longlonglongrightarrow> subcocycle_lim w x\"\n                    \"\\<forall>n. w n x = real_cond_exp M Invariants (u n) x\"\n                    \"\\<forall>n. real_cond_exp M Invariants (u n) x / n = real_cond_exp M Invariants (\\<lambda>x. u n x / n) x\""], ["proof (state)\nthis:\n  \\<forall>N>0.\n     subcocycle_lim_ereal u x\n     \\<le> ereal (real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x)\n  subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)\n  (\\<lambda>N. u N x / real N) \\<longlonglongrightarrow> subcocycle_lim u x\n  (\\<lambda>N. w N x / real N) \\<longlonglongrightarrow> subcocycle_lim w x\n  \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n  \\<forall>n.\n     real_cond_exp M Invariants (u n) x / real n =\n     real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "{"], ["proof (state)\nthis:\n  \\<forall>N>0.\n     subcocycle_lim_ereal u x\n     \\<le> ereal (real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x)\n  subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)\n  (\\<lambda>N. u N x / real N) \\<longlonglongrightarrow> subcocycle_lim u x\n  (\\<lambda>N. w N x / real N) \\<longlonglongrightarrow> subcocycle_lim w x\n  \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n  \\<forall>n.\n     real_cond_exp M Invariants (u n) x / real n =\n     real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "fix N::nat"], ["proof (state)\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "assume \"N\\<ge>1\""], ["proof (state)\nthis:\n  1 \\<le> N\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"subcocycle_lim u x \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_lim u x\n    \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x", "using x(1) x(2) \\<open>N\\<ge>1\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>N>0.\n     subcocycle_lim_ereal u x\n     \\<le> ereal (real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x)\n  subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)\n  1 \\<le> N\n\ngoal (1 subgoal):\n 1. subcocycle_lim u x\n    \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x", "by auto"], ["proof (state)\nthis:\n  subcocycle_lim u x\n  \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "also"], ["proof (state)\nthis:\n  subcocycle_lim u x\n  \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"... = real_cond_exp M Invariants (u N) x / N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x =\n    real_cond_exp M Invariants (u N) x / real N", "using x(6)"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     real_cond_exp M Invariants (u n) x / real n =\n     real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x\n\ngoal (1 subgoal):\n 1. real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x =\n    real_cond_exp M Invariants (u N) x / real N", "by simp"], ["proof (state)\nthis:\n  real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x =\n  real_cond_exp M Invariants (u N) x / real N\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "also"], ["proof (state)\nthis:\n  real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x =\n  real_cond_exp M Invariants (u N) x / real N\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"... = w N x / N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_cond_exp M Invariants (u N) x / real N = w N x / real N", "using x(5)"], ["proof (prove)\nusing this:\n  \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (1 subgoal):\n 1. real_cond_exp M Invariants (u N) x / real N = w N x / real N", "by simp"], ["proof (state)\nthis:\n  real_cond_exp M Invariants (u N) x / real N = w N x / real N\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "finally"], ["proof (chain)\npicking this:\n  subcocycle_lim u x \\<le> w N x / real N", "have \"subcocycle_lim u x \\<le> w N x / N\""], ["proof (prove)\nusing this:\n  subcocycle_lim u x \\<le> w N x / real N\n\ngoal (1 subgoal):\n 1. subcocycle_lim u x \\<le> w N x / real N", "by simp"], ["proof (state)\nthis:\n  subcocycle_lim u x \\<le> w N x / real N\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "}"], ["proof (state)\nthis:\n  1 \\<le> ?N5 \\<Longrightarrow> subcocycle_lim u x \\<le> w ?N5 x / real ?N5\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "note * = this"], ["proof (state)\nthis:\n  1 \\<le> ?N5 \\<Longrightarrow> subcocycle_lim u x \\<le> w ?N5 x / real ?N5\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"subcocycle_lim u x \\<le> subcocycle_lim w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_lim u x \\<le> subcocycle_lim w x", "apply (rule LIMSEQ_le_const[OF x(4)])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>N. \\<forall>n\\<ge>N. subcocycle_lim u x \\<le> w n x / real n", "using *"], ["proof (prove)\nusing this:\n  1 \\<le> ?N5 \\<Longrightarrow> subcocycle_lim u x \\<le> w ?N5 x / real ?N5\n\ngoal (1 subgoal):\n 1. \\<exists>N. \\<forall>n\\<ge>N. subcocycle_lim u x \\<le> w n x / real n", "by auto"], ["proof (state)\nthis:\n  subcocycle_lim u x \\<le> subcocycle_lim w x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>N>0.\n              subcocycle_lim_ereal u ?x5\n              \\<le> ereal\n                     (real_cond_exp M Invariants\n                       (\\<lambda>x. u N x / real N) ?x5);\n   subcocycle_lim_ereal u ?x5 = ereal (subcocycle_lim u ?x5);\n   (\\<lambda>N. u N ?x5 / real N)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5;\n   (\\<lambda>N. w N ?x5 / real N)\n   \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   \\<forall>n. w n ?x5 = real_cond_exp M Invariants (u n) ?x5;\n   \\<forall>n.\n      real_cond_exp M Invariants (u n) ?x5 / real n =\n      real_cond_exp M Invariants (\\<lambda>x. u n x / real n) ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim u ?x5 \\<le> subcocycle_lim w ?x5\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. \\<forall>N>0.\n                subcocycle_lim_ereal u x\n                \\<le> ereal\n                       (real_cond_exp M Invariants\n                         (\\<lambda>x. u N x / real N) x)\n  AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)\n  AE x in M. (\\<lambda>N. u N x / real N)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  AE x in M. (\\<lambda>N. w N x / real N)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (u n) x / real n =\n                real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x\n  \\<lbrakk>\\<forall>N>0.\n              subcocycle_lim_ereal u ?x5\n              \\<le> ereal\n                     (real_cond_exp M Invariants\n                       (\\<lambda>x. u N x / real N) ?x5);\n   subcocycle_lim_ereal u ?x5 = ereal (subcocycle_lim u ?x5);\n   (\\<lambda>N. u N ?x5 / real N)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5;\n   (\\<lambda>N. w N ?x5 / real N)\n   \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   \\<forall>n. w n ?x5 = real_cond_exp M Invariants (u n) ?x5;\n   \\<forall>n.\n      real_cond_exp M Invariants (u n) ?x5 / real n =\n      real_cond_exp M Invariants (\\<lambda>x. u n x / real n) ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim u ?x5 \\<le> subcocycle_lim w ?x5", "have *: \"AE x in M. subcocycle_lim u x \\<le> subcocycle_lim w x\""], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>N>0.\n                subcocycle_lim_ereal u x\n                \\<le> ereal\n                       (real_cond_exp M Invariants\n                         (\\<lambda>x. u N x / real N) x)\n  AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)\n  AE x in M. (\\<lambda>N. u N x / real N)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n  AE x in M. (\\<lambda>N. w N x / real N)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (u n) x / real n =\n                real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x\n  \\<lbrakk>\\<forall>N>0.\n              subcocycle_lim_ereal u ?x5\n              \\<le> ereal\n                     (real_cond_exp M Invariants\n                       (\\<lambda>x. u N x / real N) ?x5);\n   subcocycle_lim_ereal u ?x5 = ereal (subcocycle_lim u ?x5);\n   (\\<lambda>N. u N ?x5 / real N)\n   \\<longlonglongrightarrow> subcocycle_lim u ?x5;\n   (\\<lambda>N. w N ?x5 / real N)\n   \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   \\<forall>n. w n ?x5 = real_cond_exp M Invariants (u n) ?x5;\n   \\<forall>n.\n      real_cond_exp M Invariants (u n) ?x5 / real n =\n      real_cond_exp M Invariants (\\<lambda>x. u n x / real n) ?x5\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim u ?x5 \\<le> subcocycle_lim w ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim u x \\<le> subcocycle_lim w x", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim u x \\<le> subcocycle_lim w x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have **: \"(\\<integral>x. subcocycle_lim u x \\<partial>M) = (\\<integral>x. subcocycle_lim w x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (subcocycle_lim u) =\n    integral\\<^sup>L M (subcocycle_lim w)", "using subcocycle_lim_avg[OF assms] subcocycle_lim_avg[OF w(1) \\<open>subcocycle_avg_ereal w > -\\<infinity>\\<close>]\n            \\<open>subcocycle_avg u = subcocycle_avg w\\<close>"], ["proof (prove)\nusing this:\n  integral\\<^sup>L M (subcocycle_lim u) = subcocycle_avg u\n  integral\\<^sup>L M (subcocycle_lim w) = subcocycle_avg w\n  subcocycle_avg u = subcocycle_avg w\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (subcocycle_lim u) =\n    integral\\<^sup>L M (subcocycle_lim w)", "by simp"], ["proof (state)\nthis:\n  integral\\<^sup>L M (subcocycle_lim u) =\n  integral\\<^sup>L M (subcocycle_lim w)\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have AE_eq: \"AE x in M. subcocycle_lim u x = subcocycle_lim w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim u x = subcocycle_lim w x", "by (rule integral_ineq_eq_0_then_AE[OF * kingman_theorem_nonergodic(2)[OF assms]\n        kingman_theorem_nonergodic(2)[OF w(1) \\<open>subcocycle_avg_ereal w > -\\<infinity>\\<close>] **])"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim u x = subcocycle_lim w x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim u x = subcocycle_lim w x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. (\\<lambda>n. w n x / n) \\<longlonglongrightarrow> subcocycle_lim w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. w n x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim w x", "by (rule kingman_theorem_nonergodic(1)[OF w(1) \\<open>subcocycle_avg_ereal w > -\\<infinity>\\<close>])"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. w n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. w n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x", "using w(2)"], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x", "by auto"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "{"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "assume H: \"subcocycle_lim u x = subcocycle_lim w x\"\n                    \"(\\<lambda>n. w n x / n) \\<longlonglongrightarrow> subcocycle_lim w x\"\n                    \"\\<forall>n. w n x = real_cond_exp M Invariants (u n) x\""], ["proof (state)\nthis:\n  subcocycle_lim u x = subcocycle_lim w x\n  (\\<lambda>n. w n x / real n) \\<longlonglongrightarrow> subcocycle_lim w x\n  \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  subcocycle_lim u x = subcocycle_lim w x\n  (\\<lambda>n. w n x / real n) \\<longlonglongrightarrow> subcocycle_lim w x\n  \\<forall>n. w n x = real_cond_exp M Invariants (u n) x", "have \"(\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<longlonglongrightarrow> subcocycle_lim u x\""], ["proof (prove)\nusing this:\n  subcocycle_lim u x = subcocycle_lim w x\n  (\\<lambda>n. w n x / real n) \\<longlonglongrightarrow> subcocycle_lim w x\n  \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n    \\<longlonglongrightarrow> subcocycle_lim u x", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "}"], ["proof (state)\nthis:\n  \\<lbrakk>subcocycle_lim u ?x5 = subcocycle_lim w ?x5;\n   (\\<lambda>n. w n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   \\<forall>n. w n ?x5 = real_cond_exp M Invariants (u n) ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n.\n                        real_cond_exp M Invariants (u n) ?x5 / real n)\n                    \\<longlonglongrightarrow> subcocycle_lim u ?x5\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. subcocycle_lim u x = subcocycle_lim w x\n  AE x in M. (\\<lambda>n. w n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n  \\<lbrakk>subcocycle_lim u ?x5 = subcocycle_lim w ?x5;\n   (\\<lambda>n. w n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   \\<forall>n. w n ?x5 = real_cond_exp M Invariants (u n) ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n.\n                        real_cond_exp M Invariants (u n) ?x5 / real n)\n                    \\<longlonglongrightarrow> subcocycle_lim u ?x5", "show \"AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<longlonglongrightarrow> subcocycle_lim u x\""], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim u x = subcocycle_lim w x\n  AE x in M. (\\<lambda>n. w n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n  \\<lbrakk>subcocycle_lim u ?x5 = subcocycle_lim w ?x5;\n   (\\<lambda>n. w n ?x5 / real n)\n   \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   \\<forall>n. w n ?x5 = real_cond_exp M Invariants (u n) ?x5\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>n.\n                        real_cond_exp M Invariants (u n) ?x5 / real n)\n                    \\<longlonglongrightarrow> subcocycle_lim u ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim u x", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "{"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "fix n::nat"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. subcocycle_lim u x = subcocycle_lim w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim u x = subcocycle_lim w x", "using AE_eq"], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim u x = subcocycle_lim w x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim u x = subcocycle_lim w x", "by simp"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim u x = subcocycle_lim w x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim u x = subcocycle_lim w x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"AE x in M. w n x = real_cond_exp M Invariants (u n) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. w n x = real_cond_exp M Invariants (u n) x", "using w(2)"], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>n. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (1 subgoal):\n 1. AE x in M. w n x = real_cond_exp M Invariants (u n) x", "by auto"], ["proof (state)\nthis:\n  AE x in M. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  AE x in M. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "{"], ["proof (state)\nthis:\n  AE x in M. w n x = real_cond_exp M Invariants (u n) x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "assume H: \"subcocycle_lim u x = subcocycle_lim w x\"\n                    \"w n x = real_cond_exp M Invariants (u n) x\""], ["proof (state)\nthis:\n  subcocycle_lim u x = subcocycle_lim w x\n  w n x = real_cond_exp M Invariants (u n) x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  subcocycle_lim u x = subcocycle_lim w x\n  w n x = real_cond_exp M Invariants (u n) x", "have \"ennreal \\<bar>real_cond_exp M Invariants (u n) x / real n - subcocycle_lim u x\\<bar>\n                = ennreal \\<bar>w n x / real n - subcocycle_lim w x\\<bar>\""], ["proof (prove)\nusing this:\n  subcocycle_lim u x = subcocycle_lim w x\n  w n x = real_cond_exp M Invariants (u n) x\n\ngoal (1 subgoal):\n 1. ennreal\n     \\<bar>real_cond_exp M Invariants (u n) x / real n -\n           subcocycle_lim u x\\<bar> =\n    ennreal \\<bar>w n x / real n - subcocycle_lim w x\\<bar>", "by auto"], ["proof (state)\nthis:\n  ennreal\n   \\<bar>real_cond_exp M Invariants (u n) x / real n -\n         subcocycle_lim u x\\<bar> =\n  ennreal \\<bar>w n x / real n - subcocycle_lim w x\\<bar>\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "}"], ["proof (state)\nthis:\n  \\<lbrakk>subcocycle_lim u ?x5 = subcocycle_lim w ?x5;\n   w n ?x5 = real_cond_exp M Invariants (u n) ?x5\\<rbrakk>\n  \\<Longrightarrow> ennreal\n                     \\<bar>real_cond_exp M Invariants (u n) ?x5 / real n -\n                           subcocycle_lim u ?x5\\<bar> =\n                    ennreal\n                     \\<bar>w n ?x5 / real n - subcocycle_lim w ?x5\\<bar>\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. subcocycle_lim u x = subcocycle_lim w x\n  AE x in M. w n x = real_cond_exp M Invariants (u n) x\n  \\<lbrakk>subcocycle_lim u ?x5 = subcocycle_lim w ?x5;\n   w n ?x5 = real_cond_exp M Invariants (u n) ?x5\\<rbrakk>\n  \\<Longrightarrow> ennreal\n                     \\<bar>real_cond_exp M Invariants (u n) ?x5 / real n -\n                           subcocycle_lim u ?x5\\<bar> =\n                    ennreal\n                     \\<bar>w n ?x5 / real n - subcocycle_lim w ?x5\\<bar>", "have \"AE x in M. ennreal \\<bar>real_cond_exp M Invariants (u n) x / real n - subcocycle_lim u x\\<bar>\n        = ennreal \\<bar>w n x / real n - subcocycle_lim w x\\<bar>\""], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim u x = subcocycle_lim w x\n  AE x in M. w n x = real_cond_exp M Invariants (u n) x\n  \\<lbrakk>subcocycle_lim u ?x5 = subcocycle_lim w ?x5;\n   w n ?x5 = real_cond_exp M Invariants (u n) ?x5\\<rbrakk>\n  \\<Longrightarrow> ennreal\n                     \\<bar>real_cond_exp M Invariants (u n) ?x5 / real n -\n                           subcocycle_lim u ?x5\\<bar> =\n                    ennreal\n                     \\<bar>w n ?x5 / real n - subcocycle_lim w ?x5\\<bar>\n\ngoal (1 subgoal):\n 1. AE x in M. ennreal\n                \\<bar>real_cond_exp M Invariants (u n) x / real n -\n                      subcocycle_lim u x\\<bar> =\n               ennreal \\<bar>w n x / real n - subcocycle_lim w x\\<bar>", "by auto"], ["proof (state)\nthis:\n  AE x in M. ennreal\n              \\<bar>real_cond_exp M Invariants (u n) x / real n -\n                    subcocycle_lim u x\\<bar> =\n             ennreal \\<bar>w n x / real n - subcocycle_lim w x\\<bar>\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  AE x in M. ennreal\n              \\<bar>real_cond_exp M Invariants (u n) x / real n -\n                    subcocycle_lim u x\\<bar> =\n             ennreal \\<bar>w n x / real n - subcocycle_lim w x\\<bar>", "have \"(\\<integral>\\<^sup>+ x. ennreal \\<bar>real_cond_exp M Invariants (u n) x / real n - subcocycle_lim u x\\<bar> \\<partial>M)\n              = (\\<integral>\\<^sup>+ x. ennreal \\<bar>w n x / real n - subcocycle_lim w x\\<bar> \\<partial>M)\""], ["proof (prove)\nusing this:\n  AE x in M. ennreal\n              \\<bar>real_cond_exp M Invariants (u n) x / real n -\n                    subcocycle_lim u x\\<bar> =\n             ennreal \\<bar>w n x / real n - subcocycle_lim w x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>real_cond_exp M Invariants (u n) x /\n                                  real n -\n                                  subcocycle_lim u x\\<bar>\n                       \\<partial>M =\n    \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>w n x / real n - subcocycle_lim w x\\<bar>\n                       \\<partial>M", "by (rule nn_integral_cong_AE)"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>real_cond_exp M Invariants (u n) x /\n                                real n -\n                                subcocycle_lim u x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>w n x / real n - subcocycle_lim w x\\<bar>\n                     \\<partial>M\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "}"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>real_cond_exp M Invariants (u ?n5) x /\n                                real ?n5 -\n                                subcocycle_lim u x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>w ?n5 x / real ?n5 -\n                                subcocycle_lim w x\\<bar>\n                     \\<partial>M\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>real_cond_exp M Invariants (u ?n5) x /\n                                real ?n5 -\n                                subcocycle_lim u x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>w ?n5 x / real ?n5 -\n                                subcocycle_lim w x\\<bar>\n                     \\<partial>M\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"(\\<lambda>n. (\\<integral>\\<^sup>+ x. \\<bar>w n x / real n - subcocycle_lim w x\\<bar> \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>w n x / real n -\nsubcocycle_lim w x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "by (rule kingman_theorem_nonergodic(3)[OF w(1) \\<open>subcocycle_avg_ereal w > -\\<infinity>\\<close>])"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>w n x / real n -\n                                    subcocycle_lim w x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "ultimately"], ["proof (chain)\npicking this:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>real_cond_exp M Invariants (u ?n5) x /\n                                real ?n5 -\n                                subcocycle_lim u x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>w ?n5 x / real ?n5 -\n                                subcocycle_lim w x\\<bar>\n                     \\<partial>M\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>w n x / real n -\n                                    subcocycle_lim w x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0", "show \"(\\<lambda>n. (\\<integral>\\<^sup>+ x. \\<bar>real_cond_exp M Invariants (u n) x / real n - subcocycle_lim u x\\<bar> \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>real_cond_exp M Invariants (u ?n5) x /\n                                real ?n5 -\n                                subcocycle_lim u x\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>w ?n5 x / real ?n5 -\n                                subcocycle_lim w x\\<bar>\n                     \\<partial>M\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>w n x / real n -\n                                    subcocycle_lim w x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>real_cond_exp M Invariants (u n) x /\nreal n -\nsubcocycle_lim u x\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>real_cond_exp M Invariants (u n) x /\n                                    real n -\n                                    subcocycle_lim u x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Then, we extend it by truncation to the general case, i.e., to the asymptotic\nlimit in extended reals.\\<close>"], ["", "theorem kingman_theorem_AE_nonergodic_invariant_ereal:\n  assumes \"subcocycle u\"\n  shows \"AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "have [simp]: \"subcocycle u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle u", "using assms"], ["proof (prove)\nusing this:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. subcocycle u", "by simp"], ["proof (state)\nthis:\n  subcocycle u\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "have int [simp]: \"integrable M (u n)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (u n)", "using subcocycle_integrable[OF assms(1)]"], ["proof (prove)\nusing this:\n  integrable M (u ?n)\n  u ?n \\<in> borel_measurable M\n\ngoal (1 subgoal):\n 1. integrable M (u n)", "by auto"], ["proof (state)\nthis:\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "have limsup_ineq_K: \"AE x in M.\n    limsup (\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<le> max (subcocycle_lim_ereal u x) (-real K)\" for K::nat"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "define v where \"v = (\\<lambda> (n::nat) (x::'a). (-n * real K))\""], ["proof (state)\nthis:\n  v = (\\<lambda>x xa. - real x * real K)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "have [simp]: \"subcocycle v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle v", "unfolding v_def subcocycle_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>n. integrable M (\\<lambda>x. - real n * real K)) \\<and>\n    (\\<forall>n m x.\n        - real (n + m) * real K \\<le> - real n * real K + - real m * real K)", "by (auto simp add: algebra_simps)"], ["proof (state)\nthis:\n  subcocycle v\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "have \"ereal (\\<integral>x. v n x / n \\<partial>M) = ereal(- real K * measure M (space M))\" if \"n\\<ge>1\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (LINT x|M. v n x / real n) =\n    ereal (- real K * Sigma_Algebra.measure M (space M))", "unfolding v_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (LINT x|M. - real n * real K / real n) =\n    ereal (- real K * Sigma_Algebra.measure M (space M))", "using that"], ["proof (prove)\nusing this:\n  1 \\<le> n\n\ngoal (1 subgoal):\n 1. ereal (LINT x|M. - real n * real K / real n) =\n    ereal (- real K * Sigma_Algebra.measure M (space M))", "by simp"], ["proof (state)\nthis:\n  1 \\<le> ?n3 \\<Longrightarrow>\n  ereal (LINT x|M. v ?n3 x / real ?n3) =\n  ereal (- real K * Sigma_Algebra.measure M (space M))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "then"], ["proof (chain)\npicking this:\n  1 \\<le> ?n3 \\<Longrightarrow>\n  ereal (LINT x|M. v ?n3 x / real ?n3) =\n  ereal (- real K * Sigma_Algebra.measure M (space M))", "have \"(\\<lambda>n. ereal (\\<integral>x. v n x / n \\<partial>M)) \\<longlonglongrightarrow> ereal(- real K * measure M (space M))\""], ["proof (prove)\nusing this:\n  1 \\<le> ?n3 \\<Longrightarrow>\n  ereal (LINT x|M. v ?n3 x / real ?n3) =\n  ereal (- real K * Sigma_Algebra.measure M (space M))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (LINT x|M. v n x / real n))\n    \\<longlonglongrightarrow> ereal\n                               (- real K *\n                                Sigma_Algebra.measure M (space M))", "using lim_explicit"], ["proof (prove)\nusing this:\n  1 \\<le> ?n3 \\<Longrightarrow>\n  ereal (LINT x|M. v ?n3 x / real ?n3) =\n  ereal (- real K * Sigma_Algebra.measure M (space M))\n  ?f \\<longlonglongrightarrow> ?f0.0 =\n  (\\<forall>S.\n      open S \\<longrightarrow>\n      ?f0.0 \\<in> S \\<longrightarrow>\n      (\\<exists>N. \\<forall>n\\<ge>N. ?f n \\<in> S))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (LINT x|M. v n x / real n))\n    \\<longlonglongrightarrow> ereal\n                               (- real K *\n                                Sigma_Algebra.measure M (space M))", "by force"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (LINT x|M. v n x / real n))\n  \\<longlonglongrightarrow> ereal\n                             (- real K * Sigma_Algebra.measure M (space M))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (LINT x|M. v n x / real n))\n  \\<longlonglongrightarrow> ereal\n                             (- real K * Sigma_Algebra.measure M (space M))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "have \"(\\<lambda>n. ereal (\\<integral>x. v n x / n \\<partial>M)) \\<longlonglongrightarrow> subcocycle_avg_ereal v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (LINT x|M. v n x / real n))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal v", "using subcocycle_int_tendsto_avg_ereal[OF \\<open>subcocycle v\\<close>]"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. v x xa / real x))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal v\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (LINT x|M. v n x / real n))\n    \\<longlonglongrightarrow> subcocycle_avg_ereal v", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (LINT x|M. v n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal v\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. ereal (LINT x|M. v n x / real n))\n  \\<longlonglongrightarrow> ereal\n                             (- real K * Sigma_Algebra.measure M (space M))\n  (\\<lambda>n. ereal (LINT x|M. v n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal v", "have \"subcocycle_avg_ereal v = - real K * measure M (space M)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal (LINT x|M. v n x / real n))\n  \\<longlonglongrightarrow> ereal\n                             (- real K * Sigma_Algebra.measure M (space M))\n  (\\<lambda>n. ereal (LINT x|M. v n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal v\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal v =\n    ereal (- real K * Sigma_Algebra.measure M (space M))", "using LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal (LINT x|M. v n x / real n))\n  \\<longlonglongrightarrow> ereal\n                             (- real K * Sigma_Algebra.measure M (space M))\n  (\\<lambda>n. ereal (LINT x|M. v n x / real n))\n  \\<longlonglongrightarrow> subcocycle_avg_ereal v\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal v =\n    ereal (- real K * Sigma_Algebra.measure M (space M))", "by blast"], ["proof (state)\nthis:\n  subcocycle_avg_ereal v =\n  ereal (- real K * Sigma_Algebra.measure M (space M))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "then"], ["proof (chain)\npicking this:\n  subcocycle_avg_ereal v =\n  ereal (- real K * Sigma_Algebra.measure M (space M))", "have \"subcocycle_avg_ereal v > -\\<infinity>\""], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal v =\n  ereal (- real K * Sigma_Algebra.measure M (space M))\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal v", "by auto"], ["proof (state)\nthis:\n  - \\<infinity> < subcocycle_avg_ereal v\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "{"], ["proof (state)\nthis:\n  - \\<infinity> < subcocycle_avg_ereal v\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "assume H: \"(\\<lambda>n. v n x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal v x\""], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (v xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "have \"ereal(v n x / n) = -real K\" if \"n\\<ge>1\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (v n x / real n) = ereal (- real K)", "unfolding v_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (- real n * real K / real n) = ereal (- real K)", "using that"], ["proof (prove)\nusing this:\n  1 \\<le> n\n\ngoal (1 subgoal):\n 1. ereal (- real n * real K / real n) = ereal (- real K)", "by auto"], ["proof (state)\nthis:\n  1 \\<le> ?n3 \\<Longrightarrow>\n  ereal (v ?n3 x / real ?n3) = ereal (- real K)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "then"], ["proof (chain)\npicking this:\n  1 \\<le> ?n3 \\<Longrightarrow>\n  ereal (v ?n3 x / real ?n3) = ereal (- real K)", "have \"(\\<lambda>n. ereal(v n x / n)) \\<longlonglongrightarrow> - real K\""], ["proof (prove)\nusing this:\n  1 \\<le> ?n3 \\<Longrightarrow>\n  ereal (v ?n3 x / real ?n3) = ereal (- real K)\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (v n x / real n))\n    \\<longlonglongrightarrow> ereal (- real K)", "using lim_explicit"], ["proof (prove)\nusing this:\n  1 \\<le> ?n3 \\<Longrightarrow>\n  ereal (v ?n3 x / real ?n3) = ereal (- real K)\n  ?f \\<longlonglongrightarrow> ?f0.0 =\n  (\\<forall>S.\n      open S \\<longrightarrow>\n      ?f0.0 \\<in> S \\<longrightarrow>\n      (\\<exists>N. \\<forall>n\\<ge>N. ?f n \\<in> S))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. ereal (v n x / real n))\n    \\<longlonglongrightarrow> ereal (- real K)", "by force"], ["proof (state)\nthis:\n  (\\<lambda>n. ereal (v n x / real n))\n  \\<longlonglongrightarrow> ereal (- real K)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. ereal (v n x / real n))\n  \\<longlonglongrightarrow> ereal (- real K)", "have \"subcocycle_lim_ereal v x = -real K\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal (v n x / real n))\n  \\<longlonglongrightarrow> ereal (- real K)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal v x = ereal (- real K)", "using H LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>n. ereal (v n x / real n))\n  \\<longlonglongrightarrow> ereal (- real K)\n  (\\<lambda>xa. ereal (v xa x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal v x = ereal (- real K)", "by blast"], ["proof (state)\nthis:\n  subcocycle_lim_ereal v x = ereal (- real K)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "}"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (v x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal v ?x5 \\<Longrightarrow>\n  subcocycle_lim_ereal v ?x5 = ereal (- real K)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>x. ereal (v x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal v ?x5 \\<Longrightarrow>\n  subcocycle_lim_ereal v ?x5 = ereal (- real K)", "have \"AE x in M. subcocycle_lim_ereal v x = -real K\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (v x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal v ?x5 \\<Longrightarrow>\n  subcocycle_lim_ereal v ?x5 = ereal (- real K)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal v x = ereal (- real K)", "using kingman_theorem_AE_nonergodic_ereal[OF \\<open>subcocycle v\\<close>]"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (v x ?x5 / real x))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal v ?x5 \\<Longrightarrow>\n  subcocycle_lim_ereal v ?x5 = ereal (- real K)\n  AE x in M. (\\<lambda>xa. ereal (v xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal v x\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal v x = ereal (- real K)", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal v x = ereal (- real K)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "define w where \"w = (\\<lambda>n x. max (u n x) (v n x))\""], ["proof (state)\nthis:\n  w = (\\<lambda>n x. max (u n x) (v n x))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "have [simp]: \"subcocycle w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle w", "unfolding w_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle (\\<lambda>n x. max (u n x) (v n x))", "by (rule subcocycle_max, auto)"], ["proof (state)\nthis:\n  subcocycle w\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "have \"subcocycle_avg_ereal w \\<ge> subcocycle_avg_ereal v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal v \\<le> subcocycle_avg_ereal w", "unfolding w_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal v\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "using subcocycle_avg_ereal_max"], ["proof (prove)\nusing this:\n  \\<lbrakk>subcocycle ?u; subcocycle ?v\\<rbrakk>\n  \\<Longrightarrow> max (subcocycle_avg_ereal ?u) (subcocycle_avg_ereal ?v)\n                    \\<le> subcocycle_avg_ereal\n                           (\\<lambda>n x. max (?u n x) (?v n x))\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal v\n    \\<le> subcocycle_avg_ereal (\\<lambda>n x. max (u n x) (v n x))", "by auto"], ["proof (state)\nthis:\n  subcocycle_avg_ereal v \\<le> subcocycle_avg_ereal w\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "then"], ["proof (chain)\npicking this:\n  subcocycle_avg_ereal v \\<le> subcocycle_avg_ereal w", "have \"subcocycle_avg_ereal w > -\\<infinity>\""], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal v \\<le> subcocycle_avg_ereal w\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal w", "using \\<open>subcocycle_avg_ereal v > -\\<infinity>\\<close>"], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal v \\<le> subcocycle_avg_ereal w\n  - \\<infinity> < subcocycle_avg_ereal v\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal w", "by auto"], ["proof (state)\nthis:\n  - \\<infinity> < subcocycle_avg_ereal w\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "have *: \"AE x in M. real_cond_exp M Invariants (u n) x \\<le> real_cond_exp M Invariants (w n) x\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M Invariants (u n) x\n               \\<le> real_cond_exp M Invariants (w n) x", "apply (rule real_cond_exp_mono)"], ["proof (prove)\ngoal (3 subgoals):\n 1. AE x in M. u n x \\<le> w n x\n 2. integrable M (u n)\n 3. integrable M (w n)", "using subcocycle_integrable[OF assms, of n] subcocycle_integrable[OF \\<open>subcocycle w\\<close>, of n]"], ["proof (prove)\nusing this:\n  integrable M (u n)\n  u n \\<in> borel_measurable M\n  integrable M (w n)\n  w n \\<in> borel_measurable M\n\ngoal (3 subgoals):\n 1. AE x in M. u n x \\<le> w n x\n 2. integrable M (u n)\n 3. integrable M (w n)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>u n \\<in> borel_measurable M; integrable M (w n)\\<rbrakk>\n    \\<Longrightarrow> AE x in M. u n x \\<le> w n x", "unfolding w_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>u n \\<in> borel_measurable M;\n     integrable M (\\<lambda>x. max (u n x) (v n x))\\<rbrakk>\n    \\<Longrightarrow> AE x in M. u n x \\<le> max (u n x) (v n x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. real_cond_exp M Invariants (u ?n3) x\n             \\<le> real_cond_exp M Invariants (w ?n3) x\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "have \"AE x in M. \\<forall>n. real_cond_exp M Invariants (u n) x \\<le> real_cond_exp M Invariants (w n) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>n.\n                  real_cond_exp M Invariants (u n) x\n                  \\<le> real_cond_exp M Invariants (w n) x", "apply (subst AE_all_countable)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i.\n       AE x in M. real_cond_exp M Invariants (u i) x\n                  \\<le> real_cond_exp M Invariants (w i) x", "using *"], ["proof (prove)\nusing this:\n  AE x in M. real_cond_exp M Invariants (u ?n3) x\n             \\<le> real_cond_exp M Invariants (w ?n3) x\n\ngoal (1 subgoal):\n 1. \\<forall>i.\n       AE x in M. real_cond_exp M Invariants (u i) x\n                  \\<le> real_cond_exp M Invariants (w i) x", "by auto"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (u n) x\n                \\<le> real_cond_exp M Invariants (w n) x\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "moreover"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (u n) x\n                \\<le> real_cond_exp M Invariants (w n) x\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "have \"AE x in M. (\\<lambda>n. real_cond_exp M Invariants (w n) x / n) \\<longlonglongrightarrow> subcocycle_lim w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. real_cond_exp M Invariants (w n) x / real n)\n               \\<longlonglongrightarrow> subcocycle_lim w x", "apply (rule kingman_theorem_nonergodic_invariant(1))"], ["proof (prove)\ngoal (2 subgoals):\n 1. subcocycle w\n 2. - \\<infinity> < subcocycle_avg_ereal w", "using \\<open>subcocycle_avg_ereal w > -\\<infinity>\\<close>"], ["proof (prove)\nusing this:\n  - \\<infinity> < subcocycle_avg_ereal w\n\ngoal (2 subgoals):\n 1. subcocycle w\n 2. - \\<infinity> < subcocycle_avg_ereal w", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. real_cond_exp M Invariants (w n) x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. real_cond_exp M Invariants (w n) x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "have \"AE x in M. subcocycle_lim_ereal w x = max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal w x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "unfolding w_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "using subcocycle_lim_ereal_max"], ["proof (prove)\nusing this:\n  \\<lbrakk>subcocycle ?u; subcocycle ?v\\<rbrakk>\n  \\<Longrightarrow> AE x in M. subcocycle_lim_ereal\n                                (\\<lambda>n x. max (?u n x) (?v n x)) x =\n                               max (subcocycle_lim_ereal ?u x)\n                                (subcocycle_lim_ereal ?v x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal (\\<lambda>n x. max (u n x) (v n x)) x =\n               max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal w x =\n             max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "moreover"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal w x =\n             max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "{"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal w x =\n             max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "assume H: \"(\\<lambda>n. real_cond_exp M Invariants (w n) x / n) \\<longlonglongrightarrow> subcocycle_lim w x\"\n                      \"subcocycle_lim_ereal w x = max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\"\n                      \"subcocycle_lim_ereal v x = - real K\"\n                      \"\\<forall>n. real_cond_exp M Invariants (u n) x \\<le> real_cond_exp M Invariants (w n) x\""], ["proof (state)\nthis:\n  (\\<lambda>n. real_cond_exp M Invariants (w n) x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim w x\n  subcocycle_lim_ereal w x =\n  max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\n  subcocycle_lim_ereal v x = ereal (- real K)\n  \\<forall>n.\n     real_cond_exp M Invariants (u n) x\n     \\<le> real_cond_exp M Invariants (w n) x\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "have \"subcocycle_lim_ereal w x > -\\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_lim_ereal w x", "using H(2) H(3) MInfty_neq_ereal(1) ereal_MInfty_lessI max.cobounded2"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal w x =\n  max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\n  subcocycle_lim_ereal v x = ereal (- real K)\n  ereal ?r \\<noteq> - \\<infinity>\n  ?a \\<noteq> - \\<infinity> \\<Longrightarrow> - \\<infinity> < ?a\n  ?b \\<le> max ?a ?b\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_lim_ereal w x", "by fastforce"], ["proof (state)\nthis:\n  - \\<infinity> < subcocycle_lim_ereal w x\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "then"], ["proof (chain)\npicking this:\n  - \\<infinity> < subcocycle_lim_ereal w x", "have \"subcocycle_lim_ereal w x = ereal(subcocycle_lim w x)\""], ["proof (prove)\nusing this:\n  - \\<infinity> < subcocycle_lim_ereal w x\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal w x = ereal (subcocycle_lim w x)", "unfolding subcocycle_lim_def"], ["proof (prove)\nusing this:\n  - \\<infinity> < subcocycle_lim_ereal w x\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal w x =\n    ereal (real_of_ereal (subcocycle_lim_ereal w x))", "using subcocycle_lim_ereal_not_PInf[of w x] ereal_real"], ["proof (prove)\nusing this:\n  - \\<infinity> < subcocycle_lim_ereal w x\n  subcocycle_lim_ereal w x < \\<infinity>\n  ereal (real_of_ereal ?x) =\n  (if \\<bar>?x\\<bar> = \\<infinity> then 0 else ?x)\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal w x =\n    ereal (real_of_ereal (subcocycle_lim_ereal w x))", "by force"], ["proof (state)\nthis:\n  subcocycle_lim_ereal w x = ereal (subcocycle_lim w x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "moreover"], ["proof (state)\nthis:\n  subcocycle_lim_ereal w x = ereal (subcocycle_lim w x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "have \"(\\<lambda>n. real_cond_exp M Invariants (w n) x / n) \\<longlonglongrightarrow> ereal(subcocycle_lim w x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa))\n    \\<longlonglongrightarrow> ereal (subcocycle_lim w x)", "using H(1)"], ["proof (prove)\nusing this:\n  (\\<lambda>n. real_cond_exp M Invariants (w n) x / real n)\n  \\<longlonglongrightarrow> subcocycle_lim w x\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa))\n    \\<longlonglongrightarrow> ereal (subcocycle_lim w x)", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa))\n  \\<longlonglongrightarrow> ereal (subcocycle_lim w x)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "ultimately"], ["proof (chain)\npicking this:\n  subcocycle_lim_ereal w x = ereal (subcocycle_lim w x)\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa))\n  \\<longlonglongrightarrow> ereal (subcocycle_lim w x)", "have \"(\\<lambda>n. real_cond_exp M Invariants (w n) x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal w x\""], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal w x = ereal (subcocycle_lim w x)\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa))\n  \\<longlonglongrightarrow> ereal (subcocycle_lim w x)\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa))\n    \\<longlonglongrightarrow> subcocycle_lim_ereal w x", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal w x\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal w x", "have *: \"limsup (\\<lambda>n. real_cond_exp M Invariants (w n) x / n) = subcocycle_lim_ereal w x\""], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal w x\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa)) =\n    subcocycle_lim_ereal w x", "using tendsto_iff_Liminf_eq_Limsup trivial_limit_at_top_linorder"], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal w x\n  ?F \\<noteq> \\<bottom> \\<Longrightarrow>\n  (?f \\<longlongrightarrow> ?f0.0) ?F =\n  (Liminf ?F ?f = ?f0.0 \\<and> Limsup ?F ?f = ?f0.0)\n  at_top \\<noteq> \\<bottom>\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa)) =\n    subcocycle_lim_ereal w x", "by blast"], ["proof (state)\nthis:\n  limsup\n   (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa)) =\n  subcocycle_lim_ereal w x\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "have \"ereal(real_cond_exp M Invariants (u n) x / n) \\<le> real_cond_exp M Invariants (w n) x / n\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (real_cond_exp M Invariants (u n) x / real n)\n    \\<le> ereal (real_cond_exp M Invariants (w n) x / real n)", "using H(4)"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     real_cond_exp M Invariants (u n) x\n     \\<le> real_cond_exp M Invariants (w n) x\n\ngoal (1 subgoal):\n 1. ereal (real_cond_exp M Invariants (u n) x / real n)\n    \\<le> ereal (real_cond_exp M Invariants (w n) x / real n)", "by (auto simp add: divide_simps)"], ["proof (state)\nthis:\n  ereal (real_cond_exp M Invariants (u ?n3) x / real ?n3)\n  \\<le> ereal (real_cond_exp M Invariants (w ?n3) x / real ?n3)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "then"], ["proof (chain)\npicking this:\n  ereal (real_cond_exp M Invariants (u ?n3) x / real ?n3)\n  \\<le> ereal (real_cond_exp M Invariants (w ?n3) x / real ?n3)", "have \"eventually (\\<lambda>n. ereal(real_cond_exp M Invariants (u n) x / n) \\<le> real_cond_exp M Invariants (w n) x / n) sequentially\""], ["proof (prove)\nusing this:\n  ereal (real_cond_exp M Invariants (u ?n3) x / real ?n3)\n  \\<le> ereal (real_cond_exp M Invariants (w ?n3) x / real ?n3)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       ereal (real_cond_exp M Invariants (u n) x / real n)\n       \\<le> ereal (real_cond_exp M Invariants (w n) x / real n)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     ereal (real_cond_exp M Invariants (u n) x / real n)\n     \\<le> ereal (real_cond_exp M Invariants (w n) x / real n)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     ereal (real_cond_exp M Invariants (u n) x / real n)\n     \\<le> ereal (real_cond_exp M Invariants (w n) x / real n)", "have \"limsup (\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<le> limsup (\\<lambda>n. real_cond_exp M Invariants (w n) x / n)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     ereal (real_cond_exp M Invariants (u n) x / real n)\n     \\<le> ereal (real_cond_exp M Invariants (w n) x / real n)\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n    \\<le> limsup\n           (\\<lambda>xa.\n               ereal (real_cond_exp M Invariants (w xa) x / real xa))", "using Limsup_mono[of _ _ sequentially]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     ereal (real_cond_exp M Invariants (u n) x / real n)\n     \\<le> ereal (real_cond_exp M Invariants (w n) x / real n)\n  \\<forall>\\<^sub>F x in sequentially. ?f x \\<le> ?g x \\<Longrightarrow>\n  limsup ?f \\<le> limsup ?g\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n    \\<le> limsup\n           (\\<lambda>xa.\n               ereal (real_cond_exp M Invariants (w xa) x / real xa))", "by force"], ["proof (state)\nthis:\n  limsup\n   (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<le> limsup\n         (\\<lambda>xa.\n             ereal (real_cond_exp M Invariants (w xa) x / real xa))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "then"], ["proof (chain)\npicking this:\n  limsup\n   (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<le> limsup\n         (\\<lambda>xa.\n             ereal (real_cond_exp M Invariants (w xa) x / real xa))", "have \"limsup (\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<le> max (subcocycle_lim_ereal u x) (-real K)\""], ["proof (prove)\nusing this:\n  limsup\n   (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<le> limsup\n         (\\<lambda>xa.\n             ereal (real_cond_exp M Invariants (w xa) x / real xa))\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n    \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "using * H(2) H(3)"], ["proof (prove)\nusing this:\n  limsup\n   (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<le> limsup\n         (\\<lambda>xa.\n             ereal (real_cond_exp M Invariants (w xa) x / real xa))\n  limsup\n   (\\<lambda>xa. ereal (real_cond_exp M Invariants (w xa) x / real xa)) =\n  subcocycle_lim_ereal w x\n  subcocycle_lim_ereal w x =\n  max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\n  subcocycle_lim_ereal v x = ereal (- real K)\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n    \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "by auto"], ["proof (state)\nthis:\n  limsup\n   (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<lambda>n. real_cond_exp M Invariants (w n) ?x5 / real n)\n           \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   subcocycle_lim_ereal w ?x5 =\n   max (subcocycle_lim_ereal u ?x5) (subcocycle_lim_ereal v ?x5);\n   subcocycle_lim_ereal v ?x5 = ereal (- real K);\n   \\<forall>n.\n      real_cond_exp M Invariants (u n) ?x5\n      \\<le> real_cond_exp M Invariants (w n) ?x5\\<rbrakk>\n  \\<Longrightarrow> limsup\n                     (\\<lambda>x.\n                         ereal\n                          (real_cond_exp M Invariants (u x) ?x5 / real x))\n                    \\<le> max (subcocycle_lim_ereal u ?x5)\n                           (ereal (- real K))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (u n) x\n                \\<le> real_cond_exp M Invariants (w n) x\n  AE x in M. (\\<lambda>n. real_cond_exp M Invariants (w n) x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n  AE x in M. subcocycle_lim_ereal w x =\n             max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\n  \\<lbrakk>(\\<lambda>n. real_cond_exp M Invariants (w n) ?x5 / real n)\n           \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   subcocycle_lim_ereal w ?x5 =\n   max (subcocycle_lim_ereal u ?x5) (subcocycle_lim_ereal v ?x5);\n   subcocycle_lim_ereal v ?x5 = ereal (- real K);\n   \\<forall>n.\n      real_cond_exp M Invariants (u n) ?x5\n      \\<le> real_cond_exp M Invariants (w n) ?x5\\<rbrakk>\n  \\<Longrightarrow> limsup\n                     (\\<lambda>x.\n                         ereal\n                          (real_cond_exp M Invariants (u x) ?x5 / real x))\n                    \\<le> max (subcocycle_lim_ereal u ?x5)\n                           (ereal (- real K))", "show ?thesis"], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (u n) x\n                \\<le> real_cond_exp M Invariants (w n) x\n  AE x in M. (\\<lambda>n. real_cond_exp M Invariants (w n) x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n  AE x in M. subcocycle_lim_ereal w x =\n             max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\n  \\<lbrakk>(\\<lambda>n. real_cond_exp M Invariants (w n) ?x5 / real n)\n           \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   subcocycle_lim_ereal w ?x5 =\n   max (subcocycle_lim_ereal u ?x5) (subcocycle_lim_ereal v ?x5);\n   subcocycle_lim_ereal v ?x5 = ereal (- real K);\n   \\<forall>n.\n      real_cond_exp M Invariants (u n) ?x5\n      \\<le> real_cond_exp M Invariants (w n) ?x5\\<rbrakk>\n  \\<Longrightarrow> limsup\n                     (\\<lambda>x.\n                         ereal\n                          (real_cond_exp M Invariants (u x) ?x5 / real x))\n                    \\<le> max (subcocycle_lim_ereal u ?x5)\n                           (ereal (- real K))\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "using \\<open>AE x in M. subcocycle_lim_ereal v x = -real K\\<close>"], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (u n) x\n                \\<le> real_cond_exp M Invariants (w n) x\n  AE x in M. (\\<lambda>n. real_cond_exp M Invariants (w n) x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim w x\n  AE x in M. subcocycle_lim_ereal w x =\n             max (subcocycle_lim_ereal u x) (subcocycle_lim_ereal v x)\n  \\<lbrakk>(\\<lambda>n. real_cond_exp M Invariants (w n) ?x5 / real n)\n           \\<longlonglongrightarrow> subcocycle_lim w ?x5;\n   subcocycle_lim_ereal w ?x5 =\n   max (subcocycle_lim_ereal u ?x5) (subcocycle_lim_ereal v ?x5);\n   subcocycle_lim_ereal v ?x5 = ereal (- real K);\n   \\<forall>n.\n      real_cond_exp M Invariants (u n) ?x5\n      \\<le> real_cond_exp M Invariants (w n) ?x5\\<rbrakk>\n  \\<Longrightarrow> limsup\n                     (\\<lambda>x.\n                         ereal\n                          (real_cond_exp M Invariants (u x) ?x5 / real x))\n                    \\<le> max (subcocycle_lim_ereal u ?x5)\n                           (ereal (- real K))\n  AE x in M. subcocycle_lim_ereal v x = ereal (- real K)\n\ngoal (1 subgoal):\n 1. AE x in M. limsup\n                (\\<lambda>xa.\n                    ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "by auto"], ["proof (state)\nthis:\n  AE x in M. limsup\n              (\\<lambda>xa.\n                  ereal (real_cond_exp M Invariants (u xa) x / real xa))\n             \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  AE x in M. limsup\n              (\\<lambda>xa.\n                  ereal (real_cond_exp M Invariants (u xa) x / real xa))\n             \\<le> max (subcocycle_lim_ereal u x) (ereal (- real ?K3))\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "have \"AE x in M. \\<forall>K::nat.\n        limsup (\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<le> max (subcocycle_lim_ereal u x) (-real K)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>K.\n                  limsup\n                   (\\<lambda>xa.\n                       ereal\n                        (real_cond_exp M Invariants (u xa) x / real xa))\n                  \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))", "apply (subst AE_all_countable)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i.\n       AE x in M. limsup\n                   (\\<lambda>xa.\n                       ereal\n                        (real_cond_exp M Invariants (u xa) x / real xa))\n                  \\<le> max (subcocycle_lim_ereal u x) (ereal (- real i))", "using limsup_ineq_K"], ["proof (prove)\nusing this:\n  AE x in M. limsup\n              (\\<lambda>xa.\n                  ereal (real_cond_exp M Invariants (u xa) x / real xa))\n             \\<le> max (subcocycle_lim_ereal u x) (ereal (- real ?K3))\n\ngoal (1 subgoal):\n 1. \\<forall>i.\n       AE x in M. limsup\n                   (\\<lambda>xa.\n                       ereal\n                        (real_cond_exp M Invariants (u xa) x / real xa))\n                  \\<le> max (subcocycle_lim_ereal u x) (ereal (- real i))", "by auto"], ["proof (state)\nthis:\n  AE x in M. \\<forall>K.\n                limsup\n                 (\\<lambda>xa.\n                     ereal (real_cond_exp M Invariants (u xa) x / real xa))\n                \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "moreover"], ["proof (state)\nthis:\n  AE x in M. \\<forall>K.\n                limsup\n                 (\\<lambda>xa.\n                     ereal (real_cond_exp M Invariants (u xa) x / real xa))\n                \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "have \"AE x in M. liminf (\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<ge> subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "have *: \"AE x in M. N > 0 \\<longrightarrow> subcocycle_lim_ereal u x \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\" for N"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. 0 < N \\<longrightarrow>\n               subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "by (cases \"N = 0\", auto simp add: subcocycle_lim_ereal_atmost_uN_invariants[OF assms(1)])"], ["proof (state)\nthis:\n  AE x in M. 0 < ?N3 \\<longrightarrow>\n             subcocycle_lim_ereal u x\n             \\<le> ereal\n                    (real_cond_exp M Invariants\n                      (\\<lambda>x. u ?N3 x / real ?N3) x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "have \"AE x in M. \\<forall>N. N > 0 \\<longrightarrow> subcocycle_lim_ereal u x \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>N>0.\n                  subcocycle_lim_ereal u x\n                  \\<le> ereal\n                         (real_cond_exp M Invariants\n                           (\\<lambda>x. u N x / real N) x)", "by (subst AE_all_countable, intro allI, simp add: *)"], ["proof (state)\nthis:\n  AE x in M. \\<forall>N>0.\n                subcocycle_lim_ereal u x\n                \\<le> ereal\n                       (real_cond_exp M Invariants\n                         (\\<lambda>x. u N x / real N) x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "moreover"], ["proof (state)\nthis:\n  AE x in M. \\<forall>N>0.\n                subcocycle_lim_ereal u x\n                \\<le> ereal\n                       (real_cond_exp M Invariants\n                         (\\<lambda>x. u N x / real N) x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "have \"AE x in M. \\<forall>n. real_cond_exp M Invariants (\\<lambda>x. u n x / n) x = real_cond_exp M Invariants (u n) x / n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>n.\n                  real_cond_exp M Invariants (\\<lambda>x. u n x / real n)\n                   x =\n                  real_cond_exp M Invariants (u n) x / real n", "apply (subst AE_all_countable, intro allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       AE x in M. real_cond_exp M Invariants (\\<lambda>x. u i x / real i)\n                   x =\n                  real_cond_exp M Invariants (u i) x / real i", "using real_cond_exp_cdiv"], ["proof (prove)\nusing this:\n  integrable M ?f \\<Longrightarrow>\n  AE x in M. real_cond_exp M Invariants (\\<lambda>x. ?f x / ?c) x =\n             real_cond_exp M Invariants ?f x / ?c\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       AE x in M. real_cond_exp M Invariants (\\<lambda>x. u i x / real i)\n                   x =\n                  real_cond_exp M Invariants (u i) x / real i", "by auto"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x =\n                real_cond_exp M Invariants (u n) x / real n\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "moreover"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x =\n                real_cond_exp M Invariants (u n) x / real n\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "{"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x =\n                real_cond_exp M Invariants (u n) x / real n\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "assume x: \"\\<forall>N. N > 0 \\<longrightarrow> subcocycle_lim_ereal u x \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\"\n                      \"\\<forall>n. real_cond_exp M Invariants (\\<lambda>x. u n x / n) x = real_cond_exp M Invariants (u n) x / n\""], ["proof (state)\nthis:\n  \\<forall>N>0.\n     subcocycle_lim_ereal u x\n     \\<le> ereal (real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x)\n  \\<forall>n.\n     real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x =\n     real_cond_exp M Invariants (u n) x / real n\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "then"], ["proof (chain)\npicking this:\n  \\<forall>N>0.\n     subcocycle_lim_ereal u x\n     \\<le> ereal (real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x)\n  \\<forall>n.\n     real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x =\n     real_cond_exp M Invariants (u n) x / real n", "have *: \"subcocycle_lim_ereal u x \\<le> real_cond_exp M Invariants (u n) x / n\" if \"n \\<ge> 1\" for n"], ["proof (prove)\nusing this:\n  \\<forall>N>0.\n     subcocycle_lim_ereal u x\n     \\<le> ereal (real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x)\n  \\<forall>n.\n     real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x =\n     real_cond_exp M Invariants (u n) x / real n\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u x\n    \\<le> ereal (real_cond_exp M Invariants (u n) x / real n)", "using that"], ["proof (prove)\nusing this:\n  \\<forall>N>0.\n     subcocycle_lim_ereal u x\n     \\<le> ereal (real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x)\n  \\<forall>n.\n     real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x =\n     real_cond_exp M Invariants (u n) x / real n\n  1 \\<le> n\n\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u x\n    \\<le> ereal (real_cond_exp M Invariants (u n) x / real n)", "by auto"], ["proof (state)\nthis:\n  1 \\<le> ?n3 \\<Longrightarrow>\n  subcocycle_lim_ereal u x\n  \\<le> ereal (real_cond_exp M Invariants (u ?n3) x / real ?n3)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "have \"subcocycle_lim_ereal u x \\<le> liminf (\\<lambda>n. real_cond_exp M Invariants (u n) x / n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_lim_ereal u x\n    \\<le> liminf\n           (\\<lambda>xa.\n               ereal (real_cond_exp M Invariants (u xa) x / real xa))", "apply (subst liminf_bounded_iff)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>B<subcocycle_lim_ereal u x.\n       \\<exists>N.\n          \\<forall>n\\<ge>N.\n             B < ereal (real_cond_exp M Invariants (u n) x / real n)", "using * less_le_trans"], ["proof (prove)\nusing this:\n  1 \\<le> ?n3 \\<Longrightarrow>\n  subcocycle_lim_ereal u x\n  \\<le> ereal (real_cond_exp M Invariants (u ?n3) x / real ?n3)\n  \\<lbrakk>?x < ?y; ?y \\<le> ?z\\<rbrakk> \\<Longrightarrow> ?x < ?z\n\ngoal (1 subgoal):\n 1. \\<forall>B<subcocycle_lim_ereal u x.\n       \\<exists>N.\n          \\<forall>n\\<ge>N.\n             B < ereal (real_cond_exp M Invariants (u n) x / real n)", "by blast"], ["proof (state)\nthis:\n  subcocycle_lim_ereal u x\n  \\<le> liminf\n         (\\<lambda>xa.\n             ereal (real_cond_exp M Invariants (u xa) x / real xa))\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>N>0.\n              subcocycle_lim_ereal u ?x5\n              \\<le> ereal\n                     (real_cond_exp M Invariants\n                       (\\<lambda>x. u N x / real N) ?x5);\n   \\<forall>n.\n      real_cond_exp M Invariants (\\<lambda>x. u n x / real n) ?x5 =\n      real_cond_exp M Invariants (u n) ?x5 / real n\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal u ?x5\n                    \\<le> liminf\n                           (\\<lambda>x.\n                               ereal\n                                (real_cond_exp M Invariants (u x) ?x5 /\n                                 real x))\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. \\<forall>N>0.\n                subcocycle_lim_ereal u x\n                \\<le> ereal\n                       (real_cond_exp M Invariants\n                         (\\<lambda>x. u N x / real N) x)\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x =\n                real_cond_exp M Invariants (u n) x / real n\n  \\<lbrakk>\\<forall>N>0.\n              subcocycle_lim_ereal u ?x5\n              \\<le> ereal\n                     (real_cond_exp M Invariants\n                       (\\<lambda>x. u N x / real N) ?x5);\n   \\<forall>n.\n      real_cond_exp M Invariants (\\<lambda>x. u n x / real n) ?x5 =\n      real_cond_exp M Invariants (u n) ?x5 / real n\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal u ?x5\n                    \\<le> liminf\n                           (\\<lambda>x.\n                               ereal\n                                (real_cond_exp M Invariants (u x) ?x5 /\n                                 real x))", "show ?thesis"], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>N>0.\n                subcocycle_lim_ereal u x\n                \\<le> ereal\n                       (real_cond_exp M Invariants\n                         (\\<lambda>x. u N x / real N) x)\n  AE x in M. \\<forall>n.\n                real_cond_exp M Invariants (\\<lambda>x. u n x / real n) x =\n                real_cond_exp M Invariants (u n) x / real n\n  \\<lbrakk>\\<forall>N>0.\n              subcocycle_lim_ereal u ?x5\n              \\<le> ereal\n                     (real_cond_exp M Invariants\n                       (\\<lambda>x. u N x / real N) ?x5);\n   \\<forall>n.\n      real_cond_exp M Invariants (\\<lambda>x. u n x / real n) ?x5 =\n      real_cond_exp M Invariants (u n) ?x5 / real n\\<rbrakk>\n  \\<Longrightarrow> subcocycle_lim_ereal u ?x5\n                    \\<le> liminf\n                           (\\<lambda>x.\n                               ereal\n                                (real_cond_exp M Invariants (u x) ?x5 /\n                                 real x))\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> liminf\n                      (\\<lambda>xa.\n                          ereal\n                           (real_cond_exp M Invariants (u xa) x / real xa))", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> liminf\n                    (\\<lambda>xa.\n                        ereal\n                         (real_cond_exp M Invariants (u xa) x / real xa))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> liminf\n                    (\\<lambda>xa.\n                        ereal\n                         (real_cond_exp M Invariants (u xa) x / real xa))\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "moreover"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> liminf\n                    (\\<lambda>xa.\n                        ereal\n                         (real_cond_exp M Invariants (u xa) x / real xa))\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "{"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> liminf\n                    (\\<lambda>xa.\n                        ereal\n                         (real_cond_exp M Invariants (u xa) x / real xa))\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "assume H: \"\\<forall>K::nat. limsup (\\<lambda>n. real_cond_exp M Invariants (u n) x / n)\n                              \\<le> max (subcocycle_lim_ereal u x) (-real K)\"\n                    \"liminf (\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<ge> subcocycle_lim_ereal u x\""], ["proof (state)\nthis:\n  \\<forall>K.\n     limsup\n      (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n     \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))\n  subcocycle_lim_ereal u x\n  \\<le> liminf\n         (\\<lambda>xa.\n             ereal (real_cond_exp M Invariants (u xa) x / real xa))\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "have \"(\\<lambda>K::nat. max (subcocycle_lim_ereal u x) (-real K)) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>K. max (subcocycle_lim_ereal u x) (ereal (- real K)))\n    \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "by (rule ereal_truncation_bottom)"], ["proof (state)\nthis:\n  (\\<lambda>K. max (subcocycle_lim_ereal u x) (ereal (- real K)))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "with LIMSEQ_le_const[OF this]"], ["proof (chain)\npicking this:\n  \\<exists>N.\n     \\<forall>n\\<ge>N.\n        ?a \\<le> max (subcocycle_lim_ereal u x)\n                  (ereal (- real n)) \\<Longrightarrow>\n  ?a \\<le> subcocycle_lim_ereal u x\n  (\\<lambda>K. max (subcocycle_lim_ereal u x) (ereal (- real K)))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "have *: \"limsup (\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<le> subcocycle_lim_ereal u x\""], ["proof (prove)\nusing this:\n  \\<exists>N.\n     \\<forall>n\\<ge>N.\n        ?a \\<le> max (subcocycle_lim_ereal u x)\n                  (ereal (- real n)) \\<Longrightarrow>\n  ?a \\<le> subcocycle_lim_ereal u x\n  (\\<lambda>K. max (subcocycle_lim_ereal u x) (ereal (- real K)))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n    \\<le> subcocycle_lim_ereal u x", "using H(1)"], ["proof (prove)\nusing this:\n  \\<exists>N.\n     \\<forall>n\\<ge>N.\n        ?a \\<le> max (subcocycle_lim_ereal u x)\n                  (ereal (- real n)) \\<Longrightarrow>\n  ?a \\<le> subcocycle_lim_ereal u x\n  (\\<lambda>K. max (subcocycle_lim_ereal u x) (ereal (- real K)))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  \\<forall>K.\n     limsup\n      (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n     \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n    \\<le> subcocycle_lim_ereal u x", "by auto"], ["proof (state)\nthis:\n  limsup\n   (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<le> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "have \"(\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n    \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "apply (subst tendsto_iff_Liminf_eq_Limsup[OF trivial_limit_at_top_linorder])"], ["proof (prove)\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa)) =\n    subcocycle_lim_ereal u x \\<and>\n    limsup\n     (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa)) =\n    subcocycle_lim_ereal u x", "using H(2) * Liminf_le_Limsup[OF trivial_limit_at_top_linorder, of \"(\\<lambda>n. real_cond_exp M Invariants (u n) x / n)\"]"], ["proof (prove)\nusing this:\n  subcocycle_lim_ereal u x\n  \\<le> liminf\n         (\\<lambda>xa.\n             ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  limsup\n   (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<le> subcocycle_lim_ereal u x\n  liminf\n   (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<le> limsup\n         (\\<lambda>xa.\n             ereal (real_cond_exp M Invariants (u xa) x / real xa))\n\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa)) =\n    subcocycle_lim_ereal u x \\<and>\n    limsup\n     (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa)) =\n    subcocycle_lim_ereal u x", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>K.\n              limsup\n               (\\<lambda>x.\n                   ereal (real_cond_exp M Invariants (u x) ?x5 / real x))\n              \\<le> max (subcocycle_lim_ereal u ?x5) (ereal (- real K));\n   subcocycle_lim_ereal u ?x5\n   \\<le> liminf\n          (\\<lambda>x.\n              ereal\n               (real_cond_exp M Invariants (u x) ?x5 / real x))\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>x.\n                        ereal\n                         (real_cond_exp M Invariants (u x) ?x5 / real x))\n                    \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. \\<forall>K.\n                limsup\n                 (\\<lambda>xa.\n                     ereal (real_cond_exp M Invariants (u xa) x / real xa))\n                \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> liminf\n                    (\\<lambda>xa.\n                        ereal\n                         (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<lbrakk>\\<forall>K.\n              limsup\n               (\\<lambda>x.\n                   ereal (real_cond_exp M Invariants (u x) ?x5 / real x))\n              \\<le> max (subcocycle_lim_ereal u ?x5) (ereal (- real K));\n   subcocycle_lim_ereal u ?x5\n   \\<le> liminf\n          (\\<lambda>x.\n              ereal\n               (real_cond_exp M Invariants (u x) ?x5 / real x))\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>x.\n                        ereal\n                         (real_cond_exp M Invariants (u x) ?x5 / real x))\n                    \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5", "show ?thesis"], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>K.\n                limsup\n                 (\\<lambda>xa.\n                     ereal (real_cond_exp M Invariants (u xa) x / real xa))\n                \\<le> max (subcocycle_lim_ereal u x) (ereal (- real K))\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> liminf\n                    (\\<lambda>xa.\n                        ereal\n                         (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<lbrakk>\\<forall>K.\n              limsup\n               (\\<lambda>x.\n                   ereal (real_cond_exp M Invariants (u x) ?x5 / real x))\n              \\<le> max (subcocycle_lim_ereal u ?x5) (ereal (- real K));\n   subcocycle_lim_ereal u ?x5\n   \\<le> liminf\n          (\\<lambda>x.\n              ereal\n               (real_cond_exp M Invariants (u x) ?x5 / real x))\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>x.\n                        ereal\n                         (real_cond_exp M Invariants (u x) ?x5 / real x))\n                    \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa.\n                 ereal (real_cond_exp M Invariants (u xa) x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \\<open>Subcocycles in the ergodic case\\<close>"], ["", "text \\<open>In this subsection, we describe how all the previous results simplify in the ergodic case.\nIndeed, subcocycle limits are almost surely constant, given by the asymptotic average.\\<close>"], ["", "context ergodic_pmpt begin"], ["", "lemma subcocycle_ergodic_lim_avg:\n  assumes \"subcocycle u\"\n  shows \"AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u\"\n        \"AE x in M. subcocycle_lim u x = subcocycle_avg u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u &&&\n    AE x in M. subcocycle_lim u x = subcocycle_avg u", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u\n 2. AE x in M. subcocycle_lim u x = subcocycle_avg u", "have I: \"integrable M (u N)\" for N"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (u N)", "using subcocycle_integrable[OF assms]"], ["proof (prove)\nusing this:\n  integrable M (u ?n)\n  random_variable borel (u ?n)\n\ngoal (1 subgoal):\n 1. integrable M (u N)", "by auto"], ["proof (state)\nthis:\n  integrable M (u ?N12)\n\ngoal (2 subgoals):\n 1. AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u\n 2. AE x in M. subcocycle_lim u x = subcocycle_avg u", "obtain c::ereal where c: \"AE x in M. subcocycle_lim_ereal u x = c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        AE x in M. subcocycle_lim_ereal u x = c \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using Invariant_func_is_AE_constant[OF subcocycle_lim_meas_Inv(1)]"], ["proof (prove)\nusing this:\n  \\<exists>y. AE x in M. subcocycle_lim_ereal ?u1 x = y\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        AE x in M. subcocycle_lim_ereal u x = c \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal u x = c\n\ngoal (2 subgoals):\n 1. AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u\n 2. AE x in M. subcocycle_lim u x = subcocycle_avg u", "have \"c = subcocycle_avg_ereal u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c = subcocycle_avg_ereal u", "proof (cases \"subcocycle_avg_ereal u = - \\<infinity>\")"], ["proof (state)\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u = - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u\n 2. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "case True"], ["proof (state)\nthis:\n  subcocycle_avg_ereal u = - \\<infinity>\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u = - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u\n 2. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "{"], ["proof (state)\nthis:\n  subcocycle_avg_ereal u = - \\<infinity>\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u = - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u\n 2. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "fix N"], ["proof (state)\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u = - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u\n 2. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "assume \"N > (0::nat)\""], ["proof (state)\nthis:\n  0 < N\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u = - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u\n 2. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "have \"AE x in M. real_cond_exp M Invariants (\\<lambda>x. u N x / N) x = (\\<integral> x. u N x / N \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x =\n               expectation (\\<lambda>x. u N x / real N)", "apply (rule Invariants_cond_exp_is_integral)"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u N x / real N)", "using I"], ["proof (prove)\nusing this:\n  integrable M (u ?N12)\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u N x / real N)", "by auto"], ["proof (state)\nthis:\n  AE x in M. real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x =\n             expectation (\\<lambda>x. u N x / real N)\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u = - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u\n 2. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "moreover"], ["proof (state)\nthis:\n  AE x in M. real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x =\n             expectation (\\<lambda>x. u N x / real N)\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u = - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u\n 2. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "have \"AE x in M. subcocycle_lim_ereal u x \\<le> real_cond_exp M Invariants (\\<lambda>x. u N x / N) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "using subcocycle_lim_ereal_atmost_uN_invariants[OF assms \\<open>N>0\\<close>]"], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> ereal\n                    (real_cond_exp M Invariants (\\<lambda>x. u N x / real N)\n                      x)\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x\n               \\<le> ereal\n                      (real_cond_exp M Invariants\n                        (\\<lambda>x. u N x / real N) x)", "by simp"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> ereal\n                    (real_cond_exp M Invariants (\\<lambda>x. u N x / real N)\n                      x)\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u = - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u\n 2. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x =\n             expectation (\\<lambda>x. u N x / real N)\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> ereal\n                    (real_cond_exp M Invariants (\\<lambda>x. u N x / real N)\n                      x)", "have \"AE x in M. c \\<le> (\\<integral>x. u N x / N \\<partial>M)\""], ["proof (prove)\nusing this:\n  AE x in M. real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x =\n             expectation (\\<lambda>x. u N x / real N)\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> ereal\n                    (real_cond_exp M Invariants (\\<lambda>x. u N x / real N)\n                      x)\n\ngoal (1 subgoal):\n 1. AE x in M. c \\<le> ereal (expectation (\\<lambda>x. u N x / real N))", "using c"], ["proof (prove)\nusing this:\n  AE x in M. real_cond_exp M Invariants (\\<lambda>x. u N x / real N) x =\n             expectation (\\<lambda>x. u N x / real N)\n  AE x in M. subcocycle_lim_ereal u x\n             \\<le> ereal\n                    (real_cond_exp M Invariants (\\<lambda>x. u N x / real N)\n                      x)\n  AE x in M. subcocycle_lim_ereal u x = c\n\ngoal (1 subgoal):\n 1. AE x in M. c \\<le> ereal (expectation (\\<lambda>x. u N x / real N))", "by force"], ["proof (state)\nthis:\n  AE x in M. c \\<le> ereal (expectation (\\<lambda>x. u N x / real N))\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u = - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u\n 2. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "then"], ["proof (chain)\npicking this:\n  AE x in M. c \\<le> ereal (expectation (\\<lambda>x. u N x / real N))", "have \"c \\<le> (\\<integral>x. u N x / N \\<partial>M)\""], ["proof (prove)\nusing this:\n  AE x in M. c \\<le> ereal (expectation (\\<lambda>x. u N x / real N))\n\ngoal (1 subgoal):\n 1. c \\<le> ereal (expectation (\\<lambda>x. u N x / real N))", "by auto"], ["proof (state)\nthis:\n  c \\<le> ereal (expectation (\\<lambda>x. u N x / real N))\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u = - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u\n 2. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "}"], ["proof (state)\nthis:\n  0 < ?N14 \\<Longrightarrow>\n  c \\<le> ereal (expectation (\\<lambda>x. u ?N14 x / real ?N14))\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u = - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u\n 2. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "then"], ["proof (chain)\npicking this:\n  0 < ?N14 \\<Longrightarrow>\n  c \\<le> ereal (expectation (\\<lambda>x. u ?N14 x / real ?N14))", "have \"\\<forall>N\\<ge>1. c \\<le> (\\<integral>x. u N x / N \\<partial>M)\""], ["proof (prove)\nusing this:\n  0 < ?N14 \\<Longrightarrow>\n  c \\<le> ereal (expectation (\\<lambda>x. u ?N14 x / real ?N14))\n\ngoal (1 subgoal):\n 1. \\<forall>N\\<ge>1.\n       c \\<le> ereal (expectation (\\<lambda>x. u N x / real N))", "by auto"], ["proof (state)\nthis:\n  \\<forall>N\\<ge>1. c \\<le> ereal (expectation (\\<lambda>x. u N x / real N))\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u = - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u\n 2. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "with Lim_bounded2[OF subcocycle_int_tendsto_avg_ereal[OF assms] this]"], ["proof (chain)\npicking this:\n  c \\<le> subcocycle_avg_ereal u\n  \\<forall>N\\<ge>1. c \\<le> ereal (expectation (\\<lambda>x. u N x / real N))", "have \"c \\<le> subcocycle_avg_ereal u\""], ["proof (prove)\nusing this:\n  c \\<le> subcocycle_avg_ereal u\n  \\<forall>N\\<ge>1. c \\<le> ereal (expectation (\\<lambda>x. u N x / real N))\n\ngoal (1 subgoal):\n 1. c \\<le> subcocycle_avg_ereal u", "by simp"], ["proof (state)\nthis:\n  c \\<le> subcocycle_avg_ereal u\n\ngoal (2 subgoals):\n 1. subcocycle_avg_ereal u = - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u\n 2. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "then"], ["proof (chain)\npicking this:\n  c \\<le> subcocycle_avg_ereal u", "show ?thesis"], ["proof (prove)\nusing this:\n  c \\<le> subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. c = subcocycle_avg_ereal u", "using True"], ["proof (prove)\nusing this:\n  c \\<le> subcocycle_avg_ereal u\n  subcocycle_avg_ereal u = - \\<infinity>\n\ngoal (1 subgoal):\n 1. c = subcocycle_avg_ereal u", "by auto"], ["proof (state)\nthis:\n  c = subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "case False"], ["proof (state)\nthis:\n  subcocycle_avg_ereal u \\<noteq> - \\<infinity>\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "then"], ["proof (chain)\npicking this:\n  subcocycle_avg_ereal u \\<noteq> - \\<infinity>", "have fin: \"subcocycle_avg_ereal u > - \\<infinity>\""], ["proof (prove)\nusing this:\n  subcocycle_avg_ereal u \\<noteq> - \\<infinity>\n\ngoal (1 subgoal):\n 1. - \\<infinity> < subcocycle_avg_ereal u", "by simp"], ["proof (state)\nthis:\n  - \\<infinity> < subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "obtain cr::real where cr: \"AE x in M. subcocycle_lim u x = cr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>cr.\n        AE x in M. subcocycle_lim u x = cr \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using Invariant_func_is_AE_constant[OF subcocycle_lim_meas_Inv(2)]"], ["proof (prove)\nusing this:\n  \\<exists>y. AE x in M. subcocycle_lim ?u1 x = y\n\ngoal (1 subgoal):\n 1. (\\<And>cr.\n        AE x in M. subcocycle_lim u x = cr \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim u x = cr\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "have \"AE x in M. c = ereal cr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. c = ereal cr", "using c cr subcocycle_lim_real_ereal[OF assms fin]"], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim_ereal u x = c\n  AE x in M. subcocycle_lim u x = cr\n  AE x in M. subcocycle_lim_ereal u x = ereal (subcocycle_lim u x)\n\ngoal (1 subgoal):\n 1. AE x in M. c = ereal cr", "by force"], ["proof (state)\nthis:\n  AE x in M. c = ereal cr\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "then"], ["proof (chain)\npicking this:\n  AE x in M. c = ereal cr", "have \"c = ereal cr\""], ["proof (prove)\nusing this:\n  AE x in M. c = ereal cr\n\ngoal (1 subgoal):\n 1. c = ereal cr", "by auto"], ["proof (state)\nthis:\n  c = ereal cr\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "have \"subcocycle_avg u = (\\<integral>x. subcocycle_lim u x \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_avg u = expectation (subcocycle_lim u)", "using subcocycle_lim_avg[OF assms fin]"], ["proof (prove)\nusing this:\n  expectation (subcocycle_lim u) = subcocycle_avg u\n\ngoal (1 subgoal):\n 1. subcocycle_avg u = expectation (subcocycle_lim u)", "by auto"], ["proof (state)\nthis:\n  subcocycle_avg u = expectation (subcocycle_lim u)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "also"], ["proof (state)\nthis:\n  subcocycle_avg u = expectation (subcocycle_lim u)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "have \"... = (\\<integral>x. cr \\<partial>M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. expectation (subcocycle_lim u) = expectation (\\<lambda>x. cr)", "apply (rule integral_cong_AE)"], ["proof (prove)\ngoal (3 subgoals):\n 1. random_variable borel (subcocycle_lim u)\n 2. random_variable borel (\\<lambda>x. cr)\n 3. AE x in M. subcocycle_lim u x = cr", "using cr"], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim u x = cr\n\ngoal (3 subgoals):\n 1. random_variable borel (subcocycle_lim u)\n 2. random_variable borel (\\<lambda>x. cr)\n 3. AE x in M. subcocycle_lim u x = cr", "by auto"], ["proof (state)\nthis:\n  expectation (subcocycle_lim u) = expectation (\\<lambda>x. cr)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "also"], ["proof (state)\nthis:\n  expectation (subcocycle_lim u) = expectation (\\<lambda>x. cr)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "have \"... = cr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. expectation (\\<lambda>x. cr) = cr", "by (simp add: prob_space.prob_space prob_space_axioms)"], ["proof (state)\nthis:\n  expectation (\\<lambda>x. cr) = cr\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "finally"], ["proof (chain)\npicking this:\n  subcocycle_avg u = cr", "have \"ereal(subcocycle_avg u) = ereal cr\""], ["proof (prove)\nusing this:\n  subcocycle_avg u = cr\n\ngoal (1 subgoal):\n 1. ereal (subcocycle_avg u) = ereal cr", "by simp"], ["proof (state)\nthis:\n  ereal (subcocycle_avg u) = ereal cr\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal u \\<noteq> - \\<infinity> \\<Longrightarrow>\n    c = subcocycle_avg_ereal u", "then"], ["proof (chain)\npicking this:\n  ereal (subcocycle_avg u) = ereal cr", "show ?thesis"], ["proof (prove)\nusing this:\n  ereal (subcocycle_avg u) = ereal cr\n\ngoal (1 subgoal):\n 1. c = subcocycle_avg_ereal u", "using \\<open> c = ereal cr \\<close> subcocycle_avg_real_ereal[OF fin]"], ["proof (prove)\nusing this:\n  ereal (subcocycle_avg u) = ereal cr\n  c = ereal cr\n  subcocycle_avg_ereal u = ereal (subcocycle_avg u)\n\ngoal (1 subgoal):\n 1. c = subcocycle_avg_ereal u", "by auto"], ["proof (state)\nthis:\n  c = subcocycle_avg_ereal u\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c = subcocycle_avg_ereal u\n\ngoal (2 subgoals):\n 1. AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u\n 2. AE x in M. subcocycle_lim u x = subcocycle_avg u", "then"], ["proof (chain)\npicking this:\n  c = subcocycle_avg_ereal u", "show \"AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u\""], ["proof (prove)\nusing this:\n  c = subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u", "using c"], ["proof (prove)\nusing this:\n  c = subcocycle_avg_ereal u\n  AE x in M. subcocycle_lim_ereal u x = c\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim u x = subcocycle_avg u", "then"], ["proof (chain)\npicking this:\n  AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u", "show \"AE x in M. subcocycle_lim u x = subcocycle_avg u\""], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim u x = subcocycle_avg u", "unfolding subcocycle_lim_def subcocycle_avg_def"], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. AE x in M. real_of_ereal (subcocycle_lim_ereal u x) =\n               real_of_ereal (subcocycle_avg_ereal u)", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim u x = subcocycle_avg u\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem kingman_theorem_AE_ereal:\n  assumes \"subcocycle u\"\n  shows \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_avg_ereal u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_avg_ereal u", "using kingman_theorem_AE_nonergodic_ereal[OF assms] subcocycle_ergodic_lim_avg(1)[OF assms]"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  AE x in M. subcocycle_lim_ereal u x = subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa. ereal (u xa x / real xa))\n               \\<longlonglongrightarrow> subcocycle_avg_ereal u", "by auto"], ["", "theorem kingman_theorem:\n  assumes \"subcocycle u\" \"subcocycle_avg_ereal u > -\\<infinity>\"\n  shows \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_avg u\"\n        \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(u n x / n - subcocycle_avg u) \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_avg u &&&\n    (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_avg u\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_avg u\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_avg u\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have *: \"AE x in M. subcocycle_lim u x = subcocycle_avg u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim u x = subcocycle_avg u", "using subcocycle_ergodic_lim_avg(2)[OF assms(1)]"], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim u x = subcocycle_avg u\n\ngoal (1 subgoal):\n 1. AE x in M. subcocycle_lim u x = subcocycle_avg u", "by auto"], ["proof (state)\nthis:\n  AE x in M. subcocycle_lim u x = subcocycle_avg u\n\ngoal (2 subgoals):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_avg u\n 2. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_avg u\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  AE x in M. subcocycle_lim u x = subcocycle_avg u", "show \"AE x in M. (\\<lambda>n. u n x / n) \\<longlonglongrightarrow> subcocycle_avg u\""], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim u x = subcocycle_avg u\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_avg u", "using kingman_theorem_nonergodic(1)[OF assms]"], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim u x = subcocycle_avg u\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_lim u x\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>n. u n x / real n)\n               \\<longlonglongrightarrow> subcocycle_avg u", "by auto"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>n. u n x / real n)\n             \\<longlonglongrightarrow> subcocycle_avg u\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_avg u\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "have \"(\\<integral>\\<^sup>+x. abs(u n x / n - subcocycle_avg u) \\<partial>M) = (\\<integral>\\<^sup>+x. abs(u n x / n - subcocycle_lim u x) \\<partial>M)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>u n x / real n - subcocycle_avg u\\<bar>\n                       \\<partial>M =\n    \\<integral>\\<^sup>+ x. ennreal\n                            \\<bar>u n x / real n - subcocycle_lim u x\\<bar>\n                       \\<partial>M", "apply (rule nn_integral_cong_AE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. ennreal \\<bar>u n x / real n - subcocycle_avg u\\<bar> =\n               ennreal \\<bar>u n x / real n - subcocycle_lim u x\\<bar>", "using *"], ["proof (prove)\nusing this:\n  AE x in M. subcocycle_lim u x = subcocycle_avg u\n\ngoal (1 subgoal):\n 1. AE x in M. ennreal \\<bar>u n x / real n - subcocycle_avg u\\<bar> =\n               ennreal \\<bar>u n x / real n - subcocycle_lim u x\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u ?n12 x / real ?n12 -\n                                subcocycle_avg u\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u ?n12 x / real ?n12 -\n                                subcocycle_lim u x\\<bar>\n                     \\<partial>M\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_avg u\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u ?n12 x / real ?n12 -\n                                subcocycle_avg u\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u ?n12 x / real ?n12 -\n                                subcocycle_lim u x\\<bar>\n                     \\<partial>M", "show \"(\\<lambda>n. (\\<integral>\\<^sup>+x. abs(u n x / n - subcocycle_avg u) \\<partial>M)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u ?n12 x / real ?n12 -\n                                subcocycle_avg u\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u ?n12 x / real ?n12 -\n                                subcocycle_lim u x\\<bar>\n                     \\<partial>M\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_avg u\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "using kingman_theorem_nonergodic(3)[OF assms]"], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u ?n12 x / real ?n12 -\n                                subcocycle_avg u\\<bar>\n                     \\<partial>M =\n  \\<integral>\\<^sup>+ x. ennreal\n                          \\<bar>u ?n12 x / real ?n12 -\n                                subcocycle_lim u x\\<bar>\n                     \\<partial>M\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>u n x / real n -\n                                    subcocycle_lim u x\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        \\<integral>\\<^sup>+ x. ennreal\n                                \\<bar>u n x / real n -\nsubcocycle_avg u\\<bar>\n                           \\<partial>M)\n    \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      \\<integral>\\<^sup>+ x. ennreal\n                              \\<bar>u n x / real n - subcocycle_avg u\\<bar>\n                         \\<partial>M)\n  \\<longlonglongrightarrow> 0\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \\<open>Subocycles for invertible maps\\<close>"], ["", "text \\<open>If $T$ is invertible, then a subcocycle $u_n$ for $T$ gives rise to another subcocycle\nfor $T^{-1}$. Intuitively, if $u$ is subadditive along the time interval $[0,n)$, then\nit should also be subadditive along the time interval $[-n,0)$. This is true, and\nformalized with the following statement.\\<close>"], ["", "proposition (in mpt) subcocycle_u_Tinv:\n  assumes \"subcocycle u\"\n          \"invertible_qmpt\"\n  shows \"mpt.subcocycle M Tinv (\\<lambda>n x. u n (((Tinv)^^n) x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mpt.subcocycle M Tinv (\\<lambda>n x. u n ((Tinv ^^ n) x))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. mpt.subcocycle M Tinv (\\<lambda>n x. u n ((Tinv ^^ n) x))", "have bij: \"bij T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bij T", "using \\<open>invertible_qmpt\\<close>"], ["proof (prove)\nusing this:\n  invertible_qmpt\n\ngoal (1 subgoal):\n 1. bij T", "unfolding invertible_qmpt_def"], ["proof (prove)\nusing this:\n  bij T \\<and> inv T \\<in> M \\<rightarrow>\\<^sub>M M\n\ngoal (1 subgoal):\n 1. bij T", "by auto"], ["proof (state)\nthis:\n  bij T\n\ngoal (1 subgoal):\n 1. mpt.subcocycle M Tinv (\\<lambda>n x. u n ((Tinv ^^ n) x))", "have int: \"integrable M (u n)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (u n)", "using subcocycle_integrable[OF assms(1)]"], ["proof (prove)\nusing this:\n  integrable M (u ?n)\n  u ?n \\<in> borel_measurable M\n\ngoal (1 subgoal):\n 1. integrable M (u n)", "by simp"], ["proof (state)\nthis:\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. mpt.subcocycle M Tinv (\\<lambda>n x. u n ((Tinv ^^ n) x))", "interpret I: mpt M Tinv"], ["proof (prove)\ngoal (1 subgoal):\n 1. mpt M Tinv", "using Tinv_mpt[OF assms(2)]"], ["proof (prove)\nusing this:\n  mpt M Tinv\n\ngoal (1 subgoal):\n 1. mpt M Tinv", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. I.subcocycle (\\<lambda>n x. u n ((Tinv ^^ n) x))", "show \"I.subcocycle (\\<lambda>n x. u n (((Tinv)^^n) x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. I.subcocycle (\\<lambda>n x. u n ((Tinv ^^ n) x))", "unfolding I.subcocycle_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>n. integrable M (\\<lambda>x. u n ((Tinv ^^ n) x))) \\<and>\n    (\\<forall>n m x.\n        u (n + m) ((Tinv ^^ (n + m)) x)\n        \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x)))", "proof(auto)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>n. integrable M (\\<lambda>x. u n ((Tinv ^^ n) x))\n 2. \\<And>n m x.\n       u (n + m) ((Tinv ^^ (n + m)) x)\n       \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))", "show \"integrable M (\\<lambda>x. u n ((Tinv ^^ n) x))\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u n ((Tinv ^^ n) x))", "using I.Tn_integral_preserving(1)[OF int[of n]]"], ["proof (prove)\nusing this:\n  integrable M (\\<lambda>x. u n ((Tinv ^^ ?n) x))\n\ngoal (1 subgoal):\n 1. integrable M (\\<lambda>x. u n ((Tinv ^^ n) x))", "by simp"], ["proof (state)\nthis:\n  integrable M (\\<lambda>x. u ?n3 ((Tinv ^^ ?n3) x))\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) ((Tinv ^^ (n + m)) x)\n       \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))", "fix n m::nat and x::'a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) ((Tinv ^^ (n + m)) x)\n       \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))", "define y where \"y = (Tinv^^(m+n)) x\""], ["proof (state)\nthis:\n  y = (Tinv ^^ (m + n)) x\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) ((Tinv ^^ (n + m)) x)\n       \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))", "have \"(T^^m) y = (T^^m) ((Tinv^^m) ((Tinv^^n) x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (T ^^ m) y = (T ^^ m) ((Tinv ^^ m) ((Tinv ^^ n) x))", "unfolding y_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (T ^^ m) ((Tinv ^^ (m + n)) x) = (T ^^ m) ((Tinv ^^ m) ((Tinv ^^ n) x))", "by (simp add: funpow_add)"], ["proof (state)\nthis:\n  (T ^^ m) y = (T ^^ m) ((Tinv ^^ m) ((Tinv ^^ n) x))\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) ((Tinv ^^ (n + m)) x)\n       \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))", "then"], ["proof (chain)\npicking this:\n  (T ^^ m) y = (T ^^ m) ((Tinv ^^ m) ((Tinv ^^ n) x))", "have *: \"(T^^m) y = (Tinv^^n) x\""], ["proof (prove)\nusing this:\n  (T ^^ m) y = (T ^^ m) ((Tinv ^^ m) ((Tinv ^^ n) x))\n\ngoal (1 subgoal):\n 1. (T ^^ m) y = (Tinv ^^ n) x", "using fn_o_inv_fn_is_id[OF bij, of m]"], ["proof (prove)\nusing this:\n  (T ^^ m) y = (T ^^ m) ((Tinv ^^ m) ((Tinv ^^ n) x))\n  T ^^ m \\<circ> inv T ^^ m = (\\<lambda>x. x)\n\ngoal (1 subgoal):\n 1. (T ^^ m) y = (Tinv ^^ n) x", "by (metis Tinv_def comp_def)"], ["proof (state)\nthis:\n  (T ^^ m) y = (Tinv ^^ n) x\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) ((Tinv ^^ (n + m)) x)\n       \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))", "have \"u (n + m) ((Tinv ^^ (n + m)) x) = u (m+n) y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (n + m) ((Tinv ^^ (n + m)) x) = u (m + n) y", "unfolding y_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. u (n + m) ((Tinv ^^ (n + m)) x) = u (m + n) ((Tinv ^^ (m + n)) x)", "by (simp add: add.commute[of n m])"], ["proof (state)\nthis:\n  u (n + m) ((Tinv ^^ (n + m)) x) = u (m + n) y\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) ((Tinv ^^ (n + m)) x)\n       \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))", "also"], ["proof (state)\nthis:\n  u (n + m) ((Tinv ^^ (n + m)) x) = u (m + n) y\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) ((Tinv ^^ (n + m)) x)\n       \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))", "have \"... \\<le> u m y + u n ((T^^m) y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u (m + n) y \\<le> u m y + u n ((T ^^ m) y)", "using subcocycle_ineq[OF \\<open>subcocycle u\\<close>, of m n y]"], ["proof (prove)\nusing this:\n  u (m + n) y \\<le> u m y + u n ((T ^^ m) y)\n\ngoal (1 subgoal):\n 1. u (m + n) y \\<le> u m y + u n ((T ^^ m) y)", "by simp"], ["proof (state)\nthis:\n  u (m + n) y \\<le> u m y + u n ((T ^^ m) y)\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) ((Tinv ^^ (n + m)) x)\n       \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))", "also"], ["proof (state)\nthis:\n  u (m + n) y \\<le> u m y + u n ((T ^^ m) y)\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) ((Tinv ^^ (n + m)) x)\n       \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))", "have \"... = u m ((Tinv^^(m+n)) x) + u n ((Tinv^^n) x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u m y + u n ((T ^^ m) y) =\n    u m ((Tinv ^^ (m + n)) x) + u n ((Tinv ^^ n) x)", "using * y_def"], ["proof (prove)\nusing this:\n  (T ^^ m) y = (Tinv ^^ n) x\n  y = (Tinv ^^ (m + n)) x\n\ngoal (1 subgoal):\n 1. u m y + u n ((T ^^ m) y) =\n    u m ((Tinv ^^ (m + n)) x) + u n ((Tinv ^^ n) x)", "by auto"], ["proof (state)\nthis:\n  u m y + u n ((T ^^ m) y) = u m ((Tinv ^^ (m + n)) x) + u n ((Tinv ^^ n) x)\n\ngoal (1 subgoal):\n 1. \\<And>n m x.\n       u (n + m) ((Tinv ^^ (n + m)) x)\n       \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))", "finally"], ["proof (chain)\npicking this:\n  u (n + m) ((Tinv ^^ (n + m)) x)\n  \\<le> u m ((Tinv ^^ (m + n)) x) + u n ((Tinv ^^ n) x)", "show \"u (n + m) ((Tinv ^^ (n + m)) x) \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))\""], ["proof (prove)\nusing this:\n  u (n + m) ((Tinv ^^ (n + m)) x)\n  \\<le> u m ((Tinv ^^ (m + n)) x) + u n ((Tinv ^^ n) x)\n\ngoal (1 subgoal):\n 1. u (n + m) ((Tinv ^^ (n + m)) x)\n    \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))", "by (simp add: funpow_add)"], ["proof (state)\nthis:\n  u (n + m) ((Tinv ^^ (n + m)) x)\n  \\<le> u n ((Tinv ^^ n) x) + u m ((Tinv ^^ m) ((Tinv ^^ n) x))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  I.subcocycle (\\<lambda>n x. u n ((Tinv ^^ n) x))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The subcocycle averages for $T$ and $T^{-1}$ coincide.\\<close>"], ["", "proposition (in mpt) subcocycle_avg_ereal_Tinv:\n  assumes \"subcocycle u\"\n          \"invertible_qmpt\"\n  shows \"mpt.subcocycle_avg_ereal M (\\<lambda>n x. u n (((Tinv)^^n) x)) = subcocycle_avg_ereal u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n    subcocycle_avg_ereal u", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n    subcocycle_avg_ereal u", "have bij: \"bij T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bij T", "using \\<open>invertible_qmpt\\<close>"], ["proof (prove)\nusing this:\n  invertible_qmpt\n\ngoal (1 subgoal):\n 1. bij T", "unfolding invertible_qmpt_def"], ["proof (prove)\nusing this:\n  bij T \\<and> inv T \\<in> M \\<rightarrow>\\<^sub>M M\n\ngoal (1 subgoal):\n 1. bij T", "by auto"], ["proof (state)\nthis:\n  bij T\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n    subcocycle_avg_ereal u", "have int: \"integrable M (u n)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (u n)", "using subcocycle_integrable[OF assms(1)]"], ["proof (prove)\nusing this:\n  integrable M (u ?n)\n  u ?n \\<in> borel_measurable M\n\ngoal (1 subgoal):\n 1. integrable M (u n)", "by simp"], ["proof (state)\nthis:\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n    subcocycle_avg_ereal u", "interpret I: mpt M Tinv"], ["proof (prove)\ngoal (1 subgoal):\n 1. mpt M Tinv", "using Tinv_mpt[OF assms(2)]"], ["proof (prove)\nusing this:\n  mpt M Tinv\n\ngoal (1 subgoal):\n 1. mpt M Tinv", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. I.subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n    I.subcocycle_avg_ereal u", "have \"(\\<lambda>n. (\\<integral>x. u n (((Tinv)^^n) x) / n \\<partial>M)) \\<longlonglongrightarrow> I.subcocycle_avg_ereal (\\<lambda>n x. u n (((Tinv)^^n) x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. u x ((Tinv ^^ x) xa) / real x))\n    \\<longlonglongrightarrow> I.subcocycle_avg_ereal\n                               (\\<lambda>n x. u n ((Tinv ^^ n) x))", "using I.subcocycle_int_tendsto_avg_ereal[OF subcocycle_u_Tinv[OF assms]]"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. u x ((Tinv ^^ x) xa) / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. u x ((Tinv ^^ x) xa) / real x))\n    \\<longlonglongrightarrow> I.subcocycle_avg_ereal\n                               (\\<lambda>n x. u n ((Tinv ^^ n) x))", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. u x ((Tinv ^^ x) xa) / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x))\n\ngoal (1 subgoal):\n 1. I.subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n    I.subcocycle_avg_ereal u", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. u x ((Tinv ^^ x) xa) / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x))\n\ngoal (1 subgoal):\n 1. I.subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n    I.subcocycle_avg_ereal u", "have \"(\\<integral>x. u n x / n \\<partial>M) = ereal (\\<integral>x. u n (((Tinv)^^n) x) / n \\<partial>M)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (LINT x|M. u n x / real n) =\n    ereal (LINT x|M. u n ((Tinv ^^ n) x) / real n)", "apply (simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. n = 0 \\<or> integral\\<^sup>L M (u n) = LINT x|M. u n ((Tinv ^^ n) x)", "apply (rule disjI2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L M (u n) = LINT x|M. u n ((Tinv ^^ n) x)", "apply (rule I.Tn_integral_preserving(2)[symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (u n)", "apply (simp add: int)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  ereal (LINT x|M. u ?n3 x / real ?n3) =\n  ereal (LINT x|M. u ?n3 ((Tinv ^^ ?n3) x) / real ?n3)\n\ngoal (1 subgoal):\n 1. I.subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n    I.subcocycle_avg_ereal u", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>x. ereal (LINT xa|M. u x ((Tinv ^^ x) xa) / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x))\n  ereal (LINT x|M. u ?n3 x / real ?n3) =\n  ereal (LINT x|M. u ?n3 ((Tinv ^^ ?n3) x) / real ?n3)", "have \"(\\<lambda>n. (\\<integral>x. u n x / n \\<partial>M)) \\<longlonglongrightarrow> I.subcocycle_avg_ereal (\\<lambda>n x. u n (((Tinv)^^n) x))\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. u x ((Tinv ^^ x) xa) / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x))\n  ereal (LINT x|M. u ?n3 x / real ?n3) =\n  ereal (LINT x|M. u ?n3 ((Tinv ^^ ?n3) x) / real ?n3)\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n    \\<longlonglongrightarrow> I.subcocycle_avg_ereal\n                               (\\<lambda>n x. u n ((Tinv ^^ n) x))", "by presburger"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x))\n\ngoal (1 subgoal):\n 1. I.subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n    I.subcocycle_avg_ereal u", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x))\n\ngoal (1 subgoal):\n 1. I.subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n    I.subcocycle_avg_ereal u", "have \"(\\<lambda>n. (\\<integral>x. u n x / n \\<partial>M)) \\<longlonglongrightarrow> subcocycle_avg_ereal u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n    \\<longlonglongrightarrow> I.subcocycle_avg_ereal u", "using subcocycle_int_tendsto_avg_ereal[OF \\<open>subcocycle u\\<close>]"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n    \\<longlonglongrightarrow> I.subcocycle_avg_ereal u", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. I.subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n    I.subcocycle_avg_ereal u", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x))\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal u", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x))\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal u\n\ngoal (1 subgoal):\n 1. I.subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n    I.subcocycle_avg_ereal u", "using LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x))\n  (\\<lambda>x. ereal (LINT xa|M. u x xa / real x))\n  \\<longlonglongrightarrow> I.subcocycle_avg_ereal u\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. I.subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n    I.subcocycle_avg_ereal u", "by simp"], ["proof (state)\nthis:\n  I.subcocycle_avg_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) =\n  I.subcocycle_avg_ereal u\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The asymptotic limit of the subcocycle is the same for $T$ and $T^{-1}$. This is clear in the\nergodic case, and follows from the ergodic decomposition in the general case (on a standard\nprobability space). We give a direct proof below (on a general probability space) using the fact\nthat the asymptotic limit is the same for the subcocycle conditioned by the invariant sigma-algebra,\nwhich is clearly the same for $T$ and $T^{-1}$ as it is constant along orbits.\\<close>"], ["", "proposition (in fmpt) subcocycle_lim_ereal_Tinv:\n  assumes \"subcocycle u\"\n          \"invertible_qmpt\"\n  shows \"AE x in M. fmpt.subcocycle_lim_ereal M Tinv (\\<lambda>n x. u n (((Tinv)^^n) x)) x = subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. fmpt.subcocycle_lim_ereal M Tinv\n                (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n               subcocycle_lim_ereal u x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. fmpt.subcocycle_lim_ereal M Tinv\n                (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n               subcocycle_lim_ereal u x", "have bij: \"bij T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bij T", "using \\<open>invertible_qmpt\\<close>"], ["proof (prove)\nusing this:\n  invertible_qmpt\n\ngoal (1 subgoal):\n 1. bij T", "unfolding invertible_qmpt_def"], ["proof (prove)\nusing this:\n  bij T \\<and> inv T \\<in> M \\<rightarrow>\\<^sub>M M\n\ngoal (1 subgoal):\n 1. bij T", "by auto"], ["proof (state)\nthis:\n  bij T\n\ngoal (1 subgoal):\n 1. AE x in M. fmpt.subcocycle_lim_ereal M Tinv\n                (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n               subcocycle_lim_ereal u x", "have int: \"integrable M (u n)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable M (u n)", "using subcocycle_integrable[OF assms(1)]"], ["proof (prove)\nusing this:\n  integrable M (u ?n)\n  u ?n \\<in> borel_measurable M\n\ngoal (1 subgoal):\n 1. integrable M (u n)", "by simp"], ["proof (state)\nthis:\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. AE x in M. fmpt.subcocycle_lim_ereal M Tinv\n                (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n               subcocycle_lim_ereal u x", "interpret I: fmpt M Tinv"], ["proof (prove)\ngoal (1 subgoal):\n 1. fmpt M Tinv", "using Tinv_fmpt[OF assms(2)]"], ["proof (prove)\nusing this:\n  fmpt M Tinv\n\ngoal (1 subgoal):\n 1. fmpt M Tinv", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "have *: \"AE x in M. real_cond_exp M I.Invariants (\\<lambda> x. u n (((Tinv)^^n) x)) x\n                  = real_cond_exp M I.Invariants (u n) x\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M I.Invariants\n                (\\<lambda>x. u n ((Tinv ^^ n) x)) x =\n               real_cond_exp M I.Invariants (u n) x", "using I.Invariants_of_foTn int"], ["proof (prove)\nusing this:\n  integrable M ?f \\<Longrightarrow>\n  AE x in M. real_cond_exp M I.Invariants (?f \\<circ> Tinv ^^ ?n) x =\n             real_cond_exp M I.Invariants ?f x\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M I.Invariants\n                (\\<lambda>x. u n ((Tinv ^^ n) x)) x =\n               real_cond_exp M I.Invariants (u n) x", "unfolding o_def"], ["proof (prove)\nusing this:\n  integrable M ?f \\<Longrightarrow>\n  AE x in M. real_cond_exp M I.Invariants (\\<lambda>x. ?f ((Tinv ^^ ?n) x))\n              x =\n             real_cond_exp M I.Invariants ?f x\n  integrable M (u ?n3)\n\ngoal (1 subgoal):\n 1. AE x in M. real_cond_exp M I.Invariants\n                (\\<lambda>x. u n ((Tinv ^^ n) x)) x =\n               real_cond_exp M I.Invariants (u n) x", "by simp"], ["proof (state)\nthis:\n  AE x in M. real_cond_exp M I.Invariants\n              (\\<lambda>x. u ?n3 ((Tinv ^^ ?n3) x)) x =\n             real_cond_exp M I.Invariants (u ?n3) x\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "have \"AE x in M. \\<forall>n. real_cond_exp M I.Invariants (\\<lambda> x. u n (((Tinv)^^n) x)) x\n                  = real_cond_exp M I.Invariants (u n) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. \\<forall>n.\n                  real_cond_exp M I.Invariants\n                   (\\<lambda>x. u n ((Tinv ^^ n) x)) x =\n                  real_cond_exp M I.Invariants (u n) x", "apply (subst AE_all_countable)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i.\n       AE x in M. real_cond_exp M I.Invariants\n                   (\\<lambda>x. u i ((Tinv ^^ i) x)) x =\n                  real_cond_exp M I.Invariants (u i) x", "using *"], ["proof (prove)\nusing this:\n  AE x in M. real_cond_exp M I.Invariants\n              (\\<lambda>x. u ?n3 ((Tinv ^^ ?n3) x)) x =\n             real_cond_exp M I.Invariants (u ?n3) x\n\ngoal (1 subgoal):\n 1. \\<forall>i.\n       AE x in M. real_cond_exp M I.Invariants\n                   (\\<lambda>x. u i ((Tinv ^^ i) x)) x =\n                  real_cond_exp M I.Invariants (u i) x", "by simp"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n.\n                real_cond_exp M I.Invariants\n                 (\\<lambda>x. u n ((Tinv ^^ n) x)) x =\n                real_cond_exp M I.Invariants (u n) x\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "moreover"], ["proof (state)\nthis:\n  AE x in M. \\<forall>n.\n                real_cond_exp M I.Invariants\n                 (\\<lambda>x. u n ((Tinv ^^ n) x)) x =\n                real_cond_exp M I.Invariants (u n) x\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "have \"AE x in M. (\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "using kingman_theorem_AE_nonergodic_invariant_ereal[OF \\<open>subcocycle u\\<close>]"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>xa.\n                 ereal (real_cond_exp M Invariants (u xa) x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal (real_cond_exp M Invariants (u xa) x / real xa))\n               \\<longlonglongrightarrow> subcocycle_lim_ereal u x", "by simp"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa.\n                 ereal (real_cond_exp M Invariants (u xa) x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa.\n                 ereal (real_cond_exp M Invariants (u xa) x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "have \"AE x in M. (\\<lambda>n. real_cond_exp M I.Invariants (\\<lambda> x. u n (((Tinv)^^n) x)) x / n)\n          \\<longlonglongrightarrow> I.subcocycle_lim_ereal (\\<lambda> n x. u n (((Tinv)^^n) x)) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal\n                    (real_cond_exp M I.Invariants\n                      (\\<lambda>x. u xa ((Tinv ^^ xa) x)) x /\n                     real xa))\n               \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n    (\\<lambda>n x. u n ((Tinv ^^ n) x)) x", "using I.kingman_theorem_AE_nonergodic_invariant_ereal[OF subcocycle_u_Tinv[OF assms]]"], ["proof (prove)\nusing this:\n  AE x in M. (\\<lambda>xa.\n                 ereal\n                  (real_cond_exp M I.Invariants\n                    (\\<lambda>x. u xa ((Tinv ^^ xa) x)) x /\n                   real xa))\n             \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n  (\\<lambda>n x. u n ((Tinv ^^ n) x)) x\n\ngoal (1 subgoal):\n 1. AE x in M. (\\<lambda>xa.\n                   ereal\n                    (real_cond_exp M I.Invariants\n                      (\\<lambda>x. u xa ((Tinv ^^ xa) x)) x /\n                     real xa))\n               \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n    (\\<lambda>n x. u n ((Tinv ^^ n) x)) x", "by simp"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa.\n                 ereal\n                  (real_cond_exp M I.Invariants\n                    (\\<lambda>x. u xa ((Tinv ^^ xa) x)) x /\n                   real xa))\n             \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n  (\\<lambda>n x. u n ((Tinv ^^ n) x)) x\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "moreover"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa.\n                 ereal\n                  (real_cond_exp M I.Invariants\n                    (\\<lambda>x. u xa ((Tinv ^^ xa) x)) x /\n                   real xa))\n             \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n  (\\<lambda>n x. u n ((Tinv ^^ n) x)) x\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "{"], ["proof (state)\nthis:\n  AE x in M. (\\<lambda>xa.\n                 ereal\n                  (real_cond_exp M I.Invariants\n                    (\\<lambda>x. u xa ((Tinv ^^ xa) x)) x /\n                   real xa))\n             \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n  (\\<lambda>n x. u n ((Tinv ^^ n) x)) x\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "assume H: \"\\<forall>n. real_cond_exp M I.Invariants (\\<lambda> x. u n (((Tinv)^^n) x)) x\n                      = real_cond_exp M I.Invariants (u n) x\"\n                    \"(\\<lambda>n. real_cond_exp M Invariants (u n) x / n) \\<longlonglongrightarrow> subcocycle_lim_ereal u x\"\n                    \"(\\<lambda>n. real_cond_exp M I.Invariants (\\<lambda> x. u n (((Tinv)^^n) x)) x / n)\n                        \\<longlonglongrightarrow> I.subcocycle_lim_ereal (\\<lambda> n x. u n (((Tinv)^^n) x)) x\""], ["proof (state)\nthis:\n  \\<forall>n.\n     real_cond_exp M I.Invariants (\\<lambda>x. u n ((Tinv ^^ n) x)) x =\n     real_cond_exp M I.Invariants (u n) x\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  (\\<lambda>xa.\n      ereal\n       (real_cond_exp M I.Invariants (\\<lambda>x. u xa ((Tinv ^^ xa) x)) x /\n        real xa))\n  \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x)) x\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "have \"ereal(real_cond_exp M Invariants (u n) x / n)\n          = ereal(real_cond_exp M I.Invariants (\\<lambda> x. u n (((Tinv)^^n) x)) x / n)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (real_cond_exp M Invariants (u n) x / real n) =\n    ereal\n     (real_cond_exp M I.Invariants (\\<lambda>x. u n ((Tinv ^^ n) x)) x /\n      real n)", "using H(1) Invariants_Tinv[OF \\<open>invertible_qmpt\\<close>]"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     real_cond_exp M I.Invariants (\\<lambda>x. u n ((Tinv ^^ n) x)) x =\n     real_cond_exp M I.Invariants (u n) x\n  I.Invariants = Invariants\n\ngoal (1 subgoal):\n 1. ereal (real_cond_exp M Invariants (u n) x / real n) =\n    ereal\n     (real_cond_exp M I.Invariants (\\<lambda>x. u n ((Tinv ^^ n) x)) x /\n      real n)", "by auto"], ["proof (state)\nthis:\n  ereal (real_cond_exp M Invariants (u ?n3) x / real ?n3) =\n  ereal\n   (real_cond_exp M I.Invariants (\\<lambda>x. u ?n3 ((Tinv ^^ ?n3) x)) x /\n    real ?n3)\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "then"], ["proof (chain)\npicking this:\n  ereal (real_cond_exp M Invariants (u ?n3) x / real ?n3) =\n  ereal\n   (real_cond_exp M I.Invariants (\\<lambda>x. u ?n3 ((Tinv ^^ ?n3) x)) x /\n    real ?n3)", "have \"(\\<lambda>n. real_cond_exp M Invariants (u n) x / n)\n                \\<longlonglongrightarrow> I.subcocycle_lim_ereal (\\<lambda> n x. u n (((Tinv)^^n) x)) x\""], ["proof (prove)\nusing this:\n  ereal (real_cond_exp M Invariants (u ?n3) x / real ?n3) =\n  ereal\n   (real_cond_exp M I.Invariants (\\<lambda>x. u ?n3 ((Tinv ^^ ?n3) x)) x /\n    real ?n3)\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n    \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n                               (\\<lambda>n x. u n ((Tinv ^^ n) x)) x", "using H(3)"], ["proof (prove)\nusing this:\n  ereal (real_cond_exp M Invariants (u ?n3) x / real ?n3) =\n  ereal\n   (real_cond_exp M I.Invariants (\\<lambda>x. u ?n3 ((Tinv ^^ ?n3) x)) x /\n    real ?n3)\n  (\\<lambda>xa.\n      ereal\n       (real_cond_exp M I.Invariants (\\<lambda>x. u xa ((Tinv ^^ xa) x)) x /\n        real xa))\n  \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x)) x\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n    \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n                               (\\<lambda>n x. u n ((Tinv ^^ n) x)) x", "by presburger"], ["proof (state)\nthis:\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x)) x\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x)) x", "have \"I.subcocycle_lim_ereal (\\<lambda> n x. u n (((Tinv)^^n) x)) x = subcocycle_lim_ereal u x\""], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x)) x\n\ngoal (1 subgoal):\n 1. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n    subcocycle_lim_ereal u x", "using H(2) LIMSEQ_unique"], ["proof (prove)\nusing this:\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n                             (\\<lambda>n x. u n ((Tinv ^^ n) x)) x\n  (\\<lambda>xa. ereal (real_cond_exp M Invariants (u xa) x / real xa))\n  \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n    subcocycle_lim_ereal u x", "by auto"], ["proof (state)\nthis:\n  I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n  subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>n.\n              real_cond_exp M I.Invariants (\\<lambda>x. u n ((Tinv ^^ n) x))\n               ?x5 =\n              real_cond_exp M I.Invariants (u n) ?x5;\n   (\\<lambda>x. ereal (real_cond_exp M Invariants (u x) ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   (\\<lambda>x.\n       ereal\n        (real_cond_exp M I.Invariants (\\<lambda>xa. u x ((Tinv ^^ x) xa))\n          ?x5 /\n         real x))\n   \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n                              (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                              ?x5\\<rbrakk>\n  \\<Longrightarrow> I.subcocycle_lim_ereal\n                     (\\<lambda>n x. u n ((Tinv ^^ n) x)) ?x5 =\n                    subcocycle_lim_ereal u ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "ultimately"], ["proof (chain)\npicking this:\n  AE x in M. \\<forall>n.\n                real_cond_exp M I.Invariants\n                 (\\<lambda>x. u n ((Tinv ^^ n) x)) x =\n                real_cond_exp M I.Invariants (u n) x\n  AE x in M. (\\<lambda>xa.\n                 ereal (real_cond_exp M Invariants (u xa) x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  AE x in M. (\\<lambda>xa.\n                 ereal\n                  (real_cond_exp M I.Invariants\n                    (\\<lambda>x. u xa ((Tinv ^^ xa) x)) x /\n                   real xa))\n             \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n  (\\<lambda>n x. u n ((Tinv ^^ n) x)) x\n  \\<lbrakk>\\<forall>n.\n              real_cond_exp M I.Invariants (\\<lambda>x. u n ((Tinv ^^ n) x))\n               ?x5 =\n              real_cond_exp M I.Invariants (u n) ?x5;\n   (\\<lambda>x. ereal (real_cond_exp M Invariants (u x) ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   (\\<lambda>x.\n       ereal\n        (real_cond_exp M I.Invariants (\\<lambda>xa. u x ((Tinv ^^ x) xa))\n          ?x5 /\n         real x))\n   \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n                              (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                              ?x5\\<rbrakk>\n  \\<Longrightarrow> I.subcocycle_lim_ereal\n                     (\\<lambda>n x. u n ((Tinv ^^ n) x)) ?x5 =\n                    subcocycle_lim_ereal u ?x5", "show ?thesis"], ["proof (prove)\nusing this:\n  AE x in M. \\<forall>n.\n                real_cond_exp M I.Invariants\n                 (\\<lambda>x. u n ((Tinv ^^ n) x)) x =\n                real_cond_exp M I.Invariants (u n) x\n  AE x in M. (\\<lambda>xa.\n                 ereal (real_cond_exp M Invariants (u xa) x / real xa))\n             \\<longlonglongrightarrow> subcocycle_lim_ereal u x\n  AE x in M. (\\<lambda>xa.\n                 ereal\n                  (real_cond_exp M I.Invariants\n                    (\\<lambda>x. u xa ((Tinv ^^ xa) x)) x /\n                   real xa))\n             \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n  (\\<lambda>n x. u n ((Tinv ^^ n) x)) x\n  \\<lbrakk>\\<forall>n.\n              real_cond_exp M I.Invariants (\\<lambda>x. u n ((Tinv ^^ n) x))\n               ?x5 =\n              real_cond_exp M I.Invariants (u n) ?x5;\n   (\\<lambda>x. ereal (real_cond_exp M Invariants (u x) ?x5 / real x))\n   \\<longlonglongrightarrow> subcocycle_lim_ereal u ?x5;\n   (\\<lambda>x.\n       ereal\n        (real_cond_exp M I.Invariants (\\<lambda>xa. u x ((Tinv ^^ x) xa))\n          ?x5 /\n         real x))\n   \\<longlonglongrightarrow> I.subcocycle_lim_ereal\n                              (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                              ?x5\\<rbrakk>\n  \\<Longrightarrow> I.subcocycle_lim_ereal\n                     (\\<lambda>n x. u n ((Tinv ^^ n) x)) ?x5 =\n                    subcocycle_lim_ereal u ?x5\n\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                x =\n               subcocycle_lim_ereal u x", "by auto"], ["proof (state)\nthis:\n  AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n             subcocycle_lim_ereal u x\n\ngoal:\nNo subgoals!", "qed"], ["", "proposition (in fmpt) subcocycle_lim_Tinv:\n  assumes \"subcocycle u\"\n          \"invertible_qmpt\"\n  shows \"AE x in M. fmpt.subcocycle_lim M Tinv (\\<lambda>n x. u n (((Tinv)^^n) x)) x = subcocycle_lim u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. fmpt.subcocycle_lim M Tinv\n                (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n               subcocycle_lim u x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. fmpt.subcocycle_lim M Tinv\n                (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n               subcocycle_lim u x", "interpret I: fmpt M Tinv"], ["proof (prove)\ngoal (1 subgoal):\n 1. fmpt M Tinv", "using Tinv_fmpt[OF assms(2)]"], ["proof (prove)\nusing this:\n  fmpt M Tinv\n\ngoal (1 subgoal):\n 1. fmpt M Tinv", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n               subcocycle_lim u x", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. I.subcocycle_lim (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n               subcocycle_lim u x", "unfolding subcocycle_lim_def I.subcocycle_lim_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in M. real_of_ereal\n                (I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                  x) =\n               real_of_ereal (subcocycle_lim_ereal u x)", "using subcocycle_lim_ereal_Tinv[OF assms]"], ["proof (prove)\nusing this:\n  AE x in M. I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n             subcocycle_lim_ereal u x\n\ngoal (1 subgoal):\n 1. AE x in M. real_of_ereal\n                (I.subcocycle_lim_ereal (\\<lambda>n x. u n ((Tinv ^^ n) x))\n                  x) =\n               real_of_ereal (subcocycle_lim_ereal u x)", "by auto"], ["proof (state)\nthis:\n  AE x in M. I.subcocycle_lim (\\<lambda>n x. u n ((Tinv ^^ n) x)) x =\n             subcocycle_lim u x\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "(*of Kingman.thy*)"]]}