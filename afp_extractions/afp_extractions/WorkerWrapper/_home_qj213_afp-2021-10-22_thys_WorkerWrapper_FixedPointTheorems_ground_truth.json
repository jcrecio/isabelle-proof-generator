{"file_name": "/home/qj213/afp-2021-10-22/thys/WorkerWrapper/FixedPointTheorems.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/WorkerWrapper", "problem_names": ["lemma rolling_rule_ltr: \"fix\\<cdot>(g oo f) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))\"", "lemma rolling_rule_rtl: \"g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> fix\\<cdot>(g oo f)\"", "lemma rolling_rule: \"fix\\<cdot>(g oo f) = g\\<cdot>(fix\\<cdot>(f oo g))\"", "lemma lfp_fusion:\n  assumes \"g\\<cdot>\\<bottom> = \\<bottom>\"\n  assumes \"g oo f = h oo g\"\n  shows \"g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h\"", "lemma lfp_fusion_pointed:\n  assumes Cfg: \"\\<And>f. C\\<cdot>(F\\<cdot>f) = G\\<cdot>(C\\<cdot>f)\"\n      and strictC: \"C\\<cdot>\\<bottom> = \\<bottom>\"\n  shows \"C\\<cdot>(fix\\<cdot>F) = fix\\<cdot>G\"", "lemma lfp_fusion2_aux:\n  assumes fgh: \"g oo f = h oo g\"\n  shows \"g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) = iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\"", "lemma lfp_fusion2:\n  assumes fgh: \"g oo f = h oo g\"\n      and strictg: \"g\\<cdot>\\<bottom> = \\<bottom>\"\n  shows \"g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h\"", "lemma lfp_fusion3_aux:\n  assumes fgh: \"g oo f = h oo g\"\n      and strictg: \"g\\<cdot>\\<bottom> = \\<bottom>\"\n  shows \"g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) = iterate i\\<cdot>h\\<cdot>\\<bottom>\"", "lemma lfp_fusion3:\n  assumes fgh: \"g oo f = h oo g\"\n      and strictg: \"g\\<cdot>\\<bottom> = \\<bottom>\"\n  shows \"g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h\"", "lemma lfp_fusion4:\n  assumes fgh: \"g oo f = h oo g\"\n      and strictg: \"g\\<cdot>\\<bottom> = \\<bottom>\"\n  shows \"g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h\"", "lemma lfp_fusion_barbed_variant:\n  assumes ff': \"f\\<cdot>\\<bottom> = f'\\<cdot>\\<bottom>\"\n      and fgh: \"f oo g = h oo f\"\n      and f'g'h: \"f' oo g' = h oo f'\"\n  shows \"f\\<cdot>(fix\\<cdot>g) = f'\\<cdot>(fix\\<cdot>g')\""], "translations": [["", "lemma rolling_rule_ltr: \"fix\\<cdot>(g oo f) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fix\\<cdot>(g oo f) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. fix\\<cdot>(g oo f) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))", "have \"g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))", "by (rule below_refl) \\<comment> \\<open>reflexivity\\<close>"], ["proof (state)\nthis:\n  g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))\n\ngoal (1 subgoal):\n 1. fix\\<cdot>(g oo f) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))", "hence \"g\\<cdot>((f oo g)\\<cdot>(fix\\<cdot>(f oo g))) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))\""], ["proof (prove)\nusing this:\n  g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))\n\ngoal (1 subgoal):\n 1. g\\<cdot>((f oo g)\\<cdot>(fix\\<cdot>(f oo g))) \\<sqsubseteq>\n    g\\<cdot>(fix\\<cdot>(f oo g))", "using fix_eq[where F=\"f oo g\"]"], ["proof (prove)\nusing this:\n  g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))\n  fix\\<cdot>(f oo g) = (f oo g)\\<cdot>(fix\\<cdot>(f oo g))\n\ngoal (1 subgoal):\n 1. g\\<cdot>((f oo g)\\<cdot>(fix\\<cdot>(f oo g))) \\<sqsubseteq>\n    g\\<cdot>(fix\\<cdot>(f oo g))", "by simp \\<comment> \\<open>computation\\<close>"], ["proof (state)\nthis:\n  g\\<cdot>((f oo g)\\<cdot>(fix\\<cdot>(f oo g))) \\<sqsubseteq>\n  g\\<cdot>(fix\\<cdot>(f oo g))\n\ngoal (1 subgoal):\n 1. fix\\<cdot>(g oo f) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))", "hence \"(g oo f)\\<cdot>(g\\<cdot>(fix\\<cdot>(f oo g))) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))\""], ["proof (prove)\nusing this:\n  g\\<cdot>((f oo g)\\<cdot>(fix\\<cdot>(f oo g))) \\<sqsubseteq>\n  g\\<cdot>(fix\\<cdot>(f oo g))\n\ngoal (1 subgoal):\n 1. (g oo f)\\<cdot>(g\\<cdot>(fix\\<cdot>(f oo g))) \\<sqsubseteq>\n    g\\<cdot>(fix\\<cdot>(f oo g))", "by simp \\<comment> \\<open>re-associate @{term \"(oo)\"}\\<close>"], ["proof (state)\nthis:\n  (g oo f)\\<cdot>(g\\<cdot>(fix\\<cdot>(f oo g))) \\<sqsubseteq>\n  g\\<cdot>(fix\\<cdot>(f oo g))\n\ngoal (1 subgoal):\n 1. fix\\<cdot>(g oo f) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))", "thus \"fix\\<cdot>(g oo f) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))\""], ["proof (prove)\nusing this:\n  (g oo f)\\<cdot>(g\\<cdot>(fix\\<cdot>(f oo g))) \\<sqsubseteq>\n  g\\<cdot>(fix\\<cdot>(f oo g))\n\ngoal (1 subgoal):\n 1. fix\\<cdot>(g oo f) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))", "using fix_least_below"], ["proof (prove)\nusing this:\n  (g oo f)\\<cdot>(g\\<cdot>(fix\\<cdot>(f oo g))) \\<sqsubseteq>\n  g\\<cdot>(fix\\<cdot>(f oo g))\n  ?F\\<cdot>?x \\<sqsubseteq> ?x \\<Longrightarrow>\n  fix\\<cdot>?F \\<sqsubseteq> ?x\n\ngoal (1 subgoal):\n 1. fix\\<cdot>(g oo f) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))", "by blast \\<comment> \\<open>induction\\<close>"], ["proof (state)\nthis:\n  fix\\<cdot>(g oo f) \\<sqsubseteq> g\\<cdot>(fix\\<cdot>(f oo g))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rolling_rule_rtl: \"g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> fix\\<cdot>(g oo f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> fix\\<cdot>(g oo f)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> fix\\<cdot>(g oo f)", "have \"fix\\<cdot>(f oo g) \\<sqsubseteq> f\\<cdot>(fix\\<cdot>(g oo f))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fix\\<cdot>(f oo g) \\<sqsubseteq> f\\<cdot>(fix\\<cdot>(g oo f))", "by (rule rolling_rule_ltr)"], ["proof (state)\nthis:\n  fix\\<cdot>(f oo g) \\<sqsubseteq> f\\<cdot>(fix\\<cdot>(g oo f))\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> fix\\<cdot>(g oo f)", "hence \"g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> g\\<cdot>(f\\<cdot>(fix\\<cdot>(g oo f)))\""], ["proof (prove)\nusing this:\n  fix\\<cdot>(f oo g) \\<sqsubseteq> f\\<cdot>(fix\\<cdot>(g oo f))\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq>\n    g\\<cdot>(f\\<cdot>(fix\\<cdot>(g oo f)))", "by (rule monofun_cfun_arg) \\<comment> \\<open>g is monotonic\\<close>"], ["proof (state)\nthis:\n  g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq>\n  g\\<cdot>(f\\<cdot>(fix\\<cdot>(g oo f)))\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> fix\\<cdot>(g oo f)", "thus \"g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> fix\\<cdot>(g oo f)\""], ["proof (prove)\nusing this:\n  g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq>\n  g\\<cdot>(f\\<cdot>(fix\\<cdot>(g oo f)))\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> fix\\<cdot>(g oo f)", "using fix_eq[where F=\"g oo f\"]"], ["proof (prove)\nusing this:\n  g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq>\n  g\\<cdot>(f\\<cdot>(fix\\<cdot>(g oo f)))\n  fix\\<cdot>(g oo f) = (g oo f)\\<cdot>(fix\\<cdot>(g oo f))\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> fix\\<cdot>(g oo f)", "by simp \\<comment> \\<open>computation\\<close>"], ["proof (state)\nthis:\n  g\\<cdot>(fix\\<cdot>(f oo g)) \\<sqsubseteq> fix\\<cdot>(g oo f)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rolling_rule: \"fix\\<cdot>(g oo f) = g\\<cdot>(fix\\<cdot>(f oo g))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fix\\<cdot>(g oo f) = g\\<cdot>(fix\\<cdot>(f oo g))", "by (rule below_antisym[OF rolling_rule_ltr rolling_rule_rtl])"], ["", "(*\n\nThis property of a fixed-point operator is termed \\emph{dinaturality}\nby \\citet{DBLP:conf/lics/SimpsonP00}.\n\n*)"], ["", "subsection\\<open>Least-fixed-point fusion\\<close>"], ["", "text\\<open>\n\n\\label{sec:lfp-fusion}\n\n\\emph{Least-fixed-point fusion} provides a kind of induction that has\nproven to be very useful in calculational settings. Intuitively it\nlifts the step-by-step correspondence between @{term \"f\"} and @{term\n\"h\"} witnessed by the strict function @{term \"g\"} to the fixed points\nof @{term \"f\"} and @{term \"g\"}:\n\\[\n  \\begin{diagram}\n    \\node{\\bullet} \\arrow{e,t}{h} \\node{\\bullet}\\\\\n    \\node{\\bullet} \\arrow{n,l}{g} \\arrow{e,b}{f} \\node{\\bullet} \\arrow{n,r}{g}\n  \\end{diagram}\n  \\qquad \\Longrightarrow \\qquad\n  \\begin{diagram}\n    \\node{\\mathsf{fix}\\ h}\\\\\n    \\node{\\mathsf{fix}\\ f} \\arrow{n,r}{g}\n  \\end{diagram}\n\\]\n\\citet*{FokkingaMeijer:1991}, and also their later\n\\citet*{barbed-wire:1991}, made extensive use of this rule, as did\n\\citet{Tullsen:PhDThesis} in his program transformation tool PATH.\nThis diagram is strongly reminiscent of the simulations used to\nestablish refinement relations between imperative programs and their\nspecifications \\citep*{EdR:cup98}.\n\nThe following proof is close to the third variant of\n\\citet[p215]{Stoy:1977}. We relate the two fixpoints using the rule\n\\texttt{parallel\\_fix\\_ind}:\n\\begin{center}\n  @{thm[mode=Rule] parallel_fix_ind}\n\\end{center}\nin a very straightforward way:\n\n\\<close>"], ["", "lemma lfp_fusion:\n  assumes \"g\\<cdot>\\<bottom> = \\<bottom>\"\n  assumes \"g oo f = h oo g\"\n  shows \"g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "proof(induct rule: parallel_fix_ind)"], ["proof (state)\ngoal (3 subgoals):\n 1. adm (\\<lambda>x. g\\<cdot>(fst x) = snd x)\n 2. g\\<cdot>\\<bottom> = \\<bottom>\n 3. \\<And>x y.\n       g\\<cdot>x = y \\<Longrightarrow> g\\<cdot>(f\\<cdot>x) = h\\<cdot>y", "case 2"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. adm (\\<lambda>x. g\\<cdot>(fst x) = snd x)\n 2. g\\<cdot>\\<bottom> = \\<bottom>\n 3. \\<And>x y.\n       g\\<cdot>x = y \\<Longrightarrow> g\\<cdot>(f\\<cdot>x) = h\\<cdot>y", "show \"g\\<cdot>\\<bottom> = \\<bottom>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>\\<bottom> = \\<bottom>", "by fact"], ["proof (state)\nthis:\n  g\\<cdot>\\<bottom> = \\<bottom>\n\ngoal (2 subgoals):\n 1. adm (\\<lambda>x. g\\<cdot>(fst x) = snd x)\n 2. \\<And>x y.\n       g\\<cdot>x = y \\<Longrightarrow> g\\<cdot>(f\\<cdot>x) = h\\<cdot>y", "case (3 x y)"], ["proof (state)\nthis:\n  g\\<cdot>x = y\n\ngoal (2 subgoals):\n 1. adm (\\<lambda>x. g\\<cdot>(fst x) = snd x)\n 2. \\<And>x y.\n       g\\<cdot>x = y \\<Longrightarrow> g\\<cdot>(f\\<cdot>x) = h\\<cdot>y", "from \\<open>g\\<cdot>x = y\\<close> \\<open>g oo f = h oo g\\<close>"], ["proof (chain)\npicking this:\n  g\\<cdot>x = y\n  g oo f = h oo g", "show \"g\\<cdot>(f\\<cdot>x) = h\\<cdot>y\""], ["proof (prove)\nusing this:\n  g\\<cdot>x = y\n  g oo f = h oo g\n\ngoal (1 subgoal):\n 1. g\\<cdot>(f\\<cdot>x) = h\\<cdot>y", "by (simp add: cfun_eq_iff)"], ["proof (state)\nthis:\n  g\\<cdot>(f\\<cdot>x) = h\\<cdot>y\n\ngoal (1 subgoal):\n 1. adm (\\<lambda>x. g\\<cdot>(fst x) = snd x)", "qed simp"], ["", "text\\<open>\n\nThis lemma also goes by the name of \\emph{Plotkin's axiom}\n\\citep{PittsAM:relpod} or \\emph{uniformity}\n\\citep{DBLP:conf/lics/SimpsonP00}.\n\n\\<close>"], ["", "(*<*)\n\n(* The rest of this theory is only of historical interest. *)"], ["", "text \\<open>Some may find the pointed version easier to read.\\<close>"], ["", "lemma lfp_fusion_pointed:\n  assumes Cfg: \"\\<And>f. C\\<cdot>(F\\<cdot>f) = G\\<cdot>(C\\<cdot>f)\"\n      and strictC: \"C\\<cdot>\\<bottom> = \\<bottom>\"\n  shows \"C\\<cdot>(fix\\<cdot>F) = fix\\<cdot>G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C\\<cdot>(fix\\<cdot>F) = fix\\<cdot>G", "using lfp_fusion[where f=F and g=C and h=G] assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>C\\<cdot>\\<bottom> = \\<bottom>; C oo F = G oo C\\<rbrakk>\n  \\<Longrightarrow> C\\<cdot>(fix\\<cdot>F) = fix\\<cdot>G\n  C\\<cdot>(F\\<cdot>?f) = G\\<cdot>(C\\<cdot>?f)\n  C\\<cdot>\\<bottom> = \\<bottom>\n\ngoal (1 subgoal):\n 1. C\\<cdot>(fix\\<cdot>F) = fix\\<cdot>G", "by (simp add: cfcomp1)"], ["", "subsubsection\\<open>More about \\<open>lfp-fusion\\<close>\\<close>"], ["", "text\\<open>\n\nAlternative proofs. This is the ``intuitive'' one\n\\citet[p125]{Gunter:1992} and \\citet[p46]{Tullsen:PhDThesis}, where we\ncan shuffle @{term \"g\"} to the end of the the iteration of @{term \"f\"}\nusing @{term \"fgh\"}.\n\n\\<close>"], ["", "lemma lfp_fusion2_aux:\n  assumes fgh: \"g oo f = h oo g\"\n  shows \"g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) = iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "proof(induct i)"], ["proof (state)\ngoal (2 subgoals):\n 1. g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate 0\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n 2. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>) \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "case (Suc i)"], ["proof (state)\nthis:\n  g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n  iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n\ngoal (2 subgoals):\n 1. g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate 0\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n 2. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>) \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "have \"g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) = (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n    (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)", "by simp"], ["proof (state)\nthis:\n  g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n  (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)\n\ngoal (2 subgoals):\n 1. g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate 0\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n 2. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>) \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "also"], ["proof (state)\nthis:\n  g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n  (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)\n\ngoal (2 subgoals):\n 1. g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate 0\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n 2. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>) \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "have \"... = h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n    h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))", "using fgh"], ["proof (prove)\nusing this:\n  g oo f = h oo g\n\ngoal (1 subgoal):\n 1. (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n    h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))", "by (simp add: cfcomp1)"], ["proof (state)\nthis:\n  (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n  h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))\n\ngoal (2 subgoals):\n 1. g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate 0\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n 2. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>) \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "also"], ["proof (state)\nthis:\n  (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n  h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))\n\ngoal (2 subgoals):\n 1. g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate 0\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n 2. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>) \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "have \"... = h\\<cdot>(iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n    h\\<cdot>(iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>))", "using Suc"], ["proof (prove)\nusing this:\n  g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n  iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n\ngoal (1 subgoal):\n 1. h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n    h\\<cdot>(iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>))", "by simp"], ["proof (state)\nthis:\n  h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n  h\\<cdot>(iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>))\n\ngoal (2 subgoals):\n 1. g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate 0\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n 2. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>) \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "also"], ["proof (state)\nthis:\n  h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n  h\\<cdot>(iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>))\n\ngoal (2 subgoals):\n 1. g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate 0\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n 2. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>) \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "have \"... = iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h\\<cdot>(iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)) =\n    iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "by simp"], ["proof (state)\nthis:\n  h\\<cdot>(iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)) =\n  iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n\ngoal (2 subgoals):\n 1. g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate 0\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n 2. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>) \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "finally"], ["proof (chain)\npicking this:\n  g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n  iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "show ?case"], ["proof (prove)\nusing this:\n  g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n  iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n\ngoal (1 subgoal):\n 1. g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "."], ["proof (state)\nthis:\n  g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n  iterate (Suc i)\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)\n\ngoal (1 subgoal):\n 1. g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate 0\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)", "qed simp"], ["", "lemma lfp_fusion2:\n  assumes fgh: \"g oo f = h oo g\"\n      and strictg: \"g\\<cdot>\\<bottom> = \\<bottom>\"\n  shows \"g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "have \"g\\<cdot>(fix\\<cdot>f) = g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) =\n    g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>)", "by (simp only: fix_def2)"], ["proof (state)\nthis:\n  g\\<cdot>(fix\\<cdot>f) =\n  g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>)\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "also"], ["proof (state)\nthis:\n  g\\<cdot>(fix\\<cdot>f) =\n  g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>)\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "have \"... = (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n    (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))", "by (simp add: contlub_cfun_arg)"], ["proof (state)\nthis:\n  g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n  (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "also"], ["proof (state)\nthis:\n  g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n  (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "have \"... = (\\<Squnion>i. (iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n    (\\<Squnion>i. iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>))", "by (simp only: lfp_fusion2_aux[OF fgh])"], ["proof (state)\nthis:\n  (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n  (\\<Squnion>i. iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>))\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "also"], ["proof (state)\nthis:\n  (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n  (\\<Squnion>i. iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>))\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "have \"... = fix\\<cdot>h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Squnion>i. iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)) = fix\\<cdot>h", "using strictg"], ["proof (prove)\nusing this:\n  g\\<cdot>\\<bottom> = \\<bottom>\n\ngoal (1 subgoal):\n 1. (\\<Squnion>i. iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)) = fix\\<cdot>h", "by (simp only: fix_def2)"], ["proof (state)\nthis:\n  (\\<Squnion>i. iterate i\\<cdot>h\\<cdot>(g\\<cdot>\\<bottom>)) = fix\\<cdot>h\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "finally"], ["proof (chain)\npicking this:\n  g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "show ?thesis"], ["proof (prove)\nusing this:\n  g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "."], ["proof (state)\nthis:\n  g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>This is the first one by \\citet[p213]{Stoy:1977}, almost\nidentical to the above.\\<close>"], ["", "lemma lfp_fusion3_aux:\n  assumes fgh: \"g oo f = h oo g\"\n      and strictg: \"g\\<cdot>\\<bottom> = \\<bottom>\"\n  shows \"g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) = iterate i\\<cdot>h\\<cdot>\\<bottom>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate i\\<cdot>h\\<cdot>\\<bottom>", "proof(induct i)"], ["proof (state)\ngoal (2 subgoals):\n 1. g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate 0\\<cdot>h\\<cdot>\\<bottom>\n 2. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>\\<bottom> \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate 0\\<cdot>h\\<cdot>\\<bottom>\n 2. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>\\<bottom> \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "from strictg"], ["proof (chain)\npicking this:\n  g\\<cdot>\\<bottom> = \\<bottom>", "show ?case"], ["proof (prove)\nusing this:\n  g\\<cdot>\\<bottom> = \\<bottom>\n\ngoal (1 subgoal):\n 1. g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate 0\\<cdot>h\\<cdot>\\<bottom>", "by simp"], ["proof (state)\nthis:\n  g\\<cdot>(iterate 0\\<cdot>f\\<cdot>\\<bottom>) =\n  iterate 0\\<cdot>h\\<cdot>\\<bottom>\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>\\<bottom> \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>\\<bottom> \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "case (Suc i)"], ["proof (state)\nthis:\n  g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n  iterate i\\<cdot>h\\<cdot>\\<bottom>\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>\\<bottom> \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "have \"g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) = (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n    (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)", "by simp"], ["proof (state)\nthis:\n  g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n  (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>\\<bottom> \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "also"], ["proof (state)\nthis:\n  g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n  (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>\\<bottom> \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "have \"... = h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n    h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))", "using fgh"], ["proof (prove)\nusing this:\n  g oo f = h oo g\n\ngoal (1 subgoal):\n 1. (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n    h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))", "by (simp add: cfcomp1)"], ["proof (state)\nthis:\n  (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n  h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>\\<bottom> \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "also"], ["proof (state)\nthis:\n  (g oo f)\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n  h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>\\<bottom> \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "have \"... = h\\<cdot>(iterate i\\<cdot>h\\<cdot>\\<bottom>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n    h\\<cdot>(iterate i\\<cdot>h\\<cdot>\\<bottom>)", "using Suc"], ["proof (prove)\nusing this:\n  g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n  iterate i\\<cdot>h\\<cdot>\\<bottom>\n\ngoal (1 subgoal):\n 1. h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n    h\\<cdot>(iterate i\\<cdot>h\\<cdot>\\<bottom>)", "by simp"], ["proof (state)\nthis:\n  h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n  h\\<cdot>(iterate i\\<cdot>h\\<cdot>\\<bottom>)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>\\<bottom> \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "also"], ["proof (state)\nthis:\n  h\\<cdot>(g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n  h\\<cdot>(iterate i\\<cdot>h\\<cdot>\\<bottom>)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>\\<bottom> \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "have \"... = iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h\\<cdot>(iterate i\\<cdot>h\\<cdot>\\<bottom>) =\n    iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "by simp"], ["proof (state)\nthis:\n  h\\<cdot>(iterate i\\<cdot>h\\<cdot>\\<bottom>) =\n  iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate i\\<cdot>h\\<cdot>\\<bottom> \\<Longrightarrow>\n       g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n       iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "finally"], ["proof (chain)\npicking this:\n  g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n  iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "show ?case"], ["proof (prove)\nusing this:\n  g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n  iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>\n\ngoal (1 subgoal):\n 1. g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n    iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>", "."], ["proof (state)\nthis:\n  g\\<cdot>(iterate (Suc i)\\<cdot>f\\<cdot>\\<bottom>) =\n  iterate (Suc i)\\<cdot>h\\<cdot>\\<bottom>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lfp_fusion3:\n  assumes fgh: \"g oo f = h oo g\"\n      and strictg: \"g\\<cdot>\\<bottom> = \\<bottom>\"\n  shows \"g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "have \"g\\<cdot>(fix\\<cdot>f) = g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) =\n    g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>)", "by (simp only: fix_def2)"], ["proof (state)\nthis:\n  g\\<cdot>(fix\\<cdot>f) =\n  g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>)\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "also"], ["proof (state)\nthis:\n  g\\<cdot>(fix\\<cdot>f) =\n  g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>)\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "have \"... = (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n    (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))", "by (simp add: contlub_cfun_arg)"], ["proof (state)\nthis:\n  g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n  (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "also"], ["proof (state)\nthis:\n  g\\<cdot>(\\<Squnion>i. iterate i\\<cdot>f\\<cdot>\\<bottom>) =\n  (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>))\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "have \"... = (\\<Squnion>i. (iterate i\\<cdot>h\\<cdot>\\<bottom>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n    (\\<Squnion>i. iterate i\\<cdot>h\\<cdot>\\<bottom>)", "by (simp only: lfp_fusion3_aux[OF fgh strictg])"], ["proof (state)\nthis:\n  (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n  (\\<Squnion>i. iterate i\\<cdot>h\\<cdot>\\<bottom>)\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "also"], ["proof (state)\nthis:\n  (\\<Squnion>i. g\\<cdot>(iterate i\\<cdot>f\\<cdot>\\<bottom>)) =\n  (\\<Squnion>i. iterate i\\<cdot>h\\<cdot>\\<bottom>)\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "have \"... = fix\\<cdot>h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Squnion>i. iterate i\\<cdot>h\\<cdot>\\<bottom>) = fix\\<cdot>h", "by (simp only: fix_def2)"], ["proof (state)\nthis:\n  (\\<Squnion>i. iterate i\\<cdot>h\\<cdot>\\<bottom>) = fix\\<cdot>h\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "finally"], ["proof (chain)\npicking this:\n  g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "show ?thesis"], ["proof (prove)\nusing this:\n  g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "."], ["proof (state)\nthis:\n  g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Stoy's second proof \\citep[p214]{Stoy:1977} is similar to the\noriginal proof using fixed-point induction.\\<close>"], ["", "lemma lfp_fusion4:\n  assumes fgh: \"g oo f = h oo g\"\n      and strictg: \"g\\<cdot>\\<bottom> = \\<bottom>\"\n  shows \"g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) = fix\\<cdot>h", "proof(rule below_antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. g\\<cdot>(fix\\<cdot>f) \\<sqsubseteq> fix\\<cdot>h\n 2. fix\\<cdot>h \\<sqsubseteq> g\\<cdot>(fix\\<cdot>f)", "show \"fix\\<cdot>h \\<sqsubseteq> g\\<cdot>(fix\\<cdot>f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fix\\<cdot>h \\<sqsubseteq> g\\<cdot>(fix\\<cdot>f)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. fix\\<cdot>h \\<sqsubseteq> g\\<cdot>(fix\\<cdot>f)", "have \"h\\<cdot>(g\\<cdot>(fix\\<cdot>f)) = (g oo f)\\<cdot>(fix\\<cdot>f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h\\<cdot>(g\\<cdot>(fix\\<cdot>f)) = (g oo f)\\<cdot>(fix\\<cdot>f)", "using fgh"], ["proof (prove)\nusing this:\n  g oo f = h oo g\n\ngoal (1 subgoal):\n 1. h\\<cdot>(g\\<cdot>(fix\\<cdot>f)) = (g oo f)\\<cdot>(fix\\<cdot>f)", "by simp"], ["proof (state)\nthis:\n  h\\<cdot>(g\\<cdot>(fix\\<cdot>f)) = (g oo f)\\<cdot>(fix\\<cdot>f)\n\ngoal (1 subgoal):\n 1. fix\\<cdot>h \\<sqsubseteq> g\\<cdot>(fix\\<cdot>f)", "also"], ["proof (state)\nthis:\n  h\\<cdot>(g\\<cdot>(fix\\<cdot>f)) = (g oo f)\\<cdot>(fix\\<cdot>f)\n\ngoal (1 subgoal):\n 1. fix\\<cdot>h \\<sqsubseteq> g\\<cdot>(fix\\<cdot>f)", "have \"... = g\\<cdot>(fix\\<cdot>f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (g oo f)\\<cdot>(fix\\<cdot>f) = g\\<cdot>(fix\\<cdot>f)", "by (subst fix_eq, simp)"], ["proof (state)\nthis:\n  (g oo f)\\<cdot>(fix\\<cdot>f) = g\\<cdot>(fix\\<cdot>f)\n\ngoal (1 subgoal):\n 1. fix\\<cdot>h \\<sqsubseteq> g\\<cdot>(fix\\<cdot>f)", "finally"], ["proof (chain)\npicking this:\n  h\\<cdot>(g\\<cdot>(fix\\<cdot>f)) = g\\<cdot>(fix\\<cdot>f)", "show ?thesis"], ["proof (prove)\nusing this:\n  h\\<cdot>(g\\<cdot>(fix\\<cdot>f)) = g\\<cdot>(fix\\<cdot>f)\n\ngoal (1 subgoal):\n 1. fix\\<cdot>h \\<sqsubseteq> g\\<cdot>(fix\\<cdot>f)", "by (rule fix_least)"], ["proof (state)\nthis:\n  fix\\<cdot>h \\<sqsubseteq> g\\<cdot>(fix\\<cdot>f)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  fix\\<cdot>h \\<sqsubseteq> g\\<cdot>(fix\\<cdot>f)\n\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) \\<sqsubseteq> fix\\<cdot>h", "let ?P = \"\\<lambda>x. g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h\""], ["proof (state)\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) \\<sqsubseteq> fix\\<cdot>h", "show \"?P (fix\\<cdot>f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(fix\\<cdot>f) \\<sqsubseteq> fix\\<cdot>h", "proof(induct rule: fix_ind[where P=\"?P\"])"], ["proof (state)\ngoal (3 subgoals):\n 1. adm (\\<lambda>x. g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h)\n 2. g\\<cdot>\\<bottom> \\<sqsubseteq> fix\\<cdot>h\n 3. \\<And>x.\n       g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h \\<Longrightarrow>\n       g\\<cdot>(f\\<cdot>x) \\<sqsubseteq> fix\\<cdot>h", "case 2"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. adm (\\<lambda>x. g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h)\n 2. g\\<cdot>\\<bottom> \\<sqsubseteq> fix\\<cdot>h\n 3. \\<And>x.\n       g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h \\<Longrightarrow>\n       g\\<cdot>(f\\<cdot>x) \\<sqsubseteq> fix\\<cdot>h", "with strictg"], ["proof (chain)\npicking this:\n  g\\<cdot>\\<bottom> = \\<bottom>", "show ?case"], ["proof (prove)\nusing this:\n  g\\<cdot>\\<bottom> = \\<bottom>\n\ngoal (1 subgoal):\n 1. g\\<cdot>\\<bottom> \\<sqsubseteq> fix\\<cdot>h", "by simp"], ["proof (state)\nthis:\n  g\\<cdot>\\<bottom> \\<sqsubseteq> fix\\<cdot>h\n\ngoal (2 subgoals):\n 1. adm (\\<lambda>x. g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h)\n 2. \\<And>x.\n       g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h \\<Longrightarrow>\n       g\\<cdot>(f\\<cdot>x) \\<sqsubseteq> fix\\<cdot>h", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. adm (\\<lambda>x. g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h)\n 2. \\<And>x.\n       g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h \\<Longrightarrow>\n       g\\<cdot>(f\\<cdot>x) \\<sqsubseteq> fix\\<cdot>h", "case (3 x)"], ["proof (state)\nthis:\n  g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h\n\ngoal (2 subgoals):\n 1. adm (\\<lambda>x. g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h)\n 2. \\<And>x.\n       g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h \\<Longrightarrow>\n       g\\<cdot>(f\\<cdot>x) \\<sqsubseteq> fix\\<cdot>h", "hence indhyp: \"g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h\""], ["proof (prove)\nusing this:\n  g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h\n\ngoal (1 subgoal):\n 1. g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h", "."], ["proof (state)\nthis:\n  g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h\n\ngoal (2 subgoals):\n 1. adm (\\<lambda>x. g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h)\n 2. \\<And>x.\n       g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h \\<Longrightarrow>\n       g\\<cdot>(f\\<cdot>x) \\<sqsubseteq> fix\\<cdot>h", "have \"g\\<cdot>(f\\<cdot>x) = (h oo g)\\<cdot>x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(f\\<cdot>x) = (h oo g)\\<cdot>x", "using fgh[symmetric]"], ["proof (prove)\nusing this:\n  h oo g = g oo f\n\ngoal (1 subgoal):\n 1. g\\<cdot>(f\\<cdot>x) = (h oo g)\\<cdot>x", "by simp"], ["proof (state)\nthis:\n  g\\<cdot>(f\\<cdot>x) = (h oo g)\\<cdot>x\n\ngoal (2 subgoals):\n 1. adm (\\<lambda>x. g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h)\n 2. \\<And>x.\n       g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h \\<Longrightarrow>\n       g\\<cdot>(f\\<cdot>x) \\<sqsubseteq> fix\\<cdot>h", "with indhyp"], ["proof (chain)\npicking this:\n  g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h\n  g\\<cdot>(f\\<cdot>x) = (h oo g)\\<cdot>x", "show \"g\\<cdot>(f\\<cdot>x) \\<sqsubseteq> fix\\<cdot>h\""], ["proof (prove)\nusing this:\n  g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h\n  g\\<cdot>(f\\<cdot>x) = (h oo g)\\<cdot>x\n\ngoal (1 subgoal):\n 1. g\\<cdot>(f\\<cdot>x) \\<sqsubseteq> fix\\<cdot>h", "by (subst fix_eq, simp add: monofun_cfun)"], ["proof (state)\nthis:\n  g\\<cdot>(f\\<cdot>x) \\<sqsubseteq> fix\\<cdot>h\n\ngoal (1 subgoal):\n 1. adm (\\<lambda>x. g\\<cdot>x \\<sqsubseteq> fix\\<cdot>h)", "qed simp"], ["proof (state)\nthis:\n  g\\<cdot>(fix\\<cdot>f) \\<sqsubseteq> fix\\<cdot>h\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>A wrinkly variant from \\citet[p11]{barbed-wire:1991}.\\<close>"], ["", "lemma lfp_fusion_barbed_variant:\n  assumes ff': \"f\\<cdot>\\<bottom> = f'\\<cdot>\\<bottom>\"\n      and fgh: \"f oo g = h oo f\"\n      and f'g'h: \"f' oo g' = h oo f'\"\n  shows \"f\\<cdot>(fix\\<cdot>g) = f'\\<cdot>(fix\\<cdot>g')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<cdot>(fix\\<cdot>g) = f'\\<cdot>(fix\\<cdot>g')", "proof(induct rule: parallel_fix_ind)"], ["proof (state)\ngoal (3 subgoals):\n 1. adm (\\<lambda>x. f\\<cdot>(fst x) = f'\\<cdot>(snd x))\n 2. f\\<cdot>\\<bottom> = f'\\<cdot>\\<bottom>\n 3. \\<And>x y.\n       f\\<cdot>x = f'\\<cdot>y \\<Longrightarrow>\n       f\\<cdot>(g\\<cdot>x) = f'\\<cdot>(g'\\<cdot>y)", "case 2"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. adm (\\<lambda>x. f\\<cdot>(fst x) = f'\\<cdot>(snd x))\n 2. f\\<cdot>\\<bottom> = f'\\<cdot>\\<bottom>\n 3. \\<And>x y.\n       f\\<cdot>x = f'\\<cdot>y \\<Longrightarrow>\n       f\\<cdot>(g\\<cdot>x) = f'\\<cdot>(g'\\<cdot>y)", "show \"f\\<cdot>\\<bottom> = f'\\<cdot>\\<bottom>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<cdot>\\<bottom> = f'\\<cdot>\\<bottom>", "by (rule ff')"], ["proof (state)\nthis:\n  f\\<cdot>\\<bottom> = f'\\<cdot>\\<bottom>\n\ngoal (2 subgoals):\n 1. adm (\\<lambda>x. f\\<cdot>(fst x) = f'\\<cdot>(snd x))\n 2. \\<And>x y.\n       f\\<cdot>x = f'\\<cdot>y \\<Longrightarrow>\n       f\\<cdot>(g\\<cdot>x) = f'\\<cdot>(g'\\<cdot>y)", "case (3 x y)"], ["proof (state)\nthis:\n  f\\<cdot>x = f'\\<cdot>y\n\ngoal (2 subgoals):\n 1. adm (\\<lambda>x. f\\<cdot>(fst x) = f'\\<cdot>(snd x))\n 2. \\<And>x y.\n       f\\<cdot>x = f'\\<cdot>y \\<Longrightarrow>\n       f\\<cdot>(g\\<cdot>x) = f'\\<cdot>(g'\\<cdot>y)", "from \\<open>f\\<cdot>x = f'\\<cdot>y\\<close>"], ["proof (chain)\npicking this:\n  f\\<cdot>x = f'\\<cdot>y", "have \"h\\<cdot>(f\\<cdot>x) = h\\<cdot>(f'\\<cdot>y)\""], ["proof (prove)\nusing this:\n  f\\<cdot>x = f'\\<cdot>y\n\ngoal (1 subgoal):\n 1. h\\<cdot>(f\\<cdot>x) = h\\<cdot>(f'\\<cdot>y)", "by simp"], ["proof (state)\nthis:\n  h\\<cdot>(f\\<cdot>x) = h\\<cdot>(f'\\<cdot>y)\n\ngoal (2 subgoals):\n 1. adm (\\<lambda>x. f\\<cdot>(fst x) = f'\\<cdot>(snd x))\n 2. \\<And>x y.\n       f\\<cdot>x = f'\\<cdot>y \\<Longrightarrow>\n       f\\<cdot>(g\\<cdot>x) = f'\\<cdot>(g'\\<cdot>y)", "with fgh f'g'h"], ["proof (chain)\npicking this:\n  f oo g = h oo f\n  f' oo g' = h oo f'\n  h\\<cdot>(f\\<cdot>x) = h\\<cdot>(f'\\<cdot>y)", "have \"f\\<cdot>(g\\<cdot>x) = f'\\<cdot>(g'\\<cdot>y)\""], ["proof (prove)\nusing this:\n  f oo g = h oo f\n  f' oo g' = h oo f'\n  h\\<cdot>(f\\<cdot>x) = h\\<cdot>(f'\\<cdot>y)\n\ngoal (1 subgoal):\n 1. f\\<cdot>(g\\<cdot>x) = f'\\<cdot>(g'\\<cdot>y)", "using cfcomp2[where f=\"f\" and g=\"g\", symmetric]\n          cfcomp2[where f=\"f'\" and g=\"g'\", symmetric]"], ["proof (prove)\nusing this:\n  f oo g = h oo f\n  f' oo g' = h oo f'\n  h\\<cdot>(f\\<cdot>x) = h\\<cdot>(f'\\<cdot>y)\n  f\\<cdot>(g\\<cdot>?x) = (f oo g)\\<cdot>?x\n  f'\\<cdot>(g'\\<cdot>?x) = (f' oo g')\\<cdot>?x\n\ngoal (1 subgoal):\n 1. f\\<cdot>(g\\<cdot>x) = f'\\<cdot>(g'\\<cdot>y)", "by simp"], ["proof (state)\nthis:\n  f\\<cdot>(g\\<cdot>x) = f'\\<cdot>(g'\\<cdot>y)\n\ngoal (2 subgoals):\n 1. adm (\\<lambda>x. f\\<cdot>(fst x) = f'\\<cdot>(snd x))\n 2. \\<And>x y.\n       f\\<cdot>x = f'\\<cdot>y \\<Longrightarrow>\n       f\\<cdot>(g\\<cdot>x) = f'\\<cdot>(g'\\<cdot>y)", "thus ?case"], ["proof (prove)\nusing this:\n  f\\<cdot>(g\\<cdot>x) = f'\\<cdot>(g'\\<cdot>y)\n\ngoal (1 subgoal):\n 1. f\\<cdot>(g\\<cdot>x) = f'\\<cdot>(g'\\<cdot>y)", "by simp"], ["proof (state)\nthis:\n  f\\<cdot>(g\\<cdot>x) = f'\\<cdot>(g'\\<cdot>y)\n\ngoal (1 subgoal):\n 1. adm (\\<lambda>x. f\\<cdot>(fst x) = f'\\<cdot>(snd x))", "qed simp"], ["", "(*>*)\n\n(*<*)"], ["", "end"], ["", "(*>*)"]]}