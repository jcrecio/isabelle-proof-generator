{"file_name": "/home/qj213/afp-2021-10-22/thys/Strong_Security/Parallel_Composition.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Strong_Security", "problem_names": ["theorem parallel_composition:\n  assumes eqlen: \"length V = length V'\"\n  assumes partsrelated: \"\\<forall>i < length V. [V!i] \\<approx>\\<^bsub>d\\<^esub> [V'!i]\"\n  shows \"V \\<approx>\\<^bsub>d\\<^esub> V'\"", "lemma parallel_decomposition:\n  assumes related: \"V \\<approx>\\<^bsub>d\\<^esub> V'\"\n  shows \"\\<forall>i < length V. [V!i] \\<approx>\\<^bsub>d\\<^esub> [V'!i]\"", "lemma USdB_comp_head_tail:\n  assumes relatedhead: \"[c] \\<approx>\\<^bsub>d\\<^esub> [c']\"\n  assumes relatedtail: \"V \\<approx>\\<^bsub>d\\<^esub> V'\"\n  shows \"(c#V) \\<approx>\\<^bsub>d\\<^esub> (c'#V')\"", "lemma USdB_decomp_head_tail:\n  assumes relatedlist: \"(c#V) \\<approx>\\<^bsub>d\\<^esub> (c'#V')\"\n  shows \"[c] \\<approx>\\<^bsub>d\\<^esub> [c'] \\<and> V \\<approx>\\<^bsub>d\\<^esub> V'\""], "translations": [["", "theorem parallel_composition:\n  assumes eqlen: \"length V = length V'\"\n  assumes partsrelated: \"\\<forall>i < length V. [V!i] \\<approx>\\<^bsub>d\\<^esub> [V'!i]\"\n  shows \"V \\<approx>\\<^bsub>d\\<^esub> V'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V'", "define R where \"R = {(V,V'). length V = length V' \n    \\<and> (\\<forall>i < length V. [V!i] \\<approx>\\<^bsub>d\\<^esub> [V'!i])}\""], ["proof (state)\nthis:\n  R =\n  {(V, V').\n   length V = length V' \\<and>\n   (\\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i])}\n\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V'", "from eqlen partsrelated"], ["proof (chain)\npicking this:\n  length V = length V'\n  \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]", "have inR: \"(V,V') \\<in> R\""], ["proof (prove)\nusing this:\n  length V = length V'\n  \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]\n\ngoal (1 subgoal):\n 1. (V, V') \\<in> R", "by (simp add: R_def)"], ["proof (state)\nthis:\n  (V, V') \\<in> R\n\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V'", "have \"d_Bisimulation_Up_To_USdB d R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d_Bisimulation_Up_To_USdB d R", "proof (simp add: d_Bisimulation_Up_To_USdB_def, auto)"], ["proof (state)\ngoal (3 subgoals):\n 1. sym R\n 2. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 3. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from USdBsym"], ["proof (chain)\npicking this:\n  sym (\\<approx>\\<^bsub>?d\\<^esub>)", "show \"sym R\""], ["proof (prove)\nusing this:\n  sym (\\<approx>\\<^bsub>?d\\<^esub>)\n\ngoal (1 subgoal):\n 1. sym R", "by (simp add: R_def sym_def)"], ["proof (state)\nthis:\n  sym R\n\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "fix V V'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume \"(V,V') \\<in> R\""], ["proof (state)\nthis:\n  (V, V') \\<in> R\n\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "with USdBeqlen"], ["proof (chain)\npicking this:\n  ?V \\<approx>\\<^bsub>?d\\<^esub> ?V' \\<Longrightarrow>\n  length ?V = length ?V'\n  (V, V') \\<in> R", "show \"length V = length V'\""], ["proof (prove)\nusing this:\n  ?V \\<approx>\\<^bsub>?d\\<^esub> ?V' \\<Longrightarrow>\n  length ?V = length ?V'\n  (V, V') \\<in> R\n\ngoal (1 subgoal):\n 1. length V = length V'", "by (simp add: R_def)"], ["proof (state)\nthis:\n  length V = length V'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "fix V V' i m1 m1' RS m2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume inR: \"(V,V') \\<in> R\""], ["proof (state)\nthis:\n  (V, V') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume irange: \"i < length V\""], ["proof (state)\nthis:\n  i < length V\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume step: \"\\<langle>V!i,m1\\<rangle> \\<rightarrow> \\<langle>RS,m2\\<rangle>\""], ["proof (state)\nthis:\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>RS,m2\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume dequal: \"m1 =\\<^bsub>d\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 =\\<^bsub>d\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from inR"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R", "have Vassump:\n        \"length V = length V' \\<and> (\\<forall>i < length V. [V!i] \\<approx>\\<^bsub>d\\<^esub> [V'!i])\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R\n\ngoal (1 subgoal):\n 1. length V = length V' \\<and>\n    (\\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i])", "by (simp add: R_def)"], ["proof (state)\nthis:\n  length V = length V' \\<and>\n  (\\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i])\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "with step dequal USdB_Strong_d_Bisimulation irange \n      strongdB_aux[of \"d\" \"\\<approx>\\<^bsub>d\\<^esub>\" \"0\" \"[V!i]\" \"[V'!i]\" \"m1\" \"RS\" \"m2\" \"m1'\"]"], ["proof (chain)\npicking this:\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>RS,m2\\<rangle>\n  m1 =\\<^bsub>d\\<^esub> m1'\n  Strong_d_Bisimulation ?d (\\<approx>\\<^bsub>?d\\<^esub>)\n  i < length V\n  \\<lbrakk>Strong_d_Bisimulation d (\\<approx>\\<^bsub>d\\<^esub>);\n   0 < length [V ! i]; [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i];\n   \\<langle>[V ! i] ! 0,m1\\<rangle> \\<rightarrow> \\<langle>RS,m2\\<rangle>;\n   m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W' m2'.\n                       \\<langle>[V' ! i] ! 0,m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W',m2'\\<rangle> \\<and>\n                       RS \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                       m2 =\\<^bsub>d\\<^esub> m2'\n  length V = length V' \\<and>\n  (\\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i])", "show \"\\<exists>RS' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>RS',m2'\\<rangle> \\<and>\n        ((RS,RS') \\<in> R \\<or> RS \\<approx>\\<^bsub>d\\<^esub> RS') \\<and> m2 =\\<^bsub>d\\<^esub> m2'\""], ["proof (prove)\nusing this:\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>RS,m2\\<rangle>\n  m1 =\\<^bsub>d\\<^esub> m1'\n  Strong_d_Bisimulation ?d (\\<approx>\\<^bsub>?d\\<^esub>)\n  i < length V\n  \\<lbrakk>Strong_d_Bisimulation d (\\<approx>\\<^bsub>d\\<^esub>);\n   0 < length [V ! i]; [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i];\n   \\<langle>[V ! i] ! 0,m1\\<rangle> \\<rightarrow> \\<langle>RS,m2\\<rangle>;\n   m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W' m2'.\n                       \\<langle>[V' ! i] ! 0,m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W',m2'\\<rangle> \\<and>\n                       RS \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                       m2 =\\<^bsub>d\\<^esub> m2'\n  length V = length V' \\<and>\n  (\\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i])\n\ngoal (1 subgoal):\n 1. \\<exists>RS' m2'.\n       \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n       \\<langle>RS',m2'\\<rangle> \\<and>\n       ((RS, RS') \\<in> R \\<or> RS \\<approx>\\<^bsub>d\\<^esub> RS') \\<and>\n       m2 =\\<^bsub>d\\<^esub> m2'", "by (simp, fastforce)"], ["proof (state)\nthis:\n  \\<exists>RS' m2'.\n     \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n     \\<langle>RS',m2'\\<rangle> \\<and>\n     ((RS, RS') \\<in> R \\<or> RS \\<approx>\\<^bsub>d\\<^esub> RS') \\<and>\n     m2 =\\<^bsub>d\\<^esub> m2'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  d_Bisimulation_Up_To_USdB d R\n\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V'", "hence \"R \\<subseteq> (\\<approx>\\<^bsub>d\\<^esub>)\""], ["proof (prove)\nusing this:\n  d_Bisimulation_Up_To_USdB d R\n\ngoal (1 subgoal):\n 1. R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "by (rule Up_To_Technique)"], ["proof (state)\nthis:\n  R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\n\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V'", "with inR"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R\n  R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "show ?thesis"], ["proof (prove)\nusing this:\n  (V, V') \\<in> R\n  R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\n\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V'", "by auto"], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma parallel_decomposition:\n  assumes related: \"V \\<approx>\\<^bsub>d\\<^esub> V'\"\n  shows \"\\<forall>i < length V. [V!i] \\<approx>\\<^bsub>d\\<^esub> [V'!i]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]", "define R where \"R = {(C,C'). \\<exists>i W W'. W \\<approx>\\<^bsub>d\\<^esub> W' \\<and> i < length W \n    \\<and> C = [W!i] \\<and> C' = [W'!i]}\""], ["proof (state)\nthis:\n  R =\n  {(C, C').\n   \\<exists>i W W'.\n      W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n      i < length W \\<and> C = [W ! i] \\<and> C' = [W' ! i]}\n\ngoal (1 subgoal):\n 1. \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]", "with related"], ["proof (chain)\npicking this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  R =\n  {(C, C').\n   \\<exists>i W W'.\n      W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n      i < length W \\<and> C = [W ! i] \\<and> C' = [W' ! i]}", "have inR: \"\\<forall>i < length V. ([V!i],[V'!i]) \\<in> R\""], ["proof (prove)\nusing this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  R =\n  {(C, C').\n   \\<exists>i W W'.\n      W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n      i < length W \\<and> C = [W ! i] \\<and> C' = [W' ! i]}\n\ngoal (1 subgoal):\n 1. \\<forall>i<length V. ([V ! i], [V' ! i]) \\<in> R", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<length V. ([V ! i], [V' ! i]) \\<in> R\n\ngoal (1 subgoal):\n 1. \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]", "have \"d_Bisimulation_Up_To_USdB d R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d_Bisimulation_Up_To_USdB d R", "proof (simp add: d_Bisimulation_Up_To_USdB_def, auto)"], ["proof (state)\ngoal (3 subgoals):\n 1. sym R\n 2. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 3. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from USdBsym USdBeqlen"], ["proof (chain)\npicking this:\n  sym (\\<approx>\\<^bsub>?d\\<^esub>)\n  ?V \\<approx>\\<^bsub>?d\\<^esub> ?V' \\<Longrightarrow>\n  length ?V = length ?V'", "show \"sym R\""], ["proof (prove)\nusing this:\n  sym (\\<approx>\\<^bsub>?d\\<^esub>)\n  ?V \\<approx>\\<^bsub>?d\\<^esub> ?V' \\<Longrightarrow>\n  length ?V = length ?V'\n\ngoal (1 subgoal):\n 1. sym R", "by (simp add: sym_def R_def, metis)"], ["proof (state)\nthis:\n  sym R\n\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "fix C C'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume \"(C,C') \\<in> R\""], ["proof (state)\nthis:\n  (C, C') \\<in> R\n\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "with USdBeqlen"], ["proof (chain)\npicking this:\n  ?V \\<approx>\\<^bsub>?d\\<^esub> ?V' \\<Longrightarrow>\n  length ?V = length ?V'\n  (C, C') \\<in> R", "show \"length C = length C'\""], ["proof (prove)\nusing this:\n  ?V \\<approx>\\<^bsub>?d\\<^esub> ?V' \\<Longrightarrow>\n  length ?V = length ?V'\n  (C, C') \\<in> R\n\ngoal (1 subgoal):\n 1. length C = length C'", "by (simp add: R_def, auto)"], ["proof (state)\nthis:\n  length C = length C'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "fix C C' i m1 m1' RS m2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume inR: \"(C,C') \\<in> R\""], ["proof (state)\nthis:\n  (C, C') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume irange: \"i < length C\""], ["proof (state)\nthis:\n  i < length C\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume step: \"\\<langle>C!i,m1\\<rangle> \\<rightarrow> \\<langle>RS,m2\\<rangle>\""], ["proof (state)\nthis:\n  \\<langle>C ! i,m1\\<rangle> \\<rightarrow> \\<langle>RS,m2\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume dequal: \"m1 =\\<^bsub>d\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 =\\<^bsub>d\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from inR"], ["proof (chain)\npicking this:\n  (C, C') \\<in> R", "obtain j W W' where Rassump: \n       \"W \\<approx>\\<^bsub>d\\<^esub> W' \\<and> j < length W \\<and> C = [W!j] \\<and> C' = [W'!j]\""], ["proof (prove)\nusing this:\n  (C, C') \\<in> R\n\ngoal (1 subgoal):\n 1. (\\<And>W W' j.\n        W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n        j < length W \\<and>\n        C = [W ! j] \\<and> C' = [W' ! j] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp add: R_def, auto)"], ["proof (state)\nthis:\n  W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n  j < length W \\<and> C = [W ! j] \\<and> C' = [W' ! j]\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "with irange"], ["proof (chain)\npicking this:\n  i < length C\n  W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n  j < length W \\<and> C = [W ! j] \\<and> C' = [W' ! j]", "have i0: \"i = 0\""], ["proof (prove)\nusing this:\n  i < length C\n  W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n  j < length W \\<and> C = [W ! j] \\<and> C' = [W' ! j]\n\ngoal (1 subgoal):\n 1. i = 0", "by auto"], ["proof (state)\nthis:\n  i = 0\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            ((W, W') \\<in> R \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from Rassump i0 strongdB_aux[of \"d\" \"\\<approx>\\<^bsub>d\\<^esub>\" \"j\" \"W\" \"W'\" \n       \"m1\" \"RS\" \"m2\" \"m1'\"] \n       USdB_Strong_d_Bisimulation step dequal"], ["proof (chain)\npicking this:\n  W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n  j < length W \\<and> C = [W ! j] \\<and> C' = [W' ! j]\n  i = 0\n  \\<lbrakk>Strong_d_Bisimulation d (\\<approx>\\<^bsub>d\\<^esub>);\n   j < length W; W \\<approx>\\<^bsub>d\\<^esub> W';\n   \\<langle>W ! j,m1\\<rangle> \\<rightarrow> \\<langle>RS,m2\\<rangle>;\n   m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W'a m2'.\n                       \\<langle>W' ! j,m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W'a,m2'\\<rangle> \\<and>\n                       RS \\<approx>\\<^bsub>d\\<^esub> W'a \\<and>\n                       m2 =\\<^bsub>d\\<^esub> m2'\n  Strong_d_Bisimulation ?d (\\<approx>\\<^bsub>?d\\<^esub>)\n  \\<langle>C ! i,m1\\<rangle> \\<rightarrow> \\<langle>RS,m2\\<rangle>\n  m1 =\\<^bsub>d\\<^esub> m1'", "show \"\\<exists>RS' m2'. \\<langle>C'!i,m1'\\<rangle> \\<rightarrow> \\<langle>RS',m2'\\<rangle> \n       \\<and> ((RS,RS') \\<in> R \\<or> RS \\<approx>\\<^bsub>d\\<^esub> RS') \\<and> m2 =\\<^bsub>d\\<^esub> m2'\""], ["proof (prove)\nusing this:\n  W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n  j < length W \\<and> C = [W ! j] \\<and> C' = [W' ! j]\n  i = 0\n  \\<lbrakk>Strong_d_Bisimulation d (\\<approx>\\<^bsub>d\\<^esub>);\n   j < length W; W \\<approx>\\<^bsub>d\\<^esub> W';\n   \\<langle>W ! j,m1\\<rangle> \\<rightarrow> \\<langle>RS,m2\\<rangle>;\n   m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W'a m2'.\n                       \\<langle>W' ! j,m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W'a,m2'\\<rangle> \\<and>\n                       RS \\<approx>\\<^bsub>d\\<^esub> W'a \\<and>\n                       m2 =\\<^bsub>d\\<^esub> m2'\n  Strong_d_Bisimulation ?d (\\<approx>\\<^bsub>?d\\<^esub>)\n  \\<langle>C ! i,m1\\<rangle> \\<rightarrow> \\<langle>RS,m2\\<rangle>\n  m1 =\\<^bsub>d\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<exists>RS' m2'.\n       \\<langle>C' ! i,m1'\\<rangle> \\<rightarrow>\n       \\<langle>RS',m2'\\<rangle> \\<and>\n       ((RS, RS') \\<in> R \\<or> RS \\<approx>\\<^bsub>d\\<^esub> RS') \\<and>\n       m2 =\\<^bsub>d\\<^esub> m2'", "by auto"], ["proof (state)\nthis:\n  \\<exists>RS' m2'.\n     \\<langle>C' ! i,m1'\\<rangle> \\<rightarrow>\n     \\<langle>RS',m2'\\<rangle> \\<and>\n     ((RS, RS') \\<in> R \\<or> RS \\<approx>\\<^bsub>d\\<^esub> RS') \\<and>\n     m2 =\\<^bsub>d\\<^esub> m2'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  d_Bisimulation_Up_To_USdB d R\n\ngoal (1 subgoal):\n 1. \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]", "hence \"R \\<subseteq> (\\<approx>\\<^bsub>d\\<^esub>)\""], ["proof (prove)\nusing this:\n  d_Bisimulation_Up_To_USdB d R\n\ngoal (1 subgoal):\n 1. R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "by (rule Up_To_Technique)"], ["proof (state)\nthis:\n  R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]", "with inR"], ["proof (chain)\npicking this:\n  \\<forall>i<length V. ([V ! i], [V' ! i]) \\<in> R\n  R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>i<length V. ([V ! i], [V' ! i]) \\<in> R\n  R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma USdB_comp_head_tail:\n  assumes relatedhead: \"[c] \\<approx>\\<^bsub>d\\<^esub> [c']\"\n  assumes relatedtail: \"V \\<approx>\\<^bsub>d\\<^esub> V'\"\n  shows \"(c#V) \\<approx>\\<^bsub>d\\<^esub> (c'#V')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c # V) \\<approx>\\<^bsub>d\\<^esub> c' # V'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (c # V) \\<approx>\\<^bsub>d\\<^esub> c' # V'", "from relatedtail USdBeqlen"], ["proof (chain)\npicking this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  ?V \\<approx>\\<^bsub>?d\\<^esub> ?V' \\<Longrightarrow>\n  length ?V = length ?V'", "have eqlen: \"length (c#V) = length (c'#V')\""], ["proof (prove)\nusing this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  ?V \\<approx>\\<^bsub>?d\\<^esub> ?V' \\<Longrightarrow>\n  length ?V = length ?V'\n\ngoal (1 subgoal):\n 1. length (c # V) = length (c' # V')", "by force"], ["proof (state)\nthis:\n  length (c # V) = length (c' # V')\n\ngoal (1 subgoal):\n 1. (c # V) \\<approx>\\<^bsub>d\\<^esub> c' # V'", "from relatedtail parallel_decomposition"], ["proof (chain)\npicking this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  ?V \\<approx>\\<^bsub>?d\\<^esub> ?V' \\<Longrightarrow>\n  \\<forall>i<length ?V. [?V ! i] \\<approx>\\<^bsub>?d\\<^esub> [?V' ! i]", "have singleV: \n    \"\\<forall>i < length V. [V!i] \\<approx>\\<^bsub>d\\<^esub> [V'!i]\""], ["proof (prove)\nusing this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  ?V \\<approx>\\<^bsub>?d\\<^esub> ?V' \\<Longrightarrow>\n  \\<forall>i<length ?V. [?V ! i] \\<approx>\\<^bsub>?d\\<^esub> [?V' ! i]\n\ngoal (1 subgoal):\n 1. \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]", "by force"], ["proof (state)\nthis:\n  \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]\n\ngoal (1 subgoal):\n 1. (c # V) \\<approx>\\<^bsub>d\\<^esub> c' # V'", "with relatedhead"], ["proof (chain)\npicking this:\n  [c] \\<approx>\\<^bsub>d\\<^esub> [c']\n  \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]", "have intermediate:\n    \"\\<forall>i < length (c#V). [(c#V)!i] \\<approx>\\<^bsub>d\\<^esub> [(c'#V')!i]\""], ["proof (prove)\nusing this:\n  [c] \\<approx>\\<^bsub>d\\<^esub> [c']\n  \\<forall>i<length V. [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]\n\ngoal (1 subgoal):\n 1. \\<forall>i<length (c # V).\n       [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i]", "by (auto, case_tac i, auto)"], ["proof (state)\nthis:\n  \\<forall>i<length (c # V).\n     [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i]\n\ngoal (1 subgoal):\n 1. (c # V) \\<approx>\\<^bsub>d\\<^esub> c' # V'", "with eqlen parallel_composition"], ["proof (chain)\npicking this:\n  length (c # V) = length (c' # V')\n  \\<lbrakk>length ?V = length ?V';\n   \\<forall>i<length ?V.\n      [?V ! i] \\<approx>\\<^bsub>?d\\<^esub> [?V' ! i]\\<rbrakk>\n  \\<Longrightarrow> ?V \\<approx>\\<^bsub>?d\\<^esub> ?V'\n  \\<forall>i<length (c # V).\n     [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i]", "show ?thesis"], ["proof (prove)\nusing this:\n  length (c # V) = length (c' # V')\n  \\<lbrakk>length ?V = length ?V';\n   \\<forall>i<length ?V.\n      [?V ! i] \\<approx>\\<^bsub>?d\\<^esub> [?V' ! i]\\<rbrakk>\n  \\<Longrightarrow> ?V \\<approx>\\<^bsub>?d\\<^esub> ?V'\n  \\<forall>i<length (c # V).\n     [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i]\n\ngoal (1 subgoal):\n 1. (c # V) \\<approx>\\<^bsub>d\\<^esub> c' # V'", "by blast"], ["proof (state)\nthis:\n  (c # V) \\<approx>\\<^bsub>d\\<^esub> c' # V'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma USdB_decomp_head_tail:\n  assumes relatedlist: \"(c#V) \\<approx>\\<^bsub>d\\<^esub> (c'#V')\"\n  shows \"[c] \\<approx>\\<^bsub>d\\<^esub> [c'] \\<and> V \\<approx>\\<^bsub>d\\<^esub> V'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [c] \\<approx>\\<^bsub>d\\<^esub> [c'] \\<and>\n    V \\<approx>\\<^bsub>d\\<^esub> V'", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. [c] \\<approx>\\<^bsub>d\\<^esub> [c']\n 2. V \\<approx>\\<^bsub>d\\<^esub> V'", "from relatedlist USdBeqlen[of \"c#V\" \"c'#V'\"]"], ["proof (chain)\npicking this:\n  (c # V) \\<approx>\\<^bsub>d\\<^esub> c' # V'\n  (c # V) \\<approx>\\<^bsub>?d\\<^esub> c' # V' \\<Longrightarrow>\n  length (c # V) = length (c' # V')", "have eqlen: \"length V = length V'\""], ["proof (prove)\nusing this:\n  (c # V) \\<approx>\\<^bsub>d\\<^esub> c' # V'\n  (c # V) \\<approx>\\<^bsub>?d\\<^esub> c' # V' \\<Longrightarrow>\n  length (c # V) = length (c' # V')\n\ngoal (1 subgoal):\n 1. length V = length V'", "by auto"], ["proof (state)\nthis:\n  length V = length V'\n\ngoal (2 subgoals):\n 1. [c] \\<approx>\\<^bsub>d\\<^esub> [c']\n 2. V \\<approx>\\<^bsub>d\\<^esub> V'", "from relatedlist parallel_decomposition[of \"c#V\" \"c'#V'\" \"d\"]"], ["proof (chain)\npicking this:\n  (c # V) \\<approx>\\<^bsub>d\\<^esub> c' # V'\n  (c # V) \\<approx>\\<^bsub>d\\<^esub> c' # V' \\<Longrightarrow>\n  \\<forall>i<length (c # V).\n     [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i]", "have intermediate:\n    \"\\<forall>i < length (c#V). [(c#V)!i] \\<approx>\\<^bsub>d\\<^esub> [(c'#V')!i]\""], ["proof (prove)\nusing this:\n  (c # V) \\<approx>\\<^bsub>d\\<^esub> c' # V'\n  (c # V) \\<approx>\\<^bsub>d\\<^esub> c' # V' \\<Longrightarrow>\n  \\<forall>i<length (c # V).\n     [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i]\n\ngoal (1 subgoal):\n 1. \\<forall>i<length (c # V).\n       [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i]", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<length (c # V).\n     [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i]\n\ngoal (2 subgoals):\n 1. [c] \\<approx>\\<^bsub>d\\<^esub> [c']\n 2. V \\<approx>\\<^bsub>d\\<^esub> V'", "thus \"[c] \\<approx>\\<^bsub>d\\<^esub> [c']\""], ["proof (prove)\nusing this:\n  \\<forall>i<length (c # V).\n     [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i]\n\ngoal (1 subgoal):\n 1. [c] \\<approx>\\<^bsub>d\\<^esub> [c']", "by force"], ["proof (state)\nthis:\n  [c] \\<approx>\\<^bsub>d\\<^esub> [c']\n\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V'", "from intermediate eqlen"], ["proof (chain)\npicking this:\n  \\<forall>i<length (c # V).\n     [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i]\n  length V = length V'", "show \"V \\<approx>\\<^bsub>d\\<^esub> V'\""], ["proof (prove)\nusing this:\n  \\<forall>i<length (c # V).\n     [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i]\n  length V = length V'\n\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V'", "proof (case_tac V)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<forall>i<length (c # V).\n                [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i];\n     length V = length V'; V = []\\<rbrakk>\n    \\<Longrightarrow> V \\<approx>\\<^bsub>d\\<^esub> V'\n 2. \\<And>a list.\n       \\<lbrakk>\\<forall>i<length (c # V).\n                   [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i];\n        length V = length V'; V = a # list\\<rbrakk>\n       \\<Longrightarrow> V \\<approx>\\<^bsub>d\\<^esub> V'", "assume Vcase1: \"V = []\""], ["proof (state)\nthis:\n  V = []\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<forall>i<length (c # V).\n                [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i];\n     length V = length V'; V = []\\<rbrakk>\n    \\<Longrightarrow> V \\<approx>\\<^bsub>d\\<^esub> V'\n 2. \\<And>a list.\n       \\<lbrakk>\\<forall>i<length (c # V).\n                   [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i];\n        length V = length V'; V = a # list\\<rbrakk>\n       \\<Longrightarrow> V \\<approx>\\<^bsub>d\\<^esub> V'", "with eqlen"], ["proof (chain)\npicking this:\n  length V = length V'\n  V = []", "have \"V' = []\""], ["proof (prove)\nusing this:\n  length V = length V'\n  V = []\n\ngoal (1 subgoal):\n 1. V' = []", "by auto"], ["proof (state)\nthis:\n  V' = []\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<forall>i<length (c # V).\n                [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i];\n     length V = length V'; V = []\\<rbrakk>\n    \\<Longrightarrow> V \\<approx>\\<^bsub>d\\<^esub> V'\n 2. \\<And>a list.\n       \\<lbrakk>\\<forall>i<length (c # V).\n                   [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i];\n        length V = length V'; V = a # list\\<rbrakk>\n       \\<Longrightarrow> V \\<approx>\\<^bsub>d\\<^esub> V'", "with Vcase1 trivialpair_in_USdB"], ["proof (chain)\npicking this:\n  V = []\n  [] \\<approx>\\<^bsub>?d\\<^esub> []\n  V' = []", "show \"V \\<approx>\\<^bsub>d\\<^esub> V'\""], ["proof (prove)\nusing this:\n  V = []\n  [] \\<approx>\\<^bsub>?d\\<^esub> []\n  V' = []\n\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V'", "by auto"], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       \\<lbrakk>\\<forall>i<length (c # V).\n                   [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i];\n        length V = length V'; V = a # list\\<rbrakk>\n       \\<Longrightarrow> V \\<approx>\\<^bsub>d\\<^esub> V'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list.\n       \\<lbrakk>\\<forall>i<length (c # V).\n                   [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i];\n        length V = length V'; V = a # list\\<rbrakk>\n       \\<Longrightarrow> V \\<approx>\\<^bsub>d\\<^esub> V'", "fix c1 W"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list.\n       \\<lbrakk>\\<forall>i<length (c # V).\n                   [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i];\n        length V = length V'; V = a # list\\<rbrakk>\n       \\<Longrightarrow> V \\<approx>\\<^bsub>d\\<^esub> V'", "assume Vcase2: \"V = c1#W\""], ["proof (state)\nthis:\n  V = c1 # W\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       \\<lbrakk>\\<forall>i<length (c # V).\n                   [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i];\n        length V = length V'; V = a # list\\<rbrakk>\n       \\<Longrightarrow> V \\<approx>\\<^bsub>d\\<^esub> V'", "hence Vlen: \"length V > 0\""], ["proof (prove)\nusing this:\n  V = c1 # W\n\ngoal (1 subgoal):\n 1. 0 < length V", "by auto"], ["proof (state)\nthis:\n  0 < length V\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       \\<lbrakk>\\<forall>i<length (c # V).\n                   [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i];\n        length V = length V'; V = a # list\\<rbrakk>\n       \\<Longrightarrow> V \\<approx>\\<^bsub>d\\<^esub> V'", "from intermediate"], ["proof (chain)\npicking this:\n  \\<forall>i<length (c # V).\n     [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i]", "have intermediate_aux:\n      \"\\<And>i. i < length V\n      \\<Longrightarrow> [V!i] \\<approx>\\<^bsub>d\\<^esub> [V'!i]\""], ["proof (prove)\nusing this:\n  \\<forall>i<length (c # V).\n     [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i]\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < length V \\<Longrightarrow>\n       [V ! i] \\<approx>\\<^bsub>d\\<^esub> [V' ! i]", "by force"], ["proof (state)\nthis:\n  ?i < length V \\<Longrightarrow>\n  [V ! ?i] \\<approx>\\<^bsub>d\\<^esub> [V' ! ?i]\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       \\<lbrakk>\\<forall>i<length (c # V).\n                   [(c # V) ! i] \\<approx>\\<^bsub>d\\<^esub> [(c' # V') ! i];\n        length V = length V'; V = a # list\\<rbrakk>\n       \\<Longrightarrow> V \\<approx>\\<^bsub>d\\<^esub> V'", "with parallel_composition[of \"V\" \"V'\"] eqlen"], ["proof (chain)\npicking this:\n  \\<lbrakk>length V = length V';\n   \\<forall>i<length V.\n      [V ! i] \\<approx>\\<^bsub>?d\\<^esub> [V' ! i]\\<rbrakk>\n  \\<Longrightarrow> V \\<approx>\\<^bsub>?d\\<^esub> V'\n  length V = length V'\n  ?i < length V \\<Longrightarrow>\n  [V ! ?i] \\<approx>\\<^bsub>d\\<^esub> [V' ! ?i]", "show \"V \\<approx>\\<^bsub>d\\<^esub> V'\""], ["proof (prove)\nusing this:\n  \\<lbrakk>length V = length V';\n   \\<forall>i<length V.\n      [V ! i] \\<approx>\\<^bsub>?d\\<^esub> [V' ! i]\\<rbrakk>\n  \\<Longrightarrow> V \\<approx>\\<^bsub>?d\\<^esub> V'\n  length V = length V'\n  ?i < length V \\<Longrightarrow>\n  [V ! ?i] \\<approx>\\<^bsub>d\\<^esub> [V' ! ?i]\n\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V'", "by blast"], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}