{"file_name": "/home/qj213/afp-2021-10-22/thys/Strong_Security/Strong_Security.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Strong_Security", "problem_names": ["lemma d_equal_trans:\n\"\\<lbrakk> m =\\<^bsub>d\\<^esub> m'; m' =\\<^bsub>d\\<^esub> m'' \\<rbrakk> \\<Longrightarrow> m =\\<^bsub>d\\<^esub> m''\"", "lemma strongdB_aux: \"\\<And>V V' m1 m1' m2 W i. \\<lbrakk> Strong_d_Bisimulation d R;\n i < length V ; (V,V') \\<in> R; \\<langle>V!i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>; m1 =\\<^bsub>d\\<^esub> m1' \\<rbrakk>\n \\<Longrightarrow> (\\<exists>W' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and> (W,W') \\<in> R \\<and> m2 =\\<^bsub>d\\<^esub> m2')\"", "lemma trivialpair_in_USdB:\n\"[] \\<approx>\\<^bsub>d\\<^esub> []\"", "lemma USdBsym: \"sym (\\<approx>\\<^bsub>d\\<^esub>)\"", "lemma USdBeqlen: \n  \"V \\<approx>\\<^bsub>d\\<^esub> V' \\<Longrightarrow> length V = length V'\"", "lemma USdB_Strong_d_Bisimulation:\n  \"Strong_d_Bisimulation d (\\<approx>\\<^bsub>d\\<^esub>)\"", "lemma USdBtrans: \"trans (\\<approx>\\<^bsub>d\\<^esub>)\""], "translations": [["", "lemma d_equal_trans:\n\"\\<lbrakk> m =\\<^bsub>d\\<^esub> m'; m' =\\<^bsub>d\\<^esub> m'' \\<rbrakk> \\<Longrightarrow> m =\\<^bsub>d\\<^esub> m''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>m =\\<^bsub>d\\<^esub> m'; m' =\\<^bsub>d\\<^esub> m''\\<rbrakk>\n    \\<Longrightarrow> m =\\<^bsub>d\\<^esub> m''", "by (simp add: d_equal_def)"], ["", "abbreviation SRabbr :: \"('exp, 'id, 'val, 'com) TSteps_curry\"\n(\"(1\\<langle>_,/_\\<rangle>) \\<rightarrow>/ (1\\<langle>_,/_\\<rangle>)\" [0,0,0,0] 81)\nwhere\n\"\\<langle>c,m\\<rangle> \\<rightarrow> \\<langle>c',m'\\<rangle> \\<equiv> ((c,m),(c',m')) \\<in> SR\"\n\n\\<comment> \\<open>predicate for strong d-bisimulation\\<close>"], ["", "definition Strong_d_Bisimulation :: \"'d \\<Rightarrow> 'com Bisimulation_type \\<Rightarrow> bool\"\nwhere\n\"Strong_d_Bisimulation d R \\<equiv> \n  (sym R) \\<and>\n  (\\<forall>(V,V') \\<in> R. length V = length V') \\<and>\n  (\\<forall>(V,V') \\<in> R. \\<forall>i < length V. \\<forall>m1 m1' m2 W.\n  \\<langle>V!i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle> \\<and> m1 =\\<^bsub>d\\<^esub> m1'\n  \\<longrightarrow> (\\<exists>W' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and> (W,W') \\<in> R \\<and> m2 =\\<^bsub>d\\<^esub> m2'))\"\n\n\\<comment> \\<open>union of all strong d-bisimulations\\<close>"], ["", "definition USdB :: \"'d \\<Rightarrow> 'com Bisimulation_type\"\n(\"\\<approx>\\<^bsub>_\\<^esub>\" 65)\nwhere\n\"\\<approx>\\<^bsub>d\\<^esub> \\<equiv> \\<Union>{r. (Strong_d_Bisimulation d r)}\""], ["", "abbreviation relatedbyUSdB :: \"'com list \\<Rightarrow> 'd \\<Rightarrow> 'com list \\<Rightarrow> bool\" \n(\"(_ \\<approx>\\<^bsub>_\\<^esub> _)\" [66,66] 65)\nwhere \"V \\<approx>\\<^bsub>d\\<^esub> V' \\<equiv> (V,V') \\<in> USdB d\"\n\n\\<comment> \\<open>predicate to define when a program is strongly secure\\<close>"], ["", "definition Strongly_Secure :: \"'com list \\<Rightarrow> bool\"\nwhere\n\"Strongly_Secure V \\<equiv> (\\<forall>d. V \\<approx>\\<^bsub>d\\<^esub> V)\"\n\n\n\\<comment> \\<open>auxiliary lemma to obtain central strong d-Bisimulation property as Lemma\n in meta logic (allows instantiating all the variables manually if necessary)\\<close>"], ["", "lemma strongdB_aux: \"\\<And>V V' m1 m1' m2 W i. \\<lbrakk> Strong_d_Bisimulation d R;\n i < length V ; (V,V') \\<in> R; \\<langle>V!i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>; m1 =\\<^bsub>d\\<^esub> m1' \\<rbrakk>\n \\<Longrightarrow> (\\<exists>W' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and> (W,W') \\<in> R \\<and> m2 =\\<^bsub>d\\<^esub> m2')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>V V' m1 m1' m2 W i.\n       \\<lbrakk>Strong_d_Bisimulation d R; i < length V; (V, V') \\<in> R;\n        \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W') \\<in> R \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "by (simp add: Strong_d_Bisimulation_def, fastforce)"], ["", "lemma trivialpair_in_USdB:\n\"[] \\<approx>\\<^bsub>d\\<^esub> []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [] \\<approx>\\<^bsub>d\\<^esub> []", "by (simp add: USdB_def Strong_d_Bisimulation_def, \n  rule_tac x=\"{([],[])}\" in exI, simp add: sym_def)"], ["", "lemma USdBsym: \"sym (\\<approx>\\<^bsub>d\\<^esub>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym (\\<approx>\\<^bsub>d\\<^esub>)", "by (simp add: USdB_def Strong_d_Bisimulation_def sym_def, auto)"], ["", "lemma USdBeqlen: \n  \"V \\<approx>\\<^bsub>d\\<^esub> V' \\<Longrightarrow> length V = length V'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V' \\<Longrightarrow> length V = length V'", "by (simp add: USdB_def Strong_d_Bisimulation_def, auto)"], ["", "lemma USdB_Strong_d_Bisimulation:\n  \"Strong_d_Bisimulation d (\\<approx>\\<^bsub>d\\<^esub>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Strong_d_Bisimulation d (\\<approx>\\<^bsub>d\\<^esub>)", "proof (simp add: Strong_d_Bisimulation_def, auto)"], ["proof (state)\ngoal (3 subgoals):\n 1. sym (\\<approx>\\<^bsub>d\\<^esub>)\n 2. \\<And>a b.\n       a \\<approx>\\<^bsub>d\\<^esub> b \\<Longrightarrow> length a = length b\n 3. \\<And>a b i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "show \"sym (\\<approx>\\<^bsub>d\\<^esub>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym (\\<approx>\\<^bsub>d\\<^esub>)", "by (rule USdBsym)"], ["proof (state)\nthis:\n  sym (\\<approx>\\<^bsub>d\\<^esub>)\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       a \\<approx>\\<^bsub>d\\<^esub> b \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       a \\<approx>\\<^bsub>d\\<^esub> b \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "fix V V'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       a \\<approx>\\<^bsub>d\\<^esub> b \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "show \"V \\<approx>\\<^bsub>d\\<^esub> V' \\<Longrightarrow> length V = length V'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V' \\<Longrightarrow> length V = length V'", "by (rule USdBeqlen, auto)"], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V' \\<Longrightarrow> length V = length V'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "fix V V' m1 m1' m2 W i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume inUSdB: \"V \\<approx>\\<^bsub>d\\<^esub> V'\""], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume stepV: \"\\<langle>V!i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\""], ["proof (state)\nthis:\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume irange: \"i < length V\""], ["proof (state)\nthis:\n  i < length V\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume dequal: \"m1 =\\<^bsub>d\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 =\\<^bsub>d\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from inUSdB"], ["proof (chain)\npicking this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'", "obtain R where someR:\n    \"Strong_d_Bisimulation d R \\<and> (V,V') \\<in> R\""], ["proof (prove)\nusing this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal (1 subgoal):\n 1. (\\<And>R.\n        Strong_d_Bisimulation d R \\<and> (V, V') \\<in> R \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp add: USdB_def, auto)"], ["proof (state)\nthis:\n  Strong_d_Bisimulation d R \\<and> (V, V') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "with strongdB_aux stepV irange dequal"], ["proof (chain)\npicking this:\n  \\<lbrakk>Strong_d_Bisimulation ?d ?R; ?i < length ?V; (?V, ?V') \\<in> ?R;\n   \\<langle>?V ! ?i,?m1.0\\<rangle> \\<rightarrow> \\<langle>?W,?m2.0\\<rangle>;\n   ?m1.0 =\\<^bsub>?d\\<^esub> ?m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W' m2'.\n                       \\<langle>?V' ! ?i,?m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W',m2'\\<rangle> \\<and>\n                       (?W, W') \\<in> ?R \\<and>\n                       ?m2.0 =\\<^bsub>?d\\<^esub> m2'\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\n  i < length V\n  m1 =\\<^bsub>d\\<^esub> m1'\n  Strong_d_Bisimulation d R \\<and> (V, V') \\<in> R", "show \n    \"\\<exists>W' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and> W \\<approx>\\<^bsub>d\\<^esub> W' \\<and> m2 =\\<^bsub>d\\<^esub> m2'\""], ["proof (prove)\nusing this:\n  \\<lbrakk>Strong_d_Bisimulation ?d ?R; ?i < length ?V; (?V, ?V') \\<in> ?R;\n   \\<langle>?V ! ?i,?m1.0\\<rangle> \\<rightarrow> \\<langle>?W,?m2.0\\<rangle>;\n   ?m1.0 =\\<^bsub>?d\\<^esub> ?m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W' m2'.\n                       \\<langle>?V' ! ?i,?m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W',m2'\\<rangle> \\<and>\n                       (?W, W') \\<in> ?R \\<and>\n                       ?m2.0 =\\<^bsub>?d\\<^esub> m2'\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\n  i < length V\n  m1 =\\<^bsub>d\\<^esub> m1'\n  Strong_d_Bisimulation d R \\<and> (V, V') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<exists>W' m2'.\n       \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n       \\<langle>W',m2'\\<rangle> \\<and>\n       W \\<approx>\\<^bsub>d\\<^esub> W' \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "by (simp add: USdB_def, fastforce)"], ["proof (state)\nthis:\n  \\<exists>W' m2'.\n     \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n     \\<langle>W',m2'\\<rangle> \\<and>\n     W \\<approx>\\<^bsub>d\\<^esub> W' \\<and> m2 =\\<^bsub>d\\<^esub> m2'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma USdBtrans: \"trans (\\<approx>\\<^bsub>d\\<^esub>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans (\\<approx>\\<^bsub>d\\<^esub>)", "proof (simp add: trans_def, auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> y;\n        y \\<approx>\\<^bsub>d\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> x \\<approx>\\<^bsub>d\\<^esub> z", "fix V V' V''"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> y;\n        y \\<approx>\\<^bsub>d\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> x \\<approx>\\<^bsub>d\\<^esub> z", "assume p1: \"V \\<approx>\\<^bsub>d\\<^esub> V'\""], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> y;\n        y \\<approx>\\<^bsub>d\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> x \\<approx>\\<^bsub>d\\<^esub> z", "assume p2: \"V' \\<approx>\\<^bsub>d\\<^esub> V''\""], ["proof (state)\nthis:\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> y;\n        y \\<approx>\\<^bsub>d\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> x \\<approx>\\<^bsub>d\\<^esub> z", "let ?R = \"{(V,V''). \\<exists>V'. V \\<approx>\\<^bsub>d\\<^esub> V' \\<and> V' \\<approx>\\<^bsub>d\\<^esub> V''}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> y;\n        y \\<approx>\\<^bsub>d\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> x \\<approx>\\<^bsub>d\\<^esub> z", "from p1 p2"], ["proof (chain)\npicking this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  V' \\<approx>\\<^bsub>d\\<^esub> V''", "have inRest: \"(V,V'') \\<in> ?R\""], ["proof (prove)\nusing this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n\ngoal (1 subgoal):\n 1. (V, V'')\n    \\<in> {(V, V'').\n           \\<exists>V'.\n              V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n              V' \\<approx>\\<^bsub>d\\<^esub> V''}", "by auto"], ["proof (state)\nthis:\n  (V, V'')\n  \\<in> {(V, V'').\n         \\<exists>V'.\n            V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n            V' \\<approx>\\<^bsub>d\\<^esub> V''}\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> y;\n        y \\<approx>\\<^bsub>d\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> x \\<approx>\\<^bsub>d\\<^esub> z", "have SdB_rest: \"Strong_d_Bisimulation d ?R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Strong_d_Bisimulation d\n     {(V, V'').\n      \\<exists>V'.\n         V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n         V' \\<approx>\\<^bsub>d\\<^esub> V''}", "proof (simp add: Strong_d_Bisimulation_def sym_def, auto)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y V'.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>V'.\n                            y \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                            V' \\<approx>\\<^bsub>d\\<^esub> x\n 2. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 3. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "fix V V' V''"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y V'.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>V'.\n                            y \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                            V' \\<approx>\\<^bsub>d\\<^esub> x\n 2. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 3. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume p1: \"V \\<approx>\\<^bsub>d\\<^esub> V'\""], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal (3 subgoals):\n 1. \\<And>x y V'.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>V'.\n                            y \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                            V' \\<approx>\\<^bsub>d\\<^esub> x\n 2. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 3. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "moreover"], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal (3 subgoals):\n 1. \\<And>x y V'.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>V'.\n                            y \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                            V' \\<approx>\\<^bsub>d\\<^esub> x\n 2. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 3. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume p2: \"V' \\<approx>\\<^bsub>d\\<^esub> V''\""], ["proof (state)\nthis:\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n\ngoal (3 subgoals):\n 1. \\<And>x y V'.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>V'.\n                            y \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                            V' \\<approx>\\<^bsub>d\\<^esub> x\n 2. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 3. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "moreover"], ["proof (state)\nthis:\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n\ngoal (3 subgoals):\n 1. \\<And>x y V'.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>V'.\n                            y \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                            V' \\<approx>\\<^bsub>d\\<^esub> x\n 2. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 3. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from p1 USdBsym"], ["proof (chain)\npicking this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  sym (\\<approx>\\<^bsub>?d\\<^esub>)", "have \"V' \\<approx>\\<^bsub>d\\<^esub> V\""], ["proof (prove)\nusing this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  sym (\\<approx>\\<^bsub>?d\\<^esub>)\n\ngoal (1 subgoal):\n 1. V' \\<approx>\\<^bsub>d\\<^esub> V", "by (simp add: sym_def)"], ["proof (state)\nthis:\n  V' \\<approx>\\<^bsub>d\\<^esub> V\n\ngoal (3 subgoals):\n 1. \\<And>x y V'.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>V'.\n                            y \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                            V' \\<approx>\\<^bsub>d\\<^esub> x\n 2. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 3. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "moreover"], ["proof (state)\nthis:\n  V' \\<approx>\\<^bsub>d\\<^esub> V\n\ngoal (3 subgoals):\n 1. \\<And>x y V'.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>V'.\n                            y \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                            V' \\<approx>\\<^bsub>d\\<^esub> x\n 2. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 3. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from p2 USdBsym"], ["proof (chain)\npicking this:\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n  sym (\\<approx>\\<^bsub>?d\\<^esub>)", "have \"V'' \\<approx>\\<^bsub>d\\<^esub> V'\""], ["proof (prove)\nusing this:\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n  sym (\\<approx>\\<^bsub>?d\\<^esub>)\n\ngoal (1 subgoal):\n 1. V'' \\<approx>\\<^bsub>d\\<^esub> V'", "by (simp add: sym_def)"], ["proof (state)\nthis:\n  V'' \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal (3 subgoals):\n 1. \\<And>x y V'.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> y\\<rbrakk>\n       \\<Longrightarrow> \\<exists>V'.\n                            y \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                            V' \\<approx>\\<^bsub>d\\<^esub> x\n 2. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 3. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "ultimately"], ["proof (chain)\npicking this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n  V' \\<approx>\\<^bsub>d\\<^esub> V\n  V'' \\<approx>\\<^bsub>d\\<^esub> V'", "show  \n        \"\\<exists>V'. V'' \\<approx>\\<^bsub>d\\<^esub> V' \\<and> V' \\<approx>\\<^bsub>d\\<^esub> V\""], ["proof (prove)\nusing this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n  V' \\<approx>\\<^bsub>d\\<^esub> V\n  V'' \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal (1 subgoal):\n 1. \\<exists>V'.\n       V'' \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n       V' \\<approx>\\<^bsub>d\\<^esub> V", "by (rule_tac x=\"V'\" in exI, auto)"], ["proof (state)\nthis:\n  \\<exists>V'.\n     V'' \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n     V' \\<approx>\\<^bsub>d\\<^esub> V\n\ngoal (2 subgoals):\n 1. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 2. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 2. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "fix V V' V''"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 2. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume p1: \"V \\<approx>\\<^bsub>d\\<^esub> V'\""], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal (2 subgoals):\n 1. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 2. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "moreover"], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal (2 subgoals):\n 1. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 2. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume p2: \"V' \\<approx>\\<^bsub>d\\<^esub> V''\""], ["proof (state)\nthis:\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n\ngoal (2 subgoals):\n 1. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 2. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "moreover"], ["proof (state)\nthis:\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n\ngoal (2 subgoals):\n 1. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 2. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from p1 USdBeqlen[of \"V\" \"V'\"]"], ["proof (chain)\npicking this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  V \\<approx>\\<^bsub>?d\\<^esub> V' \\<Longrightarrow> length V = length V'", "have \"length V = length V'\""], ["proof (prove)\nusing this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  V \\<approx>\\<^bsub>?d\\<^esub> V' \\<Longrightarrow> length V = length V'\n\ngoal (1 subgoal):\n 1. length V = length V'", "by auto"], ["proof (state)\nthis:\n  length V = length V'\n\ngoal (2 subgoals):\n 1. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 2. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "moreover"], ["proof (state)\nthis:\n  length V = length V'\n\ngoal (2 subgoals):\n 1. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 2. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from p2 USdBeqlen[of \"V'\" \"V''\"]"], ["proof (chain)\npicking this:\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n  V' \\<approx>\\<^bsub>?d\\<^esub> V'' \\<Longrightarrow>\n  length V' = length V''", "have \"length V' = length V''\""], ["proof (prove)\nusing this:\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n  V' \\<approx>\\<^bsub>?d\\<^esub> V'' \\<Longrightarrow>\n  length V' = length V''\n\ngoal (1 subgoal):\n 1. length V' = length V''", "by auto"], ["proof (state)\nthis:\n  length V' = length V''\n\ngoal (2 subgoals):\n 1. \\<And>a b V'.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b\\<rbrakk>\n       \\<Longrightarrow> length a = length b\n 2. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "ultimately"], ["proof (chain)\npicking this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n  length V = length V'\n  length V' = length V''", "show eqlen: \"length V = length V''\""], ["proof (prove)\nusing this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n  length V = length V'\n  length V' = length V''\n\ngoal (1 subgoal):\n 1. length V = length V''", "by auto"], ["proof (state)\nthis:\n  length V = length V''\n\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "fix V V' V'' i m1 m1' W m2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume step: \"\\<langle>V!i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\""], ["proof (state)\nthis:\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume dequal: \"m1 =\\<^bsub>d\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 =\\<^bsub>d\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume p1: \"V \\<approx>\\<^bsub>d\\<^esub> V'\""], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume p2: \"V' \\<approx>\\<^bsub>d\\<^esub> V''\""], ["proof (state)\nthis:\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume irange: \"i < length V\""], ["proof (state)\nthis:\n  i < length V\n\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from p1 USdBeqlen[of \"V\" \"V'\"]"], ["proof (chain)\npicking this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  V \\<approx>\\<^bsub>?d\\<^esub> V' \\<Longrightarrow> length V = length V'", "have leq: \"length V = length V'\""], ["proof (prove)\nusing this:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  V \\<approx>\\<^bsub>?d\\<^esub> V' \\<Longrightarrow> length V = length V'\n\ngoal (1 subgoal):\n 1. length V = length V'", "by force"], ["proof (state)\nthis:\n  length V = length V'\n\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "have deq_same: \"m1' =\\<^bsub>d\\<^esub> m1'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. m1' =\\<^bsub>d\\<^esub> m1'", "by (simp add: d_equal_def)"], ["proof (state)\nthis:\n  m1' =\\<^bsub>d\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from irange step dequal p1 USdB_Strong_d_Bisimulation \n          strongdB_aux[of \"d\" \"\\<approx>\\<^bsub>d\\<^esub>\" \"i\" \"V\" \"V'\" \"m1\" \"W\" \"m2\" \"m1'\"]"], ["proof (chain)\npicking this:\n  i < length V\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\n  m1 =\\<^bsub>d\\<^esub> m1'\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  Strong_d_Bisimulation ?d (\\<approx>\\<^bsub>?d\\<^esub>)\n  \\<lbrakk>Strong_d_Bisimulation d (\\<approx>\\<^bsub>d\\<^esub>);\n   i < length V; V \\<approx>\\<^bsub>d\\<^esub> V';\n   \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n   m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W' m2'.\n                       \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W',m2'\\<rangle> \\<and>\n                       W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                       m2 =\\<^bsub>d\\<^esub> m2'", "obtain W' m2' where p1concl: \n          \"\\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and> W \\<approx>\\<^bsub>d\\<^esub> W' \\<and> m2 =\\<^bsub>d\\<^esub> m2'\""], ["proof (prove)\nusing this:\n  i < length V\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\n  m1 =\\<^bsub>d\\<^esub> m1'\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  Strong_d_Bisimulation ?d (\\<approx>\\<^bsub>?d\\<^esub>)\n  \\<lbrakk>Strong_d_Bisimulation d (\\<approx>\\<^bsub>d\\<^esub>);\n   i < length V; V \\<approx>\\<^bsub>d\\<^esub> V';\n   \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n   m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W' m2'.\n                       \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W',m2'\\<rangle> \\<and>\n                       W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                       m2 =\\<^bsub>d\\<^esub> m2'\n\ngoal (1 subgoal):\n 1. (\\<And>W' m2'.\n        \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n        \\<langle>W',m2'\\<rangle> \\<and>\n        W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n        m2 =\\<^bsub>d\\<^esub> m2' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and>\n  W \\<approx>\\<^bsub>d\\<^esub> W' \\<and> m2 =\\<^bsub>d\\<^esub> m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "with deq_same leq USdB_Strong_d_Bisimulation\n          strongdB_aux[of \"d\" \"\\<approx>\\<^bsub>d\\<^esub>\" \"i\" \"V'\" \"V''\" \"m1'\" \"W'\" \"m2'\" \"m1'\"]\n          irange p2 dequal"], ["proof (chain)\npicking this:\n  m1' =\\<^bsub>d\\<^esub> m1'\n  length V = length V'\n  Strong_d_Bisimulation ?d (\\<approx>\\<^bsub>?d\\<^esub>)\n  \\<lbrakk>Strong_d_Bisimulation d (\\<approx>\\<^bsub>d\\<^esub>);\n   i < length V'; V' \\<approx>\\<^bsub>d\\<^esub> V'';\n   \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle>;\n   m1' =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W'a m2'a.\n                       \\<langle>V'' ! i,m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W'a,m2'a\\<rangle> \\<and>\n                       W' \\<approx>\\<^bsub>d\\<^esub> W'a \\<and>\n                       m2' =\\<^bsub>d\\<^esub> m2'a\n  i < length V\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n  m1 =\\<^bsub>d\\<^esub> m1'\n  \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and>\n  W \\<approx>\\<^bsub>d\\<^esub> W' \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "obtain W'' m2'' where p2concl:\n          \"W' \\<approx>\\<^bsub>d\\<^esub> W'' \\<and> \\<langle>V''!i,m1'\\<rangle> \\<rightarrow> \\<langle>W'',m2''\\<rangle> \\<and> m2' =\\<^bsub>d\\<^esub> m2''\""], ["proof (prove)\nusing this:\n  m1' =\\<^bsub>d\\<^esub> m1'\n  length V = length V'\n  Strong_d_Bisimulation ?d (\\<approx>\\<^bsub>?d\\<^esub>)\n  \\<lbrakk>Strong_d_Bisimulation d (\\<approx>\\<^bsub>d\\<^esub>);\n   i < length V'; V' \\<approx>\\<^bsub>d\\<^esub> V'';\n   \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle>;\n   m1' =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W'a m2'a.\n                       \\<langle>V'' ! i,m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W'a,m2'a\\<rangle> \\<and>\n                       W' \\<approx>\\<^bsub>d\\<^esub> W'a \\<and>\n                       m2' =\\<^bsub>d\\<^esub> m2'a\n  i < length V\n  V' \\<approx>\\<^bsub>d\\<^esub> V''\n  m1 =\\<^bsub>d\\<^esub> m1'\n  \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and>\n  W \\<approx>\\<^bsub>d\\<^esub> W' \\<and> m2 =\\<^bsub>d\\<^esub> m2'\n\ngoal (1 subgoal):\n 1. (\\<And>W'' m2''.\n        W' \\<approx>\\<^bsub>d\\<^esub> W'' \\<and>\n        \\<langle>V'' ! i,m1'\\<rangle> \\<rightarrow>\n        \\<langle>W'',m2''\\<rangle> \\<and>\n        m2' =\\<^bsub>d\\<^esub> m2'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  W' \\<approx>\\<^bsub>d\\<^esub> W'' \\<and>\n  \\<langle>V'' ! i,m1'\\<rangle> \\<rightarrow>\n  \\<langle>W'',m2''\\<rangle> \\<and> m2' =\\<^bsub>d\\<^esub> m2''\n\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from p1concl p2concl d_equal_trans"], ["proof (chain)\npicking this:\n  \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and>\n  W \\<approx>\\<^bsub>d\\<^esub> W' \\<and> m2 =\\<^bsub>d\\<^esub> m2'\n  W' \\<approx>\\<^bsub>d\\<^esub> W'' \\<and>\n  \\<langle>V'' ! i,m1'\\<rangle> \\<rightarrow>\n  \\<langle>W'',m2''\\<rangle> \\<and> m2' =\\<^bsub>d\\<^esub> m2''\n  \\<lbrakk>?m =\\<^bsub>?d\\<^esub> ?m'; ?m' =\\<^bsub>?d\\<^esub> ?m''\\<rbrakk>\n  \\<Longrightarrow> ?m =\\<^bsub>?d\\<^esub> ?m''", "have tt'': \"m2 =\\<^bsub>d\\<^esub> m2''\""], ["proof (prove)\nusing this:\n  \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and>\n  W \\<approx>\\<^bsub>d\\<^esub> W' \\<and> m2 =\\<^bsub>d\\<^esub> m2'\n  W' \\<approx>\\<^bsub>d\\<^esub> W'' \\<and>\n  \\<langle>V'' ! i,m1'\\<rangle> \\<rightarrow>\n  \\<langle>W'',m2''\\<rangle> \\<and> m2' =\\<^bsub>d\\<^esub> m2''\n  \\<lbrakk>?m =\\<^bsub>?d\\<^esub> ?m'; ?m' =\\<^bsub>?d\\<^esub> ?m''\\<rbrakk>\n  \\<Longrightarrow> ?m =\\<^bsub>?d\\<^esub> ?m''\n\ngoal (1 subgoal):\n 1. m2 =\\<^bsub>d\\<^esub> m2''", "by blast"], ["proof (state)\nthis:\n  m2 =\\<^bsub>d\\<^esub> m2''\n\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from p1concl p2concl"], ["proof (chain)\npicking this:\n  \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and>\n  W \\<approx>\\<^bsub>d\\<^esub> W' \\<and> m2 =\\<^bsub>d\\<^esub> m2'\n  W' \\<approx>\\<^bsub>d\\<^esub> W'' \\<and>\n  \\<langle>V'' ! i,m1'\\<rangle> \\<rightarrow>\n  \\<langle>W'',m2''\\<rangle> \\<and> m2' =\\<^bsub>d\\<^esub> m2''", "have \"(W,W'') \\<in> ?R\""], ["proof (prove)\nusing this:\n  \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and>\n  W \\<approx>\\<^bsub>d\\<^esub> W' \\<and> m2 =\\<^bsub>d\\<^esub> m2'\n  W' \\<approx>\\<^bsub>d\\<^esub> W'' \\<and>\n  \\<langle>V'' ! i,m1'\\<rangle> \\<rightarrow>\n  \\<langle>W'',m2''\\<rangle> \\<and> m2' =\\<^bsub>d\\<^esub> m2''\n\ngoal (1 subgoal):\n 1. (W, W'')\n    \\<in> {(V, V'').\n           \\<exists>V'.\n              V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n              V' \\<approx>\\<^bsub>d\\<^esub> V''}", "by auto"], ["proof (state)\nthis:\n  (W, W'')\n  \\<in> {(V, V'').\n         \\<exists>V'.\n            V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n            V' \\<approx>\\<^bsub>d\\<^esub> V''}\n\ngoal (1 subgoal):\n 1. \\<And>a b V' i m1 m1' m2 W.\n       \\<lbrakk>a \\<approx>\\<^bsub>d\\<^esub> V';\n        V' \\<approx>\\<^bsub>d\\<^esub> b; i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>b ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (\\<exists>V'.\n                                W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n                                V' \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "with p2concl tt''"], ["proof (chain)\npicking this:\n  W' \\<approx>\\<^bsub>d\\<^esub> W'' \\<and>\n  \\<langle>V'' ! i,m1'\\<rangle> \\<rightarrow>\n  \\<langle>W'',m2''\\<rangle> \\<and> m2' =\\<^bsub>d\\<^esub> m2''\n  m2 =\\<^bsub>d\\<^esub> m2''\n  (W, W'')\n  \\<in> {(V, V'').\n         \\<exists>V'.\n            V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n            V' \\<approx>\\<^bsub>d\\<^esub> V''}", "show \"\\<exists>W'' m2''. \\<langle>V''!i,m1'\\<rangle> \\<rightarrow> \\<langle>W'',m2''\\<rangle> \\<and> \n          (\\<exists>V'. W \\<approx>\\<^bsub>d\\<^esub> V' \\<and> V' \\<approx>\\<^bsub>d\\<^esub> W'') \\<and> m2 =\\<^bsub>d\\<^esub> m2''\""], ["proof (prove)\nusing this:\n  W' \\<approx>\\<^bsub>d\\<^esub> W'' \\<and>\n  \\<langle>V'' ! i,m1'\\<rangle> \\<rightarrow>\n  \\<langle>W'',m2''\\<rangle> \\<and> m2' =\\<^bsub>d\\<^esub> m2''\n  m2 =\\<^bsub>d\\<^esub> m2''\n  (W, W'')\n  \\<in> {(V, V'').\n         \\<exists>V'.\n            V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n            V' \\<approx>\\<^bsub>d\\<^esub> V''}\n\ngoal (1 subgoal):\n 1. \\<exists>W'' m2''.\n       \\<langle>V'' ! i,m1'\\<rangle> \\<rightarrow>\n       \\<langle>W'',m2''\\<rangle> \\<and>\n       (\\<exists>V'.\n           W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n           V' \\<approx>\\<^bsub>d\\<^esub> W'') \\<and>\n       m2 =\\<^bsub>d\\<^esub> m2''", "by auto"], ["proof (state)\nthis:\n  \\<exists>W'' m2''.\n     \\<langle>V'' ! i,m1'\\<rangle> \\<rightarrow>\n     \\<langle>W'',m2''\\<rangle> \\<and>\n     (\\<exists>V'.\n         W \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n         V' \\<approx>\\<^bsub>d\\<^esub> W'') \\<and>\n     m2 =\\<^bsub>d\\<^esub> m2''\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Strong_d_Bisimulation d\n   {(V, V'').\n    \\<exists>V'.\n       V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n       V' \\<approx>\\<^bsub>d\\<^esub> V''}\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> y;\n        y \\<approx>\\<^bsub>d\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> x \\<approx>\\<^bsub>d\\<^esub> z", "hence liftup: \"?R \\<subseteq> (\\<approx>\\<^bsub>d\\<^esub>)\""], ["proof (prove)\nusing this:\n  Strong_d_Bisimulation d\n   {(V, V'').\n    \\<exists>V'.\n       V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n       V' \\<approx>\\<^bsub>d\\<^esub> V''}\n\ngoal (1 subgoal):\n 1. {(V, V'').\n     \\<exists>V'.\n        V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n        V' \\<approx>\\<^bsub>d\\<^esub> V''}\n    \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "by (simp add: USdB_def, auto)"], ["proof (state)\nthis:\n  {(V, V'').\n   \\<exists>V'.\n      V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n      V' \\<approx>\\<^bsub>d\\<^esub> V''}\n  \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<approx>\\<^bsub>d\\<^esub> y;\n        y \\<approx>\\<^bsub>d\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> x \\<approx>\\<^bsub>d\\<^esub> z", "with inRest"], ["proof (chain)\npicking this:\n  (V, V'')\n  \\<in> {(V, V'').\n         \\<exists>V'.\n            V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n            V' \\<approx>\\<^bsub>d\\<^esub> V''}\n  {(V, V'').\n   \\<exists>V'.\n      V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n      V' \\<approx>\\<^bsub>d\\<^esub> V''}\n  \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "show \"V \\<approx>\\<^bsub>d\\<^esub> V''\""], ["proof (prove)\nusing this:\n  (V, V'')\n  \\<in> {(V, V'').\n         \\<exists>V'.\n            V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n            V' \\<approx>\\<^bsub>d\\<^esub> V''}\n  {(V, V'').\n   \\<exists>V'.\n      V \\<approx>\\<^bsub>d\\<^esub> V' \\<and>\n      V' \\<approx>\\<^bsub>d\\<^esub> V''}\n  \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\n\ngoal (1 subgoal):\n 1. V \\<approx>\\<^bsub>d\\<^esub> V''", "by auto"], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V''\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}