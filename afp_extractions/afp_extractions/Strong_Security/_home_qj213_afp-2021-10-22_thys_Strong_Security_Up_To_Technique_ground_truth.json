{"file_name": "/home/qj213/afp-2021-10-22/thys/Strong_Security/Up_To_Technique.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Strong_Security", "problem_names": ["lemma UpTo_aux: \"\\<And>V V' m1 m1' m2 W i. \\<lbrakk> d_Bisimulation_Up_To_USdB d R;\n  i < length V; (V,V') \\<in> R; \\<langle>V!i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>; m1 =\\<^bsub>d\\<^esub> m1' \\<rbrakk>\n  \\<Longrightarrow> (\\<exists>W' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \n  \\<and> (W,W') \\<in> (R \\<union> (\\<approx>\\<^bsub>d\\<^esub>)) \\<and> (m2 =\\<^bsub>d\\<^esub> m2'))\"", "lemma RuUSdBeqlen: \n\"\\<lbrakk> d_Bisimulation_Up_To_USdB d R; \n  (V,V') \\<in> (R \\<union> (\\<approx>\\<^bsub>d\\<^esub>)) \\<rbrakk>\n  \\<Longrightarrow> length V = length V'\"", "lemma Up_To_Technique: \n  assumes upToR: \"d_Bisimulation_Up_To_USdB d R\"\n  shows \"R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\""], "translations": [["", "lemma UpTo_aux: \"\\<And>V V' m1 m1' m2 W i. \\<lbrakk> d_Bisimulation_Up_To_USdB d R;\n  i < length V; (V,V') \\<in> R; \\<langle>V!i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>; m1 =\\<^bsub>d\\<^esub> m1' \\<rbrakk>\n  \\<Longrightarrow> (\\<exists>W' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \n  \\<and> (W,W') \\<in> (R \\<union> (\\<approx>\\<^bsub>d\\<^esub>)) \\<and> (m2 =\\<^bsub>d\\<^esub> m2'))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>V V' m1 m1' m2 W i.\n       \\<lbrakk>d_Bisimulation_Up_To_USdB d R; i < length V;\n        (V, V') \\<in> R;\n        \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W')\n                            \\<in> R \\<union>\n                                  (\\<approx>\\<^bsub>d\\<^esub>) \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "by (simp add: d_Bisimulation_Up_To_USdB_def, fastforce)"], ["", "lemma RuUSdBeqlen: \n\"\\<lbrakk> d_Bisimulation_Up_To_USdB d R; \n  (V,V') \\<in> (R \\<union> (\\<approx>\\<^bsub>d\\<^esub>)) \\<rbrakk>\n  \\<Longrightarrow> length V = length V'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>d_Bisimulation_Up_To_USdB d R;\n     (V, V') \\<in> R \\<union> (\\<approx>\\<^bsub>d\\<^esub>)\\<rbrakk>\n    \\<Longrightarrow> length V = length V'", "by (auto, simp add: d_Bisimulation_Up_To_USdB_def, auto, \n  rule USdBeqlen, auto)"], ["", "lemma Up_To_Technique: \n  assumes upToR: \"d_Bisimulation_Up_To_USdB d R\"\n  shows \"R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "define S where \"S = R \\<union> (\\<approx>\\<^bsub>d\\<^esub>)\""], ["proof (state)\nthis:\n  S = R \\<union> (\\<approx>\\<^bsub>d\\<^esub>)\n\ngoal (1 subgoal):\n 1. R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "from S_def"], ["proof (chain)\npicking this:\n  S = R \\<union> (\\<approx>\\<^bsub>d\\<^esub>)", "have \"R \\<subseteq> S\""], ["proof (prove)\nusing this:\n  S = R \\<union> (\\<approx>\\<^bsub>d\\<^esub>)\n\ngoal (1 subgoal):\n 1. R \\<subseteq> S", "by auto"], ["proof (state)\nthis:\n  R \\<subseteq> S\n\ngoal (1 subgoal):\n 1. R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "moreover"], ["proof (state)\nthis:\n  R \\<subseteq> S\n\ngoal (1 subgoal):\n 1. R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "have \"S \\<subseteq> (\\<approx>\\<^bsub>d\\<^esub>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "proof (simp add: USdB_def, auto, rule_tac x=\"S\" in exI, auto,\n      simp add: Strong_d_Bisimulation_def, auto)\n      \\<comment> \\<open>show symmetry\\<close>"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> S \\<Longrightarrow> sym S\n 2. \\<And>a b aa ba.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S\\<rbrakk>\n       \\<Longrightarrow> length aa = length ba\n 3. \\<And>a b aa ba i m1 m1' m2 W.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S; i < length aa;\n        \\<langle>aa ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>ba ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "show symS: \"sym S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym S", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. sym S", "from upToR"], ["proof (chain)\npicking this:\n  d_Bisimulation_Up_To_USdB d R", "have Rsym: \"sym R\""], ["proof (prove)\nusing this:\n  d_Bisimulation_Up_To_USdB d R\n\ngoal (1 subgoal):\n 1. sym R", "by (simp add: d_Bisimulation_Up_To_USdB_def)"], ["proof (state)\nthis:\n  sym R\n\ngoal (1 subgoal):\n 1. sym S", "with USdBsym"], ["proof (chain)\npicking this:\n  sym (\\<approx>\\<^bsub>?d\\<^esub>)\n  sym R", "have Usym: \n        \"sym (R \\<union> (\\<approx>\\<^bsub>d\\<^esub>))\""], ["proof (prove)\nusing this:\n  sym (\\<approx>\\<^bsub>?d\\<^esub>)\n  sym R\n\ngoal (1 subgoal):\n 1. sym (R \\<union> (\\<approx>\\<^bsub>d\\<^esub>))", "by (metis sym_Un)"], ["proof (state)\nthis:\n  sym (R \\<union> (\\<approx>\\<^bsub>d\\<^esub>))\n\ngoal (1 subgoal):\n 1. sym S", "with S_def"], ["proof (chain)\npicking this:\n  S = R \\<union> (\\<approx>\\<^bsub>d\\<^esub>)\n  sym (R \\<union> (\\<approx>\\<^bsub>d\\<^esub>))", "show ?thesis"], ["proof (prove)\nusing this:\n  S = R \\<union> (\\<approx>\\<^bsub>d\\<^esub>)\n  sym (R \\<union> (\\<approx>\\<^bsub>d\\<^esub>))\n\ngoal (1 subgoal):\n 1. sym S", "by simp"], ["proof (state)\nthis:\n  sym S\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  sym S\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S\\<rbrakk>\n       \\<Longrightarrow> length aa = length ba\n 2. \\<And>a b aa ba i m1 m1' m2 W.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S; i < length aa;\n        \\<langle>aa ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>ba ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S\\<rbrakk>\n       \\<Longrightarrow> length aa = length ba\n 2. \\<And>a b aa ba i m1 m1' m2 W.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S; i < length aa;\n        \\<langle>aa ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>ba ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "fix V V'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S\\<rbrakk>\n       \\<Longrightarrow> length aa = length ba\n 2. \\<And>a b aa ba i m1 m1' m2 W.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S; i < length aa;\n        \\<langle>aa ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>ba ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "assume inS: \"(V,V') \\<in> S\" \n      \\<comment> \\<open>show equal length (by definition)\\<close>"], ["proof (state)\nthis:\n  (V, V') \\<in> S\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S\\<rbrakk>\n       \\<Longrightarrow> length aa = length ba\n 2. \\<And>a b aa ba i m1 m1' m2 W.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S; i < length aa;\n        \\<langle>aa ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>ba ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "from inS S_def upToR RuUSdBeqlen"], ["proof (chain)\npicking this:\n  (V, V') \\<in> S\n  S = R \\<union> (\\<approx>\\<^bsub>d\\<^esub>)\n  d_Bisimulation_Up_To_USdB d R\n  \\<lbrakk>d_Bisimulation_Up_To_USdB ?d ?R;\n   (?V, ?V') \\<in> ?R \\<union> (\\<approx>\\<^bsub>?d\\<^esub>)\\<rbrakk>\n  \\<Longrightarrow> length ?V = length ?V'", "show eqlen: \"length V = length V'\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> S\n  S = R \\<union> (\\<approx>\\<^bsub>d\\<^esub>)\n  d_Bisimulation_Up_To_USdB d R\n  \\<lbrakk>d_Bisimulation_Up_To_USdB ?d ?R;\n   (?V, ?V') \\<in> ?R \\<union> (\\<approx>\\<^bsub>?d\\<^esub>)\\<rbrakk>\n  \\<Longrightarrow> length ?V = length ?V'\n\ngoal (1 subgoal):\n 1. length V = length V'", "by simp"], ["proof (state)\nthis:\n  length V = length V'\n\ngoal (1 subgoal):\n 1. \\<And>a b aa ba i m1 m1' m2 W.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S; i < length aa;\n        \\<langle>aa ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>ba ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "next\n      \\<comment> \\<open>show general bisimulation property\\<close>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba i m1 m1' m2 W.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S; i < length aa;\n        \\<langle>aa ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>ba ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "fix V V' W m1 m1' m2 i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b aa ba i m1 m1' m2 W.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S; i < length aa;\n        \\<langle>aa ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>ba ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "assume inS: \"(V,V') \\<in> S\""], ["proof (state)\nthis:\n  (V, V') \\<in> S\n\ngoal (1 subgoal):\n 1. \\<And>a b aa ba i m1 m1' m2 W.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S; i < length aa;\n        \\<langle>aa ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>ba ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "assume irange: \"i < length V\""], ["proof (state)\nthis:\n  i < length V\n\ngoal (1 subgoal):\n 1. \\<And>a b aa ba i m1 m1' m2 W.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S; i < length aa;\n        \\<langle>aa ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>ba ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "assume stepV: \"\\<langle>V!i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\""], ["proof (state)\nthis:\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a b aa ba i m1 m1' m2 W.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S; i < length aa;\n        \\<langle>aa ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>ba ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "assume dequal: \"m1 =\\<^bsub>d\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 =\\<^bsub>d\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b aa ba i m1 m1' m2 W.\n       \\<lbrakk>(a, b) \\<in> S; (aa, ba) \\<in> S; i < length aa;\n        \\<langle>aa ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            \\<langle>ba ! i,m1'\\<rangle> \\<rightarrow>\n                            \\<langle>W',m2'\\<rangle> \\<and>\n                            (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "from inS"], ["proof (chain)\npicking this:\n  (V, V') \\<in> S", "show \"\\<exists>W' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and>\n      (W,W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> S\n\ngoal (1 subgoal):\n 1. \\<exists>W' m2'.\n       \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n       \\<langle>W',m2'\\<rangle> \\<and>\n       (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'", "proof (simp add: S_def, auto)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>(V, V') \\<in> S; (V, V') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>W' m2'.\n                         \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                         \\<langle>W',m2'\\<rangle> \\<and>\n                         ((W, W') \\<in> R \\<or>\n                          W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                         m2 =\\<^bsub>d\\<^esub> m2'\n 2. \\<lbrakk>(V, V') \\<in> S; V \\<approx>\\<^bsub>d\\<^esub> V'\\<rbrakk>\n    \\<Longrightarrow> \\<exists>W' m2'.\n                         \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                         \\<langle>W',m2'\\<rangle> \\<and>\n                         ((W, W') \\<in> R \\<or>\n                          W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                         m2 =\\<^bsub>d\\<^esub> m2'", "assume firstcase: \"(V,V') \\<in> R\""], ["proof (state)\nthis:\n  (V, V') \\<in> R\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(V, V') \\<in> S; (V, V') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> \\<exists>W' m2'.\n                         \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                         \\<langle>W',m2'\\<rangle> \\<and>\n                         ((W, W') \\<in> R \\<or>\n                          W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                         m2 =\\<^bsub>d\\<^esub> m2'\n 2. \\<lbrakk>(V, V') \\<in> S; V \\<approx>\\<^bsub>d\\<^esub> V'\\<rbrakk>\n    \\<Longrightarrow> \\<exists>W' m2'.\n                         \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                         \\<langle>W',m2'\\<rangle> \\<and>\n                         ((W, W') \\<in> R \\<or>\n                          W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                         m2 =\\<^bsub>d\\<^esub> m2'", "with upToR dequal irange stepV\n        UpTo_aux[of \"d\" \"R\" \"i\" \"V\" \"V'\" \"m1\" \"W\" \"m2\" \"m1'\"]"], ["proof (chain)\npicking this:\n  d_Bisimulation_Up_To_USdB d R\n  m1 =\\<^bsub>d\\<^esub> m1'\n  i < length V\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\n  \\<lbrakk>d_Bisimulation_Up_To_USdB d R; i < length V; (V, V') \\<in> R;\n   \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n   m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W' m2'.\n                       \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W',m2'\\<rangle> \\<and>\n                       (W, W')\n                       \\<in> R \\<union> (\\<approx>\\<^bsub>d\\<^esub>) \\<and>\n                       m2 =\\<^bsub>d\\<^esub> m2'\n  (V, V') \\<in> R", "show \"\\<exists>W' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and>\n        ((W,W') \\<in> R \\<or> W \\<approx>\\<^bsub>d\\<^esub> W') \\<and> m2 =\\<^bsub>d\\<^esub> m2'\""], ["proof (prove)\nusing this:\n  d_Bisimulation_Up_To_USdB d R\n  m1 =\\<^bsub>d\\<^esub> m1'\n  i < length V\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\n  \\<lbrakk>d_Bisimulation_Up_To_USdB d R; i < length V; (V, V') \\<in> R;\n   \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n   m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W' m2'.\n                       \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W',m2'\\<rangle> \\<and>\n                       (W, W')\n                       \\<in> R \\<union> (\\<approx>\\<^bsub>d\\<^esub>) \\<and>\n                       m2 =\\<^bsub>d\\<^esub> m2'\n  (V, V') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<exists>W' m2'.\n       \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n       \\<langle>W',m2'\\<rangle> \\<and>\n       ((W, W') \\<in> R \\<or> W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n       m2 =\\<^bsub>d\\<^esub> m2'", "by (auto simp add: S_def)"], ["proof (state)\nthis:\n  \\<exists>W' m2'.\n     \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n     \\<langle>W',m2'\\<rangle> \\<and>\n     ((W, W') \\<in> R \\<or> W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n     m2 =\\<^bsub>d\\<^esub> m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(V, V') \\<in> S; V \\<approx>\\<^bsub>d\\<^esub> V'\\<rbrakk>\n    \\<Longrightarrow> \\<exists>W' m2'.\n                         \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                         \\<langle>W',m2'\\<rangle> \\<and>\n                         ((W, W') \\<in> R \\<or>\n                          W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                         m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(V, V') \\<in> S; V \\<approx>\\<^bsub>d\\<^esub> V'\\<rbrakk>\n    \\<Longrightarrow> \\<exists>W' m2'.\n                         \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                         \\<langle>W',m2'\\<rangle> \\<and>\n                         ((W, W') \\<in> R \\<or>\n                          W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                         m2 =\\<^bsub>d\\<^esub> m2'", "assume secondcase: \"V \\<approx>\\<^bsub>d\\<^esub> V'\""], ["proof (state)\nthis:\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(V, V') \\<in> S; V \\<approx>\\<^bsub>d\\<^esub> V'\\<rbrakk>\n    \\<Longrightarrow> \\<exists>W' m2'.\n                         \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                         \\<langle>W',m2'\\<rangle> \\<and>\n                         ((W, W') \\<in> R \\<or>\n                          W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                         m2 =\\<^bsub>d\\<^esub> m2'", "from USdB_Strong_d_Bisimulation upToR \n        secondcase dequal irange stepV\n        strongdB_aux[of \"d\" \"\\<approx>\\<^bsub>d\\<^esub>\" \"i\" \"V\" \"V'\" \"m1\" \"W\" \"m2\" \"m1'\"]"], ["proof (chain)\npicking this:\n  Strong_d_Bisimulation ?d (\\<approx>\\<^bsub>?d\\<^esub>)\n  d_Bisimulation_Up_To_USdB d R\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  m1 =\\<^bsub>d\\<^esub> m1'\n  i < length V\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\n  \\<lbrakk>Strong_d_Bisimulation d (\\<approx>\\<^bsub>d\\<^esub>);\n   i < length V; V \\<approx>\\<^bsub>d\\<^esub> V';\n   \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n   m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W' m2'.\n                       \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W',m2'\\<rangle> \\<and>\n                       W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                       m2 =\\<^bsub>d\\<^esub> m2'", "show \"\\<exists>W' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and>\n        ((W,W') \\<in> R \\<or> W \\<approx>\\<^bsub>d\\<^esub> W') \\<and> m2 =\\<^bsub>d\\<^esub> m2'\""], ["proof (prove)\nusing this:\n  Strong_d_Bisimulation ?d (\\<approx>\\<^bsub>?d\\<^esub>)\n  d_Bisimulation_Up_To_USdB d R\n  V \\<approx>\\<^bsub>d\\<^esub> V'\n  m1 =\\<^bsub>d\\<^esub> m1'\n  i < length V\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\n  \\<lbrakk>Strong_d_Bisimulation d (\\<approx>\\<^bsub>d\\<^esub>);\n   i < length V; V \\<approx>\\<^bsub>d\\<^esub> V';\n   \\<langle>V ! i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>;\n   m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>W' m2'.\n                       \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n                       \\<langle>W',m2'\\<rangle> \\<and>\n                       W \\<approx>\\<^bsub>d\\<^esub> W' \\<and>\n                       m2 =\\<^bsub>d\\<^esub> m2'\n\ngoal (1 subgoal):\n 1. \\<exists>W' m2'.\n       \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n       \\<langle>W',m2'\\<rangle> \\<and>\n       ((W, W') \\<in> R \\<or> W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n       m2 =\\<^bsub>d\\<^esub> m2'", "by auto"], ["proof (state)\nthis:\n  \\<exists>W' m2'.\n     \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n     \\<langle>W',m2'\\<rangle> \\<and>\n     ((W, W') \\<in> R \\<or> W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n     m2 =\\<^bsub>d\\<^esub> m2'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>W' m2'.\n     \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\n     \\<langle>W',m2'\\<rangle> \\<and>\n     (W, W') \\<in> S \\<and> m2 =\\<^bsub>d\\<^esub> m2'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  S \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\n\ngoal (1 subgoal):\n 1. R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "ultimately"], ["proof (chain)\npicking this:\n  R \\<subseteq> S\n  S \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "show ?thesis"], ["proof (prove)\nusing this:\n  R \\<subseteq> S\n  S \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\n\ngoal (1 subgoal):\n 1. R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "by auto"], ["proof (state)\nthis:\n  R \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}