{"file_name": "/home/qj213/afp-2021-10-22/thys/Strong_Security/Strongly_Secure_Skip_Assign.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Strong_Security", "problem_names": ["lemma d_indistinguishable_sym:\n\"e \\<equiv>\\<^bsub>d\\<^esub> e' \\<Longrightarrow> e' \\<equiv>\\<^bsub>d\\<^esub> e\"", "lemma d_indistinguishable_trans:\n\"\\<lbrakk> e \\<equiv>\\<^bsub>d\\<^esub> e'; e' \\<equiv>\\<^bsub>d\\<^esub> e'' \\<rbrakk> \\<Longrightarrow> e \\<equiv>\\<^bsub>d\\<^esub> e''\"", "theorem Strongly_Secure_Skip:\n\"[skip] \\<approx>\\<^bsub>d\\<^esub> [skip]\"", "theorem Strongly_Secure_Assign:\n  assumes d_indistinguishable_exp: \"e \\<equiv>\\<^bsub>DA x\\<^esub> e'\"\n  shows \"[x := e] \\<approx>\\<^bsub>d\\<^esub> [x := e']\""], "translations": [["", "lemma d_indistinguishable_sym:\n\"e \\<equiv>\\<^bsub>d\\<^esub> e' \\<Longrightarrow> e' \\<equiv>\\<^bsub>d\\<^esub> e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e \\<equiv>\\<^bsub>d\\<^esub> e' \\<Longrightarrow>\n    e' \\<equiv>\\<^bsub>d\\<^esub> e", "by (simp add: d_indistinguishable_def d_equal_def, metis)\n\n\\<comment> \\<open>transitivity of d-indistinguishable\\<close>"], ["", "lemma d_indistinguishable_trans:\n\"\\<lbrakk> e \\<equiv>\\<^bsub>d\\<^esub> e'; e' \\<equiv>\\<^bsub>d\\<^esub> e'' \\<rbrakk> \\<Longrightarrow> e \\<equiv>\\<^bsub>d\\<^esub> e''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>e \\<equiv>\\<^bsub>d\\<^esub> e';\n     e' \\<equiv>\\<^bsub>d\\<^esub> e''\\<rbrakk>\n    \\<Longrightarrow> e \\<equiv>\\<^bsub>d\\<^esub> e''", "by (simp add: d_indistinguishable_def d_equal_def, metis)"], ["", "theorem Strongly_Secure_Skip:\n\"[skip] \\<approx>\\<^bsub>d\\<^esub> [skip]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [skip] \\<approx>\\<^bsub>d\\<^esub> [skip]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [skip] \\<approx>\\<^bsub>d\\<^esub> [skip]", "define R0 where \"R0 = {(V::('exp,'id) MWLfCom list,V'::('exp,'id) MWLfCom list). \n    V = [skip] \\<and> V' = [skip]}\""], ["proof (state)\nthis:\n  R0 = {(V, V'). V = [skip] \\<and> V' = [skip]}\n\ngoal (1 subgoal):\n 1. [skip] \\<approx>\\<^bsub>d\\<^esub> [skip]", "have uptoR0: \"d_Bisimulation_Up_To_USdB d R0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d_Bisimulation_Up_To_USdB d R0", "proof (simp add: d_Bisimulation_Up_To_USdB_def, auto)"], ["proof (state)\ngoal (3 subgoals):\n 1. sym R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "show \"sym R0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sym R0", "by (simp add: R0_def sym_def)"], ["proof (state)\nthis:\n  sym R0\n\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "fix V V'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume \"(V,V') \\<in> R0\""], ["proof (state)\nthis:\n  (V, V') \\<in> R0\n\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "thus \"length V = length V'\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R0\n\ngoal (1 subgoal):\n 1. length V = length V'", "by (simp add: R0_def)"], ["proof (state)\nthis:\n  length V = length V'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "fix V V' i m1 m1' W m2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume inR0: \"(V,V') \\<in> R0\""], ["proof (state)\nthis:\n  (V, V') \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume irange: \"i < length V\""], ["proof (state)\nthis:\n  i < length V\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume step: \"\\<langle>V!i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr (V ! i) m1 W m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume dequal: \"m1 =\\<^bsub>d\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 =\\<^bsub>d\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from inR0"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R0", "have Vassump:\n        \"V = [skip] \\<and> V' = [skip]\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R0\n\ngoal (1 subgoal):\n 1. V = [skip] \\<and> V' = [skip]", "by (simp add: R0_def)"], ["proof (state)\nthis:\n  V = [skip] \\<and> V' = [skip]\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "with step irange"], ["proof (chain)\npicking this:\n  SRabbr (V ! i) m1 W m2\n  i < length V\n  V = [skip] \\<and> V' = [skip]", "have step1:\n        \"W = [] \\<and> m2 = m1\""], ["proof (prove)\nusing this:\n  SRabbr (V ! i) m1 W m2\n  i < length V\n  V = [skip] \\<and> V' = [skip]\n\ngoal (1 subgoal):\n 1. W = [] \\<and> m2 = m1", "by (simp, metis MWLf_semantics.MWLfSteps_det_cases(1))"], ["proof (state)\nthis:\n  W = [] \\<and> m2 = m1\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from Vassump irange"], ["proof (chain)\npicking this:\n  V = [skip] \\<and> V' = [skip]\n  i < length V", "obtain m2' where step2:\n        \"\\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>[],m2'\\<rangle> \\<and> m2' = m1'\""], ["proof (prove)\nusing this:\n  V = [skip] \\<and> V' = [skip]\n  i < length V\n\ngoal (1 subgoal):\n 1. (\\<And>m2'.\n        SRabbr (V' ! i) m1' [] m2' \\<and> m2' = m1' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp, metis MWLfSteps_det.skip)"], ["proof (state)\nthis:\n  SRabbr (V' ! i) m1' [] m2' \\<and> m2' = m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "with step1 dequal trivialpair_in_USdB"], ["proof (chain)\npicking this:\n  W = [] \\<and> m2 = m1\n  m1 =\\<^bsub>d\\<^esub> m1'\n  [] \\<approx>\\<^bsub>?d\\<^esub> []\n  SRabbr (V' ! i) m1' [] m2' \\<and> m2' = m1'", "show \"\\<exists>W' m2'.\n        \\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and> \n        ((W,W') \\<in> R0 \\<or> W \\<approx>\\<^bsub>d\\<^esub> W') \\<and> m2 =\\<^bsub>d\\<^esub> m2'\""], ["proof (prove)\nusing this:\n  W = [] \\<and> m2 = m1\n  m1 =\\<^bsub>d\\<^esub> m1'\n  [] \\<approx>\\<^bsub>?d\\<^esub> []\n  SRabbr (V' ! i) m1' [] m2' \\<and> m2' = m1'\n\ngoal (1 subgoal):\n 1. \\<exists>W' m2'.\n       SRabbr (V' ! i) m1' W' m2' \\<and>\n       ((W, W') \\<in> R0 \\<or> W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n       m2 =\\<^bsub>d\\<^esub> m2'", "by auto"], ["proof (state)\nthis:\n  \\<exists>W' m2'.\n     SRabbr (V' ! i) m1' W' m2' \\<and>\n     ((W, W') \\<in> R0 \\<or> W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n     m2 =\\<^bsub>d\\<^esub> m2'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  d_Bisimulation_Up_To_USdB d R0\n\ngoal (1 subgoal):\n 1. [skip] \\<approx>\\<^bsub>d\\<^esub> [skip]", "hence \"R0 \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\""], ["proof (prove)\nusing this:\n  d_Bisimulation_Up_To_USdB d R0\n\ngoal (1 subgoal):\n 1. R0 \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "by (rule Up_To_Technique)"], ["proof (state)\nthis:\n  R0 \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\n\ngoal (1 subgoal):\n 1. [skip] \\<approx>\\<^bsub>d\\<^esub> [skip]", "thus ?thesis"], ["proof (prove)\nusing this:\n  R0 \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\n\ngoal (1 subgoal):\n 1. [skip] \\<approx>\\<^bsub>d\\<^esub> [skip]", "by (simp add: R0_def)"], ["proof (state)\nthis:\n  [skip] \\<approx>\\<^bsub>d\\<^esub> [skip]\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem Strongly_Secure_Assign:\n  assumes d_indistinguishable_exp: \"e \\<equiv>\\<^bsub>DA x\\<^esub> e'\"\n  shows \"[x := e] \\<approx>\\<^bsub>d\\<^esub> [x := e']\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [x:=e] \\<approx>\\<^bsub>d\\<^esub> [x:=e']", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. [x:=e] \\<approx>\\<^bsub>d\\<^esub> [x:=e']", "define R0 where \"R0 = {(V,V'). \\<exists>x e e'. V = [x := e] \\<and> V' = [x := e'] \\<and>\n    e \\<equiv>\\<^bsub>DA x\\<^esub> e'}\""], ["proof (state)\nthis:\n  R0 =\n  {(V, V').\n   \\<exists>x e e'.\n      V = [x:=e] \\<and>\n      V' = [x:=e'] \\<and> e \\<equiv>\\<^bsub>DA x\\<^esub> e'}\n\ngoal (1 subgoal):\n 1. [x:=e] \\<approx>\\<^bsub>d\\<^esub> [x:=e']", "from d_indistinguishable_exp"], ["proof (chain)\npicking this:\n  e \\<equiv>\\<^bsub>DA x\\<^esub> e'", "have inR0: \"([x:=e],[x:=e']) \\<in> R0\""], ["proof (prove)\nusing this:\n  e \\<equiv>\\<^bsub>DA x\\<^esub> e'\n\ngoal (1 subgoal):\n 1. ([x:=e], [x:=e']) \\<in> R0", "by (simp add: R0_def)"], ["proof (state)\nthis:\n  ([x:=e], [x:=e']) \\<in> R0\n\ngoal (1 subgoal):\n 1. [x:=e] \\<approx>\\<^bsub>d\\<^esub> [x:=e']", "have \"d_Bisimulation_Up_To_USdB d R0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d_Bisimulation_Up_To_USdB d R0", "proof (simp add: d_Bisimulation_Up_To_USdB_def, auto)"], ["proof (state)\ngoal (3 subgoals):\n 1. sym R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from d_indistinguishable_sym"], ["proof (chain)\npicking this:\n  ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e' \\<Longrightarrow>\n  ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e", "show \"sym R0\""], ["proof (prove)\nusing this:\n  ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e' \\<Longrightarrow>\n  ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e\n\ngoal (1 subgoal):\n 1. sym R0", "by (simp add: R0_def sym_def, fastforce)"], ["proof (state)\nthis:\n  sym R0\n\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "fix V V'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume \"(V,V') \\<in> R0\""], ["proof (state)\nthis:\n  (V, V') \\<in> R0\n\ngoal (2 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "thus \"length V = length V'\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R0\n\ngoal (1 subgoal):\n 1. length V = length V'", "by (simp add: R0_def, auto)"], ["proof (state)\nthis:\n  length V = length V'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "fix V V' i m1 m1' W m2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume inR0: \"(V,V') \\<in> R0\""], ["proof (state)\nthis:\n  (V, V') \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume irange: \"i < length V\""], ["proof (state)\nthis:\n  i < length V\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume step: \"\\<langle>V!i,m1\\<rangle> \\<rightarrow> \\<langle>W,m2\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr (V ! i) m1 W m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "assume dequal: \"m1 =\\<^bsub>d\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 =\\<^bsub>d\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from inR0"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R0", "obtain x e e' where Vassump:\n        \"V = [x := e] \\<and> V' = [x := e'] \\<and>\n        e \\<equiv>\\<^bsub>DA x\\<^esub> e'\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R0\n\ngoal (1 subgoal):\n 1. (\\<And>x e e'.\n        V = [x:=e] \\<and>\n        V' = [x:=e'] \\<and>\n        e \\<equiv>\\<^bsub>DA x\\<^esub> e' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp add: R0_def, auto)"], ["proof (state)\nthis:\n  V = [x:=e] \\<and> V' = [x:=e'] \\<and> e \\<equiv>\\<^bsub>DA x\\<^esub> e'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "with step irange"], ["proof (chain)\npicking this:\n  SRabbr (V ! i) m1 W m2\n  i < length V\n  V = [x:=e] \\<and> V' = [x:=e'] \\<and> e \\<equiv>\\<^bsub>DA x\\<^esub> e'", "obtain v where step1:\n        \"E e m1 = v \\<and> W = [] \\<and> m2 = m1(x := v)\""], ["proof (prove)\nusing this:\n  SRabbr (V ! i) m1 W m2\n  i < length V\n  V = [x:=e] \\<and> V' = [x:=e'] \\<and> e \\<equiv>\\<^bsub>DA x\\<^esub> e'\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        E e m1 = v \\<and> W = [] \\<and> m2 = m1(x := v) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto, metis MWLf_semantics.MWLfSteps_det_cases(2))"], ["proof (state)\nthis:\n  E e m1 = v \\<and> W = [] \\<and> m2 = m1(x := v)\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "from Vassump irange"], ["proof (chain)\npicking this:\n  V = [x:=e] \\<and> V' = [x:=e'] \\<and> e \\<equiv>\\<^bsub>DA x\\<^esub> e'\n  i < length V", "obtain m2' v' where step2:\n        \"E e' m1' = v' \\<and> \\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>[],m2'\\<rangle> \\<and> m2' = m1'(x := v')\""], ["proof (prove)\nusing this:\n  V = [x:=e] \\<and> V' = [x:=e'] \\<and> e \\<equiv>\\<^bsub>DA x\\<^esub> e'\n  i < length V\n\ngoal (1 subgoal):\n 1. (\\<And>v' m2'.\n        E e' m1' = v' \\<and>\n        SRabbr (V' ! i) m1' [] m2' \\<and>\n        m2' = m1'(x := v') \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto, metis MWLfSteps_det.assign)"], ["proof (state)\nthis:\n  E e' m1' = v' \\<and> SRabbr (V' ! i) m1' [] m2' \\<and> m2' = m1'(x := v')\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "with Vassump dequal step step1"], ["proof (chain)\npicking this:\n  V = [x:=e] \\<and> V' = [x:=e'] \\<and> e \\<equiv>\\<^bsub>DA x\\<^esub> e'\n  m1 =\\<^bsub>d\\<^esub> m1'\n  SRabbr (V ! i) m1 W m2\n  E e m1 = v \\<and> W = [] \\<and> m2 = m1(x := v)\n  E e' m1' = v' \\<and> SRabbr (V' ! i) m1' [] m2' \\<and> m2' = m1'(x := v')", "have dequalnext: \"m1(x := v) =\\<^bsub>d\\<^esub> m1'(x := v')\""], ["proof (prove)\nusing this:\n  V = [x:=e] \\<and> V' = [x:=e'] \\<and> e \\<equiv>\\<^bsub>DA x\\<^esub> e'\n  m1 =\\<^bsub>d\\<^esub> m1'\n  SRabbr (V ! i) m1 W m2\n  E e m1 = v \\<and> W = [] \\<and> m2 = m1(x := v)\n  E e' m1' = v' \\<and> SRabbr (V' ! i) m1' [] m2' \\<and> m2' = m1'(x := v')\n\ngoal (1 subgoal):\n 1. m1(x := v) =\\<^bsub>d\\<^esub> m1'(x := v')", "by (simp add: d_equal_def d_indistinguishable_def, auto)"], ["proof (state)\nthis:\n  m1(x := v) =\\<^bsub>d\\<^esub> m1'(x := v')\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' W m2.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a; SRabbr (a ! i) m1 W m2;\n        m1 =\\<^bsub>d\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>W' m2'.\n                            SRabbr (b ! i) m1' W' m2' \\<and>\n                            ((W, W') \\<in> R0 \\<or>\n                             W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n                            m2 =\\<^bsub>d\\<^esub> m2'", "with step1 step2 trivialpair_in_USdB"], ["proof (chain)\npicking this:\n  E e m1 = v \\<and> W = [] \\<and> m2 = m1(x := v)\n  E e' m1' = v' \\<and> SRabbr (V' ! i) m1' [] m2' \\<and> m2' = m1'(x := v')\n  [] \\<approx>\\<^bsub>?d\\<^esub> []\n  m1(x := v) =\\<^bsub>d\\<^esub> m1'(x := v')", "show \"\\<exists>W' m2'.\n        \\<langle>V'!i,m1'\\<rangle> \\<rightarrow> \\<langle>W',m2'\\<rangle> \\<and> ((W,W') \\<in> R0 \\<or> W \\<approx>\\<^bsub>d\\<^esub> W') \n        \\<and> m2 =\\<^bsub>d\\<^esub> m2'\""], ["proof (prove)\nusing this:\n  E e m1 = v \\<and> W = [] \\<and> m2 = m1(x := v)\n  E e' m1' = v' \\<and> SRabbr (V' ! i) m1' [] m2' \\<and> m2' = m1'(x := v')\n  [] \\<approx>\\<^bsub>?d\\<^esub> []\n  m1(x := v) =\\<^bsub>d\\<^esub> m1'(x := v')\n\ngoal (1 subgoal):\n 1. \\<exists>W' m2'.\n       SRabbr (V' ! i) m1' W' m2' \\<and>\n       ((W, W') \\<in> R0 \\<or> W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n       m2 =\\<^bsub>d\\<^esub> m2'", "by auto"], ["proof (state)\nthis:\n  \\<exists>W' m2'.\n     SRabbr (V' ! i) m1' W' m2' \\<and>\n     ((W, W') \\<in> R0 \\<or> W \\<approx>\\<^bsub>d\\<^esub> W') \\<and>\n     m2 =\\<^bsub>d\\<^esub> m2'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  d_Bisimulation_Up_To_USdB d R0\n\ngoal (1 subgoal):\n 1. [x:=e] \\<approx>\\<^bsub>d\\<^esub> [x:=e']", "hence \"R0 \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\""], ["proof (prove)\nusing this:\n  d_Bisimulation_Up_To_USdB d R0\n\ngoal (1 subgoal):\n 1. R0 \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "by (rule Up_To_Technique)"], ["proof (state)\nthis:\n  R0 \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\n\ngoal (1 subgoal):\n 1. [x:=e] \\<approx>\\<^bsub>d\\<^esub> [x:=e']", "with inR0"], ["proof (chain)\npicking this:\n  ([x:=e], [x:=e']) \\<in> R0\n  R0 \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>", "show ?thesis"], ["proof (prove)\nusing this:\n  ([x:=e], [x:=e']) \\<in> R0\n  R0 \\<subseteq> \\<approx>\\<^bsub>d\\<^esub>\n\ngoal (1 subgoal):\n 1. [x:=e] \\<approx>\\<^bsub>d\\<^esub> [x:=e']", "by auto"], ["proof (state)\nthis:\n  [x:=e] \\<approx>\\<^bsub>d\\<^esub> [x:=e']\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}