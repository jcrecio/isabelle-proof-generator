{"file_name": "/home/qj213/afp-2021-10-22/thys/Fourier/Periodic.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Fourier", "problem_names": ["lemma has_bochner_integral_null [intro]:\n  fixes f :: \"'a::euclidean_space \\<Rightarrow> 'b::euclidean_space\"\n  assumes \"N \\<in> null_sets lebesgue\"\n  shows \"has_bochner_integral (lebesgue_on N) f 0\"", "lemma has_bochner_integral_null_eq[simp]:\n  fixes f :: \"'a::euclidean_space \\<Rightarrow> 'b::euclidean_space\"\n  assumes \"N \\<in> null_sets lebesgue\"\n  shows \"has_bochner_integral (lebesgue_on N) f i \\<longleftrightarrow> i = 0\"", "lemma periodic_integer_multiple:\n   \"(\\<forall>x. f(x + a) = f x) \\<longleftrightarrow> (\\<forall>x. \\<forall>n \\<in> \\<int>. f(x + n * a) = f x)\" (is \"?lhs = ?rhs\")", "lemma has_integral_offset:\n  fixes f :: \"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes \"has_bochner_integral (lebesgue_on {a..b}) f i\"\n  shows \"has_bochner_integral (lebesgue_on {a-c..b-c}) (\\<lambda>x. f(x + c)) i\"", "lemma has_integral_periodic_offset_lemma:\n  fixes f :: \"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes periodic: \"\\<And>x. f(x + (b-a)) = f x\" and f: \"has_bochner_integral (lebesgue_on {a..a+c}) f i\"\n  shows \"has_bochner_integral (lebesgue_on {b..b+c}) f i\"", "lemma has_integral_periodic_offset_pos:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes f: \"has_bochner_integral (lebesgue_on {a..b}) f i\" and periodic: \"\\<And>x. f(x + (b-a)) = f x\"\n      and c: \"c \\<ge> 0\" \"a + c \\<le> b\"\n  shows \"has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f(x + c)) i\"", "lemma has_integral_periodic_offset_weak:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes f: \"has_bochner_integral (lebesgue_on {a..b}) f i\" and periodic: \"\\<And>x. f(x + (b-a)) = f x\" and c: \"\\<bar>c\\<bar> \\<le> b-a\"\n  shows \"has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f(x + c)) i\"", "lemma has_integral_periodic_offset:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes f: \"has_bochner_integral (lebesgue_on {a..b}) f i\" and periodic: \"\\<And>x. f(x + (b-a)) = f x\"\n  shows \"has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f(x + c)) i\"", "lemma integrable_periodic_offset:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes f: \"integrable (lebesgue_on {a..b}) f\" and periodic: \"\\<And>x. f(x + (b-a)) = f x\"\n  shows \"integrable (lebesgue_on {a..b}) (\\<lambda>x. f(x + c))\"", "lemma absolutely_integrable_periodic_offset:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes f: \"f absolutely_integrable_on {a..b}\" and periodic: \"\\<And>x. f(x + (b-a)) = f x\"\n  shows \"(\\<lambda>x. f(x + c)) absolutely_integrable_on {a..b}\" \"(\\<lambda>x. f(c + x)) absolutely_integrable_on {a..b}\"", "lemma integral_periodic_offset:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes periodic: \"\\<And>x. f(x + (b-a)) = f x\"\n  shows \"integral\\<^sup>L (lebesgue_on {a..b}) (\\<lambda>x. f(x + c)) = integral\\<^sup>L (lebesgue_on {a..b}) f\""], "translations": [["", "lemma has_bochner_integral_null [intro]:\n  fixes f :: \"'a::euclidean_space \\<Rightarrow> 'b::euclidean_space\"\n  assumes \"N \\<in> null_sets lebesgue\"\n  shows \"has_bochner_integral (lebesgue_on N) f 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on N) f (0::'b)", "unfolding has_bochner_integral_iff"], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable (lebesgue_on N) f \\<and>\n    integral\\<^sup>L (lebesgue_on N) f = (0::'b)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. integrable (lebesgue_on N) f\n 2. integral\\<^sup>L (lebesgue_on N) f = (0::'b)", "show \"integrable (lebesgue_on N) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable (lebesgue_on N) f", "proof (subst integrable_restrict_space)"], ["proof (state)\ngoal (2 subgoals):\n 1. N \\<inter> space lebesgue \\<in> sets lebesgue\n 2. integrable lebesgue (\\<lambda>x. indicat_real N x *\\<^sub>R f x)", "show \"N \\<inter> space lebesgue \\<in> sets lebesgue\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<inter> space lebesgue \\<in> sets lebesgue", "using assms"], ["proof (prove)\nusing this:\n  N \\<in> null_sets lebesgue\n\ngoal (1 subgoal):\n 1. N \\<inter> space lebesgue \\<in> sets lebesgue", "by force"], ["proof (state)\nthis:\n  N \\<inter> space lebesgue \\<in> sets lebesgue\n\ngoal (1 subgoal):\n 1. integrable lebesgue (\\<lambda>x. indicat_real N x *\\<^sub>R f x)", "show \"integrable lebesgue (\\<lambda>x. indicat_real N x *\\<^sub>R f x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable lebesgue (\\<lambda>x. indicat_real N x *\\<^sub>R f x)", "proof (rule integrable_cong_AE_imp)"], ["proof (state)\ngoal (3 subgoals):\n 1. integrable lebesgue ?g\n 2. (\\<lambda>x. indicat_real N x *\\<^sub>R f x)\n    \\<in> borel_measurable lebesgue\n 3. AE x in lebesgue. ?g x = indicat_real N x *\\<^sub>R f x", "show \"integrable lebesgue (\\<lambda>x. 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable lebesgue (\\<lambda>x. 0::'d)", "by simp"], ["proof (state)\nthis:\n  integrable lebesgue (\\<lambda>x. 0::?'d1)\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. indicat_real N x *\\<^sub>R f x)\n    \\<in> borel_measurable lebesgue\n 2. AE x in lebesgue. (0::'b) = indicat_real N x *\\<^sub>R f x", "show *: \"AE x in lebesgue. 0 = indicat_real N x *\\<^sub>R f x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in lebesgue. (0::'b) = indicat_real N x *\\<^sub>R f x", "using assms"], ["proof (prove)\nusing this:\n  N \\<in> null_sets lebesgue\n\ngoal (1 subgoal):\n 1. AE x in lebesgue. (0::'b) = indicat_real N x *\\<^sub>R f x", "by (simp add: indicator_def completion.null_sets_iff_AE eventually_mono)"], ["proof (state)\nthis:\n  AE x in lebesgue. (0::'b) = indicat_real N x *\\<^sub>R f x\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. indicat_real N x *\\<^sub>R f x)\n    \\<in> borel_measurable lebesgue", "show \"(\\<lambda>x. indicat_real N x *\\<^sub>R f x) \\<in> borel_measurable lebesgue\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. indicat_real N x *\\<^sub>R f x)\n    \\<in> borel_measurable lebesgue", "by (auto intro: borel_measurable_AE [OF _ *])"], ["proof (state)\nthis:\n  (\\<lambda>x. indicat_real N x *\\<^sub>R f x)\n  \\<in> borel_measurable lebesgue\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  integrable lebesgue (\\<lambda>x. indicat_real N x *\\<^sub>R f x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  integrable (lebesgue_on N) f\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L (lebesgue_on N) f = (0::'b)", "show \"integral\\<^sup>L (lebesgue_on N) f = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L (lebesgue_on N) f = (0::'b)", "proof (rule integral_eq_zero_AE)"], ["proof (state)\ngoal (1 subgoal):\n 1. AE x in lebesgue_on N. f x = (0::'b)", "show \"AE x in lebesgue_on N. f x = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x in lebesgue_on N. f x = (0::'b)", "by (rule AE_I' [where N=N]) (auto simp: assms null_setsD2 null_sets_restrict_space)"], ["proof (state)\nthis:\n  AE x in lebesgue_on N. f x = (0::'b)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  integral\\<^sup>L (lebesgue_on N) f = (0::'b)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma has_bochner_integral_null_eq[simp]:\n  fixes f :: \"'a::euclidean_space \\<Rightarrow> 'b::euclidean_space\"\n  assumes \"N \\<in> null_sets lebesgue\"\n  shows \"has_bochner_integral (lebesgue_on N) f i \\<longleftrightarrow> i = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on N) f i = (i = (0::'b))", "using assms has_bochner_integral_eq"], ["proof (prove)\nusing this:\n  N \\<in> null_sets lebesgue\n  \\<lbrakk>has_bochner_integral ?M ?f ?x;\n   has_bochner_integral ?M ?f ?y\\<rbrakk>\n  \\<Longrightarrow> ?x = ?y\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on N) f i = (i = (0::'b))", "by blast"], ["", "lemma periodic_integer_multiple:\n   \"(\\<forall>x. f(x + a) = f x) \\<longleftrightarrow> (\\<forall>x. \\<forall>n \\<in> \\<int>. f(x + n * a) = f x)\" (is \"?lhs = ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>x. f (x + a) = f x) =\n    (\\<forall>x. \\<forall>n\\<in>\\<int>. f (x + n * a) = f x)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>x. f (x + a) = f x \\<Longrightarrow>\n    \\<forall>x. \\<forall>n\\<in>\\<int>. f (x + n * a) = f x\n 2. \\<forall>x. \\<forall>n\\<in>\\<int>. f (x + n * a) = f x \\<Longrightarrow>\n    \\<forall>x. f (x + a) = f x", "assume L [rule_format]: ?lhs"], ["proof (state)\nthis:\n  f (?x + a) = f ?x\n\ngoal (2 subgoals):\n 1. \\<forall>x. f (x + a) = f x \\<Longrightarrow>\n    \\<forall>x. \\<forall>n\\<in>\\<int>. f (x + n * a) = f x\n 2. \\<forall>x. \\<forall>n\\<in>\\<int>. f (x + n * a) = f x \\<Longrightarrow>\n    \\<forall>x. f (x + a) = f x", "have nat: \"f(x + of_nat n * a) = f x\" for x n"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (x + of_nat n * a) = f x", "proof (induction n)"], ["proof (state)\ngoal (2 subgoals):\n 1. f (x + of_nat 0 * a) = f x\n 2. \\<And>n.\n       f (x + of_nat n * a) = f x \\<Longrightarrow>\n       f (x + of_nat (Suc n) * a) = f x", "case (Suc n)"], ["proof (state)\nthis:\n  f (x + of_nat n * a) = f x\n\ngoal (2 subgoals):\n 1. f (x + of_nat 0 * a) = f x\n 2. \\<And>n.\n       f (x + of_nat n * a) = f x \\<Longrightarrow>\n       f (x + of_nat (Suc n) * a) = f x", "with L [of \"x + of_nat n * a\"]"], ["proof (chain)\npicking this:\n  f (x + of_nat n * a + a) = f (x + of_nat n * a)\n  f (x + of_nat n * a) = f x", "show ?case"], ["proof (prove)\nusing this:\n  f (x + of_nat n * a + a) = f (x + of_nat n * a)\n  f (x + of_nat n * a) = f x\n\ngoal (1 subgoal):\n 1. f (x + of_nat (Suc n) * a) = f x", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  f (x + of_nat (Suc n) * a) = f x\n\ngoal (1 subgoal):\n 1. f (x + of_nat 0 * a) = f x", "qed auto"], ["proof (state)\nthis:\n  f (?x + of_nat ?n * a) = f ?x\n\ngoal (2 subgoals):\n 1. \\<forall>x. f (x + a) = f x \\<Longrightarrow>\n    \\<forall>x. \\<forall>n\\<in>\\<int>. f (x + n * a) = f x\n 2. \\<forall>x. \\<forall>n\\<in>\\<int>. f (x + n * a) = f x \\<Longrightarrow>\n    \\<forall>x. f (x + a) = f x", "have \"f(x + of_int z * a) = f x\" for x z"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (x + of_int z * a) = f x", "proof (cases \"z \\<ge> 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 \\<le> z \\<Longrightarrow> f (x + of_int z * a) = f x\n 2. \\<not> 0 \\<le> z \\<Longrightarrow> f (x + of_int z * a) = f x", "case True"], ["proof (state)\nthis:\n  0 \\<le> z\n\ngoal (2 subgoals):\n 1. 0 \\<le> z \\<Longrightarrow> f (x + of_int z * a) = f x\n 2. \\<not> 0 \\<le> z \\<Longrightarrow> f (x + of_int z * a) = f x", "then"], ["proof (chain)\npicking this:\n  0 \\<le> z", "show ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> z\n\ngoal (1 subgoal):\n 1. f (x + of_int z * a) = f x", "by (metis nat of_nat_nat)"], ["proof (state)\nthis:\n  f (x + of_int z * a) = f x\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> z \\<Longrightarrow> f (x + of_int z * a) = f x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> z \\<Longrightarrow> f (x + of_int z * a) = f x", "case False"], ["proof (state)\nthis:\n  \\<not> 0 \\<le> z\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> z \\<Longrightarrow> f (x + of_int z * a) = f x", "then"], ["proof (chain)\npicking this:\n  \\<not> 0 \\<le> z", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> 0 \\<le> z\n\ngoal (1 subgoal):\n 1. f (x + of_int z * a) = f x", "using nat [of \"x + of_int z * a\" \"nat (-z)\"]"], ["proof (prove)\nusing this:\n  \\<not> 0 \\<le> z\n  f (x + of_int z * a + of_nat (nat (- z)) * a) = f (x + of_int z * a)\n\ngoal (1 subgoal):\n 1. f (x + of_int z * a) = f x", "by auto"], ["proof (state)\nthis:\n  f (x + of_int z * a) = f x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f (?x + of_int ?z * a) = f ?x\n\ngoal (2 subgoals):\n 1. \\<forall>x. f (x + a) = f x \\<Longrightarrow>\n    \\<forall>x. \\<forall>n\\<in>\\<int>. f (x + n * a) = f x\n 2. \\<forall>x. \\<forall>n\\<in>\\<int>. f (x + n * a) = f x \\<Longrightarrow>\n    \\<forall>x. f (x + a) = f x", "then"], ["proof (chain)\npicking this:\n  f (?x + of_int ?z * a) = f ?x", "show ?rhs"], ["proof (prove)\nusing this:\n  f (?x + of_int ?z * a) = f ?x\n\ngoal (1 subgoal):\n 1. \\<forall>x. \\<forall>n\\<in>\\<int>. f (x + n * a) = f x", "by (auto simp: Ints_def)"], ["proof (state)\nthis:\n  \\<forall>x. \\<forall>n\\<in>\\<int>. f (x + n * a) = f x\n\ngoal (1 subgoal):\n 1. \\<forall>x. \\<forall>n\\<in>\\<int>. f (x + n * a) = f x \\<Longrightarrow>\n    \\<forall>x. f (x + a) = f x", "qed (use Ints_1 in fastforce)"], ["", "lemma has_integral_offset:\n  fixes f :: \"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes \"has_bochner_integral (lebesgue_on {a..b}) f i\"\n  shows \"has_bochner_integral (lebesgue_on {a-c..b-c}) (\\<lambda>x. f(x + c)) i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a - c..b - c})\n     (\\<lambda>x. f (x + c)) i", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a - c..b - c})\n     (\\<lambda>x. f (x + c)) i", "have eq: \"indicat_real {a..b} (x + c) = indicat_real {a-c..b-c} x\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. indicat_real {a..b} (x + c) = indicat_real {a - c..b - c} x", "by (auto simp: indicator_def)"], ["proof (state)\nthis:\n  indicat_real {a..b} (?x + c) = indicat_real {a - c..b - c} ?x\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a - c..b - c})\n     (\\<lambda>x. f (x + c)) i", "have \"has_bochner_integral lebesgue (\\<lambda>x. indicator {a..b} x *\\<^sub>R f x) i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. has_bochner_integral lebesgue\n     (\\<lambda>x. indicat_real {a..b} x *\\<^sub>R f x) i", "using assms"], ["proof (prove)\nusing this:\n  has_bochner_integral (lebesgue_on {a..b}) f i\n\ngoal (1 subgoal):\n 1. has_bochner_integral lebesgue\n     (\\<lambda>x. indicat_real {a..b} x *\\<^sub>R f x) i", "by (auto simp: has_bochner_integral_restrict_space)"], ["proof (state)\nthis:\n  has_bochner_integral lebesgue\n   (\\<lambda>x. indicat_real {a..b} x *\\<^sub>R f x) i\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a - c..b - c})\n     (\\<lambda>x. f (x + c)) i", "then"], ["proof (chain)\npicking this:\n  has_bochner_integral lebesgue\n   (\\<lambda>x. indicat_real {a..b} x *\\<^sub>R f x) i", "have \"has_bochner_integral lebesgue (\\<lambda>x. indicat_real {a-c..b-c} x *\\<^sub>R f(x + c)) i\""], ["proof (prove)\nusing this:\n  has_bochner_integral lebesgue\n   (\\<lambda>x. indicat_real {a..b} x *\\<^sub>R f x) i\n\ngoal (1 subgoal):\n 1. has_bochner_integral lebesgue\n     (\\<lambda>x. indicat_real {a - c..b - c} x *\\<^sub>R f (x + c)) i", "using has_bochner_integral_lebesgue_real_affine_iff [of 1 \"(\\<lambda>x. indicator {a..b} x *\\<^sub>R f x)\" i c]"], ["proof (prove)\nusing this:\n  has_bochner_integral lebesgue\n   (\\<lambda>x. indicat_real {a..b} x *\\<^sub>R f x) i\n  1 \\<noteq> 0 \\<Longrightarrow>\n  has_bochner_integral lebesgue\n   (\\<lambda>x. indicat_real {a..b} x *\\<^sub>R f x) i =\n  has_bochner_integral lebesgue\n   (\\<lambda>x. indicat_real {a..b} (c + 1 * x) *\\<^sub>R f (c + 1 * x))\n   (i /\\<^sub>R \\<bar>1\\<bar>)\n\ngoal (1 subgoal):\n 1. has_bochner_integral lebesgue\n     (\\<lambda>x. indicat_real {a - c..b - c} x *\\<^sub>R f (x + c)) i", "by (simp add: add_ac eq)"], ["proof (state)\nthis:\n  has_bochner_integral lebesgue\n   (\\<lambda>x. indicat_real {a - c..b - c} x *\\<^sub>R f (x + c)) i\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a - c..b - c})\n     (\\<lambda>x. f (x + c)) i", "then"], ["proof (chain)\npicking this:\n  has_bochner_integral lebesgue\n   (\\<lambda>x. indicat_real {a - c..b - c} x *\\<^sub>R f (x + c)) i", "show ?thesis"], ["proof (prove)\nusing this:\n  has_bochner_integral lebesgue\n   (\\<lambda>x. indicat_real {a - c..b - c} x *\\<^sub>R f (x + c)) i\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a - c..b - c})\n     (\\<lambda>x. f (x + c)) i", "using assms"], ["proof (prove)\nusing this:\n  has_bochner_integral lebesgue\n   (\\<lambda>x. indicat_real {a - c..b - c} x *\\<^sub>R f (x + c)) i\n  has_bochner_integral (lebesgue_on {a..b}) f i\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a - c..b - c})\n     (\\<lambda>x. f (x + c)) i", "by (auto simp: has_bochner_integral_restrict_space)"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {a - c..b - c}) (\\<lambda>x. f (x + c))\n   i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma has_integral_periodic_offset_lemma:\n  fixes f :: \"real \\<Rightarrow> 'a::euclidean_space\"\n  assumes periodic: \"\\<And>x. f(x + (b-a)) = f x\" and f: \"has_bochner_integral (lebesgue_on {a..a+c}) f i\"\n  shows \"has_bochner_integral (lebesgue_on {b..b+c}) f i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {b..b + c}) f i", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {b..b + c}) f i", "have \"f(x + a-b) = f x\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (x + a - b) = f x", "using periodic [of \"x + (a-b)\"]"], ["proof (prove)\nusing this:\n  f (x + (a - b) + (b - a)) = f (x + (a - b))\n\ngoal (1 subgoal):\n 1. f (x + a - b) = f x", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  f (?x + a - b) = f ?x\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {b..b + c}) f i", "then"], ["proof (chain)\npicking this:\n  f (?x + a - b) = f ?x", "show ?thesis"], ["proof (prove)\nusing this:\n  f (?x + a - b) = f ?x\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {b..b + c}) f i", "using has_integral_offset [OF f, of \"a-b\"]"], ["proof (prove)\nusing this:\n  f (?x + a - b) = f ?x\n  has_bochner_integral (lebesgue_on {a - (a - b)..a + c - (a - b)})\n   (\\<lambda>x. f (x + (a - b))) i\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {b..b + c}) f i", "by (auto simp: algebra_simps)"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {b..b + c}) f i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma has_integral_periodic_offset_pos:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes f: \"has_bochner_integral (lebesgue_on {a..b}) f i\" and periodic: \"\\<And>x. f(x + (b-a)) = f x\"\n      and c: \"c \\<ge> 0\" \"a + c \\<le> b\"\n  shows \"has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f(x + c)) i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "have \"{a..a + c} \\<subseteq> {a..b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {a..a + c} \\<subseteq> {a..b}", "by (simp add: assms(4))"], ["proof (state)\nthis:\n  {a..a + c} \\<subseteq> {a..b}\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "then"], ["proof (chain)\npicking this:\n  {a..a + c} \\<subseteq> {a..b}", "have 1: \"has_bochner_integral (lebesgue_on {a..a+c}) f(integral\\<^sup>L (lebesgue_on {a..a+c}) f)\""], ["proof (prove)\nusing this:\n  {a..a + c} \\<subseteq> {a..b}\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..a + c}) f\n     (integral\\<^sup>L (lebesgue_on {a..a + c}) f)", "by (meson integrable_subinterval f has_bochner_integral_iff)"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {a..a + c}) f\n   (integral\\<^sup>L (lebesgue_on {a..a + c}) f)\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "then"], ["proof (chain)\npicking this:\n  has_bochner_integral (lebesgue_on {a..a + c}) f\n   (integral\\<^sup>L (lebesgue_on {a..a + c}) f)", "have 3: \"has_bochner_integral (lebesgue_on {b..b+c}) f(integral\\<^sup>L (lebesgue_on {a..a+c}) f)\""], ["proof (prove)\nusing this:\n  has_bochner_integral (lebesgue_on {a..a + c}) f\n   (integral\\<^sup>L (lebesgue_on {a..a + c}) f)\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {b..b + c}) f\n     (integral\\<^sup>L (lebesgue_on {a..a + c}) f)", "using has_integral_periodic_offset_lemma periodic"], ["proof (prove)\nusing this:\n  has_bochner_integral (lebesgue_on {a..a + c}) f\n   (integral\\<^sup>L (lebesgue_on {a..a + c}) f)\n  \\<lbrakk>\\<And>x. ?f (x + (?b - ?a)) = ?f x;\n   has_bochner_integral (lebesgue_on {?a..?a + ?c}) ?f ?i\\<rbrakk>\n  \\<Longrightarrow> has_bochner_integral (lebesgue_on {?b..?b + ?c}) ?f ?i\n  f (?x + (b - a)) = f ?x\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {b..b + c}) f\n     (integral\\<^sup>L (lebesgue_on {a..a + c}) f)", "by blast"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {b..b + c}) f\n   (integral\\<^sup>L (lebesgue_on {a..a + c}) f)\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "have \"{a + c..b} \\<subseteq> {a..b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {a + c..b} \\<subseteq> {a..b}", "by (simp add: c)"], ["proof (state)\nthis:\n  {a + c..b} \\<subseteq> {a..b}\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "then"], ["proof (chain)\npicking this:\n  {a + c..b} \\<subseteq> {a..b}", "have 2: \"has_bochner_integral (lebesgue_on {a+c..b}) f(integral\\<^sup>L (lebesgue_on {a+c..b}) f)\""], ["proof (prove)\nusing this:\n  {a + c..b} \\<subseteq> {a..b}\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a + c..b}) f\n     (integral\\<^sup>L (lebesgue_on {a + c..b}) f)", "by (meson integrable_subinterval f has_bochner_integral_integrable integrable.intros)"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {a + c..b}) f\n   (integral\\<^sup>L (lebesgue_on {a + c..b}) f)\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "have \"integral\\<^sup>L (lebesgue_on {a + c..b}) f + integral\\<^sup>L (lebesgue_on {a..a + c}) f = i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral\\<^sup>L (lebesgue_on {a + c..b}) f +\n    integral\\<^sup>L (lebesgue_on {a..a + c}) f =\n    i", "by (metis integral_combine add.commute c f has_bochner_integral_iff le_add_same_cancel1)"], ["proof (state)\nthis:\n  integral\\<^sup>L (lebesgue_on {a + c..b}) f +\n  integral\\<^sup>L (lebesgue_on {a..a + c}) f =\n  i\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "then"], ["proof (chain)\npicking this:\n  integral\\<^sup>L (lebesgue_on {a + c..b}) f +\n  integral\\<^sup>L (lebesgue_on {a..a + c}) f =\n  i", "have \"has_bochner_integral (lebesgue_on {a+c..b+c}) f i\""], ["proof (prove)\nusing this:\n  integral\\<^sup>L (lebesgue_on {a + c..b}) f +\n  integral\\<^sup>L (lebesgue_on {a..a + c}) f =\n  i\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a + c..b + c}) f i", "using has_bochner_integral_combine [OF _ _ 2 3] 1 2"], ["proof (prove)\nusing this:\n  integral\\<^sup>L (lebesgue_on {a + c..b}) f +\n  integral\\<^sup>L (lebesgue_on {a..a + c}) f =\n  i\n  \\<lbrakk>a + c \\<le> b; b \\<le> b + c\\<rbrakk>\n  \\<Longrightarrow> has_bochner_integral (lebesgue_on {a + c..b + c}) f\n                     (integral\\<^sup>L (lebesgue_on {a + c..b}) f +\n                      integral\\<^sup>L (lebesgue_on {a..a + c}) f)\n  has_bochner_integral (lebesgue_on {a..a + c}) f\n   (integral\\<^sup>L (lebesgue_on {a..a + c}) f)\n  has_bochner_integral (lebesgue_on {a + c..b}) f\n   (integral\\<^sup>L (lebesgue_on {a + c..b}) f)\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a + c..b + c}) f i", "by (simp add: c)"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {a + c..b + c}) f i\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "then"], ["proof (chain)\npicking this:\n  has_bochner_integral (lebesgue_on {a + c..b + c}) f i", "show ?thesis"], ["proof (prove)\nusing this:\n  has_bochner_integral (lebesgue_on {a + c..b + c}) f i\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "by (metis add_diff_cancel_right' has_integral_offset)"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma has_integral_periodic_offset_weak:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes f: \"has_bochner_integral (lebesgue_on {a..b}) f i\" and periodic: \"\\<And>x. f(x + (b-a)) = f x\" and c: \"\\<bar>c\\<bar> \\<le> b-a\"\n  shows \"has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f(x + c)) i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "proof (cases \"c \\<ge> 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 \\<le> c \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i\n 2. \\<not> 0 \\<le> c \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "case True"], ["proof (state)\nthis:\n  0 \\<le> c\n\ngoal (2 subgoals):\n 1. 0 \\<le> c \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i\n 2. \\<not> 0 \\<le> c \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "then"], ["proof (chain)\npicking this:\n  0 \\<le> c", "show ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> c\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "using c f has_integral_periodic_offset_pos periodic"], ["proof (prove)\nusing this:\n  0 \\<le> c\n  \\<bar>c\\<bar> \\<le> b - a\n  has_bochner_integral (lebesgue_on {a..b}) f i\n  \\<lbrakk>has_bochner_integral (lebesgue_on {?a..?b}) ?f ?i;\n   \\<And>x. ?f (x + (?b - ?a)) = ?f x; 0 \\<le> ?c; ?a + ?c \\<le> ?b\\<rbrakk>\n  \\<Longrightarrow> has_bochner_integral (lebesgue_on {?a..?b})\n                     (\\<lambda>x. ?f (x + ?c)) ?i\n  f (?x + (b - a)) = f ?x\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "by auto"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> c \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> c \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "case False"], ["proof (state)\nthis:\n  \\<not> 0 \\<le> c\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> c \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "have per': \"f(- (x + (- a - - b))) = f(- x)\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (- (x + (- a - - b))) = f (- x)", "using periodic [of \"(a-b)-x\"]"], ["proof (prove)\nusing this:\n  f (a - b - x + (b - a)) = f (a - b - x)\n\ngoal (1 subgoal):\n 1. f (- (x + (- a - - b))) = f (- x)", "by simp"], ["proof (state)\nthis:\n  f (- (?x + (- a - - b))) = f (- ?x)\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> c \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "have f': \"has_bochner_integral (lebesgue_on {- b..- a}) (\\<lambda>x. f(- x)) i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {- b..- a}) (\\<lambda>x. f (- x)) i", "using f"], ["proof (prove)\nusing this:\n  has_bochner_integral (lebesgue_on {a..b}) f i\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {- b..- a}) (\\<lambda>x. f (- x)) i", "by blast"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {- b..- a}) (\\<lambda>x. f (- x)) i\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> c \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "using has_integral_periodic_offset_pos [of \"-b\" \"-a\" \"\\<lambda>x. f(-x)\" i \"-c\", OF f' per'] c  False"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> - c; - b + - c \\<le> - a\\<rbrakk>\n  \\<Longrightarrow> has_bochner_integral (lebesgue_on {- b..- a})\n                     (\\<lambda>x. f (- (x + - c))) i\n  \\<bar>c\\<bar> \\<le> b - a\n  \\<not> 0 \\<le> c\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "by (simp flip: has_bochner_integral_reflect_real [of b a])"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma has_integral_periodic_offset:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes f: \"has_bochner_integral (lebesgue_on {a..b}) f i\" and periodic: \"\\<And>x. f(x + (b-a)) = f x\"\n  shows \"has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f(x + c)) i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "consider \"b \\<le> a\" | \"a < b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>b \\<le> a \\<Longrightarrow> thesis;\n     a < b \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by linarith"], ["proof (state)\nthis:\n  \\<lbrakk>b \\<le> a \\<Longrightarrow> ?thesis;\n   a < b \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>b \\<le> a \\<Longrightarrow> ?thesis;\n   a < b \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>b \\<le> a \\<Longrightarrow> ?thesis;\n   a < b \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. b \\<le> a \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i\n 2. a < b \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "case 1"], ["proof (state)\nthis:\n  b \\<le> a\n\ngoal (2 subgoals):\n 1. b \\<le> a \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i\n 2. a < b \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "then"], ["proof (chain)\npicking this:\n  b \\<le> a", "have \"{a..b} \\<in> null_sets lebesgue\""], ["proof (prove)\nusing this:\n  b \\<le> a\n\ngoal (1 subgoal):\n 1. {a..b} \\<in> null_sets lebesgue", "using less_eq_real_def"], ["proof (prove)\nusing this:\n  b \\<le> a\n  (?x \\<le> ?y) = (?x < ?y \\<or> ?x = ?y)\n\ngoal (1 subgoal):\n 1. {a..b} \\<in> null_sets lebesgue", "by auto"], ["proof (state)\nthis:\n  {a..b} \\<in> null_sets lebesgue\n\ngoal (2 subgoals):\n 1. b \\<le> a \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i\n 2. a < b \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "with f"], ["proof (chain)\npicking this:\n  has_bochner_integral (lebesgue_on {a..b}) f i\n  {a..b} \\<in> null_sets lebesgue", "show ?thesis"], ["proof (prove)\nusing this:\n  has_bochner_integral (lebesgue_on {a..b}) f i\n  {a..b} \\<in> null_sets lebesgue\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "by auto"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i\n\ngoal (1 subgoal):\n 1. a < b \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. a < b \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "case 2"], ["proof (state)\nthis:\n  a < b\n\ngoal (1 subgoal):\n 1. a < b \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "define fba where \"fba \\<equiv> \\<lambda>x. f(x + (b-a) * frac(c / (b-a)))\""], ["proof (state)\nthis:\n  fba \\<equiv> \\<lambda>x. f (x + (b - a) * frac (c / (b - a)))\n\ngoal (1 subgoal):\n 1. a < b \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "have eq: \"fba x = f(x + c)\"\n      if \"x \\<in> {a..b}\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. fba x = f (x + c)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. fba x = f (x + c)", "have \"f(x + n * (b-a)) = f x\" if \"n \\<in> \\<int>\" for n x"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (x + n * (b - a)) = f x", "using periodic periodic_integer_multiple that"], ["proof (prove)\nusing this:\n  f (?x + (b - a)) = f ?x\n  (\\<forall>x. ?f (x + ?a) = ?f x) =\n  (\\<forall>x. \\<forall>n\\<in>\\<int>. ?f (x + n * ?a) = ?f x)\n  n \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. f (x + n * (b - a)) = f x", "by blast"], ["proof (state)\nthis:\n  ?n \\<in> \\<int> \\<Longrightarrow> f (?x + ?n * (b - a)) = f ?x\n\ngoal (1 subgoal):\n 1. fba x = f (x + c)", "then"], ["proof (chain)\npicking this:\n  ?n \\<in> \\<int> \\<Longrightarrow> f (?x + ?n * (b - a)) = f ?x", "have \"f((x + c) + - floor (c / (b - a)) * (b - a)) = f(x + c)\""], ["proof (prove)\nusing this:\n  ?n \\<in> \\<int> \\<Longrightarrow> f (?x + ?n * (b - a)) = f ?x\n\ngoal (1 subgoal):\n 1. f (x + c + real_of_int (- \\<lfloor>c / (b - a)\\<rfloor>) * (b - a)) =\n    f (x + c)", "using Ints_of_int"], ["proof (prove)\nusing this:\n  ?n \\<in> \\<int> \\<Longrightarrow> f (?x + ?n * (b - a)) = f ?x\n  of_int ?z \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. f (x + c + real_of_int (- \\<lfloor>c / (b - a)\\<rfloor>) * (b - a)) =\n    f (x + c)", "by blast"], ["proof (state)\nthis:\n  f (x + c + real_of_int (- \\<lfloor>c / (b - a)\\<rfloor>) * (b - a)) =\n  f (x + c)\n\ngoal (1 subgoal):\n 1. fba x = f (x + c)", "moreover"], ["proof (state)\nthis:\n  f (x + c + real_of_int (- \\<lfloor>c / (b - a)\\<rfloor>) * (b - a)) =\n  f (x + c)\n\ngoal (1 subgoal):\n 1. fba x = f (x + c)", "have \"((x + c) + -floor (c / (b - a)) * (b - a)) = (x + (b - a) * frac (c / (b - a)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x + c + real_of_int (- \\<lfloor>c / (b - a)\\<rfloor>) * (b - a) =\n    x + (b - a) * frac (c / (b - a))", "using 2"], ["proof (prove)\nusing this:\n  a < b\n\ngoal (1 subgoal):\n 1. x + c + real_of_int (- \\<lfloor>c / (b - a)\\<rfloor>) * (b - a) =\n    x + (b - a) * frac (c / (b - a))", "by (simp add: field_simps frac_def)"], ["proof (state)\nthis:\n  x + c + real_of_int (- \\<lfloor>c / (b - a)\\<rfloor>) * (b - a) =\n  x + (b - a) * frac (c / (b - a))\n\ngoal (1 subgoal):\n 1. fba x = f (x + c)", "ultimately"], ["proof (chain)\npicking this:\n  f (x + c + real_of_int (- \\<lfloor>c / (b - a)\\<rfloor>) * (b - a)) =\n  f (x + c)\n  x + c + real_of_int (- \\<lfloor>c / (b - a)\\<rfloor>) * (b - a) =\n  x + (b - a) * frac (c / (b - a))", "show ?thesis"], ["proof (prove)\nusing this:\n  f (x + c + real_of_int (- \\<lfloor>c / (b - a)\\<rfloor>) * (b - a)) =\n  f (x + c)\n  x + c + real_of_int (- \\<lfloor>c / (b - a)\\<rfloor>) * (b - a) =\n  x + (b - a) * frac (c / (b - a))\n\ngoal (1 subgoal):\n 1. fba x = f (x + c)", "unfolding fba_def"], ["proof (prove)\nusing this:\n  f (x + c + real_of_int (- \\<lfloor>c / (b - a)\\<rfloor>) * (b - a)) =\n  f (x + c)\n  x + c + real_of_int (- \\<lfloor>c / (b - a)\\<rfloor>) * (b - a) =\n  x + (b - a) * frac (c / (b - a))\n\ngoal (1 subgoal):\n 1. f (x + (b - a) * frac (c / (b - a))) = f (x + c)", "by metis"], ["proof (state)\nthis:\n  fba x = f (x + c)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?x \\<in> {a..b} \\<Longrightarrow> fba ?x = f (?x + c)\n\ngoal (1 subgoal):\n 1. a < b \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "have *: \"has_bochner_integral (lebesgue_on {a..b}) fba i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) fba i", "unfolding fba_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b})\n     (\\<lambda>x. f (x + (b - a) * frac (c / (b - a)))) i", "proof (rule has_integral_periodic_offset_weak [OF f])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x. f (x + (b - a)) = f x\n 2. \\<bar>(b - a) * frac (c / (b - a))\\<bar> \\<le> b - a", "show \"f(x + (b - a)) = f x\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (x + (b - a)) = f x", "by fact"], ["proof (state)\nthis:\n  f (?x + (b - a)) = f ?x\n\ngoal (1 subgoal):\n 1. \\<bar>(b - a) * frac (c / (b - a))\\<bar> \\<le> b - a", "have \"\\<bar>frac (c / (b - a))\\<bar> \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>frac (c / (b - a))\\<bar> \\<le> 1", "using frac_unique_iff less_eq_real_def"], ["proof (prove)\nusing this:\n  (frac ?x = ?a) =\n  (?x - ?a \\<in> \\<int> \\<and> (0::?'a) \\<le> ?a \\<and> ?a < (1::?'a))\n  (?x \\<le> ?y) = (?x < ?y \\<or> ?x = ?y)\n\ngoal (1 subgoal):\n 1. \\<bar>frac (c / (b - a))\\<bar> \\<le> 1", "by auto"], ["proof (state)\nthis:\n  \\<bar>frac (c / (b - a))\\<bar> \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<bar>(b - a) * frac (c / (b - a))\\<bar> \\<le> b - a", "then"], ["proof (chain)\npicking this:\n  \\<bar>frac (c / (b - a))\\<bar> \\<le> 1", "show \"\\<bar>(b - a) * frac (c / (b - a))\\<bar> \\<le> b - a\""], ["proof (prove)\nusing this:\n  \\<bar>frac (c / (b - a))\\<bar> \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<bar>(b - a) * frac (c / (b - a))\\<bar> \\<le> b - a", "using \"2\""], ["proof (prove)\nusing this:\n  \\<bar>frac (c / (b - a))\\<bar> \\<le> 1\n  a < b\n\ngoal (1 subgoal):\n 1. \\<bar>(b - a) * frac (c / (b - a))\\<bar> \\<le> b - a", "by auto"], ["proof (state)\nthis:\n  \\<bar>(b - a) * frac (c / (b - a))\\<bar> \\<le> b - a\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {a..b}) fba i\n\ngoal (1 subgoal):\n 1. a < b \\<Longrightarrow>\n    has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "then"], ["proof (chain)\npicking this:\n  has_bochner_integral (lebesgue_on {a..b}) fba i", "show ?thesis"], ["proof (prove)\nusing this:\n  has_bochner_integral (lebesgue_on {a..b}) fba i\n\ngoal (1 subgoal):\n 1. has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i", "proof (rule has_bochner_integralI_AE [OF _ _ AE_I2])"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<lambda>x. f (x + c)) \\<in> borel_measurable (lebesgue_on {a..b})\n 2. \\<And>x.\n       x \\<in> space (lebesgue_on {a..b}) \\<Longrightarrow>\n       fba x = f (x + c)", "have \"fba \\<in> borel_measurable (lebesgue_on {a..b})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fba \\<in> borel_measurable (lebesgue_on {a..b})", "using \"*\" borel_measurable_has_bochner_integral"], ["proof (prove)\nusing this:\n  has_bochner_integral (lebesgue_on {a..b}) fba i\n  has_bochner_integral ?M ?f ?x \\<Longrightarrow>\n  ?f \\<in> borel_measurable ?M\n\ngoal (1 subgoal):\n 1. fba \\<in> borel_measurable (lebesgue_on {a..b})", "by blast"], ["proof (state)\nthis:\n  fba \\<in> borel_measurable (lebesgue_on {a..b})\n\ngoal (2 subgoals):\n 1. (\\<lambda>x. f (x + c)) \\<in> borel_measurable (lebesgue_on {a..b})\n 2. \\<And>x.\n       x \\<in> space (lebesgue_on {a..b}) \\<Longrightarrow>\n       fba x = f (x + c)", "then"], ["proof (chain)\npicking this:\n  fba \\<in> borel_measurable (lebesgue_on {a..b})", "show \"(\\<lambda>x. f(x + c)) \\<in> borel_measurable (lebesgue_on {a..b})\""], ["proof (prove)\nusing this:\n  fba \\<in> borel_measurable (lebesgue_on {a..b})\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. f (x + c)) \\<in> borel_measurable (lebesgue_on {a..b})", "by (subst measurable_lebesgue_cong [OF eq, symmetric])"], ["proof (state)\nthis:\n  (\\<lambda>x. f (x + c)) \\<in> borel_measurable (lebesgue_on {a..b})\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> space (lebesgue_on {a..b}) \\<Longrightarrow>\n       fba x = f (x + c)", "qed (auto simp: eq)"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  has_bochner_integral (lebesgue_on {a..b}) (\\<lambda>x. f (x + c)) i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma integrable_periodic_offset:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes f: \"integrable (lebesgue_on {a..b}) f\" and periodic: \"\\<And>x. f(x + (b-a)) = f x\"\n  shows \"integrable (lebesgue_on {a..b}) (\\<lambda>x. f(x + c))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integrable (lebesgue_on {a..b}) (\\<lambda>x. f (x + c))", "using f has_integral_periodic_offset periodic"], ["proof (prove)\nusing this:\n  integrable (lebesgue_on {a..b}) f\n  \\<lbrakk>has_bochner_integral (lebesgue_on {?a..?b}) ?f ?i;\n   \\<And>x. ?f (x + (?b - ?a)) = ?f x\\<rbrakk>\n  \\<Longrightarrow> has_bochner_integral (lebesgue_on {?a..?b})\n                     (\\<lambda>x. ?f (x + ?c)) ?i\n  f (?x + (b - a)) = f ?x\n\ngoal (1 subgoal):\n 1. integrable (lebesgue_on {a..b}) (\\<lambda>x. f (x + c))", "by (simp add: has_bochner_integral_iff)"], ["", "lemma absolutely_integrable_periodic_offset:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes f: \"f absolutely_integrable_on {a..b}\" and periodic: \"\\<And>x. f(x + (b-a)) = f x\"\n  shows \"(\\<lambda>x. f(x + c)) absolutely_integrable_on {a..b}\" \"(\\<lambda>x. f(c + x)) absolutely_integrable_on {a..b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. f (x + c)) absolutely_integrable_on {a..b} &&&\n    (\\<lambda>x. f (c + x)) absolutely_integrable_on {a..b}", "using assms integrable_periodic_offset [of a b \"f\"]"], ["proof (prove)\nusing this:\n  f absolutely_integrable_on {a..b}\n  f (?x + (b - a)) = f ?x\n  \\<lbrakk>integrable (lebesgue_on {a..b}) f;\n   \\<And>x. f (x + (b - a)) = f x\\<rbrakk>\n  \\<Longrightarrow> integrable (lebesgue_on {a..b}) (\\<lambda>x. f (x + ?c))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. f (x + c)) absolutely_integrable_on {a..b} &&&\n    (\\<lambda>x. f (c + x)) absolutely_integrable_on {a..b}", "by (auto simp: integrable_restrict_space set_integrable_def add.commute [of c])"], ["", "lemma integral_periodic_offset:\n  fixes f :: \"real \\<Rightarrow> real\"\n  assumes periodic: \"\\<And>x. f(x + (b-a)) = f x\"\n  shows \"integral\\<^sup>L (lebesgue_on {a..b}) (\\<lambda>x. f(x + c)) = integral\\<^sup>L (lebesgue_on {a..b}) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. LINT x|lebesgue_on {a..b}. f (x + c) =\n    integral\\<^sup>L (lebesgue_on {a..b}) f", "proof (cases \"integrable (lebesgue_on {a..b}) f\")"], ["proof (state)\ngoal (2 subgoals):\n 1. integrable (lebesgue_on {a..b}) f \\<Longrightarrow>\n    LINT x|lebesgue_on {a..b}. f (x + c) =\n    integral\\<^sup>L (lebesgue_on {a..b}) f\n 2. \\<not> integrable (lebesgue_on {a..b}) f \\<Longrightarrow>\n    LINT x|lebesgue_on {a..b}. f (x + c) =\n    integral\\<^sup>L (lebesgue_on {a..b}) f", "case True"], ["proof (state)\nthis:\n  integrable (lebesgue_on {a..b}) f\n\ngoal (2 subgoals):\n 1. integrable (lebesgue_on {a..b}) f \\<Longrightarrow>\n    LINT x|lebesgue_on {a..b}. f (x + c) =\n    integral\\<^sup>L (lebesgue_on {a..b}) f\n 2. \\<not> integrable (lebesgue_on {a..b}) f \\<Longrightarrow>\n    LINT x|lebesgue_on {a..b}. f (x + c) =\n    integral\\<^sup>L (lebesgue_on {a..b}) f", "then"], ["proof (chain)\npicking this:\n  integrable (lebesgue_on {a..b}) f", "show ?thesis"], ["proof (prove)\nusing this:\n  integrable (lebesgue_on {a..b}) f\n\ngoal (1 subgoal):\n 1. LINT x|lebesgue_on {a..b}. f (x + c) =\n    integral\\<^sup>L (lebesgue_on {a..b}) f", "using has_integral_periodic_offset periodic"], ["proof (prove)\nusing this:\n  integrable (lebesgue_on {a..b}) f\n  \\<lbrakk>has_bochner_integral (lebesgue_on {?a..?b}) ?f ?i;\n   \\<And>x. ?f (x + (?b - ?a)) = ?f x\\<rbrakk>\n  \\<Longrightarrow> has_bochner_integral (lebesgue_on {?a..?b})\n                     (\\<lambda>x. ?f (x + ?c)) ?i\n  f (?x + (b - a)) = f ?x\n\ngoal (1 subgoal):\n 1. LINT x|lebesgue_on {a..b}. f (x + c) =\n    integral\\<^sup>L (lebesgue_on {a..b}) f", "by (simp add: has_bochner_integral_iff)"], ["proof (state)\nthis:\n  LINT x|lebesgue_on {a..b}. f (x + c) =\n  integral\\<^sup>L (lebesgue_on {a..b}) f\n\ngoal (1 subgoal):\n 1. \\<not> integrable (lebesgue_on {a..b}) f \\<Longrightarrow>\n    LINT x|lebesgue_on {a..b}. f (x + c) =\n    integral\\<^sup>L (lebesgue_on {a..b}) f", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> integrable (lebesgue_on {a..b}) f \\<Longrightarrow>\n    LINT x|lebesgue_on {a..b}. f (x + c) =\n    integral\\<^sup>L (lebesgue_on {a..b}) f", "case False"], ["proof (state)\nthis:\n  \\<not> integrable (lebesgue_on {a..b}) f\n\ngoal (1 subgoal):\n 1. \\<not> integrable (lebesgue_on {a..b}) f \\<Longrightarrow>\n    LINT x|lebesgue_on {a..b}. f (x + c) =\n    integral\\<^sup>L (lebesgue_on {a..b}) f", "then"], ["proof (chain)\npicking this:\n  \\<not> integrable (lebesgue_on {a..b}) f", "have \"\\<not> integrable (lebesgue_on {a..b}) (\\<lambda>x. f(x + c))\""], ["proof (prove)\nusing this:\n  \\<not> integrable (lebesgue_on {a..b}) f\n\ngoal (1 subgoal):\n 1. \\<not> integrable (lebesgue_on {a..b}) (\\<lambda>x. f (x + c))", "using periodic[of \"_+c\"]"], ["proof (prove)\nusing this:\n  \\<not> integrable (lebesgue_on {a..b}) f\n  f (?uu3 + c + (b - a)) = f (?uu3 + c)\n\ngoal (1 subgoal):\n 1. \\<not> integrable (lebesgue_on {a..b}) (\\<lambda>x. f (x + c))", "by (auto simp: algebra_simps intro: dest: integrable_periodic_offset [where c = \"-c\"])"], ["proof (state)\nthis:\n  \\<not> integrable (lebesgue_on {a..b}) (\\<lambda>x. f (x + c))\n\ngoal (1 subgoal):\n 1. \\<not> integrable (lebesgue_on {a..b}) f \\<Longrightarrow>\n    LINT x|lebesgue_on {a..b}. f (x + c) =\n    integral\\<^sup>L (lebesgue_on {a..b}) f", "then"], ["proof (chain)\npicking this:\n  \\<not> integrable (lebesgue_on {a..b}) (\\<lambda>x. f (x + c))", "have \"integral\\<^sup>L (lebesgue_on {a..b}) f = 0\" \"integral\\<^sup>L (lebesgue_on {a..b}) (\\<lambda>x. f(x + c)) = 0\""], ["proof (prove)\nusing this:\n  \\<not> integrable (lebesgue_on {a..b}) (\\<lambda>x. f (x + c))\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L (lebesgue_on {a..b}) f = 0 &&&\n    LINT x|lebesgue_on {a..b}. f (x + c) = 0", "using False not_integrable_integral_eq"], ["proof (prove)\nusing this:\n  \\<not> integrable (lebesgue_on {a..b}) (\\<lambda>x. f (x + c))\n  \\<not> integrable (lebesgue_on {a..b}) f\n  \\<not> integrable ?M ?f \\<Longrightarrow>\n  integral\\<^sup>L ?M ?f = (0::?'b)\n\ngoal (1 subgoal):\n 1. integral\\<^sup>L (lebesgue_on {a..b}) f = 0 &&&\n    LINT x|lebesgue_on {a..b}. f (x + c) = 0", "by blast+"], ["proof (state)\nthis:\n  integral\\<^sup>L (lebesgue_on {a..b}) f = 0\n  LINT x|lebesgue_on {a..b}. f (x + c) = 0\n\ngoal (1 subgoal):\n 1. \\<not> integrable (lebesgue_on {a..b}) f \\<Longrightarrow>\n    LINT x|lebesgue_on {a..b}. f (x + c) =\n    integral\\<^sup>L (lebesgue_on {a..b}) f", "then"], ["proof (chain)\npicking this:\n  integral\\<^sup>L (lebesgue_on {a..b}) f = 0\n  LINT x|lebesgue_on {a..b}. f (x + c) = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  integral\\<^sup>L (lebesgue_on {a..b}) f = 0\n  LINT x|lebesgue_on {a..b}. f (x + c) = 0\n\ngoal (1 subgoal):\n 1. LINT x|lebesgue_on {a..b}. f (x + c) =\n    integral\\<^sup>L (lebesgue_on {a..b}) f", "by simp"], ["proof (state)\nthis:\n  LINT x|lebesgue_on {a..b}. f (x + c) =\n  integral\\<^sup>L (lebesgue_on {a..b}) f\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}