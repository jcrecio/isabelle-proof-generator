{"file_name": "/home/qj213/afp-2021-10-22/thys/Inductive_Inference/Union.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Inductive_Inference", "problem_names": ["lemma not_closed_under_union:\n  \"\\<forall>\\<I>\\<in>{CP, TOTAL, CONS, LIM, BC}. U\\<^sub>0 \\<in> \\<I> \\<and> V\\<^sub>0 \\<in> \\<I> \\<and> U\\<^sub>0 \\<union> V\\<^sub>0 \\<notin> \\<I>\"", "lemma singleton_in_FIN: \"f \\<in> \\<R> \\<Longrightarrow> {f} \\<in> FIN\"", "lemma U_single_in_FIN: \"U_single \\<in> FIN\"", "lemma zero_U_single_not_in_FIN: \"{0\\<^sup>\\<infinity>} \\<union> U_single \\<notin> FIN\"", "lemma FIN_not_closed_under_union: \"\\<exists>U V. U \\<in> FIN \\<and> V \\<in> FIN \\<and> U \\<union> V \\<notin> FIN\"", "lemma r_div2_prim [simp]: \"prim_recfn 1 r_div2\"", "lemma r_div2 [simp]: \"eval r_div2 [n] \\<down>= n div 2\"", "lemma r_mod2_prim [simp]: \"prim_recfn 1 r_mod2\"", "lemma r_mod2 [simp]: \"eval r_mod2 [n] \\<down>= n mod 2\"", "lemma NUM_closed_under_union:\n  assumes \"U \\<in> NUM\" and \"V \\<in> NUM\"\n  shows \"U \\<union> V \\<in> NUM\""], "translations": [["", "lemma not_closed_under_union:\n  \"\\<forall>\\<I>\\<in>{CP, TOTAL, CONS, LIM, BC}. U\\<^sub>0 \\<in> \\<I> \\<and> V\\<^sub>0 \\<in> \\<I> \\<and> U\\<^sub>0 \\<union> V\\<^sub>0 \\<notin> \\<I>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<I>\\<in>{CP, TOTAL, CONS, LIM, BC}.\n       U\\<^sub>0 \\<in> \\<I> \\<and>\n       V\\<^sub>0 \\<in> \\<I> \\<and>\n       U\\<^sub>0 \\<union> V\\<^sub>0 \\<notin> \\<I>", "using U0_in_CP U0_in_NUM V0_in_FIN\n    FIN_subseteq_CP\n    NUM_subseteq_TOTAL\n    CP_subseteq_TOTAL\n    TOTAL_subseteq_CONS\n    CONS_subseteq_Lim\n    Lim_subseteq_BC\n    U0_V0_not_in_BC"], ["proof (prove)\nusing this:\n  U\\<^sub>0 \\<in> CP\n  U\\<^sub>0 \\<in> NUM\n  V\\<^sub>0 \\<in> FIN\n  FIN \\<subseteq> CP\n  NUM \\<subseteq> TOTAL\n  CP \\<subseteq> TOTAL\n  TOTAL \\<subseteq> CONS\n  CONS \\<subseteq> LIM\n  LIM \\<subseteq> BC\n  U\\<^sub>0 \\<union> V\\<^sub>0 \\<notin> BC\n\ngoal (1 subgoal):\n 1. \\<forall>\\<I>\\<in>{CP, TOTAL, CONS, LIM, BC}.\n       U\\<^sub>0 \\<in> \\<I> \\<and>\n       V\\<^sub>0 \\<in> \\<I> \\<and>\n       U\\<^sub>0 \\<union> V\\<^sub>0 \\<notin> \\<I>", "by blast"], ["", "text \\<open>In order to show the analogous result for FIN consider the\nclasses $\\{0^\\infty\\}$ and $\\{0^n10^\\infty \\mid n \\in \\mathbb{N}\\}$. The\nformer can be learned finitely by a strategy that hypothesizes $0^\\infty$ for\nevery input. The latter can be learned finitely by a strategy that waits for\nthe 1 and hypothesizes the only function in the class with a 1 at that\nposition. However, the union of both classes is not in FIN. This is because\nany FIN strategy has to hypothesize $0^\\infty$ on some prefix of the form\n$0^n$. But the strategy then fails for the function $0^n10^\\infty$.\\<close>"], ["", "lemma singleton_in_FIN: \"f \\<in> \\<R> \\<Longrightarrow> {f} \\<in> FIN\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in> \\<R> \\<Longrightarrow> {f} \\<in> FIN", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<in> \\<R> \\<Longrightarrow> {f} \\<in> FIN", "assume \"f \\<in> \\<R>\""], ["proof (state)\nthis:\n  f \\<in> \\<R>\n\ngoal (1 subgoal):\n 1. f \\<in> \\<R> \\<Longrightarrow> {f} \\<in> FIN", "then"], ["proof (chain)\npicking this:\n  f \\<in> \\<R>", "obtain i where i: \"\\<phi> i = f\""], ["proof (prove)\nusing this:\n  f \\<in> \\<R>\n\ngoal (1 subgoal):\n 1. (\\<And>i. \\<phi> i = f \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using phi_universal"], ["proof (prove)\nusing this:\n  f \\<in> \\<R>\n  \\<lbrakk>?f \\<in> \\<P>;\n   \\<And>i. \\<phi> i = ?f \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>i. \\<phi> i = f \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<phi> i = f\n\ngoal (1 subgoal):\n 1. f \\<in> \\<R> \\<Longrightarrow> {f} \\<in> FIN", "define s :: partial1 where \"s = (\\<lambda>_. Some (Suc i))\""], ["proof (state)\nthis:\n  s = (\\<lambda>_. Some (Suc i))\n\ngoal (1 subgoal):\n 1. f \\<in> \\<R> \\<Longrightarrow> {f} \\<in> FIN", "then"], ["proof (chain)\npicking this:\n  s = (\\<lambda>_. Some (Suc i))", "have \"s \\<in> \\<R>\""], ["proof (prove)\nusing this:\n  s = (\\<lambda>_. Some (Suc i))\n\ngoal (1 subgoal):\n 1. s \\<in> \\<R>", "using const_in_Prim1[of \"Suc i\"]"], ["proof (prove)\nusing this:\n  s = (\\<lambda>_. Some (Suc i))\n  (\\<lambda>_. Some (Suc i)) \\<in> Prim1\n\ngoal (1 subgoal):\n 1. s \\<in> \\<R>", "by simp"], ["proof (state)\nthis:\n  s \\<in> \\<R>\n\ngoal (1 subgoal):\n 1. f \\<in> \\<R> \\<Longrightarrow> {f} \\<in> FIN", "have \"learn_fin \\<phi> {f} s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. learn_fin \\<phi> {f} s", "proof (intro learn_finI)"], ["proof (state)\ngoal (2 subgoals):\n 1. environment \\<phi> {f} s\n 2. \\<And>fa.\n       fa \\<in> {f} \\<Longrightarrow>\n       \\<exists>i n\\<^sub>0.\n          \\<phi> i = fa \\<and>\n          (\\<forall>n<n\\<^sub>0.\n              s (fa \\<triangleright> n) \\<down>= 0) \\<and>\n          (\\<forall>n\\<ge>n\\<^sub>0.\n              s (fa \\<triangleright> n) \\<down>= Suc i)", "show \"environment \\<phi> {f} s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. environment \\<phi> {f} s", "using \\<open>s \\<in> \\<R>\\<close> \\<open>f \\<in> \\<R>\\<close>"], ["proof (prove)\nusing this:\n  s \\<in> \\<R>\n  f \\<in> \\<R>\n\ngoal (1 subgoal):\n 1. environment \\<phi> {f} s", "by (simp add: phi_in_P2)"], ["proof (state)\nthis:\n  environment \\<phi> {f} s\n\ngoal (1 subgoal):\n 1. \\<And>fa.\n       fa \\<in> {f} \\<Longrightarrow>\n       \\<exists>i n\\<^sub>0.\n          \\<phi> i = fa \\<and>\n          (\\<forall>n<n\\<^sub>0.\n              s (fa \\<triangleright> n) \\<down>= 0) \\<and>\n          (\\<forall>n\\<ge>n\\<^sub>0.\n              s (fa \\<triangleright> n) \\<down>= Suc i)", "show \"\\<exists>i n\\<^sub>0. \\<phi> i = g \\<and> (\\<forall>n<n\\<^sub>0. s (g \\<triangleright> n) \\<down>= 0) \\<and> (\\<forall>n\\<ge>n\\<^sub>0. s (g \\<triangleright> n) \\<down>= Suc i)\"\n      if \"g \\<in> {f}\" for g"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       \\<phi> i = g \\<and>\n       (\\<forall>n<n\\<^sub>0. s (g \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (g \\<triangleright> n) \\<down>= Suc i)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       \\<phi> i = g \\<and>\n       (\\<forall>n<n\\<^sub>0. s (g \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (g \\<triangleright> n) \\<down>= Suc i)", "from that"], ["proof (chain)\npicking this:\n  g \\<in> {f}", "have \"g = f\""], ["proof (prove)\nusing this:\n  g \\<in> {f}\n\ngoal (1 subgoal):\n 1. g = f", "by simp"], ["proof (state)\nthis:\n  g = f\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       \\<phi> i = g \\<and>\n       (\\<forall>n<n\\<^sub>0. s (g \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (g \\<triangleright> n) \\<down>= Suc i)", "then"], ["proof (chain)\npicking this:\n  g = f", "have \"\\<phi> i = g\""], ["proof (prove)\nusing this:\n  g = f\n\ngoal (1 subgoal):\n 1. \\<phi> i = g", "using i"], ["proof (prove)\nusing this:\n  g = f\n  \\<phi> i = f\n\ngoal (1 subgoal):\n 1. \\<phi> i = g", "by simp"], ["proof (state)\nthis:\n  \\<phi> i = g\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       \\<phi> i = g \\<and>\n       (\\<forall>n<n\\<^sub>0. s (g \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (g \\<triangleright> n) \\<down>= Suc i)", "moreover"], ["proof (state)\nthis:\n  \\<phi> i = g\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       \\<phi> i = g \\<and>\n       (\\<forall>n<n\\<^sub>0. s (g \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (g \\<triangleright> n) \\<down>= Suc i)", "have \"\\<forall>n<0. s (g \\<triangleright> n) \\<down>= 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n<0. s (g \\<triangleright> n) \\<down>= 0", "by simp"], ["proof (state)\nthis:\n  \\<forall>n<0. s (g \\<triangleright> n) \\<down>= 0\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       \\<phi> i = g \\<and>\n       (\\<forall>n<n\\<^sub>0. s (g \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (g \\<triangleright> n) \\<down>= Suc i)", "moreover"], ["proof (state)\nthis:\n  \\<forall>n<0. s (g \\<triangleright> n) \\<down>= 0\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       \\<phi> i = g \\<and>\n       (\\<forall>n<n\\<^sub>0. s (g \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (g \\<triangleright> n) \\<down>= Suc i)", "have \"\\<forall>n\\<ge>0. s (g \\<triangleright> n) \\<down>= Suc i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>0. s (g \\<triangleright> n) \\<down>= Suc i", "using s_def"], ["proof (prove)\nusing this:\n  s = (\\<lambda>_. Some (Suc i))\n\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>0. s (g \\<triangleright> n) \\<down>= Suc i", "by simp"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>0. s (g \\<triangleright> n) \\<down>= Suc i\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       \\<phi> i = g \\<and>\n       (\\<forall>n<n\\<^sub>0. s (g \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (g \\<triangleright> n) \\<down>= Suc i)", "ultimately"], ["proof (chain)\npicking this:\n  \\<phi> i = g\n  \\<forall>n<0. s (g \\<triangleright> n) \\<down>= 0\n  \\<forall>n\\<ge>0. s (g \\<triangleright> n) \\<down>= Suc i", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<phi> i = g\n  \\<forall>n<0. s (g \\<triangleright> n) \\<down>= 0\n  \\<forall>n\\<ge>0. s (g \\<triangleright> n) \\<down>= Suc i\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       \\<phi> i = g \\<and>\n       (\\<forall>n<n\\<^sub>0. s (g \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (g \\<triangleright> n) \\<down>= Suc i)", "by auto"], ["proof (state)\nthis:\n  \\<exists>i n\\<^sub>0.\n     \\<phi> i = g \\<and>\n     (\\<forall>n<n\\<^sub>0. s (g \\<triangleright> n) \\<down>= 0) \\<and>\n     (\\<forall>n\\<ge>n\\<^sub>0. s (g \\<triangleright> n) \\<down>= Suc i)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?g \\<in> {f} \\<Longrightarrow>\n  \\<exists>i n\\<^sub>0.\n     \\<phi> i = ?g \\<and>\n     (\\<forall>n<n\\<^sub>0. s (?g \\<triangleright> n) \\<down>= 0) \\<and>\n     (\\<forall>n\\<ge>n\\<^sub>0. s (?g \\<triangleright> n) \\<down>= Suc i)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  learn_fin \\<phi> {f} s\n\ngoal (1 subgoal):\n 1. f \\<in> \\<R> \\<Longrightarrow> {f} \\<in> FIN", "then"], ["proof (chain)\npicking this:\n  learn_fin \\<phi> {f} s", "show \"{f} \\<in> FIN\""], ["proof (prove)\nusing this:\n  learn_fin \\<phi> {f} s\n\ngoal (1 subgoal):\n 1. {f} \\<in> FIN", "using FIN_def"], ["proof (prove)\nusing this:\n  learn_fin \\<phi> {f} s\n  FIN \\<equiv> {U. \\<exists>\\<psi> s. learn_fin \\<psi> U s}\n\ngoal (1 subgoal):\n 1. {f} \\<in> FIN", "by auto"], ["proof (state)\nthis:\n  {f} \\<in> FIN\n\ngoal:\nNo subgoals!", "qed"], ["", "definition U_single :: \"partial1 set\" where\n  \"U_single \\<equiv> {(\\<lambda>x. if x = n then Some 1 else Some 0)| n. n \\<in> UNIV}\""], ["", "lemma U_single_in_FIN: \"U_single \\<in> FIN\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U_single \\<in> FIN", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. U_single \\<in> FIN", "define psi :: partial2 where \"psi \\<equiv> \\<lambda>n x. if x = n then Some 1 else Some 0\""], ["proof (state)\nthis:\n  psi \\<equiv> \\<lambda>n x. if x = n then Some 1 else Some 0\n\ngoal (1 subgoal):\n 1. U_single \\<in> FIN", "have \"psi \\<in> \\<R>\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. psi \\<in> \\<R>\\<^sup>2", "using psi_def"], ["proof (prove)\nusing this:\n  psi \\<equiv> \\<lambda>n x. if x = n then Some 1 else Some 0\n\ngoal (1 subgoal):\n 1. psi \\<in> \\<R>\\<^sup>2", "by (intro R2I[of \"Cn 2 r_not [r_eq]\"]) auto"], ["proof (state)\nthis:\n  psi \\<in> \\<R>\\<^sup>2\n\ngoal (1 subgoal):\n 1. U_single \\<in> FIN", "define s :: partial1 where\n    \"s \\<equiv> \\<lambda>b. if findr b \\<down>= e_length b then Some 0 else Some (Suc (the (findr b)))\""], ["proof (state)\nthis:\n  s \\<equiv>\n  \\<lambda>b.\n     if findr b \\<down>= e_length b then Some 0\n     else Some (Suc (the (findr b)))\n\ngoal (1 subgoal):\n 1. U_single \\<in> FIN", "have \"s \\<in> \\<R>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> \\<R>", "proof (rule R1I)"], ["proof (state)\ngoal (3 subgoals):\n 1. recfn 1 ?r\n 2. Partial_Recursive.total ?r\n 3. \\<And>x. eval ?r [x] = s x", "let ?r = \"Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]\""], ["proof (state)\ngoal (3 subgoals):\n 1. recfn 1 ?r\n 2. Partial_Recursive.total ?r\n 3. \\<And>x. eval ?r [x] = s x", "show \"recfn 1 ?r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. recfn 1 (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]])", "by simp"], ["proof (state)\nthis:\n  recfn 1 (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]])\n\ngoal (2 subgoals):\n 1. Partial_Recursive.total\n     (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]])\n 2. \\<And>x.\n       eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [x] = s x", "show \"total ?r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Partial_Recursive.total\n     (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]])", "by auto"], ["proof (state)\nthis:\n  Partial_Recursive.total\n   (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]])\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [x] = s x", "show \"eval ?r [b] = s b\" for b"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [b] = s b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [b] = s b", "let ?b = \"the (findr b)\""], ["proof (state)\ngoal (1 subgoal):\n 1. eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [b] = s b", "have \"eval ?r [b] = (if ?b = e_length b then Some 0 else Some (Suc (?b)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [b] =\n    (if the (findr b) = e_length b then Some 0\n     else Some (Suc (the (findr b))))", "using findr_total"], ["proof (prove)\nusing this:\n  findr ?e \\<down>\n\ngoal (1 subgoal):\n 1. eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [b] =\n    (if the (findr b) = e_length b then Some 0\n     else Some (Suc (the (findr b))))", "by simp"], ["proof (state)\nthis:\n  eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [b] =\n  (if the (findr b) = e_length b then Some 0\n   else Some (Suc (the (findr b))))\n\ngoal (1 subgoal):\n 1. eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [b] = s b", "then"], ["proof (chain)\npicking this:\n  eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [b] =\n  (if the (findr b) = e_length b then Some 0\n   else Some (Suc (the (findr b))))", "show \"eval ?r [b] = s b\""], ["proof (prove)\nusing this:\n  eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [b] =\n  (if the (findr b) = e_length b then Some 0\n   else Some (Suc (the (findr b))))\n\ngoal (1 subgoal):\n 1. eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [b] = s b", "by (metis findr_total option.collapse option.inject s_def)"], ["proof (state)\nthis:\n  eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [b] = s b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  eval (Cn 1 r_ifeq [r_findr, r_length, Z, Cn 1 S [r_findr]]) [?b] = s ?b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s \\<in> \\<R>\n\ngoal (1 subgoal):\n 1. U_single \\<in> FIN", "have \"U_single \\<subseteq> \\<R>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U_single \\<subseteq> \\<R>", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> U_single \\<Longrightarrow> x \\<in> \\<R>", "fix f"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> U_single \\<Longrightarrow> x \\<in> \\<R>", "assume \"f \\<in> U_single\""], ["proof (state)\nthis:\n  f \\<in> U_single\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> U_single \\<Longrightarrow> x \\<in> \\<R>", "then"], ["proof (chain)\npicking this:\n  f \\<in> U_single", "obtain n where \"f = (\\<lambda>x. if x = n then Some 1 else Some 0)\""], ["proof (prove)\nusing this:\n  f \\<in> U_single\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        f = (\\<lambda>x. if x = n then Some 1 else Some 0) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using U_single_def"], ["proof (prove)\nusing this:\n  f \\<in> U_single\n  U_single \\<equiv>\n  {\\<lambda>x. if x = n then Some 1 else Some 0 |n. n \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        f = (\\<lambda>x. if x = n then Some 1 else Some 0) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  f = (\\<lambda>x. if x = n then Some 1 else Some 0)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> U_single \\<Longrightarrow> x \\<in> \\<R>", "then"], ["proof (chain)\npicking this:\n  f = (\\<lambda>x. if x = n then Some 1 else Some 0)", "have \"f = psi n\""], ["proof (prove)\nusing this:\n  f = (\\<lambda>x. if x = n then Some 1 else Some 0)\n\ngoal (1 subgoal):\n 1. f = psi n", "using psi_def"], ["proof (prove)\nusing this:\n  f = (\\<lambda>x. if x = n then Some 1 else Some 0)\n  psi \\<equiv> \\<lambda>n x. if x = n then Some 1 else Some 0\n\ngoal (1 subgoal):\n 1. f = psi n", "by simp"], ["proof (state)\nthis:\n  f = psi n\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> U_single \\<Longrightarrow> x \\<in> \\<R>", "then"], ["proof (chain)\npicking this:\n  f = psi n", "show \"f \\<in> \\<R>\""], ["proof (prove)\nusing this:\n  f = psi n\n\ngoal (1 subgoal):\n 1. f \\<in> \\<R>", "using \\<open>psi \\<in> \\<R>\\<^sup>2\\<close>"], ["proof (prove)\nusing this:\n  f = psi n\n  psi \\<in> \\<R>\\<^sup>2\n\ngoal (1 subgoal):\n 1. f \\<in> \\<R>", "by simp"], ["proof (state)\nthis:\n  f \\<in> \\<R>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  U_single \\<subseteq> \\<R>\n\ngoal (1 subgoal):\n 1. U_single \\<in> FIN", "have \"learn_fin psi U_single s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. learn_fin psi U_single s", "proof (rule learn_finI)"], ["proof (state)\ngoal (2 subgoals):\n 1. environment psi U_single s\n 2. \\<And>f.\n       f \\<in> U_single \\<Longrightarrow>\n       \\<exists>i n\\<^sub>0.\n          psi i = f \\<and>\n          (\\<forall>n<n\\<^sub>0. s (f \\<triangleright> n) \\<down>= 0) \\<and>\n          (\\<forall>n\\<ge>n\\<^sub>0.\n              s (f \\<triangleright> n) \\<down>= Suc i)", "show \"environment psi U_single s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. environment psi U_single s", "using \\<open>psi \\<in> \\<R>\\<^sup>2\\<close> \\<open>s \\<in> \\<R>\\<close> \\<open>U_single \\<subseteq> \\<R>\\<close>"], ["proof (prove)\nusing this:\n  psi \\<in> \\<R>\\<^sup>2\n  s \\<in> \\<R>\n  U_single \\<subseteq> \\<R>\n\ngoal (1 subgoal):\n 1. environment psi U_single s", "by simp"], ["proof (state)\nthis:\n  environment psi U_single s\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       f \\<in> U_single \\<Longrightarrow>\n       \\<exists>i n\\<^sub>0.\n          psi i = f \\<and>\n          (\\<forall>n<n\\<^sub>0. s (f \\<triangleright> n) \\<down>= 0) \\<and>\n          (\\<forall>n\\<ge>n\\<^sub>0.\n              s (f \\<triangleright> n) \\<down>= Suc i)", "show \"\\<exists>i n\\<^sub>0. psi i = f \\<and> (\\<forall>n<n\\<^sub>0. s (f \\<triangleright> n) \\<down>= 0) \\<and> (\\<forall>n\\<ge>n\\<^sub>0. s (f \\<triangleright> n) \\<down>= Suc i)\"\n      if \"f \\<in> U_single\" for f"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       psi i = f \\<and>\n       (\\<forall>n<n\\<^sub>0. s (f \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (f \\<triangleright> n) \\<down>= Suc i)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       psi i = f \\<and>\n       (\\<forall>n<n\\<^sub>0. s (f \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (f \\<triangleright> n) \\<down>= Suc i)", "from that"], ["proof (chain)\npicking this:\n  f \\<in> U_single", "obtain i where i: \"f = (\\<lambda>x. if x = i then Some 1 else Some 0)\""], ["proof (prove)\nusing this:\n  f \\<in> U_single\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        f = (\\<lambda>x. if x = i then Some 1 else Some 0) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using U_single_def"], ["proof (prove)\nusing this:\n  f \\<in> U_single\n  U_single \\<equiv>\n  {\\<lambda>x. if x = n then Some 1 else Some 0 |n. n \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        f = (\\<lambda>x. if x = i then Some 1 else Some 0) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  f = (\\<lambda>x. if x = i then Some 1 else Some 0)\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       psi i = f \\<and>\n       (\\<forall>n<n\\<^sub>0. s (f \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (f \\<triangleright> n) \\<down>= Suc i)", "then"], ["proof (chain)\npicking this:\n  f = (\\<lambda>x. if x = i then Some 1 else Some 0)", "have \"psi i = f\""], ["proof (prove)\nusing this:\n  f = (\\<lambda>x. if x = i then Some 1 else Some 0)\n\ngoal (1 subgoal):\n 1. psi i = f", "using psi_def"], ["proof (prove)\nusing this:\n  f = (\\<lambda>x. if x = i then Some 1 else Some 0)\n  psi \\<equiv> \\<lambda>n x. if x = n then Some 1 else Some 0\n\ngoal (1 subgoal):\n 1. psi i = f", "by simp"], ["proof (state)\nthis:\n  psi i = f\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       psi i = f \\<and>\n       (\\<forall>n<n\\<^sub>0. s (f \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (f \\<triangleright> n) \\<down>= Suc i)", "moreover"], ["proof (state)\nthis:\n  psi i = f\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       psi i = f \\<and>\n       (\\<forall>n<n\\<^sub>0. s (f \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (f \\<triangleright> n) \\<down>= Suc i)", "have \"\\<forall>n<i. s (f \\<triangleright> n) \\<down>= 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n<i. s (f \\<triangleright> n) \\<down>= 0", "using i s_def findr_def"], ["proof (prove)\nusing this:\n  f = (\\<lambda>x. if x = i then Some 1 else Some 0)\n  s \\<equiv>\n  \\<lambda>b.\n     if findr b \\<down>= e_length b then Some 0\n     else Some (Suc (the (findr b)))\n  findr ?e \\<equiv>\n  if \\<exists>i<e_length ?e. e_nth ?e i \\<noteq> 0\n  then Some (GREATEST i. i < e_length ?e \\<and> e_nth ?e i \\<noteq> 0)\n  else Some (e_length ?e)\n\ngoal (1 subgoal):\n 1. \\<forall>n<i. s (f \\<triangleright> n) \\<down>= 0", "by simp"], ["proof (state)\nthis:\n  \\<forall>n<i. s (f \\<triangleright> n) \\<down>= 0\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       psi i = f \\<and>\n       (\\<forall>n<n\\<^sub>0. s (f \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (f \\<triangleright> n) \\<down>= Suc i)", "moreover"], ["proof (state)\nthis:\n  \\<forall>n<i. s (f \\<triangleright> n) \\<down>= 0\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       psi i = f \\<and>\n       (\\<forall>n<n\\<^sub>0. s (f \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (f \\<triangleright> n) \\<down>= Suc i)", "have \"\\<forall>n\\<ge>i. s (f \\<triangleright> n) \\<down>= Suc i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n\\<ge>i. s (f \\<triangleright> n) \\<down>= Suc i", "proof (rule allI, rule impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       i \\<le> n \\<Longrightarrow> s (f \\<triangleright> n) \\<down>= Suc i", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       i \\<le> n \\<Longrightarrow> s (f \\<triangleright> n) \\<down>= Suc i", "assume \"n \\<ge> i\""], ["proof (state)\nthis:\n  i \\<le> n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       i \\<le> n \\<Longrightarrow> s (f \\<triangleright> n) \\<down>= Suc i", "let ?e = \"init f n\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       i \\<le> n \\<Longrightarrow> s (f \\<triangleright> n) \\<down>= Suc i", "have \"\\<exists>i<e_length ?e. e_nth ?e i \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>i<e_length (f \\<triangleright> n).\n       e_nth (f \\<triangleright> n) i \\<noteq> 0", "using \\<open>n \\<ge> i\\<close> i"], ["proof (prove)\nusing this:\n  i \\<le> n\n  f = (\\<lambda>x. if x = i then Some 1 else Some 0)\n\ngoal (1 subgoal):\n 1. \\<exists>i<e_length (f \\<triangleright> n).\n       e_nth (f \\<triangleright> n) i \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  \\<exists>i<e_length (f \\<triangleright> n).\n     e_nth (f \\<triangleright> n) i \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       i \\<le> n \\<Longrightarrow> s (f \\<triangleright> n) \\<down>= Suc i", "then"], ["proof (chain)\npicking this:\n  \\<exists>i<e_length (f \\<triangleright> n).\n     e_nth (f \\<triangleright> n) i \\<noteq> 0", "have less: \"the (findr ?e) < e_length ?e\"\n          and nth_e: \"e_nth ?e (the (findr ?e)) \\<noteq> 0\""], ["proof (prove)\nusing this:\n  \\<exists>i<e_length (f \\<triangleright> n).\n     e_nth (f \\<triangleright> n) i \\<noteq> 0\n\ngoal (1 subgoal):\n 1. the (findr (f \\<triangleright> n)) < e_length (f \\<triangleright> n) &&&\n    e_nth (f \\<triangleright> n)\n     (the (findr (f \\<triangleright> n))) \\<noteq>\n    0", "using findr_ex"], ["proof (prove)\nusing this:\n  \\<exists>i<e_length (f \\<triangleright> n).\n     e_nth (f \\<triangleright> n) i \\<noteq> 0\n  \\<exists>i<e_length ?e. e_nth ?e i \\<noteq> 0 \\<Longrightarrow>\n  the (findr ?e) < e_length ?e\n  \\<exists>i<e_length ?e. e_nth ?e i \\<noteq> 0 \\<Longrightarrow>\n  e_nth ?e (the (findr ?e)) \\<noteq> 0\n  \\<exists>i<e_length ?e. e_nth ?e i \\<noteq> 0 \\<Longrightarrow>\n  \\<forall>i.\n     the (findr ?e) < i \\<and> i < e_length ?e \\<longrightarrow>\n     e_nth ?e i = 0\n\ngoal (1 subgoal):\n 1. the (findr (f \\<triangleright> n)) < e_length (f \\<triangleright> n) &&&\n    e_nth (f \\<triangleright> n)\n     (the (findr (f \\<triangleright> n))) \\<noteq>\n    0", "by blast+"], ["proof (state)\nthis:\n  the (findr (f \\<triangleright> n)) < e_length (f \\<triangleright> n)\n  e_nth (f \\<triangleright> n) (the (findr (f \\<triangleright> n))) \\<noteq>\n  0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       i \\<le> n \\<Longrightarrow> s (f \\<triangleright> n) \\<down>= Suc i", "then"], ["proof (chain)\npicking this:\n  the (findr (f \\<triangleright> n)) < e_length (f \\<triangleright> n)\n  e_nth (f \\<triangleright> n) (the (findr (f \\<triangleright> n))) \\<noteq>\n  0", "have \"s ?e \\<down>= Suc (the (findr ?e))\""], ["proof (prove)\nusing this:\n  the (findr (f \\<triangleright> n)) < e_length (f \\<triangleright> n)\n  e_nth (f \\<triangleright> n) (the (findr (f \\<triangleright> n))) \\<noteq>\n  0\n\ngoal (1 subgoal):\n 1. s (f \\<triangleright> n) \\<down>=\n    Suc (the (findr (f \\<triangleright> n)))", "using s_def"], ["proof (prove)\nusing this:\n  the (findr (f \\<triangleright> n)) < e_length (f \\<triangleright> n)\n  e_nth (f \\<triangleright> n) (the (findr (f \\<triangleright> n))) \\<noteq>\n  0\n  s \\<equiv>\n  \\<lambda>b.\n     if findr b \\<down>= e_length b then Some 0\n     else Some (Suc (the (findr b)))\n\ngoal (1 subgoal):\n 1. s (f \\<triangleright> n) \\<down>=\n    Suc (the (findr (f \\<triangleright> n)))", "by auto"], ["proof (state)\nthis:\n  s (f \\<triangleright> n) \\<down>= Suc (the (findr (f \\<triangleright> n)))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       i \\<le> n \\<Longrightarrow> s (f \\<triangleright> n) \\<down>= Suc i", "moreover"], ["proof (state)\nthis:\n  s (f \\<triangleright> n) \\<down>= Suc (the (findr (f \\<triangleright> n)))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       i \\<le> n \\<Longrightarrow> s (f \\<triangleright> n) \\<down>= Suc i", "have \"the (findr ?e) = i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. the (findr (f \\<triangleright> n)) = i", "using nth_e less i"], ["proof (prove)\nusing this:\n  e_nth (f \\<triangleright> n) (the (findr (f \\<triangleright> n))) \\<noteq>\n  0\n  the (findr (f \\<triangleright> n)) < e_length (f \\<triangleright> n)\n  f = (\\<lambda>x. if x = i then Some 1 else Some 0)\n\ngoal (1 subgoal):\n 1. the (findr (f \\<triangleright> n)) = i", "by (metis length_init nth_init option.sel)"], ["proof (state)\nthis:\n  the (findr (f \\<triangleright> n)) = i\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       i \\<le> n \\<Longrightarrow> s (f \\<triangleright> n) \\<down>= Suc i", "ultimately"], ["proof (chain)\npicking this:\n  s (f \\<triangleright> n) \\<down>= Suc (the (findr (f \\<triangleright> n)))\n  the (findr (f \\<triangleright> n)) = i", "show \"s ?e \\<down>= Suc i\""], ["proof (prove)\nusing this:\n  s (f \\<triangleright> n) \\<down>= Suc (the (findr (f \\<triangleright> n)))\n  the (findr (f \\<triangleright> n)) = i\n\ngoal (1 subgoal):\n 1. s (f \\<triangleright> n) \\<down>= Suc i", "by simp"], ["proof (state)\nthis:\n  s (f \\<triangleright> n) \\<down>= Suc i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>i. s (f \\<triangleright> n) \\<down>= Suc i\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       psi i = f \\<and>\n       (\\<forall>n<n\\<^sub>0. s (f \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (f \\<triangleright> n) \\<down>= Suc i)", "ultimately"], ["proof (chain)\npicking this:\n  psi i = f\n  \\<forall>n<i. s (f \\<triangleright> n) \\<down>= 0\n  \\<forall>n\\<ge>i. s (f \\<triangleright> n) \\<down>= Suc i", "show ?thesis"], ["proof (prove)\nusing this:\n  psi i = f\n  \\<forall>n<i. s (f \\<triangleright> n) \\<down>= 0\n  \\<forall>n\\<ge>i. s (f \\<triangleright> n) \\<down>= Suc i\n\ngoal (1 subgoal):\n 1. \\<exists>i n\\<^sub>0.\n       psi i = f \\<and>\n       (\\<forall>n<n\\<^sub>0. s (f \\<triangleright> n) \\<down>= 0) \\<and>\n       (\\<forall>n\\<ge>n\\<^sub>0. s (f \\<triangleright> n) \\<down>= Suc i)", "by auto"], ["proof (state)\nthis:\n  \\<exists>i n\\<^sub>0.\n     psi i = f \\<and>\n     (\\<forall>n<n\\<^sub>0. s (f \\<triangleright> n) \\<down>= 0) \\<and>\n     (\\<forall>n\\<ge>n\\<^sub>0. s (f \\<triangleright> n) \\<down>= Suc i)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?f \\<in> U_single \\<Longrightarrow>\n  \\<exists>i n\\<^sub>0.\n     psi i = ?f \\<and>\n     (\\<forall>n<n\\<^sub>0. s (?f \\<triangleright> n) \\<down>= 0) \\<and>\n     (\\<forall>n\\<ge>n\\<^sub>0. s (?f \\<triangleright> n) \\<down>= Suc i)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  learn_fin psi U_single s\n\ngoal (1 subgoal):\n 1. U_single \\<in> FIN", "then"], ["proof (chain)\npicking this:\n  learn_fin psi U_single s", "show \"U_single \\<in> FIN\""], ["proof (prove)\nusing this:\n  learn_fin psi U_single s\n\ngoal (1 subgoal):\n 1. U_single \\<in> FIN", "using FIN_def"], ["proof (prove)\nusing this:\n  learn_fin psi U_single s\n  FIN \\<equiv> {U. \\<exists>\\<psi> s. learn_fin \\<psi> U s}\n\ngoal (1 subgoal):\n 1. U_single \\<in> FIN", "by blast"], ["proof (state)\nthis:\n  U_single \\<in> FIN\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma zero_U_single_not_in_FIN: \"{0\\<^sup>\\<infinity>} \\<union> U_single \\<notin> FIN\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<union> U_single \\<notin> FIN", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN \\<Longrightarrow>\n    False", "assume \"{0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN\""], ["proof (state)\nthis:\n  {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN\n\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN", "obtain psi s where learn: \"learn_fin psi ({0\\<^sup>\\<infinity>} \\<union> U_single) s\""], ["proof (prove)\nusing this:\n  {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN\n\ngoal (1 subgoal):\n 1. (\\<And>psi s.\n        learn_fin psi ({0\\<^sup>\\<infinity>} \\<union> U_single)\n         s \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using FIN_def"], ["proof (prove)\nusing this:\n  {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN\n  FIN \\<equiv> {U. \\<exists>\\<psi> s. learn_fin \\<psi> U s}\n\ngoal (1 subgoal):\n 1. (\\<And>psi s.\n        learn_fin psi ({0\\<^sup>\\<infinity>} \\<union> U_single)\n         s \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  learn_fin psi ({0\\<^sup>\\<infinity>} \\<union> U_single) s\n\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  learn_fin psi ({0\\<^sup>\\<infinity>} \\<union> U_single) s", "have \"learn_fin psi {0\\<^sup>\\<infinity>} s\""], ["proof (prove)\nusing this:\n  learn_fin psi ({0\\<^sup>\\<infinity>} \\<union> U_single) s\n\ngoal (1 subgoal):\n 1. learn_fin psi {0\\<^sup>\\<infinity>} s", "using learn_fin_closed_subseteq"], ["proof (prove)\nusing this:\n  learn_fin psi ({0\\<^sup>\\<infinity>} \\<union> U_single) s\n  \\<lbrakk>learn_fin ?\\<psi> ?U ?s; ?V \\<subseteq> ?U\\<rbrakk>\n  \\<Longrightarrow> learn_fin ?\\<psi> ?V ?s\n\ngoal (1 subgoal):\n 1. learn_fin psi {0\\<^sup>\\<infinity>} s", "by auto"], ["proof (state)\nthis:\n  learn_fin psi {0\\<^sup>\\<infinity>} s\n\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  learn_fin psi {0\\<^sup>\\<infinity>} s", "obtain i n\\<^sub>0 where i:\n    \"psi i = 0\\<^sup>\\<infinity>\"\n    \"\\<forall>n<n\\<^sub>0. s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= 0\"\n    \"\\<forall>n\\<ge>n\\<^sub>0. s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= Suc i\""], ["proof (prove)\nusing this:\n  learn_fin psi {0\\<^sup>\\<infinity>} s\n\ngoal (1 subgoal):\n 1. (\\<And>i n\\<^sub>0.\n        \\<lbrakk>psi i = 0\\<^sup>\\<infinity>;\n         \\<forall>n<n\\<^sub>0.\n            s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= 0;\n         \\<forall>n\\<ge>n\\<^sub>0.\n            s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>=\n            Suc i\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using learn_finE(2)"], ["proof (prove)\nusing this:\n  learn_fin psi {0\\<^sup>\\<infinity>} s\n  \\<lbrakk>learn_fin ?\\<psi> ?U ?s; ?f \\<in> ?U\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i n\\<^sub>0.\n                       ?\\<psi> i = ?f \\<and>\n                       (\\<forall>n<n\\<^sub>0.\n                           ?s (?f \\<triangleright> n) \\<down>= 0) \\<and>\n                       (\\<forall>n\\<ge>n\\<^sub>0.\n                           ?s (?f \\<triangleright> n) \\<down>= Suc i)\n\ngoal (1 subgoal):\n 1. (\\<And>i n\\<^sub>0.\n        \\<lbrakk>psi i = 0\\<^sup>\\<infinity>;\n         \\<forall>n<n\\<^sub>0.\n            s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= 0;\n         \\<forall>n\\<ge>n\\<^sub>0.\n            s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>=\n            Suc i\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  psi i = 0\\<^sup>\\<infinity>\n  \\<forall>n<n\\<^sub>0.\n     s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= 0\n  \\<forall>n\\<ge>n\\<^sub>0.\n     s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= Suc i\n\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN \\<Longrightarrow>\n    False", "let ?f = \"\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0\""], ["proof (state)\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN \\<Longrightarrow>\n    False", "have \"?f \\<noteq> 0\\<^sup>\\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<noteq>\n    0\\<^sup>\\<infinity>", "by (metis option.inject zero_neq_one)"], ["proof (state)\nthis:\n  (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<noteq>\n  0\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN \\<Longrightarrow>\n    False", "have \"?f \\<in> U_single\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0)\n    \\<in> U_single", "using U_single_def"], ["proof (prove)\nusing this:\n  U_single \\<equiv>\n  {\\<lambda>x. if x = n then Some 1 else Some 0 |n. n \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0)\n    \\<in> U_single", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<in> U_single\n\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<in> U_single", "have \"learn_fin psi {?f} s\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<in> U_single\n\ngoal (1 subgoal):\n 1. learn_fin psi {\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0}\n     s", "using learn learn_fin_closed_subseteq"], ["proof (prove)\nusing this:\n  (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<in> U_single\n  learn_fin psi ({0\\<^sup>\\<infinity>} \\<union> U_single) s\n  \\<lbrakk>learn_fin ?\\<psi> ?U ?s; ?V \\<subseteq> ?U\\<rbrakk>\n  \\<Longrightarrow> learn_fin ?\\<psi> ?V ?s\n\ngoal (1 subgoal):\n 1. learn_fin psi {\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0}\n     s", "by simp"], ["proof (state)\nthis:\n  learn_fin psi {\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0} s\n\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  learn_fin psi {\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0} s", "obtain j m\\<^sub>0 where j:\n    \"psi j = ?f\"\n    \"\\<forall>n<m\\<^sub>0. s (?f \\<triangleright> n) \\<down>= 0\"\n    \"\\<forall>n\\<ge>m\\<^sub>0. s (?f \\<triangleright> n) \\<down>= Suc j\""], ["proof (prove)\nusing this:\n  learn_fin psi {\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0} s\n\ngoal (1 subgoal):\n 1. (\\<And>j m\\<^sub>0.\n        \\<lbrakk>psi j =\n                 (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0);\n         \\<forall>n<m\\<^sub>0.\n            s ((\\<lambda>x.\n                   if x = Suc n\\<^sub>0 then Some 1\n                   else Some 0) \\<triangleright>\n               n) \\<down>=\n            0;\n         \\<forall>n\\<ge>m\\<^sub>0.\n            s ((\\<lambda>x.\n                   if x = Suc n\\<^sub>0 then Some 1\n                   else Some 0) \\<triangleright>\n               n) \\<down>=\n            Suc j\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using learn_finE(2)"], ["proof (prove)\nusing this:\n  learn_fin psi {\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0} s\n  \\<lbrakk>learn_fin ?\\<psi> ?U ?s; ?f \\<in> ?U\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i n\\<^sub>0.\n                       ?\\<psi> i = ?f \\<and>\n                       (\\<forall>n<n\\<^sub>0.\n                           ?s (?f \\<triangleright> n) \\<down>= 0) \\<and>\n                       (\\<forall>n\\<ge>n\\<^sub>0.\n                           ?s (?f \\<triangleright> n) \\<down>= Suc i)\n\ngoal (1 subgoal):\n 1. (\\<And>j m\\<^sub>0.\n        \\<lbrakk>psi j =\n                 (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0);\n         \\<forall>n<m\\<^sub>0.\n            s ((\\<lambda>x.\n                   if x = Suc n\\<^sub>0 then Some 1\n                   else Some 0) \\<triangleright>\n               n) \\<down>=\n            0;\n         \\<forall>n\\<ge>m\\<^sub>0.\n            s ((\\<lambda>x.\n                   if x = Suc n\\<^sub>0 then Some 1\n                   else Some 0) \\<triangleright>\n               n) \\<down>=\n            Suc j\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  psi j = (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0)\n  \\<forall>n<m\\<^sub>0.\n     s ((\\<lambda>x.\n            if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n        n) \\<down>=\n     0\n  \\<forall>n\\<ge>m\\<^sub>0.\n     s ((\\<lambda>x.\n            if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n        n) \\<down>=\n     Suc j\n\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN \\<Longrightarrow>\n    False", "consider\n    (less) \"m\\<^sub>0 < n\\<^sub>0\" | (eq) \"m\\<^sub>0 = n\\<^sub>0\" | (gr) \"m\\<^sub>0 > n\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>m\\<^sub>0 < n\\<^sub>0 \\<Longrightarrow> thesis;\n     m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> thesis;\n     n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by linarith"], ["proof (state)\nthis:\n  \\<lbrakk>m\\<^sub>0 < n\\<^sub>0 \\<Longrightarrow> ?thesis1;\n   m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> ?thesis1;\n   n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> ?thesis1\\<rbrakk>\n  \\<Longrightarrow> ?thesis1\n\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<union> U_single \\<in> FIN \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>m\\<^sub>0 < n\\<^sub>0 \\<Longrightarrow> ?thesis1;\n   m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> ?thesis1;\n   n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> ?thesis1\\<rbrakk>\n  \\<Longrightarrow> ?thesis1", "show False"], ["proof (prove)\nusing this:\n  \\<lbrakk>m\\<^sub>0 < n\\<^sub>0 \\<Longrightarrow> ?thesis1;\n   m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> ?thesis1;\n   n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> ?thesis1\\<rbrakk>\n  \\<Longrightarrow> ?thesis1\n\ngoal (1 subgoal):\n 1. False", "proof (cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. m\\<^sub>0 < n\\<^sub>0 \\<Longrightarrow> False\n 2. m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> False\n 3. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "case less"], ["proof (state)\nthis:\n  m\\<^sub>0 < n\\<^sub>0\n\ngoal (3 subgoals):\n 1. m\\<^sub>0 < n\\<^sub>0 \\<Longrightarrow> False\n 2. m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> False\n 3. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  m\\<^sub>0 < n\\<^sub>0", "have \"s (0\\<^sup>\\<infinity>\\<triangleright> m\\<^sub>0) \\<down>= 0\""], ["proof (prove)\nusing this:\n  m\\<^sub>0 < n\\<^sub>0\n\ngoal (1 subgoal):\n 1. s (0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0) \\<down>= 0", "using i"], ["proof (prove)\nusing this:\n  m\\<^sub>0 < n\\<^sub>0\n  psi i = 0\\<^sup>\\<infinity>\n  \\<forall>n<n\\<^sub>0.\n     s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= 0\n  \\<forall>n\\<ge>n\\<^sub>0.\n     s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= Suc i\n\ngoal (1 subgoal):\n 1. s (0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0) \\<down>= 0", "by simp"], ["proof (state)\nthis:\n  s (0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0) \\<down>= 0\n\ngoal (3 subgoals):\n 1. m\\<^sub>0 < n\\<^sub>0 \\<Longrightarrow> False\n 2. m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> False\n 3. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  s (0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0) \\<down>= 0\n\ngoal (3 subgoals):\n 1. m\\<^sub>0 < n\\<^sub>0 \\<Longrightarrow> False\n 2. m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> False\n 3. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "have \"0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0 = ?f \\<triangleright> m\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0 =\n    (\\<lambda>x.\n        if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n    m\\<^sub>0", "using less init_eqI[of m\\<^sub>0 ?f \"0\\<^sup>\\<infinity>\"]"], ["proof (prove)\nusing this:\n  m\\<^sub>0 < n\\<^sub>0\n  (\\<And>x.\n      x \\<le> m\\<^sub>0 \\<Longrightarrow>\n      (if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<down>=\n      0) \\<Longrightarrow>\n  (\\<lambda>x.\n      if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n  m\\<^sub>0 =\n  0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0\n\ngoal (1 subgoal):\n 1. 0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0 =\n    (\\<lambda>x.\n        if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n    m\\<^sub>0", "by simp"], ["proof (state)\nthis:\n  0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0 =\n  (\\<lambda>x.\n      if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n  m\\<^sub>0\n\ngoal (3 subgoals):\n 1. m\\<^sub>0 < n\\<^sub>0 \\<Longrightarrow> False\n 2. m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> False\n 3. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  s (0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0) \\<down>= 0\n  0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0 =\n  (\\<lambda>x.\n      if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n  m\\<^sub>0", "have \"s (?f \\<triangleright> m\\<^sub>0) \\<down>= 0\""], ["proof (prove)\nusing this:\n  s (0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0) \\<down>= 0\n  0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0 =\n  (\\<lambda>x.\n      if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n  m\\<^sub>0\n\ngoal (1 subgoal):\n 1. s ((\\<lambda>x.\n           if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n       m\\<^sub>0) \\<down>=\n    0", "by simp"], ["proof (state)\nthis:\n  s ((\\<lambda>x.\n         if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n     m\\<^sub>0) \\<down>=\n  0\n\ngoal (3 subgoals):\n 1. m\\<^sub>0 < n\\<^sub>0 \\<Longrightarrow> False\n 2. m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> False\n 3. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  s ((\\<lambda>x.\n         if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n     m\\<^sub>0) \\<down>=\n  0", "show False"], ["proof (prove)\nusing this:\n  s ((\\<lambda>x.\n         if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n     m\\<^sub>0) \\<down>=\n  0\n\ngoal (1 subgoal):\n 1. False", "using j"], ["proof (prove)\nusing this:\n  s ((\\<lambda>x.\n         if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n     m\\<^sub>0) \\<down>=\n  0\n  psi j = (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0)\n  \\<forall>n<m\\<^sub>0.\n     s ((\\<lambda>x.\n            if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n        n) \\<down>=\n     0\n  \\<forall>n\\<ge>m\\<^sub>0.\n     s ((\\<lambda>x.\n            if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n        n) \\<down>=\n     Suc j\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> False\n 2. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> False\n 2. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "case eq"], ["proof (state)\nthis:\n  m\\<^sub>0 = n\\<^sub>0\n\ngoal (2 subgoals):\n 1. m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> False\n 2. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  m\\<^sub>0 = n\\<^sub>0", "have \"0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0 = ?f \\<triangleright> m\\<^sub>0\""], ["proof (prove)\nusing this:\n  m\\<^sub>0 = n\\<^sub>0\n\ngoal (1 subgoal):\n 1. 0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0 =\n    (\\<lambda>x.\n        if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n    m\\<^sub>0", "using init_eqI[of m\\<^sub>0 ?f \"0\\<^sup>\\<infinity>\"]"], ["proof (prove)\nusing this:\n  m\\<^sub>0 = n\\<^sub>0\n  (\\<And>x.\n      x \\<le> m\\<^sub>0 \\<Longrightarrow>\n      (if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<down>=\n      0) \\<Longrightarrow>\n  (\\<lambda>x.\n      if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n  m\\<^sub>0 =\n  0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0\n\ngoal (1 subgoal):\n 1. 0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0 =\n    (\\<lambda>x.\n        if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n    m\\<^sub>0", "by simp"], ["proof (state)\nthis:\n  0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0 =\n  (\\<lambda>x.\n      if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n  m\\<^sub>0\n\ngoal (2 subgoals):\n 1. m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> False\n 2. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0 =\n  (\\<lambda>x.\n      if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n  m\\<^sub>0", "have \"s (0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0) = s (?f \\<triangleright> m\\<^sub>0)\""], ["proof (prove)\nusing this:\n  0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0 =\n  (\\<lambda>x.\n      if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n  m\\<^sub>0\n\ngoal (1 subgoal):\n 1. s (0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0) =\n    s ((\\<lambda>x.\n           if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n       m\\<^sub>0)", "by simp"], ["proof (state)\nthis:\n  s (0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0) =\n  s ((\\<lambda>x.\n         if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n     m\\<^sub>0)\n\ngoal (2 subgoals):\n 1. m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> False\n 2. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  s (0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0) =\n  s ((\\<lambda>x.\n         if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n     m\\<^sub>0)", "have \"i = j\""], ["proof (prove)\nusing this:\n  s (0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0) =\n  s ((\\<lambda>x.\n         if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n     m\\<^sub>0)\n\ngoal (1 subgoal):\n 1. i = j", "using i j eq"], ["proof (prove)\nusing this:\n  s (0\\<^sup>\\<infinity> \\<triangleright> m\\<^sub>0) =\n  s ((\\<lambda>x.\n         if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n     m\\<^sub>0)\n  psi i = 0\\<^sup>\\<infinity>\n  \\<forall>n<n\\<^sub>0.\n     s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= 0\n  \\<forall>n\\<ge>n\\<^sub>0.\n     s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= Suc i\n  psi j = (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0)\n  \\<forall>n<m\\<^sub>0.\n     s ((\\<lambda>x.\n            if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n        n) \\<down>=\n     0\n  \\<forall>n\\<ge>m\\<^sub>0.\n     s ((\\<lambda>x.\n            if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n        n) \\<down>=\n     Suc j\n  m\\<^sub>0 = n\\<^sub>0\n\ngoal (1 subgoal):\n 1. i = j", "by simp"], ["proof (state)\nthis:\n  i = j\n\ngoal (2 subgoals):\n 1. m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> False\n 2. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  i = j", "have \"psi i = psi j\""], ["proof (prove)\nusing this:\n  i = j\n\ngoal (1 subgoal):\n 1. psi i = psi j", "by simp"], ["proof (state)\nthis:\n  psi i = psi j\n\ngoal (2 subgoals):\n 1. m\\<^sub>0 = n\\<^sub>0 \\<Longrightarrow> False\n 2. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  psi i = psi j", "show False"], ["proof (prove)\nusing this:\n  psi i = psi j\n\ngoal (1 subgoal):\n 1. False", "using \\<open>?f \\<noteq> 0\\<^sup>\\<infinity>\\<close> i j"], ["proof (prove)\nusing this:\n  psi i = psi j\n  (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<noteq>\n  0\\<^sup>\\<infinity>\n  psi i = 0\\<^sup>\\<infinity>\n  \\<forall>n<n\\<^sub>0.\n     s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= 0\n  \\<forall>n\\<ge>n\\<^sub>0.\n     s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= Suc i\n  psi j = (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0)\n  \\<forall>n<m\\<^sub>0.\n     s ((\\<lambda>x.\n            if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n        n) \\<down>=\n     0\n  \\<forall>n\\<ge>m\\<^sub>0.\n     s ((\\<lambda>x.\n            if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n        n) \\<down>=\n     Suc j\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "case gr"], ["proof (state)\nthis:\n  n\\<^sub>0 < m\\<^sub>0\n\ngoal (1 subgoal):\n 1. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "have \"0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0 = ?f \\<triangleright> n\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0 =\n    (\\<lambda>x.\n        if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n    n\\<^sub>0", "using init_eqI[of n\\<^sub>0 ?f \"0\\<^sup>\\<infinity>\"]"], ["proof (prove)\nusing this:\n  (\\<And>x.\n      x \\<le> n\\<^sub>0 \\<Longrightarrow>\n      (if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<down>=\n      0) \\<Longrightarrow>\n  (\\<lambda>x.\n      if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n  n\\<^sub>0 =\n  0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0\n\ngoal (1 subgoal):\n 1. 0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0 =\n    (\\<lambda>x.\n        if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n    n\\<^sub>0", "by simp"], ["proof (state)\nthis:\n  0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0 =\n  (\\<lambda>x.\n      if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n  n\\<^sub>0\n\ngoal (1 subgoal):\n 1. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0 =\n  (\\<lambda>x.\n      if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n  n\\<^sub>0\n\ngoal (1 subgoal):\n 1. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "have \"s (0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0) \\<down>= Suc i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s (0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0) \\<down>= Suc i", "using i"], ["proof (prove)\nusing this:\n  psi i = 0\\<^sup>\\<infinity>\n  \\<forall>n<n\\<^sub>0.\n     s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= 0\n  \\<forall>n\\<ge>n\\<^sub>0.\n     s (0\\<^sup>\\<infinity> \\<triangleright> n) \\<down>= Suc i\n\ngoal (1 subgoal):\n 1. s (0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0) \\<down>= Suc i", "by simp"], ["proof (state)\nthis:\n  s (0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0) \\<down>= Suc i\n\ngoal (1 subgoal):\n 1. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  s (0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0) \\<down>= Suc i\n\ngoal (1 subgoal):\n 1. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "have \"s (?f \\<triangleright> n\\<^sub>0) \\<down>= 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s ((\\<lambda>x.\n           if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n       n\\<^sub>0) \\<down>=\n    0", "using j gr"], ["proof (prove)\nusing this:\n  psi j = (\\<lambda>x. if x = Suc n\\<^sub>0 then Some 1 else Some 0)\n  \\<forall>n<m\\<^sub>0.\n     s ((\\<lambda>x.\n            if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n        n) \\<down>=\n     0\n  \\<forall>n\\<ge>m\\<^sub>0.\n     s ((\\<lambda>x.\n            if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n        n) \\<down>=\n     Suc j\n  n\\<^sub>0 < m\\<^sub>0\n\ngoal (1 subgoal):\n 1. s ((\\<lambda>x.\n           if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n       n\\<^sub>0) \\<down>=\n    0", "by simp"], ["proof (state)\nthis:\n  s ((\\<lambda>x.\n         if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n     n\\<^sub>0) \\<down>=\n  0\n\ngoal (1 subgoal):\n 1. n\\<^sub>0 < m\\<^sub>0 \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0 =\n  (\\<lambda>x.\n      if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n  n\\<^sub>0\n  s (0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0) \\<down>= Suc i\n  s ((\\<lambda>x.\n         if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n     n\\<^sub>0) \\<down>=\n  0", "show False"], ["proof (prove)\nusing this:\n  0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0 =\n  (\\<lambda>x.\n      if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n  n\\<^sub>0\n  s (0\\<^sup>\\<infinity> \\<triangleright> n\\<^sub>0) \\<down>= Suc i\n  s ((\\<lambda>x.\n         if x = Suc n\\<^sub>0 then Some 1 else Some 0) \\<triangleright>\n     n\\<^sub>0) \\<down>=\n  0\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma FIN_not_closed_under_union: \"\\<exists>U V. U \\<in> FIN \\<and> V \\<in> FIN \\<and> U \\<union> V \\<notin> FIN\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>U V.\n       U \\<in> FIN \\<and> V \\<in> FIN \\<and> U \\<union> V \\<notin> FIN", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>U V.\n       U \\<in> FIN \\<and> V \\<in> FIN \\<and> U \\<union> V \\<notin> FIN", "have \"{0\\<^sup>\\<infinity>} \\<in> FIN\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<in> FIN", "using singleton_in_FIN const_in_Prim1"], ["proof (prove)\nusing this:\n  ?f \\<in> \\<R> \\<Longrightarrow> {?f} \\<in> FIN\n  (\\<lambda>_. Some ?c) \\<in> Prim1\n\ngoal (1 subgoal):\n 1. {0\\<^sup>\\<infinity>} \\<in> FIN", "by simp"], ["proof (state)\nthis:\n  {0\\<^sup>\\<infinity>} \\<in> FIN\n\ngoal (1 subgoal):\n 1. \\<exists>U V.\n       U \\<in> FIN \\<and> V \\<in> FIN \\<and> U \\<union> V \\<notin> FIN", "moreover"], ["proof (state)\nthis:\n  {0\\<^sup>\\<infinity>} \\<in> FIN\n\ngoal (1 subgoal):\n 1. \\<exists>U V.\n       U \\<in> FIN \\<and> V \\<in> FIN \\<and> U \\<union> V \\<notin> FIN", "have \"U_single \\<in> FIN\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U_single \\<in> FIN", "using U_single_in_FIN"], ["proof (prove)\nusing this:\n  U_single \\<in> FIN\n\ngoal (1 subgoal):\n 1. U_single \\<in> FIN", "by simp"], ["proof (state)\nthis:\n  U_single \\<in> FIN\n\ngoal (1 subgoal):\n 1. \\<exists>U V.\n       U \\<in> FIN \\<and> V \\<in> FIN \\<and> U \\<union> V \\<notin> FIN", "ultimately"], ["proof (chain)\npicking this:\n  {0\\<^sup>\\<infinity>} \\<in> FIN\n  U_single \\<in> FIN", "show ?thesis"], ["proof (prove)\nusing this:\n  {0\\<^sup>\\<infinity>} \\<in> FIN\n  U_single \\<in> FIN\n\ngoal (1 subgoal):\n 1. \\<exists>U V.\n       U \\<in> FIN \\<and> V \\<in> FIN \\<and> U \\<union> V \\<notin> FIN", "using zero_U_single_not_in_FIN"], ["proof (prove)\nusing this:\n  {0\\<^sup>\\<infinity>} \\<in> FIN\n  U_single \\<in> FIN\n  {0\\<^sup>\\<infinity>} \\<union> U_single \\<notin> FIN\n\ngoal (1 subgoal):\n 1. \\<exists>U V.\n       U \\<in> FIN \\<and> V \\<in> FIN \\<and> U \\<union> V \\<notin> FIN", "by blast"], ["proof (state)\nthis:\n  \\<exists>U V.\n     U \\<in> FIN \\<and> V \\<in> FIN \\<and> U \\<union> V \\<notin> FIN\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>In contrast to the inference types, NUM is closed under the union\nof classes. The total numberings that exist for each NUM class can be\ninterleaved to produce a total numbering encompassing the union of the\nclasses. To define the interleaving, modulo and division by two will be\nhelpful.\\<close>"], ["", "definition \"r_div2 \\<equiv>\n  r_shrink\n   (Pr 1 Z\n     (Cn 3 r_ifle\n       [Cn 3 r_mul [r_constn 2 2, Cn 3 S [Id 3 0]], Id 3 2, Cn 3 S [Id 3 1], Id 3 1]))\""], ["", "lemma r_div2_prim [simp]: \"prim_recfn 1 r_div2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prim_recfn 1 r_div2", "unfolding r_div2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. prim_recfn 1\n     (r_shrink\n       (Pr 1 Z\n         (Cn 3 r_ifle\n           [Cn 3 r_mul [r_constn 2 2, Cn 3 S [recf.Id 3 0]], recf.Id 3 2,\n            Cn 3 S [recf.Id 3 1], recf.Id 3 1])))", "by simp"], ["", "lemma r_div2 [simp]: \"eval r_div2 [n] \\<down>= n div 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eval r_div2 [n] \\<down>= n div 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. eval r_div2 [n] \\<down>= n div 2", "let ?p = \"Pr 1 Z\n    (Cn 3 r_ifle\n      [Cn 3 r_mul [r_constn 2 2, Cn 3 S [Id 3 0]], Id 3 2, Cn 3 S [Id 3 1], Id 3 1])\""], ["proof (state)\ngoal (1 subgoal):\n 1. eval r_div2 [n] \\<down>= n div 2", "have \"eval ?p [i, n] \\<down>= min (n div 2) i\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval\n     (Pr 1 Z\n       (Cn 3 r_ifle\n         [Cn 3 r_mul [r_constn 2 2, Cn 3 S [recf.Id 3 0]], recf.Id 3 2,\n          Cn 3 S [recf.Id 3 1], recf.Id 3 1]))\n     [i, n] \\<down>=\n    min (n div 2) i", "by (induction i) auto"], ["proof (state)\nthis:\n  eval\n   (Pr 1 Z\n     (Cn 3 r_ifle\n       [Cn 3 r_mul [r_constn 2 2, Cn 3 S [recf.Id 3 0]], recf.Id 3 2,\n        Cn 3 S [recf.Id 3 1], recf.Id 3 1]))\n   [?i, n] \\<down>=\n  min (n div 2) ?i\n\ngoal (1 subgoal):\n 1. eval r_div2 [n] \\<down>= n div 2", "then"], ["proof (chain)\npicking this:\n  eval\n   (Pr 1 Z\n     (Cn 3 r_ifle\n       [Cn 3 r_mul [r_constn 2 2, Cn 3 S [recf.Id 3 0]], recf.Id 3 2,\n        Cn 3 S [recf.Id 3 1], recf.Id 3 1]))\n   [?i, n] \\<down>=\n  min (n div 2) ?i", "have \"eval ?p [n, n] \\<down>= n div 2\""], ["proof (prove)\nusing this:\n  eval\n   (Pr 1 Z\n     (Cn 3 r_ifle\n       [Cn 3 r_mul [r_constn 2 2, Cn 3 S [recf.Id 3 0]], recf.Id 3 2,\n        Cn 3 S [recf.Id 3 1], recf.Id 3 1]))\n   [?i, n] \\<down>=\n  min (n div 2) ?i\n\ngoal (1 subgoal):\n 1. eval\n     (Pr 1 Z\n       (Cn 3 r_ifle\n         [Cn 3 r_mul [r_constn 2 2, Cn 3 S [recf.Id 3 0]], recf.Id 3 2,\n          Cn 3 S [recf.Id 3 1], recf.Id 3 1]))\n     [n, n] \\<down>=\n    n div 2", "by simp"], ["proof (state)\nthis:\n  eval\n   (Pr 1 Z\n     (Cn 3 r_ifle\n       [Cn 3 r_mul [r_constn 2 2, Cn 3 S [recf.Id 3 0]], recf.Id 3 2,\n        Cn 3 S [recf.Id 3 1], recf.Id 3 1]))\n   [n, n] \\<down>=\n  n div 2\n\ngoal (1 subgoal):\n 1. eval r_div2 [n] \\<down>= n div 2", "then"], ["proof (chain)\npicking this:\n  eval\n   (Pr 1 Z\n     (Cn 3 r_ifle\n       [Cn 3 r_mul [r_constn 2 2, Cn 3 S [recf.Id 3 0]], recf.Id 3 2,\n        Cn 3 S [recf.Id 3 1], recf.Id 3 1]))\n   [n, n] \\<down>=\n  n div 2", "show ?thesis"], ["proof (prove)\nusing this:\n  eval\n   (Pr 1 Z\n     (Cn 3 r_ifle\n       [Cn 3 r_mul [r_constn 2 2, Cn 3 S [recf.Id 3 0]], recf.Id 3 2,\n        Cn 3 S [recf.Id 3 1], recf.Id 3 1]))\n   [n, n] \\<down>=\n  n div 2\n\ngoal (1 subgoal):\n 1. eval r_div2 [n] \\<down>= n div 2", "unfolding r_div2_def"], ["proof (prove)\nusing this:\n  eval\n   (Pr 1 Z\n     (Cn 3 r_ifle\n       [Cn 3 r_mul [r_constn 2 2, Cn 3 S [recf.Id 3 0]], recf.Id 3 2,\n        Cn 3 S [recf.Id 3 1], recf.Id 3 1]))\n   [n, n] \\<down>=\n  n div 2\n\ngoal (1 subgoal):\n 1. eval\n     (r_shrink\n       (Pr 1 Z\n         (Cn 3 r_ifle\n           [Cn 3 r_mul [r_constn 2 2, Cn 3 S [recf.Id 3 0]], recf.Id 3 2,\n            Cn 3 S [recf.Id 3 1], recf.Id 3 1])))\n     [n] \\<down>=\n    n div 2", "by simp"], ["proof (state)\nthis:\n  eval r_div2 [n] \\<down>= n div 2\n\ngoal:\nNo subgoals!", "qed"], ["", "definition \"r_mod2 \\<equiv> Cn 1 r_sub [Id 1 0, Cn 1 r_mul [r_const 2, r_div2]]\""], ["", "lemma r_mod2_prim [simp]: \"prim_recfn 1 r_mod2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prim_recfn 1 r_mod2", "unfolding r_mod2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. prim_recfn 1 (Cn 1 r_sub [recf.Id 1 0, Cn 1 r_mul [r_const 2, r_div2]])", "by simp"], ["", "lemma r_mod2 [simp]: \"eval r_mod2 [n] \\<down>= n mod 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eval r_mod2 [n] \\<down>= n mod 2", "unfolding r_mod2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval (Cn 1 r_sub [recf.Id 1 0, Cn 1 r_mul [r_const 2, r_div2]])\n     [n] \\<down>=\n    n mod 2", "using Rings.semiring_modulo_class.minus_mult_div_eq_mod"], ["proof (prove)\nusing this:\n  ?a - ?b * (?a div ?b) = ?a mod ?b\n\ngoal (1 subgoal):\n 1. eval (Cn 1 r_sub [recf.Id 1 0, Cn 1 r_mul [r_const 2, r_div2]])\n     [n] \\<down>=\n    n mod 2", "by auto"], ["", "lemma NUM_closed_under_union:\n  assumes \"U \\<in> NUM\" and \"V \\<in> NUM\"\n  shows \"U \\<union> V \\<in> NUM\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U \\<union> V \\<in> NUM", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. U \\<union> V \\<in> NUM", "from assms"], ["proof (chain)\npicking this:\n  U \\<in> NUM\n  V \\<in> NUM", "obtain psi_u psi_v where\n    psi_u: \"psi_u \\<in> \\<R>\\<^sup>2\" \"\\<And>f. f \\<in> U \\<Longrightarrow> \\<exists>i. psi_u i = f\" and\n    psi_v: \"psi_v \\<in> \\<R>\\<^sup>2\" \"\\<And>f. f \\<in> V \\<Longrightarrow> \\<exists>i. psi_v i = f\""], ["proof (prove)\nusing this:\n  U \\<in> NUM\n  V \\<in> NUM\n\ngoal (1 subgoal):\n 1. (\\<And>psi_u psi_v.\n        \\<lbrakk>psi_u \\<in> \\<R>\\<^sup>2;\n         \\<And>f. f \\<in> U \\<Longrightarrow> \\<exists>i. psi_u i = f;\n         psi_v \\<in> \\<R>\\<^sup>2;\n         \\<And>f.\n            f \\<in> V \\<Longrightarrow> \\<exists>i. psi_v i = f\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  psi_u \\<in> \\<R>\\<^sup>2\n  ?f \\<in> U \\<Longrightarrow> \\<exists>i. psi_u i = ?f\n  psi_v \\<in> \\<R>\\<^sup>2\n  ?f \\<in> V \\<Longrightarrow> \\<exists>i. psi_v i = ?f\n\ngoal (1 subgoal):\n 1. U \\<union> V \\<in> NUM", "define psi where \"psi \\<equiv> \\<lambda>i. if i mod 2 = 0 then psi_u (i div 2) else psi_v (i div 2)\""], ["proof (state)\nthis:\n  psi \\<equiv>\n  \\<lambda>i. if i mod 2 = 0 then psi_u (i div 2) else psi_v (i div 2)\n\ngoal (1 subgoal):\n 1. U \\<union> V \\<in> NUM", "from psi_u(1)"], ["proof (chain)\npicking this:\n  psi_u \\<in> \\<R>\\<^sup>2", "obtain u where u: \"recfn 2 u\" \"total u\" \"\\<And>x y. eval u [x, y] = psi_u x y\""], ["proof (prove)\nusing this:\n  psi_u \\<in> \\<R>\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>recfn 2 u; Partial_Recursive.total u;\n         \\<And>x y. eval u [x, y] = psi_u x y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  recfn 2 u\n  Partial_Recursive.total u\n  eval u [?x, ?y] = psi_u ?x ?y\n\ngoal (1 subgoal):\n 1. U \\<union> V \\<in> NUM", "from psi_v(1)"], ["proof (chain)\npicking this:\n  psi_v \\<in> \\<R>\\<^sup>2", "obtain v where v: \"recfn 2 v\" \"total v\" \"\\<And>x y. eval v [x, y] = psi_v x y\""], ["proof (prove)\nusing this:\n  psi_v \\<in> \\<R>\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>recfn 2 v; Partial_Recursive.total v;\n         \\<And>x y. eval v [x, y] = psi_v x y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  recfn 2 v\n  Partial_Recursive.total v\n  eval v [?x, ?y] = psi_v ?x ?y\n\ngoal (1 subgoal):\n 1. U \\<union> V \\<in> NUM", "let ?r_psi = \"Cn 2 r_ifz\n    [Cn 2 r_mod2 [Id 2 0],\n     Cn 2 u [Cn 2 r_div2 [Id 2 0], Id 2 1],\n     Cn 2 v [Cn 2 r_div2 [Id 2 0], Id 2 1]]\""], ["proof (state)\ngoal (1 subgoal):\n 1. U \\<union> V \\<in> NUM", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. U \\<union> V \\<in> NUM", "proof (rule NUM_I[of psi])"], ["proof (state)\ngoal (2 subgoals):\n 1. psi \\<in> \\<R>\\<^sup>2\n 2. \\<And>f. f \\<in> U \\<union> V \\<Longrightarrow> \\<exists>i. psi i = f", "show \"psi \\<in> \\<R>\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. psi \\<in> \\<R>\\<^sup>2", "proof (rule R2I)"], ["proof (state)\ngoal (3 subgoals):\n 1. recfn 2 ?r\n 2. Partial_Recursive.total ?r\n 3. \\<And>x y. eval ?r [x, y] = psi x y", "show \"recfn 2 ?r_psi\""], ["proof (prove)\ngoal (1 subgoal):\n 1. recfn 2\n     (Cn 2 r_ifz\n       [Cn 2 r_mod2 [recf.Id 2 0],\n        Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n        Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])", "using u(1) v(1)"], ["proof (prove)\nusing this:\n  recfn 2 u\n  recfn 2 v\n\ngoal (1 subgoal):\n 1. recfn 2\n     (Cn 2 r_ifz\n       [Cn 2 r_mod2 [recf.Id 2 0],\n        Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n        Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])", "by simp"], ["proof (state)\nthis:\n  recfn 2\n   (Cn 2 r_ifz\n     [Cn 2 r_mod2 [recf.Id 2 0],\n      Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n      Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])\n\ngoal (2 subgoals):\n 1. Partial_Recursive.total\n     (Cn 2 r_ifz\n       [Cn 2 r_mod2 [recf.Id 2 0],\n        Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n        Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])\n 2. \\<And>x y.\n       eval\n        (Cn 2 r_ifz\n          [Cn 2 r_mod2 [recf.Id 2 0],\n           Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n           Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])\n        [x, y] =\n       psi x y", "show \"eval ?r_psi [x, y] = psi x y\" for x y"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval\n     (Cn 2 r_ifz\n       [Cn 2 r_mod2 [recf.Id 2 0],\n        Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n        Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])\n     [x, y] =\n    psi x y", "using u v psi_def prim_recfn_total R2_imp_total2[OF psi_u(1)]\n          R2_imp_total2[OF psi_v(1)]"], ["proof (prove)\nusing this:\n  recfn 2 u\n  Partial_Recursive.total u\n  eval u [?x, ?y] = psi_u ?x ?y\n  recfn 2 v\n  Partial_Recursive.total v\n  eval v [?x, ?y] = psi_v ?x ?y\n  psi \\<equiv>\n  \\<lambda>i. if i mod 2 = 0 then psi_u (i div 2) else psi_v (i div 2)\n  prim_recfn ?n ?f \\<Longrightarrow> Partial_Recursive.total ?f\n  total2 psi_u\n  total2 psi_v\n\ngoal (1 subgoal):\n 1. eval\n     (Cn 2 r_ifz\n       [Cn 2 r_mod2 [recf.Id 2 0],\n        Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n        Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])\n     [x, y] =\n    psi x y", "by simp"], ["proof (state)\nthis:\n  eval\n   (Cn 2 r_ifz\n     [Cn 2 r_mod2 [recf.Id 2 0],\n      Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n      Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])\n   [?x, ?y] =\n  psi ?x ?y\n\ngoal (1 subgoal):\n 1. Partial_Recursive.total\n     (Cn 2 r_ifz\n       [Cn 2 r_mod2 [recf.Id 2 0],\n        Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n        Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])", "moreover"], ["proof (state)\nthis:\n  eval\n   (Cn 2 r_ifz\n     [Cn 2 r_mod2 [recf.Id 2 0],\n      Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n      Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])\n   [?x, ?y] =\n  psi ?x ?y\n\ngoal (1 subgoal):\n 1. Partial_Recursive.total\n     (Cn 2 r_ifz\n       [Cn 2 r_mod2 [recf.Id 2 0],\n        Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n        Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])", "have \"psi x y \\<down>\" for x y"], ["proof (prove)\ngoal (1 subgoal):\n 1. psi x y \\<down>", "using psi_def psi_u(1) psi_v(1)"], ["proof (prove)\nusing this:\n  psi \\<equiv>\n  \\<lambda>i. if i mod 2 = 0 then psi_u (i div 2) else psi_v (i div 2)\n  psi_u \\<in> \\<R>\\<^sup>2\n  psi_v \\<in> \\<R>\\<^sup>2\n\ngoal (1 subgoal):\n 1. psi x y \\<down>", "by simp"], ["proof (state)\nthis:\n  psi ?x ?y \\<down>\n\ngoal (1 subgoal):\n 1. Partial_Recursive.total\n     (Cn 2 r_ifz\n       [Cn 2 r_mod2 [recf.Id 2 0],\n        Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n        Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])", "ultimately"], ["proof (chain)\npicking this:\n  eval\n   (Cn 2 r_ifz\n     [Cn 2 r_mod2 [recf.Id 2 0],\n      Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n      Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])\n   [?x, ?y] =\n  psi ?x ?y\n  psi ?x ?y \\<down>", "show \"total ?r_psi\""], ["proof (prove)\nusing this:\n  eval\n   (Cn 2 r_ifz\n     [Cn 2 r_mod2 [recf.Id 2 0],\n      Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n      Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])\n   [?x, ?y] =\n  psi ?x ?y\n  psi ?x ?y \\<down>\n\ngoal (1 subgoal):\n 1. Partial_Recursive.total\n     (Cn 2 r_ifz\n       [Cn 2 r_mod2 [recf.Id 2 0],\n        Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n        Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])", "using \\<open>recfn 2 ?r_psi\\<close> totalI2"], ["proof (prove)\nusing this:\n  eval\n   (Cn 2 r_ifz\n     [Cn 2 r_mod2 [recf.Id 2 0],\n      Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n      Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])\n   [?x, ?y] =\n  psi ?x ?y\n  psi ?x ?y \\<down>\n  recfn 2\n   (Cn 2 r_ifz\n     [Cn 2 r_mod2 [recf.Id 2 0],\n      Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n      Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])\n  \\<lbrakk>recfn 2 ?f; \\<And>x y. eval ?f [x, y] \\<down>\\<rbrakk>\n  \\<Longrightarrow> Partial_Recursive.total ?f\n\ngoal (1 subgoal):\n 1. Partial_Recursive.total\n     (Cn 2 r_ifz\n       [Cn 2 r_mod2 [recf.Id 2 0],\n        Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n        Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])", "by simp"], ["proof (state)\nthis:\n  Partial_Recursive.total\n   (Cn 2 r_ifz\n     [Cn 2 r_mod2 [recf.Id 2 0],\n      Cn 2 u [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1],\n      Cn 2 v [Cn 2 r_div2 [recf.Id 2 0], recf.Id 2 1]])\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  psi \\<in> \\<R>\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<And>f. f \\<in> U \\<union> V \\<Longrightarrow> \\<exists>i. psi i = f", "show \"\\<exists>i. psi i = f\" if \"f \\<in> U \\<union> V\" for f"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>i. psi i = f", "proof (cases \"f \\<in> U\")"], ["proof (state)\ngoal (2 subgoals):\n 1. f \\<in> U \\<Longrightarrow> \\<exists>i. psi i = f\n 2. f \\<notin> U \\<Longrightarrow> \\<exists>i. psi i = f", "case True"], ["proof (state)\nthis:\n  f \\<in> U\n\ngoal (2 subgoals):\n 1. f \\<in> U \\<Longrightarrow> \\<exists>i. psi i = f\n 2. f \\<notin> U \\<Longrightarrow> \\<exists>i. psi i = f", "then"], ["proof (chain)\npicking this:\n  f \\<in> U", "obtain j where \"psi_u j = f\""], ["proof (prove)\nusing this:\n  f \\<in> U\n\ngoal (1 subgoal):\n 1. (\\<And>j. psi_u j = f \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "using psi_u(2)"], ["proof (prove)\nusing this:\n  f \\<in> U\n  ?f \\<in> U \\<Longrightarrow> \\<exists>i. psi_u i = ?f\n\ngoal (1 subgoal):\n 1. (\\<And>j. psi_u j = f \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  psi_u j = f\n\ngoal (2 subgoals):\n 1. f \\<in> U \\<Longrightarrow> \\<exists>i. psi i = f\n 2. f \\<notin> U \\<Longrightarrow> \\<exists>i. psi i = f", "then"], ["proof (chain)\npicking this:\n  psi_u j = f", "have \"psi (2 * j) = f\""], ["proof (prove)\nusing this:\n  psi_u j = f\n\ngoal (1 subgoal):\n 1. psi (2 * j) = f", "using psi_def"], ["proof (prove)\nusing this:\n  psi_u j = f\n  psi \\<equiv>\n  \\<lambda>i. if i mod 2 = 0 then psi_u (i div 2) else psi_v (i div 2)\n\ngoal (1 subgoal):\n 1. psi (2 * j) = f", "by simp"], ["proof (state)\nthis:\n  psi (2 * j) = f\n\ngoal (2 subgoals):\n 1. f \\<in> U \\<Longrightarrow> \\<exists>i. psi i = f\n 2. f \\<notin> U \\<Longrightarrow> \\<exists>i. psi i = f", "then"], ["proof (chain)\npicking this:\n  psi (2 * j) = f", "show ?thesis"], ["proof (prove)\nusing this:\n  psi (2 * j) = f\n\ngoal (1 subgoal):\n 1. \\<exists>i. psi i = f", "by auto"], ["proof (state)\nthis:\n  \\<exists>i. psi i = f\n\ngoal (1 subgoal):\n 1. f \\<notin> U \\<Longrightarrow> \\<exists>i. psi i = f", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<notin> U \\<Longrightarrow> \\<exists>i. psi i = f", "case False"], ["proof (state)\nthis:\n  f \\<notin> U\n\ngoal (1 subgoal):\n 1. f \\<notin> U \\<Longrightarrow> \\<exists>i. psi i = f", "then"], ["proof (chain)\npicking this:\n  f \\<notin> U", "have \"f \\<in> V\""], ["proof (prove)\nusing this:\n  f \\<notin> U\n\ngoal (1 subgoal):\n 1. f \\<in> V", "using that"], ["proof (prove)\nusing this:\n  f \\<notin> U\n  f \\<in> U \\<union> V\n\ngoal (1 subgoal):\n 1. f \\<in> V", "by simp"], ["proof (state)\nthis:\n  f \\<in> V\n\ngoal (1 subgoal):\n 1. f \\<notin> U \\<Longrightarrow> \\<exists>i. psi i = f", "then"], ["proof (chain)\npicking this:\n  f \\<in> V", "obtain j where \"psi_v j = f\""], ["proof (prove)\nusing this:\n  f \\<in> V\n\ngoal (1 subgoal):\n 1. (\\<And>j. psi_v j = f \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "using psi_v(2)"], ["proof (prove)\nusing this:\n  f \\<in> V\n  ?f \\<in> V \\<Longrightarrow> \\<exists>i. psi_v i = ?f\n\ngoal (1 subgoal):\n 1. (\\<And>j. psi_v j = f \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  psi_v j = f\n\ngoal (1 subgoal):\n 1. f \\<notin> U \\<Longrightarrow> \\<exists>i. psi i = f", "then"], ["proof (chain)\npicking this:\n  psi_v j = f", "have \"psi (Suc (2 * j)) = f\""], ["proof (prove)\nusing this:\n  psi_v j = f\n\ngoal (1 subgoal):\n 1. psi (Suc (2 * j)) = f", "using psi_def"], ["proof (prove)\nusing this:\n  psi_v j = f\n  psi \\<equiv>\n  \\<lambda>i. if i mod 2 = 0 then psi_u (i div 2) else psi_v (i div 2)\n\ngoal (1 subgoal):\n 1. psi (Suc (2 * j)) = f", "by simp"], ["proof (state)\nthis:\n  psi (Suc (2 * j)) = f\n\ngoal (1 subgoal):\n 1. f \\<notin> U \\<Longrightarrow> \\<exists>i. psi i = f", "then"], ["proof (chain)\npicking this:\n  psi (Suc (2 * j)) = f", "show ?thesis"], ["proof (prove)\nusing this:\n  psi (Suc (2 * j)) = f\n\ngoal (1 subgoal):\n 1. \\<exists>i. psi i = f", "by auto"], ["proof (state)\nthis:\n  \\<exists>i. psi i = f\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?f \\<in> U \\<union> V \\<Longrightarrow> \\<exists>i. psi i = ?f\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  U \\<union> V \\<in> NUM\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}