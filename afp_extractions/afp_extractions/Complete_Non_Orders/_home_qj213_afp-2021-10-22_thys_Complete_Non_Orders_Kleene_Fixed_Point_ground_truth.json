{"file_name": "/home/qj213/afp-2021-10-22/thys/Complete_Non_Orders/Kleene_Fixed_Point.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Complete_Non_Orders", "problem_names": ["lemmas omega_continuousI[intro?] =\n  omega_continuous_def[unfolded atomize_eq, THEN iffD2, unfolded conj_imp_eq_imp_imp, rule_format]", "lemmas omega_continuousDdom =\n  omega_continuous_def[unfolded atomize_eq, THEN iffD1, unfolded conj_imp_eq_imp_imp, THEN conjunct1]", "lemmas omega_continuousD =\n  omega_continuous_def[unfolded atomize_eq, THEN iffD1, unfolded conj_imp_eq_imp_imp, THEN conjunct2, rule_format]", "lemmas omega_continuousE[elim] =\n  omega_continuous_def[unfolded atomize_eq, THEN iffD1, elim_format, unfolded conj_imp_eq_imp_imp, rule_format]", "lemma omega_continuous_imp_mono_refl:\n  assumes cont: \"omega_continuous f\"\n    and x: \"x \\<in> A\" and y: \"y \\<in> A\"\n    and xy: \"x \\<sqsubseteq> y\" and xx: \"x \\<sqsubseteq> x\" and yy: \"y \\<sqsubseteq> y\"\n  shows \"f x \\<sqsubseteq> f y\"", "lemmas scott_continuousI[intro?] =\n  scott_continuous_def[unfolded atomize_eq, THEN iffD2, unfolded conj_imp_eq_imp_imp, rule_format]", "lemmas scott_continuousE =\n  scott_continuous_def[unfolded atomize_eq, THEN iffD1, elim_format, unfolded conj_imp_eq_imp_imp, rule_format]", "lemma scott_continuous_imp_mono_refl:\n  assumes scott: \"scott_continuous f\"\n    and x: \"x \\<in> A\" and y: \"y \\<in> A\" and xy: \"x \\<sqsubseteq> y\" and yy: \"y \\<sqsubseteq> y\"\n  shows \"f x \\<sqsubseteq> f y\"", "lemma scott_continuous_imp_omega_continuous:\n  assumes scott: \"scott_continuous f\" shows \"omega_continuous f\"", "lemma mono_funpow: assumes f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A r r f\"\n  shows \"monotone_on A r r (f^n)\"", "lemma f: \"f ` A \\<subseteq> A\"", "lemma fn_ref: \"f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom>\" and fnA: \"f^n \\<bottom> \\<in> A\"", "lemma FnA: \"Fn \\<subseteq> A\"", "lemma fn_monotone: \"monotone (\\<le>) (\\<sqsubseteq>) (\\<lambda>n. f^n \\<bottom>)\"", "lemma Fn: \"Fn = range (\\<lambda>n. f^n \\<bottom>)\"", "theorem kleene_qfp:\n  assumes q: \"extreme_bound A (\\<sqsubseteq>) Fn q\"\n  shows \"f q \\<sim> q\"", "lemma ex_kleene_qfp:\n  assumes comp: \"omega_complete A (\\<sqsubseteq>)\"\n  shows \"\\<exists>p. extreme_bound A (\\<sqsubseteq>) Fn p\"", "lemma kleene_qfp_is_least:\n  assumes attract: \"\\<forall>q \\<in> A. \\<forall>x \\<in> A. f q \\<sim> q \\<longrightarrow> x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\"\n  assumes q: \"extreme_bound A (\\<sqsubseteq>) Fn q\"\n  shows \"extreme {s \\<in> A. f s \\<sim> s} (\\<sqsupseteq>) q\"", "lemma kleene_qfp_iff_least:\n  assumes comp: \"omega_complete A (\\<sqsubseteq>)\"\n  assumes attract: \"\\<forall>q \\<in> A. \\<forall>x \\<in> A. f q \\<sim> q \\<longrightarrow> x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\"\n  assumes dual_attract: \"\\<forall>p \\<in> A. \\<forall>q \\<in> A. \\<forall>x \\<in> A. p \\<sim> q \\<longrightarrow> q \\<sqsubseteq> x \\<longrightarrow> p \\<sqsubseteq> x\"\n  shows \"extreme_bound A (\\<sqsubseteq>) Fn = extreme {s \\<in> A. f s \\<sim> s} (\\<sqsupseteq>)\"", "theorem kleene_qfp_is_dual_extreme:\n  assumes comp: \"omega_complete A (\\<sqsubseteq>)\"\n    and cont: \"omega_continuous A (\\<sqsubseteq>) f\" and bA: \"b \\<in> A\" and bot: \"\\<forall>x \\<in> A. b \\<sqsubseteq> x\"\n  shows \"extreme_bound A (\\<sqsubseteq>) {f^n b |. n :: nat} = extreme {s \\<in> A. f s \\<sim> s} (\\<sqsupseteq>)\""], "translations": [["", "lemmas omega_continuousI[intro?] =\n  omega_continuous_def[unfolded atomize_eq, THEN iffD2, unfolded conj_imp_eq_imp_imp, rule_format]"], ["", "lemmas omega_continuousDdom =\n  omega_continuous_def[unfolded atomize_eq, THEN iffD1, unfolded conj_imp_eq_imp_imp, THEN conjunct1]"], ["", "lemmas omega_continuousD =\n  omega_continuous_def[unfolded atomize_eq, THEN iffD1, unfolded conj_imp_eq_imp_imp, THEN conjunct2, rule_format]"], ["", "lemmas omega_continuousE[elim] =\n  omega_continuous_def[unfolded atomize_eq, THEN iffD1, elim_format, unfolded conj_imp_eq_imp_imp, rule_format]"], ["", "lemma omega_continuous_imp_mono_refl:\n  assumes cont: \"omega_continuous f\"\n    and x: \"x \\<in> A\" and y: \"y \\<in> A\"\n    and xy: \"x \\<sqsubseteq> y\" and xx: \"x \\<sqsubseteq> x\" and yy: \"y \\<sqsubseteq> y\"\n  shows \"f x \\<sqsubseteq> f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "define c :: \"nat \\<Rightarrow> 'a\" where \"c \\<equiv> \\<lambda>i. if i = 0 then x else y\""], ["proof (state)\nthis:\n  c \\<equiv> \\<lambda>i. if i = 0 then x else y\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "from x y xx xy yy"], ["proof (chain)\npicking this:\n  x \\<in> A\n  y \\<in> A\n  x \\<sqsubseteq> x\n  x \\<sqsubseteq> y\n  y \\<sqsubseteq> y", "have c: \"range c \\<subseteq> A\" \"monotone (\\<le>) (\\<sqsubseteq>) c\""], ["proof (prove)\nusing this:\n  x \\<in> A\n  y \\<in> A\n  x \\<sqsubseteq> x\n  x \\<sqsubseteq> y\n  y \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. range c \\<subseteq> A &&& monotone (\\<le>) (\\<sqsubseteq>) c", "by (auto simp: c_def intro!: monotoneI)"], ["proof (state)\nthis:\n  range c \\<subseteq> A\n  monotone (\\<le>) (\\<sqsubseteq>) c\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "have \"extreme_bound A (\\<sqsubseteq>) (range c) y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) (range c) y", "using xy yy x y"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> y\n  y \\<sqsubseteq> y\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) (range c) y", "by (auto simp: c_def)"], ["proof (state)\nthis:\n  extreme_bound A (\\<sqsubseteq>) (range c) y\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "then"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) (range c) y", "have fboy: \"extreme_bound A (\\<sqsubseteq>) (f ` range c) (f y)\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) (range c) y\n\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) (f ` range c) (f y)", "using c cont y"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) (range c) y\n  range c \\<subseteq> A\n  monotone (\\<le>) (\\<sqsubseteq>) c\n  local.omega_continuous f\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) (f ` range c) (f y)", "by auto"], ["proof (state)\nthis:\n  extreme_bound A (\\<sqsubseteq>) (f ` range c) (f y)\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "then"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) (f ` range c) (f y)", "show \"f x \\<sqsubseteq> f y\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) (f ` range c) (f y)\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "by (auto simp: c_def)"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> f y\n\ngoal:\nNo subgoals!", "qed"], ["", "definition \"scott_continuous f \\<equiv>\n  f ` A \\<subseteq> A \\<and>\n  (\\<forall>X s. X \\<subseteq> A \\<longrightarrow> directed X (\\<sqsubseteq>) \\<longrightarrow> X \\<noteq> {} \\<longrightarrow> extreme_bound A (\\<sqsubseteq>) X s \\<longrightarrow> extreme_bound A (\\<sqsubseteq>) (f ` X) (f s))\""], ["", "lemmas scott_continuousI[intro?] =\n  scott_continuous_def[unfolded atomize_eq, THEN iffD2, unfolded conj_imp_eq_imp_imp, rule_format]"], ["", "lemmas scott_continuousE =\n  scott_continuous_def[unfolded atomize_eq, THEN iffD1, elim_format, unfolded conj_imp_eq_imp_imp, rule_format]"], ["", "lemma scott_continuous_imp_mono_refl:\n  assumes scott: \"scott_continuous f\"\n    and x: \"x \\<in> A\" and y: \"y \\<in> A\" and xy: \"x \\<sqsubseteq> y\" and yy: \"y \\<sqsubseteq> y\"\n  shows \"f x \\<sqsubseteq> f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "define D where \"D \\<equiv> {x,y}\""], ["proof (state)\nthis:\n  D \\<equiv> {x, y}\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "from x y xy yy"], ["proof (chain)\npicking this:\n  x \\<in> A\n  y \\<in> A\n  x \\<sqsubseteq> y\n  y \\<sqsubseteq> y", "have dir_D: \"D \\<subseteq> A\" \"directed D (\\<sqsubseteq>)\" \"D \\<noteq> {}\""], ["proof (prove)\nusing this:\n  x \\<in> A\n  y \\<in> A\n  x \\<sqsubseteq> y\n  y \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. D \\<subseteq> A &&& directed D (\\<sqsubseteq>) &&& D \\<noteq> {}", "by (auto simp: D_def intro!: bexI[of _ y] directedI)"], ["proof (state)\nthis:\n  D \\<subseteq> A\n  directed D (\\<sqsubseteq>)\n  D \\<noteq> {}\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "have \"extreme_bound A (\\<sqsubseteq>) D y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) D y", "using xy yy x y"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> y\n  y \\<sqsubseteq> y\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) D y", "by (auto simp: D_def)"], ["proof (state)\nthis:\n  extreme_bound A (\\<sqsubseteq>) D y\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "then"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) D y", "have fboy: \"extreme_bound A (\\<sqsubseteq>) (f ` D) (f y)\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) D y\n\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) (f ` D) (f y)", "using dir_D scott"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) D y\n  D \\<subseteq> A\n  directed D (\\<sqsubseteq>)\n  D \\<noteq> {}\n  local.scott_continuous f\n\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) (f ` D) (f y)", "by (auto elim!: scott_continuousE)"], ["proof (state)\nthis:\n  extreme_bound A (\\<sqsubseteq>) (f ` D) (f y)\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "then"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) (f ` D) (f y)", "show \"f x \\<sqsubseteq> f y\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) (f ` D) (f y)\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "by (auto simp: D_def)"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> f y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma scott_continuous_imp_omega_continuous:\n  assumes scott: \"scott_continuous f\" shows \"omega_continuous f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.omega_continuous f", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. f ` A \\<subseteq> A\n 2. \\<And>c b.\n       \\<lbrakk>b \\<in> A; range c \\<subseteq> A;\n        monotone (\\<le>) (\\<sqsubseteq>) c;\n        extreme_bound A (\\<sqsubseteq>) (range c) b\\<rbrakk>\n       \\<Longrightarrow> extreme_bound A (\\<sqsubseteq>) (f ` range c) (f b)", "from scott"], ["proof (chain)\npicking this:\n  local.scott_continuous f", "show \"f ` A \\<subseteq> A\""], ["proof (prove)\nusing this:\n  local.scott_continuous f\n\ngoal (1 subgoal):\n 1. f ` A \\<subseteq> A", "by (auto elim!: scott_continuousE)"], ["proof (state)\nthis:\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>c b.\n       \\<lbrakk>b \\<in> A; range c \\<subseteq> A;\n        monotone (\\<le>) (\\<sqsubseteq>) c;\n        extreme_bound A (\\<sqsubseteq>) (range c) b\\<rbrakk>\n       \\<Longrightarrow> extreme_bound A (\\<sqsubseteq>) (f ` range c) (f b)", "fix c :: \"nat \\<Rightarrow> 'a\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>c b.\n       \\<lbrakk>b \\<in> A; range c \\<subseteq> A;\n        monotone (\\<le>) (\\<sqsubseteq>) c;\n        extreme_bound A (\\<sqsubseteq>) (range c) b\\<rbrakk>\n       \\<Longrightarrow> extreme_bound A (\\<sqsubseteq>) (f ` range c) (f b)", "assume mono: \"monotone (\\<le>) (\\<sqsubseteq>) c\" and c: \"range c \\<subseteq> A\""], ["proof (state)\nthis:\n  monotone (\\<le>) (\\<sqsubseteq>) c\n  range c \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>c b.\n       \\<lbrakk>b \\<in> A; range c \\<subseteq> A;\n        monotone (\\<le>) (\\<sqsubseteq>) c;\n        extreme_bound A (\\<sqsubseteq>) (range c) b\\<rbrakk>\n       \\<Longrightarrow> extreme_bound A (\\<sqsubseteq>) (f ` range c) (f b)", "from monotone_directed_image[OF mono[folded monotone_on_UNIV] order.directed] scott c"], ["proof (chain)\npicking this:\n  directed (range c) (\\<sqsubseteq>)\n  local.scott_continuous f\n  range c \\<subseteq> A", "show \"extreme_bound A (\\<sqsubseteq>) (range c) b \\<Longrightarrow> extreme_bound A (\\<sqsubseteq>) (f ` range c) (f b)\" for b"], ["proof (prove)\nusing this:\n  directed (range c) (\\<sqsubseteq>)\n  local.scott_continuous f\n  range c \\<subseteq> A\n\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) (range c) b \\<Longrightarrow>\n    extreme_bound A (\\<sqsubseteq>) (f ` range c) (f b)", "by (auto elim!: scott_continuousE)"], ["proof (state)\nthis:\n  extreme_bound A (\\<sqsubseteq>) (range c) ?b \\<Longrightarrow>\n  extreme_bound A (\\<sqsubseteq>) (f ` range c) (f ?b)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \\<open>Existence of Iterative Fixed Points\\<close>"], ["", "text \\<open>The first part of Kleene's theorem demands to prove that the set \n$\\set{f^n(\\bot) \\mid n \\in \\Nat}$ has a supremum and \nthat all such are quasi-fixed points. We prove this claim without assuming \nanything on the relation $\\SLE$ besides $\\omega$-completeness and one bottom element.\\<close>"], ["", "(*\nno_notation power (infixr \"^\" 80)\n*)"], ["", "notation compower (\"_^_\"[1000,1000]1000)"], ["", "lemma mono_funpow: assumes f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A r r f\"\n  shows \"monotone_on A r r (f^n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. monotone_on A r r f^n", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. monotone_on A r r f^0\n 2. \\<And>n.\n       monotone_on A r r f^n \\<Longrightarrow> monotone_on A r r f^(Suc n)", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. monotone_on A r r f^0\n 2. \\<And>n.\n       monotone_on A r r f^n \\<Longrightarrow> monotone_on A r r f^(Suc n)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. monotone_on A r r f^0", "using monotone_on_id"], ["proof (prove)\nusing this:\n  monotone_on ?X ?r ?r id\n\ngoal (1 subgoal):\n 1. monotone_on A r r f^0", "by (auto simp: id_def)"], ["proof (state)\nthis:\n  monotone_on A r r f^0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       monotone_on A r r f^n \\<Longrightarrow> monotone_on A r r f^(Suc n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       monotone_on A r r f^n \\<Longrightarrow> monotone_on A r r f^(Suc n)", "case (Suc n)"], ["proof (state)\nthis:\n  monotone_on A r r f^n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       monotone_on A r r f^n \\<Longrightarrow> monotone_on A r r f^(Suc n)", "with funpow_dom[OF f]"], ["proof (chain)\npicking this:\n  f^?n ` A \\<subseteq> A\n  monotone_on A r r f^n", "show ?case"], ["proof (prove)\nusing this:\n  f^?n ` A \\<subseteq> A\n  monotone_on A r r f^n\n\ngoal (1 subgoal):\n 1. monotone_on A r r f^(Suc n)", "by (auto intro!: monotone_onI monotone_onD[OF mono] elim!:monotone_onE)"], ["proof (state)\nthis:\n  monotone_on A r r f^(Suc n)\n\ngoal:\nNo subgoals!", "qed"], ["", "no_notation bot (\"\\<bottom>\")"], ["", "context\n  fixes A and less_eq (infix \"\\<sqsubseteq>\" 50) and bot (\"\\<bottom>\") and f\n  assumes bot: \"\\<bottom> \\<in> A\" \"\\<forall>q \\<in> A. \\<bottom> \\<sqsubseteq> q\"\n  assumes cont: \"omega_continuous A (\\<sqsubseteq>) f\"\nbegin"], ["", "interpretation less_eq_notations"], ["proof (prove)\ngoal:\nNo subgoals!", "."], ["", "private"], ["", "lemma f: \"f ` A \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f ` A \\<subseteq> A", "using cont"], ["proof (prove)\nusing this:\n  omega_continuous A (\\<sqsubseteq>) f\n\ngoal (1 subgoal):\n 1. f ` A \\<subseteq> A", "by auto"], ["", "private"], ["", "abbreviation(input) \"Fn \\<equiv> {f^n \\<bottom> |. n :: nat}\""], ["", "private"], ["", "lemma fn_ref: \"f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom>\" and fnA: \"f^n \\<bottom> \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom> &&& f^n \\<bottom> \\<in> A", "proof (atomize(full), induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. f^0 \\<bottom> \\<sqsubseteq> f^0 \\<bottom> \\<and> f^0 \\<bottom> \\<in> A\n 2. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom> \\<and>\n       f^n \\<bottom> \\<in> A \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> f^(Suc n) \\<bottom> \\<and>\n       f^(Suc n) \\<bottom> \\<in> A", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. f^0 \\<bottom> \\<sqsubseteq> f^0 \\<bottom> \\<and> f^0 \\<bottom> \\<in> A\n 2. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom> \\<and>\n       f^n \\<bottom> \\<in> A \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> f^(Suc n) \\<bottom> \\<and>\n       f^(Suc n) \\<bottom> \\<in> A", "from bot"], ["proof (chain)\npicking this:\n  \\<bottom> \\<in> A\n  \\<forall>q\\<in>A. \\<bottom> \\<sqsubseteq> q", "show ?case"], ["proof (prove)\nusing this:\n  \\<bottom> \\<in> A\n  \\<forall>q\\<in>A. \\<bottom> \\<sqsubseteq> q\n\ngoal (1 subgoal):\n 1. f^0 \\<bottom> \\<sqsubseteq> f^0 \\<bottom> \\<and> f^0 \\<bottom> \\<in> A", "by simp"], ["proof (state)\nthis:\n  f^0 \\<bottom> \\<sqsubseteq> f^0 \\<bottom> \\<and> f^0 \\<bottom> \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom> \\<and>\n       f^n \\<bottom> \\<in> A \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> f^(Suc n) \\<bottom> \\<and>\n       f^(Suc n) \\<bottom> \\<in> A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom> \\<and>\n       f^n \\<bottom> \\<in> A \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> f^(Suc n) \\<bottom> \\<and>\n       f^(Suc n) \\<bottom> \\<in> A", "case (Suc n)"], ["proof (state)\nthis:\n  f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom> \\<and> f^n \\<bottom> \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom> \\<and>\n       f^n \\<bottom> \\<in> A \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> f^(Suc n) \\<bottom> \\<and>\n       f^(Suc n) \\<bottom> \\<in> A", "then"], ["proof (chain)\npicking this:\n  f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom> \\<and> f^n \\<bottom> \\<in> A", "have fn: \"f^n \\<bottom> \\<in> A\" and fnfn: \"f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom>\""], ["proof (prove)\nusing this:\n  f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom> \\<and> f^n \\<bottom> \\<in> A\n\ngoal (1 subgoal):\n 1. f^n \\<bottom> \\<in> A &&& f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom>", "by auto"], ["proof (state)\nthis:\n  f^n \\<bottom> \\<in> A\n  f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom> \\<and>\n       f^n \\<bottom> \\<in> A \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> f^(Suc n) \\<bottom> \\<and>\n       f^(Suc n) \\<bottom> \\<in> A", "from f fn omega_continuous_imp_mono_refl[OF cont fn fn fnfn fnfn fnfn]"], ["proof (chain)\npicking this:\n  f ` A \\<subseteq> A\n  f^n \\<bottom> \\<in> A\n  f (f^n \\<bottom>) \\<sqsubseteq> f (f^n \\<bottom>)", "show ?case"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n  f^n \\<bottom> \\<in> A\n  f (f^n \\<bottom>) \\<sqsubseteq> f (f^n \\<bottom>)\n\ngoal (1 subgoal):\n 1. f^(Suc n) \\<bottom> \\<sqsubseteq> f^(Suc n) \\<bottom> \\<and>\n    f^(Suc n) \\<bottom> \\<in> A", "by auto"], ["proof (state)\nthis:\n  f^(Suc n) \\<bottom> \\<sqsubseteq> f^(Suc n) \\<bottom> \\<and>\n  f^(Suc n) \\<bottom> \\<in> A\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma FnA: \"Fn \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {f^n \\<bottom> |. n} \\<subseteq> A", "using fnA"], ["proof (prove)\nusing this:\n  f^?n \\<bottom> \\<in> A\n\ngoal (1 subgoal):\n 1. {f^n \\<bottom> |. n} \\<subseteq> A", "by auto"], ["", "private"], ["", "lemma fn_monotone: \"monotone (\\<le>) (\\<sqsubseteq>) (\\<lambda>n. f^n \\<bottom>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. monotone (\\<le>) (\\<sqsubseteq>) (\\<lambda>n. f^n \\<bottom>)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       x \\<le> y \\<Longrightarrow> f^x \\<bottom> \\<sqsubseteq> f^y \\<bottom>", "fix n m :: nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       x \\<le> y \\<Longrightarrow> f^x \\<bottom> \\<sqsubseteq> f^y \\<bottom>", "assume \"n \\<le> m\""], ["proof (state)\nthis:\n  n \\<le> m\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       x \\<le> y \\<Longrightarrow> f^x \\<bottom> \\<sqsubseteq> f^y \\<bottom>", "from le_Suc_ex[OF this]"], ["proof (chain)\npicking this:\n  \\<exists>na. m = n + na", "obtain k where m: \"m = n + k\""], ["proof (prove)\nusing this:\n  \\<exists>na. m = n + na\n\ngoal (1 subgoal):\n 1. (\\<And>k. m = n + k \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  m = n + k\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       x \\<le> y \\<Longrightarrow> f^x \\<bottom> \\<sqsubseteq> f^y \\<bottom>", "from bot fn_ref fnA omega_continuous_imp_mono_refl[OF cont]"], ["proof (chain)\npicking this:\n  \\<bottom> \\<in> A\n  \\<forall>q\\<in>A. \\<bottom> \\<sqsubseteq> q\n  f^?n \\<bottom> \\<sqsubseteq> f^?n \\<bottom>\n  f^?n \\<bottom> \\<in> A\n  \\<lbrakk>?x \\<in> A; ?y \\<in> A; ?x \\<sqsubseteq> ?y; ?x \\<sqsubseteq> ?x;\n   ?y \\<sqsubseteq> ?y\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<sqsubseteq> f ?y", "show \"f^n \\<bottom> \\<sqsubseteq> f^m \\<bottom>\""], ["proof (prove)\nusing this:\n  \\<bottom> \\<in> A\n  \\<forall>q\\<in>A. \\<bottom> \\<sqsubseteq> q\n  f^?n \\<bottom> \\<sqsubseteq> f^?n \\<bottom>\n  f^?n \\<bottom> \\<in> A\n  \\<lbrakk>?x \\<in> A; ?y \\<in> A; ?x \\<sqsubseteq> ?y; ?x \\<sqsubseteq> ?x;\n   ?y \\<sqsubseteq> ?y\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<sqsubseteq> f ?y\n\ngoal (1 subgoal):\n 1. f^n \\<bottom> \\<sqsubseteq> f^m \\<bottom>", "by (unfold m, induct n, auto)"], ["proof (state)\nthis:\n  f^n \\<bottom> \\<sqsubseteq> f^m \\<bottom>\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma Fn: \"Fn = range (\\<lambda>n. f^n \\<bottom>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {f^n \\<bottom> |. n} = range (\\<lambda>n. f^n \\<bottom>)", "by auto"], ["", "theorem kleene_qfp:\n  assumes q: \"extreme_bound A (\\<sqsubseteq>) Fn q\"\n  shows \"f q \\<sim> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f q \\<sim> q", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. f q \\<sqsubseteq> q\n 2. q \\<sqsubseteq> f q", "have fq: \"extreme_bound A (\\<sqsubseteq>) (f ` Fn) (f q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) (f ` {f^n \\<bottom> |. n}) (f q)", "apply (unfold Fn)"], ["proof (prove)\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) (f ` range (\\<lambda>n. f^n \\<bottom>))\n     (f q)", "apply (rule omega_continuousD[OF cont])"], ["proof (prove)\ngoal (4 subgoals):\n 1. q \\<in> A\n 2. range (\\<lambda>n. f^n \\<bottom>) \\<subseteq> A\n 3. monotone (\\<le>) (\\<sqsubseteq>) (\\<lambda>n. f^n \\<bottom>)\n 4. extreme_bound A (\\<sqsubseteq>) (range (\\<lambda>n. f^n \\<bottom>)) q", "using FnA fn_monotone q"], ["proof (prove)\nusing this:\n  {f^n \\<bottom> |. n} \\<subseteq> A\n  monotone (\\<le>) (\\<sqsubseteq>) (\\<lambda>n. f^n \\<bottom>)\n  extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} q\n\ngoal (4 subgoals):\n 1. q \\<in> A\n 2. range (\\<lambda>n. f^n \\<bottom>) \\<subseteq> A\n 3. monotone (\\<le>) (\\<sqsubseteq>) (\\<lambda>n. f^n \\<bottom>)\n 4. extreme_bound A (\\<sqsubseteq>) (range (\\<lambda>n. f^n \\<bottom>)) q", "by (unfold Fn, auto)"], ["proof (state)\nthis:\n  extreme_bound A (\\<sqsubseteq>) (f ` {f^n \\<bottom> |. n}) (f q)\n\ngoal (2 subgoals):\n 1. f q \\<sqsubseteq> q\n 2. q \\<sqsubseteq> f q", "with bot"], ["proof (chain)\npicking this:\n  \\<bottom> \\<in> A\n  \\<forall>q\\<in>A. \\<bottom> \\<sqsubseteq> q\n  extreme_bound A (\\<sqsubseteq>) (f ` {f^n \\<bottom> |. n}) (f q)", "have nq: \"f^n \\<bottom> \\<sqsubseteq> f q\" for n"], ["proof (prove)\nusing this:\n  \\<bottom> \\<in> A\n  \\<forall>q\\<in>A. \\<bottom> \\<sqsubseteq> q\n  extreme_bound A (\\<sqsubseteq>) (f ` {f^n \\<bottom> |. n}) (f q)\n\ngoal (1 subgoal):\n 1. f^n \\<bottom> \\<sqsubseteq> f q", "by(induct n, auto simp: extreme_bound_iff)"], ["proof (state)\nthis:\n  f^?n \\<bottom> \\<sqsubseteq> f q\n\ngoal (2 subgoals):\n 1. f q \\<sqsubseteq> q\n 2. q \\<sqsubseteq> f q", "then"], ["proof (chain)\npicking this:\n  f^?n \\<bottom> \\<sqsubseteq> f q", "show \"q \\<sqsubseteq> f q\""], ["proof (prove)\nusing this:\n  f^?n \\<bottom> \\<sqsubseteq> f q\n\ngoal (1 subgoal):\n 1. q \\<sqsubseteq> f q", "using f q"], ["proof (prove)\nusing this:\n  f^?n \\<bottom> \\<sqsubseteq> f q\n  f ` A \\<subseteq> A\n  extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} q\n\ngoal (1 subgoal):\n 1. q \\<sqsubseteq> f q", "by blast"], ["proof (state)\nthis:\n  q \\<sqsubseteq> f q\n\ngoal (1 subgoal):\n 1. f q \\<sqsubseteq> q", "have \"f (f^n \\<bottom>) \\<in> Fn\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (f^n \\<bottom>) \\<in> {f^n \\<bottom> |. n}", "by (auto intro!: exI[of _ \"Suc n\"])"], ["proof (state)\nthis:\n  f (f^?n \\<bottom>) \\<in> {f^n \\<bottom> |. n}\n\ngoal (1 subgoal):\n 1. f q \\<sqsubseteq> q", "then"], ["proof (chain)\npicking this:\n  f (f^?n \\<bottom>) \\<in> {f^n \\<bottom> |. n}", "have \"f ` Fn \\<subseteq> Fn\""], ["proof (prove)\nusing this:\n  f (f^?n \\<bottom>) \\<in> {f^n \\<bottom> |. n}\n\ngoal (1 subgoal):\n 1. f ` {f^n \\<bottom> |. n} \\<subseteq> {f^n \\<bottom> |. n}", "by auto"], ["proof (state)\nthis:\n  f ` {f^n \\<bottom> |. n} \\<subseteq> {f^n \\<bottom> |. n}\n\ngoal (1 subgoal):\n 1. f q \\<sqsubseteq> q", "from extreme_bound_mono[OF this fq q]"], ["proof (chain)\npicking this:\n  f q \\<sqsubseteq> q", "show \"f q \\<sqsubseteq> q\""], ["proof (prove)\nusing this:\n  f q \\<sqsubseteq> q\n\ngoal (1 subgoal):\n 1. f q \\<sqsubseteq> q", "."], ["proof (state)\nthis:\n  f q \\<sqsubseteq> q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ex_kleene_qfp:\n  assumes comp: \"omega_complete A (\\<sqsubseteq>)\"\n  shows \"\\<exists>p. extreme_bound A (\\<sqsubseteq>) Fn p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ex (extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n})", "using fn_monotone"], ["proof (prove)\nusing this:\n  monotone (\\<le>) (\\<sqsubseteq>) (\\<lambda>n. f^n \\<bottom>)\n\ngoal (1 subgoal):\n 1. Ex (extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n})", "apply (intro comp[unfolded omega_complete_def, THEN completeD, OF FnA])"], ["proof (prove)\ngoal (1 subgoal):\n 1. monotone (\\<le>) (\\<sqsubseteq>)\n     (\\<lambda>n. f^n \\<bottom>) \\<Longrightarrow>\n    {f^n \\<bottom> |. n}\n    \\<in> {range f |f. monotone (\\<le>) (\\<sqsubseteq>) f}", "by fast"], ["", "subsection \\<open>Iterative Fixed Points are Least.\\<close>"], ["", "text \\<open>Kleene's theorem also states that the quasi-fixed point found this way is a least one.\nAgain, attractivity is needed to prove this statement.\\<close>"], ["", "lemma kleene_qfp_is_least:\n  assumes attract: \"\\<forall>q \\<in> A. \\<forall>x \\<in> A. f q \\<sim> q \\<longrightarrow> x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\"\n  assumes q: \"extreme_bound A (\\<sqsubseteq>) Fn q\"\n  shows \"extreme {s \\<in> A. f s \\<sim> s} (\\<sqsupseteq>) q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q", "proof(safe intro!: extremeI kleene_qfp[OF q])"], ["proof (state)\ngoal (2 subgoals):\n 1. q \\<in> A\n 2. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> x", "from q"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} q", "show \"q \\<in> A\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} q\n\ngoal (1 subgoal):\n 1. q \\<in> A", "by auto"], ["proof (state)\nthis:\n  q \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> x", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> x", "assume c: \"c \\<in> A\" and cqfp: \"f c \\<sim> c\""], ["proof (state)\nthis:\n  c \\<in> A\n  f c \\<sim> c\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> x", "{"], ["proof (state)\nthis:\n  c \\<in> A\n  f c \\<sim> c\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> x", "fix n::nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> x", "have \"f^n \\<bottom> \\<sqsubseteq> c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f^n \\<bottom> \\<sqsubseteq> c", "proof(induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. f^0 \\<bottom> \\<sqsubseteq> c\n 2. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> c \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> c", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. f^0 \\<bottom> \\<sqsubseteq> c\n 2. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> c \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> c", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. f^0 \\<bottom> \\<sqsubseteq> c", "using bot c"], ["proof (prove)\nusing this:\n  \\<bottom> \\<in> A\n  \\<forall>q\\<in>A. \\<bottom> \\<sqsubseteq> q\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. f^0 \\<bottom> \\<sqsubseteq> c", "by auto"], ["proof (state)\nthis:\n  f^0 \\<bottom> \\<sqsubseteq> c\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> c \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> c", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> c \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> c", "case IH: (Suc n)"], ["proof (state)\nthis:\n  f^n \\<bottom> \\<sqsubseteq> c\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> c \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> c", "have \"c \\<sqsubseteq> c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<sqsubseteq> c", "using attract cqfp c"], ["proof (prove)\nusing this:\n  \\<forall>q\\<in>A.\n     \\<forall>x\\<in>A.\n        f q \\<sim> q \\<longrightarrow>\n        x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\n  f c \\<sim> c\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. c \\<sqsubseteq> c", "by auto"], ["proof (state)\nthis:\n  c \\<sqsubseteq> c\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> c \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> c", "with IH"], ["proof (chain)\npicking this:\n  f^n \\<bottom> \\<sqsubseteq> c\n  c \\<sqsubseteq> c", "have \"f^(Suc n) \\<bottom> \\<sqsubseteq> f c\""], ["proof (prove)\nusing this:\n  f^n \\<bottom> \\<sqsubseteq> c\n  c \\<sqsubseteq> c\n\ngoal (1 subgoal):\n 1. f^(Suc n) \\<bottom> \\<sqsubseteq> f c", "using omega_continuous_imp_mono_refl[OF cont] fn_ref fnA c"], ["proof (prove)\nusing this:\n  f^n \\<bottom> \\<sqsubseteq> c\n  c \\<sqsubseteq> c\n  \\<lbrakk>?x \\<in> A; ?y \\<in> A; ?x \\<sqsubseteq> ?y; ?x \\<sqsubseteq> ?x;\n   ?y \\<sqsubseteq> ?y\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<sqsubseteq> f ?y\n  f^?n \\<bottom> \\<sqsubseteq> f^?n \\<bottom>\n  f^?n \\<bottom> \\<in> A\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. f^(Suc n) \\<bottom> \\<sqsubseteq> f c", "by auto"], ["proof (state)\nthis:\n  f^(Suc n) \\<bottom> \\<sqsubseteq> f c\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> c \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> c", "then"], ["proof (chain)\npicking this:\n  f^(Suc n) \\<bottom> \\<sqsubseteq> f c", "show ?case"], ["proof (prove)\nusing this:\n  f^(Suc n) \\<bottom> \\<sqsubseteq> f c\n\ngoal (1 subgoal):\n 1. f^(Suc n) \\<bottom> \\<sqsubseteq> c", "using attract cqfp c fnA"], ["proof (prove)\nusing this:\n  f^(Suc n) \\<bottom> \\<sqsubseteq> f c\n  \\<forall>q\\<in>A.\n     \\<forall>x\\<in>A.\n        f q \\<sim> q \\<longrightarrow>\n        x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\n  f c \\<sim> c\n  c \\<in> A\n  f^?n \\<bottom> \\<in> A\n\ngoal (1 subgoal):\n 1. f^(Suc n) \\<bottom> \\<sqsubseteq> c", "by blast"], ["proof (state)\nthis:\n  f^(Suc n) \\<bottom> \\<sqsubseteq> c\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f^n \\<bottom> \\<sqsubseteq> c\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> x", "}"], ["proof (state)\nthis:\n  f^?n2 \\<bottom> \\<sqsubseteq> c\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> x", "then"], ["proof (chain)\npicking this:\n  f^?n2 \\<bottom> \\<sqsubseteq> c", "show \"q \\<sqsubseteq> c\""], ["proof (prove)\nusing this:\n  f^?n2 \\<bottom> \\<sqsubseteq> c\n\ngoal (1 subgoal):\n 1. q \\<sqsubseteq> c", "using q c"], ["proof (prove)\nusing this:\n  f^?n2 \\<bottom> \\<sqsubseteq> c\n  extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} q\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. q \\<sqsubseteq> c", "by auto"], ["proof (state)\nthis:\n  q \\<sqsubseteq> c\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma kleene_qfp_iff_least:\n  assumes comp: \"omega_complete A (\\<sqsubseteq>)\"\n  assumes attract: \"\\<forall>q \\<in> A. \\<forall>x \\<in> A. f q \\<sim> q \\<longrightarrow> x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\"\n  assumes dual_attract: \"\\<forall>p \\<in> A. \\<forall>q \\<in> A. \\<forall>x \\<in> A. p \\<sim> q \\<longrightarrow> q \\<sqsubseteq> x \\<longrightarrow> p \\<sqsubseteq> x\"\n  shows \"extreme_bound A (\\<sqsubseteq>) Fn = extreme {s \\<in> A. f s \\<sim> s} (\\<sqsupseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} =\n    extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x)", "proof (intro ext iffI kleene_qfp_is_least[OF attract])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n}\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x\n 2. \\<And>x.\n       extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x)\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x", "fix q"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n}\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x\n 2. \\<And>x.\n       extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x)\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x", "assume q: \"extreme {s \\<in> A. f s \\<sim> s} (\\<sqsupseteq>) q\""], ["proof (state)\nthis:\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n}\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x\n 2. \\<And>x.\n       extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x)\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x", "from q"], ["proof (chain)\npicking this:\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q", "have qA: \"q \\<in> A\""], ["proof (prove)\nusing this:\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q\n\ngoal (1 subgoal):\n 1. q \\<in> A", "by auto"], ["proof (state)\nthis:\n  q \\<in> A\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n}\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x\n 2. \\<And>x.\n       extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x)\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x", "from q"], ["proof (chain)\npicking this:\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q", "have qq: \"q \\<sqsubseteq> q\""], ["proof (prove)\nusing this:\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q\n\ngoal (1 subgoal):\n 1. q \\<sqsubseteq> q", "by auto"], ["proof (state)\nthis:\n  q \\<sqsubseteq> q\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n}\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x\n 2. \\<And>x.\n       extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x)\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x", "from q"], ["proof (chain)\npicking this:\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q", "have fqq: \"f q \\<sim> q\""], ["proof (prove)\nusing this:\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q\n\ngoal (1 subgoal):\n 1. f q \\<sim> q", "by auto"], ["proof (state)\nthis:\n  f q \\<sim> q\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n}\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x\n 2. \\<And>x.\n       extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x)\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x", "from ex_kleene_qfp[OF comp]"], ["proof (chain)\npicking this:\n  Ex (extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n})", "obtain k where k: \"extreme_bound A (\\<sqsubseteq>) Fn k\""], ["proof (prove)\nusing this:\n  Ex (extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n})\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n}\n         k \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} k\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n}\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x\n 2. \\<And>x.\n       extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x)\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x", "have qk: \"q \\<sim> k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. q \\<sim> k", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. q \\<sqsubseteq> k\n 2. k \\<sqsubseteq> q", "from kleene_qfp[OF k] q k"], ["proof (chain)\npicking this:\n  f k \\<sim> k\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q\n  extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} k", "show \"q \\<sqsubseteq> k\""], ["proof (prove)\nusing this:\n  f k \\<sim> k\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q\n  extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} k\n\ngoal (1 subgoal):\n 1. q \\<sqsubseteq> k", "by auto"], ["proof (state)\nthis:\n  q \\<sqsubseteq> k\n\ngoal (1 subgoal):\n 1. k \\<sqsubseteq> q", "from kleene_qfp_is_least[OF _ k] q attract"], ["proof (chain)\npicking this:\n  \\<forall>q\\<in>A.\n     \\<forall>x\\<in>A.\n        f q \\<sim> q \\<longrightarrow>\n        x \\<sqsubseteq> f q \\<longrightarrow>\n        x \\<sqsubseteq> q \\<Longrightarrow>\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) k\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q\n  \\<forall>q\\<in>A.\n     \\<forall>x\\<in>A.\n        f q \\<sim> q \\<longrightarrow>\n        x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q", "show \"k \\<sqsubseteq> q\""], ["proof (prove)\nusing this:\n  \\<forall>q\\<in>A.\n     \\<forall>x\\<in>A.\n        f q \\<sim> q \\<longrightarrow>\n        x \\<sqsubseteq> f q \\<longrightarrow>\n        x \\<sqsubseteq> q \\<Longrightarrow>\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) k\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q\n  \\<forall>q\\<in>A.\n     \\<forall>x\\<in>A.\n        f q \\<sim> q \\<longrightarrow>\n        x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\n\ngoal (1 subgoal):\n 1. k \\<sqsubseteq> q", "by blast"], ["proof (state)\nthis:\n  k \\<sqsubseteq> q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  q \\<sim> k\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n}\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x\n 2. \\<And>x.\n       extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x)\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x", "show \"extreme_bound A (\\<sqsubseteq>) Fn q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} q", "proof (intro extreme_boundI,safe)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound {f^n \\<bottom> |. n} (\\<sqsubseteq>) b;\n        b \\<in> A\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> b\n 2. \\<And>x n. True \\<Longrightarrow> f^n \\<bottom> \\<sqsubseteq> q\n 3. q \\<in> A", "fix n"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound {f^n \\<bottom> |. n} (\\<sqsubseteq>) b;\n        b \\<in> A\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> b\n 2. \\<And>x n. True \\<Longrightarrow> f^n \\<bottom> \\<sqsubseteq> q\n 3. q \\<in> A", "show \"f^n \\<bottom> \\<sqsubseteq> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f^n \\<bottom> \\<sqsubseteq> q", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. f^0 \\<bottom> \\<sqsubseteq> q\n 2. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> q \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> q", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. f^0 \\<bottom> \\<sqsubseteq> q\n 2. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> q \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> q", "from bot q"], ["proof (chain)\npicking this:\n  \\<bottom> \\<in> A\n  \\<forall>q\\<in>A. \\<bottom> \\<sqsubseteq> q\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q", "show ?case"], ["proof (prove)\nusing this:\n  \\<bottom> \\<in> A\n  \\<forall>q\\<in>A. \\<bottom> \\<sqsubseteq> q\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q\n\ngoal (1 subgoal):\n 1. f^0 \\<bottom> \\<sqsubseteq> q", "by auto"], ["proof (state)\nthis:\n  f^0 \\<bottom> \\<sqsubseteq> q\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> q \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> q", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> q \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> q", "case S:(Suc n)"], ["proof (state)\nthis:\n  f^n \\<bottom> \\<sqsubseteq> q\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> q \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> q", "from fnA f"], ["proof (chain)\npicking this:\n  f^?n \\<bottom> \\<in> A\n  f ` A \\<subseteq> A", "have fsnbA: \"f (f^n \\<bottom>) \\<in> A\""], ["proof (prove)\nusing this:\n  f^?n \\<bottom> \\<in> A\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. f (f^n \\<bottom>) \\<in> A", "by auto"], ["proof (state)\nthis:\n  f (f^n \\<bottom>) \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> q \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> q", "have fnfn: \"f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom>", "using fn_ref"], ["proof (prove)\nusing this:\n  f^?n \\<bottom> \\<sqsubseteq> f^?n \\<bottom>\n\ngoal (1 subgoal):\n 1. f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom>", "by auto"], ["proof (state)\nthis:\n  f^n \\<bottom> \\<sqsubseteq> f^n \\<bottom>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> q \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> q", "have \"f (f^n \\<bottom>) \\<sqsubseteq> f q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (f^n \\<bottom>) \\<sqsubseteq> f q", "using omega_continuous_imp_mono_refl[OF cont fnA qA S fnfn qq]"], ["proof (prove)\nusing this:\n  f (f^n \\<bottom>) \\<sqsubseteq> f q\n\ngoal (1 subgoal):\n 1. f (f^n \\<bottom>) \\<sqsubseteq> f q", "by auto"], ["proof (state)\nthis:\n  f (f^n \\<bottom>) \\<sqsubseteq> f q\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f^n \\<bottom> \\<sqsubseteq> q \\<Longrightarrow>\n       f^(Suc n) \\<bottom> \\<sqsubseteq> q", "then"], ["proof (chain)\npicking this:\n  f (f^n \\<bottom>) \\<sqsubseteq> f q", "show ?case"], ["proof (prove)\nusing this:\n  f (f^n \\<bottom>) \\<sqsubseteq> f q\n\ngoal (1 subgoal):\n 1. f^(Suc n) \\<bottom> \\<sqsubseteq> q", "using fsnbA qA attract fqq"], ["proof (prove)\nusing this:\n  f (f^n \\<bottom>) \\<sqsubseteq> f q\n  f (f^n \\<bottom>) \\<in> A\n  q \\<in> A\n  \\<forall>q\\<in>A.\n     \\<forall>x\\<in>A.\n        f q \\<sim> q \\<longrightarrow>\n        x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\n  f q \\<sim> q\n\ngoal (1 subgoal):\n 1. f^(Suc n) \\<bottom> \\<sqsubseteq> q", "by auto"], ["proof (state)\nthis:\n  f^(Suc n) \\<bottom> \\<sqsubseteq> q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f^n \\<bottom> \\<sqsubseteq> q\n\ngoal (2 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound {f^n \\<bottom> |. n} (\\<sqsubseteq>) b;\n        b \\<in> A\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> b\n 2. q \\<in> A", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound {f^n \\<bottom> |. n} (\\<sqsubseteq>) b;\n        b \\<in> A\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> b\n 2. q \\<in> A", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound {f^n \\<bottom> |. n} (\\<sqsubseteq>) b;\n        b \\<in> A\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> b\n 2. q \\<in> A", "assume \"bound Fn (\\<sqsubseteq>) x\" and x: \"x \\<in> A\""], ["proof (state)\nthis:\n  bound {f^n \\<bottom> |. n} (\\<sqsubseteq>) x\n  x \\<in> A\n\ngoal (2 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound {f^n \\<bottom> |. n} (\\<sqsubseteq>) b;\n        b \\<in> A\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> b\n 2. q \\<in> A", "with k"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} k\n  bound {f^n \\<bottom> |. n} (\\<sqsubseteq>) x\n  x \\<in> A", "have kx: \"k \\<sqsubseteq> x\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} k\n  bound {f^n \\<bottom> |. n} (\\<sqsubseteq>) x\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. k \\<sqsubseteq> x", "by auto"], ["proof (state)\nthis:\n  k \\<sqsubseteq> x\n\ngoal (2 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound {f^n \\<bottom> |. n} (\\<sqsubseteq>) b;\n        b \\<in> A\\<rbrakk>\n       \\<Longrightarrow> q \\<sqsubseteq> b\n 2. q \\<in> A", "with dual_attract[rule_format, OF _ _ x qk] q k"], ["proof (chain)\npicking this:\n  \\<lbrakk>q \\<in> A; k \\<in> A; k \\<sqsubseteq> x\\<rbrakk>\n  \\<Longrightarrow> q \\<sqsubseteq> x\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q\n  extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} k\n  k \\<sqsubseteq> x", "show \"q \\<sqsubseteq> x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>q \\<in> A; k \\<in> A; k \\<sqsubseteq> x\\<rbrakk>\n  \\<Longrightarrow> q \\<sqsubseteq> x\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q\n  extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} k\n  k \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. q \\<sqsubseteq> x", "by auto"], ["proof (state)\nthis:\n  q \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. q \\<in> A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. q \\<in> A", "from q"], ["proof (chain)\npicking this:\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q", "show \"q \\<in> A\""], ["proof (prove)\nusing this:\n  extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x) q\n\ngoal (1 subgoal):\n 1. q \\<in> A", "by auto"], ["proof (state)\nthis:\n  q \\<in> A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} q\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n}\n        x \\<Longrightarrow>\n       extreme_bound A (\\<sqsubseteq>) {f^n \\<bottom> |. n} x", "qed"], ["", "end"], ["", "context attractive begin"], ["", "interpretation less_eq_notations"], ["proof (prove)\ngoal:\nNo subgoals!", "."], ["", "theorem kleene_qfp_is_dual_extreme:\n  assumes comp: \"omega_complete A (\\<sqsubseteq>)\"\n    and cont: \"omega_continuous A (\\<sqsubseteq>) f\" and bA: \"b \\<in> A\" and bot: \"\\<forall>x \\<in> A. b \\<sqsubseteq> x\"\n  shows \"extreme_bound A (\\<sqsubseteq>) {f^n b |. n :: nat} = extreme {s \\<in> A. f s \\<sim> s} (\\<sqsupseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extreme_bound A (\\<sqsubseteq>) {f^n b |. n} =\n    extreme {s \\<in> A. f s \\<sim> s} (\\<lambda>x y. y \\<sqsubseteq> x)", "apply (rule kleene_qfp_iff_least[OF bA bot cont comp])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<forall>q\\<in>A.\n       \\<forall>x\\<in>A.\n          f q \\<sim> q \\<longrightarrow>\n          x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\n 2. \\<forall>p\\<in>A.\n       \\<forall>q\\<in>A.\n          \\<forall>x\\<in>A.\n             p \\<sim> q \\<longrightarrow>\n             q \\<sqsubseteq> x \\<longrightarrow> p \\<sqsubseteq> x", "using cont[THEN omega_continuousDdom]"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n\ngoal (2 subgoals):\n 1. \\<forall>q\\<in>A.\n       \\<forall>x\\<in>A.\n          f q \\<sim> q \\<longrightarrow>\n          x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\n 2. \\<forall>p\\<in>A.\n       \\<forall>q\\<in>A.\n          \\<forall>x\\<in>A.\n             p \\<sim> q \\<longrightarrow>\n             q \\<sqsubseteq> x \\<longrightarrow> p \\<sqsubseteq> x", "by (auto dest: sym_order_trans order_sym_trans)"], ["", "end"], ["", "corollary(in antisymmetric) kleene_fp:\n  assumes cont: \"omega_continuous A (\\<sqsubseteq>) f\"\n    and b: \"b \\<in> A\" \"\\<forall>x \\<in> A. b \\<sqsubseteq> x\"\n    and p: \"extreme_bound A (\\<sqsubseteq>) {f^n b |. n :: nat} p\"\n  shows \"f p = p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f p = p", "using kleene_qfp[OF b cont] p cont[THEN omega_continuousDdom]"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) {f^n b |. n} ?q \\<Longrightarrow>\n  sympartp (\\<sqsubseteq>) (f ?q) ?q\n  extreme_bound A (\\<sqsubseteq>) {f^n b |. n} p\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. f p = p", "by (auto 2 3 intro!:antisym)"], ["", "no_notation compower (\"_^_\"[1000,1000]1000)"], ["", "end"]]}