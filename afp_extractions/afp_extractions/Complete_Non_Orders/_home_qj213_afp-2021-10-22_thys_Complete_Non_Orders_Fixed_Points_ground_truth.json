{"file_name": "/home/qj213/afp-2021-10-22/thys/Complete_Non_Orders/Fixed_Points.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Complete_Non_Orders", "problem_names": ["lemma AA_I:\n  \"X \\<subseteq> A \\<Longrightarrow> f ` X \\<subseteq> X \\<Longrightarrow> (\\<And>Y s. Y \\<subseteq> X \\<Longrightarrow> extreme_bound A (\\<sqsubseteq>) Y s \\<Longrightarrow> s \\<in> X) \\<Longrightarrow> X \\<in> AA\"", "lemma AA_E:\n  \"X \\<in> AA \\<Longrightarrow>\n   (X \\<subseteq> A \\<Longrightarrow> f ` X \\<subseteq> X \\<Longrightarrow> (\\<And>Y s. Y \\<subseteq> X \\<Longrightarrow> extreme_bound A (\\<sqsubseteq>) Y s \\<Longrightarrow> s \\<in> X) \\<Longrightarrow> thesis) \\<Longrightarrow> thesis\"", "lemma A_AA: \"A \\<in> AA\"", "lemma C_AA: \"C \\<in> AA\"", "lemma CA: \"C \\<subseteq> A\"", "lemma fC: \"f ` C \\<subseteq> C\"", "lemma cA: \"c \\<in> A\"", "lemma cC: \"c \\<in> C\"", "lemma fcC: \"f c \\<in> C\"", "lemma fcA: \"f c \\<in> A\"", "lemma qfp_as_extreme_bound:\n  assumes infl_mono: \"\\<forall>x \\<in> A. x \\<sqsubseteq> f x \\<or> (\\<forall>y \\<in> A. y \\<sqsubseteq> x \\<longrightarrow> f y \\<sqsubseteq> f x)\"\n  shows \"f c \\<sim> c\"", "lemma extreme_qfp:\n  assumes attract: \"\\<forall>q \\<in> A. \\<forall>x \\<in> A. f q \\<sim> q \\<longrightarrow> x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q} (\\<sqsupseteq>) c\"", "lemma ex_qfp:\n  assumes comp: \"CC-complete A (\\<sqsubseteq>)\" and C: \"C \\<in> CC\"\n    and infl_mono: \"\\<forall>a \\<in> A. a \\<sqsubseteq> f a \\<or> (\\<forall>b \\<in> A. b \\<sqsubseteq> a \\<longrightarrow> f b \\<sqsubseteq> f a)\"\n  shows \"\\<exists>s \\<in> A. f s \\<sim> s\"", "lemma ex_extreme_qfp_fp:\n  assumes comp: \"CC-complete A (\\<sqsubseteq>)\" and C: \"C \\<in> CC\"\n    and attract: \"\\<forall>q \\<in> A. \\<forall>x \\<in> A. f q \\<sim> q \\<longrightarrow> x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"\\<exists>c. extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q} (\\<sqsupseteq>) c\"", "lemma ex_extreme_qfp:\n  assumes comp: \"CC-complete A (\\<sqsubseteq>)\" and C: \"C \\<in> CC\"\n    and attract: \"\\<forall>q \\<in> A. \\<forall>x \\<in> A. f q \\<sim> q \\<longrightarrow> x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"\\<exists>c. extreme {q \\<in> A. f q \\<sim> q} (\\<sqsupseteq>) c\"", "theorem complete_infl_mono_imp_ex_qfp:\n  assumes comp: \"UNIV-complete A (\\<sqsubseteq>)\" and infl_mono: \"\\<forall>a\\<in>A. a \\<sqsubseteq> f a \\<or> (\\<forall>b\\<in>A. b \\<sqsubseteq> a \\<longrightarrow> f b \\<sqsubseteq> f a)\"\n  shows \"\\<exists>s\\<in>A. f s \\<sim> s\"", "theorem complete_mono_imp_ex_extreme_qfp:\n  assumes comp: \"UNIV-complete A (\\<sqsubseteq>)\" and f: \"f ` A \\<subseteq> A\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"\\<exists>s. extreme {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>) s\"", "lemma bound_monotone_on:\n  assumes mono: \"monotone_on A r s f\" and XA: \"X \\<subseteq> A\" and aA: \"a \\<in> A\" and rXa: \"bound X r a\"\n  shows \"bound (f`X) s (f a)\"", "lemma assumes \"derivation P\"\n  shows derivation_A: \"P \\<subseteq> A\" and derivation_well_ordered: \"well_ordered_set P (\\<sqsubseteq>)\"", "lemma derivation_cases[consumes 2, case_names suc lim]:\n  assumes \"derivation X\" and \"x \\<in> X\"\n    and \"\\<And>Y y. Y = {y \\<in> X. y \\<sqsubset> x} \\<Longrightarrow> extreme Y (\\<sqsubseteq>) y \\<Longrightarrow> x = f y \\<Longrightarrow> thesis\"\n    and \"\\<And>Y. Y = {y \\<in> X. y \\<sqsubset> x} \\<Longrightarrow> f ` Y \\<subseteq> Y \\<Longrightarrow> extreme_bound A (\\<sqsubseteq>) Y x \\<Longrightarrow> thesis\"\n  shows thesis", "lemma derivableI[intro?]: \"derivation X \\<Longrightarrow> x \\<in> X \\<Longrightarrow> derivable x\"", "lemma derivableE: \"derivable x \\<Longrightarrow> (\\<And>P. derivation P \\<Longrightarrow> x \\<in> P \\<Longrightarrow> thesis) \\<Longrightarrow> thesis\"", "lemma derivable_A: \"derivable x \\<Longrightarrow> x \\<in> A\"", "lemma UN_derivations_eq_derivable: \"(\\<Union>{P. derivation P}) = {x. derivable x}\"", "lemma derivation_lim:\n  assumes P: \"derivation P\" and fP: \"f ` P \\<subseteq> P\" and Pp: \"extreme_bound A (\\<sqsubseteq>) P p\"\n  shows \"derivation (P \\<union> {p})\"", "lemma derivation_suc:\n  assumes P: \"derivation P\" and Pp: \"extreme P (\\<sqsubseteq>) p\" shows \"derivation (P \\<union> {f p})\"", "lemma derivable_closed:\n  assumes x: \"derivable x\" shows \"derivable (f x)\"", "lemma derivation_useful:\n  assumes X: \"derivation X\" and xX: \"x \\<in> X\" and yX: \"y \\<in> X\" and xy: \"x \\<sqsubset> y\"\n  shows \"f x \\<sqsubseteq> y\"", "lemma derivations_cross_compare:\n  assumes X: \"derivation X\" and Y: \"derivation Y\" and xX: \"x \\<in> X\" and yY: \"y \\<in> Y\"\n  shows \"(x \\<sqsubset> y \\<and> x \\<in> Y) \\<or> x = y \\<or> (y \\<sqsubset> x \\<and> y \\<in> X)\"", "lemmas derivable_well_ordered = derivable.well_ordered_set_axioms", "lemmas derivable_total_ordered = derivable.total_ordered_set_axioms", "lemmas derivable_well_related = derivable.well_related_set_axioms", "lemma pred_unique:\n  assumes X: \"derivation X\" and xX: \"x \\<in> X\"\n  shows \"{z \\<in> X. z \\<sqsubset> x} = {z. derivable z \\<and> z \\<sqsubset> x}\"", "lemma derivation_derivable: \"derivation {x. derivable x}\"", "lemma\n  assumes p: \"extreme_bound A (\\<sqsubseteq>) {x. derivable x} p\"\n  shows sup_derivable_qfp: \"f p \\<sim> p\" and sup_derivable_fp: \"f p = p\"", "lemma mono_imp_derivation_infl:\n  \"\\<forall>X x y. derivation X \\<longrightarrow> x \\<in> X \\<longrightarrow> y \\<in> X \\<longrightarrow> x \\<sqsubseteq> y \\<longrightarrow> x \\<sqsubseteq> f y\"", "lemma mono_imp_derivation_f_refl:\n  \"\\<forall>X x. derivation X \\<longrightarrow> x \\<in> X \\<longrightarrow> f x \\<sqsubseteq> f x\"", "lemma mono_imp_sup_derivable_lfp:\n  assumes p: \"extreme_bound A (\\<sqsubseteq>) {x. derivable x} p\"\n  shows \"extreme {q \\<in> A. f q = q} (\\<sqsupseteq>) p\"", "lemma mono_imp_ex_least_fp:\n  assumes comp: \"well_complete A (\\<sqsubseteq>)\"\n  shows \"\\<exists>p. extreme {q \\<in> A. f q = q} (\\<sqsupseteq>) p\"", "theorem (in pseudo_ordered_set) well_complete_infl_imp_ex_fp:\n  assumes comp: \"well_complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and infl: \"\\<forall>x \\<in> A. \\<forall>y \\<in> A. x \\<sqsubseteq> y \\<longrightarrow> x \\<sqsubseteq> f y\"\n  shows \"\\<exists>p \\<in> A. f p = p\"", "lemmas setwiseI[intro] = setwise_def[unfolded atomize_eq, THEN iffD2, rule_format]", "lemmas setwiseE[elim] = setwise_def[unfolded atomize_eq, THEN iffD1, elim_format, rule_format]", "lemma attract_mono_imp_least_qfp:\n  assumes attract: \"attractive A (\\<sqsubseteq>)\"\n    and comp: \"well_complete A (\\<sqsubseteq>)\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"\\<exists>c. extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p} (\\<sqsupseteq>) c \\<and> f c \\<sim> c\"", "lemma attract_mono_imp_fp_qfp_complete:\n  assumes attract: \"attractive A (\\<sqsubseteq>)\"\n    and comp: \"CC-complete A (\\<sqsubseteq>)\"\n    and wr_CC: \"\\<forall>C \\<subseteq> A. well_related_set C (\\<sqsubseteq>) \\<longrightarrow> C \\<in> CC\"\n    and extend: \"\\<forall>X \\<in> CC. \\<forall>Y \\<in> CC. X \\<sqsubseteq>\\<^sup>s Y \\<longrightarrow> X \\<union> Y \\<in> CC\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n    and P: \"P \\<subseteq> {x \\<in> A. f x = x}\"\n  shows \"CC-complete ({q \\<in> A. f q \\<sim> q} \\<union> P) (\\<sqsubseteq>)\"", "lemma attract_mono_imp_qfp_complete:\n  assumes \"attractive A (\\<sqsubseteq>)\"\n    and \"CC-complete A (\\<sqsubseteq>)\"\n    and \"\\<forall>C \\<subseteq> A. well_related_set C (\\<sqsubseteq>) \\<longrightarrow> C \\<in> CC\"\n    and \"\\<forall>X \\<in> CC. \\<forall>Y \\<in> CC. X \\<sqsubseteq>\\<^sup>s Y \\<longrightarrow> X \\<union> Y \\<in> CC\"\n    and \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"CC-complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)\"", "lemma antisym_mono_imp_fp_complete:\n  assumes anti: \"antisymmetric A (\\<sqsubseteq>)\"\n    and comp: \"CC-complete A (\\<sqsubseteq>)\"\n    and wr_CC: \"\\<forall>C \\<subseteq> A. well_related_set C (\\<sqsubseteq>) \\<longrightarrow> C \\<in> CC\"\n    and extend: \"\\<forall>X \\<in> CC. \\<forall>Y \\<in> CC. X \\<sqsubseteq>\\<^sup>s Y \\<longrightarrow> X \\<union> Y \\<in> CC\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"CC-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)\"", "theorem mono_imp_qfp_UNIV_complete:\n  assumes comp: \"UNIV-complete A (\\<sqsubseteq>)\" and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"UNIV-complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)\"", "theorem mono_imp_qfp_connex_complete:\n  assumes comp: \"{X. connex X (\\<sqsubseteq>)}-complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"{X. connex X (\\<sqsubseteq>)}-complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)\"", "theorem mono_imp_qfp_directed_complete:\n  assumes comp: \"{X. directed X (\\<sqsubseteq>)}-complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"{X. directed X (\\<sqsubseteq>)}-complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)\"", "theorem mono_imp_qfp_well_complete:\n  assumes comp: \"well_complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"well_complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)\"", "theorem mono_imp_fp_complete:\n  assumes comp: \"UNIV-complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"UNIV-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)\"", "theorem mono_imp_fp_connex_complete:\n  assumes comp: \"{X. connex X (\\<sqsubseteq>)}-complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"{X. connex X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)\"", "theorem mono_imp_fp_directed_complete:\n  assumes comp: \"{X. directed X (\\<sqsubseteq>)}-complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"{X. directed X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)\"", "theorem mono_imp_fp_well_complete:\n  assumes comp: \"well_complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"well_complete {p \\<in> A. f p = p} (\\<sqsubseteq>)\""], "translations": [["", "lemma AA_I:\n  \"X \\<subseteq> A \\<Longrightarrow> f ` X \\<subseteq> X \\<Longrightarrow> (\\<And>Y s. Y \\<subseteq> X \\<Longrightarrow> extreme_bound A (\\<sqsubseteq>) Y s \\<Longrightarrow> s \\<in> X) \\<Longrightarrow> X \\<in> AA\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<subseteq> A; f ` X \\<subseteq> X;\n     \\<And>Y s.\n        \\<lbrakk>Y \\<subseteq> X;\n         extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n        \\<Longrightarrow> s \\<in> X\\<rbrakk>\n    \\<Longrightarrow> X \\<in> AA", "by (unfold AA_def, safe)"], ["", "lemma AA_E:\n  \"X \\<in> AA \\<Longrightarrow>\n   (X \\<subseteq> A \\<Longrightarrow> f ` X \\<subseteq> X \\<Longrightarrow> (\\<And>Y s. Y \\<subseteq> X \\<Longrightarrow> extreme_bound A (\\<sqsubseteq>) Y s \\<Longrightarrow> s \\<in> X) \\<Longrightarrow> thesis) \\<Longrightarrow> thesis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> AA;\n     \\<lbrakk>X \\<subseteq> A; f ` X \\<subseteq> X;\n      \\<And>Y s.\n         \\<lbrakk>Y \\<subseteq> X;\n          extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n         \\<Longrightarrow> s \\<in> X\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by (auto simp: AA_def)"], ["", "definition C where \"C \\<equiv> \\<Inter> AA\""], ["", "lemma A_AA: \"A \\<in> AA\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> AA", "by (auto intro!:AA_I f)"], ["", "lemma C_AA: \"C \\<in> AA\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C \\<in> AA", "proof (intro AA_I)"], ["proof (state)\ngoal (3 subgoals):\n 1. C \\<subseteq> A\n 2. f ` C \\<subseteq> C\n 3. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> C;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> C", "show \"C \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C \\<subseteq> A", "using C_def A_AA f"], ["proof (prove)\nusing this:\n  C \\<equiv> \\<Inter> AA\n  A \\<in> AA\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. C \\<subseteq> A", "by auto"], ["proof (state)\nthis:\n  C \\<subseteq> A\n\ngoal (2 subgoals):\n 1. f ` C \\<subseteq> C\n 2. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> C;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> C", "show \"f ` C \\<subseteq> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f ` C \\<subseteq> C", "unfolding C_def AA_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. f `\n    \\<Inter>\n     {X. X \\<subseteq> A \\<and>\n         f ` X \\<subseteq> X \\<and>\n         (\\<forall>Y s.\n             Y \\<subseteq> X \\<longrightarrow>\n             extreme_bound A (\\<sqsubseteq>) Y s \\<longrightarrow>\n             s \\<in> X)}\n    \\<subseteq> \\<Inter>\n                 {X. X \\<subseteq> A \\<and>\n                     f ` X \\<subseteq> X \\<and>\n                     (\\<forall>Y s.\n                         Y \\<subseteq> X \\<longrightarrow>\n                         extreme_bound A (\\<sqsubseteq>) Y\n                          s \\<longrightarrow>\n                         s \\<in> X)}", "by auto"], ["proof (state)\nthis:\n  f ` C \\<subseteq> C\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> C;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> C", "fix B b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> C;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> C", "assume B: \"B \\<subseteq> C\" \"extreme_bound A (\\<sqsubseteq>) B b\""], ["proof (state)\nthis:\n  B \\<subseteq> C\n  extreme_bound A (\\<sqsubseteq>) B b\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> C;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> C", "{"], ["proof (state)\nthis:\n  B \\<subseteq> C\n  extreme_bound A (\\<sqsubseteq>) B b\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> C;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> C", "fix X"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> C;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> C", "assume X: \"X \\<in> AA\""], ["proof (state)\nthis:\n  X \\<in> AA\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> C;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> C", "with B"], ["proof (chain)\npicking this:\n  B \\<subseteq> C\n  extreme_bound A (\\<sqsubseteq>) B b\n  X \\<in> AA", "have \"B \\<subseteq> X\""], ["proof (prove)\nusing this:\n  B \\<subseteq> C\n  extreme_bound A (\\<sqsubseteq>) B b\n  X \\<in> AA\n\ngoal (1 subgoal):\n 1. B \\<subseteq> X", "by (auto simp: C_def)"], ["proof (state)\nthis:\n  B \\<subseteq> X\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> C;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> C", "with X B"], ["proof (chain)\npicking this:\n  X \\<in> AA\n  B \\<subseteq> C\n  extreme_bound A (\\<sqsubseteq>) B b\n  B \\<subseteq> X", "have \"b\\<in>X\""], ["proof (prove)\nusing this:\n  X \\<in> AA\n  B \\<subseteq> C\n  extreme_bound A (\\<sqsubseteq>) B b\n  B \\<subseteq> X\n\ngoal (1 subgoal):\n 1. b \\<in> X", "by (auto elim!: AA_E)"], ["proof (state)\nthis:\n  b \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> C;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> C", "}"], ["proof (state)\nthis:\n  ?X2 \\<in> AA \\<Longrightarrow> b \\<in> ?X2\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> C;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> C", "then"], ["proof (chain)\npicking this:\n  ?X2 \\<in> AA \\<Longrightarrow> b \\<in> ?X2", "show \"b \\<in> C\""], ["proof (prove)\nusing this:\n  ?X2 \\<in> AA \\<Longrightarrow> b \\<in> ?X2\n\ngoal (1 subgoal):\n 1. b \\<in> C", "by (auto simp: C_def AA_def)"], ["proof (state)\nthis:\n  b \\<in> C\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma CA: \"C \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C \\<subseteq> A", "using A_AA"], ["proof (prove)\nusing this:\n  A \\<in> AA\n\ngoal (1 subgoal):\n 1. C \\<subseteq> A", "by (auto simp: C_def)"], ["", "lemma fC: \"f ` C \\<subseteq> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f ` C \\<subseteq> C", "using C_AA"], ["proof (prove)\nusing this:\n  C \\<in> AA\n\ngoal (1 subgoal):\n 1. f ` C \\<subseteq> C", "by (auto elim!: AA_E)"], ["", "context\n  fixes c assumes Cc: \"extreme_bound A (\\<sqsubseteq>) C c\"\nbegin"], ["", "private"], ["", "lemma cA: \"c \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<in> A", "using Cc"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) C c\n\ngoal (1 subgoal):\n 1. c \\<in> A", "by auto"], ["", "private"], ["", "lemma cC: \"c \\<in> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<in> C", "using Cc C_AA"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) C c\n  C \\<in> AA\n\ngoal (1 subgoal):\n 1. c \\<in> C", "by (blast elim!:AA_E)"], ["", "private"], ["", "lemma fcC: \"f c \\<in> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f c \\<in> C", "using cC AA_def C_AA"], ["proof (prove)\nusing this:\n  c \\<in> C\n  AA \\<equiv>\n  {X. X \\<subseteq> A \\<and>\n      f ` X \\<subseteq> X \\<and>\n      (\\<forall>Y s.\n          Y \\<subseteq> X \\<longrightarrow>\n          extreme_bound A (\\<sqsubseteq>) Y s \\<longrightarrow> s \\<in> X)}\n  C \\<in> AA\n\ngoal (1 subgoal):\n 1. f c \\<in> C", "by auto"], ["", "private"], ["", "lemma fcA: \"f c \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f c \\<in> A", "using fcC CA"], ["proof (prove)\nusing this:\n  f c \\<in> C\n  C \\<subseteq> A\n\ngoal (1 subgoal):\n 1. f c \\<in> A", "by auto"], ["", "lemma qfp_as_extreme_bound:\n  assumes infl_mono: \"\\<forall>x \\<in> A. x \\<sqsubseteq> f x \\<or> (\\<forall>y \\<in> A. y \\<sqsubseteq> x \\<longrightarrow> f y \\<sqsubseteq> f x)\"\n  shows \"f c \\<sim> c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f c \\<sim> c", "proof (intro conjI bexI sympartpI)"], ["proof (state)\ngoal (2 subgoals):\n 1. f c \\<sqsubseteq> c\n 2. c \\<sqsubseteq> f c", "show \"f c \\<sqsubseteq> c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f c \\<sqsubseteq> c", "using fcC Cc"], ["proof (prove)\nusing this:\n  f c \\<in> C\n  extreme_bound A (\\<sqsubseteq>) C c\n\ngoal (1 subgoal):\n 1. f c \\<sqsubseteq> c", "by auto"], ["proof (state)\nthis:\n  f c \\<sqsubseteq> c\n\ngoal (1 subgoal):\n 1. c \\<sqsubseteq> f c", "from infl_mono[rule_format, OF cA]"], ["proof (chain)\npicking this:\n  c \\<sqsubseteq> f c \\<or>\n  (\\<forall>y\\<in>A.\n      y \\<sqsubseteq> c \\<longrightarrow> f y \\<sqsubseteq> f c)", "show \"c \\<sqsubseteq> f c\""], ["proof (prove)\nusing this:\n  c \\<sqsubseteq> f c \\<or>\n  (\\<forall>y\\<in>A.\n      y \\<sqsubseteq> c \\<longrightarrow> f y \\<sqsubseteq> f c)\n\ngoal (1 subgoal):\n 1. c \\<sqsubseteq> f c", "proof (safe)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>A.\n       y \\<sqsubseteq> c \\<longrightarrow>\n       f y \\<sqsubseteq> f c \\<Longrightarrow>\n    c \\<sqsubseteq> f c", "text \\<open>Monotone case:\\<close>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>A.\n       y \\<sqsubseteq> c \\<longrightarrow>\n       f y \\<sqsubseteq> f c \\<Longrightarrow>\n    c \\<sqsubseteq> f c", "assume mono: \"\\<forall>b\\<in>A. b \\<sqsubseteq> c \\<longrightarrow> f b \\<sqsubseteq> f c\""], ["proof (state)\nthis:\n  \\<forall>b\\<in>A.\n     b \\<sqsubseteq> c \\<longrightarrow> f b \\<sqsubseteq> f c\n\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>A.\n       y \\<sqsubseteq> c \\<longrightarrow>\n       f y \\<sqsubseteq> f c \\<Longrightarrow>\n    c \\<sqsubseteq> f c", "define D where \"D \\<equiv> {x \\<in> C. x \\<sqsubseteq> f c}\""], ["proof (state)\nthis:\n  D \\<equiv> {x \\<in> C. x \\<sqsubseteq> f c}\n\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>A.\n       y \\<sqsubseteq> c \\<longrightarrow>\n       f y \\<sqsubseteq> f c \\<Longrightarrow>\n    c \\<sqsubseteq> f c", "have \"D \\<in> AA\""], ["proof (prove)\ngoal (1 subgoal):\n 1. D \\<in> AA", "proof (intro AA_I)"], ["proof (state)\ngoal (3 subgoals):\n 1. D \\<subseteq> A\n 2. f ` D \\<subseteq> D\n 3. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> D;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> D", "show \"D \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. D \\<subseteq> A", "unfolding D_def C_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> \\<Inter> AA. x \\<sqsubseteq> f c} \\<subseteq> A", "using A_AA f"], ["proof (prove)\nusing this:\n  A \\<in> AA\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. {x \\<in> \\<Inter> AA. x \\<sqsubseteq> f c} \\<subseteq> A", "by auto"], ["proof (state)\nthis:\n  D \\<subseteq> A\n\ngoal (2 subgoals):\n 1. f ` D \\<subseteq> D\n 2. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> D;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> D", "have fxC: \"x \\<in> C \\<Longrightarrow> x \\<sqsubseteq> f c \\<Longrightarrow> f x \\<in> C\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> C; x \\<sqsubseteq> f c\\<rbrakk>\n    \\<Longrightarrow> f x \\<in> C", "using C_AA"], ["proof (prove)\nusing this:\n  C \\<in> AA\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> C; x \\<sqsubseteq> f c\\<rbrakk>\n    \\<Longrightarrow> f x \\<in> C", "by (auto simp: AA_def)"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<in> C; ?x \\<sqsubseteq> f c\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<in> C\n\ngoal (2 subgoals):\n 1. f ` D \\<subseteq> D\n 2. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> D;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> D", "show \"f ` D \\<subseteq> D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f ` D \\<subseteq> D", "proof (unfold D_def, safe intro!: fxC)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xa.\n       \\<lbrakk>xa \\<in> C; xa \\<sqsubseteq> f c\\<rbrakk>\n       \\<Longrightarrow> f xa \\<sqsubseteq> f c", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xa.\n       \\<lbrakk>xa \\<in> C; xa \\<sqsubseteq> f c\\<rbrakk>\n       \\<Longrightarrow> f xa \\<sqsubseteq> f c", "assume xC: \"x \\<in> C\""], ["proof (state)\nthis:\n  x \\<in> C\n\ngoal (1 subgoal):\n 1. \\<And>x xa.\n       \\<lbrakk>xa \\<in> C; xa \\<sqsubseteq> f c\\<rbrakk>\n       \\<Longrightarrow> f xa \\<sqsubseteq> f c", "have \"x \\<sqsubseteq> c\" \"x \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> c &&& x \\<in> A", "using Cc xC CA"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) C c\n  x \\<in> C\n  C \\<subseteq> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> c &&& x \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubseteq> c\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>x xa.\n       \\<lbrakk>xa \\<in> C; xa \\<sqsubseteq> f c\\<rbrakk>\n       \\<Longrightarrow> f xa \\<sqsubseteq> f c", "then"], ["proof (chain)\npicking this:\n  x \\<sqsubseteq> c\n  x \\<in> A", "show \"f x \\<sqsubseteq> f c\""], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> c\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f c", "using mono"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> c\n  x \\<in> A\n  \\<forall>b\\<in>A.\n     b \\<sqsubseteq> c \\<longrightarrow> f b \\<sqsubseteq> f c\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f c", "by (auto dest:monotoneD)"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> f c\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f ` D \\<subseteq> D\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> D;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> D", "have DC: \"D \\<subseteq> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. D \\<subseteq> C", "unfolding D_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> C. x \\<sqsubseteq> f c} \\<subseteq> C", "by auto"], ["proof (state)\nthis:\n  D \\<subseteq> C\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> D;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> D", "fix B b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> D;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> D", "assume BD: \"B \\<subseteq> D\" and Bb: \"extreme_bound A (\\<sqsubseteq>) B b\""], ["proof (state)\nthis:\n  B \\<subseteq> D\n  extreme_bound A (\\<sqsubseteq>) B b\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> D;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> D", "have \"B \\<subseteq> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<subseteq> C", "using DC BD"], ["proof (prove)\nusing this:\n  D \\<subseteq> C\n  B \\<subseteq> D\n\ngoal (1 subgoal):\n 1. B \\<subseteq> C", "by auto"], ["proof (state)\nthis:\n  B \\<subseteq> C\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> D;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> D", "then"], ["proof (chain)\npicking this:\n  B \\<subseteq> C", "have bC: \"b \\<in> C\""], ["proof (prove)\nusing this:\n  B \\<subseteq> C\n\ngoal (1 subgoal):\n 1. b \\<in> C", "using C_AA Bb BD"], ["proof (prove)\nusing this:\n  B \\<subseteq> C\n  C \\<in> AA\n  extreme_bound A (\\<sqsubseteq>) B b\n  B \\<subseteq> D\n\ngoal (1 subgoal):\n 1. b \\<in> C", "by (auto elim!: AA_E)"], ["proof (state)\nthis:\n  b \\<in> C\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> D;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> D", "have bfc: \"\\<forall>a\\<in>B. a \\<sqsubseteq> f c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>B. a \\<sqsubseteq> f c", "using BD"], ["proof (prove)\nusing this:\n  B \\<subseteq> D\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>B. a \\<sqsubseteq> f c", "unfolding D_def"], ["proof (prove)\nusing this:\n  B \\<subseteq> {x \\<in> C. x \\<sqsubseteq> f c}\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>B. a \\<sqsubseteq> f c", "by auto"], ["proof (state)\nthis:\n  \\<forall>a\\<in>B. a \\<sqsubseteq> f c\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> D;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> D", "with f cA Bb"], ["proof (chain)\npicking this:\n  f ` A \\<subseteq> A\n  c \\<in> A\n  extreme_bound A (\\<sqsubseteq>) B b\n  \\<forall>a\\<in>B. a \\<sqsubseteq> f c", "have \"b \\<sqsubseteq> f c\""], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n  c \\<in> A\n  extreme_bound A (\\<sqsubseteq>) B b\n  \\<forall>a\\<in>B. a \\<sqsubseteq> f c\n\ngoal (1 subgoal):\n 1. b \\<sqsubseteq> f c", "by (auto simp: extreme_def image_subset_iff)"], ["proof (state)\nthis:\n  b \\<sqsubseteq> f c\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> D;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> D", "with bC"], ["proof (chain)\npicking this:\n  b \\<in> C\n  b \\<sqsubseteq> f c", "show \"b \\<in> D\""], ["proof (prove)\nusing this:\n  b \\<in> C\n  b \\<sqsubseteq> f c\n\ngoal (1 subgoal):\n 1. b \\<in> D", "unfolding D_def"], ["proof (prove)\nusing this:\n  b \\<in> C\n  b \\<sqsubseteq> f c\n\ngoal (1 subgoal):\n 1. b \\<in> {x \\<in> C. x \\<sqsubseteq> f c}", "by auto"], ["proof (state)\nthis:\n  b \\<in> D\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  D \\<in> AA\n\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>A.\n       y \\<sqsubseteq> c \\<longrightarrow>\n       f y \\<sqsubseteq> f c \\<Longrightarrow>\n    c \\<sqsubseteq> f c", "then"], ["proof (chain)\npicking this:\n  D \\<in> AA", "have \"C \\<subseteq> D\""], ["proof (prove)\nusing this:\n  D \\<in> AA\n\ngoal (1 subgoal):\n 1. C \\<subseteq> D", "unfolding C_def"], ["proof (prove)\nusing this:\n  D \\<in> AA\n\ngoal (1 subgoal):\n 1. \\<Inter> AA \\<subseteq> D", "by auto"], ["proof (state)\nthis:\n  C \\<subseteq> D\n\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>A.\n       y \\<sqsubseteq> c \\<longrightarrow>\n       f y \\<sqsubseteq> f c \\<Longrightarrow>\n    c \\<sqsubseteq> f c", "then"], ["proof (chain)\npicking this:\n  C \\<subseteq> D", "show \"c \\<sqsubseteq> f c\""], ["proof (prove)\nusing this:\n  C \\<subseteq> D\n\ngoal (1 subgoal):\n 1. c \\<sqsubseteq> f c", "using cC"], ["proof (prove)\nusing this:\n  C \\<subseteq> D\n  c \\<in> C\n\ngoal (1 subgoal):\n 1. c \\<sqsubseteq> f c", "unfolding D_def"], ["proof (prove)\nusing this:\n  C \\<subseteq> {x \\<in> C. x \\<sqsubseteq> f c}\n  c \\<in> C\n\ngoal (1 subgoal):\n 1. c \\<sqsubseteq> f c", "by auto"], ["proof (state)\nthis:\n  c \\<sqsubseteq> f c\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c \\<sqsubseteq> f c\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma extreme_qfp:\n  assumes attract: \"\\<forall>q \\<in> A. \\<forall>x \\<in> A. f q \\<sim> q \\<longrightarrow> x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q} (\\<sqsupseteq>) c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n     (\\<lambda>x y. y \\<sqsubseteq> x) c", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n     (\\<lambda>x y. y \\<sqsubseteq> x) c", "have fcc: \"f c \\<sim> c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f c \\<sim> c", "apply (rule qfp_as_extreme_bound)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A.\n       x \\<sqsubseteq> f x \\<or>\n       (\\<forall>y\\<in>A.\n           y \\<sqsubseteq> x \\<longrightarrow> f y \\<sqsubseteq> f x)", "using mono"], ["proof (prove)\nusing this:\n  monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A.\n       x \\<sqsubseteq> f x \\<or>\n       (\\<forall>y\\<in>A.\n           y \\<sqsubseteq> x \\<longrightarrow> f y \\<sqsubseteq> f x)", "by (auto elim!: monotone_onE)"], ["proof (state)\nthis:\n  f c \\<sim> c\n\ngoal (1 subgoal):\n 1. extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n     (\\<lambda>x y. y \\<sqsubseteq> x) c", "define L where [simp]: \"L \\<equiv> {a \\<in> A. \\<forall>s \\<in> A. (f s \\<sim> s \\<or> f s = s) \\<longrightarrow> a \\<sqsubseteq> s}\""], ["proof (state)\nthis:\n  L \\<equiv>\n  {a \\<in> A.\n   \\<forall>s\\<in>A.\n      f s \\<sim> s \\<or> f s = s \\<longrightarrow> a \\<sqsubseteq> s}\n\ngoal (1 subgoal):\n 1. extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n     (\\<lambda>x y. y \\<sqsubseteq> x) c", "have \"L \\<in> AA\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L \\<in> AA", "proof (unfold AA_def, intro CollectI conjI allI impI)"], ["proof (state)\ngoal (3 subgoals):\n 1. L \\<subseteq> A\n 2. f ` L \\<subseteq> L\n 3. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> L;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> L", "show XA: \"L \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L \\<subseteq> A", "by auto"], ["proof (state)\nthis:\n  L \\<subseteq> A\n\ngoal (2 subgoals):\n 1. f ` L \\<subseteq> L\n 2. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> L;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> L", "show \"f ` L \\<subseteq> L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f ` L \\<subseteq> L", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xa. xa \\<in> L \\<Longrightarrow> f xa \\<in> L", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xa. xa \\<in> L \\<Longrightarrow> f xa \\<in> L", "assume xL: \"x \\<in> L\""], ["proof (state)\nthis:\n  x \\<in> L\n\ngoal (1 subgoal):\n 1. \\<And>x xa. xa \\<in> L \\<Longrightarrow> f xa \\<in> L", "show \"f x \\<in> L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x \\<in> L", "proof (unfold L_def, safe)"], ["proof (state)\ngoal (3 subgoals):\n 1. f x \\<in> A\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s\n 3. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "have xA: \"x \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> A", "using xL"], ["proof (prove)\nusing this:\n  x \\<in> L\n\ngoal (1 subgoal):\n 1. x \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (3 subgoals):\n 1. f x \\<in> A\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s\n 3. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "then"], ["proof (chain)\npicking this:\n  x \\<in> A", "show fxA: \"f x \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. f x \\<in> A", "using f"], ["proof (prove)\nusing this:\n  x \\<in> A\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. f x \\<in> A", "by auto"], ["proof (state)\nthis:\n  f x \\<in> A\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "{"], ["proof (state)\nthis:\n  f x \\<in> A\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "fix s"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "assume sA: \"s \\<in> A\" and sf: \"f s \\<sim> s \\<or> f s = s\""], ["proof (state)\nthis:\n  s \\<in> A\n  f s \\<sim> s \\<or> f s = s\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "then"], ["proof (chain)\npicking this:\n  s \\<in> A\n  f s \\<sim> s \\<or> f s = s", "have \"x \\<sqsubseteq> s\""], ["proof (prove)\nusing this:\n  s \\<in> A\n  f s \\<sim> s \\<or> f s = s\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> s", "using xL sA sf"], ["proof (prove)\nusing this:\n  s \\<in> A\n  f s \\<sim> s \\<or> f s = s\n  x \\<in> L\n  s \\<in> A\n  f s \\<sim> s \\<or> f s = s\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> s", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubseteq> s\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "then"], ["proof (chain)\npicking this:\n  x \\<sqsubseteq> s", "have \"f x \\<sqsubseteq> f s\""], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> s\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f s", "using mono fxA sA xA"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> s\n  monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\n  f x \\<in> A\n  s \\<in> A\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f s", "by (auto elim!:monotone_onE)"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> f s\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2 \\<or> f ?s2 = ?s2\\<rbrakk>\n  \\<Longrightarrow> f x \\<sqsubseteq> f ?s2\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "note fxfs = this"], ["proof (state)\nthis:\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2 \\<or> f ?s2 = ?s2\\<rbrakk>\n  \\<Longrightarrow> f x \\<sqsubseteq> f ?s2\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2 \\<or> f ?s2 = ?s2\\<rbrakk>\n  \\<Longrightarrow> f x \\<sqsubseteq> f ?s2\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "fix s"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "assume sA: \"s \\<in> A\" and sf: \"f s \\<sim> s\""], ["proof (state)\nthis:\n  s \\<in> A\n  f s \\<sim> s\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "then"], ["proof (chain)\npicking this:\n  s \\<in> A\n  f s \\<sim> s", "show \"f x \\<sqsubseteq> s\""], ["proof (prove)\nusing this:\n  s \\<in> A\n  f s \\<sim> s\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> s", "using fxfs attract mono sf fxA sA xA"], ["proof (prove)\nusing this:\n  s \\<in> A\n  f s \\<sim> s\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2 \\<or> f ?s2 = ?s2\\<rbrakk>\n  \\<Longrightarrow> f x \\<sqsubseteq> f ?s2\n  \\<forall>q\\<in>A.\n     \\<forall>x\\<in>A.\n        f q \\<sim> q \\<longrightarrow>\n        x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\n  monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\n  f s \\<sim> s\n  f x \\<in> A\n  s \\<in> A\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> s", "by (auto elim!:monotone_onE)"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> s\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2\\<rbrakk>\n  \\<Longrightarrow> f x \\<sqsubseteq> ?s2\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2\\<rbrakk>\n  \\<Longrightarrow> f x \\<sqsubseteq> ?s2\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "fix s"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "assume sA: \"s \\<in> A\" and sf: \"f s = s\""], ["proof (state)\nthis:\n  s \\<in> A\n  f s = s\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> s", "with fxfs[OF sA]"], ["proof (chain)\npicking this:\n  f s \\<sim> s \\<or> f s = s \\<Longrightarrow> f x \\<sqsubseteq> f s\n  s \\<in> A\n  f s = s", "show \"f x \\<sqsubseteq> s\""], ["proof (prove)\nusing this:\n  f s \\<sim> s \\<or> f s = s \\<Longrightarrow> f x \\<sqsubseteq> f s\n  s \\<in> A\n  f s = s\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> s", "by simp"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> s\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?s2 \\<in> A; f ?s2 = ?s2\\<rbrakk>\n  \\<Longrightarrow> f x \\<sqsubseteq> ?s2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f x \\<in> L\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f ` L \\<subseteq> L\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> L;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> L", "fix B b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> L;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> L", "assume BL: \"B \\<subseteq> L\" and b: \"extreme_bound A (\\<sqsubseteq>) B b\""], ["proof (state)\nthis:\n  B \\<subseteq> L\n  extreme_bound A (\\<sqsubseteq>) B b\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> L;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> L", "then"], ["proof (chain)\npicking this:\n  B \\<subseteq> L\n  extreme_bound A (\\<sqsubseteq>) B b", "have BA: \"B \\<subseteq> A\""], ["proof (prove)\nusing this:\n  B \\<subseteq> L\n  extreme_bound A (\\<sqsubseteq>) B b\n\ngoal (1 subgoal):\n 1. B \\<subseteq> A", "by auto"], ["proof (state)\nthis:\n  B \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> L;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> L", "with BL b"], ["proof (chain)\npicking this:\n  B \\<subseteq> L\n  extreme_bound A (\\<sqsubseteq>) B b\n  B \\<subseteq> A", "have bA: \"b \\<in> A\""], ["proof (prove)\nusing this:\n  B \\<subseteq> L\n  extreme_bound A (\\<sqsubseteq>) B b\n  B \\<subseteq> A\n\ngoal (1 subgoal):\n 1. b \\<in> A", "by auto"], ["proof (state)\nthis:\n  b \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>Y s.\n       \\<lbrakk>Y \\<subseteq> L;\n        extreme_bound A (\\<sqsubseteq>) Y s\\<rbrakk>\n       \\<Longrightarrow> s \\<in> L", "show \"b \\<in> L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<in> L", "proof (unfold L_def, safe intro!: bA)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "fix s"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "assume sA: \"s \\<in> A\" and sf: \"f s \\<sim> s \\<or> f s = s\""], ["proof (state)\nthis:\n  s \\<in> A\n  f s \\<sim> s \\<or> f s = s\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "have \"bound B (\\<sqsubseteq>) s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bound B (\\<sqsubseteq>) s", "using sA BL b sf"], ["proof (prove)\nusing this:\n  s \\<in> A\n  B \\<subseteq> L\n  extreme_bound A (\\<sqsubseteq>) B b\n  f s \\<sim> s \\<or> f s = s\n\ngoal (1 subgoal):\n 1. bound B (\\<sqsubseteq>) s", "by auto"], ["proof (state)\nthis:\n  bound B (\\<sqsubseteq>) s\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2 \\<or> f ?s2 = ?s2\\<rbrakk>\n  \\<Longrightarrow> bound B (\\<sqsubseteq>) ?s2\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "note Bs = this"], ["proof (state)\nthis:\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2 \\<or> f ?s2 = ?s2\\<rbrakk>\n  \\<Longrightarrow> bound B (\\<sqsubseteq>) ?s2\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2 \\<or> f ?s2 = ?s2\\<rbrakk>\n  \\<Longrightarrow> bound B (\\<sqsubseteq>) ?s2\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "fix s"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "assume sA: \"s \\<in> A\" and sf: \"f s \\<sim> s\""], ["proof (state)\nthis:\n  s \\<in> A\n  f s \\<sim> s\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s\n 2. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "with b sA Bs"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) B b\n  s \\<in> A\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2 \\<or> f ?s2 = ?s2\\<rbrakk>\n  \\<Longrightarrow> bound B (\\<sqsubseteq>) ?s2\n  s \\<in> A\n  f s \\<sim> s", "show \"b \\<sqsubseteq> s\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) B b\n  s \\<in> A\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2 \\<or> f ?s2 = ?s2\\<rbrakk>\n  \\<Longrightarrow> bound B (\\<sqsubseteq>) ?s2\n  s \\<in> A\n  f s \\<sim> s\n\ngoal (1 subgoal):\n 1. b \\<sqsubseteq> s", "by auto"], ["proof (state)\nthis:\n  b \\<sqsubseteq> s\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2\\<rbrakk>\n  \\<Longrightarrow> b \\<sqsubseteq> ?s2\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2\\<rbrakk>\n  \\<Longrightarrow> b \\<sqsubseteq> ?s2\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "fix s"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "assume sA: \"s \\<in> A\" and sf: \"f s = s\""], ["proof (state)\nthis:\n  s \\<in> A\n  f s = s\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> A; f s = s\\<rbrakk>\n       \\<Longrightarrow> b \\<sqsubseteq> s", "with b sA Bs"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) B b\n  s \\<in> A\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2 \\<or> f ?s2 = ?s2\\<rbrakk>\n  \\<Longrightarrow> bound B (\\<sqsubseteq>) ?s2\n  s \\<in> A\n  f s = s", "show \"b \\<sqsubseteq> s\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) B b\n  s \\<in> A\n  \\<lbrakk>?s2 \\<in> A; f ?s2 \\<sim> ?s2 \\<or> f ?s2 = ?s2\\<rbrakk>\n  \\<Longrightarrow> bound B (\\<sqsubseteq>) ?s2\n  s \\<in> A\n  f s = s\n\ngoal (1 subgoal):\n 1. b \\<sqsubseteq> s", "by auto"], ["proof (state)\nthis:\n  b \\<sqsubseteq> s\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?s2 \\<in> A; f ?s2 = ?s2\\<rbrakk>\n  \\<Longrightarrow> b \\<sqsubseteq> ?s2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  b \\<in> L\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  L \\<in> AA\n\ngoal (1 subgoal):\n 1. extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n     (\\<lambda>x y. y \\<sqsubseteq> x) c", "then"], ["proof (chain)\npicking this:\n  L \\<in> AA", "have \"C \\<subseteq> L\""], ["proof (prove)\nusing this:\n  L \\<in> AA\n\ngoal (1 subgoal):\n 1. C \\<subseteq> L", "by (simp add: C_def Inf_lower)"], ["proof (state)\nthis:\n  C \\<subseteq> L\n\ngoal (1 subgoal):\n 1. extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n     (\\<lambda>x y. y \\<sqsubseteq> x) c", "with cC"], ["proof (chain)\npicking this:\n  c \\<in> C\n  C \\<subseteq> L", "have \"c \\<in> L\""], ["proof (prove)\nusing this:\n  c \\<in> C\n  C \\<subseteq> L\n\ngoal (1 subgoal):\n 1. c \\<in> L", "by auto"], ["proof (state)\nthis:\n  c \\<in> L\n\ngoal (1 subgoal):\n 1. extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n     (\\<lambda>x y. y \\<sqsubseteq> x) c", "with L_def fcc"], ["proof (chain)\npicking this:\n  L \\<equiv>\n  {a \\<in> A.\n   \\<forall>s\\<in>A.\n      f s \\<sim> s \\<or> f s = s \\<longrightarrow> a \\<sqsubseteq> s}\n  f c \\<sim> c\n  c \\<in> L", "show ?thesis"], ["proof (prove)\nusing this:\n  L \\<equiv>\n  {a \\<in> A.\n   \\<forall>s\\<in>A.\n      f s \\<sim> s \\<or> f s = s \\<longrightarrow> a \\<sqsubseteq> s}\n  f c \\<sim> c\n  c \\<in> L\n\ngoal (1 subgoal):\n 1. extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n     (\\<lambda>x y. y \\<sqsubseteq> x) c", "by auto"], ["proof (state)\nthis:\n  extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n   (\\<lambda>x y. y \\<sqsubseteq> x) c\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "lemma ex_qfp:\n  assumes comp: \"CC-complete A (\\<sqsubseteq>)\" and C: \"C \\<in> CC\"\n    and infl_mono: \"\\<forall>a \\<in> A. a \\<sqsubseteq> f a \\<or> (\\<forall>b \\<in> A. b \\<sqsubseteq> a \\<longrightarrow> f b \\<sqsubseteq> f a)\"\n  shows \"\\<exists>s \\<in> A. f s \\<sim> s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>A. f s \\<sim> s", "using qfp_as_extreme_bound[OF _  infl_mono] completeD[OF comp CA C]"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) C ?c \\<Longrightarrow> f ?c \\<sim> ?c\n  Ex (extreme_bound A (\\<sqsubseteq>) C)\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>A. f s \\<sim> s", "by auto"], ["", "lemma ex_extreme_qfp_fp:\n  assumes comp: \"CC-complete A (\\<sqsubseteq>)\" and C: \"C \\<in> CC\"\n    and attract: \"\\<forall>q \\<in> A. \\<forall>x \\<in> A. f q \\<sim> q \\<longrightarrow> x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"\\<exists>c. extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q} (\\<sqsupseteq>) c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c", "using extreme_qfp[OF _ attract mono] completeD[OF comp CA C]"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) C ?c \\<Longrightarrow>\n  extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n   (\\<lambda>x y. y \\<sqsubseteq> x) ?c\n  Ex (extreme_bound A (\\<sqsubseteq>) C)\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c", "by auto"], ["", "lemma ex_extreme_qfp:\n  assumes comp: \"CC-complete A (\\<sqsubseteq>)\" and C: \"C \\<in> CC\"\n    and attract: \"\\<forall>q \\<in> A. \\<forall>x \\<in> A. f q \\<sim> q \\<longrightarrow> x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"\\<exists>c. extreme {q \\<in> A. f q \\<sim> q} (\\<sqsupseteq>) c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {q \\<in> A. f q \\<sim> q} (\\<lambda>x y. y \\<sqsubseteq> x) c", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {q \\<in> A. f q \\<sim> q} (\\<lambda>x y. y \\<sqsubseteq> x) c", "from completeD[OF comp CA C]"], ["proof (chain)\npicking this:\n  Ex (extreme_bound A (\\<sqsubseteq>) C)", "obtain c where Cc: \"extreme_bound A (\\<sqsubseteq>) C c\""], ["proof (prove)\nusing this:\n  Ex (extreme_bound A (\\<sqsubseteq>) C)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        extreme_bound A (\\<sqsubseteq>) C c \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  extreme_bound A (\\<sqsubseteq>) C c\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {q \\<in> A. f q \\<sim> q} (\\<lambda>x y. y \\<sqsubseteq> x) c", "from extreme_qfp[OF Cc attract mono]"], ["proof (chain)\npicking this:\n  extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n   (\\<lambda>x y. y \\<sqsubseteq> x) c", "have Qc: \"bound {q \\<in> A. f q \\<sim> q} (\\<sqsupseteq>) c\""], ["proof (prove)\nusing this:\n  extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n   (\\<lambda>x y. y \\<sqsubseteq> x) c\n\ngoal (1 subgoal):\n 1. bound {q \\<in> A. f q \\<sim> q} (\\<lambda>x y. y \\<sqsubseteq> x) c", "by auto"], ["proof (state)\nthis:\n  bound {q \\<in> A. f q \\<sim> q} (\\<lambda>x y. y \\<sqsubseteq> x) c\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {q \\<in> A. f q \\<sim> q} (\\<lambda>x y. y \\<sqsubseteq> x) c", "have fcc: \"f c \\<sim> c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f c \\<sim> c", "apply (rule qfp_as_extreme_bound[OF Cc])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A.\n       x \\<sqsubseteq> f x \\<or>\n       (\\<forall>y\\<in>A.\n           y \\<sqsubseteq> x \\<longrightarrow> f y \\<sqsubseteq> f x)", "using mono"], ["proof (prove)\nusing this:\n  monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>A.\n       x \\<sqsubseteq> f x \\<or>\n       (\\<forall>y\\<in>A.\n           y \\<sqsubseteq> x \\<longrightarrow> f y \\<sqsubseteq> f x)", "by (auto simp: monotone_onD)"], ["proof (state)\nthis:\n  f c \\<sim> c\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {q \\<in> A. f q \\<sim> q} (\\<lambda>x y. y \\<sqsubseteq> x) c", "from Cc CA"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) C c\n  C \\<subseteq> A", "have cA: \"c \\<in> A\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) C c\n  C \\<subseteq> A\n\ngoal (1 subgoal):\n 1. c \\<in> A", "by auto"], ["proof (state)\nthis:\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {q \\<in> A. f q \\<sim> q} (\\<lambda>x y. y \\<sqsubseteq> x) c", "from Qc fcc cA"], ["proof (chain)\npicking this:\n  bound {q \\<in> A. f q \\<sim> q} (\\<lambda>x y. y \\<sqsubseteq> x) c\n  f c \\<sim> c\n  c \\<in> A", "show ?thesis"], ["proof (prove)\nusing this:\n  bound {q \\<in> A. f q \\<sim> q} (\\<lambda>x y. y \\<sqsubseteq> x) c\n  f c \\<sim> c\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {q \\<in> A. f q \\<sim> q} (\\<lambda>x y. y \\<sqsubseteq> x) c", "by (auto intro!: exI[of _ c])"], ["proof (state)\nthis:\n  \\<exists>c.\n     extreme {q \\<in> A. f q \\<sim> q} (\\<lambda>x y. y \\<sqsubseteq> x) c\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "context\n  fixes less_eq :: \"'a \\<Rightarrow> 'a \\<Rightarrow> bool\" (infix \"\\<sqsubseteq>\" 50) and A :: \"'a set\" and f\n  assumes f: \"f ` A \\<subseteq> A\"\nbegin"], ["", "interpretation less_eq_notations"], ["proof (prove)\ngoal:\nNo subgoals!", "."], ["", "interpretation fixed_point_proof A \"(\\<sqsubseteq>)\" f"], ["proof (prove)\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "using f"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "by unfold_locales"], ["", "theorem complete_infl_mono_imp_ex_qfp:\n  assumes comp: \"UNIV-complete A (\\<sqsubseteq>)\" and infl_mono: \"\\<forall>a\\<in>A. a \\<sqsubseteq> f a \\<or> (\\<forall>b\\<in>A. b \\<sqsubseteq> a \\<longrightarrow> f b \\<sqsubseteq> f a)\"\n  shows \"\\<exists>s\\<in>A. f s \\<sim> s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>A. f s \\<sim> s", "apply (rule ex_qfp[OF comp _ infl_mono])"], ["proof (prove)\ngoal (1 subgoal):\n 1. C \\<in> UNIV", "by auto"], ["", "end"], ["", "corollary (in antisymmetric) complete_infl_mono_imp_ex_fp:\n  assumes comp: \"UNIV-complete A (\\<sqsubseteq>)\" and f: \"f ` A \\<subseteq> A\"\n    and infl_mono: \"\\<forall>a\\<in>A. a \\<sqsubseteq> f a \\<or> (\\<forall>b\\<in>A. b \\<sqsubseteq> a \\<longrightarrow> f b \\<sqsubseteq> f a)\"\n  shows \"\\<exists>s \\<in> A. f s = s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>A. f s = s", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>A. f s = s", "interpret less_eq_notations"], ["proof (prove)\ngoal:\nNo subgoals!", "."], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>A. f s = s", "from complete_infl_mono_imp_ex_qfp[OF f comp infl_mono]"], ["proof (chain)\npicking this:\n  \\<exists>s\\<in>A. f s \\<sim> s", "obtain s where sA: \"s \\<in> A\" and fss: \"f s \\<sim> s\""], ["proof (prove)\nusing this:\n  \\<exists>s\\<in>A. f s \\<sim> s\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<in> A; f s \\<sim> s\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  s \\<in> A\n  f s \\<sim> s\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>A. f s = s", "from f sA"], ["proof (chain)\npicking this:\n  f ` A \\<subseteq> A\n  s \\<in> A", "have fsA: \"f s \\<in> A\""], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n  s \\<in> A\n\ngoal (1 subgoal):\n 1. f s \\<in> A", "by auto"], ["proof (state)\nthis:\n  f s \\<in> A\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>A. f s = s", "have \"f s = s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f s = s", "using antisym fsA sA fss"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<sqsubseteq> ?y; ?y \\<sqsubseteq> ?x; ?x \\<in> A;\n   ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?x = ?y\n  f s \\<in> A\n  s \\<in> A\n  f s \\<sim> s\n\ngoal (1 subgoal):\n 1. f s = s", "by auto"], ["proof (state)\nthis:\n  f s = s\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>A. f s = s", "with sA"], ["proof (chain)\npicking this:\n  s \\<in> A\n  f s = s", "show ?thesis"], ["proof (prove)\nusing this:\n  s \\<in> A\n  f s = s\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>A. f s = s", "by auto"], ["proof (state)\nthis:\n  \\<exists>s\\<in>A. f s = s\n\ngoal:\nNo subgoals!", "qed"], ["", "context semiattractive begin"], ["", "interpretation less_eq_notations"], ["proof (prove)\ngoal:\nNo subgoals!", "."], ["", "theorem complete_mono_imp_ex_extreme_qfp:\n  assumes comp: \"UNIV-complete A (\\<sqsubseteq>)\" and f: \"f ` A \\<subseteq> A\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"\\<exists>s. extreme {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>) s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>s. extreme {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>) s", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>s. extreme {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>) s", "interpret dual: fixed_point_proof A \"(\\<sqsupseteq>)\" rewrites \"dual.sym = (\\<sim>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fixed_point_proof A f &&&\n    sympartp (\\<lambda>x y. y \\<sqsubseteq> x) = (\\<sim>)", "using f"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. fixed_point_proof A f &&&\n    sympartp (\\<lambda>x y. y \\<sqsubseteq> x) = (\\<sim>)", "by unfold_locales (auto intro!:ext)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>s. extreme {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>) s", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>s. extreme {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>) s", "apply (rule dual.ex_extreme_qfp[OF complete_dual[OF comp] _ _ monotone_on_dual[OF mono]])"], ["proof (prove)\ngoal (2 subgoals):\n 1. dual.C \\<in> UNIV\n 2. \\<forall>p\\<in>A.\n       \\<forall>x\\<in>A.\n          f p \\<sim> p \\<longrightarrow>\n          f p \\<sqsubseteq> x \\<longrightarrow> p \\<sqsubseteq> x", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>p\\<in>A.\n       \\<forall>x\\<in>A.\n          f p \\<sim> p \\<longrightarrow>\n          f p \\<sqsubseteq> x \\<longrightarrow> p \\<sqsubseteq> x", "using f sym_order_trans"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n  \\<lbrakk>?x \\<sim> ?y; ?y \\<sqsubseteq> ?z; ?x \\<in> A; ?y \\<in> A;\n   ?z \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?x \\<sqsubseteq> ?z\n\ngoal (1 subgoal):\n 1. \\<forall>p\\<in>A.\n       \\<forall>x\\<in>A.\n          f p \\<sim> p \\<longrightarrow>\n          f p \\<sqsubseteq> x \\<longrightarrow> p \\<sqsubseteq> x", "by blast"], ["proof (state)\nthis:\n  \\<exists>s. extreme {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>) s\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "corollary (in antisymmetric) complete_mono_imp_ex_extreme_fp:\n  assumes comp: \"UNIV-complete A (\\<sqsubseteq>)\" and f: \"f ` A \\<subseteq> A\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"\\<exists>s. extreme {s \\<in> A. f s = s} (\\<sqsubseteq>)\\<^sup>- s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>s.\n       extreme {s \\<in> A. f s = s} (\\<lambda>x y. y \\<sqsubseteq> x) s", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>s.\n       extreme {s \\<in> A. f s = s} (\\<lambda>x y. y \\<sqsubseteq> x) s", "interpret less_eq_notations"], ["proof (prove)\ngoal:\nNo subgoals!", "."], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>s.\n       extreme {s \\<in> A. f s = s} (\\<lambda>x y. y \\<sqsubseteq> x) s", "interpret fixed_point_proof A \"(\\<sqsubseteq>)\" f"], ["proof (prove)\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "using f"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "by unfold_locales"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>s.\n       extreme {s \\<in> A. f s = s} (\\<lambda>x y. y \\<sqsubseteq> x) s", "have \"\\<exists>c. extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q} (\\<sqsupseteq>) c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c", "apply (rule ex_extreme_qfp_fp[OF comp _ _ mono])"], ["proof (prove)\ngoal (2 subgoals):\n 1. C \\<in> UNIV\n 2. \\<forall>q\\<in>A.\n       \\<forall>x\\<in>A.\n          f q \\<sim> q \\<longrightarrow>\n          x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q", "using antisym f"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<sqsubseteq> ?y; ?y \\<sqsubseteq> ?x; ?x \\<in> A;\n   ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?x = ?y\n  f ` A \\<subseteq> A\n\ngoal (2 subgoals):\n 1. C \\<in> UNIV\n 2. \\<forall>q\\<in>A.\n       \\<forall>x\\<in>A.\n          f q \\<sim> q \\<longrightarrow>\n          x \\<sqsubseteq> f q \\<longrightarrow> x \\<sqsubseteq> q", "by (auto dest: order_sym_trans)"], ["proof (state)\nthis:\n  \\<exists>c.\n     extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n      (\\<lambda>x y. y \\<sqsubseteq> x) c\n\ngoal (1 subgoal):\n 1. \\<exists>s.\n       extreme {s \\<in> A. f s = s} (\\<lambda>x y. y \\<sqsubseteq> x) s", "then"], ["proof (chain)\npicking this:\n  \\<exists>c.\n     extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n      (\\<lambda>x y. y \\<sqsubseteq> x) c", "obtain c where c: \"extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q} (\\<sqsupseteq>) c\""], ["proof (prove)\nusing this:\n  \\<exists>c.\n     extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n      (\\<lambda>x y. y \\<sqsubseteq> x) c\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n         (\\<lambda>x y. y \\<sqsubseteq> x) c \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n   (\\<lambda>x y. y \\<sqsubseteq> x) c\n\ngoal (1 subgoal):\n 1. \\<exists>s.\n       extreme {s \\<in> A. f s = s} (\\<lambda>x y. y \\<sqsubseteq> x) s", "then"], ["proof (chain)\npicking this:\n  extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n   (\\<lambda>x y. y \\<sqsubseteq> x) c", "have \"f c = c\""], ["proof (prove)\nusing this:\n  extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n   (\\<lambda>x y. y \\<sqsubseteq> x) c\n\ngoal (1 subgoal):\n 1. f c = c", "using antisym f"], ["proof (prove)\nusing this:\n  extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n   (\\<lambda>x y. y \\<sqsubseteq> x) c\n  \\<lbrakk>?x \\<sqsubseteq> ?y; ?y \\<sqsubseteq> ?x; ?x \\<in> A;\n   ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?x = ?y\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. f c = c", "by blast"], ["proof (state)\nthis:\n  f c = c\n\ngoal (1 subgoal):\n 1. \\<exists>s.\n       extreme {s \\<in> A. f s = s} (\\<lambda>x y. y \\<sqsubseteq> x) s", "with c"], ["proof (chain)\npicking this:\n  extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n   (\\<lambda>x y. y \\<sqsubseteq> x) c\n  f c = c", "have \"extreme {q \\<in> A. f q = q} (\\<sqsupseteq>) c\""], ["proof (prove)\nusing this:\n  extreme {q \\<in> A. f q \\<sim> q \\<or> f q = q}\n   (\\<lambda>x y. y \\<sqsubseteq> x) c\n  f c = c\n\ngoal (1 subgoal):\n 1. extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) c", "by auto"], ["proof (state)\nthis:\n  extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) c\n\ngoal (1 subgoal):\n 1. \\<exists>s.\n       extreme {s \\<in> A. f s = s} (\\<lambda>x y. y \\<sqsubseteq> x) s", "then"], ["proof (chain)\npicking this:\n  extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) c", "show ?thesis"], ["proof (prove)\nusing this:\n  extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) c\n\ngoal (1 subgoal):\n 1. \\<exists>s.\n       extreme {s \\<in> A. f s = s} (\\<lambda>x y. y \\<sqsubseteq> x) s", "by auto"], ["proof (state)\nthis:\n  \\<exists>s.\n     extreme {s \\<in> A. f s = s} (\\<lambda>x y. y \\<sqsubseteq> x) s\n\ngoal:\nNo subgoals!", "qed"], ["", "section \\<open>Fixed Points in Well-Complete Antisymmetric Sets\\<close>"], ["", "text \\<open>\\label{sec:well-complete}\\<close>"], ["", "text \\<open>In this section, we prove that an\ninflationary or monotone map over a well-complete antisymmetric set\nhas a fixed point.\n\nIn order to formalize such a theorem in Isabelle,\nwe followed Grall's~\\cite{grall10} elementary proof for Bourbaki--Witt and Markowsky's theorems.\nHis idea is to consider well-founded derivation trees over $A$,\nwhere from a set $C \\subseteq A$ of premises\none can derive $f\\:(\\bigsqcup C)$ if $C$ is a chain.\nThe main observation is as follows:\nLet $D$ be the set of all the derivable elements; that is,\nfor each $d \\in D$ there exists a well-founded derivation\nwhose root is $d$.\nIt is shown that $D$ is a chain,\nand hence one can build a derivation yielding $f\\:(\\bigsqcup D)$,\nand $f\\:(\\bigsqcup D)$ is shown to be a fixed point.\\<close>"], ["", "lemma bound_monotone_on:\n  assumes mono: \"monotone_on A r s f\" and XA: \"X \\<subseteq> A\" and aA: \"a \\<in> A\" and rXa: \"bound X r a\"\n  shows \"bound (f`X) s (f a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bound (f ` X) s (f a)", "proof (safe)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xa. xa \\<in> X \\<Longrightarrow> s (f xa) (f a)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x xa. xa \\<in> X \\<Longrightarrow> s (f xa) (f a)", "assume xX: \"x \\<in> X\""], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x xa. xa \\<in> X \\<Longrightarrow> s (f xa) (f a)", "from rXa xX"], ["proof (chain)\npicking this:\n  bound X r a\n  x \\<in> X", "have \"r x a\""], ["proof (prove)\nusing this:\n  bound X r a\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. r x a", "by auto"], ["proof (state)\nthis:\n  r x a\n\ngoal (1 subgoal):\n 1. \\<And>x xa. xa \\<in> X \\<Longrightarrow> s (f xa) (f a)", "with xX XA mono aA"], ["proof (chain)\npicking this:\n  x \\<in> X\n  X \\<subseteq> A\n  monotone_on A r s f\n  a \\<in> A\n  r x a", "show \"s (f x) (f a)\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  X \\<subseteq> A\n  monotone_on A r s f\n  a \\<in> A\n  r x a\n\ngoal (1 subgoal):\n 1. s (f x) (f a)", "by (auto elim!:monotone_onE)"], ["proof (state)\nthis:\n  s (f x) (f a)\n\ngoal:\nNo subgoals!", "qed"], ["", "context fixed_point_proof begin"], ["", "text \\<open>To avoid the usage of the axiom of choice, we carefully define derivations so that any derivable element\ndetermines its lower set. This led to the following definition:\\<close>"], ["", "definition \"derivation X \\<equiv> X \\<subseteq> A \\<and> well_ordered_set X (\\<sqsubseteq>) \\<and>\n  (\\<forall>x \\<in> X. let Y = {y \\<in> X. y \\<sqsubset> x} in\n    (\\<exists>y. extreme Y (\\<sqsubseteq>) y \\<and> x = f y) \\<or>\n    f ` Y \\<subseteq> Y \\<and> extreme_bound A (\\<sqsubseteq>) Y x)\""], ["", "lemma assumes \"derivation P\"\n  shows derivation_A: \"P \\<subseteq> A\" and derivation_well_ordered: \"well_ordered_set P (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<subseteq> A &&& well_ordered_set P (\\<sqsubseteq>)", "using assms"], ["proof (prove)\nusing this:\n  derivation P\n\ngoal (1 subgoal):\n 1. P \\<subseteq> A &&& well_ordered_set P (\\<sqsubseteq>)", "by (auto simp: derivation_def)"], ["", "lemma derivation_cases[consumes 2, case_names suc lim]:\n  assumes \"derivation X\" and \"x \\<in> X\"\n    and \"\\<And>Y y. Y = {y \\<in> X. y \\<sqsubset> x} \\<Longrightarrow> extreme Y (\\<sqsubseteq>) y \\<Longrightarrow> x = f y \\<Longrightarrow> thesis\"\n    and \"\\<And>Y. Y = {y \\<in> X. y \\<sqsubset> x} \\<Longrightarrow> f ` Y \\<subseteq> Y \\<Longrightarrow> extreme_bound A (\\<sqsubseteq>) Y x \\<Longrightarrow> thesis\"\n  shows thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "using assms"], ["proof (prove)\nusing this:\n  derivation X\n  x \\<in> X\n  \\<lbrakk>?Y = {y \\<in> X. y \\<sqsubset> x}; extreme ?Y (\\<sqsubseteq>) ?y;\n   x = f ?y\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<lbrakk>?Y = {y \\<in> X. y \\<sqsubset> x}; f ` ?Y \\<subseteq> ?Y;\n   extreme_bound A (\\<sqsubseteq>) ?Y x\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "unfolding derivation_def Let_def"], ["proof (prove)\nusing this:\n  X \\<subseteq> A \\<and>\n  well_ordered_set X (\\<sqsubseteq>) \\<and>\n  (\\<forall>x\\<in>X.\n      (\\<exists>y.\n          extreme {y \\<in> X. y \\<sqsubset> x} (\\<sqsubseteq>) y \\<and>\n          x = f y) \\<or>\n      f ` {y \\<in> X. y \\<sqsubset> x}\n      \\<subseteq> {y \\<in> X. y \\<sqsubset> x} \\<and>\n      extreme_bound A (\\<sqsubseteq>) {y \\<in> X. y \\<sqsubset> x} x)\n  x \\<in> X\n  \\<lbrakk>?Y = {y \\<in> X. y \\<sqsubset> x}; extreme ?Y (\\<sqsubseteq>) ?y;\n   x = f ?y\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<lbrakk>?Y = {y \\<in> X. y \\<sqsubset> x}; f ` ?Y \\<subseteq> ?Y;\n   extreme_bound A (\\<sqsubseteq>) ?Y x\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by auto"], ["", "definition \"derivable x \\<equiv> \\<exists>X. derivation X \\<and> x \\<in> X\""], ["", "lemma derivableI[intro?]: \"derivation X \\<Longrightarrow> x \\<in> X \\<Longrightarrow> derivable x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>derivation X; x \\<in> X\\<rbrakk> \\<Longrightarrow> derivable x", "by (auto simp: derivable_def)"], ["", "lemma derivableE: \"derivable x \\<Longrightarrow> (\\<And>P. derivation P \\<Longrightarrow> x \\<in> P \\<Longrightarrow> thesis) \\<Longrightarrow> thesis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>derivable x;\n     \\<And>P.\n        \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by (auto simp: derivable_def)"], ["", "lemma derivable_A: \"derivable x \\<Longrightarrow> x \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. derivable x \\<Longrightarrow> x \\<in> A", "by (auto elim: derivableE dest:derivation_A)"], ["", "lemma UN_derivations_eq_derivable: \"(\\<Union>{P. derivation P}) = {x. derivable x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (Collect derivation) = Collect derivable", "by (auto simp: derivable_def)"], ["", "context\n  assumes ord: \"antisymmetric A (\\<sqsubseteq>)\"\nbegin"], ["", "interpretation antisymmetric"], ["proof (prove)\ngoal (1 subgoal):\n 1. antisymmetric A (\\<sqsubseteq>)", "using ord"], ["proof (prove)\nusing this:\n  antisymmetric A (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. antisymmetric A (\\<sqsubseteq>)", "."], ["", "lemma derivation_lim:\n  assumes P: \"derivation P\" and fP: \"f ` P \\<subseteq> P\" and Pp: \"extreme_bound A (\\<sqsubseteq>) P p\"\n  shows \"derivation (P \\<union> {p})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. derivation (P \\<union> {p})", "proof (cases \"p \\<in> P\")"], ["proof (state)\ngoal (2 subgoals):\n 1. p \\<in> P \\<Longrightarrow> derivation (P \\<union> {p})\n 2. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "case True"], ["proof (state)\nthis:\n  p \\<in> P\n\ngoal (2 subgoals):\n 1. p \\<in> P \\<Longrightarrow> derivation (P \\<union> {p})\n 2. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "with P"], ["proof (chain)\npicking this:\n  derivation P\n  p \\<in> P", "show ?thesis"], ["proof (prove)\nusing this:\n  derivation P\n  p \\<in> P\n\ngoal (1 subgoal):\n 1. derivation (P \\<union> {p})", "by (auto simp: insert_absorb)"], ["proof (state)\nthis:\n  derivation (P \\<union> {p})\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "case pP: False"], ["proof (state)\nthis:\n  p \\<notin> P\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "interpret P: well_ordered_set P \"(\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set P (\\<sqsubseteq>)", "using derivation_well_ordered[OF P]"], ["proof (prove)\nusing this:\n  well_ordered_set P (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. well_ordered_set P (\\<sqsubseteq>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "have PA: \"P \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<subseteq> A", "using derivation_A[OF P]"], ["proof (prove)\nusing this:\n  P \\<subseteq> A\n\ngoal (1 subgoal):\n 1. P \\<subseteq> A", "."], ["proof (state)\nthis:\n  P \\<subseteq> A\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "from Pp"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) P p", "have pA: \"p \\<in> A\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) P p\n\ngoal (1 subgoal):\n 1. p \\<in> A", "by auto"], ["proof (state)\nthis:\n  p \\<in> A\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "have bp: \"bound P (\\<sqsubseteq>) p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bound P (\\<sqsubseteq>) p", "using Pp"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) P p\n\ngoal (1 subgoal):\n 1. bound P (\\<sqsubseteq>) p", "by auto"], ["proof (state)\nthis:\n  bound P (\\<sqsubseteq>) p\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "then"], ["proof (chain)\npicking this:\n  bound P (\\<sqsubseteq>) p", "have pp: \"p \\<sqsubseteq> p\""], ["proof (prove)\nusing this:\n  bound P (\\<sqsubseteq>) p\n\ngoal (1 subgoal):\n 1. p \\<sqsubseteq> p", "using Pp"], ["proof (prove)\nusing this:\n  bound P (\\<sqsubseteq>) p\n  extreme_bound A (\\<sqsubseteq>) P p\n\ngoal (1 subgoal):\n 1. p \\<sqsubseteq> p", "by auto"], ["proof (state)\nthis:\n  p \\<sqsubseteq> p\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "have 1: \"y \\<in> P \\<longrightarrow> {x. (x = p \\<or> x \\<in> P) \\<and> x \\<sqsubset> y} = {x \\<in> P. x \\<sqsubset> y}\" for y"], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> P \\<longrightarrow>\n    {x. (x = p \\<or> x \\<in> P) \\<and> x \\<sqsubset> y} =\n    {x \\<in> P. x \\<sqsubset> y}", "using Pp"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) P p\n\ngoal (1 subgoal):\n 1. y \\<in> P \\<longrightarrow>\n    {x. (x = p \\<or> x \\<in> P) \\<and> x \\<sqsubset> y} =\n    {x \\<in> P. x \\<sqsubset> y}", "by (auto dest:extreme_bound_bound)"], ["proof (state)\nthis:\n  ?y \\<in> P \\<longrightarrow>\n  {x. (x = p \\<or> x \\<in> P) \\<and> x \\<sqsubset> ?y} =\n  {x \\<in> P. x \\<sqsubset> ?y}\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "{"], ["proof (state)\nthis:\n  ?y \\<in> P \\<longrightarrow>\n  {x. (x = p \\<or> x \\<in> P) \\<and> x \\<sqsubset> ?y} =\n  {x \\<in> P. x \\<sqsubset> ?y}\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "assume xP: \"x \\<in> P\" and px: \"p \\<sqsubseteq> x\""], ["proof (state)\nthis:\n  x \\<in> P\n  p \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "from xP Pp"], ["proof (chain)\npicking this:\n  x \\<in> P\n  extreme_bound A (\\<sqsubseteq>) P p", "have \"x \\<sqsubseteq> p\""], ["proof (prove)\nusing this:\n  x \\<in> P\n  extreme_bound A (\\<sqsubseteq>) P p\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> p", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubseteq> p\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "with px"], ["proof (chain)\npicking this:\n  p \\<sqsubseteq> x\n  x \\<sqsubseteq> p", "have \"p = x\""], ["proof (prove)\nusing this:\n  p \\<sqsubseteq> x\n  x \\<sqsubseteq> p\n\ngoal (1 subgoal):\n 1. p = x", "using xP PA pA"], ["proof (prove)\nusing this:\n  p \\<sqsubseteq> x\n  x \\<sqsubseteq> p\n  x \\<in> P\n  P \\<subseteq> A\n  p \\<in> A\n\ngoal (1 subgoal):\n 1. p = x", "by (auto intro!: antisym)"], ["proof (state)\nthis:\n  p = x\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "with xP pP"], ["proof (chain)\npicking this:\n  x \\<in> P\n  p \\<notin> P\n  p = x", "have \"False\""], ["proof (prove)\nusing this:\n  x \\<in> P\n  p \\<notin> P\n  p = x\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> P; p \\<sqsubseteq> ?x2\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "note 2 = this"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> P; p \\<sqsubseteq> ?x2\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?x2 \\<in> P; p \\<sqsubseteq> ?x2\\<rbrakk> \\<Longrightarrow> False", "have 3: \"{x. (x = p \\<or> x \\<in> P) \\<and> x \\<sqsubset> p} = P\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?x2 \\<in> P; p \\<sqsubseteq> ?x2\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. {x. (x = p \\<or> x \\<in> P) \\<and> x \\<sqsubset> p} = P", "using Pp"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x2 \\<in> P; p \\<sqsubseteq> ?x2\\<rbrakk> \\<Longrightarrow> False\n  extreme_bound A (\\<sqsubseteq>) P p\n\ngoal (1 subgoal):\n 1. {x. (x = p \\<or> x \\<in> P) \\<and> x \\<sqsubset> p} = P", "by (auto intro!: asympartpI)"], ["proof (state)\nthis:\n  {x. (x = p \\<or> x \\<in> P) \\<and> x \\<sqsubset> p} = P\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "have wr: \"well_ordered_set (P \\<union> {p}) (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set (P \\<union> {p}) (\\<sqsubseteq>)", "apply (rule well_order_extend[OF P.well_ordered_set_axioms])"], ["proof (prove)\ngoal (3 subgoals):\n 1. well_ordered_set {p} (\\<sqsubseteq>)\n 2. \\<forall>a\\<in>P.\n       \\<forall>b\\<in>{p}.\n          a \\<sqsubseteq> b \\<longrightarrow>\n          b \\<sqsubseteq> a \\<longrightarrow> a = b\n 3. \\<forall>a\\<in>P. \\<forall>b\\<in>{p}. a \\<sqsubseteq> b", "using pp bp pP 2"], ["proof (prove)\nusing this:\n  p \\<sqsubseteq> p\n  bound P (\\<sqsubseteq>) p\n  p \\<notin> P\n  \\<lbrakk>?x2 \\<in> P; p \\<sqsubseteq> ?x2\\<rbrakk> \\<Longrightarrow> False\n\ngoal (3 subgoals):\n 1. well_ordered_set {p} (\\<sqsubseteq>)\n 2. \\<forall>a\\<in>P.\n       \\<forall>b\\<in>{p}.\n          a \\<sqsubseteq> b \\<longrightarrow>\n          b \\<sqsubseteq> a \\<longrightarrow> a = b\n 3. \\<forall>a\\<in>P. \\<forall>b\\<in>{p}. a \\<sqsubseteq> b", "by auto"], ["proof (state)\nthis:\n  well_ordered_set (P \\<union> {p}) (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {p})", "from P fP Pp"], ["proof (chain)\npicking this:\n  derivation P\n  f ` P \\<subseteq> P\n  extreme_bound A (\\<sqsubseteq>) P p", "show \"derivation (P \\<union> {p})\""], ["proof (prove)\nusing this:\n  derivation P\n  f ` P \\<subseteq> P\n  extreme_bound A (\\<sqsubseteq>) P p\n\ngoal (1 subgoal):\n 1. derivation (P \\<union> {p})", "by (auto simp: derivation_def pA wr[simplified] 1 3)"], ["proof (state)\nthis:\n  derivation (P \\<union> {p})\n\ngoal:\nNo subgoals!", "qed"], ["", "context\n  assumes derivation_infl: \"\\<forall>X x y. derivation X \\<longrightarrow> x \\<in> X \\<longrightarrow> y \\<in> X \\<longrightarrow> x \\<sqsubseteq> y \\<longrightarrow> x \\<sqsubseteq> f y\"\n    and derivation_f_refl: \"\\<forall>X x. derivation X \\<longrightarrow> x \\<in> X \\<longrightarrow> f x \\<sqsubseteq> f x\"\nbegin"], ["", "lemma derivation_suc:\n  assumes P: \"derivation P\" and Pp: \"extreme P (\\<sqsubseteq>) p\" shows \"derivation (P \\<union> {f p})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. derivation (P \\<union> {f p})", "proof (cases \"f p \\<in> P\")"], ["proof (state)\ngoal (2 subgoals):\n 1. f p \\<in> P \\<Longrightarrow> derivation (P \\<union> {f p})\n 2. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "case True"], ["proof (state)\nthis:\n  f p \\<in> P\n\ngoal (2 subgoals):\n 1. f p \\<in> P \\<Longrightarrow> derivation (P \\<union> {f p})\n 2. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "with P"], ["proof (chain)\npicking this:\n  derivation P\n  f p \\<in> P", "show ?thesis"], ["proof (prove)\nusing this:\n  derivation P\n  f p \\<in> P\n\ngoal (1 subgoal):\n 1. derivation (P \\<union> {f p})", "by (auto simp: insert_absorb)"], ["proof (state)\nthis:\n  derivation (P \\<union> {f p})\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "case fpP: False"], ["proof (state)\nthis:\n  f p \\<notin> P\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "interpret P: well_ordered_set P \"(\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set P (\\<sqsubseteq>)", "using derivation_well_ordered[OF P]"], ["proof (prove)\nusing this:\n  well_ordered_set P (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. well_ordered_set P (\\<sqsubseteq>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "have PA: \"P \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<subseteq> A", "using derivation_A[OF P]"], ["proof (prove)\nusing this:\n  P \\<subseteq> A\n\ngoal (1 subgoal):\n 1. P \\<subseteq> A", "."], ["proof (state)\nthis:\n  P \\<subseteq> A\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "with Pp"], ["proof (chain)\npicking this:\n  extreme P (\\<sqsubseteq>) p\n  P \\<subseteq> A", "have pP: \"p \\<in> P\" and pA: \"p \\<in> A\""], ["proof (prove)\nusing this:\n  extreme P (\\<sqsubseteq>) p\n  P \\<subseteq> A\n\ngoal (1 subgoal):\n 1. p \\<in> P &&& p \\<in> A", "by auto"], ["proof (state)\nthis:\n  p \\<in> P\n  p \\<in> A\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "with f"], ["proof (chain)\npicking this:\n  f ` A \\<subseteq> A\n  p \\<in> P\n  p \\<in> A", "have fpA: \"f p \\<in> A\""], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n  p \\<in> P\n  p \\<in> A\n\ngoal (1 subgoal):\n 1. f p \\<in> A", "by auto"], ["proof (state)\nthis:\n  f p \\<in> A\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "from pP"], ["proof (chain)\npicking this:\n  p \\<in> P", "have pp: \"p \\<sqsubseteq> p\""], ["proof (prove)\nusing this:\n  p \\<in> P\n\ngoal (1 subgoal):\n 1. p \\<sqsubseteq> p", "by auto"], ["proof (state)\nthis:\n  p \\<sqsubseteq> p\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "from derivation_infl[rule_format, OF P pP pP pp]"], ["proof (chain)\npicking this:\n  p \\<sqsubseteq> f p", "have \"p \\<sqsubseteq> f p\""], ["proof (prove)\nusing this:\n  p \\<sqsubseteq> f p\n\ngoal (1 subgoal):\n 1. p \\<sqsubseteq> f p", "."], ["proof (state)\nthis:\n  p \\<sqsubseteq> f p\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "{"], ["proof (state)\nthis:\n  p \\<sqsubseteq> f p\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "assume xP: \"x \\<in> P\""], ["proof (state)\nthis:\n  x \\<in> P\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "then"], ["proof (chain)\npicking this:\n  x \\<in> P", "have xA: \"x \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<in> P\n\ngoal (1 subgoal):\n 1. x \\<in> A", "using PA"], ["proof (prove)\nusing this:\n  x \\<in> P\n  P \\<subseteq> A\n\ngoal (1 subgoal):\n 1. x \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "have xp: \"x \\<sqsubseteq> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> p", "using xP Pp"], ["proof (prove)\nusing this:\n  x \\<in> P\n  extreme P (\\<sqsubseteq>) p\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> p", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubseteq> p\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "from derivation_infl[rule_format, OF P xP pP this]"], ["proof (chain)\npicking this:\n  x \\<sqsubseteq> f p", "have \"x \\<sqsubseteq> f p\""], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> f p\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> f p", "."], ["proof (state)\nthis:\n  x \\<sqsubseteq> f p\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "}"], ["proof (state)\nthis:\n  ?x2 \\<in> P \\<Longrightarrow> ?x2 \\<sqsubseteq> f p\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "note Pfp = this"], ["proof (state)\nthis:\n  ?x2 \\<in> P \\<Longrightarrow> ?x2 \\<sqsubseteq> f p\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "then"], ["proof (chain)\npicking this:\n  ?x2 \\<in> P \\<Longrightarrow> ?x2 \\<sqsubseteq> f p", "have bfp: \"bound P (\\<sqsubseteq>) (f p)\""], ["proof (prove)\nusing this:\n  ?x2 \\<in> P \\<Longrightarrow> ?x2 \\<sqsubseteq> f p\n\ngoal (1 subgoal):\n 1. bound P (\\<sqsubseteq>) (f p)", "by auto"], ["proof (state)\nthis:\n  bound P (\\<sqsubseteq>) (f p)\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "{"], ["proof (state)\nthis:\n  bound P (\\<sqsubseteq>) (f p)\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "assume yP: \"y \\<in> P\""], ["proof (state)\nthis:\n  y \\<in> P\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "note yfp = Pfp[OF yP]"], ["proof (state)\nthis:\n  y \\<sqsubseteq> f p\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "{"], ["proof (state)\nthis:\n  y \\<sqsubseteq> f p\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "assume fpy: \"f p \\<sqsubseteq> y\""], ["proof (state)\nthis:\n  f p \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "with yfp"], ["proof (chain)\npicking this:\n  y \\<sqsubseteq> f p\n  f p \\<sqsubseteq> y", "have \"f p = y\""], ["proof (prove)\nusing this:\n  y \\<sqsubseteq> f p\n  f p \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. f p = y", "using yP PA pA fpA antisym"], ["proof (prove)\nusing this:\n  y \\<sqsubseteq> f p\n  f p \\<sqsubseteq> y\n  y \\<in> P\n  P \\<subseteq> A\n  p \\<in> A\n  f p \\<in> A\n  \\<lbrakk>?x \\<sqsubseteq> ?y; ?y \\<sqsubseteq> ?x; ?x \\<in> A;\n   ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?x = ?y\n\ngoal (1 subgoal):\n 1. f p = y", "by auto"], ["proof (state)\nthis:\n  f p = y\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "with yP fpP"], ["proof (chain)\npicking this:\n  y \\<in> P\n  f p \\<notin> P\n  f p = y", "have \"False\""], ["proof (prove)\nusing this:\n  y \\<in> P\n  f p \\<notin> P\n  f p = y\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "}"], ["proof (state)\nthis:\n  f p \\<sqsubseteq> y \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "with Pfp yP"], ["proof (chain)\npicking this:\n  ?x2 \\<in> P \\<Longrightarrow> ?x2 \\<sqsubseteq> f p\n  y \\<in> P\n  f p \\<sqsubseteq> y \\<Longrightarrow> False", "have \"y \\<sqsubset> f p\""], ["proof (prove)\nusing this:\n  ?x2 \\<in> P \\<Longrightarrow> ?x2 \\<sqsubseteq> f p\n  y \\<in> P\n  f p \\<sqsubseteq> y \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> f p", "by auto"], ["proof (state)\nthis:\n  y \\<sqsubset> f p\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "}"], ["proof (state)\nthis:\n  ?y2 \\<in> P \\<Longrightarrow> ?y2 \\<sqsubset> f p\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "note Pfp = this"], ["proof (state)\nthis:\n  ?y2 \\<in> P \\<Longrightarrow> ?y2 \\<sqsubset> f p\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "have 1: \"\\<And>y. y \\<in> P \\<longrightarrow> {x. (x = f p \\<or> x \\<in> P) \\<and> x \\<sqsubset> y} = {x \\<in> P. x \\<sqsubset> y}\"\n   and 2: \"{x. (x = f p \\<or> x \\<in> P) \\<and> x \\<sqsubset> f p} = P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        y \\<in> P \\<longrightarrow>\n        {x. (x = f p \\<or> x \\<in> P) \\<and> x \\<sqsubset> y} =\n        {x \\<in> P. x \\<sqsubset> y}) &&&\n    {x. (x = f p \\<or> x \\<in> P) \\<and> x \\<sqsubset> f p} = P", "using Pfp"], ["proof (prove)\nusing this:\n  ?y2 \\<in> P \\<Longrightarrow> ?y2 \\<sqsubset> f p\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        y \\<in> P \\<longrightarrow>\n        {x. (x = f p \\<or> x \\<in> P) \\<and> x \\<sqsubset> y} =\n        {x \\<in> P. x \\<sqsubset> y}) &&&\n    {x. (x = f p \\<or> x \\<in> P) \\<and> x \\<sqsubset> f p} = P", "by auto"], ["proof (state)\nthis:\n  ?y \\<in> P \\<longrightarrow>\n  {x. (x = f p \\<or> x \\<in> P) \\<and> x \\<sqsubset> ?y} =\n  {x \\<in> P. x \\<sqsubset> ?y}\n  {x. (x = f p \\<or> x \\<in> P) \\<and> x \\<sqsubset> f p} = P\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "have wr: \"well_ordered_set (P \\<union> {f p}) (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set (P \\<union> {f p}) (\\<sqsubseteq>)", "apply (rule well_order_extend[OF P.well_ordered_set_axioms singleton_well_ordered])"], ["proof (prove)\ngoal (3 subgoals):\n 1. f p \\<sqsubseteq> f p\n 2. \\<forall>a\\<in>P.\n       \\<forall>b\\<in>{f p}.\n          a \\<sqsubseteq> b \\<longrightarrow>\n          b \\<sqsubseteq> a \\<longrightarrow> a = b\n 3. \\<forall>a\\<in>P. \\<forall>b\\<in>{f p}. a \\<sqsubseteq> b", "using Pfp derivation_f_refl[rule_format, OF P pP]"], ["proof (prove)\nusing this:\n  ?y2 \\<in> P \\<Longrightarrow> ?y2 \\<sqsubset> f p\n  f p \\<sqsubseteq> f p\n\ngoal (3 subgoals):\n 1. f p \\<sqsubseteq> f p\n 2. \\<forall>a\\<in>P.\n       \\<forall>b\\<in>{f p}.\n          a \\<sqsubseteq> b \\<longrightarrow>\n          b \\<sqsubseteq> a \\<longrightarrow> a = b\n 3. \\<forall>a\\<in>P. \\<forall>b\\<in>{f p}. a \\<sqsubseteq> b", "by auto"], ["proof (state)\nthis:\n  well_ordered_set (P \\<union> {f p}) (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. f p \\<notin> P \\<Longrightarrow> derivation (P \\<union> {f p})", "from P Pp"], ["proof (chain)\npicking this:\n  derivation P\n  extreme P (\\<sqsubseteq>) p", "show \"derivation (P \\<union> {f p})\""], ["proof (prove)\nusing this:\n  derivation P\n  extreme P (\\<sqsubseteq>) p\n\ngoal (1 subgoal):\n 1. derivation (P \\<union> {f p})", "by (auto simp: derivation_def wr[simplified] 1 2 fpA)"], ["proof (state)\nthis:\n  derivation (P \\<union> {f p})\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma derivable_closed:\n  assumes x: \"derivable x\" shows \"derivable (f x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. derivable (f x)", "proof (insert x, elim derivableE)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "fix P"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "assume P: \"derivation P\" and xP: \"x \\<in> P\""], ["proof (state)\nthis:\n  derivation P\n  x \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "note PA = derivation_A[OF P]"], ["proof (state)\nthis:\n  P \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "then"], ["proof (chain)\npicking this:\n  P \\<subseteq> A", "have xA: \"x \\<in> A\""], ["proof (prove)\nusing this:\n  P \\<subseteq> A\n\ngoal (1 subgoal):\n 1. x \\<in> A", "using xP"], ["proof (prove)\nusing this:\n  P \\<subseteq> A\n  x \\<in> P\n\ngoal (1 subgoal):\n 1. x \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "interpret P: well_ordered_set P \"(\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set P (\\<sqsubseteq>)", "using derivation_well_ordered[OF P]"], ["proof (prove)\nusing this:\n  well_ordered_set P (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. well_ordered_set P (\\<sqsubseteq>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "interpret P.asympartp: transitive P \"(\\<sqsubset>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transitive P (\\<sqsubset>)", "using P.asympartp_transitive"], ["proof (prove)\nusing this:\n  transitive P (\\<sqsubset>)\n\ngoal (1 subgoal):\n 1. transitive P (\\<sqsubset>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "define Px where \"Px \\<equiv> {y. y \\<in> P \\<and> y \\<sqsubset> x} \\<union> {x}\""], ["proof (state)\nthis:\n  Px \\<equiv> {y \\<in> P. y \\<sqsubset> x} \\<union> {x}\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "then"], ["proof (chain)\npicking this:\n  Px \\<equiv> {y \\<in> P. y \\<sqsubset> x} \\<union> {x}", "have PxP: \"Px \\<subseteq> P\""], ["proof (prove)\nusing this:\n  Px \\<equiv> {y \\<in> P. y \\<sqsubset> x} \\<union> {x}\n\ngoal (1 subgoal):\n 1. Px \\<subseteq> P", "using xP"], ["proof (prove)\nusing this:\n  Px \\<equiv> {y \\<in> P. y \\<sqsubset> x} \\<union> {x}\n  x \\<in> P\n\ngoal (1 subgoal):\n 1. Px \\<subseteq> P", "by auto"], ["proof (state)\nthis:\n  Px \\<subseteq> P\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "have \"x \\<sqsubseteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> x", "using xP"], ["proof (prove)\nusing this:\n  x \\<in> P\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> x", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "then"], ["proof (chain)\npicking this:\n  x \\<sqsubseteq> x", "have Pxx: \"extreme Px (\\<sqsubseteq>) x\""], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. extreme Px (\\<sqsubseteq>) x", "using xP PA"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> x\n  x \\<in> P\n  P \\<subseteq> A\n\ngoal (1 subgoal):\n 1. extreme Px (\\<sqsubseteq>) x", "by (auto simp: Px_def)"], ["proof (state)\nthis:\n  extreme Px (\\<sqsubseteq>) x\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "have wr: \"well_ordered_set Px (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set Px (\\<sqsubseteq>)", "using P.well_ordered_subset[OF PxP]"], ["proof (prove)\nusing this:\n  well_ordered_set Px (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. well_ordered_set Px (\\<sqsubseteq>)", "."], ["proof (state)\nthis:\n  well_ordered_set Px (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "{"], ["proof (state)\nthis:\n  well_ordered_set Px (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "fix z y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "assume zPx: \"z \\<in> Px\" and yP: \"y \\<in> P\" and yz: \"y \\<sqsubset> z\""], ["proof (state)\nthis:\n  z \\<in> Px\n  y \\<in> P\n  y \\<sqsubset> z\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "then"], ["proof (chain)\npicking this:\n  z \\<in> Px\n  y \\<in> P\n  y \\<sqsubset> z", "have zP: \"z \\<in> P\""], ["proof (prove)\nusing this:\n  z \\<in> Px\n  y \\<in> P\n  y \\<sqsubset> z\n\ngoal (1 subgoal):\n 1. z \\<in> P", "using PxP"], ["proof (prove)\nusing this:\n  z \\<in> Px\n  y \\<in> P\n  y \\<sqsubset> z\n  Px \\<subseteq> P\n\ngoal (1 subgoal):\n 1. z \\<in> P", "by auto"], ["proof (state)\nthis:\n  z \\<in> P\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "have \"y \\<sqsubset> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<sqsubset> x", "proof (cases \"z = x\")"], ["proof (state)\ngoal (2 subgoals):\n 1. z = x \\<Longrightarrow> y \\<sqsubset> x\n 2. z \\<noteq> x \\<Longrightarrow> y \\<sqsubset> x", "case True"], ["proof (state)\nthis:\n  z = x\n\ngoal (2 subgoals):\n 1. z = x \\<Longrightarrow> y \\<sqsubset> x\n 2. z \\<noteq> x \\<Longrightarrow> y \\<sqsubset> x", "then"], ["proof (chain)\npicking this:\n  z = x", "show ?thesis"], ["proof (prove)\nusing this:\n  z = x\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x", "using yz"], ["proof (prove)\nusing this:\n  z = x\n  y \\<sqsubset> z\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x", "by auto"], ["proof (state)\nthis:\n  y \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. z \\<noteq> x \\<Longrightarrow> y \\<sqsubset> x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. z \\<noteq> x \\<Longrightarrow> y \\<sqsubset> x", "case False"], ["proof (state)\nthis:\n  z \\<noteq> x\n\ngoal (1 subgoal):\n 1. z \\<noteq> x \\<Longrightarrow> y \\<sqsubset> x", "then"], ["proof (chain)\npicking this:\n  z \\<noteq> x", "have zx: \"z \\<sqsubset> x\""], ["proof (prove)\nusing this:\n  z \\<noteq> x\n\ngoal (1 subgoal):\n 1. z \\<sqsubset> x", "using zPx"], ["proof (prove)\nusing this:\n  z \\<noteq> x\n  z \\<in> Px\n\ngoal (1 subgoal):\n 1. z \\<sqsubset> x", "by (auto simp: Px_def)"], ["proof (state)\nthis:\n  z \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. z \\<noteq> x \\<Longrightarrow> y \\<sqsubset> x", "from P.asympartp.trans[OF yz zx yP zP xP]"], ["proof (chain)\npicking this:\n  y \\<sqsubset> x", "show ?thesis"], ["proof (prove)\nusing this:\n  y \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x", "."], ["proof (state)\nthis:\n  y \\<sqsubset> x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  y \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?z2 \\<in> Px; ?y2 \\<in> P; ?y2 \\<sqsubset> ?z2\\<rbrakk>\n  \\<Longrightarrow> ?y2 \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?z2 \\<in> Px; ?y2 \\<in> P; ?y2 \\<sqsubset> ?z2\\<rbrakk>\n  \\<Longrightarrow> ?y2 \\<sqsubset> x", "have 1: \"\\<And>z. z \\<in> Px \\<longrightarrow> {y \\<in> Px. y \\<sqsubset> z} = {y \\<in> P. y \\<sqsubset> z}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?z2 \\<in> Px; ?y2 \\<in> P; ?y2 \\<sqsubset> ?z2\\<rbrakk>\n  \\<Longrightarrow> ?y2 \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> Px \\<longrightarrow>\n       {y \\<in> Px. y \\<sqsubset> z} = {y \\<in> P. y \\<sqsubset> z}", "using Px_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?z2 \\<in> Px; ?y2 \\<in> P; ?y2 \\<sqsubset> ?z2\\<rbrakk>\n  \\<Longrightarrow> ?y2 \\<sqsubset> x\n  Px \\<equiv> {y \\<in> P. y \\<sqsubset> x} \\<union> {x}\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> Px \\<longrightarrow>\n       {y \\<in> Px. y \\<sqsubset> z} = {y \\<in> P. y \\<sqsubset> z}", "by blast"], ["proof (state)\nthis:\n  ?z \\<in> Px \\<longrightarrow>\n  {y \\<in> Px. y \\<sqsubset> ?z} = {y \\<in> P. y \\<sqsubset> ?z}\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "have Px: \"derivation Px\""], ["proof (prove)\ngoal (1 subgoal):\n 1. derivation Px", "using PxP PA P"], ["proof (prove)\nusing this:\n  Px \\<subseteq> P\n  P \\<subseteq> A\n  derivation P\n\ngoal (1 subgoal):\n 1. derivation Px", "by (auto simp: wr derivation_def 1)"], ["proof (state)\nthis:\n  derivation Px\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> derivable (f x)", "from derivation_suc[OF Px Pxx]"], ["proof (chain)\npicking this:\n  derivation (Px \\<union> {f x})", "show ?thesis"], ["proof (prove)\nusing this:\n  derivation (Px \\<union> {f x})\n\ngoal (1 subgoal):\n 1. derivable (f x)", "by (auto intro!: derivableI)"], ["proof (state)\nthis:\n  derivable (f x)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The following lemma is derived from Grall?s proof. We simplify the claim so that we\nconsider two elements from one derivation, instead of two derivations.\\<close>"], ["", "lemma derivation_useful:\n  assumes X: \"derivation X\" and xX: \"x \\<in> X\" and yX: \"y \\<in> X\" and xy: \"x \\<sqsubset> y\"\n  shows \"f x \\<sqsubseteq> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y", "interpret X: well_ordered_set X \"(\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set X (\\<sqsubseteq>)", "using derivation_well_ordered[OF X]"], ["proof (prove)\nusing this:\n  well_ordered_set X (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. well_ordered_set X (\\<sqsubseteq>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y", "note XA = derivation_A[OF X]"], ["proof (state)\nthis:\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y", "{"], ["proof (state)\nthis:\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y", "assume xX: \"x \\<in> X\" and yX: \"y \\<in> X\""], ["proof (state)\nthis:\n  x \\<in> X\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y", "from xX yX"], ["proof (chain)\npicking this:\n  x \\<in> X\n  y \\<in> X", "have \"(x \\<sqsubset> y \\<longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and> (y \\<sqsubset> x \\<longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X)\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. (x \\<sqsubset> y \\<longrightarrow>\n     f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n    (y \\<sqsubset> x \\<longrightarrow>\n     f y \\<sqsubseteq> x \\<and> f y \\<in> X)", "proof (induct x arbitrary: y)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y ya.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x; ya \\<in> X\\<rbrakk>\n           \\<Longrightarrow> (y \\<sqsubset> ya \\<longrightarrow>\n                              f y \\<sqsubseteq> ya \\<and>\n                              f y \\<in> X) \\<and>\n                             (ya \\<sqsubset> y \\<longrightarrow>\n                              f ya \\<sqsubseteq> y \\<and> f ya \\<in> X);\n        y \\<in> X\\<rbrakk>\n       \\<Longrightarrow> (x \\<sqsubset> y \\<longrightarrow>\n                          f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n                         (y \\<sqsubset> x \\<longrightarrow>\n                          f y \\<sqsubseteq> x \\<and> f y \\<in> X)", "case (less x)"], ["proof (state)\nthis:\n  x \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x; ?ya \\<in> X\\<rbrakk>\n  \\<Longrightarrow> (?y \\<sqsubset> ?ya \\<longrightarrow>\n                     f ?y \\<sqsubseteq> ?ya \\<and> f ?y \\<in> X) \\<and>\n                    (?ya \\<sqsubset> ?y \\<longrightarrow>\n                     f ?ya \\<sqsubseteq> ?y \\<and> f ?ya \\<in> X)\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y ya.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x; ya \\<in> X\\<rbrakk>\n           \\<Longrightarrow> (y \\<sqsubset> ya \\<longrightarrow>\n                              f y \\<sqsubseteq> ya \\<and>\n                              f y \\<in> X) \\<and>\n                             (ya \\<sqsubset> y \\<longrightarrow>\n                              f ya \\<sqsubseteq> y \\<and> f ya \\<in> X);\n        y \\<in> X\\<rbrakk>\n       \\<Longrightarrow> (x \\<sqsubset> y \\<longrightarrow>\n                          f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n                         (y \\<sqsubset> x \\<longrightarrow>\n                          f y \\<sqsubseteq> x \\<and> f y \\<in> X)", "note xX = \\<open>x \\<in> X\\<close> and IHx = this(2)"], ["proof (state)\nthis:\n  x \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x; ?ya \\<in> X\\<rbrakk>\n  \\<Longrightarrow> (?y \\<sqsubset> ?ya \\<longrightarrow>\n                     f ?y \\<sqsubseteq> ?ya \\<and> f ?y \\<in> X) \\<and>\n                    (?ya \\<sqsubset> ?y \\<longrightarrow>\n                     f ?ya \\<sqsubseteq> ?y \\<and> f ?ya \\<in> X)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y ya.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x; ya \\<in> X\\<rbrakk>\n           \\<Longrightarrow> (y \\<sqsubset> ya \\<longrightarrow>\n                              f y \\<sqsubseteq> ya \\<and>\n                              f y \\<in> X) \\<and>\n                             (ya \\<sqsubset> y \\<longrightarrow>\n                              f ya \\<sqsubseteq> y \\<and> f ya \\<in> X);\n        y \\<in> X\\<rbrakk>\n       \\<Longrightarrow> (x \\<sqsubset> y \\<longrightarrow>\n                          f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n                         (y \\<sqsubset> x \\<longrightarrow>\n                          f y \\<sqsubseteq> x \\<and> f y \\<in> X)", "with XA"], ["proof (chain)\npicking this:\n  X \\<subseteq> A\n  x \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x; ?ya \\<in> X\\<rbrakk>\n  \\<Longrightarrow> (?y \\<sqsubset> ?ya \\<longrightarrow>\n                     f ?y \\<sqsubseteq> ?ya \\<and> f ?y \\<in> X) \\<and>\n                    (?ya \\<sqsubset> ?y \\<longrightarrow>\n                     f ?ya \\<sqsubseteq> ?y \\<and> f ?ya \\<in> X)", "have xA: \"x \\<in> A\""], ["proof (prove)\nusing this:\n  X \\<subseteq> A\n  x \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x; ?ya \\<in> X\\<rbrakk>\n  \\<Longrightarrow> (?y \\<sqsubset> ?ya \\<longrightarrow>\n                     f ?y \\<sqsubseteq> ?ya \\<and> f ?y \\<in> X) \\<and>\n                    (?ya \\<sqsubset> ?y \\<longrightarrow>\n                     f ?ya \\<sqsubseteq> ?y \\<and> f ?ya \\<in> X)\n\ngoal (1 subgoal):\n 1. x \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y ya.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x; ya \\<in> X\\<rbrakk>\n           \\<Longrightarrow> (y \\<sqsubset> ya \\<longrightarrow>\n                              f y \\<sqsubseteq> ya \\<and>\n                              f y \\<in> X) \\<and>\n                             (ya \\<sqsubset> y \\<longrightarrow>\n                              f ya \\<sqsubseteq> y \\<and> f ya \\<in> X);\n        y \\<in> X\\<rbrakk>\n       \\<Longrightarrow> (x \\<sqsubset> y \\<longrightarrow>\n                          f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n                         (y \\<sqsubset> x \\<longrightarrow>\n                          f y \\<sqsubseteq> x \\<and> f y \\<in> X)", "from \\<open>y \\<in> X\\<close>"], ["proof (chain)\npicking this:\n  y \\<in> X", "show ?case"], ["proof (prove)\nusing this:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. (x \\<sqsubset> y \\<longrightarrow>\n     f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n    (y \\<sqsubset> x \\<longrightarrow>\n     f y \\<sqsubseteq> x \\<and> f y \\<in> X)", "proof (induct y)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n           \\<Longrightarrow> (x \\<sqsubset> y \\<longrightarrow>\n                              f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n                             (y \\<sqsubset> x \\<longrightarrow>\n                              f y \\<sqsubseteq> x \\<and>\n                              f y \\<in> X)\\<rbrakk>\n       \\<Longrightarrow> (x \\<sqsubset> x \\<longrightarrow>\n                          f x \\<sqsubseteq> x \\<and> f x \\<in> X) \\<and>\n                         (x \\<sqsubset> x \\<longrightarrow>\n                          f x \\<sqsubseteq> x \\<and> f x \\<in> X)", "case (less y)"], ["proof (state)\nthis:\n  y \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> y\\<rbrakk>\n  \\<Longrightarrow> (x \\<sqsubset> ?y \\<longrightarrow>\n                     f x \\<sqsubseteq> ?y \\<and> f x \\<in> X) \\<and>\n                    (?y \\<sqsubset> x \\<longrightarrow>\n                     f ?y \\<sqsubseteq> x \\<and> f ?y \\<in> X)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n           \\<Longrightarrow> (x \\<sqsubset> y \\<longrightarrow>\n                              f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n                             (y \\<sqsubset> x \\<longrightarrow>\n                              f y \\<sqsubseteq> x \\<and>\n                              f y \\<in> X)\\<rbrakk>\n       \\<Longrightarrow> (x \\<sqsubset> x \\<longrightarrow>\n                          f x \\<sqsubseteq> x \\<and> f x \\<in> X) \\<and>\n                         (x \\<sqsubset> x \\<longrightarrow>\n                          f x \\<sqsubseteq> x \\<and> f x \\<in> X)", "note yX = \\<open>y \\<in> X\\<close> and IHy = this(2)"], ["proof (state)\nthis:\n  y \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> y\\<rbrakk>\n  \\<Longrightarrow> (x \\<sqsubset> ?y \\<longrightarrow>\n                     f x \\<sqsubseteq> ?y \\<and> f x \\<in> X) \\<and>\n                    (?y \\<sqsubset> x \\<longrightarrow>\n                     f ?y \\<sqsubseteq> x \\<and> f ?y \\<in> X)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n           \\<Longrightarrow> (x \\<sqsubset> y \\<longrightarrow>\n                              f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n                             (y \\<sqsubset> x \\<longrightarrow>\n                              f y \\<sqsubseteq> x \\<and>\n                              f y \\<in> X)\\<rbrakk>\n       \\<Longrightarrow> (x \\<sqsubset> x \\<longrightarrow>\n                          f x \\<sqsubseteq> x \\<and> f x \\<in> X) \\<and>\n                         (x \\<sqsubset> x \\<longrightarrow>\n                          f x \\<sqsubseteq> x \\<and> f x \\<in> X)", "with XA"], ["proof (chain)\npicking this:\n  X \\<subseteq> A\n  y \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> y\\<rbrakk>\n  \\<Longrightarrow> (x \\<sqsubset> ?y \\<longrightarrow>\n                     f x \\<sqsubseteq> ?y \\<and> f x \\<in> X) \\<and>\n                    (?y \\<sqsubset> x \\<longrightarrow>\n                     f ?y \\<sqsubseteq> x \\<and> f ?y \\<in> X)", "have yA: \"y \\<in> A\""], ["proof (prove)\nusing this:\n  X \\<subseteq> A\n  y \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> y\\<rbrakk>\n  \\<Longrightarrow> (x \\<sqsubset> ?y \\<longrightarrow>\n                     f x \\<sqsubseteq> ?y \\<and> f x \\<in> X) \\<and>\n                    (?y \\<sqsubset> x \\<longrightarrow>\n                     f ?y \\<sqsubseteq> x \\<and> f ?y \\<in> X)\n\ngoal (1 subgoal):\n 1. y \\<in> A", "by auto"], ["proof (state)\nthis:\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n           \\<Longrightarrow> (x \\<sqsubset> y \\<longrightarrow>\n                              f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n                             (y \\<sqsubset> x \\<longrightarrow>\n                              f y \\<sqsubseteq> x \\<and>\n                              f y \\<in> X)\\<rbrakk>\n       \\<Longrightarrow> (x \\<sqsubset> x \\<longrightarrow>\n                          f x \\<sqsubseteq> x \\<and> f x \\<in> X) \\<and>\n                         (x \\<sqsubset> x \\<longrightarrow>\n                          f x \\<sqsubseteq> x \\<and> f x \\<in> X)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<sqsubset> y \\<longrightarrow>\n     f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n    (y \\<sqsubset> x \\<longrightarrow>\n     f y \\<sqsubseteq> x \\<and> f y \\<in> X)", "proof (rule conjI; intro impI)"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<sqsubset> y \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 2. y \\<sqsubset> x \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "assume xy: \"x \\<sqsubset> y\""], ["proof (state)\nthis:\n  x \\<sqsubset> y\n\ngoal (2 subgoals):\n 1. x \\<sqsubset> y \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 2. y \\<sqsubset> x \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "from X yX"], ["proof (chain)\npicking this:\n  derivation X\n  y \\<in> X", "show \"f x \\<sqsubseteq> y \\<and> f x \\<in> X\""], ["proof (prove)\nusing this:\n  derivation X\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y \\<and> f x \\<in> X", "proof (cases rule:derivation_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Y y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> y};\n        extreme Y (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 2. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> y}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y y\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "case (suc Z z)"], ["proof (state)\nthis:\n  Z = {y \\<in> X. y \\<sqsubset> y}\n  extreme Z (\\<sqsubseteq>) z\n  y = f z\n\ngoal (2 subgoals):\n 1. \\<And>Y y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> y};\n        extreme Y (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 2. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> y}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y y\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "with XA"], ["proof (chain)\npicking this:\n  X \\<subseteq> A\n  Z = {y \\<in> X. y \\<sqsubset> y}\n  extreme Z (\\<sqsubseteq>) z\n  y = f z", "have zX: \"z \\<in> X\" and zA: \"z \\<in> A\" and zy: \"z \\<sqsubset> y\" and yfz: \"y = f z\""], ["proof (prove)\nusing this:\n  X \\<subseteq> A\n  Z = {y \\<in> X. y \\<sqsubset> y}\n  extreme Z (\\<sqsubseteq>) z\n  y = f z\n\ngoal (1 subgoal):\n 1. (z \\<in> X &&& z \\<in> A) &&& z \\<sqsubset> y &&& y = f z", "by auto"], ["proof (state)\nthis:\n  z \\<in> X\n  z \\<in> A\n  z \\<sqsubset> y\n  y = f z\n\ngoal (2 subgoals):\n 1. \\<And>Y y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> y};\n        extreme Y (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 2. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> y}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y y\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "from xX zX"], ["proof (chain)\npicking this:\n  x \\<in> X\n  z \\<in> X", "show ?thesis"], ["proof (prove)\nusing this:\n  x \\<in> X\n  z \\<in> X\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y \\<and> f x \\<in> X", "proof (cases rule: X.comparable_three_cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. x \\<sqsubset> z \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 2. x \\<sim> z \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 3. z \\<sqsubset> x \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "case xz: less"], ["proof (state)\nthis:\n  x \\<sqsubset> z\n\ngoal (3 subgoals):\n 1. x \\<sqsubset> z \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 2. x \\<sim> z \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 3. z \\<sqsubset> x \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "with IHy[OF zX zy]"], ["proof (chain)\npicking this:\n  (x \\<sqsubset> z \\<longrightarrow>\n   f x \\<sqsubseteq> z \\<and> f x \\<in> X) \\<and>\n  (z \\<sqsubset> x \\<longrightarrow> f z \\<sqsubseteq> x \\<and> f z \\<in> X)\n  x \\<sqsubset> z", "have fxz: \"f x \\<sqsubseteq> z\" and fxX: \"f x \\<in> X\""], ["proof (prove)\nusing this:\n  (x \\<sqsubset> z \\<longrightarrow>\n   f x \\<sqsubseteq> z \\<and> f x \\<in> X) \\<and>\n  (z \\<sqsubset> x \\<longrightarrow> f z \\<sqsubseteq> x \\<and> f z \\<in> X)\n  x \\<sqsubset> z\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> z &&& f x \\<in> X", "by auto"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> z\n  f x \\<in> X\n\ngoal (3 subgoals):\n 1. x \\<sqsubset> z \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 2. x \\<sim> z \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 3. z \\<sqsubset> x \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "from derivation_infl[rule_format, OF X fxX zX fxz]"], ["proof (chain)\npicking this:\n  f x \\<sqsubseteq> f z", "have \"f x \\<sqsubseteq> y\""], ["proof (prove)\nusing this:\n  f x \\<sqsubseteq> f z\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y", "by (auto simp: yfz)"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> y\n\ngoal (3 subgoals):\n 1. x \\<sqsubset> z \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 2. x \\<sim> z \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 3. z \\<sqsubset> x \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "with fxX"], ["proof (chain)\npicking this:\n  f x \\<in> X\n  f x \\<sqsubseteq> y", "show ?thesis"], ["proof (prove)\nusing this:\n  f x \\<in> X\n  f x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y \\<and> f x \\<in> X", "by auto"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> y \\<and> f x \\<in> X\n\ngoal (2 subgoals):\n 1. x \\<sim> z \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 2. z \\<sqsubset> x \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<sim> z \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 2. z \\<sqsubset> x \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "case eq"], ["proof (state)\nthis:\n  x \\<sim> z\n\ngoal (2 subgoals):\n 1. x \\<sim> z \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 2. z \\<sqsubset> x \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "with xX zX"], ["proof (chain)\npicking this:\n  x \\<in> X\n  z \\<in> X\n  x \\<sim> z", "have \"x = z\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  z \\<in> X\n  x \\<sim> z\n\ngoal (1 subgoal):\n 1. x = z", "by auto"], ["proof (state)\nthis:\n  x = z\n\ngoal (2 subgoals):\n 1. x \\<sim> z \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X\n 2. z \\<sqsubset> x \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "with yX yfz"], ["proof (chain)\npicking this:\n  y \\<in> X\n  y = f z\n  x = z", "show ?thesis"], ["proof (prove)\nusing this:\n  y \\<in> X\n  y = f z\n  x = z\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y \\<and> f x \\<in> X", "by auto"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> y \\<and> f x \\<in> X\n\ngoal (1 subgoal):\n 1. z \\<sqsubset> x \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. z \\<sqsubset> x \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "case zx: greater"], ["proof (state)\nthis:\n  z \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. z \\<sqsubset> x \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "with IHy[OF zX zy] yfz xy"], ["proof (chain)\npicking this:\n  (x \\<sqsubset> z \\<longrightarrow>\n   f x \\<sqsubseteq> z \\<and> f x \\<in> X) \\<and>\n  (z \\<sqsubset> x \\<longrightarrow> f z \\<sqsubseteq> x \\<and> f z \\<in> X)\n  y = f z\n  x \\<sqsubset> y\n  z \\<sqsubset> x", "have False"], ["proof (prove)\nusing this:\n  (x \\<sqsubset> z \\<longrightarrow>\n   f x \\<sqsubseteq> z \\<and> f x \\<in> X) \\<and>\n  (z \\<sqsubset> x \\<longrightarrow> f z \\<sqsubseteq> x \\<and> f z \\<in> X)\n  y = f z\n  x \\<sqsubset> y\n  z \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. z \\<sqsubset> x \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "then"], ["proof (chain)\npicking this:\n  False", "show ?thesis"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y \\<and> f x \\<in> X", "by auto"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> y \\<and> f x \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> y \\<and> f x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> y}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y y\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> y}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y y\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "case (lim Z)"], ["proof (state)\nthis:\n  Z = {y \\<in> X. y \\<sqsubset> y}\n  f ` Z \\<subseteq> Z\n  extreme_bound A (\\<sqsubseteq>) Z y\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> y}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y y\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "note Z = \\<open>Z = {z \\<in> X. z \\<sqsubset> y}\\<close> and fZ = \\<open>f ` Z \\<subseteq> Z\\<close>"], ["proof (state)\nthis:\n  Z = {z \\<in> X. z \\<sqsubset> y}\n  f ` Z \\<subseteq> Z\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> y}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y y\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "from xX xy"], ["proof (chain)\npicking this:\n  x \\<in> X\n  x \\<sqsubset> y", "have \"x \\<in> Z\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  x \\<sqsubset> y\n\ngoal (1 subgoal):\n 1. x \\<in> Z", "by (auto simp: Z)"], ["proof (state)\nthis:\n  x \\<in> Z\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> y}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y y\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "with fZ"], ["proof (chain)\npicking this:\n  f ` Z \\<subseteq> Z\n  x \\<in> Z", "have \"f x \\<in> Z\""], ["proof (prove)\nusing this:\n  f ` Z \\<subseteq> Z\n  x \\<in> Z\n\ngoal (1 subgoal):\n 1. f x \\<in> Z", "by auto"], ["proof (state)\nthis:\n  f x \\<in> Z\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> y}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y y\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "then"], ["proof (chain)\npicking this:\n  f x \\<in> Z", "have \"f x \\<sqsubset> y\" and \"f x \\<in> X\""], ["proof (prove)\nusing this:\n  f x \\<in> Z\n\ngoal (1 subgoal):\n 1. f x \\<sqsubset> y &&& f x \\<in> X", "by (auto simp: Z)"], ["proof (state)\nthis:\n  f x \\<sqsubset> y\n  f x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> y}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y y\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> y \\<and> f x \\<in> X", "then"], ["proof (chain)\npicking this:\n  f x \\<sqsubset> y\n  f x \\<in> X", "show ?thesis"], ["proof (prove)\nusing this:\n  f x \\<sqsubset> y\n  f x \\<in> X\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y \\<and> f x \\<in> X", "by auto"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> y \\<and> f x \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> y \\<and> f x \\<in> X\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "assume yx: \"y \\<sqsubset> x\""], ["proof (state)\nthis:\n  y \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "from X xX"], ["proof (chain)\npicking this:\n  derivation X\n  x \\<in> X", "show \"f y \\<sqsubseteq> x \\<and> f y \\<in> X\""], ["proof (prove)\nusing this:\n  derivation X\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. f y \\<sqsubseteq> x \\<and> f y \\<in> X", "proof (cases rule:derivation_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Y y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x};\n        extreme Y (\\<sqsubseteq>) y; x = f y\\<rbrakk>\n       \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 2. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "case (suc Z z)"], ["proof (state)\nthis:\n  Z = {y \\<in> X. y \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z\n\ngoal (2 subgoals):\n 1. \\<And>Y y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x};\n        extreme Y (\\<sqsubseteq>) y; x = f y\\<rbrakk>\n       \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 2. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "with XA"], ["proof (chain)\npicking this:\n  X \\<subseteq> A\n  Z = {y \\<in> X. y \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z", "have zX: \"z \\<in> X\" and zA: \"z \\<in> A\" and zx: \"z \\<sqsubset> x\" and xfz: \"x = f z\""], ["proof (prove)\nusing this:\n  X \\<subseteq> A\n  Z = {y \\<in> X. y \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z\n\ngoal (1 subgoal):\n 1. (z \\<in> X &&& z \\<in> A) &&& z \\<sqsubset> x &&& x = f z", "by auto"], ["proof (state)\nthis:\n  z \\<in> X\n  z \\<in> A\n  z \\<sqsubset> x\n  x = f z\n\ngoal (2 subgoals):\n 1. \\<And>Y y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x};\n        extreme Y (\\<sqsubseteq>) y; x = f y\\<rbrakk>\n       \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 2. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "from yX zX"], ["proof (chain)\npicking this:\n  y \\<in> X\n  z \\<in> X", "show ?thesis"], ["proof (prove)\nusing this:\n  y \\<in> X\n  z \\<in> X\n\ngoal (1 subgoal):\n 1. f y \\<sqsubseteq> x \\<and> f y \\<in> X", "proof (cases rule: X.comparable_three_cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. y \\<sqsubset> z \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 2. y \\<sim> z \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 3. z \\<sqsubset> y \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "case yz: less"], ["proof (state)\nthis:\n  y \\<sqsubset> z\n\ngoal (3 subgoals):\n 1. y \\<sqsubset> z \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 2. y \\<sim> z \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 3. z \\<sqsubset> y \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "with IHx[OF zX zx yX]"], ["proof (chain)\npicking this:\n  (z \\<sqsubset> y \\<longrightarrow>\n   f z \\<sqsubseteq> y \\<and> f z \\<in> X) \\<and>\n  (y \\<sqsubset> z \\<longrightarrow> f y \\<sqsubseteq> z \\<and> f y \\<in> X)\n  y \\<sqsubset> z", "have fyz: \"f y \\<sqsubseteq> z\" and fyX: \"f y \\<in> X\""], ["proof (prove)\nusing this:\n  (z \\<sqsubset> y \\<longrightarrow>\n   f z \\<sqsubseteq> y \\<and> f z \\<in> X) \\<and>\n  (y \\<sqsubset> z \\<longrightarrow> f y \\<sqsubseteq> z \\<and> f y \\<in> X)\n  y \\<sqsubset> z\n\ngoal (1 subgoal):\n 1. f y \\<sqsubseteq> z &&& f y \\<in> X", "by auto"], ["proof (state)\nthis:\n  f y \\<sqsubseteq> z\n  f y \\<in> X\n\ngoal (3 subgoals):\n 1. y \\<sqsubset> z \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 2. y \\<sim> z \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 3. z \\<sqsubset> y \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "from derivation_infl[rule_format, OF X fyX zX fyz]"], ["proof (chain)\npicking this:\n  f y \\<sqsubseteq> f z", "have \"f y \\<sqsubseteq> x\""], ["proof (prove)\nusing this:\n  f y \\<sqsubseteq> f z\n\ngoal (1 subgoal):\n 1. f y \\<sqsubseteq> x", "by (auto simp: xfz)"], ["proof (state)\nthis:\n  f y \\<sqsubseteq> x\n\ngoal (3 subgoals):\n 1. y \\<sqsubset> z \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 2. y \\<sim> z \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 3. z \\<sqsubset> y \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "with fyX"], ["proof (chain)\npicking this:\n  f y \\<in> X\n  f y \\<sqsubseteq> x", "show ?thesis"], ["proof (prove)\nusing this:\n  f y \\<in> X\n  f y \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. f y \\<sqsubseteq> x \\<and> f y \\<in> X", "by auto"], ["proof (state)\nthis:\n  f y \\<sqsubseteq> x \\<and> f y \\<in> X\n\ngoal (2 subgoals):\n 1. y \\<sim> z \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 2. z \\<sqsubset> y \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. y \\<sim> z \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 2. z \\<sqsubset> y \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "case eq"], ["proof (state)\nthis:\n  y \\<sim> z\n\ngoal (2 subgoals):\n 1. y \\<sim> z \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 2. z \\<sqsubset> y \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "with yX zX"], ["proof (chain)\npicking this:\n  y \\<in> X\n  z \\<in> X\n  y \\<sim> z", "have \"y = z\""], ["proof (prove)\nusing this:\n  y \\<in> X\n  z \\<in> X\n  y \\<sim> z\n\ngoal (1 subgoal):\n 1. y = z", "by auto"], ["proof (state)\nthis:\n  y = z\n\ngoal (2 subgoals):\n 1. y \\<sim> z \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X\n 2. z \\<sqsubset> y \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "with xX xfz"], ["proof (chain)\npicking this:\n  x \\<in> X\n  x = f z\n  y = z", "show ?thesis"], ["proof (prove)\nusing this:\n  x \\<in> X\n  x = f z\n  y = z\n\ngoal (1 subgoal):\n 1. f y \\<sqsubseteq> x \\<and> f y \\<in> X", "by auto"], ["proof (state)\nthis:\n  f y \\<sqsubseteq> x \\<and> f y \\<in> X\n\ngoal (1 subgoal):\n 1. z \\<sqsubset> y \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. z \\<sqsubset> y \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "case greater"], ["proof (state)\nthis:\n  z \\<sqsubset> y\n\ngoal (1 subgoal):\n 1. z \\<sqsubset> y \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "with IHx[OF zX zx yX] xfz yx"], ["proof (chain)\npicking this:\n  (z \\<sqsubset> y \\<longrightarrow>\n   f z \\<sqsubseteq> y \\<and> f z \\<in> X) \\<and>\n  (y \\<sqsubset> z \\<longrightarrow> f y \\<sqsubseteq> z \\<and> f y \\<in> X)\n  x = f z\n  y \\<sqsubset> x\n  z \\<sqsubset> y", "have False"], ["proof (prove)\nusing this:\n  (z \\<sqsubset> y \\<longrightarrow>\n   f z \\<sqsubseteq> y \\<and> f z \\<in> X) \\<and>\n  (y \\<sqsubset> z \\<longrightarrow> f y \\<sqsubseteq> z \\<and> f y \\<in> X)\n  x = f z\n  y \\<sqsubset> x\n  z \\<sqsubset> y\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. z \\<sqsubset> y \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "then"], ["proof (chain)\npicking this:\n  False", "show ?thesis"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. f y \\<sqsubseteq> x \\<and> f y \\<in> X", "by auto"], ["proof (state)\nthis:\n  f y \\<sqsubseteq> x \\<and> f y \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f y \\<sqsubseteq> x \\<and> f y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "case (lim Z)"], ["proof (state)\nthis:\n  Z = {y \\<in> X. y \\<sqsubset> x}\n  f ` Z \\<subseteq> Z\n  extreme_bound A (\\<sqsubseteq>) Z x\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "note Z = \\<open>Z = {z \\<in> X. z \\<sqsubset> x}\\<close> and fZ = \\<open>f ` Z \\<subseteq> Z\\<close>"], ["proof (state)\nthis:\n  Z = {z \\<in> X. z \\<sqsubset> x}\n  f ` Z \\<subseteq> Z\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "from yX yx"], ["proof (chain)\npicking this:\n  y \\<in> X\n  y \\<sqsubset> x", "have \"y \\<in> Z\""], ["proof (prove)\nusing this:\n  y \\<in> X\n  y \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. y \\<in> Z", "by (auto simp: Z)"], ["proof (state)\nthis:\n  y \\<in> Z\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "with fZ"], ["proof (chain)\npicking this:\n  f ` Z \\<subseteq> Z\n  y \\<in> Z", "have \"f y \\<in> Z\""], ["proof (prove)\nusing this:\n  f ` Z \\<subseteq> Z\n  y \\<in> Z\n\ngoal (1 subgoal):\n 1. f y \\<in> Z", "by auto"], ["proof (state)\nthis:\n  f y \\<in> Z\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "then"], ["proof (chain)\npicking this:\n  f y \\<in> Z", "have \"f y \\<sqsubset> x\" and \"f y \\<in> X\""], ["proof (prove)\nusing this:\n  f y \\<in> Z\n\ngoal (1 subgoal):\n 1. f y \\<sqsubset> x &&& f y \\<in> X", "by (auto simp: Z)"], ["proof (state)\nthis:\n  f y \\<sqsubset> x\n  f y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X", "then"], ["proof (chain)\npicking this:\n  f y \\<sqsubset> x\n  f y \\<in> X", "show ?thesis"], ["proof (prove)\nusing this:\n  f y \\<sqsubset> x\n  f y \\<in> X\n\ngoal (1 subgoal):\n 1. f y \\<sqsubseteq> x \\<and> f y \\<in> X", "by auto"], ["proof (state)\nthis:\n  f y \\<sqsubseteq> x \\<and> f y \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f y \\<sqsubseteq> x \\<and> f y \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (x \\<sqsubset> y \\<longrightarrow>\n   f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n  (y \\<sqsubset> x \\<longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (x \\<sqsubset> y \\<longrightarrow>\n   f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n  (y \\<sqsubset> x \\<longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (x \\<sqsubset> y \\<longrightarrow>\n   f x \\<sqsubseteq> y \\<and> f x \\<in> X) \\<and>\n  (y \\<sqsubset> x \\<longrightarrow> f y \\<sqsubseteq> x \\<and> f y \\<in> X)\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?xa2 \\<in> X; ?ya2 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> (?xa2 \\<sqsubset> ?ya2 \\<longrightarrow>\n                     f ?xa2 \\<sqsubseteq> ?ya2 \\<and> f ?xa2 \\<in> X) \\<and>\n                    (?ya2 \\<sqsubset> ?xa2 \\<longrightarrow>\n                     f ?ya2 \\<sqsubseteq> ?xa2 \\<and> f ?ya2 \\<in> X)\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y", "with assms"], ["proof (chain)\npicking this:\n  derivation X\n  x \\<in> X\n  y \\<in> X\n  x \\<sqsubset> y\n  \\<lbrakk>?xa2 \\<in> X; ?ya2 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> (?xa2 \\<sqsubset> ?ya2 \\<longrightarrow>\n                     f ?xa2 \\<sqsubseteq> ?ya2 \\<and> f ?xa2 \\<in> X) \\<and>\n                    (?ya2 \\<sqsubset> ?xa2 \\<longrightarrow>\n                     f ?ya2 \\<sqsubseteq> ?xa2 \\<and> f ?ya2 \\<in> X)", "show \"f x \\<sqsubseteq> y\""], ["proof (prove)\nusing this:\n  derivation X\n  x \\<in> X\n  y \\<in> X\n  x \\<sqsubset> y\n  \\<lbrakk>?xa2 \\<in> X; ?ya2 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> (?xa2 \\<sqsubset> ?ya2 \\<longrightarrow>\n                     f ?xa2 \\<sqsubseteq> ?ya2 \\<and> f ?xa2 \\<in> X) \\<and>\n                    (?ya2 \\<sqsubset> ?xa2 \\<longrightarrow>\n                     f ?ya2 \\<sqsubseteq> ?xa2 \\<and> f ?ya2 \\<in> X)\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> y", "by auto"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> y\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Next one is the main lemma of this section, stating that elements from two possibly different \nderivations are comparable, and moreover the lower one is in the derivation of the upper one. \nThe latter claim, not found in Grall?s proof, is crucial in proving that the union of all \nderivations is well-related.\\<close>"], ["", "lemma derivations_cross_compare:\n  assumes X: \"derivation X\" and Y: \"derivation Y\" and xX: \"x \\<in> X\" and yY: \"y \\<in> Y\"\n  shows \"(x \\<sqsubset> y \\<and> x \\<in> Y) \\<or> x = y \\<or> (y \\<sqsubset> x \\<and> y \\<in> X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "fix X Y x y"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "assume X: \"derivation X\" and Y: \"derivation Y\" and xX: \"x \\<in> X\" and yY: \"y \\<in> Y\""], ["proof (state)\nthis:\n  derivation X\n  derivation Y\n  x \\<in> X\n  y \\<in> Y\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "interpret X: well_ordered_set X \"(\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set X (\\<sqsubseteq>)", "using derivation_well_ordered[OF X]"], ["proof (prove)\nusing this:\n  well_ordered_set X (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. well_ordered_set X (\\<sqsubseteq>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "interpret X.asympartp: transitive X \"(\\<sqsubset>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transitive X (\\<sqsubset>)", "using X.asympartp_transitive"], ["proof (prove)\nusing this:\n  transitive X (\\<sqsubset>)\n\ngoal (1 subgoal):\n 1. transitive X (\\<sqsubset>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "interpret Y: well_ordered_set Y \"(\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set Y (\\<sqsubseteq>)", "using derivation_well_ordered[OF Y]"], ["proof (prove)\nusing this:\n  well_ordered_set Y (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. well_ordered_set Y (\\<sqsubseteq>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have XA: \"X \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<subseteq> A", "using derivation_A[OF X]"], ["proof (prove)\nusing this:\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. X \\<subseteq> A", "."], ["proof (state)\nthis:\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "then"], ["proof (chain)\npicking this:\n  X \\<subseteq> A", "have xA: \"x \\<in> A\""], ["proof (prove)\nusing this:\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. x \\<in> A", "using xX"], ["proof (prove)\nusing this:\n  X \\<subseteq> A\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "with f"], ["proof (chain)\npicking this:\n  f ` A \\<subseteq> A\n  x \\<in> A", "have fxA: \"f x \\<in> A\""], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. f x \\<in> A", "by auto"], ["proof (state)\nthis:\n  f x \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have YA: \"Y \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Y \\<subseteq> A", "using derivation_A[OF Y]"], ["proof (prove)\nusing this:\n  Y \\<subseteq> A\n\ngoal (1 subgoal):\n 1. Y \\<subseteq> A", "."], ["proof (state)\nthis:\n  Y \\<subseteq> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "then"], ["proof (chain)\npicking this:\n  Y \\<subseteq> A", "have yA: \"y \\<in> A\""], ["proof (prove)\nusing this:\n  Y \\<subseteq> A\n\ngoal (1 subgoal):\n 1. y \\<in> A", "using yY"], ["proof (prove)\nusing this:\n  Y \\<subseteq> A\n  y \\<in> Y\n\ngoal (1 subgoal):\n 1. y \\<in> A", "by auto"], ["proof (state)\nthis:\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "with f"], ["proof (chain)\npicking this:\n  f ` A \\<subseteq> A\n  y \\<in> A", "have fyA: \"f y \\<in> A\""], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. f y \\<in> A", "by auto"], ["proof (state)\nthis:\n  f y \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "{"], ["proof (state)\nthis:\n  f y \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "fix Z"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "assume Z: \"Z = {z \\<in> X. z \\<sqsubset> x}\"\n        and fZ: \"f ` Z \\<subseteq> Z\"\n        and Zx: \"extreme_bound A (\\<sqsubseteq>) Z x\"\n        and IHx: \"\\<forall>z \\<in> X. z \\<sqsubset> x \\<longrightarrow> (z \\<sqsubset> y \\<and> z \\<in> Y) \\<or> z = y \\<or> (y \\<sqsubset> z \\<and> y \\<in> X)\""], ["proof (state)\nthis:\n  Z = {z \\<in> X. z \\<sqsubset> x}\n  f ` Z \\<subseteq> Z\n  extreme_bound A (\\<sqsubseteq>) Z x\n  \\<forall>z\\<in>X.\n     z \\<sqsubset> x \\<longrightarrow>\n     z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n     z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have \"(y \\<sqsubset> x \\<and> y \\<in> X) \\<or> x \\<sqsubseteq> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "proof (cases \"\\<exists>z \\<in> Z. y \\<sqsubset> z\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>z\\<in>Z. y \\<sqsubset> z \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n 2. \\<not> (\\<exists>z\\<in>Z. y \\<sqsubset> z) \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "case True"], ["proof (state)\nthis:\n  \\<exists>z\\<in>Z. y \\<sqsubset> z\n\ngoal (2 subgoals):\n 1. \\<exists>z\\<in>Z. y \\<sqsubset> z \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n 2. \\<not> (\\<exists>z\\<in>Z. y \\<sqsubset> z) \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "then"], ["proof (chain)\npicking this:\n  \\<exists>z\\<in>Z. y \\<sqsubset> z", "obtain z where zZ: \"z \\<in> Z\" and yz: \"y \\<sqsubset> z\""], ["proof (prove)\nusing this:\n  \\<exists>z\\<in>Z. y \\<sqsubset> z\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>z \\<in> Z; y \\<sqsubset> z\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  z \\<in> Z\n  y \\<sqsubset> z\n\ngoal (2 subgoals):\n 1. \\<exists>z\\<in>Z. y \\<sqsubset> z \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n 2. \\<not> (\\<exists>z\\<in>Z. y \\<sqsubset> z) \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "from zZ Z"], ["proof (chain)\npicking this:\n  z \\<in> Z\n  Z = {z \\<in> X. z \\<sqsubset> x}", "have zX: \"z \\<in> X\" and zx: \"z \\<sqsubset> x\""], ["proof (prove)\nusing this:\n  z \\<in> Z\n  Z = {z \\<in> X. z \\<sqsubset> x}\n\ngoal (1 subgoal):\n 1. z \\<in> X &&& z \\<sqsubset> x", "by auto"], ["proof (state)\nthis:\n  z \\<in> X\n  z \\<sqsubset> x\n\ngoal (2 subgoals):\n 1. \\<exists>z\\<in>Z. y \\<sqsubset> z \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n 2. \\<not> (\\<exists>z\\<in>Z. y \\<sqsubset> z) \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "from IHx[rule_format, OF zX zx] yz"], ["proof (chain)\npicking this:\n  z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n  z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X\n  y \\<sqsubset> z", "have yX: \"y \\<in> X\""], ["proof (prove)\nusing this:\n  z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n  z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X\n  y \\<sqsubset> z\n\ngoal (1 subgoal):\n 1. y \\<in> X", "by auto"], ["proof (state)\nthis:\n  y \\<in> X\n\ngoal (2 subgoals):\n 1. \\<exists>z\\<in>Z. y \\<sqsubset> z \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n 2. \\<not> (\\<exists>z\\<in>Z. y \\<sqsubset> z) \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "from X.asympartp.trans[OF yz zx yX zX xX]"], ["proof (chain)\npicking this:\n  y \\<sqsubset> x", "have \"y \\<sqsubset> x\""], ["proof (prove)\nusing this:\n  y \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x", "."], ["proof (state)\nthis:\n  y \\<sqsubset> x\n\ngoal (2 subgoals):\n 1. \\<exists>z\\<in>Z. y \\<sqsubset> z \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n 2. \\<not> (\\<exists>z\\<in>Z. y \\<sqsubset> z) \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "with yX"], ["proof (chain)\npicking this:\n  y \\<in> X\n  y \\<sqsubset> x", "show ?thesis"], ["proof (prove)\nusing this:\n  y \\<in> X\n  y \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "by auto"], ["proof (state)\nthis:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. \\<not> (\\<exists>z\\<in>Z. y \\<sqsubset> z) \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<exists>z\\<in>Z. y \\<sqsubset> z) \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "case False"], ["proof (state)\nthis:\n  \\<not> (\\<exists>z\\<in>Z. y \\<sqsubset> z)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<exists>z\\<in>Z. y \\<sqsubset> z) \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "have \"bound Z (\\<sqsubseteq>) y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bound Z (\\<sqsubseteq>) y", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Z \\<Longrightarrow> x \\<sqsubseteq> y", "fix z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Z \\<Longrightarrow> x \\<sqsubseteq> y", "assume \"z \\<in> Z\""], ["proof (state)\nthis:\n  z \\<in> Z\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Z \\<Longrightarrow> x \\<sqsubseteq> y", "then"], ["proof (chain)\npicking this:\n  z \\<in> Z", "have zX: \"z \\<in> X\" and zx: \"z \\<sqsubset> x\" and nyz: \"\\<not> y \\<sqsubset> z\""], ["proof (prove)\nusing this:\n  z \\<in> Z\n\ngoal (1 subgoal):\n 1. z \\<in> X &&& z \\<sqsubset> x &&& \\<not> y \\<sqsubset> z", "using Z False"], ["proof (prove)\nusing this:\n  z \\<in> Z\n  Z = {z \\<in> X. z \\<sqsubset> x}\n  \\<not> (\\<exists>z\\<in>Z. y \\<sqsubset> z)\n\ngoal (1 subgoal):\n 1. z \\<in> X &&& z \\<sqsubset> x &&& \\<not> y \\<sqsubset> z", "by auto"], ["proof (state)\nthis:\n  z \\<in> X\n  z \\<sqsubset> x\n  \\<not> y \\<sqsubset> z\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Z \\<Longrightarrow> x \\<sqsubseteq> y", "with IHx[rule_format, OF zX zx] X"], ["proof (chain)\npicking this:\n  z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n  z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X\n  derivation X\n  z \\<in> X\n  z \\<sqsubset> x\n  \\<not> y \\<sqsubset> z", "show \"z \\<sqsubseteq> y\""], ["proof (prove)\nusing this:\n  z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n  z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X\n  derivation X\n  z \\<in> X\n  z \\<sqsubset> x\n  \\<not> y \\<sqsubset> z\n\ngoal (1 subgoal):\n 1. z \\<sqsubseteq> y", "by auto"], ["proof (state)\nthis:\n  z \\<sqsubseteq> y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bound Z (\\<sqsubseteq>) y\n\ngoal (1 subgoal):\n 1. \\<not> (\\<exists>z\\<in>Z. y \\<sqsubset> z) \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "with yA Zx"], ["proof (chain)\npicking this:\n  y \\<in> A\n  extreme_bound A (\\<sqsubseteq>) Z x\n  bound Z (\\<sqsubseteq>) y", "have xy: \"x \\<sqsubseteq> y\""], ["proof (prove)\nusing this:\n  y \\<in> A\n  extreme_bound A (\\<sqsubseteq>) Z x\n  bound Z (\\<sqsubseteq>) y\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> y", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. \\<not> (\\<exists>z\\<in>Z. y \\<sqsubset> z) \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "then"], ["proof (chain)\npicking this:\n  x \\<sqsubseteq> y", "show ?thesis"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "by auto"], ["proof (state)\nthis:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?Z2 = {z \\<in> X. z \\<sqsubset> x}; f ` ?Z2 \\<subseteq> ?Z2;\n   extreme_bound A (\\<sqsubseteq>) ?Z2 x;\n   \\<forall>z\\<in>X.\n      z \\<sqsubset> x \\<longrightarrow>\n      z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n      z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X\\<rbrakk>\n  \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "note lim_any = this"], ["proof (state)\nthis:\n  \\<lbrakk>?Z2 = {z \\<in> X. z \\<sqsubset> x}; f ` ?Z2 \\<subseteq> ?Z2;\n   extreme_bound A (\\<sqsubseteq>) ?Z2 x;\n   \\<forall>z\\<in>X.\n      z \\<sqsubset> x \\<longrightarrow>\n      z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n      z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X\\<rbrakk>\n  \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?Z2 = {z \\<in> X. z \\<sqsubset> x}; f ` ?Z2 \\<subseteq> ?Z2;\n   extreme_bound A (\\<sqsubseteq>) ?Z2 x;\n   \\<forall>z\\<in>X.\n      z \\<sqsubset> x \\<longrightarrow>\n      z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n      z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X\\<rbrakk>\n  \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "fix z Z"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "assume Z: \"Z = {z \\<in> X. z \\<sqsubset> x}\"\n        and Zz: \"extreme Z (\\<sqsubseteq>) z\"\n        and xfz: \"x = f z\"\n        and IHx: \"(z \\<sqsubset> y \\<and> z \\<in> Y) \\<or> z = y \\<or> (y \\<sqsubset> z \\<and> y \\<in> X)\""], ["proof (state)\nthis:\n  Z = {z \\<in> X. z \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z\n  z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n  z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have zX: \"z \\<in> X\" and zx: \"z \\<sqsubset> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<in> X &&& z \\<sqsubset> x", "using Zz Z"], ["proof (prove)\nusing this:\n  extreme Z (\\<sqsubseteq>) z\n  Z = {z \\<in> X. z \\<sqsubset> x}\n\ngoal (1 subgoal):\n 1. z \\<in> X &&& z \\<sqsubset> x", "by (auto simp: extreme_def)"], ["proof (state)\nthis:\n  z \\<in> X\n  z \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "then"], ["proof (chain)\npicking this:\n  z \\<in> X\n  z \\<sqsubset> x", "have zA: \"z \\<in> A\""], ["proof (prove)\nusing this:\n  z \\<in> X\n  z \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. z \\<in> A", "using XA"], ["proof (prove)\nusing this:\n  z \\<in> X\n  z \\<sqsubset> x\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. z \\<in> A", "by auto"], ["proof (state)\nthis:\n  z \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "from IHx"], ["proof (chain)\npicking this:\n  z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n  z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X", "have \"(y \\<sqsubset> x \\<and> y \\<in> X) \\<or> x \\<sqsubseteq> y\""], ["proof (prove)\nusing this:\n  z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n  z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "proof (elim disjE conjE)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>z \\<sqsubset> y; z \\<in> Y\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y\n 2. z = y \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n 3. \\<lbrakk>y \\<sqsubset> z; y \\<in> X\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y", "assume zy: \"z \\<sqsubset> y\" and zY: \"z \\<in> Y\""], ["proof (state)\nthis:\n  z \\<sqsubset> y\n  z \\<in> Y\n\ngoal (3 subgoals):\n 1. \\<lbrakk>z \\<sqsubset> y; z \\<in> Y\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y\n 2. z = y \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n 3. \\<lbrakk>y \\<sqsubset> z; y \\<in> X\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y", "from derivation_useful[OF Y zY yY zy] xfz"], ["proof (chain)\npicking this:\n  f z \\<sqsubseteq> y\n  x = f z", "have xy: \"x \\<sqsubseteq> y\""], ["proof (prove)\nusing this:\n  f z \\<sqsubseteq> y\n  x = f z\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> y", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubseteq> y\n\ngoal (3 subgoals):\n 1. \\<lbrakk>z \\<sqsubset> y; z \\<in> Y\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y\n 2. z = y \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n 3. \\<lbrakk>y \\<sqsubset> z; y \\<in> X\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y", "then"], ["proof (chain)\npicking this:\n  x \\<sqsubseteq> y", "show ?thesis"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "by auto"], ["proof (state)\nthis:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal (2 subgoals):\n 1. z = y \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n 2. \\<lbrakk>y \\<sqsubset> z; y \\<in> X\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. z = y \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n 2. \\<lbrakk>y \\<sqsubset> z; y \\<in> X\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y", "assume zy: \"z = y\""], ["proof (state)\nthis:\n  z = y\n\ngoal (2 subgoals):\n 1. z = y \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n 2. \\<lbrakk>y \\<sqsubset> z; y \\<in> X\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y", "then"], ["proof (chain)\npicking this:\n  z = y", "have \"y \\<sqsubset> x\""], ["proof (prove)\nusing this:\n  z = y\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x", "using zx"], ["proof (prove)\nusing this:\n  z = y\n  z \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x", "by auto"], ["proof (state)\nthis:\n  y \\<sqsubset> x\n\ngoal (2 subgoals):\n 1. z = y \\<Longrightarrow>\n    y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n 2. \\<lbrakk>y \\<sqsubset> z; y \\<in> X\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y", "with zy zX"], ["proof (chain)\npicking this:\n  z = y\n  z \\<in> X\n  y \\<sqsubset> x", "show ?thesis"], ["proof (prove)\nusing this:\n  z = y\n  z \\<in> X\n  y \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "by auto"], ["proof (state)\nthis:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>y \\<sqsubset> z; y \\<in> X\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>y \\<sqsubset> z; y \\<in> X\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y", "assume yz: \"y \\<sqsubset> z\" and yX: \"y \\<in> X\""], ["proof (state)\nthis:\n  y \\<sqsubset> z\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<lbrakk>y \\<sqsubset> z; y \\<in> X\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y", "from X.asympartp.trans[OF yz zx yX zX xX]"], ["proof (chain)\npicking this:\n  y \\<sqsubset> x", "have \"y \\<sqsubset> x\""], ["proof (prove)\nusing this:\n  y \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x", "."], ["proof (state)\nthis:\n  y \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>y \\<sqsubset> z; y \\<in> X\\<rbrakk>\n    \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or>\n                      x \\<sqsubseteq> y", "with yX"], ["proof (chain)\npicking this:\n  y \\<in> X\n  y \\<sqsubset> x", "show ?thesis"], ["proof (prove)\nusing this:\n  y \\<in> X\n  y \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "by auto"], ["proof (state)\nthis:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?Z2 = {z \\<in> X. z \\<sqsubset> x};\n   extreme ?Z2 (\\<sqsubseteq>) ?z2; x = f ?z2;\n   ?z2 \\<sqsubset> y \\<and> ?z2 \\<in> Y \\<or>\n   ?z2 = y \\<or> y \\<sqsubset> ?z2 \\<and> y \\<in> X\\<rbrakk>\n  \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "note lim_any this"], ["proof (state)\nthis:\n  \\<lbrakk>?Z2 = {z \\<in> X. z \\<sqsubset> x}; f ` ?Z2 \\<subseteq> ?Z2;\n   extreme_bound A (\\<sqsubseteq>) ?Z2 x;\n   \\<forall>z\\<in>X.\n      z \\<sqsubset> x \\<longrightarrow>\n      z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n      z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X\\<rbrakk>\n  \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  \\<lbrakk>?Z2 = {z \\<in> X. z \\<sqsubset> x};\n   extreme ?Z2 (\\<sqsubseteq>) ?z2; x = f ?z2;\n   ?z2 \\<sqsubset> y \\<and> ?z2 \\<in> Y \\<or>\n   ?z2 = y \\<or> y \\<sqsubset> ?z2 \\<and> y \\<in> X\\<rbrakk>\n  \\<Longrightarrow> y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "}"], ["proof (state)\nthis:\n  \\<lbrakk>derivation ?Xa5; derivation ?Ya5; ?xa5 \\<in> ?Xa5;\n   ?ya5 \\<in> ?Ya5; ?Z2 = {z \\<in> ?Xa5. z \\<sqsubset> ?xa5};\n   f ` ?Z2 \\<subseteq> ?Z2; extreme_bound A (\\<sqsubseteq>) ?Z2 ?xa5;\n   \\<forall>z\\<in>?Xa5.\n      z \\<sqsubset> ?xa5 \\<longrightarrow>\n      z \\<sqsubset> ?ya5 \\<and> z \\<in> ?Ya5 \\<or>\n      z = ?ya5 \\<or> ?ya5 \\<sqsubset> z \\<and> ?ya5 \\<in> ?Xa5\\<rbrakk>\n  \\<Longrightarrow> ?ya5 \\<sqsubset> ?xa5 \\<and> ?ya5 \\<in> ?Xa5 \\<or>\n                    ?xa5 \\<sqsubseteq> ?ya5\n  \\<lbrakk>derivation ?Xa5; derivation ?Ya5; ?xa5 \\<in> ?Xa5;\n   ?ya5 \\<in> ?Ya5; ?Z2 = {z \\<in> ?Xa5. z \\<sqsubset> ?xa5};\n   extreme ?Z2 (\\<sqsubseteq>) ?z2; ?xa5 = f ?z2;\n   ?z2 \\<sqsubset> ?ya5 \\<and> ?z2 \\<in> ?Ya5 \\<or>\n   ?z2 = ?ya5 \\<or> ?ya5 \\<sqsubset> ?z2 \\<and> ?ya5 \\<in> ?Xa5\\<rbrakk>\n  \\<Longrightarrow> ?ya5 \\<sqsubset> ?xa5 \\<and> ?ya5 \\<in> ?Xa5 \\<or>\n                    ?xa5 \\<sqsubseteq> ?ya5\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "note lim_any = this(1) and suc_any = this(2)"], ["proof (state)\nthis:\n  \\<lbrakk>derivation ?Xa5; derivation ?Ya5; ?xa5 \\<in> ?Xa5;\n   ?ya5 \\<in> ?Ya5; ?Z2 = {z \\<in> ?Xa5. z \\<sqsubset> ?xa5};\n   f ` ?Z2 \\<subseteq> ?Z2; extreme_bound A (\\<sqsubseteq>) ?Z2 ?xa5;\n   \\<forall>z\\<in>?Xa5.\n      z \\<sqsubset> ?xa5 \\<longrightarrow>\n      z \\<sqsubset> ?ya5 \\<and> z \\<in> ?Ya5 \\<or>\n      z = ?ya5 \\<or> ?ya5 \\<sqsubset> z \\<and> ?ya5 \\<in> ?Xa5\\<rbrakk>\n  \\<Longrightarrow> ?ya5 \\<sqsubset> ?xa5 \\<and> ?ya5 \\<in> ?Xa5 \\<or>\n                    ?xa5 \\<sqsubseteq> ?ya5\n  \\<lbrakk>derivation ?Xa5; derivation ?Ya5; ?xa5 \\<in> ?Xa5;\n   ?ya5 \\<in> ?Ya5; ?Z2 = {z \\<in> ?Xa5. z \\<sqsubset> ?xa5};\n   extreme ?Z2 (\\<sqsubseteq>) ?z2; ?xa5 = f ?z2;\n   ?z2 \\<sqsubset> ?ya5 \\<and> ?z2 \\<in> ?Ya5 \\<or>\n   ?z2 = ?ya5 \\<or> ?ya5 \\<sqsubset> ?z2 \\<and> ?ya5 \\<in> ?Xa5\\<rbrakk>\n  \\<Longrightarrow> ?ya5 \\<sqsubset> ?xa5 \\<and> ?ya5 \\<in> ?Xa5 \\<or>\n                    ?xa5 \\<sqsubseteq> ?ya5\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "interpret X: well_ordered_set X \"(\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set X (\\<sqsubseteq>)", "using derivation_well_ordered[OF X]"], ["proof (prove)\nusing this:\n  well_ordered_set X (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. well_ordered_set X (\\<sqsubseteq>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "interpret Y: well_ordered_set Y \"(\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set Y (\\<sqsubseteq>)", "using derivation_well_ordered[OF Y]"], ["proof (prove)\nusing this:\n  well_ordered_set Y (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. well_ordered_set Y (\\<sqsubseteq>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have XA: \"X \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<subseteq> A", "using derivation_A[OF X]"], ["proof (prove)\nusing this:\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. X \\<subseteq> A", "."], ["proof (state)\nthis:\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have YA: \"Y \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Y \\<subseteq> A", "using derivation_A[OF Y]"], ["proof (prove)\nusing this:\n  Y \\<subseteq> A\n\ngoal (1 subgoal):\n 1. Y \\<subseteq> A", "."], ["proof (state)\nthis:\n  Y \\<subseteq> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "from xX yY"], ["proof (chain)\npicking this:\n  x \\<in> X\n  y \\<in> Y", "show ?thesis"], ["proof (prove)\nusing this:\n  x \\<in> X\n  y \\<in> Y\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "proof (induct x arbitrary: y)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y ya.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x; ya \\<in> Y\\<rbrakk>\n           \\<Longrightarrow> y \\<sqsubset> ya \\<and> y \\<in> Y \\<or>\n                             y = ya \\<or>\n                             ya \\<sqsubset> y \\<and> ya \\<in> X;\n        y \\<in> Y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "case (less x)"], ["proof (state)\nthis:\n  x \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x; ?ya \\<in> Y\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubset> ?ya \\<and> ?y \\<in> Y \\<or>\n                    ?y = ?ya \\<or> ?ya \\<sqsubset> ?y \\<and> ?ya \\<in> X\n  y \\<in> Y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y ya.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x; ya \\<in> Y\\<rbrakk>\n           \\<Longrightarrow> y \\<sqsubset> ya \\<and> y \\<in> Y \\<or>\n                             y = ya \\<or>\n                             ya \\<sqsubset> y \\<and> ya \\<in> X;\n        y \\<in> Y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "note xX = \\<open>x \\<in> X\\<close> and IHx = this(2)"], ["proof (state)\nthis:\n  x \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x; ?ya \\<in> Y\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubset> ?ya \\<and> ?y \\<in> Y \\<or>\n                    ?y = ?ya \\<or> ?ya \\<sqsubset> ?y \\<and> ?ya \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y ya.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x; ya \\<in> Y\\<rbrakk>\n           \\<Longrightarrow> y \\<sqsubset> ya \\<and> y \\<in> Y \\<or>\n                             y = ya \\<or>\n                             ya \\<sqsubset> y \\<and> ya \\<in> X;\n        y \\<in> Y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "from xX XA f"], ["proof (chain)\npicking this:\n  x \\<in> X\n  X \\<subseteq> A\n  f ` A \\<subseteq> A", "have xA: \"x \\<in> A\" and fxA: \"f x \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  X \\<subseteq> A\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. x \\<in> A &&& f x \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n  f x \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y ya.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x; ya \\<in> Y\\<rbrakk>\n           \\<Longrightarrow> y \\<sqsubset> ya \\<and> y \\<in> Y \\<or>\n                             y = ya \\<or>\n                             ya \\<sqsubset> y \\<and> ya \\<in> X;\n        y \\<in> Y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "from \\<open>y \\<in> Y\\<close>"], ["proof (chain)\npicking this:\n  y \\<in> Y", "show ?case"], ["proof (prove)\nusing this:\n  y \\<in> Y\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "proof (induct y)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> Y;\n        \\<And>y.\n           \\<lbrakk>y \\<in> Y; y \\<sqsubset> x\\<rbrakk>\n           \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                             x = y \\<or>\n                             y \\<sqsubset> x \\<and> y \\<in> X\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> x \\<and> x \\<in> Y \\<or>\n                         x = x \\<or> x \\<sqsubset> x \\<and> x \\<in> X", "case (less y)"], ["proof (state)\nthis:\n  y \\<in> Y\n  \\<lbrakk>?y \\<in> Y; ?y \\<sqsubset> y\\<rbrakk>\n  \\<Longrightarrow> x \\<sqsubset> ?y \\<and> x \\<in> Y \\<or>\n                    x = ?y \\<or> ?y \\<sqsubset> x \\<and> ?y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> Y;\n        \\<And>y.\n           \\<lbrakk>y \\<in> Y; y \\<sqsubset> x\\<rbrakk>\n           \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                             x = y \\<or>\n                             y \\<sqsubset> x \\<and> y \\<in> X\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> x \\<and> x \\<in> Y \\<or>\n                         x = x \\<or> x \\<sqsubset> x \\<and> x \\<in> X", "note yY = \\<open>y \\<in> Y\\<close> and IHy = less(2)"], ["proof (state)\nthis:\n  y \\<in> Y\n  \\<lbrakk>?y \\<in> Y; ?y \\<sqsubset> y\\<rbrakk>\n  \\<Longrightarrow> x \\<sqsubset> ?y \\<and> x \\<in> Y \\<or>\n                    x = ?y \\<or> ?y \\<sqsubset> x \\<and> ?y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> Y;\n        \\<And>y.\n           \\<lbrakk>y \\<in> Y; y \\<sqsubset> x\\<rbrakk>\n           \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                             x = y \\<or>\n                             y \\<sqsubset> x \\<and> y \\<in> X\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> x \\<and> x \\<in> Y \\<or>\n                         x = x \\<or> x \\<sqsubset> x \\<and> x \\<in> X", "from yY YA f"], ["proof (chain)\npicking this:\n  y \\<in> Y\n  Y \\<subseteq> A\n  f ` A \\<subseteq> A", "have yA: \"y \\<in> A\" and fyA: \"f y \\<in> A\""], ["proof (prove)\nusing this:\n  y \\<in> Y\n  Y \\<subseteq> A\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. y \\<in> A &&& f y \\<in> A", "by auto"], ["proof (state)\nthis:\n  y \\<in> A\n  f y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> Y;\n        \\<And>y.\n           \\<lbrakk>y \\<in> Y; y \\<sqsubset> x\\<rbrakk>\n           \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                             x = y \\<or>\n                             y \\<sqsubset> x \\<and> y \\<in> X\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> x \\<and> x \\<in> Y \\<or>\n                         x = x \\<or> x \\<sqsubset> x \\<and> x \\<in> X", "from X xX"], ["proof (chain)\npicking this:\n  derivation X\n  x \\<in> X", "show ?case"], ["proof (prove)\nusing this:\n  derivation X\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "proof (cases rule: derivation_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x};\n        extreme Ya (\\<sqsubseteq>) y; x = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "case (suc Z z)"], ["proof (state)\nthis:\n  Z = {y \\<in> X. y \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x};\n        extreme Ya (\\<sqsubseteq>) y; x = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "note Z = \\<open>Z = {z \\<in> X. z \\<sqsubset> x}\\<close> and Zz = \\<open>extreme Z (\\<sqsubseteq>) z\\<close> and xfz = \\<open>x = f z\\<close>"], ["proof (state)\nthis:\n  Z = {z \\<in> X. z \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x};\n        extreme Ya (\\<sqsubseteq>) y; x = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "then"], ["proof (chain)\npicking this:\n  Z = {z \\<in> X. z \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z", "have zx: \"z \\<sqsubset> x\" and zX: \"z \\<in> X\""], ["proof (prove)\nusing this:\n  Z = {z \\<in> X. z \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z\n\ngoal (1 subgoal):\n 1. z \\<sqsubset> x &&& z \\<in> X", "by auto"], ["proof (state)\nthis:\n  z \\<sqsubset> x\n  z \\<in> X\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x};\n        extreme Ya (\\<sqsubseteq>) y; x = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "note IHz = IHx[OF zX zx yY]"], ["proof (state)\nthis:\n  z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n  z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x};\n        extreme Ya (\\<sqsubseteq>) y; x = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have 1: \"y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "using suc_any[OF X Y xX yY Z Zz xfz IHz] IHy"], ["proof (prove)\nusing this:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  \\<lbrakk>?y \\<in> Y; ?y \\<sqsubset> y\\<rbrakk>\n  \\<Longrightarrow> x \\<sqsubset> ?y \\<and> x \\<in> Y \\<or>\n                    x = ?y \\<or> ?y \\<sqsubset> x \\<and> ?y \\<in> X\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "by auto"], ["proof (state)\nthis:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x};\n        extreme Ya (\\<sqsubseteq>) y; x = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "from Y yY"], ["proof (chain)\npicking this:\n  derivation Y\n  y \\<in> Y", "show ?thesis"], ["proof (prove)\nusing this:\n  derivation Y\n  y \\<in> Y\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "proof (cases rule: derivation_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y};\n        extreme Ya (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "case (suc W w)"], ["proof (state)\nthis:\n  W = {y \\<in> Y. y \\<sqsubset> y}\n  extreme W (\\<sqsubseteq>) w\n  y = f w\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y};\n        extreme Ya (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "note W = \\<open>W = {w \\<in> Y. w \\<sqsubset> y}\\<close> and Ww = \\<open>extreme W (\\<sqsubseteq>) w\\<close> and yfw = \\<open>y = f w\\<close>"], ["proof (state)\nthis:\n  W = {w \\<in> Y. w \\<sqsubset> y}\n  extreme W (\\<sqsubseteq>) w\n  y = f w\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y};\n        extreme Ya (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "then"], ["proof (chain)\npicking this:\n  W = {w \\<in> Y. w \\<sqsubset> y}\n  extreme W (\\<sqsubseteq>) w\n  y = f w", "have wY: \"w \\<in> Y\" and wy: \"w \\<sqsubset> y\""], ["proof (prove)\nusing this:\n  W = {w \\<in> Y. w \\<sqsubset> y}\n  extreme W (\\<sqsubseteq>) w\n  y = f w\n\ngoal (1 subgoal):\n 1. w \\<in> Y &&& w \\<sqsubset> y", "by auto"], ["proof (state)\nthis:\n  w \\<in> Y\n  w \\<sqsubset> y\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y};\n        extreme Ya (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have IHw: \"w \\<sqsubset> x \\<and> w \\<in> X \\<or> w = x  \\<or> x \\<sqsubset> w \\<and> x \\<in> Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<sqsubset> x \\<and> w \\<in> X \\<or>\n    w = x \\<or> x \\<sqsubset> w \\<and> x \\<in> Y", "using IHy[OF wY wy]"], ["proof (prove)\nusing this:\n  x \\<sqsubset> w \\<and> x \\<in> Y \\<or>\n  x = w \\<or> w \\<sqsubset> x \\<and> w \\<in> X\n\ngoal (1 subgoal):\n 1. w \\<sqsubset> x \\<and> w \\<in> X \\<or>\n    w = x \\<or> x \\<sqsubset> w \\<and> x \\<in> Y", "by auto"], ["proof (state)\nthis:\n  w \\<sqsubset> x \\<and> w \\<in> X \\<or>\n  w = x \\<or> x \\<sqsubset> w \\<and> x \\<in> Y\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y};\n        extreme Ya (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have \"x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x", "using suc_any[OF Y X yY xX W Ww yfw IHw]"], ["proof (prove)\nusing this:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y};\n        extreme Ya (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "with 1"], ["proof (chain)\npicking this:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x", "show ?thesis"], ["proof (prove)\nusing this:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "using antisym xA yA"], ["proof (prove)\nusing this:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n  \\<lbrakk>?x \\<sqsubseteq> ?y; ?y \\<sqsubseteq> ?x; ?x \\<in> A;\n   ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?x = ?y\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n  x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "case (lim W)"], ["proof (state)\nthis:\n  W = {y \\<in> Y. y \\<sqsubset> y}\n  f ` W \\<subseteq> W\n  extreme_bound A (\\<sqsubseteq>) W y\n\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "note W = \\<open>W = {w \\<in> Y. w \\<sqsubset> y}\\<close> and fW = \\<open>f ` W \\<subseteq> W\\<close> and Wy = \\<open>extreme_bound A (\\<sqsubseteq>) W y\\<close>"], ["proof (state)\nthis:\n  W = {w \\<in> Y. w \\<sqsubset> y}\n  f ` W \\<subseteq> W\n  extreme_bound A (\\<sqsubseteq>) W y\n\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have \"x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x", "using lim_any[OF Y X yY xX W fW Wy] IHy"], ["proof (prove)\nusing this:\n  \\<forall>z\\<in>Y.\n     z \\<sqsubset> y \\<longrightarrow>\n     z \\<sqsubset> x \\<and> z \\<in> X \\<or>\n     z = x \\<or> x \\<sqsubset> z \\<and> x \\<in> Y \\<Longrightarrow>\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n  \\<lbrakk>?y \\<in> Y; ?y \\<sqsubset> y\\<rbrakk>\n  \\<Longrightarrow> x \\<sqsubset> ?y \\<and> x \\<in> Y \\<or>\n                    x = ?y \\<or> ?y \\<sqsubset> x \\<and> ?y \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "with 1"], ["proof (chain)\npicking this:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x", "show ?thesis"], ["proof (prove)\nusing this:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "using antisym xA yA"], ["proof (prove)\nusing this:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n  \\<lbrakk>?x \\<sqsubseteq> ?y; ?y \\<sqsubseteq> ?x; ?x \\<in> A;\n   ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?x = ?y\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n  x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n  x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "case (lim Z)"], ["proof (state)\nthis:\n  Z = {y \\<in> X. y \\<sqsubset> x}\n  f ` Z \\<subseteq> Z\n  extreme_bound A (\\<sqsubseteq>) Z x\n\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "note Z = \\<open>Z = {z \\<in> X. z \\<sqsubset> x}\\<close> and fZ = \\<open>f ` Z \\<subseteq> Z\\<close> and Zx = \\<open>extreme_bound A (\\<sqsubseteq>) Z x\\<close>"], ["proof (state)\nthis:\n  Z = {z \\<in> X. z \\<sqsubset> x}\n  f ` Z \\<subseteq> Z\n  extreme_bound A (\\<sqsubseteq>) Z x\n\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have 1: \"y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "using lim_any[OF X Y xX yY Z fZ Zx] IHx[OF _ _ yY]"], ["proof (prove)\nusing this:\n  \\<forall>z\\<in>X.\n     z \\<sqsubset> x \\<longrightarrow>\n     z \\<sqsubset> y \\<and> z \\<in> Y \\<or>\n     z = y \\<or> y \\<sqsubset> z \\<and> y \\<in> X \\<Longrightarrow>\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubset> y \\<and> ?y \\<in> Y \\<or>\n                    ?y = y \\<or> y \\<sqsubset> ?y \\<and> y \\<in> X\n\ngoal (1 subgoal):\n 1. y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y", "by auto"], ["proof (state)\nthis:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> X. y \\<sqsubset> x}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "from Y yY"], ["proof (chain)\npicking this:\n  derivation Y\n  y \\<in> Y", "show ?thesis"], ["proof (prove)\nusing this:\n  derivation Y\n  y \\<in> Y\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "proof (cases rule: derivation_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y};\n        extreme Ya (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "case (suc W w)"], ["proof (state)\nthis:\n  W = {y \\<in> Y. y \\<sqsubset> y}\n  extreme W (\\<sqsubseteq>) w\n  y = f w\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y};\n        extreme Ya (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "note W = \\<open>W = {w \\<in> Y. w \\<sqsubset> y}\\<close> and Ww = \\<open>extreme W (\\<sqsubseteq>) w\\<close> and yfw = \\<open>y = f w\\<close>"], ["proof (state)\nthis:\n  W = {w \\<in> Y. w \\<sqsubset> y}\n  extreme W (\\<sqsubseteq>) w\n  y = f w\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y};\n        extreme Ya (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "then"], ["proof (chain)\npicking this:\n  W = {w \\<in> Y. w \\<sqsubset> y}\n  extreme W (\\<sqsubseteq>) w\n  y = f w", "have wY: \"w \\<in> Y\" and wy: \"w \\<sqsubset> y\""], ["proof (prove)\nusing this:\n  W = {w \\<in> Y. w \\<sqsubset> y}\n  extreme W (\\<sqsubseteq>) w\n  y = f w\n\ngoal (1 subgoal):\n 1. w \\<in> Y &&& w \\<sqsubset> y", "by auto"], ["proof (state)\nthis:\n  w \\<in> Y\n  w \\<sqsubset> y\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y};\n        extreme Ya (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have IHw: \"w \\<sqsubset> x \\<and> w \\<in> X \\<or>  w = x  \\<or>  x \\<sqsubset> w \\<and> x \\<in> Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<sqsubset> x \\<and> w \\<in> X \\<or>\n    w = x \\<or> x \\<sqsubset> w \\<and> x \\<in> Y", "using IHy[OF wY wy]"], ["proof (prove)\nusing this:\n  x \\<sqsubset> w \\<and> x \\<in> Y \\<or>\n  x = w \\<or> w \\<sqsubset> x \\<and> w \\<in> X\n\ngoal (1 subgoal):\n 1. w \\<sqsubset> x \\<and> w \\<in> X \\<or>\n    w = x \\<or> x \\<sqsubset> w \\<and> x \\<in> Y", "by auto"], ["proof (state)\nthis:\n  w \\<sqsubset> x \\<and> w \\<in> X \\<or>\n  w = x \\<or> x \\<sqsubset> w \\<and> x \\<in> Y\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y};\n        extreme Ya (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have \"x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x", "using suc_any[OF Y X yY xX W Ww yfw IHw]"], ["proof (prove)\nusing this:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n\ngoal (2 subgoals):\n 1. \\<And>Ya y.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y};\n        extreme Ya (\\<sqsubseteq>) y; y = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n 2. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "with 1"], ["proof (chain)\npicking this:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x", "show ?thesis"], ["proof (prove)\nusing this:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "using antisym xA yA"], ["proof (prove)\nusing this:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n  \\<lbrakk>?x \\<sqsubseteq> ?y; ?y \\<sqsubseteq> ?x; ?x \\<in> A;\n   ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?x = ?y\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n  x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "case (lim W)"], ["proof (state)\nthis:\n  W = {y \\<in> Y. y \\<sqsubset> y}\n  f ` W \\<subseteq> W\n  extreme_bound A (\\<sqsubseteq>) W y\n\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "note W = \\<open>W = {w \\<in> Y. w \\<sqsubset> y}\\<close> and fW = \\<open>f ` W \\<subseteq> W\\<close> and Wy = \\<open>extreme_bound A (\\<sqsubseteq>) W y\\<close>"], ["proof (state)\nthis:\n  W = {w \\<in> Y. w \\<sqsubset> y}\n  f ` W \\<subseteq> W\n  extreme_bound A (\\<sqsubseteq>) W y\n\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "have \"x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x", "using lim_any[OF Y X yY xX W fW Wy] IHy"], ["proof (prove)\nusing this:\n  \\<forall>z\\<in>Y.\n     z \\<sqsubset> y \\<longrightarrow>\n     z \\<sqsubset> x \\<and> z \\<in> X \\<or>\n     z = x \\<or> x \\<sqsubset> z \\<and> x \\<in> Y \\<Longrightarrow>\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n  \\<lbrakk>?y \\<in> Y; ?y \\<sqsubset> y\\<rbrakk>\n  \\<Longrightarrow> x \\<sqsubset> ?y \\<and> x \\<in> Y \\<or>\n                    x = ?y \\<or> ?y \\<sqsubset> x \\<and> ?y \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. \\<And>Ya.\n       \\<lbrakk>Ya = {y \\<in> Y. y \\<sqsubset> y}; f ` Ya \\<subseteq> Ya;\n        extreme_bound A (\\<sqsubseteq>) Ya y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n                         x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "with 1"], ["proof (chain)\npicking this:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x", "show ?thesis"], ["proof (prove)\nusing this:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "using antisym xA yA"], ["proof (prove)\nusing this:\n  y \\<sqsubset> x \\<and> y \\<in> X \\<or> x \\<sqsubseteq> y\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or> y \\<sqsubseteq> x\n  \\<lbrakk>?x \\<sqsubseteq> ?y; ?y \\<sqsubseteq> ?x; ?x \\<in> A;\n   ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?x = ?y\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n    x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n  x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n  x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n  x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n  x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<sqsubset> y \\<and> x \\<in> Y \\<or>\n  x = y \\<or> y \\<sqsubset> x \\<and> y \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["", "interpretation derivable: well_ordered_set \"{x. derivable x}\" \"(\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set (Collect derivable) (\\<sqsubseteq>)", "proof (rule well_ordered_set.intro)"], ["proof (state)\ngoal (2 subgoals):\n 1. antisymmetric (Collect derivable) (\\<sqsubseteq>)\n 2. well_related_set (Collect derivable) (\\<sqsubseteq>)", "show \"antisymmetric {x. derivable x} (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. antisymmetric (Collect derivable) (\\<sqsubseteq>)", "apply unfold_locales"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<sqsubseteq> y; y \\<sqsubseteq> x;\n        x \\<in> Collect derivable; y \\<in> Collect derivable\\<rbrakk>\n       \\<Longrightarrow> x = y", "by (auto dest: derivable_A antisym)"], ["proof (state)\nthis:\n  antisymmetric (Collect derivable) (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. well_related_set (Collect derivable) (\\<sqsubseteq>)", "show \"well_related_set {x. derivable x} (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_related_set (Collect derivable) (\\<sqsubseteq>)", "apply (fold UN_derivations_eq_derivable)"], ["proof (prove)\ngoal (1 subgoal):\n 1. well_related_set (\\<Union> (Collect derivation)) (\\<sqsubseteq>)", "apply (rule closed_UN_well_related)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>X\\<in>Collect derivation.\n       well_related_set X (\\<sqsubseteq>) \\<and>\n       (\\<forall>x\\<in>X.\n           \\<forall>y\\<in>\\<Union> (Collect derivation).\n              \\<not> x \\<sqsubseteq> y \\<longrightarrow> y \\<in> X)", "by (auto dest: derivation_well_ordered derivations_cross_compare well_ordered_set.axioms)"], ["proof (state)\nthis:\n  well_related_set (Collect derivable) (\\<sqsubseteq>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemmas derivable_well_ordered = derivable.well_ordered_set_axioms"], ["", "lemmas derivable_total_ordered = derivable.total_ordered_set_axioms"], ["", "lemmas derivable_well_related = derivable.well_related_set_axioms"], ["", "lemma pred_unique:\n  assumes X: \"derivation X\" and xX: \"x \\<in> X\"\n  shows \"{z \\<in> X. z \\<sqsubset> x} = {z. derivable z \\<and> z \\<sqsubset> x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {z \\<in> X. z \\<sqsubset> x} = {z. derivable z \\<and> z \\<sqsubset> x}", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. {z \\<in> X. z \\<sqsubset> x}\n    \\<subseteq> {z. derivable z \\<and> z \\<sqsubset> x}\n 2. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. {z \\<in> X. z \\<sqsubset> x}\n    \\<subseteq> {z. derivable z \\<and> z \\<sqsubset> x}\n 2. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "fix z"], ["proof (state)\ngoal (2 subgoals):\n 1. {z \\<in> X. z \\<sqsubset> x}\n    \\<subseteq> {z. derivable z \\<and> z \\<sqsubset> x}\n 2. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "assume \"z \\<in> X\" and \"z \\<sqsubset> x\""], ["proof (state)\nthis:\n  z \\<in> X\n  z \\<sqsubset> x\n\ngoal (2 subgoals):\n 1. {z \\<in> X. z \\<sqsubset> x}\n    \\<subseteq> {z. derivable z \\<and> z \\<sqsubset> x}\n 2. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "then"], ["proof (chain)\npicking this:\n  z \\<in> X\n  z \\<sqsubset> x", "have \"derivable z \\<and> z \\<sqsubset> x\""], ["proof (prove)\nusing this:\n  z \\<in> X\n  z \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. derivable z \\<and> z \\<sqsubset> x", "using X"], ["proof (prove)\nusing this:\n  z \\<in> X\n  z \\<sqsubset> x\n  derivation X\n\ngoal (1 subgoal):\n 1. derivable z \\<and> z \\<sqsubset> x", "by (auto simp: derivable_def)"], ["proof (state)\nthis:\n  derivable z \\<and> z \\<sqsubset> x\n\ngoal (2 subgoals):\n 1. {z \\<in> X. z \\<sqsubset> x}\n    \\<subseteq> {z. derivable z \\<and> z \\<sqsubset> x}\n 2. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?z2 \\<in> X; ?z2 \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> derivable ?z2 \\<and> ?z2 \\<sqsubset> x\n\ngoal (2 subgoals):\n 1. {z \\<in> X. z \\<sqsubset> x}\n    \\<subseteq> {z. derivable z \\<and> z \\<sqsubset> x}\n 2. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?z2 \\<in> X; ?z2 \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> derivable ?z2 \\<and> ?z2 \\<sqsubset> x", "show \"{z \\<in> X. z \\<sqsubset> x} \\<subseteq> {z. derivable z \\<and> z \\<sqsubset> x}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?z2 \\<in> X; ?z2 \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> derivable ?z2 \\<and> ?z2 \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. {z \\<in> X. z \\<sqsubset> x}\n    \\<subseteq> {z. derivable z \\<and> z \\<sqsubset> x}", "by auto"], ["proof (state)\nthis:\n  {z \\<in> X. z \\<sqsubset> x}\n  \\<subseteq> {z. derivable z \\<and> z \\<sqsubset> x}\n\ngoal (1 subgoal):\n 1. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "{"], ["proof (state)\nthis:\n  {z \\<in> X. z \\<sqsubset> x}\n  \\<subseteq> {z. derivable z \\<and> z \\<sqsubset> x}\n\ngoal (1 subgoal):\n 1. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "fix z"], ["proof (state)\ngoal (1 subgoal):\n 1. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "assume \"derivable z\" and zx: \"z \\<sqsubset> x\""], ["proof (state)\nthis:\n  derivable z\n  z \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "then"], ["proof (chain)\npicking this:\n  derivable z\n  z \\<sqsubset> x", "obtain Y where Y: \"derivation Y\" and zY: \"z \\<in> Y\""], ["proof (prove)\nusing this:\n  derivable z\n  z \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. (\\<And>Y.\n        \\<lbrakk>derivation Y; z \\<in> Y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: derivable_def)"], ["proof (state)\nthis:\n  derivation Y\n  z \\<in> Y\n\ngoal (1 subgoal):\n 1. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "then"], ["proof (chain)\npicking this:\n  derivation Y\n  z \\<in> Y", "have \"z \\<in> X\""], ["proof (prove)\nusing this:\n  derivation Y\n  z \\<in> Y\n\ngoal (1 subgoal):\n 1. z \\<in> X", "using derivations_cross_compare[OF X Y xX zY] zx"], ["proof (prove)\nusing this:\n  derivation Y\n  z \\<in> Y\n  x \\<sqsubset> z \\<and> x \\<in> Y \\<or>\n  x = z \\<or> z \\<sqsubset> x \\<and> z \\<in> X\n  z \\<sqsubset> x\n\ngoal (1 subgoal):\n 1. z \\<in> X", "by auto"], ["proof (state)\nthis:\n  z \\<in> X\n\ngoal (1 subgoal):\n 1. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>derivable ?z2; ?z2 \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> ?z2 \\<in> X\n\ngoal (1 subgoal):\n 1. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>derivable ?z2; ?z2 \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> ?z2 \\<in> X", "show \"{z \\<in> X. z \\<sqsubset> x} \\<supseteq> {z. derivable z \\<and> z \\<sqsubset> x}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>derivable ?z2; ?z2 \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> ?z2 \\<in> X\n\ngoal (1 subgoal):\n 1. {z. derivable z \\<and> z \\<sqsubset> x}\n    \\<subseteq> {z \\<in> X. z \\<sqsubset> x}", "by auto"], ["proof (state)\nthis:\n  {z. derivable z \\<and> z \\<sqsubset> x}\n  \\<subseteq> {z \\<in> X. z \\<sqsubset> x}\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The set of all derivable elements is itself a derivation.\\<close>"], ["", "lemma derivation_derivable: \"derivation {x. derivable x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. derivation (Collect derivable)", "apply (unfold derivation_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Collect derivable \\<subseteq> A \\<and>\n    well_ordered_set (Collect derivable) (\\<sqsubseteq>) \\<and>\n    (\\<forall>x\\<in>Collect derivable.\n        let Y = {y \\<in> Collect derivable. y \\<sqsubset> x}\n        in (\\<exists>y. extreme Y (\\<sqsubseteq>) y \\<and> x = f y) \\<or>\n           f ` Y \\<subseteq> Y \\<and> extreme_bound A (\\<sqsubseteq>) Y x)", "apply (safe intro!: derivable_A derivable.well_ordered_set_axioms elim!: derivableE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> let Y = {y \\<in> Collect derivable.\n                                  y \\<sqsubset> x}\n                         in (\\<exists>y.\n                                extreme Y (\\<sqsubseteq>) y \\<and>\n                                x = f y) \\<or>\n                            f ` Y \\<subseteq> Y \\<and>\n                            extreme_bound A (\\<sqsubseteq>) Y x", "apply (unfold mem_Collect_eq pred_unique[symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> let Y = {y \\<in> P. y \\<sqsubset> x}\n                         in (\\<exists>y.\n                                extreme Y (\\<sqsubseteq>) y \\<and>\n                                x = f y) \\<or>\n                            f ` Y \\<subseteq> Y \\<and>\n                            extreme_bound A (\\<sqsubseteq>) Y x", "by (auto simp: derivation_def)"], ["", "text \\<open>Finally, if the set of all derivable elements admits a supremum, then it is a fixed point.\\<close>"], ["", "lemma\n  assumes p: \"extreme_bound A (\\<sqsubseteq>) {x. derivable x} p\"\n  shows sup_derivable_qfp: \"f p \\<sim> p\" and sup_derivable_fp: \"f p = p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f p \\<sim> p &&& f p = p", "proof (intro antisym sympartpI)"], ["proof (state)\ngoal (3 subgoals):\n 1. f p \\<sqsubseteq> p\n 2. p \\<sqsubseteq> f p\n 3. f p = p", "define P where \"P \\<equiv> {x. derivable x}\""], ["proof (state)\nthis:\n  P \\<equiv> Collect derivable\n\ngoal (3 subgoals):\n 1. f p \\<sqsubseteq> p\n 2. p \\<sqsubseteq> f p\n 3. f p = p", "have pA: \"p \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<in> A", "using p"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p\n\ngoal (1 subgoal):\n 1. p \\<in> A", "by auto"], ["proof (state)\nthis:\n  p \\<in> A\n\ngoal (3 subgoals):\n 1. f p \\<sqsubseteq> p\n 2. p \\<sqsubseteq> f p\n 3. f p = p", "have P: \"derivation P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. derivation P", "using derivation_derivable"], ["proof (prove)\nusing this:\n  derivation (Collect derivable)\n\ngoal (1 subgoal):\n 1. derivation P", "by (simp add: P_def)"], ["proof (state)\nthis:\n  derivation P\n\ngoal (3 subgoals):\n 1. f p \\<sqsubseteq> p\n 2. p \\<sqsubseteq> f p\n 3. f p = p", "from derivable_closed"], ["proof (chain)\npicking this:\n  derivable ?x \\<Longrightarrow> derivable (f ?x)", "have fP: \"f ` P \\<subseteq> P\""], ["proof (prove)\nusing this:\n  derivable ?x \\<Longrightarrow> derivable (f ?x)\n\ngoal (1 subgoal):\n 1. f ` P \\<subseteq> P", "by (auto simp: P_def)"], ["proof (state)\nthis:\n  f ` P \\<subseteq> P\n\ngoal (3 subgoals):\n 1. f p \\<sqsubseteq> p\n 2. p \\<sqsubseteq> f p\n 3. f p = p", "from derivation_lim[OF P fP] p"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) P ?p \\<Longrightarrow>\n  derivation (P \\<union> {?p})\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p", "have pP: \"p \\<in> P\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) P ?p \\<Longrightarrow>\n  derivation (P \\<union> {?p})\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p\n\ngoal (1 subgoal):\n 1. p \\<in> P", "by (auto simp: P_def intro:derivableI)"], ["proof (state)\nthis:\n  p \\<in> P\n\ngoal (3 subgoals):\n 1. f p \\<sqsubseteq> p\n 2. p \\<sqsubseteq> f p\n 3. f p = p", "with fP"], ["proof (chain)\npicking this:\n  f ` P \\<subseteq> P\n  p \\<in> P", "have \"f p \\<in> P\""], ["proof (prove)\nusing this:\n  f ` P \\<subseteq> P\n  p \\<in> P\n\ngoal (1 subgoal):\n 1. f p \\<in> P", "by auto"], ["proof (state)\nthis:\n  f p \\<in> P\n\ngoal (3 subgoals):\n 1. f p \\<sqsubseteq> p\n 2. p \\<sqsubseteq> f p\n 3. f p = p", "with p"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p\n  f p \\<in> P", "show fpp: \"f p \\<sqsubseteq> p\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p\n  f p \\<in> P\n\ngoal (1 subgoal):\n 1. f p \\<sqsubseteq> p", "by (auto simp: P_def)"], ["proof (state)\nthis:\n  f p \\<sqsubseteq> p\n\ngoal (2 subgoals):\n 1. p \\<sqsubseteq> f p\n 2. f p = p", "show pfp: \"p \\<sqsubseteq> f p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<sqsubseteq> f p", "apply (rule derivation_infl[rule_format, OF P])"], ["proof (prove)\ngoal (3 subgoals):\n 1. p \\<in> P\n 2. p \\<in> P\n 3. p \\<sqsubseteq> p", "using pP"], ["proof (prove)\nusing this:\n  p \\<in> P\n\ngoal (3 subgoals):\n 1. p \\<in> P\n 2. p \\<in> P\n 3. p \\<sqsubseteq> p", "by (auto simp: P_def)"], ["proof (state)\nthis:\n  p \\<sqsubseteq> f p\n\ngoal (1 subgoal):\n 1. f p = p", "from fpp pfp p f"], ["proof (chain)\npicking this:\n  f p \\<sqsubseteq> p\n  p \\<sqsubseteq> f p\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p\n  f ` A \\<subseteq> A", "show \"f p = p\""], ["proof (prove)\nusing this:\n  f p \\<sqsubseteq> p\n  p \\<sqsubseteq> f p\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. f p = p", "by (auto intro!: antisym)"], ["proof (state)\nthis:\n  f p = p\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "text \"The assumptions are satisfied by monotone functions.\""], ["", "context\n  assumes mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\nbegin"], ["", "lemma mono_imp_derivation_infl:\n  \"\\<forall>X x y. derivation X \\<longrightarrow> x \\<in> X \\<longrightarrow> y \\<in> X \\<longrightarrow> x \\<sqsubseteq> y \\<longrightarrow> x \\<sqsubseteq> f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>X x y.\n       derivation X \\<longrightarrow>\n       x \\<in> X \\<longrightarrow>\n       y \\<in> X \\<longrightarrow>\n       x \\<sqsubseteq> y \\<longrightarrow> x \\<sqsubseteq> f y", "proof (intro allI impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X x y.\n       \\<lbrakk>derivation X; x \\<in> X; y \\<in> X;\n        x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "fix X x y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X x y.\n       \\<lbrakk>derivation X; x \\<in> X; y \\<in> X;\n        x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "assume X: \"derivation X\" and xX: \"x \\<in> X\" and yX: \"y \\<in> X\" and xy: \"x \\<sqsubseteq> y\""], ["proof (state)\nthis:\n  derivation X\n  x \\<in> X\n  y \\<in> X\n  x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. \\<And>X x y.\n       \\<lbrakk>derivation X; x \\<in> X; y \\<in> X;\n        x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "interpret X: well_ordered_set X \"(\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set X (\\<sqsubseteq>)", "using derivation_well_ordered[OF X]"], ["proof (prove)\nusing this:\n  well_ordered_set X (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. well_ordered_set X (\\<sqsubseteq>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X x y.\n       \\<lbrakk>derivation X; x \\<in> X; y \\<in> X;\n        x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "note XA = derivation_A[OF X]"], ["proof (state)\nthis:\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>X x y.\n       \\<lbrakk>derivation X; x \\<in> X; y \\<in> X;\n        x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "from xX yX xy"], ["proof (chain)\npicking this:\n  x \\<in> X\n  y \\<in> X\n  x \\<sqsubseteq> y", "show \"x \\<sqsubseteq> f y\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  y \\<in> X\n  x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> f y", "proof (induct x)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> X;\n        \\<And>ya.\n           \\<lbrakk>ya \\<in> X; ya \\<sqsubset> x; y \\<in> X;\n            ya \\<sqsubseteq> y\\<rbrakk>\n           \\<Longrightarrow> ya \\<sqsubseteq> f y;\n        y \\<in> X; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "case (less x)"], ["proof (state)\nthis:\n  x \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x; y \\<in> X;\n   ?y \\<sqsubseteq> y\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubseteq> f y\n  y \\<in> X\n  x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> X;\n        \\<And>ya.\n           \\<lbrakk>ya \\<in> X; ya \\<sqsubset> x; y \\<in> X;\n            ya \\<sqsubseteq> y\\<rbrakk>\n           \\<Longrightarrow> ya \\<sqsubseteq> f y;\n        y \\<in> X; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "note IH = this(2) and xX = \\<open>x \\<in> X\\<close> and yX = \\<open>y \\<in> X\\<close> and xy = \\<open>x \\<sqsubseteq> y\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x; y \\<in> X;\n   ?y \\<sqsubseteq> y\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubseteq> f y\n  x \\<in> X\n  y \\<in> X\n  x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> X;\n        \\<And>ya.\n           \\<lbrakk>ya \\<in> X; ya \\<sqsubset> x; y \\<in> X;\n            ya \\<sqsubseteq> y\\<rbrakk>\n           \\<Longrightarrow> ya \\<sqsubseteq> f y;\n        y \\<in> X; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "from xX yX XA"], ["proof (chain)\npicking this:\n  x \\<in> X\n  y \\<in> X\n  X \\<subseteq> A", "have xA: \"x \\<in> A\" and yA: \"y \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  y \\<in> X\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. x \\<in> A &&& y \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> X;\n        \\<And>ya.\n           \\<lbrakk>ya \\<in> X; ya \\<sqsubset> x; y \\<in> X;\n            ya \\<sqsubseteq> y\\<rbrakk>\n           \\<Longrightarrow> ya \\<sqsubseteq> f y;\n        y \\<in> X; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "from X xX"], ["proof (chain)\npicking this:\n  derivation X\n  x \\<in> X", "show ?case"], ["proof (prove)\nusing this:\n  derivation X\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> f y", "proof (cases rule: derivation_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Y ya.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x};\n        extreme Y (\\<sqsubseteq>) ya; x = f ya\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y\n 2. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "case (suc Z z)"], ["proof (state)\nthis:\n  Z = {y \\<in> X. y \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z\n\ngoal (2 subgoals):\n 1. \\<And>Y ya.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x};\n        extreme Y (\\<sqsubseteq>) ya; x = f ya\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y\n 2. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "then"], ["proof (chain)\npicking this:\n  Z = {y \\<in> X. y \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z", "have zX: \"z \\<in> X\" and zsx: \"z \\<sqsubset> x\" and xfz: \"x = f z\""], ["proof (prove)\nusing this:\n  Z = {y \\<in> X. y \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z\n\ngoal (1 subgoal):\n 1. z \\<in> X &&& z \\<sqsubset> x &&& x = f z", "by auto"], ["proof (state)\nthis:\n  z \\<in> X\n  z \\<sqsubset> x\n  x = f z\n\ngoal (2 subgoals):\n 1. \\<And>Y ya.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x};\n        extreme Y (\\<sqsubseteq>) ya; x = f ya\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y\n 2. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "then"], ["proof (chain)\npicking this:\n  z \\<in> X\n  z \\<sqsubset> x\n  x = f z", "have zx: \"z \\<sqsubseteq> x\""], ["proof (prove)\nusing this:\n  z \\<in> X\n  z \\<sqsubset> x\n  x = f z\n\ngoal (1 subgoal):\n 1. z \\<sqsubseteq> x", "by auto"], ["proof (state)\nthis:\n  z \\<sqsubseteq> x\n\ngoal (2 subgoals):\n 1. \\<And>Y ya.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x};\n        extreme Y (\\<sqsubseteq>) ya; x = f ya\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y\n 2. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "from X.trans[OF zx xy zX xX yX]"], ["proof (chain)\npicking this:\n  z \\<sqsubseteq> y", "have zy: \"z \\<sqsubseteq> y\""], ["proof (prove)\nusing this:\n  z \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. z \\<sqsubseteq> y", "."], ["proof (state)\nthis:\n  z \\<sqsubseteq> y\n\ngoal (2 subgoals):\n 1. \\<And>Y ya.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x};\n        extreme Y (\\<sqsubseteq>) ya; x = f ya\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y\n 2. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "from zX XA"], ["proof (chain)\npicking this:\n  z \\<in> X\n  X \\<subseteq> A", "have zA: \"z \\<in> A\""], ["proof (prove)\nusing this:\n  z \\<in> X\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. z \\<in> A", "by auto"], ["proof (state)\nthis:\n  z \\<in> A\n\ngoal (2 subgoals):\n 1. \\<And>Y ya.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x};\n        extreme Y (\\<sqsubseteq>) ya; x = f ya\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y\n 2. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "from zy monotone_onD[OF mono] zA yA xfz"], ["proof (chain)\npicking this:\n  z \\<sqsubseteq> y\n  \\<lbrakk>?x \\<sqsubseteq> ?y; ?x \\<in> A; ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<sqsubseteq> f ?y\n  z \\<in> A\n  y \\<in> A\n  x = f z", "show \"x \\<sqsubseteq> f y\""], ["proof (prove)\nusing this:\n  z \\<sqsubseteq> y\n  \\<lbrakk>?x \\<sqsubseteq> ?y; ?x \\<in> A; ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> f ?x \\<sqsubseteq> f ?y\n  z \\<in> A\n  y \\<in> A\n  x = f z\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> f y", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubseteq> f y\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "case (lim Z)"], ["proof (state)\nthis:\n  Z = {y \\<in> X. y \\<sqsubset> x}\n  f ` Z \\<subseteq> Z\n  extreme_bound A (\\<sqsubseteq>) Z x\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "note Z = \\<open>Z = {z \\<in> X. z \\<sqsubset> x}\\<close> and Zx = \\<open>extreme_bound A (\\<sqsubseteq>) Z x\\<close>"], ["proof (state)\nthis:\n  Z = {z \\<in> X. z \\<sqsubset> x}\n  extreme_bound A (\\<sqsubseteq>) Z x\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "from f yA"], ["proof (chain)\npicking this:\n  f ` A \\<subseteq> A\n  y \\<in> A", "have fyA: \"f y \\<in> A\""], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. f y \\<in> A", "by auto"], ["proof (state)\nthis:\n  f y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "have \"bound Z (\\<sqsubseteq>) (f y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bound Z (\\<sqsubseteq>) (f y)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Z \\<Longrightarrow> x \\<sqsubseteq> f y", "fix z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Z \\<Longrightarrow> x \\<sqsubseteq> f y", "assume zZ: \"z \\<in> Z\""], ["proof (state)\nthis:\n  z \\<in> Z\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Z \\<Longrightarrow> x \\<sqsubseteq> f y", "with Z xX"], ["proof (chain)\npicking this:\n  Z = {z \\<in> X. z \\<sqsubset> x}\n  x \\<in> X\n  z \\<in> Z", "have zsx: \"z \\<sqsubset> x\" and zX: \"z \\<in> X\""], ["proof (prove)\nusing this:\n  Z = {z \\<in> X. z \\<sqsubset> x}\n  x \\<in> X\n  z \\<in> Z\n\ngoal (1 subgoal):\n 1. z \\<sqsubset> x &&& z \\<in> X", "by auto"], ["proof (state)\nthis:\n  z \\<sqsubset> x\n  z \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Z \\<Longrightarrow> x \\<sqsubseteq> f y", "then"], ["proof (chain)\npicking this:\n  z \\<sqsubset> x\n  z \\<in> X", "have zx: \"z \\<sqsubseteq> x\""], ["proof (prove)\nusing this:\n  z \\<sqsubset> x\n  z \\<in> X\n\ngoal (1 subgoal):\n 1. z \\<sqsubseteq> x", "by auto"], ["proof (state)\nthis:\n  z \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Z \\<Longrightarrow> x \\<sqsubseteq> f y", "from X.trans[OF zx xy zX xX yX]"], ["proof (chain)\npicking this:\n  z \\<sqsubseteq> y", "have zy: \"z \\<sqsubseteq> y\""], ["proof (prove)\nusing this:\n  z \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. z \\<sqsubseteq> y", "."], ["proof (state)\nthis:\n  z \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Z \\<Longrightarrow> x \\<sqsubseteq> f y", "from IH[OF zX zsx yX] zy"], ["proof (chain)\npicking this:\n  z \\<sqsubseteq> y \\<Longrightarrow> z \\<sqsubseteq> f y\n  z \\<sqsubseteq> y", "show \"z \\<sqsubseteq> f y\""], ["proof (prove)\nusing this:\n  z \\<sqsubseteq> y \\<Longrightarrow> z \\<sqsubseteq> f y\n  z \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. z \\<sqsubseteq> f y", "by auto"], ["proof (state)\nthis:\n  z \\<sqsubseteq> f y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bound Z (\\<sqsubseteq>) (f y)\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> f y", "with Zx fyA"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) Z x\n  f y \\<in> A\n  bound Z (\\<sqsubseteq>) (f y)", "show ?thesis"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) Z x\n  f y \\<in> A\n  bound Z (\\<sqsubseteq>) (f y)\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> f y", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubseteq> f y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<sqsubseteq> f y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<sqsubseteq> f y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mono_imp_derivation_f_refl:\n  \"\\<forall>X x. derivation X \\<longrightarrow> x \\<in> X \\<longrightarrow> f x \\<sqsubseteq> f x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>X x.\n       derivation X \\<longrightarrow>\n       x \\<in> X \\<longrightarrow> f x \\<sqsubseteq> f x", "proof (intro allI impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X x.\n       \\<lbrakk>derivation X; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> f x", "fix X x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X x.\n       \\<lbrakk>derivation X; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> f x", "assume X: \"derivation X\" and xX: \"x \\<in> X\""], ["proof (state)\nthis:\n  derivation X\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>X x.\n       \\<lbrakk>derivation X; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> f x", "interpret X: well_ordered_set X \"(\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_ordered_set X (\\<sqsubseteq>)", "using derivation_well_ordered[OF X]"], ["proof (prove)\nusing this:\n  well_ordered_set X (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. well_ordered_set X (\\<sqsubseteq>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X x.\n       \\<lbrakk>derivation X; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> f x", "note XA = derivation_A[OF X]"], ["proof (state)\nthis:\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>X x.\n       \\<lbrakk>derivation X; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> f x", "from xX"], ["proof (chain)\npicking this:\n  x \\<in> X", "have \"x \\<sqsubseteq> x\""], ["proof (prove)\nusing this:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> x", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubseteq> x\n\ngoal (1 subgoal):\n 1. \\<And>X x.\n       \\<lbrakk>derivation X; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> f x \\<sqsubseteq> f x", "from monotone_onD[OF mono this] xX XA"], ["proof (chain)\npicking this:\n  \\<lbrakk>x \\<in> A; x \\<in> A\\<rbrakk>\n  \\<Longrightarrow> f x \\<sqsubseteq> f x\n  x \\<in> X\n  X \\<subseteq> A", "show \"f x \\<sqsubseteq> f x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>x \\<in> A; x \\<in> A\\<rbrakk>\n  \\<Longrightarrow> f x \\<sqsubseteq> f x\n  x \\<in> X\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f x", "by auto"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> f x\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary mono_imp_sup_derivable_fp:\n  assumes p: \"extreme_bound A (\\<sqsubseteq>) {x. derivable x} p\"\n  shows \"f p = p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f p = p", "by (simp add: sup_derivable_fp[OF mono_imp_derivation_infl mono_imp_derivation_f_refl p])"], ["", "lemma mono_imp_sup_derivable_lfp:\n  assumes p: \"extreme_bound A (\\<sqsubseteq>) {x. derivable x} p\"\n  shows \"extreme {q \\<in> A. f q = q} (\\<sqsupseteq>) p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p", "proof (safe intro!: extremeI)"], ["proof (state)\ngoal (3 subgoals):\n 1. p \\<in> A\n 2. f p = p\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "from p"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p", "show \"p \\<in> A\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p\n\ngoal (1 subgoal):\n 1. p \\<in> A", "by auto"], ["proof (state)\nthis:\n  p \\<in> A\n\ngoal (2 subgoals):\n 1. f p = p\n 2. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "from sup_derivable_fp[OF mono_imp_derivation_infl mono_imp_derivation_f_refl p]"], ["proof (chain)\npicking this:\n  f p = p", "show \"f p = p\""], ["proof (prove)\nusing this:\n  f p = p\n\ngoal (1 subgoal):\n 1. f p = p", "."], ["proof (state)\nthis:\n  f p = p\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "fix q"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "assume qA: \"q \\<in> A\" and fqq: \"f q = q\""], ["proof (state)\nthis:\n  q \\<in> A\n  f q = q\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "have \"bound {x. derivable x} (\\<sqsubseteq>) q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bound (Collect derivable) (\\<sqsubseteq>) q", "proof (safe intro!: boundI elim!:derivableE)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "fix x X"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "assume X: \"derivation X\" and xX: \"x \\<in> X\""], ["proof (state)\nthis:\n  derivation X\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "from X"], ["proof (chain)\npicking this:\n  derivation X", "interpret well_ordered_set X \"(\\<sqsubseteq>)\""], ["proof (prove)\nusing this:\n  derivation X\n\ngoal (1 subgoal):\n 1. well_ordered_set X (\\<sqsubseteq>)", "by (rule derivation_well_ordered)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x P.\n       \\<lbrakk>derivation P; x \\<in> P\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "from xX"], ["proof (chain)\npicking this:\n  x \\<in> X", "show \"x \\<sqsubseteq> q\""], ["proof (prove)\nusing this:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> q", "proof (induct x)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n           \\<Longrightarrow> y \\<sqsubseteq> q\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "case (less x)"], ["proof (state)\nthis:\n  x \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubseteq> q\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n           \\<Longrightarrow> y \\<sqsubseteq> q\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "note xP = this(1) and IH = this(2)"], ["proof (state)\nthis:\n  x \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubseteq> q\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> X;\n        \\<And>y.\n           \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n           \\<Longrightarrow> y \\<sqsubseteq> q\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "with X"], ["proof (chain)\npicking this:\n  derivation X\n  x \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubseteq> q", "show ?case"], ["proof (prove)\nusing this:\n  derivation X\n  x \\<in> X\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubseteq> q\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> q", "proof (cases rule: derivation_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Y y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq> q;\n        Y = {y \\<in> X. y \\<sqsubset> x}; extreme Y (\\<sqsubseteq>) y;\n        x = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q\n 2. \\<And>Y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq> q;\n        Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "case (suc Z z)"], ["proof (state)\nthis:\n  Z = {y \\<in> X. y \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z\n\ngoal (2 subgoals):\n 1. \\<And>Y y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq> q;\n        Y = {y \\<in> X. y \\<sqsubset> x}; extreme Y (\\<sqsubseteq>) y;\n        x = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q\n 2. \\<And>Y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq> q;\n        Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "with IH[of z]"], ["proof (chain)\npicking this:\n  \\<lbrakk>z \\<in> X; z \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> z \\<sqsubseteq> q\n  Z = {y \\<in> X. y \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z", "have zq: \"z \\<sqsubseteq> q\" and zX: \"z \\<in> X\""], ["proof (prove)\nusing this:\n  \\<lbrakk>z \\<in> X; z \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> z \\<sqsubseteq> q\n  Z = {y \\<in> X. y \\<sqsubset> x}\n  extreme Z (\\<sqsubseteq>) z\n  x = f z\n\ngoal (1 subgoal):\n 1. z \\<sqsubseteq> q &&& z \\<in> X", "by auto"], ["proof (state)\nthis:\n  z \\<sqsubseteq> q\n  z \\<in> X\n\ngoal (2 subgoals):\n 1. \\<And>Y y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq> q;\n        Y = {y \\<in> X. y \\<sqsubset> x}; extreme Y (\\<sqsubseteq>) y;\n        x = f y\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q\n 2. \\<And>Y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq> q;\n        Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "from monotone_onD[OF mono zq] zX qA derivation_A[OF X]"], ["proof (chain)\npicking this:\n  \\<lbrakk>z \\<in> A; q \\<in> A\\<rbrakk>\n  \\<Longrightarrow> f z \\<sqsubseteq> f q\n  z \\<in> X\n  q \\<in> A\n  X \\<subseteq> A", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>z \\<in> A; q \\<in> A\\<rbrakk>\n  \\<Longrightarrow> f z \\<sqsubseteq> f q\n  z \\<in> X\n  q \\<in> A\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> q", "by (auto simp: fqq suc)"], ["proof (state)\nthis:\n  x \\<sqsubseteq> q\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq> q;\n        Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq> q;\n        Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "case lim"], ["proof (state)\nthis:\n  Y_ = {y \\<in> X. y \\<sqsubset> x}\n  f ` Y_ \\<subseteq> Y_\n  extreme_bound A (\\<sqsubseteq>) Y_ x\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq> q;\n        Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "with IH"], ["proof (chain)\npicking this:\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubseteq> q\n  Y_ = {y \\<in> X. y \\<sqsubset> x}\n  f ` Y_ \\<subseteq> Y_\n  extreme_bound A (\\<sqsubseteq>) Y_ x", "have \"bound {z \\<in> X. z \\<sqsubset> x} (\\<sqsubseteq>) q\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?y \\<in> X; ?y \\<sqsubset> x\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubseteq> q\n  Y_ = {y \\<in> X. y \\<sqsubset> x}\n  f ` Y_ \\<subseteq> Y_\n  extreme_bound A (\\<sqsubseteq>) Y_ x\n\ngoal (1 subgoal):\n 1. bound {z \\<in> X. z \\<sqsubset> x} (\\<sqsubseteq>) q", "by auto"], ["proof (state)\nthis:\n  bound {z \\<in> X. z \\<sqsubset> x} (\\<sqsubseteq>) q\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> X; y \\<sqsubset> x\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq> q;\n        Y = {y \\<in> X. y \\<sqsubset> x}; f ` Y \\<subseteq> Y;\n        extreme_bound A (\\<sqsubseteq>) Y x\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq> q", "with lim qA"], ["proof (chain)\npicking this:\n  Y_ = {y \\<in> X. y \\<sqsubset> x}\n  f ` Y_ \\<subseteq> Y_\n  extreme_bound A (\\<sqsubseteq>) Y_ x\n  q \\<in> A\n  bound {z \\<in> X. z \\<sqsubset> x} (\\<sqsubseteq>) q", "show ?thesis"], ["proof (prove)\nusing this:\n  Y_ = {y \\<in> X. y \\<sqsubset> x}\n  f ` Y_ \\<subseteq> Y_\n  extreme_bound A (\\<sqsubseteq>) Y_ x\n  q \\<in> A\n  bound {z \\<in> X. z \\<sqsubset> x} (\\<sqsubseteq>) q\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> q", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubseteq> q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<sqsubseteq> q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<sqsubseteq> q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bound (Collect derivable) (\\<sqsubseteq>) q\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "with p qA"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p\n  q \\<in> A\n  bound (Collect derivable) (\\<sqsubseteq>) q", "show \"p \\<sqsubseteq> q\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p\n  q \\<in> A\n  bound (Collect derivable) (\\<sqsubseteq>) q\n\ngoal (1 subgoal):\n 1. p \\<sqsubseteq> q", "by auto"], ["proof (state)\nthis:\n  p \\<sqsubseteq> q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mono_imp_ex_least_fp:\n  assumes comp: \"well_complete A (\\<sqsubseteq>)\"\n  shows \"\\<exists>p. extreme {q \\<in> A. f q = q} (\\<sqsupseteq>) p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>p.\n       extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>p.\n       extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p", "interpret fixed_point_proof"], ["proof (prove)\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "using f"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "by unfold_locales"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>p.\n       extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p", "note as = antisymmetric_axioms"], ["proof (state)\nthis:\n  antisymmetric A (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. \\<exists>p.\n       extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p", "note infl = mono_imp_derivation_infl"], ["proof (state)\nthis:\n  \\<forall>X x y.\n     derivation X \\<longrightarrow>\n     x \\<in> X \\<longrightarrow>\n     y \\<in> X \\<longrightarrow>\n     x \\<sqsubseteq> y \\<longrightarrow> x \\<sqsubseteq> f y\n\ngoal (1 subgoal):\n 1. \\<exists>p.\n       extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p", "note refl = mono_imp_derivation_f_refl"], ["proof (state)\nthis:\n  \\<forall>X x.\n     derivation X \\<longrightarrow>\n     x \\<in> X \\<longrightarrow> f x \\<sqsubseteq> f x\n\ngoal (1 subgoal):\n 1. \\<exists>p.\n       extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p", "have wr: \"well_related_set {x. derivable x} (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_related_set (Collect derivable) (\\<sqsubseteq>)", "using derivable_well_related[OF infl refl]"], ["proof (prove)\nusing this:\n  well_related_set (Collect derivable) (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. well_related_set (Collect derivable) (\\<sqsubseteq>)", "."], ["proof (state)\nthis:\n  well_related_set (Collect derivable) (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. \\<exists>p.\n       extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p", "have \"\\<exists>p. extreme_bound A (\\<sqsubseteq>) {x. derivable x} p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ex (extreme_bound A (\\<sqsubseteq>) (Collect derivable))", "apply (rule completeD[OF comp])"], ["proof (prove)\ngoal (2 subgoals):\n 1. Collect derivable \\<subseteq> A\n 2. Collect derivable \\<in> {X. well_related_set X (\\<sqsubseteq>)}", "using derivable_A wr"], ["proof (prove)\nusing this:\n  derivable ?x \\<Longrightarrow> ?x \\<in> A\n  well_related_set (Collect derivable) (\\<sqsubseteq>)\n\ngoal (2 subgoals):\n 1. Collect derivable \\<subseteq> A\n 2. Collect derivable \\<in> {X. well_related_set X (\\<sqsubseteq>)}", "by auto"], ["proof (state)\nthis:\n  Ex (extreme_bound A (\\<sqsubseteq>) (Collect derivable))\n\ngoal (1 subgoal):\n 1. \\<exists>p.\n       extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p", "then"], ["proof (chain)\npicking this:\n  Ex (extreme_bound A (\\<sqsubseteq>) (Collect derivable))", "obtain p where p: \"extreme_bound A (\\<sqsubseteq>) {x. derivable x} p\""], ["proof (prove)\nusing this:\n  Ex (extreme_bound A (\\<sqsubseteq>) (Collect derivable))\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        extreme_bound A (\\<sqsubseteq>) (Collect derivable)\n         p \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p\n\ngoal (1 subgoal):\n 1. \\<exists>p.\n       extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p", "from p mono_imp_sup_derivable_lfp[OF p] sup_derivable_qfp[OF infl refl p]"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p\n  extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p\n  f p \\<sim> p", "show ?thesis"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) p\n  extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p\n  f p \\<sim> p\n\ngoal (1 subgoal):\n 1. \\<exists>p.\n       extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p", "by auto"], ["proof (state)\nthis:\n  \\<exists>p.\n     extreme {q \\<in> A. f q = q} (\\<lambda>x y. y \\<sqsubseteq> x) p\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"], ["", "end"], ["", "text \\<open>Bourbaki-Witt Theorem on well-complete pseudo-ordered set:\\<close>"], ["", "theorem (in pseudo_ordered_set) well_complete_infl_imp_ex_fp:\n  assumes comp: \"well_complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and infl: \"\\<forall>x \\<in> A. \\<forall>y \\<in> A. x \\<sqsubseteq> y \\<longrightarrow> x \\<sqsubseteq> f y\"\n  shows \"\\<exists>p \\<in> A. f p = p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>p\\<in>A. f p = p", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>p\\<in>A. f p = p", "note as = antisymmetric_axioms"], ["proof (state)\nthis:\n  antisymmetric A (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. \\<exists>p\\<in>A. f p = p", "interpret fixed_point_proof"], ["proof (prove)\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "using f"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "by unfold_locales"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>p\\<in>A. f p = p", "have dinfl: \"\\<forall>X x y. derivation X \\<longrightarrow> x \\<in> X \\<longrightarrow> y \\<in> X \\<longrightarrow> x \\<sqsubseteq> y \\<longrightarrow> x \\<sqsubseteq> f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>X x y.\n       derivation X \\<longrightarrow>\n       x \\<in> X \\<longrightarrow>\n       y \\<in> X \\<longrightarrow>\n       x \\<sqsubseteq> y \\<longrightarrow> x \\<sqsubseteq> f y", "using infl"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>A.\n     \\<forall>y\\<in>A.\n        x \\<sqsubseteq> y \\<longrightarrow> x \\<sqsubseteq> f y\n\ngoal (1 subgoal):\n 1. \\<forall>X x y.\n       derivation X \\<longrightarrow>\n       x \\<in> X \\<longrightarrow>\n       y \\<in> X \\<longrightarrow>\n       x \\<sqsubseteq> y \\<longrightarrow> x \\<sqsubseteq> f y", "by (auto dest!:derivation_A)"], ["proof (state)\nthis:\n  \\<forall>X x y.\n     derivation X \\<longrightarrow>\n     x \\<in> X \\<longrightarrow>\n     y \\<in> X \\<longrightarrow>\n     x \\<sqsubseteq> y \\<longrightarrow> x \\<sqsubseteq> f y\n\ngoal (1 subgoal):\n 1. \\<exists>p\\<in>A. f p = p", "have drefl: \"\\<forall>X x. derivation X \\<longrightarrow> x \\<in> X \\<longrightarrow> f x \\<sqsubseteq> f x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>X x.\n       derivation X \\<longrightarrow>\n       x \\<in> X \\<longrightarrow> f x \\<sqsubseteq> f x", "using f"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<forall>X x.\n       derivation X \\<longrightarrow>\n       x \\<in> X \\<longrightarrow> f x \\<sqsubseteq> f x", "by (auto dest!: derivation_A)"], ["proof (state)\nthis:\n  \\<forall>X x.\n     derivation X \\<longrightarrow>\n     x \\<in> X \\<longrightarrow> f x \\<sqsubseteq> f x\n\ngoal (1 subgoal):\n 1. \\<exists>p\\<in>A. f p = p", "have \"\\<exists>p. extreme_bound A (\\<sqsubseteq>) {x. derivable x} p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ex (extreme_bound A (\\<sqsubseteq>) (Collect derivable))", "apply (rule completeD[OF comp])"], ["proof (prove)\ngoal (2 subgoals):\n 1. Collect derivable \\<subseteq> A\n 2. Collect derivable \\<in> {X. well_related_set X (\\<sqsubseteq>)}", "using derivable_well_related[OF as dinfl drefl] derivable_A"], ["proof (prove)\nusing this:\n  well_related_set (Collect derivable) (\\<sqsubseteq>)\n  derivable ?x \\<Longrightarrow> ?x \\<in> A\n\ngoal (2 subgoals):\n 1. Collect derivable \\<subseteq> A\n 2. Collect derivable \\<in> {X. well_related_set X (\\<sqsubseteq>)}", "by auto"], ["proof (state)\nthis:\n  Ex (extreme_bound A (\\<sqsubseteq>) (Collect derivable))\n\ngoal (1 subgoal):\n 1. \\<exists>p\\<in>A. f p = p", "with sup_derivable_fp[OF as dinfl drefl]"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) ?p \\<Longrightarrow>\n  f ?p = ?p\n  Ex (extreme_bound A (\\<sqsubseteq>) (Collect derivable))", "show ?thesis"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) (Collect derivable) ?p \\<Longrightarrow>\n  f ?p = ?p\n  Ex (extreme_bound A (\\<sqsubseteq>) (Collect derivable))\n\ngoal (1 subgoal):\n 1. \\<exists>p\\<in>A. f p = p", "by auto"], ["proof (state)\nthis:\n  \\<exists>p\\<in>A. f p = p\n\ngoal:\nNo subgoals!", "qed"], ["", "section \\<open>Completeness of (Quasi-)Fixed Points\\<close>"], ["", "text \\<open>We now prove that, under attractivity, the set of quasi-fixed points is complete.\\<close>"], ["", "definition setwise where \"setwise r X Y \\<equiv> \\<forall>x\\<in>X. \\<forall>y\\<in>Y. r x y\""], ["", "lemmas setwiseI[intro] = setwise_def[unfolded atomize_eq, THEN iffD2, rule_format]"], ["", "lemmas setwiseE[elim] = setwise_def[unfolded atomize_eq, THEN iffD1, elim_format, rule_format]"], ["", "context fixed_point_proof begin"], ["", "abbreviation setwise_less_eq (infix \"\\<sqsubseteq>\\<^sup>s\" 50) where \"(\\<sqsubseteq>\\<^sup>s) \\<equiv> setwise (\\<sqsubseteq>)\""], ["", "subsection \\<open>Least Quasi-Fixed Points for Attractive Relations.\\<close>"], ["", "lemma attract_mono_imp_least_qfp:\n  assumes attract: \"attractive A (\\<sqsubseteq>)\"\n    and comp: \"well_complete A (\\<sqsubseteq>)\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"\\<exists>c. extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p} (\\<sqsupseteq>) c \\<and> f c \\<sim> c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "interpret attractive"], ["proof (prove)\ngoal (1 subgoal):\n 1. attractive A (\\<sqsubseteq>)", "using attract"], ["proof (prove)\nusing this:\n  attractive A (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. attractive A (\\<sqsubseteq>)", "by auto"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "interpret sym: transitive A \"(\\<sim>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transitive A (\\<sim>)", "using sym_transitive"], ["proof (prove)\nusing this:\n  transitive A (\\<sim>)\n\ngoal (1 subgoal):\n 1. transitive A (\\<sim>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "define ecl (\"[_]\\<^sub>\\<sim>\") where \"[x]\\<^sub>\\<sim> \\<equiv> {y \\<in> A. x \\<sim> y} \\<union> {x}\" for x"], ["proof (state)\nthis:\n  [?x]\\<^sub>\\<sim> \\<equiv> {y \\<in> A. ?x \\<sim> y} \\<union> {?x}\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "define Q where \"Q \\<equiv> {[x]\\<^sub>\\<sim> |. x \\<in> A}\""], ["proof (state)\nthis:\n  Q \\<equiv> ecl ` A\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "{"], ["proof (state)\nthis:\n  Q \\<equiv> ecl ` A\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "fix X x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "assume XQ: \"X \\<in> Q\" and xX: \"x \\<in> X\""], ["proof (state)\nthis:\n  X \\<in> Q\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  X \\<in> Q\n  x \\<in> X", "have XA: \"X \\<subseteq> A\""], ["proof (prove)\nusing this:\n  X \\<in> Q\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. X \\<subseteq> A", "by (auto simp: Q_def ecl_def)"], ["proof (state)\nthis:\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  X \\<subseteq> A", "have xA: \"x \\<in> A\""], ["proof (prove)\nusing this:\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. x \\<in> A", "using xX"], ["proof (prove)\nusing this:\n  X \\<subseteq> A\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "obtain q where qA: \"q \\<in> A\" and X: \"X = [q]\\<^sub>\\<sim>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>q.\n        \\<lbrakk>q \\<in> A; X = [q]\\<^sub>\\<sim>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using XQ"], ["proof (prove)\nusing this:\n  X \\<in> Q\n\ngoal (1 subgoal):\n 1. (\\<And>q.\n        \\<lbrakk>q \\<in> A; X = [q]\\<^sub>\\<sim>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: Q_def)"], ["proof (state)\nthis:\n  q \\<in> A\n  X = [q]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "have xqqx: \"x \\<sim> q \\<or> x = q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sim> q \\<or> x = q", "using X xX"], ["proof (prove)\nusing this:\n  X = [q]\\<^sub>\\<sim>\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<sim> q \\<or> x = q", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  x \\<sim> q \\<or> x = q\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "{"], ["proof (state)\nthis:\n  x \\<sim> q \\<or> x = q\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "assume yX: \"y \\<in> X\""], ["proof (state)\nthis:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  y \\<in> X", "have yA: \"y \\<in> A\""], ["proof (prove)\nusing this:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. y \\<in> A", "using XA"], ["proof (prove)\nusing this:\n  y \\<in> X\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. y \\<in> A", "by auto"], ["proof (state)\nthis:\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "have \"y \\<sim> q \\<or> y = q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<sim> q \\<or> y = q", "using yX X"], ["proof (prove)\nusing this:\n  y \\<in> X\n  X = [q]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. y \\<sim> q \\<or> y = q", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  y \\<sim> q \\<or> y = q\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  y \\<sim> q \\<or> y = q", "have \"x \\<sim> y \\<or> y = x\""], ["proof (prove)\nusing this:\n  y \\<sim> q \\<or> y = q\n\ngoal (1 subgoal):\n 1. x \\<sim> y \\<or> y = x", "using sym_order_trans xqqx xA qA yA"], ["proof (prove)\nusing this:\n  y \\<sim> q \\<or> y = q\n  \\<lbrakk>?x \\<sim> ?y; ?y \\<sqsubseteq> ?z; ?x \\<in> A; ?y \\<in> A;\n   ?z \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?x \\<sqsubseteq> ?z\n  x \\<sim> q \\<or> x = q\n  x \\<in> A\n  q \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sim> y \\<or> y = x", "by blast"], ["proof (state)\nthis:\n  x \\<sim> y \\<or> y = x\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "}"], ["proof (state)\nthis:\n  ?y2 \\<in> X \\<Longrightarrow> x \\<sim> ?y2 \\<or> ?y2 = x\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  ?y2 \\<in> X \\<Longrightarrow> x \\<sim> ?y2 \\<or> ?y2 = x", "have 1: \"X \\<subseteq> [x]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  ?y2 \\<in> X \\<Longrightarrow> x \\<sim> ?y2 \\<or> ?y2 = x\n\ngoal (1 subgoal):\n 1. X \\<subseteq> [x]\\<^sub>\\<sim>", "using X qA"], ["proof (prove)\nusing this:\n  ?y2 \\<in> X \\<Longrightarrow> x \\<sim> ?y2 \\<or> ?y2 = x\n  X = [q]\\<^sub>\\<sim>\n  q \\<in> A\n\ngoal (1 subgoal):\n 1. X \\<subseteq> [x]\\<^sub>\\<sim>", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  X \\<subseteq> [x]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "{"], ["proof (state)\nthis:\n  X \\<subseteq> [x]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "assume \"y \\<in> A\" and \"x \\<sim> y \\<or> y = x\""], ["proof (state)\nthis:\n  y \\<in> A\n  x \\<sim> y \\<or> y = x\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  y \\<in> A\n  x \\<sim> y \\<or> y = x", "have \"q \\<sim> y \\<or> y = q\""], ["proof (prove)\nusing this:\n  y \\<in> A\n  x \\<sim> y \\<or> y = x\n\ngoal (1 subgoal):\n 1. q \\<sim> y \\<or> y = q", "using sym_order_trans xqqx xA qA"], ["proof (prove)\nusing this:\n  y \\<in> A\n  x \\<sim> y \\<or> y = x\n  \\<lbrakk>?x \\<sim> ?y; ?y \\<sqsubseteq> ?z; ?x \\<in> A; ?y \\<in> A;\n   ?z \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?x \\<sqsubseteq> ?z\n  x \\<sim> q \\<or> x = q\n  x \\<in> A\n  q \\<in> A\n\ngoal (1 subgoal):\n 1. q \\<sim> y \\<or> y = q", "by blast"], ["proof (state)\nthis:\n  q \\<sim> y \\<or> y = q\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?y2 \\<in> A; x \\<sim> ?y2 \\<or> ?y2 = x\\<rbrakk>\n  \\<Longrightarrow> q \\<sim> ?y2 \\<or> ?y2 = q\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?y2 \\<in> A; x \\<sim> ?y2 \\<or> ?y2 = x\\<rbrakk>\n  \\<Longrightarrow> q \\<sim> ?y2 \\<or> ?y2 = q", "have 2: \"X \\<supseteq> [x]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?y2 \\<in> A; x \\<sim> ?y2 \\<or> ?y2 = x\\<rbrakk>\n  \\<Longrightarrow> q \\<sim> ?y2 \\<or> ?y2 = q\n\ngoal (1 subgoal):\n 1. [x]\\<^sub>\\<sim> \\<subseteq> X", "using X xX"], ["proof (prove)\nusing this:\n  \\<lbrakk>?y2 \\<in> A; x \\<sim> ?y2 \\<or> ?y2 = x\\<rbrakk>\n  \\<Longrightarrow> q \\<sim> ?y2 \\<or> ?y2 = q\n  X = [q]\\<^sub>\\<sim>\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. [x]\\<^sub>\\<sim> \\<subseteq> X", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  [x]\\<^sub>\\<sim> \\<subseteq> X\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "from 1 2"], ["proof (chain)\npicking this:\n  X \\<subseteq> [x]\\<^sub>\\<sim>\n  [x]\\<^sub>\\<sim> \\<subseteq> X", "have \"X = [x]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  X \\<subseteq> [x]\\<^sub>\\<sim>\n  [x]\\<^sub>\\<sim> \\<subseteq> X\n\ngoal (1 subgoal):\n 1. X = [x]\\<^sub>\\<sim>", "by auto"], ["proof (state)\nthis:\n  X = [x]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?X2 \\<in> Q; ?x2 \\<in> ?X2\\<rbrakk>\n  \\<Longrightarrow> ?X2 = [?x2]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?X2 \\<in> Q; ?x2 \\<in> ?X2\\<rbrakk>\n  \\<Longrightarrow> ?X2 = [?x2]\\<^sub>\\<sim>", "have XQx: \"\\<forall>X \\<in> Q. \\<forall>x \\<in> X. X = [x]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?X2 \\<in> Q; ?x2 \\<in> ?X2\\<rbrakk>\n  \\<Longrightarrow> ?X2 = [?x2]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<forall>X\\<in>Q. \\<forall>x\\<in>X. X = [x]\\<^sub>\\<sim>", "by auto"], ["proof (state)\nthis:\n  \\<forall>X\\<in>Q. \\<forall>x\\<in>X. X = [x]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "have RSLE_eq: \"X \\<in> Q \\<Longrightarrow> Y \\<in> Q \\<Longrightarrow> x \\<in> X \\<Longrightarrow> y \\<in> Y \\<Longrightarrow> x \\<sqsubseteq> y \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y\" for X Y x y"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "assume XQ: \"X \\<in> Q\" and YQ: \"Y \\<in> Q\" and xX: \"x \\<in> X\" and yY: \"y \\<in> Y\" and xy: \"x \\<sqsubseteq> y\""], ["proof (state)\nthis:\n  X \\<in> Q\n  Y \\<in> Q\n  x \\<in> X\n  y \\<in> Y\n  x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "then"], ["proof (chain)\npicking this:\n  X \\<in> Q\n  Y \\<in> Q\n  x \\<in> X\n  y \\<in> Y\n  x \\<sqsubseteq> y", "have XA: \"X \\<subseteq> A\" and YA: \"Y \\<subseteq> A\""], ["proof (prove)\nusing this:\n  X \\<in> Q\n  Y \\<in> Q\n  x \\<in> X\n  y \\<in> Y\n  x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. X \\<subseteq> A &&& Y \\<subseteq> A", "by (auto simp: Q_def ecl_def)"], ["proof (state)\nthis:\n  X \\<subseteq> A\n  Y \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "then"], ["proof (chain)\npicking this:\n  X \\<subseteq> A\n  Y \\<subseteq> A", "have xA: \"x \\<in> A\" and yA: \"y \\<in> A\""], ["proof (prove)\nusing this:\n  X \\<subseteq> A\n  Y \\<subseteq> A\n\ngoal (1 subgoal):\n 1. x \\<in> A &&& y \\<in> A", "using xX yY"], ["proof (prove)\nusing this:\n  X \\<subseteq> A\n  Y \\<subseteq> A\n  x \\<in> X\n  y \\<in> Y\n\ngoal (1 subgoal):\n 1. x \\<in> A &&& y \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "{"], ["proof (state)\nthis:\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "fix xp yp"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "assume xpX: \"xp \\<in> X\" and ypY: \"yp \\<in> Y\""], ["proof (state)\nthis:\n  xp \\<in> X\n  yp \\<in> Y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "then"], ["proof (chain)\npicking this:\n  xp \\<in> X\n  yp \\<in> Y", "have xpA: \"xp \\<in> A\" and ypA: \"yp \\<in> A\""], ["proof (prove)\nusing this:\n  xp \\<in> X\n  yp \\<in> Y\n\ngoal (1 subgoal):\n 1. xp \\<in> A &&& yp \\<in> A", "using XA YA"], ["proof (prove)\nusing this:\n  xp \\<in> X\n  yp \\<in> Y\n  X \\<subseteq> A\n  Y \\<subseteq> A\n\ngoal (1 subgoal):\n 1. xp \\<in> A &&& yp \\<in> A", "by auto"], ["proof (state)\nthis:\n  xp \\<in> A\n  yp \\<in> A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "then"], ["proof (chain)\npicking this:\n  xp \\<in> A\n  yp \\<in> A", "have \"xp \\<sim> x \\<or> xp = x\""], ["proof (prove)\nusing this:\n  xp \\<in> A\n  yp \\<in> A\n\ngoal (1 subgoal):\n 1. xp \\<sim> x \\<or> xp = x", "using xpX XQx xX XQ"], ["proof (prove)\nusing this:\n  xp \\<in> A\n  yp \\<in> A\n  xp \\<in> X\n  \\<forall>X\\<in>Q. \\<forall>x\\<in>X. X = [x]\\<^sub>\\<sim>\n  x \\<in> X\n  X \\<in> Q\n\ngoal (1 subgoal):\n 1. xp \\<sim> x \\<or> xp = x", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  xp \\<sim> x \\<or> xp = x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "then"], ["proof (chain)\npicking this:\n  xp \\<sim> x \\<or> xp = x", "have xpy: \"xp \\<sqsubseteq> y\""], ["proof (prove)\nusing this:\n  xp \\<sim> x \\<or> xp = x\n\ngoal (1 subgoal):\n 1. xp \\<sqsubseteq> y", "using attract[OF _ _ xy xpA xA yA] xy"], ["proof (prove)\nusing this:\n  xp \\<sim> x \\<or> xp = x\n  \\<lbrakk>xp \\<sqsubseteq> x; x \\<sqsubseteq> xp\\<rbrakk>\n  \\<Longrightarrow> xp \\<sqsubseteq> y\n  x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. xp \\<sqsubseteq> y", "by blast"], ["proof (state)\nthis:\n  xp \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "have \"yp \\<sim> y \\<or> yp = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. yp \\<sim> y \\<or> yp = y", "using ypY XQx yY YQ"], ["proof (prove)\nusing this:\n  yp \\<in> Y\n  \\<forall>X\\<in>Q. \\<forall>x\\<in>X. X = [x]\\<^sub>\\<sim>\n  y \\<in> Y\n  Y \\<in> Q\n\ngoal (1 subgoal):\n 1. yp \\<sim> y \\<or> yp = y", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  yp \\<sim> y \\<or> yp = y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "then"], ["proof (chain)\npicking this:\n  yp \\<sim> y \\<or> yp = y", "have \"xp \\<sqsubseteq> yp\""], ["proof (prove)\nusing this:\n  yp \\<sim> y \\<or> yp = y\n\ngoal (1 subgoal):\n 1. xp \\<sqsubseteq> yp", "using dual.attract[OF _ _ xpy ypA yA xpA] xpy"], ["proof (prove)\nusing this:\n  yp \\<sim> y \\<or> yp = y\n  \\<lbrakk>y \\<sqsubseteq> yp; yp \\<sqsubseteq> y\\<rbrakk>\n  \\<Longrightarrow> xp \\<sqsubseteq> yp\n  xp \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. xp \\<sqsubseteq> yp", "by blast"], ["proof (state)\nthis:\n  xp \\<sqsubseteq> yp\n\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?xp2 \\<in> X; ?yp2 \\<in> Y\\<rbrakk>\n  \\<Longrightarrow> ?xp2 \\<sqsubseteq> ?yp2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>X \\<in> Q; Y \\<in> Q; x \\<in> X; y \\<in> Y;\n     x \\<sqsubseteq> y\\<rbrakk>\n    \\<Longrightarrow> X \\<sqsubseteq>\\<^sup>s Y", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?xp2 \\<in> X; ?yp2 \\<in> Y\\<rbrakk>\n  \\<Longrightarrow> ?xp2 \\<sqsubseteq> ?yp2", "show \"X \\<sqsubseteq>\\<^sup>s Y\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?xp2 \\<in> X; ?yp2 \\<in> Y\\<rbrakk>\n  \\<Longrightarrow> ?xp2 \\<sqsubseteq> ?yp2\n\ngoal (1 subgoal):\n 1. X \\<sqsubseteq>\\<^sup>s Y", "using XQ YQ XA YA"], ["proof (prove)\nusing this:\n  \\<lbrakk>?xp2 \\<in> X; ?yp2 \\<in> Y\\<rbrakk>\n  \\<Longrightarrow> ?xp2 \\<sqsubseteq> ?yp2\n  X \\<in> Q\n  Y \\<in> Q\n  X \\<subseteq> A\n  Y \\<subseteq> A\n\ngoal (1 subgoal):\n 1. X \\<sqsubseteq>\\<^sup>s Y", "by auto"], ["proof (state)\nthis:\n  X \\<sqsubseteq>\\<^sup>s Y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?X \\<in> Q; ?Y \\<in> Q; ?x \\<in> ?X; ?y \\<in> ?Y;\n   ?x \\<sqsubseteq> ?y\\<rbrakk>\n  \\<Longrightarrow> ?X \\<sqsubseteq>\\<^sup>s ?Y\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "have compQ: \"well_complete Q (\\<sqsubseteq>\\<^sup>s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_complete Q (\\<sqsubseteq>\\<^sup>s)", "proof (intro completeI, safe)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> Q;\n        well_related_set X (\\<sqsubseteq>\\<^sup>s)\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) X)", "fix XX"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> Q;\n        well_related_set X (\\<sqsubseteq>\\<^sup>s)\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) X)", "assume XXQ: \"XX \\<subseteq> Q\" and XX: \"well_related_set XX (\\<sqsubseteq>\\<^sup>s)\""], ["proof (state)\nthis:\n  XX \\<subseteq> Q\n  well_related_set XX (\\<sqsubseteq>\\<^sup>s)\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> Q;\n        well_related_set X (\\<sqsubseteq>\\<^sup>s)\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) X)", "have BA: \"\\<Union>XX \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> XX \\<subseteq> A", "using XXQ"], ["proof (prove)\nusing this:\n  XX \\<subseteq> Q\n\ngoal (1 subgoal):\n 1. \\<Union> XX \\<subseteq> A", "by (auto simp: Q_def ecl_def)"], ["proof (state)\nthis:\n  \\<Union> XX \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> Q;\n        well_related_set X (\\<sqsubseteq>\\<^sup>s)\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) X)", "from XX"], ["proof (chain)\npicking this:\n  well_related_set XX (\\<sqsubseteq>\\<^sup>s)", "interpret XX: well_related_set XX \"(\\<sqsubseteq>\\<^sup>s)\""], ["proof (prove)\nusing this:\n  well_related_set XX (\\<sqsubseteq>\\<^sup>s)\n\ngoal (1 subgoal):\n 1. well_related_set XX (\\<sqsubseteq>\\<^sup>s)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> Q;\n        well_related_set X (\\<sqsubseteq>\\<^sup>s)\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) X)", "interpret UXX: semiattractive \"\\<Union>XX\" \"(\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. semiattractive (\\<Union> XX) (\\<sqsubseteq>)", "by (rule semiattractive_subset[OF BA])"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> Q;\n        well_related_set X (\\<sqsubseteq>\\<^sup>s)\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) X)", "have \"well_related_set (\\<Union>XX) (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_related_set (\\<Union> XX) (\\<sqsubseteq>)", "proof(unfold_locales)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> \\<Union> XX; X \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e.\n                            extreme X (\\<lambda>x y. y \\<sqsubseteq> x) e", "fix Y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> \\<Union> XX; X \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e.\n                            extreme X (\\<lambda>x y. y \\<sqsubseteq> x) e", "assume YXX: \"Y \\<subseteq> \\<Union>XX\" and Y0: \"Y \\<noteq> {}\""], ["proof (state)\nthis:\n  Y \\<subseteq> \\<Union> XX\n  Y \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> \\<Union> XX; X \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e.\n                            extreme X (\\<lambda>x y. y \\<sqsubseteq> x) e", "have \"{X \\<in> XX. X \\<inter> Y \\<noteq> {}} \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {X \\<in> XX. X \\<inter> Y \\<noteq> {}} \\<noteq> {}", "using YXX Y0"], ["proof (prove)\nusing this:\n  Y \\<subseteq> \\<Union> XX\n  Y \\<noteq> {}\n\ngoal (1 subgoal):\n 1. {X \\<in> XX. X \\<inter> Y \\<noteq> {}} \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  {X \\<in> XX. X \\<inter> Y \\<noteq> {}} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> \\<Union> XX; X \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e.\n                            extreme X (\\<lambda>x y. y \\<sqsubseteq> x) e", "from XX.nonempty_imp_ex_extreme[OF _ this]"], ["proof (chain)\npicking this:\n  {X \\<in> XX. X \\<inter> Y \\<noteq> {}} \\<subseteq> XX \\<Longrightarrow>\n  \\<exists>e.\n     extreme {X \\<in> XX. X \\<inter> Y \\<noteq> {}}\n      (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) e", "obtain E where E: \"extreme {X \\<in> XX. X \\<inter> Y \\<noteq> {}} (\\<sqsubseteq>\\<^sup>s)\\<^sup>- E\""], ["proof (prove)\nusing this:\n  {X \\<in> XX. X \\<inter> Y \\<noteq> {}} \\<subseteq> XX \\<Longrightarrow>\n  \\<exists>e.\n     extreme {X \\<in> XX. X \\<inter> Y \\<noteq> {}}\n      (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) e\n\ngoal (1 subgoal):\n 1. (\\<And>E.\n        extreme {X \\<in> XX. X \\<inter> Y \\<noteq> {}}\n         (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) E \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  extreme {X \\<in> XX. X \\<inter> Y \\<noteq> {}}\n   (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) E\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> \\<Union> XX; X \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e.\n                            extreme X (\\<lambda>x y. y \\<sqsubseteq> x) e", "then"], ["proof (chain)\npicking this:\n  extreme {X \\<in> XX. X \\<inter> Y \\<noteq> {}}\n   (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) E", "have \"E \\<inter> Y \\<noteq> {}\""], ["proof (prove)\nusing this:\n  extreme {X \\<in> XX. X \\<inter> Y \\<noteq> {}}\n   (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) E\n\ngoal (1 subgoal):\n 1. E \\<inter> Y \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  E \\<inter> Y \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> \\<Union> XX; X \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e.\n                            extreme X (\\<lambda>x y. y \\<sqsubseteq> x) e", "then"], ["proof (chain)\npicking this:\n  E \\<inter> Y \\<noteq> {}", "obtain e where eE: \"e \\<in> E\" and eX: \"e \\<in> Y\""], ["proof (prove)\nusing this:\n  E \\<inter> Y \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>e \\<in> E; e \\<in> Y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  e \\<in> E\n  e \\<in> Y\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> \\<Union> XX; X \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e.\n                            extreme X (\\<lambda>x y. y \\<sqsubseteq> x) e", "have \"extreme Y (\\<sqsupseteq>) e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extreme Y (\\<lambda>x y. y \\<sqsubseteq> x) e", "proof (intro extremeI eX)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Y \\<Longrightarrow> e \\<sqsubseteq> x", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Y \\<Longrightarrow> e \\<sqsubseteq> x", "assume xY: \"x \\<in> Y\""], ["proof (state)\nthis:\n  x \\<in> Y\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Y \\<Longrightarrow> e \\<sqsubseteq> x", "with YXX"], ["proof (chain)\npicking this:\n  Y \\<subseteq> \\<Union> XX\n  x \\<in> Y", "obtain X where XXX: \"X \\<in> XX\" and xX: \"x \\<in> X\""], ["proof (prove)\nusing this:\n  Y \\<subseteq> \\<Union> XX\n  x \\<in> Y\n\ngoal (1 subgoal):\n 1. (\\<And>X.\n        \\<lbrakk>X \\<in> XX; x \\<in> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  X \\<in> XX\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Y \\<Longrightarrow> e \\<sqsubseteq> x", "with xY E XXX"], ["proof (chain)\npicking this:\n  x \\<in> Y\n  extreme {X \\<in> XX. X \\<inter> Y \\<noteq> {}}\n   (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) E\n  X \\<in> XX\n  X \\<in> XX\n  x \\<in> X", "have \"E \\<sqsubseteq>\\<^sup>s X\""], ["proof (prove)\nusing this:\n  x \\<in> Y\n  extreme {X \\<in> XX. X \\<inter> Y \\<noteq> {}}\n   (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) E\n  X \\<in> XX\n  X \\<in> XX\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. E \\<sqsubseteq>\\<^sup>s X", "by auto"], ["proof (state)\nthis:\n  E \\<sqsubseteq>\\<^sup>s X\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Y \\<Longrightarrow> e \\<sqsubseteq> x", "with eE xX"], ["proof (chain)\npicking this:\n  e \\<in> E\n  x \\<in> X\n  E \\<sqsubseteq>\\<^sup>s X", "show \"e \\<sqsubseteq> x\""], ["proof (prove)\nusing this:\n  e \\<in> E\n  x \\<in> X\n  E \\<sqsubseteq>\\<^sup>s X\n\ngoal (1 subgoal):\n 1. e \\<sqsubseteq> x", "by auto"], ["proof (state)\nthis:\n  e \\<sqsubseteq> x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  extreme Y (\\<lambda>x y. y \\<sqsubseteq> x) e\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> \\<Union> XX; X \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>e.\n                            extreme X (\\<lambda>x y. y \\<sqsubseteq> x) e", "then"], ["proof (chain)\npicking this:\n  extreme Y (\\<lambda>x y. y \\<sqsubseteq> x) e", "show \"\\<exists>e. extreme Y (\\<sqsupseteq>) e\""], ["proof (prove)\nusing this:\n  extreme Y (\\<lambda>x y. y \\<sqsubseteq> x) e\n\ngoal (1 subgoal):\n 1. \\<exists>e. extreme Y (\\<lambda>x y. y \\<sqsubseteq> x) e", "by auto"], ["proof (state)\nthis:\n  \\<exists>e. extreme Y (\\<lambda>x y. y \\<sqsubseteq> x) e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  well_related_set (\\<Union> XX) (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> Q;\n        well_related_set X (\\<sqsubseteq>\\<^sup>s)\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) X)", "with completeD[OF comp BA]"], ["proof (chain)\npicking this:\n  \\<Union> XX\n  \\<in> {X. well_related_set X (\\<sqsubseteq>)} \\<Longrightarrow>\n  Ex (extreme_bound A (\\<sqsubseteq>) (\\<Union> XX))\n  well_related_set (\\<Union> XX) (\\<sqsubseteq>)", "obtain b where extb: \"extreme_bound A (\\<sqsubseteq>) (\\<Union>XX) b\""], ["proof (prove)\nusing this:\n  \\<Union> XX\n  \\<in> {X. well_related_set X (\\<sqsubseteq>)} \\<Longrightarrow>\n  Ex (extreme_bound A (\\<sqsubseteq>) (\\<Union> XX))\n  well_related_set (\\<Union> XX) (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. (\\<And>b.\n        extreme_bound A (\\<sqsubseteq>) (\\<Union> XX) b \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  extreme_bound A (\\<sqsubseteq>) (\\<Union> XX) b\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> Q;\n        well_related_set X (\\<sqsubseteq>\\<^sup>s)\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) X)", "then"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) (\\<Union> XX) b", "have bb: \"b \\<sqsubseteq> b\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) (\\<Union> XX) b\n\ngoal (1 subgoal):\n 1. b \\<sqsubseteq> b", "using extreme_def bound_def"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) (\\<Union> XX) b\n  extreme ?X ?r ?e \\<equiv> ?e \\<in> ?X \\<and> (\\<forall>x\\<in>?X. ?r x ?e)\n  bound ?X ?r ?b \\<equiv> \\<forall>x\\<in>?X. ?r x ?b\n\ngoal (1 subgoal):\n 1. b \\<sqsubseteq> b", "by auto"], ["proof (state)\nthis:\n  b \\<sqsubseteq> b\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> Q;\n        well_related_set X (\\<sqsubseteq>\\<^sup>s)\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) X)", "have bA: \"b \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<in> A", "using extb extreme_def"], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) (\\<Union> XX) b\n  extreme ?X ?r ?e \\<equiv> ?e \\<in> ?X \\<and> (\\<forall>x\\<in>?X. ?r x ?e)\n\ngoal (1 subgoal):\n 1. b \\<in> A", "by auto"], ["proof (state)\nthis:\n  b \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> Q;\n        well_related_set X (\\<sqsubseteq>\\<^sup>s)\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) X)", "then"], ["proof (chain)\npicking this:\n  b \\<in> A", "have XQ: \"[b]\\<^sub>\\<sim> \\<in> Q\""], ["proof (prove)\nusing this:\n  b \\<in> A\n\ngoal (1 subgoal):\n 1. [b]\\<^sub>\\<sim> \\<in> Q", "using Q_def bA"], ["proof (prove)\nusing this:\n  b \\<in> A\n  Q \\<equiv> ecl ` A\n  b \\<in> A\n\ngoal (1 subgoal):\n 1. [b]\\<^sub>\\<sim> \\<in> Q", "by auto"], ["proof (state)\nthis:\n  [b]\\<^sub>\\<sim> \\<in> Q\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> Q;\n        well_related_set X (\\<sqsubseteq>\\<^sup>s)\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) X)", "have bX: \"b \\<in> [b]\\<^sub>\\<sim>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<in> [b]\\<^sub>\\<sim>", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  b \\<in> [b]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> Q;\n        well_related_set X (\\<sqsubseteq>\\<^sup>s)\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) X)", "have \"extreme_bound Q (\\<sqsubseteq>\\<^sup>s) XX [b]\\<^sub>\\<sim>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extreme_bound Q (\\<sqsubseteq>\\<^sup>s) XX [b]\\<^sub>\\<sim>", "proof(intro extreme_boundI)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba\n 2. \\<And>x.\n       x \\<in> XX \\<Longrightarrow> x \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>\n 3. [b]\\<^sub>\\<sim> \\<in> Q", "show \"[b]\\<^sub>\\<sim> \\<in> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [b]\\<^sub>\\<sim> \\<in> Q", "using XQ"], ["proof (prove)\nusing this:\n  [b]\\<^sub>\\<sim> \\<in> Q\n\ngoal (1 subgoal):\n 1. [b]\\<^sub>\\<sim> \\<in> Q", "."], ["proof (state)\nthis:\n  [b]\\<^sub>\\<sim> \\<in> Q\n\ngoal (2 subgoals):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba\n 2. \\<And>x.\n       x \\<in> XX \\<Longrightarrow> x \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba\n 2. \\<And>x.\n       x \\<in> XX \\<Longrightarrow> x \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>", "fix Y"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba\n 2. \\<And>x.\n       x \\<in> XX \\<Longrightarrow> x \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>", "assume YXX: \"Y \\<in> XX\""], ["proof (state)\nthis:\n  Y \\<in> XX\n\ngoal (2 subgoals):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba\n 2. \\<And>x.\n       x \\<in> XX \\<Longrightarrow> x \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>", "then"], ["proof (chain)\npicking this:\n  Y \\<in> XX", "have YQ: \"Y \\<in> Q\""], ["proof (prove)\nusing this:\n  Y \\<in> XX\n\ngoal (1 subgoal):\n 1. Y \\<in> Q", "using XXQ"], ["proof (prove)\nusing this:\n  Y \\<in> XX\n  XX \\<subseteq> Q\n\ngoal (1 subgoal):\n 1. Y \\<in> Q", "by auto"], ["proof (state)\nthis:\n  Y \\<in> Q\n\ngoal (2 subgoals):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba\n 2. \\<And>x.\n       x \\<in> XX \\<Longrightarrow> x \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>", "then"], ["proof (chain)\npicking this:\n  Y \\<in> Q", "obtain y where yA: \"y \\<in> A\" and Yy: \"Y = [y]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  Y \\<in> Q\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<in> A; Y = [y]\\<^sub>\\<sim>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: Q_def)"], ["proof (state)\nthis:\n  y \\<in> A\n  Y = [y]\\<^sub>\\<sim>\n\ngoal (2 subgoals):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba\n 2. \\<And>x.\n       x \\<in> XX \\<Longrightarrow> x \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>", "then"], ["proof (chain)\npicking this:\n  y \\<in> A\n  Y = [y]\\<^sub>\\<sim>", "have yY: \"y \\<in> Y\""], ["proof (prove)\nusing this:\n  y \\<in> A\n  Y = [y]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. y \\<in> Y", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  y \\<in> Y\n\ngoal (2 subgoals):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba\n 2. \\<And>x.\n       x \\<in> XX \\<Longrightarrow> x \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>", "then"], ["proof (chain)\npicking this:\n  y \\<in> Y", "have \"y \\<in> \\<Union>XX\""], ["proof (prove)\nusing this:\n  y \\<in> Y\n\ngoal (1 subgoal):\n 1. y \\<in> \\<Union> XX", "using yY YXX"], ["proof (prove)\nusing this:\n  y \\<in> Y\n  y \\<in> Y\n  Y \\<in> XX\n\ngoal (1 subgoal):\n 1. y \\<in> \\<Union> XX", "by auto"], ["proof (state)\nthis:\n  y \\<in> \\<Union> XX\n\ngoal (2 subgoals):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba\n 2. \\<And>x.\n       x \\<in> XX \\<Longrightarrow> x \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>", "then"], ["proof (chain)\npicking this:\n  y \\<in> \\<Union> XX", "have \"y \\<sqsubseteq> b\""], ["proof (prove)\nusing this:\n  y \\<in> \\<Union> XX\n\ngoal (1 subgoal):\n 1. y \\<sqsubseteq> b", "using extb"], ["proof (prove)\nusing this:\n  y \\<in> \\<Union> XX\n  extreme_bound A (\\<sqsubseteq>) (\\<Union> XX) b\n\ngoal (1 subgoal):\n 1. y \\<sqsubseteq> b", "by auto"], ["proof (state)\nthis:\n  y \\<sqsubseteq> b\n\ngoal (2 subgoals):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba\n 2. \\<And>x.\n       x \\<in> XX \\<Longrightarrow> x \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>", "then"], ["proof (chain)\npicking this:\n  y \\<sqsubseteq> b", "show \"Y \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  y \\<sqsubseteq> b\n\ngoal (1 subgoal):\n 1. Y \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>", "using RSLE_eq[OF YQ XQ yY bX]"], ["proof (prove)\nusing this:\n  y \\<sqsubseteq> b\n  y \\<sqsubseteq> b \\<Longrightarrow>\n  Y \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. Y \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>", "by auto"], ["proof (state)\nthis:\n  Y \\<sqsubseteq>\\<^sup>s [b]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "fix Z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "assume boundZ: \"bound XX (\\<sqsubseteq>\\<^sup>s) Z\" and ZQ: \"Z \\<in> Q\""], ["proof (state)\nthis:\n  bound XX (\\<sqsubseteq>\\<^sup>s) Z\n  Z \\<in> Q\n\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "then"], ["proof (chain)\npicking this:\n  bound XX (\\<sqsubseteq>\\<^sup>s) Z\n  Z \\<in> Q", "obtain z where zA: \"z \\<in> A\" and Zz: \"Z = [z]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  bound XX (\\<sqsubseteq>\\<^sup>s) Z\n  Z \\<in> Q\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>z \\<in> A; Z = [z]\\<^sub>\\<sim>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: Q_def)"], ["proof (state)\nthis:\n  z \\<in> A\n  Z = [z]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "then"], ["proof (chain)\npicking this:\n  z \\<in> A\n  Z = [z]\\<^sub>\\<sim>", "have zZ: \"z \\<in> Z\""], ["proof (prove)\nusing this:\n  z \\<in> A\n  Z = [z]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. z \\<in> Z", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  z \\<in> Z\n\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "{"], ["proof (state)\nthis:\n  z \\<in> Z\n\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "assume \"y \\<in> \\<Union>XX\""], ["proof (state)\nthis:\n  y \\<in> \\<Union> XX\n\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "then"], ["proof (chain)\npicking this:\n  y \\<in> \\<Union> XX", "obtain Y where yY: \"y \\<in> Y\" and YXX: \"Y \\<in> XX\""], ["proof (prove)\nusing this:\n  y \\<in> \\<Union> XX\n\ngoal (1 subgoal):\n 1. (\\<And>Y.\n        \\<lbrakk>y \\<in> Y; Y \\<in> XX\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  y \\<in> Y\n  Y \\<in> XX\n\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "then"], ["proof (chain)\npicking this:\n  y \\<in> Y\n  Y \\<in> XX", "have YA: \"Y \\<subseteq> A\""], ["proof (prove)\nusing this:\n  y \\<in> Y\n  Y \\<in> XX\n\ngoal (1 subgoal):\n 1. Y \\<subseteq> A", "using XXQ Q_def"], ["proof (prove)\nusing this:\n  y \\<in> Y\n  Y \\<in> XX\n  XX \\<subseteq> Q\n  Q \\<equiv> ecl ` A\n\ngoal (1 subgoal):\n 1. Y \\<subseteq> A", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  Y \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "then"], ["proof (chain)\npicking this:\n  Y \\<subseteq> A", "have \"Y \\<sqsubseteq>\\<^sup>s Z\""], ["proof (prove)\nusing this:\n  Y \\<subseteq> A\n\ngoal (1 subgoal):\n 1. Y \\<sqsubseteq>\\<^sup>s Z", "using YXX boundZ bound_def"], ["proof (prove)\nusing this:\n  Y \\<subseteq> A\n  Y \\<in> XX\n  bound XX (\\<sqsubseteq>\\<^sup>s) Z\n  bound ?X ?r ?b \\<equiv> \\<forall>x\\<in>?X. ?r x ?b\n\ngoal (1 subgoal):\n 1. Y \\<sqsubseteq>\\<^sup>s Z", "by auto"], ["proof (state)\nthis:\n  Y \\<sqsubseteq>\\<^sup>s Z\n\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "then"], ["proof (chain)\npicking this:\n  Y \\<sqsubseteq>\\<^sup>s Z", "have \"y \\<sqsubseteq> z\""], ["proof (prove)\nusing this:\n  Y \\<sqsubseteq>\\<^sup>s Z\n\ngoal (1 subgoal):\n 1. y \\<sqsubseteq> z", "using yY zZ"], ["proof (prove)\nusing this:\n  Y \\<sqsubseteq>\\<^sup>s Z\n  y \\<in> Y\n  z \\<in> Z\n\ngoal (1 subgoal):\n 1. y \\<sqsubseteq> z", "by auto"], ["proof (state)\nthis:\n  y \\<sqsubseteq> z\n\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "}"], ["proof (state)\nthis:\n  ?y2 \\<in> \\<Union> XX \\<Longrightarrow> ?y2 \\<sqsubseteq> z\n\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "then"], ["proof (chain)\npicking this:\n  ?y2 \\<in> \\<Union> XX \\<Longrightarrow> ?y2 \\<sqsubseteq> z", "have \"bound (\\<Union>XX) (\\<sqsubseteq>) z\""], ["proof (prove)\nusing this:\n  ?y2 \\<in> \\<Union> XX \\<Longrightarrow> ?y2 \\<sqsubseteq> z\n\ngoal (1 subgoal):\n 1. bound (\\<Union> XX) (\\<sqsubseteq>) z", "by auto"], ["proof (state)\nthis:\n  bound (\\<Union> XX) (\\<sqsubseteq>) z\n\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "then"], ["proof (chain)\npicking this:\n  bound (\\<Union> XX) (\\<sqsubseteq>) z", "have \"b \\<sqsubseteq> z\""], ["proof (prove)\nusing this:\n  bound (\\<Union> XX) (\\<sqsubseteq>) z\n\ngoal (1 subgoal):\n 1. b \\<sqsubseteq> z", "using extb zA"], ["proof (prove)\nusing this:\n  bound (\\<Union> XX) (\\<sqsubseteq>) z\n  extreme_bound A (\\<sqsubseteq>) (\\<Union> XX) b\n  z \\<in> A\n\ngoal (1 subgoal):\n 1. b \\<sqsubseteq> z", "by auto"], ["proof (state)\nthis:\n  b \\<sqsubseteq> z\n\ngoal (1 subgoal):\n 1. \\<And>ba.\n       \\<lbrakk>bound XX (\\<sqsubseteq>\\<^sup>s) ba; ba \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s ba", "then"], ["proof (chain)\npicking this:\n  b \\<sqsubseteq> z", "show \"[b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s Z\""], ["proof (prove)\nusing this:\n  b \\<sqsubseteq> z\n\ngoal (1 subgoal):\n 1. [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s Z", "using RSLE_eq[OF XQ ZQ bX zZ]"], ["proof (prove)\nusing this:\n  b \\<sqsubseteq> z\n  b \\<sqsubseteq> z \\<Longrightarrow>\n  [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s Z\n\ngoal (1 subgoal):\n 1. [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s Z", "by auto"], ["proof (state)\nthis:\n  [b]\\<^sub>\\<sim> \\<sqsubseteq>\\<^sup>s Z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  extreme_bound Q (\\<sqsubseteq>\\<^sup>s) XX [b]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> Q;\n        well_related_set X (\\<sqsubseteq>\\<^sup>s)\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) X)", "then"], ["proof (chain)\npicking this:\n  extreme_bound Q (\\<sqsubseteq>\\<^sup>s) XX [b]\\<^sub>\\<sim>", "show \"Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) XX)\""], ["proof (prove)\nusing this:\n  extreme_bound Q (\\<sqsubseteq>\\<^sup>s) XX [b]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) XX)", "by auto"], ["proof (state)\nthis:\n  Ex (extreme_bound Q (\\<sqsubseteq>\\<^sup>s) XX)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  well_complete Q (\\<sqsubseteq>\\<^sup>s)\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "interpret Q: antisymmetric Q \"(\\<sqsubseteq>\\<^sup>s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. antisymmetric Q (\\<sqsubseteq>\\<^sup>s)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<sqsubseteq>\\<^sup>s y; y \\<sqsubseteq>\\<^sup>s x;\n        x \\<in> Q; y \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> x = y", "fix X Y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<sqsubseteq>\\<^sup>s y; y \\<sqsubseteq>\\<^sup>s x;\n        x \\<in> Q; y \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> x = y", "assume XY: \"X \\<sqsubseteq>\\<^sup>s Y\" and YX: \"Y \\<sqsubseteq>\\<^sup>s X\" and XQ: \"X \\<in> Q\" and YQ: \"Y \\<in> Q\""], ["proof (state)\nthis:\n  X \\<sqsubseteq>\\<^sup>s Y\n  Y \\<sqsubseteq>\\<^sup>s X\n  X \\<in> Q\n  Y \\<in> Q\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<sqsubseteq>\\<^sup>s y; y \\<sqsubseteq>\\<^sup>s x;\n        x \\<in> Q; y \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> x = y", "then"], ["proof (chain)\npicking this:\n  X \\<sqsubseteq>\\<^sup>s Y\n  Y \\<sqsubseteq>\\<^sup>s X\n  X \\<in> Q\n  Y \\<in> Q", "obtain q where qA: \"q \\<in> A\" and X: \"X = [q]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  X \\<sqsubseteq>\\<^sup>s Y\n  Y \\<sqsubseteq>\\<^sup>s X\n  X \\<in> Q\n  Y \\<in> Q\n\ngoal (1 subgoal):\n 1. (\\<And>q.\n        \\<lbrakk>q \\<in> A; X = [q]\\<^sub>\\<sim>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Q_def"], ["proof (prove)\nusing this:\n  X \\<sqsubseteq>\\<^sup>s Y\n  Y \\<sqsubseteq>\\<^sup>s X\n  X \\<in> Q\n  Y \\<in> Q\n  Q \\<equiv> ecl ` A\n\ngoal (1 subgoal):\n 1. (\\<And>q.\n        \\<lbrakk>q \\<in> A; X = [q]\\<^sub>\\<sim>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  q \\<in> A\n  X = [q]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<sqsubseteq>\\<^sup>s y; y \\<sqsubseteq>\\<^sup>s x;\n        x \\<in> Q; y \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> x = y", "then"], ["proof (chain)\npicking this:\n  q \\<in> A\n  X = [q]\\<^sub>\\<sim>", "have qX: \"q \\<in> X\""], ["proof (prove)\nusing this:\n  q \\<in> A\n  X = [q]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. q \\<in> X", "using X"], ["proof (prove)\nusing this:\n  q \\<in> A\n  X = [q]\\<^sub>\\<sim>\n  X = [q]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. q \\<in> X", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  q \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<sqsubseteq>\\<^sup>s y; y \\<sqsubseteq>\\<^sup>s x;\n        x \\<in> Q; y \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> x = y", "then"], ["proof (chain)\npicking this:\n  q \\<in> X", "obtain p where pA: \"p \\<in> A\" and Y: \"Y = [p]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  q \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>p \\<in> A; Y = [p]\\<^sub>\\<sim>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using YQ Q_def"], ["proof (prove)\nusing this:\n  q \\<in> X\n  Y \\<in> Q\n  Q \\<equiv> ecl ` A\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>p \\<in> A; Y = [p]\\<^sub>\\<sim>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  p \\<in> A\n  Y = [p]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<sqsubseteq>\\<^sup>s y; y \\<sqsubseteq>\\<^sup>s x;\n        x \\<in> Q; y \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> x = y", "then"], ["proof (chain)\npicking this:\n  p \\<in> A\n  Y = [p]\\<^sub>\\<sim>", "have pY: \"p \\<in> Y\""], ["proof (prove)\nusing this:\n  p \\<in> A\n  Y = [p]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. p \\<in> Y", "using X"], ["proof (prove)\nusing this:\n  p \\<in> A\n  Y = [p]\\<^sub>\\<sim>\n  X = [q]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. p \\<in> Y", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  p \\<in> Y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<sqsubseteq>\\<^sup>s y; y \\<sqsubseteq>\\<^sup>s x;\n        x \\<in> Q; y \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> x = y", "have pq: \"p \\<sqsubseteq> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<sqsubseteq> q", "using  XQ YQ YX qX pY"], ["proof (prove)\nusing this:\n  X \\<in> Q\n  Y \\<in> Q\n  Y \\<sqsubseteq>\\<^sup>s X\n  q \\<in> X\n  p \\<in> Y\n\ngoal (1 subgoal):\n 1. p \\<sqsubseteq> q", "by auto"], ["proof (state)\nthis:\n  p \\<sqsubseteq> q\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<sqsubseteq>\\<^sup>s y; y \\<sqsubseteq>\\<^sup>s x;\n        x \\<in> Q; y \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> x = y", "have \"q \\<sqsubseteq> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. q \\<sqsubseteq> p", "using XQ YQ XY qX pY"], ["proof (prove)\nusing this:\n  X \\<in> Q\n  Y \\<in> Q\n  X \\<sqsubseteq>\\<^sup>s Y\n  q \\<in> X\n  p \\<in> Y\n\ngoal (1 subgoal):\n 1. q \\<sqsubseteq> p", "by auto"], ["proof (state)\nthis:\n  q \\<sqsubseteq> p\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<sqsubseteq>\\<^sup>s y; y \\<sqsubseteq>\\<^sup>s x;\n        x \\<in> Q; y \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> x = y", "then"], ["proof (chain)\npicking this:\n  q \\<sqsubseteq> p", "have \"p \\<in> X\""], ["proof (prove)\nusing this:\n  q \\<sqsubseteq> p\n\ngoal (1 subgoal):\n 1. p \\<in> X", "using pq X pA"], ["proof (prove)\nusing this:\n  q \\<sqsubseteq> p\n  p \\<sqsubseteq> q\n  X = [q]\\<^sub>\\<sim>\n  p \\<in> A\n\ngoal (1 subgoal):\n 1. p \\<in> X", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  p \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<sqsubseteq>\\<^sup>s y; y \\<sqsubseteq>\\<^sup>s x;\n        x \\<in> Q; y \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> x = y", "then"], ["proof (chain)\npicking this:\n  p \\<in> X", "have \"X = [p]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  p \\<in> X\n\ngoal (1 subgoal):\n 1. X = [p]\\<^sub>\\<sim>", "using XQ XQx"], ["proof (prove)\nusing this:\n  p \\<in> X\n  X \\<in> Q\n  \\<forall>X\\<in>Q. \\<forall>x\\<in>X. X = [x]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. X = [p]\\<^sub>\\<sim>", "by auto"], ["proof (state)\nthis:\n  X = [p]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<sqsubseteq>\\<^sup>s y; y \\<sqsubseteq>\\<^sup>s x;\n        x \\<in> Q; y \\<in> Q\\<rbrakk>\n       \\<Longrightarrow> x = y", "then"], ["proof (chain)\npicking this:\n  X = [p]\\<^sub>\\<sim>", "show \"X = Y\""], ["proof (prove)\nusing this:\n  X = [p]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. X = Y", "using Y"], ["proof (prove)\nusing this:\n  X = [p]\\<^sub>\\<sim>\n  Y = [p]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. X = Y", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  X = Y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "define F where \"F X \\<equiv> {y \\<in> A. \\<exists>x \\<in> X. y \\<sim> f x} \\<union> f ` X\" for X"], ["proof (state)\nthis:\n  F ?X \\<equiv> {y \\<in> A. \\<exists>x\\<in>?X. y \\<sim> f x} \\<union> f ` ?X\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "have XQFXQ: \"\\<And>X. X \\<in> Q \\<Longrightarrow> F X \\<in> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>X. X \\<in> Q \\<Longrightarrow> F X \\<in> Q", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X. X \\<in> Q \\<Longrightarrow> F X \\<in> Q", "fix X"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X. X \\<in> Q \\<Longrightarrow> F X \\<in> Q", "assume XQ: \"X \\<in> Q\""], ["proof (state)\nthis:\n  X \\<in> Q\n\ngoal (1 subgoal):\n 1. \\<And>X. X \\<in> Q \\<Longrightarrow> F X \\<in> Q", "then"], ["proof (chain)\npicking this:\n  X \\<in> Q", "obtain x where xA: \"x \\<in> A\" and X: \"X = [x]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  X \\<in> Q\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in> A; X = [x]\\<^sub>\\<sim>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Q_def"], ["proof (prove)\nusing this:\n  X \\<in> Q\n  Q \\<equiv> ecl ` A\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in> A; X = [x]\\<^sub>\\<sim>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n  X = [x]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<And>X. X \\<in> Q \\<Longrightarrow> F X \\<in> Q", "then"], ["proof (chain)\npicking this:\n  x \\<in> A\n  X = [x]\\<^sub>\\<sim>", "have xX: \"x \\<in> X\""], ["proof (prove)\nusing this:\n  x \\<in> A\n  X = [x]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>X. X \\<in> Q \\<Longrightarrow> F X \\<in> Q", "have fxA: \"f x \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x \\<in> A", "using xA f"], ["proof (prove)\nusing this:\n  x \\<in> A\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. f x \\<in> A", "by auto"], ["proof (state)\nthis:\n  f x \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>X. X \\<in> Q \\<Longrightarrow> F X \\<in> Q", "have FXA: \"F X \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F X \\<subseteq> A", "using f fxA X"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n  f x \\<in> A\n  X = [x]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. F X \\<subseteq> A", "by (auto simp: F_def ecl_def)"], ["proof (state)\nthis:\n  F X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>X. X \\<in> Q \\<Longrightarrow> F X \\<in> Q", "have \"F X = [f x]\\<^sub>\\<sim>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F X = [f x]\\<^sub>\\<sim>", "proof (unfold X, intro equalityI subsetI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> F [x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> [f x]\\<^sub>\\<sim>\n 2. \\<And>xa.\n       xa \\<in> [f x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> F [x]\\<^sub>\\<sim>", "fix z"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> F [x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> [f x]\\<^sub>\\<sim>\n 2. \\<And>xa.\n       xa \\<in> [f x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> F [x]\\<^sub>\\<sim>", "assume zFX: \"z \\<in> F [x]\\<^sub>\\<sim>\""], ["proof (state)\nthis:\n  z \\<in> F [x]\\<^sub>\\<sim>\n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> F [x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> [f x]\\<^sub>\\<sim>\n 2. \\<And>xa.\n       xa \\<in> [f x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> F [x]\\<^sub>\\<sim>", "then"], ["proof (chain)\npicking this:\n  z \\<in> F [x]\\<^sub>\\<sim>", "obtain y where yX: \"y \\<in> [x]\\<^sub>\\<sim>\" and zfy: \"z \\<sim> f y \\<or> z = f y\""], ["proof (prove)\nusing this:\n  z \\<in> F [x]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<in> [x]\\<^sub>\\<sim>;\n         z \\<sim> f y \\<or> z = f y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: F_def)"], ["proof (state)\nthis:\n  y \\<in> [x]\\<^sub>\\<sim>\n  z \\<sim> f y \\<or> z = f y\n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> F [x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> [f x]\\<^sub>\\<sim>\n 2. \\<And>xa.\n       xa \\<in> [f x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> F [x]\\<^sub>\\<sim>", "have yA: \"y \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> A", "using yX xA"], ["proof (prove)\nusing this:\n  y \\<in> [x]\\<^sub>\\<sim>\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. y \\<in> A", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  y \\<in> A\n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> F [x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> [f x]\\<^sub>\\<sim>\n 2. \\<And>xa.\n       xa \\<in> [f x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> F [x]\\<^sub>\\<sim>", "with f"], ["proof (chain)\npicking this:\n  f ` A \\<subseteq> A\n  y \\<in> A", "have fyA: \"f y \\<in> A\""], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. f y \\<in> A", "by auto"], ["proof (state)\nthis:\n  f y \\<in> A\n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> F [x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> [f x]\\<^sub>\\<sim>\n 2. \\<And>xa.\n       xa \\<in> [f x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> F [x]\\<^sub>\\<sim>", "have zA: \"z \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<in> A", "using zFX FXA"], ["proof (prove)\nusing this:\n  z \\<in> F [x]\\<^sub>\\<sim>\n  F X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. z \\<in> A", "by (auto simp: X)"], ["proof (state)\nthis:\n  z \\<in> A\n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> F [x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> [f x]\\<^sub>\\<sim>\n 2. \\<And>xa.\n       xa \\<in> [f x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> F [x]\\<^sub>\\<sim>", "have \"y \\<sim> x \\<or> y = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<sim> x \\<or> y = x", "using X yX"], ["proof (prove)\nusing this:\n  X = [x]\\<^sub>\\<sim>\n  y \\<in> [x]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. y \\<sim> x \\<or> y = x", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  y \\<sim> x \\<or> y = x\n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> F [x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> [f x]\\<^sub>\\<sim>\n 2. \\<And>xa.\n       xa \\<in> [f x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> F [x]\\<^sub>\\<sim>", "then"], ["proof (chain)\npicking this:\n  y \\<sim> x \\<or> y = x", "have \"f y \\<sim> f x \\<or> f y = f x\""], ["proof (prove)\nusing this:\n  y \\<sim> x \\<or> y = x\n\ngoal (1 subgoal):\n 1. f y \\<sim> f x \\<or> f y = f x", "using mono xA yA"], ["proof (prove)\nusing this:\n  y \\<sim> x \\<or> y = x\n  monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. f y \\<sim> f x \\<or> f y = f x", "by (auto simp: monotone_on_def)"], ["proof (state)\nthis:\n  f y \\<sim> f x \\<or> f y = f x\n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> F [x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> [f x]\\<^sub>\\<sim>\n 2. \\<And>xa.\n       xa \\<in> [f x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> F [x]\\<^sub>\\<sim>", "then"], ["proof (chain)\npicking this:\n  f y \\<sim> f x \\<or> f y = f x", "have \"z \\<sim> f x \\<or> z = f x\""], ["proof (prove)\nusing this:\n  f y \\<sim> f x \\<or> f y = f x\n\ngoal (1 subgoal):\n 1. z \\<sim> f x \\<or> z = f x", "using zfy sym.trans[OF _ _ zA fyA fxA]"], ["proof (prove)\nusing this:\n  f y \\<sim> f x \\<or> f y = f x\n  z \\<sim> f y \\<or> z = f y\n  \\<lbrakk>z \\<sim> f y; f y \\<sim> f x\\<rbrakk>\n  \\<Longrightarrow> z \\<sim> f x\n\ngoal (1 subgoal):\n 1. z \\<sim> f x \\<or> z = f x", "by (auto simp:)"], ["proof (state)\nthis:\n  z \\<sim> f x \\<or> z = f x\n\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> F [x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> [f x]\\<^sub>\\<sim>\n 2. \\<And>xa.\n       xa \\<in> [f x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> F [x]\\<^sub>\\<sim>", "with zA"], ["proof (chain)\npicking this:\n  z \\<in> A\n  z \\<sim> f x \\<or> z = f x", "show \"z \\<in> [f x]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  z \\<in> A\n  z \\<sim> f x \\<or> z = f x\n\ngoal (1 subgoal):\n 1. z \\<in> [f x]\\<^sub>\\<sim>", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  z \\<in> [f x]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> [f x]\\<^sub>\\<sim> \\<Longrightarrow>\n       xa \\<in> F [x]\\<^sub>\\<sim>", "qed (auto simp: xX F_def ecl_def)"], ["proof (state)\nthis:\n  F X = [f x]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<And>X. X \\<in> Q \\<Longrightarrow> F X \\<in> Q", "with FXA"], ["proof (chain)\npicking this:\n  F X \\<subseteq> A\n  F X = [f x]\\<^sub>\\<sim>", "show \"F X \\<in> Q\""], ["proof (prove)\nusing this:\n  F X \\<subseteq> A\n  F X = [f x]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. F X \\<in> Q", "by (auto simp: Q_def ecl_def)"], ["proof (state)\nthis:\n  F X \\<in> Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?X \\<in> Q \\<Longrightarrow> F ?X \\<in> Q\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  ?X \\<in> Q \\<Longrightarrow> F ?X \\<in> Q", "have F: \"F ` Q \\<subseteq> Q\""], ["proof (prove)\nusing this:\n  ?X \\<in> Q \\<Longrightarrow> F ?X \\<in> Q\n\ngoal (1 subgoal):\n 1. F ` Q \\<subseteq> Q", "by auto"], ["proof (state)\nthis:\n  F ` Q \\<subseteq> Q\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  F ` Q \\<subseteq> Q", "interpret Q: fixed_point_proof Q \"(\\<sqsubseteq>\\<^sup>s)\" F"], ["proof (prove)\nusing this:\n  F ` Q \\<subseteq> Q\n\ngoal (1 subgoal):\n 1. fixed_point_proof Q F", "by unfold_locales"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "have monoQ: \"monotone_on Q (\\<sqsubseteq>\\<^sup>s) (\\<sqsubseteq>\\<^sup>s) F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. monotone_on Q (\\<sqsubseteq>\\<^sup>s) (\\<sqsubseteq>\\<^sup>s) F", "proof (intro monotone_onI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> Q; y \\<in> Q; x \\<sqsubseteq>\\<^sup>s y\\<rbrakk>\n       \\<Longrightarrow> F x \\<sqsubseteq>\\<^sup>s F y", "fix X Y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> Q; y \\<in> Q; x \\<sqsubseteq>\\<^sup>s y\\<rbrakk>\n       \\<Longrightarrow> F x \\<sqsubseteq>\\<^sup>s F y", "assume XQ: \"X \\<in> Q\" and YQ: \"Y \\<in> Q\" and XY: \"X \\<sqsubseteq>\\<^sup>s Y\""], ["proof (state)\nthis:\n  X \\<in> Q\n  Y \\<in> Q\n  X \\<sqsubseteq>\\<^sup>s Y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> Q; y \\<in> Q; x \\<sqsubseteq>\\<^sup>s y\\<rbrakk>\n       \\<Longrightarrow> F x \\<sqsubseteq>\\<^sup>s F y", "then"], ["proof (chain)\npicking this:\n  X \\<in> Q\n  Y \\<in> Q\n  X \\<sqsubseteq>\\<^sup>s Y", "obtain x y where xX: \"x \\<in> X\" and yY: \"y \\<in> Y\""], ["proof (prove)\nusing this:\n  X \\<in> Q\n  Y \\<in> Q\n  X \\<sqsubseteq>\\<^sup>s Y\n\ngoal (1 subgoal):\n 1. (\\<And>x y.\n        \\<lbrakk>x \\<in> X; y \\<in> Y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Q_def"], ["proof (prove)\nusing this:\n  X \\<in> Q\n  Y \\<in> Q\n  X \\<sqsubseteq>\\<^sup>s Y\n  Q \\<equiv> ecl ` A\n\ngoal (1 subgoal):\n 1. (\\<And>x y.\n        \\<lbrakk>x \\<in> X; y \\<in> Y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  x \\<in> X\n  y \\<in> Y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> Q; y \\<in> Q; x \\<sqsubseteq>\\<^sup>s y\\<rbrakk>\n       \\<Longrightarrow> F x \\<sqsubseteq>\\<^sup>s F y", "then"], ["proof (chain)\npicking this:\n  x \\<in> X\n  y \\<in> Y", "have xA: \"x \\<in> A\" and yA: \"y \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  y \\<in> Y\n\ngoal (1 subgoal):\n 1. x \\<in> A &&& y \\<in> A", "using XQ YQ"], ["proof (prove)\nusing this:\n  x \\<in> X\n  y \\<in> Y\n  X \\<in> Q\n  Y \\<in> Q\n\ngoal (1 subgoal):\n 1. x \\<in> A &&& y \\<in> A", "by (auto simp: Q_def ecl_def)"], ["proof (state)\nthis:\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> Q; y \\<in> Q; x \\<sqsubseteq>\\<^sup>s y\\<rbrakk>\n       \\<Longrightarrow> F x \\<sqsubseteq>\\<^sup>s F y", "have \"x \\<sqsubseteq> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> y", "using XY xX yY"], ["proof (prove)\nusing this:\n  X \\<sqsubseteq>\\<^sup>s Y\n  x \\<in> X\n  y \\<in> Y\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> y", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> Q; y \\<in> Q; x \\<sqsubseteq>\\<^sup>s y\\<rbrakk>\n       \\<Longrightarrow> F x \\<sqsubseteq>\\<^sup>s F y", "then"], ["proof (chain)\npicking this:\n  x \\<sqsubseteq> y", "have fxfy: \"f x \\<sqsubseteq> f y\""], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "using monotone_on_def[of A \"(\\<sqsubseteq>)\" \"(\\<sqsubseteq>)\" f] xA yA mono"], ["proof (prove)\nusing this:\n  x \\<sqsubseteq> y\n  monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f \\<equiv>\n  \\<forall>x y.\n     x \\<in> A \\<longrightarrow>\n     y \\<in> A \\<longrightarrow>\n     x \\<sqsubseteq> y \\<longrightarrow> f x \\<sqsubseteq> f y\n  x \\<in> A\n  y \\<in> A\n  monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\n\ngoal (1 subgoal):\n 1. f x \\<sqsubseteq> f y", "by auto"], ["proof (state)\nthis:\n  f x \\<sqsubseteq> f y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> Q; y \\<in> Q; x \\<sqsubseteq>\\<^sup>s y\\<rbrakk>\n       \\<Longrightarrow> F x \\<sqsubseteq>\\<^sup>s F y", "have fxgX: \"f x \\<in> F X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x \\<in> F X", "using xX F_def"], ["proof (prove)\nusing this:\n  x \\<in> X\n  F ?X \\<equiv> {y \\<in> A. \\<exists>x\\<in>?X. y \\<sim> f x} \\<union> f ` ?X\n\ngoal (1 subgoal):\n 1. f x \\<in> F X", "by blast"], ["proof (state)\nthis:\n  f x \\<in> F X\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> Q; y \\<in> Q; x \\<sqsubseteq>\\<^sup>s y\\<rbrakk>\n       \\<Longrightarrow> F x \\<sqsubseteq>\\<^sup>s F y", "have fygY: \"f y \\<in> F Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f y \\<in> F Y", "using yY F_def"], ["proof (prove)\nusing this:\n  y \\<in> Y\n  F ?X \\<equiv> {y \\<in> A. \\<exists>x\\<in>?X. y \\<sim> f x} \\<union> f ` ?X\n\ngoal (1 subgoal):\n 1. f y \\<in> F Y", "by blast"], ["proof (state)\nthis:\n  f y \\<in> F Y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> Q; y \\<in> Q; x \\<sqsubseteq>\\<^sup>s y\\<rbrakk>\n       \\<Longrightarrow> F x \\<sqsubseteq>\\<^sup>s F y", "show \"F X \\<sqsubseteq>\\<^sup>s F Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F X \\<sqsubseteq>\\<^sup>s F Y", "using RSLE_eq[OF XQFXQ[OF XQ] XQFXQ[OF YQ] fxgX fygY fxfy]"], ["proof (prove)\nusing this:\n  F X \\<sqsubseteq>\\<^sup>s F Y\n\ngoal (1 subgoal):\n 1. F X \\<sqsubseteq>\\<^sup>s F Y", "."], ["proof (state)\nthis:\n  F X \\<sqsubseteq>\\<^sup>s F Y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  monotone_on Q (\\<sqsubseteq>\\<^sup>s) (\\<sqsubseteq>\\<^sup>s) F\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "have QdA: \"{x. Q.derivable x} \\<subseteq> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Collect Q.derivable \\<subseteq> Q", "using Q.derivable_A"], ["proof (prove)\nusing this:\n  Q.derivable ?x \\<Longrightarrow> ?x \\<in> Q\n\ngoal (1 subgoal):\n 1. Collect Q.derivable \\<subseteq> Q", "by auto"], ["proof (state)\nthis:\n  Collect Q.derivable \\<subseteq> Q\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "note asQ = Q.antisymmetric_axioms"], ["proof (state)\nthis:\n  antisymmetric Q (\\<sqsubseteq>\\<^sup>s)\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "note infl = Q.mono_imp_derivation_infl[OF asQ monoQ]"], ["proof (state)\nthis:\n  \\<forall>X x y.\n     Q.derivation X \\<longrightarrow>\n     x \\<in> X \\<longrightarrow>\n     y \\<in> X \\<longrightarrow>\n     x \\<sqsubseteq>\\<^sup>s y \\<longrightarrow> x \\<sqsubseteq>\\<^sup>s F y\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "note f_refl = Q.mono_imp_derivation_f_refl[OF asQ monoQ]"], ["proof (state)\nthis:\n  \\<forall>X x.\n     Q.derivation X \\<longrightarrow>\n     x \\<in> X \\<longrightarrow> F x \\<sqsubseteq>\\<^sup>s F x\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "from Q.mono_imp_ex_least_fp[OF asQ monoQ compQ]"], ["proof (chain)\npicking this:\n  \\<exists>p.\n     extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x)\n      p", "obtain P where P: \"extreme {q \\<in> Q. F q = q} (\\<sqsubseteq>\\<^sup>s)\\<^sup>- P\""], ["proof (prove)\nusing this:\n  \\<exists>p.\n     extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x)\n      p\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        extreme {q \\<in> Q. F q = q}\n         (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) P \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) P\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) P", "have PQ: \"P \\<in> Q\""], ["proof (prove)\nusing this:\n  extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) P\n\ngoal (1 subgoal):\n 1. P \\<in> Q", "by (auto simp: extreme_def)"], ["proof (state)\nthis:\n  P \\<in> Q\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "from P"], ["proof (chain)\npicking this:\n  extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) P", "have FPP: \"F P = P\""], ["proof (prove)\nusing this:\n  extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) P\n\ngoal (1 subgoal):\n 1. F P = P", "using PQ"], ["proof (prove)\nusing this:\n  extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) P\n  P \\<in> Q\n\ngoal (1 subgoal):\n 1. F P = P", "by auto"], ["proof (state)\nthis:\n  F P = P\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "with P"], ["proof (chain)\npicking this:\n  extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) P\n  F P = P", "have PP: \"P \\<sqsubseteq>\\<^sup>s P\""], ["proof (prove)\nusing this:\n  extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) P\n  F P = P\n\ngoal (1 subgoal):\n 1. P \\<sqsubseteq>\\<^sup>s P", "by auto"], ["proof (state)\nthis:\n  P \\<sqsubseteq>\\<^sup>s P\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "from P"], ["proof (chain)\npicking this:\n  extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) P", "obtain p where pA: \"p \\<in> A\" and Pp: \"P = [p]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) P\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>p \\<in> A; P = [p]\\<^sub>\\<sim>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Q_def"], ["proof (prove)\nusing this:\n  extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) P\n  Q \\<equiv> ecl ` A\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>p \\<in> A; P = [p]\\<^sub>\\<sim>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  p \\<in> A\n  P = [p]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  p \\<in> A\n  P = [p]\\<^sub>\\<sim>", "have pP: \"p \\<in> P\""], ["proof (prove)\nusing this:\n  p \\<in> A\n  P = [p]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. p \\<in> P", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  p \\<in> P\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  p \\<in> P", "have fpA: \"f p \\<in> A\""], ["proof (prove)\nusing this:\n  p \\<in> P\n\ngoal (1 subgoal):\n 1. f p \\<in> A", "using pA f"], ["proof (prove)\nusing this:\n  p \\<in> P\n  p \\<in> A\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. f p \\<in> A", "by auto"], ["proof (state)\nthis:\n  f p \\<in> A\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "have \"f p \\<in> F P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f p \\<in> F P", "using pP F_def fpA"], ["proof (prove)\nusing this:\n  p \\<in> P\n  F ?X \\<equiv> {y \\<in> A. \\<exists>x\\<in>?X. y \\<sim> f x} \\<union> f ` ?X\n  f p \\<in> A\n\ngoal (1 subgoal):\n 1. f p \\<in> F P", "by auto"], ["proof (state)\nthis:\n  f p \\<in> F P\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  f p \\<in> F P", "have \"F P = [f p]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  f p \\<in> F P\n\ngoal (1 subgoal):\n 1. F P = [f p]\\<^sub>\\<sim>", "using XQx XQFXQ[OF PQ]"], ["proof (prove)\nusing this:\n  f p \\<in> F P\n  \\<forall>X\\<in>Q. \\<forall>x\\<in>X. X = [x]\\<^sub>\\<sim>\n  F P \\<in> Q\n\ngoal (1 subgoal):\n 1. F P = [f p]\\<^sub>\\<sim>", "by auto"], ["proof (state)\nthis:\n  F P = [f p]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "then"], ["proof (chain)\npicking this:\n  F P = [f p]\\<^sub>\\<sim>", "have fp: \"f p \\<sim> p \\<or> f p = p\""], ["proof (prove)\nusing this:\n  F P = [f p]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. f p \\<sim> p \\<or> f p = p", "using pP FPP"], ["proof (prove)\nusing this:\n  F P = [f p]\\<^sub>\\<sim>\n  p \\<in> P\n  F P = P\n\ngoal (1 subgoal):\n 1. f p \\<sim> p \\<or> f p = p", "by (auto simp: ecl_def)"], ["proof (state)\nthis:\n  f p \\<sim> p \\<or> f p = p\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "have \"p \\<sqsubseteq> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<sqsubseteq> p", "using PP pP"], ["proof (prove)\nusing this:\n  P \\<sqsubseteq>\\<^sup>s P\n  p \\<in> P\n\ngoal (1 subgoal):\n 1. p \\<sqsubseteq> p", "by auto"], ["proof (state)\nthis:\n  p \\<sqsubseteq> p\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "with fp"], ["proof (chain)\npicking this:\n  f p \\<sim> p \\<or> f p = p\n  p \\<sqsubseteq> p", "have fpp: \"f p \\<sim> p\""], ["proof (prove)\nusing this:\n  f p \\<sim> p \\<or> f p = p\n  p \\<sqsubseteq> p\n\ngoal (1 subgoal):\n 1. f p \\<sim> p", "by auto"], ["proof (state)\nthis:\n  f p \\<sim> p\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "have e: \"extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p} (\\<sqsupseteq>) p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n     (\\<lambda>x y. y \\<sqsubseteq> x) p", "proof (intro extremeI CollectI conjI pA fp, elim CollectE conjE)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x \\<or> f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "fix q"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x \\<or> f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "assume qA: \"q \\<in> A\" and fq: \"f q \\<sim> q \\<or> f q = q\""], ["proof (state)\nthis:\n  q \\<in> A\n  f q \\<sim> q \\<or> f q = q\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x \\<or> f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "define Z where \"Z \\<equiv> {z \\<in> A. q \\<sim> z}\\<union>{q}\""], ["proof (state)\nthis:\n  Z \\<equiv> {z \\<in> A. q \\<sim> z} \\<union> {q}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x \\<or> f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "then"], ["proof (chain)\npicking this:\n  Z \\<equiv> {z \\<in> A. q \\<sim> z} \\<union> {q}", "have qZ: \"q \\<in> Z\""], ["proof (prove)\nusing this:\n  Z \\<equiv> {z \\<in> A. q \\<sim> z} \\<union> {q}\n\ngoal (1 subgoal):\n 1. q \\<in> Z", "using qA"], ["proof (prove)\nusing this:\n  Z \\<equiv> {z \\<in> A. q \\<sim> z} \\<union> {q}\n  q \\<in> A\n\ngoal (1 subgoal):\n 1. q \\<in> Z", "by auto"], ["proof (state)\nthis:\n  q \\<in> Z\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x \\<or> f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "then"], ["proof (chain)\npicking this:\n  q \\<in> Z", "have ZQ: \"Z \\<in> Q\""], ["proof (prove)\nusing this:\n  q \\<in> Z\n\ngoal (1 subgoal):\n 1. Z \\<in> Q", "using qA"], ["proof (prove)\nusing this:\n  q \\<in> Z\n  q \\<in> A\n\ngoal (1 subgoal):\n 1. Z \\<in> Q", "by (auto simp: Z_def Q_def ecl_def)"], ["proof (state)\nthis:\n  Z \\<in> Q\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x \\<or> f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "have fqA: \"f q \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f q \\<in> A", "using qA f"], ["proof (prove)\nusing this:\n  q \\<in> A\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. f q \\<in> A", "by auto"], ["proof (state)\nthis:\n  f q \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x \\<or> f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "then"], ["proof (chain)\npicking this:\n  f q \\<in> A", "have \"f q \\<in> Z\""], ["proof (prove)\nusing this:\n  f q \\<in> A\n\ngoal (1 subgoal):\n 1. f q \\<in> Z", "using fq"], ["proof (prove)\nusing this:\n  f q \\<in> A\n  f q \\<sim> q \\<or> f q = q\n\ngoal (1 subgoal):\n 1. f q \\<in> Z", "by (auto simp: Z_def)"], ["proof (state)\nthis:\n  f q \\<in> Z\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x \\<or> f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "then"], ["proof (chain)\npicking this:\n  f q \\<in> Z", "have 1: \"Z = [f q]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  f q \\<in> Z\n\ngoal (1 subgoal):\n 1. Z = [f q]\\<^sub>\\<sim>", "using XQx ZQ"], ["proof (prove)\nusing this:\n  f q \\<in> Z\n  \\<forall>X\\<in>Q. \\<forall>x\\<in>X. X = [x]\\<^sub>\\<sim>\n  Z \\<in> Q\n\ngoal (1 subgoal):\n 1. Z = [f q]\\<^sub>\\<sim>", "by auto"], ["proof (state)\nthis:\n  Z = [f q]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x \\<or> f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "then"], ["proof (chain)\npicking this:\n  Z = [f q]\\<^sub>\\<sim>", "have \"f q \\<in> F Z\""], ["proof (prove)\nusing this:\n  Z = [f q]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. f q \\<in> F Z", "using qZ fqA"], ["proof (prove)\nusing this:\n  Z = [f q]\\<^sub>\\<sim>\n  q \\<in> Z\n  f q \\<in> A\n\ngoal (1 subgoal):\n 1. f q \\<in> F Z", "by (auto simp: F_def)"], ["proof (state)\nthis:\n  f q \\<in> F Z\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x \\<or> f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "then"], ["proof (chain)\npicking this:\n  f q \\<in> F Z", "have \"F Z = [f q]\\<^sub>\\<sim>\""], ["proof (prove)\nusing this:\n  f q \\<in> F Z\n\ngoal (1 subgoal):\n 1. F Z = [f q]\\<^sub>\\<sim>", "using XQx XQFXQ[OF ZQ]"], ["proof (prove)\nusing this:\n  f q \\<in> F Z\n  \\<forall>X\\<in>Q. \\<forall>x\\<in>X. X = [x]\\<^sub>\\<sim>\n  F Z \\<in> Q\n\ngoal (1 subgoal):\n 1. F Z = [f q]\\<^sub>\\<sim>", "by auto"], ["proof (state)\nthis:\n  F Z = [f q]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x \\<or> f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "with 1"], ["proof (chain)\npicking this:\n  Z = [f q]\\<^sub>\\<sim>\n  F Z = [f q]\\<^sub>\\<sim>", "have \"Z = F Z\""], ["proof (prove)\nusing this:\n  Z = [f q]\\<^sub>\\<sim>\n  F Z = [f q]\\<^sub>\\<sim>\n\ngoal (1 subgoal):\n 1. Z = F Z", "by auto"], ["proof (state)\nthis:\n  Z = F Z\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x \\<or> f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "then"], ["proof (chain)\npicking this:\n  Z = F Z", "have \"P \\<sqsubseteq>\\<^sup>s Z\""], ["proof (prove)\nusing this:\n  Z = F Z\n\ngoal (1 subgoal):\n 1. P \\<sqsubseteq>\\<^sup>s Z", "using P ZQ"], ["proof (prove)\nusing this:\n  Z = F Z\n  extreme {q \\<in> Q. F q = q} (\\<lambda>x y. y \\<sqsubseteq>\\<^sup>s x) P\n  Z \\<in> Q\n\ngoal (1 subgoal):\n 1. P \\<sqsubseteq>\\<^sup>s Z", "by auto"], ["proof (state)\nthis:\n  P \\<sqsubseteq>\\<^sup>s Z\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> A; f x \\<sim> x \\<or> f x = x\\<rbrakk>\n       \\<Longrightarrow> p \\<sqsubseteq> x", "then"], ["proof (chain)\npicking this:\n  P \\<sqsubseteq>\\<^sup>s Z", "show \"p \\<sqsubseteq> q\""], ["proof (prove)\nusing this:\n  P \\<sqsubseteq>\\<^sup>s Z\n\ngoal (1 subgoal):\n 1. p \\<sqsubseteq> q", "using pP qZ"], ["proof (prove)\nusing this:\n  P \\<sqsubseteq>\\<^sup>s Z\n  p \\<in> P\n  q \\<in> Z\n\ngoal (1 subgoal):\n 1. p \\<sqsubseteq> q", "by auto"], ["proof (state)\nthis:\n  p \\<sqsubseteq> q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n   (\\<lambda>x y. y \\<sqsubseteq> x) p\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "with fpp"], ["proof (chain)\npicking this:\n  f p \\<sim> p\n  extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n   (\\<lambda>x y. y \\<sqsubseteq> x) p", "show ?thesis"], ["proof (prove)\nusing this:\n  f p \\<sim> p\n  extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n   (\\<lambda>x y. y \\<sqsubseteq> x) p\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "using e"], ["proof (prove)\nusing this:\n  f p \\<sim> p\n  extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n   (\\<lambda>x y. y \\<sqsubseteq> x) p\n  extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n   (\\<lambda>x y. y \\<sqsubseteq> x) p\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n        (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n       f c \\<sim> c", "by auto"], ["proof (state)\nthis:\n  \\<exists>c.\n     extreme {p \\<in> A. f p \\<sim> p \\<or> f p = p}\n      (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n     f c \\<sim> c\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>General Completeness\\<close>"], ["", "lemma attract_mono_imp_fp_qfp_complete:\n  assumes attract: \"attractive A (\\<sqsubseteq>)\"\n    and comp: \"CC-complete A (\\<sqsubseteq>)\"\n    and wr_CC: \"\\<forall>C \\<subseteq> A. well_related_set C (\\<sqsubseteq>) \\<longrightarrow> C \\<in> CC\"\n    and extend: \"\\<forall>X \\<in> CC. \\<forall>Y \\<in> CC. X \\<sqsubseteq>\\<^sup>s Y \\<longrightarrow> X \\<union> Y \\<in> CC\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n    and P: \"P \\<subseteq> {x \\<in> A. f x = x}\"\n  shows \"CC-complete ({q \\<in> A. f q \\<sim> q} \\<union> P) (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CC-complete ({q \\<in> A. f q \\<sim> q} \\<union> P) (\\<sqsubseteq>)", "proof (intro completeI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "interpret attractive"], ["proof (prove)\ngoal (1 subgoal):\n 1. attractive A (\\<sqsubseteq>)", "using attract"], ["proof (prove)\nusing this:\n  attractive A (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. attractive A (\\<sqsubseteq>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "fix X"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "assume Xfix: \"X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P\" and XCC: \"X \\<in> CC\""], ["proof (state)\nthis:\n  X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P\n  X \\<in> CC\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "with P"], ["proof (chain)\npicking this:\n  P \\<subseteq> {x \\<in> A. f x = x}\n  X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P\n  X \\<in> CC", "have XA: \"X \\<subseteq> A\""], ["proof (prove)\nusing this:\n  P \\<subseteq> {x \\<in> A. f x = x}\n  X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P\n  X \\<in> CC\n\ngoal (1 subgoal):\n 1. X \\<subseteq> A", "by auto"], ["proof (state)\nthis:\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "define B where \"B \\<equiv> {b \\<in> A. \\<forall>a \\<in> X. a \\<sqsubseteq> b}\""], ["proof (state)\nthis:\n  B \\<equiv> {b \\<in> A. \\<forall>a\\<in>X. a \\<sqsubseteq> b}\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "{"], ["proof (state)\nthis:\n  B \\<equiv> {b \\<in> A. \\<forall>a\\<in>X. a \\<sqsubseteq> b}\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "fix s a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "assume sA: \"s \\<in> A\" and as: \"\\<forall>a \\<in> X. a \\<sqsubseteq> s\" and aX: \"a \\<in> X\""], ["proof (state)\nthis:\n  s \\<in> A\n  \\<forall>a\\<in>X. a \\<sqsubseteq> s\n  a \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "then"], ["proof (chain)\npicking this:\n  s \\<in> A\n  \\<forall>a\\<in>X. a \\<sqsubseteq> s\n  a \\<in> X", "have aA: \"a \\<in> A\""], ["proof (prove)\nusing this:\n  s \\<in> A\n  \\<forall>a\\<in>X. a \\<sqsubseteq> s\n  a \\<in> X\n\ngoal (1 subgoal):\n 1. a \\<in> A", "using XA"], ["proof (prove)\nusing this:\n  s \\<in> A\n  \\<forall>a\\<in>X. a \\<sqsubseteq> s\n  a \\<in> X\n  X \\<subseteq> A\n\ngoal (1 subgoal):\n 1. a \\<in> A", "by auto"], ["proof (state)\nthis:\n  a \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "then"], ["proof (chain)\npicking this:\n  a \\<in> A", "have fafs: \"f a \\<sqsubseteq> f s\""], ["proof (prove)\nusing this:\n  a \\<in> A\n\ngoal (1 subgoal):\n 1. f a \\<sqsubseteq> f s", "using mono f aX sA as"], ["proof (prove)\nusing this:\n  a \\<in> A\n  monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\n  f ` A \\<subseteq> A\n  a \\<in> X\n  s \\<in> A\n  \\<forall>a\\<in>X. a \\<sqsubseteq> s\n\ngoal (1 subgoal):\n 1. f a \\<sqsubseteq> f s", "by (auto elim!: monotone_onE)"], ["proof (state)\nthis:\n  f a \\<sqsubseteq> f s\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "have \"a \\<sqsubseteq> f s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<sqsubseteq> f s", "proof (cases \"f a = a\")"], ["proof (state)\ngoal (2 subgoals):\n 1. f a = a \\<Longrightarrow> a \\<sqsubseteq> f s\n 2. f a \\<noteq> a \\<Longrightarrow> a \\<sqsubseteq> f s", "case True"], ["proof (state)\nthis:\n  f a = a\n\ngoal (2 subgoals):\n 1. f a = a \\<Longrightarrow> a \\<sqsubseteq> f s\n 2. f a \\<noteq> a \\<Longrightarrow> a \\<sqsubseteq> f s", "then"], ["proof (chain)\npicking this:\n  f a = a", "show ?thesis"], ["proof (prove)\nusing this:\n  f a = a\n\ngoal (1 subgoal):\n 1. a \\<sqsubseteq> f s", "using fafs"], ["proof (prove)\nusing this:\n  f a = a\n  f a \\<sqsubseteq> f s\n\ngoal (1 subgoal):\n 1. a \\<sqsubseteq> f s", "by auto"], ["proof (state)\nthis:\n  a \\<sqsubseteq> f s\n\ngoal (1 subgoal):\n 1. f a \\<noteq> a \\<Longrightarrow> a \\<sqsubseteq> f s", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. f a \\<noteq> a \\<Longrightarrow> a \\<sqsubseteq> f s", "case False"], ["proof (state)\nthis:\n  f a \\<noteq> a\n\ngoal (1 subgoal):\n 1. f a \\<noteq> a \\<Longrightarrow> a \\<sqsubseteq> f s", "then"], ["proof (chain)\npicking this:\n  f a \\<noteq> a", "have \"a \\<sim> f a\""], ["proof (prove)\nusing this:\n  f a \\<noteq> a\n\ngoal (1 subgoal):\n 1. a \\<sim> f a", "using P aX Xfix"], ["proof (prove)\nusing this:\n  f a \\<noteq> a\n  P \\<subseteq> {x \\<in> A. f x = x}\n  a \\<in> X\n  X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P\n\ngoal (1 subgoal):\n 1. a \\<sim> f a", "by auto"], ["proof (state)\nthis:\n  a \\<sim> f a\n\ngoal (1 subgoal):\n 1. f a \\<noteq> a \\<Longrightarrow> a \\<sqsubseteq> f s", "also"], ["proof (state)\nthis:\n  a \\<sim> f a\n\ngoal (1 subgoal):\n 1. f a \\<noteq> a \\<Longrightarrow> a \\<sqsubseteq> f s", "from fafs"], ["proof (chain)\npicking this:\n  f a \\<sqsubseteq> f s", "have \"f a \\<sqsubseteq> f s\""], ["proof (prove)\nusing this:\n  f a \\<sqsubseteq> f s\n\ngoal (1 subgoal):\n 1. f a \\<sqsubseteq> f s", "by auto"], ["proof (state)\nthis:\n  f a \\<sqsubseteq> f s\n\ngoal (1 subgoal):\n 1. f a \\<noteq> a \\<Longrightarrow> a \\<sqsubseteq> f s", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>a \\<in> A; f a \\<in> A; f s \\<in> A\\<rbrakk>\n  \\<Longrightarrow> a \\<sqsubseteq> f s", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>a \\<in> A; f a \\<in> A; f s \\<in> A\\<rbrakk>\n  \\<Longrightarrow> a \\<sqsubseteq> f s\n\ngoal (1 subgoal):\n 1. a \\<sqsubseteq> f s", "using f aA sA"], ["proof (prove)\nusing this:\n  \\<lbrakk>a \\<in> A; f a \\<in> A; f s \\<in> A\\<rbrakk>\n  \\<Longrightarrow> a \\<sqsubseteq> f s\n  f ` A \\<subseteq> A\n  a \\<in> A\n  s \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<sqsubseteq> f s", "by auto"], ["proof (state)\nthis:\n  a \\<sqsubseteq> f s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  a \\<sqsubseteq> f s\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?s2 \\<in> A; \\<forall>a\\<in>X. a \\<sqsubseteq> ?s2;\n   ?a2 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ?a2 \\<sqsubseteq> f ?s2\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "with f"], ["proof (chain)\npicking this:\n  f ` A \\<subseteq> A\n  \\<lbrakk>?s2 \\<in> A; \\<forall>a\\<in>X. a \\<sqsubseteq> ?s2;\n   ?a2 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ?a2 \\<sqsubseteq> f ?s2", "have fBB: \"f ` B \\<subseteq> B\""], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n  \\<lbrakk>?s2 \\<in> A; \\<forall>a\\<in>X. a \\<sqsubseteq> ?s2;\n   ?a2 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ?a2 \\<sqsubseteq> f ?s2\n\ngoal (1 subgoal):\n 1. f ` B \\<subseteq> B", "unfolding B_def"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n  \\<lbrakk>?s2 \\<in> A; \\<forall>a\\<in>X. a \\<sqsubseteq> ?s2;\n   ?a2 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ?a2 \\<sqsubseteq> f ?s2\n\ngoal (1 subgoal):\n 1. f ` {b \\<in> A. \\<forall>a\\<in>X. a \\<sqsubseteq> b}\n    \\<subseteq> {b \\<in> A. \\<forall>a\\<in>X. a \\<sqsubseteq> b}", "by auto"], ["proof (state)\nthis:\n  f ` B \\<subseteq> B\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "have BA: \"B \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<subseteq> A", "by (auto simp: B_def)"], ["proof (state)\nthis:\n  B \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "have compB: \"CC-complete B (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CC-complete B (\\<sqsubseteq>)", "proof (unfold complete_def, intro allI impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> B; X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound B (\\<sqsubseteq>) X)", "fix Y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> B; X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound B (\\<sqsubseteq>) X)", "assume YS: \"Y \\<subseteq> B\" and YCC: \"Y \\<in> CC\""], ["proof (state)\nthis:\n  Y \\<subseteq> B\n  Y \\<in> CC\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> B; X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound B (\\<sqsubseteq>) X)", "with BA"], ["proof (chain)\npicking this:\n  B \\<subseteq> A\n  Y \\<subseteq> B\n  Y \\<in> CC", "have YA: \"Y \\<subseteq> A\""], ["proof (prove)\nusing this:\n  B \\<subseteq> A\n  Y \\<subseteq> B\n  Y \\<in> CC\n\ngoal (1 subgoal):\n 1. Y \\<subseteq> A", "by auto"], ["proof (state)\nthis:\n  Y \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> B; X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound B (\\<sqsubseteq>) X)", "define C where \"C \\<equiv> X\\<union>Y\""], ["proof (state)\nthis:\n  C \\<equiv> X \\<union> Y\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> B; X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound B (\\<sqsubseteq>) X)", "then"], ["proof (chain)\npicking this:\n  C \\<equiv> X \\<union> Y", "have CA: \"C \\<subseteq> A\""], ["proof (prove)\nusing this:\n  C \\<equiv> X \\<union> Y\n\ngoal (1 subgoal):\n 1. C \\<subseteq> A", "using XA YA C_def"], ["proof (prove)\nusing this:\n  C \\<equiv> X \\<union> Y\n  X \\<subseteq> A\n  Y \\<subseteq> A\n  C \\<equiv> X \\<union> Y\n\ngoal (1 subgoal):\n 1. C \\<subseteq> A", "by auto"], ["proof (state)\nthis:\n  C \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> B; X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound B (\\<sqsubseteq>) X)", "have XY: \"X \\<sqsubseteq>\\<^sup>s Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<sqsubseteq>\\<^sup>s Y", "using B_def YS"], ["proof (prove)\nusing this:\n  B \\<equiv> {b \\<in> A. \\<forall>a\\<in>X. a \\<sqsubseteq> b}\n  Y \\<subseteq> B\n\ngoal (1 subgoal):\n 1. X \\<sqsubseteq>\\<^sup>s Y", "by auto"], ["proof (state)\nthis:\n  X \\<sqsubseteq>\\<^sup>s Y\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> B; X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound B (\\<sqsubseteq>) X)", "then"], ["proof (chain)\npicking this:\n  X \\<sqsubseteq>\\<^sup>s Y", "have CCC: \"C \\<in> CC\""], ["proof (prove)\nusing this:\n  X \\<sqsubseteq>\\<^sup>s Y\n\ngoal (1 subgoal):\n 1. C \\<in> CC", "using extend XA YA XCC YCC C_def"], ["proof (prove)\nusing this:\n  X \\<sqsubseteq>\\<^sup>s Y\n  \\<forall>X\\<in>CC.\n     \\<forall>Y\\<in>CC.\n        X \\<sqsubseteq>\\<^sup>s Y \\<longrightarrow> X \\<union> Y \\<in> CC\n  X \\<subseteq> A\n  Y \\<subseteq> A\n  X \\<in> CC\n  Y \\<in> CC\n  C \\<equiv> X \\<union> Y\n\ngoal (1 subgoal):\n 1. C \\<in> CC", "by auto"], ["proof (state)\nthis:\n  C \\<in> CC\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> B; X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound B (\\<sqsubseteq>) X)", "then"], ["proof (chain)\npicking this:\n  C \\<in> CC", "obtain s where s: \"extreme_bound A (\\<sqsubseteq>) C s\""], ["proof (prove)\nusing this:\n  C \\<in> CC\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        extreme_bound A (\\<sqsubseteq>) C s \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using completeD[OF comp CA CCC]"], ["proof (prove)\nusing this:\n  C \\<in> CC\n  Ex (extreme_bound A (\\<sqsubseteq>) C)\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        extreme_bound A (\\<sqsubseteq>) C s \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  extreme_bound A (\\<sqsubseteq>) C s\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> B; X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound B (\\<sqsubseteq>) X)", "then"], ["proof (chain)\npicking this:\n  extreme_bound A (\\<sqsubseteq>) C s", "have sA: \"s \\<in> A\""], ["proof (prove)\nusing this:\n  extreme_bound A (\\<sqsubseteq>) C s\n\ngoal (1 subgoal):\n 1. s \\<in> A", "by auto"], ["proof (state)\nthis:\n  s \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> B; X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound B (\\<sqsubseteq>) X)", "show \"Ex (extreme_bound B (\\<sqsubseteq>) Y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ex (extreme_bound B (\\<sqsubseteq>) Y)", "proof (intro exI extreme_boundI)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> ?x \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> Y \\<Longrightarrow> x \\<sqsubseteq> ?x\n 3. ?x \\<in> B", "{"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> ?x \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> Y \\<Longrightarrow> x \\<sqsubseteq> ?x\n 3. ?x \\<in> B", "fix x"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> ?x \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> Y \\<Longrightarrow> x \\<sqsubseteq> ?x\n 3. ?x \\<in> B", "assume \"x \\<in> X\""], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (3 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> ?x \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> Y \\<Longrightarrow> x \\<sqsubseteq> ?x\n 3. ?x \\<in> B", "then"], ["proof (chain)\npicking this:\n  x \\<in> X", "have \"x \\<sqsubseteq> s\""], ["proof (prove)\nusing this:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> s", "using s C_def"], ["proof (prove)\nusing this:\n  x \\<in> X\n  extreme_bound A (\\<sqsubseteq>) C s\n  C \\<equiv> X \\<union> Y\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq> s", "by auto"], ["proof (state)\nthis:\n  x \\<sqsubseteq> s\n\ngoal (3 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> ?x \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> Y \\<Longrightarrow> x \\<sqsubseteq> ?x\n 3. ?x \\<in> B", "}"], ["proof (state)\nthis:\n  ?x2 \\<in> X \\<Longrightarrow> ?x2 \\<sqsubseteq> s\n\ngoal (3 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> ?x \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> Y \\<Longrightarrow> x \\<sqsubseteq> ?x\n 3. ?x \\<in> B", "then"], ["proof (chain)\npicking this:\n  ?x2 \\<in> X \\<Longrightarrow> ?x2 \\<sqsubseteq> s", "show \"s \\<in> B\""], ["proof (prove)\nusing this:\n  ?x2 \\<in> X \\<Longrightarrow> ?x2 \\<sqsubseteq> s\n\ngoal (1 subgoal):\n 1. s \\<in> B", "using sA B_def"], ["proof (prove)\nusing this:\n  ?x2 \\<in> X \\<Longrightarrow> ?x2 \\<sqsubseteq> s\n  s \\<in> A\n  B \\<equiv> {b \\<in> A. \\<forall>a\\<in>X. a \\<sqsubseteq> b}\n\ngoal (1 subgoal):\n 1. s \\<in> B", "by auto"], ["proof (state)\nthis:\n  s \\<in> B\n\ngoal (2 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> s \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> Y \\<Longrightarrow> x \\<sqsubseteq> s", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> s \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> Y \\<Longrightarrow> x \\<sqsubseteq> s", "fix y"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> s \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> Y \\<Longrightarrow> x \\<sqsubseteq> s", "assume \"y \\<in> Y\""], ["proof (state)\nthis:\n  y \\<in> Y\n\ngoal (2 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> s \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> Y \\<Longrightarrow> x \\<sqsubseteq> s", "then"], ["proof (chain)\npicking this:\n  y \\<in> Y", "show \"y \\<sqsubseteq> s\""], ["proof (prove)\nusing this:\n  y \\<in> Y\n\ngoal (1 subgoal):\n 1. y \\<sqsubseteq> s", "using s C_def"], ["proof (prove)\nusing this:\n  y \\<in> Y\n  extreme_bound A (\\<sqsubseteq>) C s\n  C \\<equiv> X \\<union> Y\n\ngoal (1 subgoal):\n 1. y \\<sqsubseteq> s", "using extremeD"], ["proof (prove)\nusing this:\n  y \\<in> Y\n  extreme_bound A (\\<sqsubseteq>) C s\n  C \\<equiv> X \\<union> Y\n  extreme ?X ?r ?e \\<Longrightarrow> ?e \\<in> ?X\n  \\<lbrakk>extreme ?X ?r ?e; ?x \\<in> ?X\\<rbrakk> \\<Longrightarrow> ?r ?x ?e\n\ngoal (1 subgoal):\n 1. y \\<sqsubseteq> s", "by auto"], ["proof (state)\nthis:\n  y \\<sqsubseteq> s\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> s \\<sqsubseteq> b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> s \\<sqsubseteq> b", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> s \\<sqsubseteq> b", "assume cS: \"c \\<in> B\" and \"bound Y (\\<sqsubseteq>) c\""], ["proof (state)\nthis:\n  c \\<in> B\n  bound Y (\\<sqsubseteq>) c\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> s \\<sqsubseteq> b", "then"], ["proof (chain)\npicking this:\n  c \\<in> B\n  bound Y (\\<sqsubseteq>) c", "have \"bound C (\\<sqsubseteq>) c\""], ["proof (prove)\nusing this:\n  c \\<in> B\n  bound Y (\\<sqsubseteq>) c\n\ngoal (1 subgoal):\n 1. bound C (\\<sqsubseteq>) c", "using C_def B_def"], ["proof (prove)\nusing this:\n  c \\<in> B\n  bound Y (\\<sqsubseteq>) c\n  C \\<equiv> X \\<union> Y\n  B \\<equiv> {b \\<in> A. \\<forall>a\\<in>X. a \\<sqsubseteq> b}\n\ngoal (1 subgoal):\n 1. bound C (\\<sqsubseteq>) c", "by auto"], ["proof (state)\nthis:\n  bound C (\\<sqsubseteq>) c\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       \\<lbrakk>bound Y (\\<sqsubseteq>) b; b \\<in> B\\<rbrakk>\n       \\<Longrightarrow> s \\<sqsubseteq> b", "then"], ["proof (chain)\npicking this:\n  bound C (\\<sqsubseteq>) c", "show \"s \\<sqsubseteq> c\""], ["proof (prove)\nusing this:\n  bound C (\\<sqsubseteq>) c\n\ngoal (1 subgoal):\n 1. s \\<sqsubseteq> c", "using s BA cS"], ["proof (prove)\nusing this:\n  bound C (\\<sqsubseteq>) c\n  extreme_bound A (\\<sqsubseteq>) C s\n  B \\<subseteq> A\n  c \\<in> B\n\ngoal (1 subgoal):\n 1. s \\<sqsubseteq> c", "by auto"], ["proof (state)\nthis:\n  s \\<sqsubseteq> c\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Ex (extreme_bound B (\\<sqsubseteq>) Y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  CC-complete B (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "from fBB"], ["proof (chain)\npicking this:\n  f ` B \\<subseteq> B", "interpret B: fixed_point_proof B \"(\\<sqsubseteq>)\" f"], ["proof (prove)\nusing this:\n  f ` B \\<subseteq> B\n\ngoal (1 subgoal):\n 1. fixed_point_proof B f", "by unfold_locales"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "from BA"], ["proof (chain)\npicking this:\n  B \\<subseteq> A", "have *: \"{x \\<in> A. f x \\<sim> x} \\<inter> B = {x \\<in> B. f x \\<sim> x}\""], ["proof (prove)\nusing this:\n  B \\<subseteq> A\n\ngoal (1 subgoal):\n 1. {x \\<in> A. f x \\<sim> x} \\<inter> B = {x \\<in> B. f x \\<sim> x}", "by auto"], ["proof (state)\nthis:\n  {x \\<in> A. f x \\<sim> x} \\<inter> B = {x \\<in> B. f x \\<sim> x}\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "have asB: \"attractive B (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. attractive B (\\<sqsubseteq>)", "using attractive_subset[OF BA]"], ["proof (prove)\nusing this:\n  attractive B (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. attractive B (\\<sqsubseteq>)", "by auto"], ["proof (state)\nthis:\n  attractive B (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "have monoB: \"monotone_on B (\\<sqsubseteq>) (\\<sqsubseteq>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. monotone_on B (\\<sqsubseteq>) (\\<sqsubseteq>) f", "using monotone_on_cmono[OF BA] mono"], ["proof (prove)\nusing this:\n  monotone_on A \\<le> monotone_on B\n  monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\n\ngoal (1 subgoal):\n 1. monotone_on B (\\<sqsubseteq>) (\\<sqsubseteq>) f", "by (auto dest!: le_funD)"], ["proof (state)\nthis:\n  monotone_on B (\\<sqsubseteq>) (\\<sqsubseteq>) f\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "have compB: \"well_complete B (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_complete B (\\<sqsubseteq>)", "using wr_CC compB BA"], ["proof (prove)\nusing this:\n  \\<forall>C\\<subseteq>A.\n     well_related_set C (\\<sqsubseteq>) \\<longrightarrow> C \\<in> CC\n  CC-complete B (\\<sqsubseteq>)\n  B \\<subseteq> A\n\ngoal (1 subgoal):\n 1. well_complete B (\\<sqsubseteq>)", "by (simp add: complete_def)"], ["proof (state)\nthis:\n  well_complete B (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "from B.attract_mono_imp_least_qfp[OF asB compB monoB]"], ["proof (chain)\npicking this:\n  \\<exists>c.\n     extreme {p \\<in> B. f p \\<sim> p \\<or> f p = p}\n      (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n     f c \\<sim> c", "obtain l where \"extreme {p \\<in> B. f p \\<sim> p \\<or> f p = p} (\\<sqsupseteq>) l\" and fll: \"f l \\<sim> l\""], ["proof (prove)\nusing this:\n  \\<exists>c.\n     extreme {p \\<in> B. f p \\<sim> p \\<or> f p = p}\n      (\\<lambda>x y. y \\<sqsubseteq> x) c \\<and>\n     f c \\<sim> c\n\ngoal (1 subgoal):\n 1. (\\<And>l.\n        \\<lbrakk>extreme {p \\<in> B. f p \\<sim> p \\<or> f p = p}\n                  (\\<lambda>x y. y \\<sqsubseteq> x) l;\n         f l \\<sim> l\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  extreme {p \\<in> B. f p \\<sim> p \\<or> f p = p}\n   (\\<lambda>x y. y \\<sqsubseteq> x) l\n  f l \\<sim> l\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "with P"], ["proof (chain)\npicking this:\n  P \\<subseteq> {x \\<in> A. f x = x}\n  extreme {p \\<in> B. f p \\<sim> p \\<or> f p = p}\n   (\\<lambda>x y. y \\<sqsubseteq> x) l\n  f l \\<sim> l", "have l: \"extreme ({p \\<in> B. f p \\<sim> p} \\<union> P \\<inter> B) (\\<sqsupseteq>) l\""], ["proof (prove)\nusing this:\n  P \\<subseteq> {x \\<in> A. f x = x}\n  extreme {p \\<in> B. f p \\<sim> p \\<or> f p = p}\n   (\\<lambda>x y. y \\<sqsubseteq> x) l\n  f l \\<sim> l\n\ngoal (1 subgoal):\n 1. extreme ({p \\<in> B. f p \\<sim> p} \\<union> P \\<inter> B)\n     (\\<lambda>x y. y \\<sqsubseteq> x) l", "by auto"], ["proof (state)\nthis:\n  extreme ({p \\<in> B. f p \\<sim> p} \\<union> P \\<inter> B)\n   (\\<lambda>x y. y \\<sqsubseteq> x) l\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>X \\<subseteq> {q \\<in> A. f q \\<sim> q} \\<union> P;\n        X \\<in> CC\\<rbrakk>\n       \\<Longrightarrow> Ex (extreme_bound\n                              ({q \\<in> A. f q \\<sim> q} \\<union> P)\n                              (\\<sqsubseteq>) X)", "show \"Ex (extreme_bound ({q \\<in> A. f q \\<sim> q} \\<union> P) (\\<sqsubseteq>) X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ex (extreme_bound ({q \\<in> A. f q \\<sim> q} \\<union> P) (\\<sqsubseteq>)\n         X)", "proof (intro exI extreme_boundI)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound X (\\<sqsubseteq>) b;\n        b \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\\<rbrakk>\n       \\<Longrightarrow> ?x \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> X \\<Longrightarrow> x \\<sqsubseteq> ?x\n 3. ?x \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P", "show \"l \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P", "using l BA"], ["proof (prove)\nusing this:\n  extreme ({p \\<in> B. f p \\<sim> p} \\<union> P \\<inter> B)\n   (\\<lambda>x y. y \\<sqsubseteq> x) l\n  B \\<subseteq> A\n\ngoal (1 subgoal):\n 1. l \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P", "by auto"], ["proof (state)\nthis:\n  l \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\n\ngoal (2 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound X (\\<sqsubseteq>) b;\n        b \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\\<rbrakk>\n       \\<Longrightarrow> l \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> X \\<Longrightarrow> x \\<sqsubseteq> l", "fix a"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound X (\\<sqsubseteq>) b;\n        b \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\\<rbrakk>\n       \\<Longrightarrow> l \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> X \\<Longrightarrow> x \\<sqsubseteq> l", "assume \"a \\<in> X\""], ["proof (state)\nthis:\n  a \\<in> X\n\ngoal (2 subgoals):\n 1. \\<And>b.\n       \\<lbrakk>bound X (\\<sqsubseteq>) b;\n        b \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\\<rbrakk>\n       \\<Longrightarrow> l \\<sqsubseteq> b\n 2. \\<And>x. x \\<in> X \\<Longrightarrow> x \\<sqsubseteq> l", "with l"], ["proof (chain)\npicking this:\n  extreme ({p \\<in> B. f p \\<sim> p} \\<union> P \\<inter> B)\n   (\\<lambda>x y. y \\<sqsubseteq> x) l\n  a \\<in> X", "show \"a \\<sqsubseteq> l\""], ["proof (prove)\nusing this:\n  extreme ({p \\<in> B. f p \\<sim> p} \\<union> P \\<inter> B)\n   (\\<lambda>x y. y \\<sqsubseteq> x) l\n  a \\<in> X\n\ngoal (1 subgoal):\n 1. a \\<sqsubseteq> l", "by (auto simp: B_def)"], ["proof (state)\nthis:\n  a \\<sqsubseteq> l\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       \\<lbrakk>bound X (\\<sqsubseteq>) b;\n        b \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\\<rbrakk>\n       \\<Longrightarrow> l \\<sqsubseteq> b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>b.\n       \\<lbrakk>bound X (\\<sqsubseteq>) b;\n        b \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\\<rbrakk>\n       \\<Longrightarrow> l \\<sqsubseteq> b", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>b.\n       \\<lbrakk>bound X (\\<sqsubseteq>) b;\n        b \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\\<rbrakk>\n       \\<Longrightarrow> l \\<sqsubseteq> b", "assume c: \"bound X (\\<sqsubseteq>) c\" and cfix: \"c \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\""], ["proof (state)\nthis:\n  bound X (\\<sqsubseteq>) c\n  c \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       \\<lbrakk>bound X (\\<sqsubseteq>) b;\n        b \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\\<rbrakk>\n       \\<Longrightarrow> l \\<sqsubseteq> b", "with P"], ["proof (chain)\npicking this:\n  P \\<subseteq> {x \\<in> A. f x = x}\n  bound X (\\<sqsubseteq>) c\n  c \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P", "have cA: \"c \\<in> A\""], ["proof (prove)\nusing this:\n  P \\<subseteq> {x \\<in> A. f x = x}\n  bound X (\\<sqsubseteq>) c\n  c \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\n\ngoal (1 subgoal):\n 1. c \\<in> A", "by auto"], ["proof (state)\nthis:\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       \\<lbrakk>bound X (\\<sqsubseteq>) b;\n        b \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\\<rbrakk>\n       \\<Longrightarrow> l \\<sqsubseteq> b", "with c"], ["proof (chain)\npicking this:\n  bound X (\\<sqsubseteq>) c\n  c \\<in> A", "have \"c \\<in> B\""], ["proof (prove)\nusing this:\n  bound X (\\<sqsubseteq>) c\n  c \\<in> A\n\ngoal (1 subgoal):\n 1. c \\<in> B", "by (auto simp: B_def)"], ["proof (state)\nthis:\n  c \\<in> B\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       \\<lbrakk>bound X (\\<sqsubseteq>) b;\n        b \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\\<rbrakk>\n       \\<Longrightarrow> l \\<sqsubseteq> b", "with cfix l"], ["proof (chain)\npicking this:\n  c \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\n  extreme ({p \\<in> B. f p \\<sim> p} \\<union> P \\<inter> B)\n   (\\<lambda>x y. y \\<sqsubseteq> x) l\n  c \\<in> B", "show \"l \\<sqsubseteq> c\""], ["proof (prove)\nusing this:\n  c \\<in> {q \\<in> A. f q \\<sim> q} \\<union> P\n  extreme ({p \\<in> B. f p \\<sim> p} \\<union> P \\<inter> B)\n   (\\<lambda>x y. y \\<sqsubseteq> x) l\n  c \\<in> B\n\ngoal (1 subgoal):\n 1. l \\<sqsubseteq> c", "by auto"], ["proof (state)\nthis:\n  l \\<sqsubseteq> c\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Ex (extreme_bound ({q \\<in> A. f q \\<sim> q} \\<union> P) (\\<sqsubseteq>)\n       X)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma attract_mono_imp_qfp_complete:\n  assumes \"attractive A (\\<sqsubseteq>)\"\n    and \"CC-complete A (\\<sqsubseteq>)\"\n    and \"\\<forall>C \\<subseteq> A. well_related_set C (\\<sqsubseteq>) \\<longrightarrow> C \\<in> CC\"\n    and \"\\<forall>X \\<in> CC. \\<forall>Y \\<in> CC. X \\<sqsubseteq>\\<^sup>s Y \\<longrightarrow> X \\<union> Y \\<in> CC\"\n    and \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"CC-complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CC-complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)", "using attract_mono_imp_fp_qfp_complete[OF assms, of \"{}\"]"], ["proof (prove)\nusing this:\n  {} \\<subseteq> {x \\<in> A. f x = x} \\<Longrightarrow>\n  CC-complete ({q \\<in> A. f q \\<sim> q} \\<union> {}) (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. CC-complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)", "by simp"], ["", "lemma antisym_mono_imp_fp_complete:\n  assumes anti: \"antisymmetric A (\\<sqsubseteq>)\"\n    and comp: \"CC-complete A (\\<sqsubseteq>)\"\n    and wr_CC: \"\\<forall>C \\<subseteq> A. well_related_set C (\\<sqsubseteq>) \\<longrightarrow> C \\<in> CC\"\n    and extend: \"\\<forall>X \\<in> CC. \\<forall>Y \\<in> CC. X \\<sqsubseteq>\\<^sup>s Y \\<longrightarrow> X \\<union> Y \\<in> CC\"\n    and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"CC-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CC-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. CC-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)", "interpret antisymmetric"], ["proof (prove)\ngoal (1 subgoal):\n 1. antisymmetric A (\\<sqsubseteq>)", "using anti"], ["proof (prove)\nusing this:\n  antisymmetric A (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. antisymmetric A (\\<sqsubseteq>)", "."], ["proof (state)\ngoal (1 subgoal):\n 1. CC-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)", "have *: \"{q \\<in> A. f q \\<sim> q} \\<subseteq> {p \\<in> A. f p = p}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {q \\<in> A. f q \\<sim> q} \\<subseteq> {p \\<in> A. f p = p}", "using f"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. {q \\<in> A. f q \\<sim> q} \\<subseteq> {p \\<in> A. f p = p}", "by (auto intro!: antisym)"], ["proof (state)\nthis:\n  {q \\<in> A. f q \\<sim> q} \\<subseteq> {p \\<in> A. f p = p}\n\ngoal (1 subgoal):\n 1. CC-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)", "from * attract_mono_imp_fp_qfp_complete[OF attractive_axioms comp wr_CC extend mono, of \"{p\\<in>A. f p = p}\"]"], ["proof (chain)\npicking this:\n  {q \\<in> A. f q \\<sim> q} \\<subseteq> {p \\<in> A. f p = p}\n  {p \\<in> A. f p = p} \\<subseteq> {x \\<in> A. f x = x} \\<Longrightarrow>\n  CC-complete ({q \\<in> A. f q \\<sim> q} \\<union> {p \\<in> A. f p = p})\n   (\\<sqsubseteq>)", "show ?thesis"], ["proof (prove)\nusing this:\n  {q \\<in> A. f q \\<sim> q} \\<subseteq> {p \\<in> A. f p = p}\n  {p \\<in> A. f p = p} \\<subseteq> {x \\<in> A. f x = x} \\<Longrightarrow>\n  CC-complete ({q \\<in> A. f q \\<sim> q} \\<union> {p \\<in> A. f p = p})\n   (\\<sqsubseteq>)\n\ngoal (1 subgoal):\n 1. CC-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)", "by (auto simp: subset_Un_eq)"], ["proof (state)\nthis:\n  CC-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \\<open>Instances\\<close>"], ["", "subsubsection \\<open>Instances under attractivity\\<close>"], ["", "context attractive begin"], ["", "interpretation less_eq_notations"], ["proof (prove)\ngoal:\nNo subgoals!", "."], ["", "text \\<open>Full completeness\\<close>"], ["", "theorem mono_imp_qfp_UNIV_complete:\n  assumes comp: \"UNIV-complete A (\\<sqsubseteq>)\" and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"UNIV-complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. UNIV-complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)", "apply (intro fixed_point_proof.attract_mono_imp_qfp_complete comp mono)"], ["proof (prove)\ngoal (4 subgoals):\n 1. fixed_point_proof A f\n 2. attractive A (\\<sqsubseteq>)\n 3. \\<forall>C\\<subseteq>A.\n       well_related_set C (\\<sqsubseteq>) \\<longrightarrow> C \\<in> UNIV\n 4. \\<forall>X\\<in>UNIV.\n       \\<forall>Y\\<in>UNIV.\n          setwise (\\<sqsubseteq>) X Y \\<longrightarrow>\n          X \\<union> Y \\<in> UNIV", "apply unfold_locales"], ["proof (prove)\ngoal (3 subgoals):\n 1. f ` A \\<subseteq> A\n 2. \\<forall>C\\<subseteq>A.\n       well_related_set C (\\<sqsubseteq>) \\<longrightarrow> C \\<in> UNIV\n 3. \\<forall>X\\<in>UNIV.\n       \\<forall>Y\\<in>UNIV.\n          setwise (\\<sqsubseteq>) X Y \\<longrightarrow>\n          X \\<union> Y \\<in> UNIV", "by (auto simp: f)"], ["", "text \\<open>Connex completeness\\<close>"], ["", "theorem mono_imp_qfp_connex_complete:\n  assumes comp: \"{X. connex X (\\<sqsubseteq>)}-complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"{X. connex X (\\<sqsubseteq>)}-complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {X. connex X (\\<sqsubseteq>)}-complete {p \\<in> A. f p \\<sim> p}\n     (\\<sqsubseteq>)", "apply (intro fixed_point_proof.attract_mono_imp_qfp_complete mono comp)"], ["proof (prove)\ngoal (4 subgoals):\n 1. fixed_point_proof A f\n 2. attractive A (\\<sqsubseteq>)\n 3. \\<forall>C\\<subseteq>A.\n       well_related_set C (\\<sqsubseteq>) \\<longrightarrow>\n       C \\<in> {X. connex X (\\<sqsubseteq>)}\n 4. \\<forall>X\\<in>{X. connex X (\\<sqsubseteq>)}.\n       \\<forall>Y\\<in>{X. connex X (\\<sqsubseteq>)}.\n          setwise (\\<sqsubseteq>) X Y \\<longrightarrow>\n          X \\<union> Y \\<in> {X. connex X (\\<sqsubseteq>)}", "apply unfold_locales"], ["proof (prove)\ngoal (3 subgoals):\n 1. f ` A \\<subseteq> A\n 2. \\<forall>C\\<subseteq>A.\n       well_related_set C (\\<sqsubseteq>) \\<longrightarrow>\n       C \\<in> {X. connex X (\\<sqsubseteq>)}\n 3. \\<forall>X\\<in>{X. connex X (\\<sqsubseteq>)}.\n       \\<forall>Y\\<in>{X. connex X (\\<sqsubseteq>)}.\n          setwise (\\<sqsubseteq>) X Y \\<longrightarrow>\n          X \\<union> Y \\<in> {X. connex X (\\<sqsubseteq>)}", "by (auto simp: f intro: connex_union well_related_set.connex_axioms)"], ["", "text \\<open>Directed completeness\\<close>"], ["", "theorem mono_imp_qfp_directed_complete:\n  assumes comp: \"{X. directed X (\\<sqsubseteq>)}-complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"{X. directed X (\\<sqsubseteq>)}-complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {X. directed X (\\<sqsubseteq>)}-complete {p \\<in> A. f p \\<sim> p}\n     (\\<sqsubseteq>)", "apply (intro fixed_point_proof.attract_mono_imp_qfp_complete mono comp)"], ["proof (prove)\ngoal (4 subgoals):\n 1. fixed_point_proof A f\n 2. attractive A (\\<sqsubseteq>)\n 3. \\<forall>C\\<subseteq>A.\n       well_related_set C (\\<sqsubseteq>) \\<longrightarrow>\n       C \\<in> {X. directed X (\\<sqsubseteq>)}\n 4. \\<forall>X\\<in>{X. directed X (\\<sqsubseteq>)}.\n       \\<forall>Y\\<in>{X. directed X (\\<sqsubseteq>)}.\n          setwise (\\<sqsubseteq>) X Y \\<longrightarrow>\n          X \\<union> Y \\<in> {X. directed X (\\<sqsubseteq>)}", "apply unfold_locales"], ["proof (prove)\ngoal (3 subgoals):\n 1. f ` A \\<subseteq> A\n 2. \\<forall>C\\<subseteq>A.\n       well_related_set C (\\<sqsubseteq>) \\<longrightarrow>\n       C \\<in> {X. directed X (\\<sqsubseteq>)}\n 3. \\<forall>X\\<in>{X. directed X (\\<sqsubseteq>)}.\n       \\<forall>Y\\<in>{X. directed X (\\<sqsubseteq>)}.\n          setwise (\\<sqsubseteq>) X Y \\<longrightarrow>\n          X \\<union> Y \\<in> {X. directed X (\\<sqsubseteq>)}", "by (auto simp: f intro!: directed_extend intro: well_related_set.connex_axioms connex.directed)"], ["", "text \\<open>Well Completeness\\<close>"], ["", "theorem mono_imp_qfp_well_complete:\n  assumes comp: \"well_complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"well_complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_complete {p \\<in> A. f p \\<sim> p} (\\<sqsubseteq>)", "apply (intro fixed_point_proof.attract_mono_imp_qfp_complete mono comp)"], ["proof (prove)\ngoal (4 subgoals):\n 1. fixed_point_proof A f\n 2. attractive A (\\<sqsubseteq>)\n 3. \\<forall>C\\<subseteq>A.\n       well_related_set C (\\<sqsubseteq>) \\<longrightarrow>\n       C \\<in> {X. well_related_set X (\\<sqsubseteq>)}\n 4. \\<forall>X\\<in>{X. well_related_set X (\\<sqsubseteq>)}.\n       \\<forall>Y\\<in>{X. well_related_set X (\\<sqsubseteq>)}.\n          setwise (\\<sqsubseteq>) X Y \\<longrightarrow>\n          X \\<union> Y \\<in> {X. well_related_set X (\\<sqsubseteq>)}", "apply unfold_locales"], ["proof (prove)\ngoal (3 subgoals):\n 1. f ` A \\<subseteq> A\n 2. \\<forall>C\\<subseteq>A.\n       well_related_set C (\\<sqsubseteq>) \\<longrightarrow>\n       C \\<in> {X. well_related_set X (\\<sqsubseteq>)}\n 3. \\<forall>X\\<in>{X. well_related_set X (\\<sqsubseteq>)}.\n       \\<forall>Y\\<in>{X. well_related_set X (\\<sqsubseteq>)}.\n          setwise (\\<sqsubseteq>) X Y \\<longrightarrow>\n          X \\<union> Y \\<in> {X. well_related_set X (\\<sqsubseteq>)}", "by (auto simp: f well_related_extend)"], ["", "end"], ["", "subsubsection \\<open>Usual instances under antisymmetry \\<close>"], ["", "context antisymmetric begin"], ["", "text \\<open>Knaster--Tarski\\<close>"], ["", "theorem mono_imp_fp_complete:\n  assumes comp: \"UNIV-complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"UNIV-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. UNIV-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. UNIV-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)", "interpret fixed_point_proof"], ["proof (prove)\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "using f"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "by unfold_locales"], ["proof (state)\ngoal (1 subgoal):\n 1. UNIV-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. UNIV-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)", "apply (intro antisym_mono_imp_fp_complete mono antisymmetric_axioms comp)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<forall>C\\<subseteq>A.\n       well_related_set C (\\<sqsubseteq>) \\<longrightarrow> C \\<in> UNIV\n 2. \\<forall>X\\<in>UNIV.\n       \\<forall>Y\\<in>UNIV.\n          X \\<sqsubseteq>\\<^sup>s Y \\<longrightarrow>\n          X \\<union> Y \\<in> UNIV", "by auto"], ["proof (state)\nthis:\n  UNIV-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Markowsky 1976\\<close>"], ["", "theorem mono_imp_fp_connex_complete:\n  assumes comp: \"{X. connex X (\\<sqsubseteq>)}-complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"{X. connex X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {X. connex X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p}\n     (\\<sqsubseteq>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. {X. connex X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p}\n     (\\<sqsubseteq>)", "interpret fixed_point_proof"], ["proof (prove)\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "using f"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "by unfold_locales"], ["proof (state)\ngoal (1 subgoal):\n 1. {X. connex X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p}\n     (\\<sqsubseteq>)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. {X. connex X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p}\n     (\\<sqsubseteq>)", "apply (intro antisym_mono_imp_fp_complete antisymmetric_axioms mono comp)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<forall>C\\<subseteq>A.\n       well_related_set C (\\<sqsubseteq>) \\<longrightarrow>\n       C \\<in> {X. connex X (\\<sqsubseteq>)}\n 2. \\<forall>X\\<in>{X. connex X (\\<sqsubseteq>)}.\n       \\<forall>Y\\<in>{X. connex X (\\<sqsubseteq>)}.\n          X \\<sqsubseteq>\\<^sup>s Y \\<longrightarrow>\n          X \\<union> Y \\<in> {X. connex X (\\<sqsubseteq>)}", "by (auto intro: connex_union well_related_set.connex_axioms)"], ["proof (state)\nthis:\n  {X. connex X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p}\n   (\\<sqsubseteq>)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Pataraia\\<close>"], ["", "theorem mono_imp_fp_directed_complete:\n  assumes comp: \"{X. directed X (\\<sqsubseteq>)}-complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"{X. directed X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p} (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {X. directed X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p}\n     (\\<sqsubseteq>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. {X. directed X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p}\n     (\\<sqsubseteq>)", "interpret fixed_point_proof"], ["proof (prove)\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "using f"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "by unfold_locales"], ["proof (state)\ngoal (1 subgoal):\n 1. {X. directed X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p}\n     (\\<sqsubseteq>)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. {X. directed X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p}\n     (\\<sqsubseteq>)", "apply (intro antisym_mono_imp_fp_complete mono antisymmetric_axioms comp)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<forall>C\\<subseteq>A.\n       well_related_set C (\\<sqsubseteq>) \\<longrightarrow>\n       C \\<in> {X. directed X (\\<sqsubseteq>)}\n 2. \\<forall>X\\<in>{X. directed X (\\<sqsubseteq>)}.\n       \\<forall>Y\\<in>{X. directed X (\\<sqsubseteq>)}.\n          X \\<sqsubseteq>\\<^sup>s Y \\<longrightarrow>\n          X \\<union> Y \\<in> {X. directed X (\\<sqsubseteq>)}", "by (auto intro: directed_extend connex.directed well_related_set.connex_axioms)"], ["proof (state)\nthis:\n  {X. directed X (\\<sqsubseteq>)}-complete {p \\<in> A. f p = p}\n   (\\<sqsubseteq>)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Bhatta \\& George 2011\\<close>"], ["", "theorem mono_imp_fp_well_complete:\n  assumes comp: \"well_complete A (\\<sqsubseteq>)\"\n    and f: \"f ` A \\<subseteq> A\" and mono: \"monotone_on A (\\<sqsubseteq>) (\\<sqsubseteq>) f\"\n  shows \"well_complete {p \\<in> A. f p = p} (\\<sqsubseteq>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. well_complete {p \\<in> A. f p = p} (\\<sqsubseteq>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. well_complete {p \\<in> A. f p = p} (\\<sqsubseteq>)", "interpret fixed_point_proof"], ["proof (prove)\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "using f"], ["proof (prove)\nusing this:\n  f ` A \\<subseteq> A\n\ngoal (1 subgoal):\n 1. fixed_point_proof A f", "by unfold_locales"], ["proof (state)\ngoal (1 subgoal):\n 1. well_complete {p \\<in> A. f p = p} (\\<sqsubseteq>)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. well_complete {p \\<in> A. f p = p} (\\<sqsubseteq>)", "apply (intro antisym_mono_imp_fp_complete mono antisymmetric_axioms comp)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<forall>C\\<subseteq>A.\n       well_related_set C (\\<sqsubseteq>) \\<longrightarrow>\n       C \\<in> {X. well_related_set X (\\<sqsubseteq>)}\n 2. \\<forall>X\\<in>{X. well_related_set X (\\<sqsubseteq>)}.\n       \\<forall>Y\\<in>{X. well_related_set X (\\<sqsubseteq>)}.\n          X \\<sqsubseteq>\\<^sup>s Y \\<longrightarrow>\n          X \\<union> Y \\<in> {X. well_related_set X (\\<sqsubseteq>)}", "by (auto intro!: antisym well_related_extend)"], ["proof (state)\nthis:\n  well_complete {p \\<in> A. f p = p} (\\<sqsubseteq>)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}