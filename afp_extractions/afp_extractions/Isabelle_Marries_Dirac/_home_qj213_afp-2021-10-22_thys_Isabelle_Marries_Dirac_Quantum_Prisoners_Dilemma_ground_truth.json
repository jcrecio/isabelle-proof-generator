{"file_name": "/home/qj213/afp-2021-10-22/thys/Isabelle_Marries_Dirac/Quantum_Prisoners_Dilemma.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Isabelle_Marries_Dirac", "problem_names": ["lemma (in prisoner) psi_one:\n  shows \"J * |unit_vec 4 0\\<rangle> = \\<psi>\\<^sub>1\"", "lemma (in strategic_space_2p) U\\<^sub>A_tensor_U\\<^sub>B:\n  shows \"(U\\<^sub>A \\<Otimes> U\\<^sub>B) = U\\<^sub>A\\<^sub>B\"", "lemma (in strategic_space_2p) psi_two:\n  shows \"(U\\<^sub>A \\<Otimes> U\\<^sub>B) * \\<psi>\\<^sub>1 = \\<psi>\\<^sub>2\"", "lemma (in prisoner) hermite_cnj_of_J [simp]:\n  shows \"J\\<^sup>\\<dagger> = J_cnj\"", "lemma (in strategic_space_2p) psi_f:\n  shows \"(J\\<^sup>\\<dagger>) * \\<psi>\\<^sub>2 = \\<psi>\\<^sub>f\"", "lemma (in prisoner) unit_vec_4_0_ket_is_state: \n  shows \"state 2 |unit_vec 4 0\\<rangle>\"", "lemma cos_sin_squared_add_cpx: \n  \"complex_of_real (cos (\\<gamma>/2)) * complex_of_real (cos (\\<gamma>/2)) -\n   \\<i>*complex_of_real (sin (\\<gamma>/2)) * (\\<i>*complex_of_real (sin (\\<gamma>/2))) = 1\"", "lemma sin_cos_squared_add_cpx:\n  \"\\<i>*complex_of_real (sin (\\<gamma>/2)) * (\\<i>*complex_of_real (sin (\\<gamma>/2))) -\n   complex_of_real (cos (\\<gamma>/2)) * complex_of_real (cos (\\<gamma>/2)) = -1\"", "lemma (in prisoner) J_cnj_times_J:\n  shows \"J\\<^sup>\\<dagger> * J = 1\\<^sub>m 4\"", "lemma (in prisoner) J_times_J_cnj:\n  shows \"J * (J\\<^sup>\\<dagger>) = 1\\<^sub>m 4\"", "lemma (in prisoner) J_is_gate:\n  shows \"gate 2 J\"", "lemma (in strategic_space_2p) psi_one_is_state: \n  shows \"state 2 \\<psi>\\<^sub>1\"", "lemma (in strategic_space_2p) hermite_cnj_of_U\\<^sub>A:\n  shows \"U\\<^sub>A\\<^sup>\\<dagger> = U\\<^sub>A_cnj\"", "lemma (in strategic_space_2p) hermite_cnj_of_U\\<^sub>B:\n  shows \"U\\<^sub>B\\<^sup>\\<dagger> = U\\<^sub>B_cnj\"", "lemma exp_sin_cos_squared_add:\n  fixes x y :: real\n  shows \"exp (- (\\<i> * x)) * cos (y) * (exp (\\<i> * x) * cos (y)) + sin(y) * sin(y) = 1\"", "lemma (in strategic_space_2p) U\\<^sub>A_cnj_times_U\\<^sub>A:\n  shows \"U\\<^sub>A\\<^sup>\\<dagger> * U\\<^sub>A = 1\\<^sub>m 2\"", "lemma (in strategic_space_2p) U\\<^sub>A_times_U\\<^sub>A_cnj:\n  shows \"U\\<^sub>A * (U\\<^sub>A\\<^sup>\\<dagger>) = 1\\<^sub>m 2\"", "lemma (in strategic_space_2p) U\\<^sub>B_cnj_times_U\\<^sub>B:\n  shows \"U\\<^sub>B\\<^sup>\\<dagger> * U\\<^sub>B = 1\\<^sub>m 2\"", "lemma (in strategic_space_2p) U\\<^sub>B_times_U\\<^sub>B_cnj:\n  shows \"U\\<^sub>B * (U\\<^sub>B\\<^sup>\\<dagger>) = 1\\<^sub>m 2\"", "lemma (in strategic_space_2p) U\\<^sub>A\\<^sub>_is_gate:\n  shows \"gate 1 U\\<^sub>A\"", "lemma (in strategic_space_2p) U\\<^sub>B_is_gate:\n  shows \"gate 1 U\\<^sub>B\"", "lemma (in strategic_space_2p) U\\<^sub>A\\<^sub>B_is_gate:\n  shows \"gate 2 (U\\<^sub>A \\<Otimes> U\\<^sub>B)\"", "lemma (in strategic_space_2p) psi_two_is_state:\n  shows \"state 2 \\<psi>\\<^sub>2\"", "lemma (in strategic_space_2p) J_cnj_is_gate:\n  shows \"gate 2 (J\\<^sup>\\<dagger>)\"", "lemma (in strategic_space_2p) psi_f_is_state: \n  shows \"state 2 \\<psi>\\<^sub>f\"", "lemma (in strategic_space_2p) equation_one:\n  shows \"(J\\<^sup>\\<dagger>) * ((U\\<^sub>A \\<Otimes> U\\<^sub>B) * (J * |unit_vec 4 0\\<rangle>)) = \\<psi>\\<^sub>f\"", "lemma (in strategic_space_2p) sum_of_prob:\n  fixes v :: \"complex Matrix.mat\"\n  assumes \"state 2 v\"\n  shows \"(prob00 v) + (prob11 v) + (prob01 v) + (prob10 v) = 1\"", "lemma (in strategic_space_2p) sum_payoff_le_6:\n  fixes tA pA tB pB :: real\n  shows \"alice_payoff + bob_payoff \\<le> 6\"", "lemma (in strategic_space_2p) coop_is_pareto_opt:\n  assumes \"alice_payoff = 3 \\<and> bob_payoff = 3\"\n  shows \"is_pareto_opt\"", "lemma (in strategic_space_2p) separable_case_CC: (* both player cooperate *)\n  assumes \"\\<gamma> = 0\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> alice_payoff = 3 \\<and> bob_payoff = 3\"", "lemma (in strategic_space_2p) separable_case_DD: (* both player defect *)\n  assumes \"\\<gamma> = 0\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow> alice_payoff = 1 \\<and> bob_payoff = 1\"", "lemma (in strategic_space_2p) separable_case_DC: (* Alice defects, and Bob cooperates *)\n  assumes \"\\<gamma> = 0\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> alice_payoff = 5 \\<and> bob_payoff = 0\"", "lemma (in strategic_space_2p) separable_alice_payoff_D\\<^sub>B: \n(* Alice's payoff in the separable case given that Bob defects *)\n  assumes \"\\<gamma> = 0\" and \"\\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\"\n  shows \"alice_payoff \\<le> 1\"", "lemma (in strategic_space_2p) separable_bob_payoff_D\\<^sub>A:\n(* Bob's payoff in the separable case given that Alice defects *)\n  assumes \"\\<gamma> = 0\" and \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi\"\n  shows \"bob_payoff \\<le> 1\"", "lemma (in strategic_space_2p) separable_case_DD_alice_opt:\n  assumes \"\\<gamma> = 0\" and \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\"\n  shows \"\\<And>tA pA. strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<longrightarrow> strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<le> alice_payoff\"", "lemma (in strategic_space_2p) separable_case_DD_bob_opt:\n  assumes \"\\<gamma> = 0\" and \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\"\n  shows \"\\<And>tB pB. strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB \\<longrightarrow> strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB \\<le> bob_payoff\"", "lemma (in strategic_space_2p) separable_case_DD_is_nash_eq:\n  assumes \"\\<gamma> = 0\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow> is_nash_eq\"", "lemma (in strategic_space_2p) separable_case_CC_is_not_nash_eq:\n  assumes \"\\<gamma> = 0\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> \\<not> is_nash_eq\"", "lemma (in strategic_space_2p) separable_case_CC_is_pareto_optimal:\n  assumes \"\\<gamma> = 0\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> is_pareto_opt\"", "lemma exp_to_sin:\n  fixes x:: real\n  shows \"exp (\\<i> * x) - exp (-(\\<i> * x)) = 2 * \\<i> * (sin x)\"", "lemma exp_to_cos:\n  fixes x:: real\n  shows \"exp (\\<i> * x) + exp (-(\\<i> * x)) = 2 * (cos x)\"", "lemma cmod_real_prod_squared: \n  fixes x y:: real\n  shows \"(cmod (complex_of_real x * complex_of_real y))\\<^sup>2 = x\\<^sup>2 * y\\<^sup>2\"", "lemma quantum_payoff_simp:\n  fixes x y:: real\n  shows \"3 * (cmod (complex_of_real (sin x) * complex_of_real (cos y)))\\<^sup>2 +\n         (cmod (complex_of_real (cos x) * complex_of_real (cos y)))\\<^sup>2 = \n         2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2\"", "lemma quantum_payoff_le_3: \n  fixes x y:: real\n  shows \"2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2 \\<le> 3\"", "lemma sqrt_two_squared_cpx: \"complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\"", "lemma hidden_sqrt_two_squared_cpx: \"complex_of_real (sqrt 2) * (complex_of_real (sqrt 2) * x) / 4 = x/2\"", "lemma (in strategic_space_2p) max_entangled_DD:\n(* both players defects in the maximally entangled case *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow> alice_payoff = 1 \\<and> bob_payoff = 1\"", "lemma (in strategic_space_2p) max_entangled_QQ:\n(* both players play the move Q in the maximally entangled case *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = pi/2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> alice_payoff = 3 \\<and> bob_payoff = 3\"", "lemma (in strategic_space_2p) max_entangled_QD:\n(* Alice plays the move Q, and Bob defects in the maximally entangled case *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow> alice_payoff = 5 \\<and> bob_payoff = 0\"", "lemma (in strategic_space_2p) max_entangled_alice_payoff_Q\\<^sub>B:\n(* Alice's payoff in the maximally entangled case given that Bob plays the move Q *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>B = pi/2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> alice_payoff \\<le> 3\"", "lemma (in strategic_space_2p) max_entangled_bob_payoff_Q\\<^sub>A:\n(* Bob's payoff in the maximally entangled case given that Alice plays the move Q *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<longrightarrow> bob_payoff \\<le> 3\"", "lemma (in strategic_space_2p) max_entangled_DD_is_not_nash_eq:\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow> \\<not>is_nash_eq\"", "lemma (in strategic_space_2p) max_entangled_alice_opt:\n  assumes \"\\<gamma> = pi/2\" and \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = pi/2 \\<and> \\<theta>\\<^sub>B = 0\"\n  shows \"\\<And>tA pA. strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<longrightarrow> strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<le> alice_payoff\"", "lemma (in strategic_space_2p) max_entangled_bob_opt:\n  assumes \"\\<gamma> = pi/2\" and \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = pi/2 \\<and> \\<theta>\\<^sub>B = 0\"\n  shows \"\\<And>tB pB. strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB \\<longrightarrow> strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB \\<le> bob_payoff\"", "lemma (in strategic_space_2p) max_entangled_QQ_is_nash_eq:\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = pi/2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> is_nash_eq\"", "lemma (in strategic_space_2p) max_entangled_QQ_is_pareto_optimal:\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = pi/2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> is_pareto_opt\"", "lemma half_sqrt_two_squared: \"2 * (sqrt 2 / 2)\\<^sup>2 = 1\"", "lemma (in strategic_space_2p) max_entangled_MD:\n(* Alice plays the \"miracle move\", and Bob plays the classical defect move in the maximally entangled case *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = pi/2 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow> alice_payoff = 3 \\<and> bob_payoff = 1/2\"", "lemma (in strategic_space_2p) max_entangled_MC:\n(* Alice plays the \"miracle move\", and Bob plays the classical defect move in the maximally entangled case *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = pi/2 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> alice_payoff = 3 \\<and> bob_payoff = 1/2\"", "lemma (in strategic_space_2p) max_entangled_MH:\n(* Alice plays the \"miracle move\", and Bob plays the classical half move in the maximally entangled case *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = pi/2 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi/2 \\<longrightarrow> alice_payoff = 1 \\<and> bob_payoff = 1\"", "lemma (in strategic_space_2p) M_correct:\n  assumes \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = pi/2\"\n  shows \"U\\<^sub>A = M\"", "lemma hidden_sqrt_two_squared_cpx2:\n  fixes x y :: complex\n  shows \"(sqrt 2) * ((sqrt 2) * (x * y)) / 2 = x * y\"", "lemma (in strategic_space_2p) unfair_strategy_no_benefit:\n(* Two players' payoffs in the maximally entangled case given that Alice plays a quantum move and Bob \nplays a classical move with the same \\<theta> *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>A = \\<theta>\\<^sub>B \\<longrightarrow> alice_payoff = 1 \\<and> bob_payoff = 1\""], "translations": [["", "lemma (in prisoner) psi_one:\n  shows \"J * |unit_vec 4 0\\<rangle> = \\<psi>\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n    |unit_vec 4 0\\<rangle> =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]]", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]] *\n                          |unit_vec 4 0\\<rangle>) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "fix i j"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]] *\n                          |unit_vec 4 0\\<rangle>) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "assume a0:\"i < dim_row \\<psi>\\<^sub>1\" and a1:\"j < dim_col \\<psi>\\<^sub>1\""], ["proof (state)\nthis:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]] *\n                          |unit_vec 4 0\\<rangle>) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "then"], ["proof (chain)\npicking this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "have \"(J * |unit_vec 4 0\\<rangle>) $$ (i,j) = (\\<Sum>k<4. (J $$ (i,k)) * ( |unit_vec 4 0\\<rangle> $$ (k,j)))\""], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n     |unit_vec 4 0\\<rangle>) $$\n    (i, j) =\n    (\\<Sum>k<4.\n        Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n          [0, complex_of_real (cos (\\<gamma> / 2)),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n          0 #\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [cos (\\<gamma> / 2), 0],\n          \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n        (i, k) *\n        |unit_vec 4 0\\<rangle> $$ (k, j))", "using mat_of_cols_list_def ket_vec_def"], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  |?v\\<rangle> \\<equiv> Matrix.mat (dim_vec ?v) 1 (\\<lambda>(i, j). ?v $ i)\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n     |unit_vec 4 0\\<rangle>) $$\n    (i, j) =\n    (\\<Sum>k<4.\n        Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n          [0, complex_of_real (cos (\\<gamma> / 2)),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n          0 #\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [cos (\\<gamma> / 2), 0],\n          \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n        (i, k) *\n        |unit_vec 4 0\\<rangle> $$ (k, j))", "by auto"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n   |unit_vec 4 0\\<rangle>) $$\n  (i, j) =\n  (\\<Sum>k<4.\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n      (i, k) *\n      |unit_vec 4 0\\<rangle> $$ (k, j))\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]] *\n                          |unit_vec 4 0\\<rangle>) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "also"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n   |unit_vec 4 0\\<rangle>) $$\n  (i, j) =\n  (\\<Sum>k<4.\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n      (i, k) *\n      |unit_vec 4 0\\<rangle> $$ (k, j))\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]] *\n                          |unit_vec 4 0\\<rangle>) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "have \"... = (\\<Sum>k\\<in>{0,1,2,3}. (J $$ (i,k)) * ( |unit_vec 4 0\\<rangle> $$ (k,j)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k<4.\n        Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n          [0, complex_of_real (cos (\\<gamma> / 2)),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n          0 #\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [cos (\\<gamma> / 2), 0],\n          \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n        (i, k) *\n        |unit_vec 4 0\\<rangle> $$ (k, j)) =\n    (\\<Sum>k\\<in>{0, 1, 2, 3}.\n       Tensor.mat_of_cols_list 4\n        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n         [0, complex_of_real (cos (\\<gamma> / 2)),\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n         0 #\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [cos (\\<gamma> / 2), 0],\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n       (i, k) *\n       |unit_vec 4 0\\<rangle> $$ (k, j))", "using set_4 atLeast0LessThan"], ["proof (prove)\nusing this:\n  {..<4} = {0, 1, 2, 3}\n  {0..<?n} = {..<?n}\n\ngoal (1 subgoal):\n 1. (\\<Sum>k<4.\n        Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n          [0, complex_of_real (cos (\\<gamma> / 2)),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n          0 #\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [cos (\\<gamma> / 2), 0],\n          \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n        (i, k) *\n        |unit_vec 4 0\\<rangle> $$ (k, j)) =\n    (\\<Sum>k\\<in>{0, 1, 2, 3}.\n       Tensor.mat_of_cols_list 4\n        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n         [0, complex_of_real (cos (\\<gamma> / 2)),\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n         0 #\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [cos (\\<gamma> / 2), 0],\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n       (i, k) *\n       |unit_vec 4 0\\<rangle> $$ (k, j))", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>k<4.\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n      (i, k) *\n      |unit_vec 4 0\\<rangle> $$ (k, j)) =\n  (\\<Sum>k\\<in>{0, 1, 2, 3}.\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n     (i, k) *\n     |unit_vec 4 0\\<rangle> $$ (k, j))\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]] *\n                          |unit_vec 4 0\\<rangle>) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "also"], ["proof (state)\nthis:\n  (\\<Sum>k<4.\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n      (i, k) *\n      |unit_vec 4 0\\<rangle> $$ (k, j)) =\n  (\\<Sum>k\\<in>{0, 1, 2, 3}.\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n     (i, k) *\n     |unit_vec 4 0\\<rangle> $$ (k, j))\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]] *\n                          |unit_vec 4 0\\<rangle>) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "have \"... = \\<psi>\\<^sub>1 $$ (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k\\<in>{0, 1, 2, 3}.\n       Tensor.mat_of_cols_list 4\n        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n         [0, complex_of_real (cos (\\<gamma> / 2)),\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n         0 #\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [cos (\\<gamma> / 2), 0],\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n       (i, k) *\n       |unit_vec 4 0\\<rangle> $$ (k, j)) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n    (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>k\\<in>{0, 1, 2, 3}.\n       Tensor.mat_of_cols_list 4\n        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n         [0, complex_of_real (cos (\\<gamma> / 2)),\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n         0 #\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [cos (\\<gamma> / 2), 0],\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n       (i, k) *\n       |unit_vec 4 0\\<rangle> $$ (k, j)) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n    (i, j)", "have \"i\\<in>{0,1,2,3} \\<and> j=0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j = 0", "using a0 a1 mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j = 0", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3} \\<and> j = 0\n\ngoal (1 subgoal):\n 1. (\\<Sum>k\\<in>{0, 1, 2, 3}.\n       Tensor.mat_of_cols_list 4\n        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n         [0, complex_of_real (cos (\\<gamma> / 2)),\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n         0 #\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [cos (\\<gamma> / 2), 0],\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n       (i, k) *\n       |unit_vec 4 0\\<rangle> $$ (k, j)) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n    (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j = 0\n\ngoal (1 subgoal):\n 1. (\\<Sum>k\\<in>{0, 1, 2, 3}.\n       Tensor.mat_of_cols_list 4\n        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n         [0, complex_of_real (cos (\\<gamma> / 2)),\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n         0 #\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [cos (\\<gamma> / 2), 0],\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n       (i, k) *\n       |unit_vec 4 0\\<rangle> $$ (k, j)) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n    (i, j)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j = 0\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. (\\<Sum>k\\<in>{0, 1, 2, 3}.\n       Tensor.mat_of_cols_list 4\n        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n         [0, complex_of_real (cos (\\<gamma> / 2)),\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n         0 #\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [cos (\\<gamma> / 2), 0],\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n         map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n       (i, k) *\n       |unit_vec 4 0\\<rangle> $$ (k, j)) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n    (i, j)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>k\\<in>{0, 1, 2, 3}.\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n     (i, k) *\n     |unit_vec 4 0\\<rangle> $$ (k, j)) =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n  (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>k\\<in>{0, 1, 2, 3}.\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n     (i, k) *\n     |unit_vec 4 0\\<rangle> $$ (k, j)) =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n  (i, j)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]] *\n                          |unit_vec 4 0\\<rangle>) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "finally"], ["proof (chain)\npicking this:\n  (Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n   |unit_vec 4 0\\<rangle>) $$\n  (i, j) =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n  (i, j)", "show \"(J * |unit_vec 4 0\\<rangle>) $$ (i,j) = \\<psi>\\<^sub>1 $$ (i,j)\""], ["proof (prove)\nusing this:\n  (Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n   |unit_vec 4 0\\<rangle>) $$\n  (i, j) =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n  (i, j)\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n     |unit_vec 4 0\\<rangle>) $$\n    (i, j) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n    (i, j)", "by simp"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n   |unit_vec 4 0\\<rangle>) $$\n  (i, j) =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))]] $$\n  (i, j)\n\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n 2. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n 2. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "show  \"dim_row (J * |unit_vec 4 0\\<rangle>) = dim_row \\<psi>\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "by simp"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n    |unit_vec 4 0\\<rangle>) =\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "show  \"dim_col (J*|unit_vec 4 0\\<rangle>) = dim_col \\<psi>\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "by (simp add: ket_vec_def)"], ["proof (state)\nthis:\n  dim_col\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n    |unit_vec 4 0\\<rangle>) =\n  dim_col\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal:\nNo subgoals!", "qed"], ["", "locale strategic_space_2p = prisoner +\n  fixes \\<theta>\\<^sub>A:: \"real\"\n    and \\<phi>\\<^sub>A:: \"real\" \n    and \\<theta>\\<^sub>B:: \"real\"\n    and \\<phi>\\<^sub>B:: \"real\"\n  assumes \"0 \\<le> \\<theta>\\<^sub>A \\<and> \\<theta>\\<^sub>A \\<le> pi\"\n      and \"0 \\<le> \\<phi>\\<^sub>A \\<and> \\<phi>\\<^sub>A \\<le> pi/2\"\n      and \"0 \\<le> \\<theta>\\<^sub>B \\<and> \\<theta>\\<^sub>B \\<le> pi\"\n      and \"0 \\<le> \\<phi>\\<^sub>B \\<and> \\<phi>\\<^sub>B \\<le> pi/2\""], ["", "abbreviation (in strategic_space_2p) U\\<^sub>A :: \"complex Matrix.mat\" where\n\"U\\<^sub>A \\<equiv> mat_of_cols_list 2 [[exp(\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2), -sin(\\<theta>\\<^sub>A/2)],\n                           [sin(\\<theta>\\<^sub>A/2), exp(-\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2)]]\""], ["", "abbreviation (in strategic_space_2p) U\\<^sub>B :: \"complex Matrix.mat\" where\n\"U\\<^sub>B \\<equiv> mat_of_cols_list 2 [[exp(\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2), -sin(\\<theta>\\<^sub>B/2)],\n                           [sin(\\<theta>\\<^sub>B/2), exp(-\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2)]]\""], ["", "abbreviation (in strategic_space_2p) \\<psi>\\<^sub>2 :: \"complex Matrix.mat\" where\n\"\\<psi>\\<^sub>2 \\<equiv> \nmat_of_cols_list 4 [[exp(\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * exp(\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2) * cos(\\<gamma>/2) + sin(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2) * \\<i>*sin(\\<gamma>/2),\n                     exp(\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * -sin(\\<theta>\\<^sub>B/2) * cos(\\<gamma>/2) + sin(\\<theta>\\<^sub>A/2) * exp(-\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2) * \\<i>*sin(\\<gamma>/2),\n                     -sin(\\<theta>\\<^sub>A/2) * exp(\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2) * cos(\\<gamma>/2) + exp(-\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2) * \\<i>*sin(\\<gamma>/2),\n                     sin(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2) * cos(\\<gamma>/2) + exp(-\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * exp(-\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2) * \\<i>*sin(\\<gamma>/2)]]\""], ["", "abbreviation (in strategic_space_2p) U\\<^sub>A\\<^sub>B :: \"complex Matrix.mat\" where\n\"U\\<^sub>A\\<^sub>B \\<equiv> \nmat_of_cols_list 4 [[exp(\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * exp(\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2), exp(\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * -sin(\\<theta>\\<^sub>B/2),\n                            -sin(\\<theta>\\<^sub>A/2) * exp(\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2), -sin(\\<theta>\\<^sub>A/2) * -sin(\\<theta>\\<^sub>B/2)],\n                    [exp(\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2), exp(\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * exp(-\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2),\n                            -sin(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2), -sin(\\<theta>\\<^sub>A/2) * exp(-\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2)],\n                    [sin(\\<theta>\\<^sub>A/2) * exp(\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2), -sin(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2),\n                            exp(-\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * exp (\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2), exp(-\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * -sin(\\<theta>\\<^sub>B/2)],\n                    [sin(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2), sin(\\<theta>\\<^sub>A/2) * exp(-\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2),\n                            exp(-\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2), exp (-\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * exp(-\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2)]]\""], ["", "lemma (in strategic_space_2p) U\\<^sub>A_tensor_U\\<^sub>B:\n  shows \"(U\\<^sub>A \\<Otimes> U\\<^sub>B) = U\\<^sub>A\\<^sub>B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] =\n    Tensor.mat_of_cols_list 4\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n      complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real\n       [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       complex_of_real\n        (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       complex_of_real\n        (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n      [complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n                        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        map complex_of_real\n                         [- sin (\\<theta>\\<^sub>A / 2) *\n                          - sin (\\<theta>\\<^sub>B / 2)],\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real\n                          (- sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n                        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real\n                          (- sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n                        [complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n                complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                map complex_of_real\n                 [- sin (\\<theta>\\<^sub>A / 2) *\n                  - sin (\\<theta>\\<^sub>B / 2)],\n                [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real\n                  (- sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n                [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real\n                  (- sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n                [complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B / 2))]]) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                           complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n                           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>A / 2) *\n                             - sin (\\<theta>\\<^sub>B / 2)],\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real\n                             (- sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n                           [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real\n                             (- sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n                           [complex_of_real\n                             (sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>B / 2))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "fix i j"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n                        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        map complex_of_real\n                         [- sin (\\<theta>\\<^sub>A / 2) *\n                          - sin (\\<theta>\\<^sub>B / 2)],\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real\n                          (- sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n                        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real\n                          (- sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n                        [complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n                complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                map complex_of_real\n                 [- sin (\\<theta>\\<^sub>A / 2) *\n                  - sin (\\<theta>\\<^sub>B / 2)],\n                [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real\n                  (- sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n                [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real\n                  (- sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n                [complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B / 2))]]) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                           complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n                           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>A / 2) *\n                             - sin (\\<theta>\\<^sub>B / 2)],\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real\n                             (- sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n                           [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real\n                             (- sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n                           [complex_of_real\n                             (sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>B / 2))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "assume a0: \"i<dim_row U\\<^sub>A\\<^sub>B\" and a1: \"j<dim_col U\\<^sub>A\\<^sub>B\""], ["proof (state)\nthis:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n          complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real\n           [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n          complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real\n           [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n                        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        map complex_of_real\n                         [- sin (\\<theta>\\<^sub>A / 2) *\n                          - sin (\\<theta>\\<^sub>B / 2)],\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real\n                          (- sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n                        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real\n                          (- sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n                        [complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n                complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                map complex_of_real\n                 [- sin (\\<theta>\\<^sub>A / 2) *\n                  - sin (\\<theta>\\<^sub>B / 2)],\n                [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real\n                  (- sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n                [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real\n                  (- sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n                [complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B / 2))]]) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                           complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n                           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>A / 2) *\n                             - sin (\\<theta>\\<^sub>B / 2)],\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real\n                             (- sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n                           [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real\n                             (- sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n                           [complex_of_real\n                             (sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>B / 2))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "then"], ["proof (chain)\npicking this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n          complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real\n           [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n          complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real\n           [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "have \"i\\<in>{0,1,2,3} \\<and> j\\<in>{0,1,2,3}\""], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n          complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real\n           [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n          complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real\n           [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n          complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real\n           [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n          complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real\n           [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           complex_of_real\n            (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n          [complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n                        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        map complex_of_real\n                         [- sin (\\<theta>\\<^sub>A / 2) *\n                          - sin (\\<theta>\\<^sub>B / 2)],\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real\n                          (- sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n                        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real\n                          (- sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n                        [complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)),\n                         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n                complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                map complex_of_real\n                 [- sin (\\<theta>\\<^sub>A / 2) *\n                  - sin (\\<theta>\\<^sub>B / 2)],\n                [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real\n                  (- sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n                [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real\n                  (- sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n                [complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B / 2))]]) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                           complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n                           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>A / 2) *\n                             - sin (\\<theta>\\<^sub>B / 2)],\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real\n                             (- sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n                           [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real\n                             (- sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n                           [complex_of_real\n                             (sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)),\n                            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>B / 2))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "then"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}", "show \"(U\\<^sub>A \\<Otimes> U\\<^sub>B) $$ (i,j) = U\\<^sub>A\\<^sub>B $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) $$\n    (i, j) =\n    Tensor.mat_of_cols_list 4\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n      complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real\n       [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       complex_of_real\n        (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       complex_of_real\n        (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n      [complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] $$\n    (i, j)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) $$\n    (i, j) =\n    Tensor.mat_of_cols_list 4\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n      complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real\n       [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       complex_of_real\n        (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       complex_of_real\n        (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n      [complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] $$\n    (i, j)", "by auto"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) $$\n  (i, j) =\n  Tensor.mat_of_cols_list 4\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n    complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real\n     [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n     complex_of_real\n      (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n     complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n    [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n     complex_of_real\n      (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n    [complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] $$\n  (i, j)\n\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 2. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 2. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "show \"dim_row (U\\<^sub>A \\<Otimes> U\\<^sub>B) = dim_row U\\<^sub>A\\<^sub>B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "by simp"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n      complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real\n       [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       complex_of_real\n        (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       complex_of_real\n        (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n      [complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "show \"dim_col (U\\<^sub>A \\<Otimes> U\\<^sub>B) = dim_col U\\<^sub>A\\<^sub>B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real\n         [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         complex_of_real\n          (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n        [complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "by simp"], ["proof (state)\nthis:\n  dim_col\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n  dim_col\n   (Tensor.mat_of_cols_list 4\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n      complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real\n       [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       complex_of_real\n        (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       complex_of_real\n        (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n      [complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) psi_two:\n  shows \"(U\\<^sub>A \\<Otimes> U\\<^sub>B) * \\<psi>\\<^sub>1 = \\<psi>\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]] =\n    Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]]", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2) *\n                           cos (\\<gamma> / 2)) +\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)),\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)),\n                 complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)),\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))]])\\<rbrakk>\n       \\<Longrightarrow> ((Tensor.mat_of_cols_list 2\n                            [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                             map complex_of_real\n                              [- sin (\\<theta>\\<^sub>A / 2)],\n                             [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                              exp (- \\<i> *\n                                   complex_of_real \\<phi>\\<^sub>A) *\n                              complex_of_real\n                               (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n                           Tensor.mat_of_cols_list 2\n                            [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                             map complex_of_real\n                              [- sin (\\<theta>\\<^sub>B / 2)],\n                             [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                              exp (- \\<i> *\n                                   complex_of_real \\<phi>\\<^sub>B) *\n                              complex_of_real\n                               (cos (\\<theta>\\<^sub>B / 2))]]) *\n                          Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))]]) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                            complex_of_real (cos (\\<gamma> / 2)) +\n                            complex_of_real\n                             (sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)) *\n                            \\<i> *\n                            complex_of_real (sin (\\<gamma> / 2)),\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                            complex_of_real (cos (\\<gamma> / 2)) +\n                            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                            \\<i> *\n                            complex_of_real (sin (\\<gamma> / 2)),\n                            complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                            complex_of_real (cos (\\<gamma> / 2)) +\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                            \\<i> *\n                            complex_of_real (sin (\\<gamma> / 2)),\n                            complex_of_real\n                             (sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2) *\n                              cos (\\<gamma> / 2)) +\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                            \\<i> *\n                            complex_of_real (sin (\\<gamma> / 2))]] $$\n                         (i, j)\n 2. dim_row\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])\n 3. dim_col\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "fix i j"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2) *\n                           cos (\\<gamma> / 2)) +\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)),\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)),\n                 complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)),\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))]])\\<rbrakk>\n       \\<Longrightarrow> ((Tensor.mat_of_cols_list 2\n                            [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                             map complex_of_real\n                              [- sin (\\<theta>\\<^sub>A / 2)],\n                             [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                              exp (- \\<i> *\n                                   complex_of_real \\<phi>\\<^sub>A) *\n                              complex_of_real\n                               (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n                           Tensor.mat_of_cols_list 2\n                            [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                             map complex_of_real\n                              [- sin (\\<theta>\\<^sub>B / 2)],\n                             [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                              exp (- \\<i> *\n                                   complex_of_real \\<phi>\\<^sub>B) *\n                              complex_of_real\n                               (cos (\\<theta>\\<^sub>B / 2))]]) *\n                          Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))]]) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                            complex_of_real (cos (\\<gamma> / 2)) +\n                            complex_of_real\n                             (sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)) *\n                            \\<i> *\n                            complex_of_real (sin (\\<gamma> / 2)),\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                            complex_of_real (cos (\\<gamma> / 2)) +\n                            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                            \\<i> *\n                            complex_of_real (sin (\\<gamma> / 2)),\n                            complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                            complex_of_real (cos (\\<gamma> / 2)) +\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                            \\<i> *\n                            complex_of_real (sin (\\<gamma> / 2)),\n                            complex_of_real\n                             (sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2) *\n                              cos (\\<gamma> / 2)) +\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                            \\<i> *\n                            complex_of_real (sin (\\<gamma> / 2))]] $$\n                         (i, j)\n 2. dim_row\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])\n 3. dim_col\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "assume a0:\"i < dim_row \\<psi>\\<^sub>2\" and a1:\"j < dim_col \\<psi>\\<^sub>2\""], ["proof (state)\nthis:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n             cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n             cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2) *\n                           cos (\\<gamma> / 2)) +\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)),\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)),\n                 complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)),\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))]])\\<rbrakk>\n       \\<Longrightarrow> ((Tensor.mat_of_cols_list 2\n                            [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                             map complex_of_real\n                              [- sin (\\<theta>\\<^sub>A / 2)],\n                             [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                              exp (- \\<i> *\n                                   complex_of_real \\<phi>\\<^sub>A) *\n                              complex_of_real\n                               (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n                           Tensor.mat_of_cols_list 2\n                            [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                             map complex_of_real\n                              [- sin (\\<theta>\\<^sub>B / 2)],\n                             [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                              exp (- \\<i> *\n                                   complex_of_real \\<phi>\\<^sub>B) *\n                              complex_of_real\n                               (cos (\\<theta>\\<^sub>B / 2))]]) *\n                          Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))]]) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                            complex_of_real (cos (\\<gamma> / 2)) +\n                            complex_of_real\n                             (sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2)) *\n                            \\<i> *\n                            complex_of_real (sin (\\<gamma> / 2)),\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                            complex_of_real (cos (\\<gamma> / 2)) +\n                            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                            \\<i> *\n                            complex_of_real (sin (\\<gamma> / 2)),\n                            complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                            complex_of_real (cos (\\<gamma> / 2)) +\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                            \\<i> *\n                            complex_of_real (sin (\\<gamma> / 2)),\n                            complex_of_real\n                             (sin (\\<theta>\\<^sub>A / 2) *\n                              sin (\\<theta>\\<^sub>B / 2) *\n                              cos (\\<gamma> / 2)) +\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                            \\<i> *\n                            complex_of_real (sin (\\<gamma> / 2))]] $$\n                         (i, j)\n 2. dim_row\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])\n 3. dim_col\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "then"], ["proof (chain)\npicking this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n             cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n             cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2))]])", "show \"((U\\<^sub>A \\<Otimes> U\\<^sub>B) * \\<psi>\\<^sub>1) $$ (i,j) = \\<psi>\\<^sub>2 $$ (i,j)\""], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n             cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n             cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal (1 subgoal):\n 1. ((Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) $$\n    (i, j) =\n    Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]] $$\n    (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row\n                  (Tensor.mat_of_cols_list 4\n                    [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)),\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)),\n                      complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)),\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))]]);\n     j < dim_col\n          (Tensor.mat_of_cols_list 4\n            [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)),\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)),\n              complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)),\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))]])\\<rbrakk>\n    \\<Longrightarrow> ((Tensor.mat_of_cols_list 2\n                         [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                          map complex_of_real\n                           [- sin (\\<theta>\\<^sub>A / 2)],\n                          [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real\n                            (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n                        Tensor.mat_of_cols_list 2\n                         [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                          map complex_of_real\n                           [- sin (\\<theta>\\<^sub>B / 2)],\n                          [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n                       Tensor.mat_of_cols_list 4\n                        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                          \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) $$\n                      (i, j) =\n                      Tensor.mat_of_cols_list 4\n                       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2) *\n                           cos (\\<gamma> / 2)) +\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2))]] $$\n                      (i, j)", "have \"i\\<in>{0,1,2,3} \\<and> j=0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j = 0", "using a0 a1 mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n             cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           complex_of_real (cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2)),\n           complex_of_real\n            (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n             cos (\\<gamma> / 2)) +\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n           \\<i> *\n           complex_of_real (sin (\\<gamma> / 2))]])\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j = 0", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3} \\<and> j = 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row\n                  (Tensor.mat_of_cols_list 4\n                    [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)),\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)),\n                      complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)),\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))]]);\n     j < dim_col\n          (Tensor.mat_of_cols_list 4\n            [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)),\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)),\n              complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)),\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))]])\\<rbrakk>\n    \\<Longrightarrow> ((Tensor.mat_of_cols_list 2\n                         [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                          map complex_of_real\n                           [- sin (\\<theta>\\<^sub>A / 2)],\n                          [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real\n                            (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n                        Tensor.mat_of_cols_list 2\n                         [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                          map complex_of_real\n                           [- sin (\\<theta>\\<^sub>B / 2)],\n                          [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                           exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n                       Tensor.mat_of_cols_list 4\n                        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                          \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) $$\n                      (i, j) =\n                      Tensor.mat_of_cols_list 4\n                       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         complex_of_real (cos (\\<gamma> / 2)) +\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2)),\n                         complex_of_real\n                          (sin (\\<theta>\\<^sub>A / 2) *\n                           sin (\\<theta>\\<^sub>B / 2) *\n                           cos (\\<gamma> / 2)) +\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                         \\<i> *\n                         complex_of_real (sin (\\<gamma> / 2))]] $$\n                      (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j = 0\n\ngoal (1 subgoal):\n 1. ((Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) $$\n    (i, j) =\n    Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]] $$\n    (i, j)", "using mat_of_cols_list_def U\\<^sub>A_tensor_U\\<^sub>B set_4"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j = 0\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] =\n  Tensor.mat_of_cols_list 4\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) #\n    complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real\n     [- sin (\\<theta>\\<^sub>A / 2) * - sin (\\<theta>\\<^sub>B / 2)],\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n     complex_of_real\n      (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n     complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))],\n    [complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n     complex_of_real\n      (- sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (- sin (\\<theta>\\<^sub>B / 2))],\n    [complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)),\n     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\n  {..<4} = {0, 1, 2, 3}\n\ngoal (1 subgoal):\n 1. ((Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) $$\n    (i, j) =\n    Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]] $$\n    (i, j)", "by auto"], ["proof (state)\nthis:\n  ((Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) $$\n  (i, j) =\n  Tensor.mat_of_cols_list 4\n   [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n       cos (\\<gamma> / 2)) +\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2))]] $$\n  (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) $$\n  (i, j) =\n  Tensor.mat_of_cols_list 4\n   [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n       cos (\\<gamma> / 2)) +\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2))]] $$\n  (i, j)\n\ngoal (2 subgoals):\n 1. dim_row\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])\n 2. dim_col\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])\n 2. dim_col\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "show \"dim_row ((U\\<^sub>A \\<Otimes> U\\<^sub>B)*\\<psi>\\<^sub>1) = dim_row \\<psi>\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "by simp"], ["proof (state)\nthis:\n  dim_row\n   ((Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal (1 subgoal):\n 1. dim_col\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_col\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "show \"dim_col ((U\\<^sub>A \\<Otimes> U\\<^sub>B)*\\<psi>\\<^sub>1) = dim_col \\<psi>\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "by simp"], ["proof (state)\nthis:\n  dim_col\n   ((Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]]) =\n  dim_col\n   (Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal:\nNo subgoals!", "qed"], ["", "abbreviation (in prisoner) J_cnj :: \"complex Matrix.mat\" where\n\"J_cnj \\<equiv> mat_of_cols_list 4 [[cos(\\<gamma>/2), 0, 0, -\\<i>*sin(\\<gamma>/2)],\n                             [0, cos(\\<gamma>/2), \\<i>*sin(\\<gamma>/2), 0],\n                             [0, \\<i>*sin(\\<gamma>/2), cos(\\<gamma>/2), 0],\n                             [-\\<i>*sin(\\<gamma>/2), 0, 0, cos(\\<gamma>/2)]]\""], ["", "lemma (in prisoner) hermite_cnj_of_J [simp]:\n  shows \"J\\<^sup>\\<dagger> = J_cnj\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                        [0, complex_of_real (cos (\\<gamma> / 2)),\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                        0 #\n                        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real [cos (\\<gamma> / 2), 0],\n                        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                 - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                [0, complex_of_real (cos (\\<gamma> / 2)),\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                0 #\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                map complex_of_real [cos (\\<gamma> / 2), 0],\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                           [0, complex_of_real (cos (\\<gamma> / 2)),\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                            0],\n                           0 #\n                           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                           map complex_of_real [cos (\\<gamma> / 2), 0],\n                           \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                           map complex_of_real\n                            [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                           [0, complex_of_real (cos (\\<gamma> / 2)),\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                           0 #\n                           \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                           map complex_of_real [cos (\\<gamma> / 2), 0],\n                           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                           map complex_of_real\n                            [0, 0, cos (\\<gamma> / 2)]] $$\n                         (i, j)\n 2. dim_row\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n 3. dim_col\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "fix i j"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                        [0, complex_of_real (cos (\\<gamma> / 2)),\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                        0 #\n                        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real [cos (\\<gamma> / 2), 0],\n                        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                 - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                [0, complex_of_real (cos (\\<gamma> / 2)),\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                0 #\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                map complex_of_real [cos (\\<gamma> / 2), 0],\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                           [0, complex_of_real (cos (\\<gamma> / 2)),\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                            0],\n                           0 #\n                           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                           map complex_of_real [cos (\\<gamma> / 2), 0],\n                           \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                           map complex_of_real\n                            [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                           [0, complex_of_real (cos (\\<gamma> / 2)),\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                           0 #\n                           \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                           map complex_of_real [cos (\\<gamma> / 2), 0],\n                           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                           map complex_of_real\n                            [0, 0, cos (\\<gamma> / 2)]] $$\n                         (i, j)\n 2. dim_row\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n 3. dim_col\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "assume a0:\"i < dim_row J_cnj\" and a1:\"j < dim_col J_cnj\""], ["proof (state)\nthis:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n          [0, complex_of_real (cos (\\<gamma> / 2)),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n          0 #\n          \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [cos (\\<gamma> / 2), 0],\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n          [0, complex_of_real (cos (\\<gamma> / 2)),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n          0 #\n          \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [cos (\\<gamma> / 2), 0],\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                        [0, complex_of_real (cos (\\<gamma> / 2)),\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                        0 #\n                        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real [cos (\\<gamma> / 2), 0],\n                        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                 - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                [0, complex_of_real (cos (\\<gamma> / 2)),\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                0 #\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                map complex_of_real [cos (\\<gamma> / 2), 0],\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                           [0, complex_of_real (cos (\\<gamma> / 2)),\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                            0],\n                           0 #\n                           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                           map complex_of_real [cos (\\<gamma> / 2), 0],\n                           \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                           map complex_of_real\n                            [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                           [0, complex_of_real (cos (\\<gamma> / 2)),\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                           0 #\n                           \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                           map complex_of_real [cos (\\<gamma> / 2), 0],\n                           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                           map complex_of_real\n                            [0, 0, cos (\\<gamma> / 2)]] $$\n                         (i, j)\n 2. dim_row\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n 3. dim_col\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "then"], ["proof (chain)\npicking this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n          [0, complex_of_real (cos (\\<gamma> / 2)),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n          0 #\n          \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [cos (\\<gamma> / 2), 0],\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n          [0, complex_of_real (cos (\\<gamma> / 2)),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n          0 #\n          \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [cos (\\<gamma> / 2), 0],\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "show \"J\\<^sup>\\<dagger> $$ (i,j) = J_cnj $$ (i,j)\""], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n          [0, complex_of_real (cos (\\<gamma> / 2)),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n          0 #\n          \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [cos (\\<gamma> / 2), 0],\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n          [0, complex_of_real (cos (\\<gamma> / 2)),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n          0 #\n          \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [cos (\\<gamma> / 2), 0],\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> $$\n    (i, j) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n    (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row\n                  (Tensor.mat_of_cols_list 4\n                    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                      - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                     [0, complex_of_real (cos (\\<gamma> / 2)),\n                      \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                     0 #\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                     map complex_of_real [cos (\\<gamma> / 2), 0],\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]);\n     j < dim_col\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n             [0, complex_of_real (cos (\\<gamma> / 2)),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n             0 #\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n             map complex_of_real [cos (\\<gamma> / 2), 0],\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n             map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\\<rbrakk>\n    \\<Longrightarrow> Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                        [0, complex_of_real (cos (\\<gamma> / 2)),\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                        0 #\n                        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real [cos (\\<gamma> / 2), 0],\n                        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real\n                         [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> $$\n                      (i, j) =\n                      Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                        [0, complex_of_real (cos (\\<gamma> / 2)),\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                        0 #\n                        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real [cos (\\<gamma> / 2), 0],\n                        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n                      (i, j)", "have \"i\\<in>{0,1,2,3} \\<and> j\\<in>{0,1,2,3}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}", "using a0 a1 mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n          [0, complex_of_real (cos (\\<gamma> / 2)),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n          0 #\n          \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [cos (\\<gamma> / 2), 0],\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n          [0, complex_of_real (cos (\\<gamma> / 2)),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n          0 #\n          \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [cos (\\<gamma> / 2), 0],\n          - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n          map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row\n                  (Tensor.mat_of_cols_list 4\n                    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                      - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                     [0, complex_of_real (cos (\\<gamma> / 2)),\n                      \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                     0 #\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                     map complex_of_real [cos (\\<gamma> / 2), 0],\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]);\n     j < dim_col\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n             [0, complex_of_real (cos (\\<gamma> / 2)),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n             0 #\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n             map complex_of_real [cos (\\<gamma> / 2), 0],\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n             map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\\<rbrakk>\n    \\<Longrightarrow> Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                        [0, complex_of_real (cos (\\<gamma> / 2)),\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                        0 #\n                        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real [cos (\\<gamma> / 2), 0],\n                        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real\n                         [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> $$\n                      (i, j) =\n                      Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                        [0, complex_of_real (cos (\\<gamma> / 2)),\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                        0 #\n                        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real [cos (\\<gamma> / 2), 0],\n                        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n                      (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> $$\n    (i, j) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n    (i, j)", "using mat_of_cols_list_def dagger_def"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  ?M\\<^sup>\\<dagger> \\<equiv>\n  Matrix.mat (dim_col ?M) (dim_row ?M) (\\<lambda>(i, j). cnj (?M $$ (j, i)))\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> $$\n    (i, j) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n    (i, j)", "by auto"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> $$\n  (i, j) =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n  (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> $$\n  (i, j) =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]] $$\n  (i, j)\n\ngoal (2 subgoals):\n 1. dim_row\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n 2. dim_col\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n 2. dim_col\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "show \"dim_row (J\\<^sup>\\<dagger>) = dim_row J_cnj\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "by simp"], ["proof (state)\nthis:\n  dim_row\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n\ngoal (1 subgoal):\n 1. dim_col\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_col\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "show \"dim_col (J\\<^sup>\\<dagger>) = dim_col J_cnj\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "by simp"], ["proof (state)\nthis:\n  dim_col\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n  dim_col\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n\ngoal:\nNo subgoals!", "qed"], ["", "abbreviation (in strategic_space_2p) \\<psi>\\<^sub>f :: \"complex Matrix.mat\" where\n\"\\<psi>\\<^sub>f \\<equiv> mat_of_cols_list 4 [[\ncos(\\<gamma>/2) * (exp(\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * exp(\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2) * cos(\\<gamma>/2) + sin(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2) * \\<i>*sin(\\<gamma>/2))\n+ (-\\<i>*sin(\\<gamma>/2)) * (sin(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2) * cos(\\<gamma>/2) + exp(-\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * exp(-\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2) * \\<i>*sin(\\<gamma>/2)),\n\ncos(\\<gamma>/2) * (exp(\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * -sin(\\<theta>\\<^sub>B/2) * cos(\\<gamma>/2) + sin(\\<theta>\\<^sub>A/2) * exp(-\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2) * \\<i>*sin(\\<gamma>/2)) \n+ (\\<i>*sin(\\<gamma>/2)) * (-sin(\\<theta>\\<^sub>A/2) * exp(\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2) * cos(\\<gamma>/2) + exp(-\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2) * \\<i>*sin(\\<gamma>/2)),\n\n(\\<i>*sin(\\<gamma>/2)) * (exp(\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * -sin(\\<theta>\\<^sub>B/2) * cos(\\<gamma>/2) + sin(\\<theta>\\<^sub>A/2) * exp(-\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2) * \\<i>*sin(\\<gamma>/2))\n+ cos(\\<gamma>/2) * (-sin(\\<theta>\\<^sub>A/2) * exp(\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2) * cos(\\<gamma>/2) + exp(-\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2) * \\<i>*sin(\\<gamma>/2)),\n\n(-\\<i>*sin(\\<gamma>/2)) * (exp(\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * exp(\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2) * cos(\\<gamma>/2) + sin(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2) * \\<i>*sin(\\<gamma>/2)) \n+ cos(\\<gamma>/2) * (sin(\\<theta>\\<^sub>A/2) * sin(\\<theta>\\<^sub>B/2) * cos(\\<gamma>/2) + exp(-\\<i>*\\<phi>\\<^sub>A)*cos(\\<theta>\\<^sub>A/2) * exp(-\\<i>*\\<phi>\\<^sub>B)*cos(\\<theta>\\<^sub>B/2) * \\<i>*sin(\\<gamma>/2))\n]]\""], ["", "lemma (in strategic_space_2p) psi_f:\n  shows \"(J\\<^sup>\\<dagger>) * \\<psi>\\<^sub>2 = \\<psi>\\<^sub>f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]] =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]]", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2) *\n                            cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2) *\n                            cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2)))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)) *\n                 (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  complex_of_real\n                   (sin (\\<theta>\\<^sub>A / 2) *\n                    sin (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))) +\n                 - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                 (complex_of_real\n                   (sin (\\<theta>\\<^sub>A / 2) *\n                    sin (\\<theta>\\<^sub>B / 2) *\n                    cos (\\<gamma> / 2)) +\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))),\n                 complex_of_real (cos (\\<gamma> / 2)) *\n                 (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))) +\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                 (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))),\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                 (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))) +\n                 complex_of_real (cos (\\<gamma> / 2)) *\n                 (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))),\n                 - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                 (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  complex_of_real\n                   (sin (\\<theta>\\<^sub>A / 2) *\n                    sin (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))) +\n                 complex_of_real (cos (\\<gamma> / 2)) *\n                 (complex_of_real\n                   (sin (\\<theta>\\<^sub>A / 2) *\n                    sin (\\<theta>\\<^sub>B / 2) *\n                    cos (\\<gamma> / 2)) +\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2)))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n                          Tensor.mat_of_cols_list 4\n                           [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2)),\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real\n                              (- sin (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2)),\n                             complex_of_real\n                              (- sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2)),\n                             complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2) *\n                               cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))]]) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)) *\n                            (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))) +\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                            (complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2) *\n                               cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))),\n                            complex_of_real (cos (\\<gamma> / 2)) *\n                            (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real\n                              (- sin (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))) +\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                            (complex_of_real\n                              (- sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))),\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                            (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real\n                              (- sin (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))) +\n                            complex_of_real (cos (\\<gamma> / 2)) *\n                            (complex_of_real\n                              (- sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))),\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                            (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))) +\n                            complex_of_real (cos (\\<gamma> / 2)) *\n                            (complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2) *\n                               cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2)))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "fix i j"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2) *\n                            cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2) *\n                            cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2)))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)) *\n                 (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  complex_of_real\n                   (sin (\\<theta>\\<^sub>A / 2) *\n                    sin (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))) +\n                 - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                 (complex_of_real\n                   (sin (\\<theta>\\<^sub>A / 2) *\n                    sin (\\<theta>\\<^sub>B / 2) *\n                    cos (\\<gamma> / 2)) +\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))),\n                 complex_of_real (cos (\\<gamma> / 2)) *\n                 (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))) +\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                 (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))),\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                 (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))) +\n                 complex_of_real (cos (\\<gamma> / 2)) *\n                 (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))),\n                 - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                 (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  complex_of_real\n                   (sin (\\<theta>\\<^sub>A / 2) *\n                    sin (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))) +\n                 complex_of_real (cos (\\<gamma> / 2)) *\n                 (complex_of_real\n                   (sin (\\<theta>\\<^sub>A / 2) *\n                    sin (\\<theta>\\<^sub>B / 2) *\n                    cos (\\<gamma> / 2)) +\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2)))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n                          Tensor.mat_of_cols_list 4\n                           [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2)),\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real\n                              (- sin (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2)),\n                             complex_of_real\n                              (- sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2)),\n                             complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2) *\n                               cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))]]) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)) *\n                            (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))) +\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                            (complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2) *\n                               cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))),\n                            complex_of_real (cos (\\<gamma> / 2)) *\n                            (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real\n                              (- sin (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))) +\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                            (complex_of_real\n                              (- sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))),\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                            (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real\n                              (- sin (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))) +\n                            complex_of_real (cos (\\<gamma> / 2)) *\n                            (complex_of_real\n                              (- sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))),\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                            (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))) +\n                            complex_of_real (cos (\\<gamma> / 2)) *\n                            (complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2) *\n                               cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2)))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "assume a0:\"i < dim_row \\<psi>\\<^sub>f\" and a1:\"j < dim_col \\<psi>\\<^sub>f\""], ["proof (state)\nthis:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2) *\n                            cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2) *\n                            cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2)))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 4\n               [[complex_of_real (cos (\\<gamma> / 2)) *\n                 (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  complex_of_real\n                   (sin (\\<theta>\\<^sub>A / 2) *\n                    sin (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))) +\n                 - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                 (complex_of_real\n                   (sin (\\<theta>\\<^sub>A / 2) *\n                    sin (\\<theta>\\<^sub>B / 2) *\n                    cos (\\<gamma> / 2)) +\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))),\n                 complex_of_real (cos (\\<gamma> / 2)) *\n                 (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))) +\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                 (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))),\n                 \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                 (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))) +\n                 complex_of_real (cos (\\<gamma> / 2)) *\n                 (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))),\n                 - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                 (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  complex_of_real (cos (\\<gamma> / 2)) +\n                  complex_of_real\n                   (sin (\\<theta>\\<^sub>A / 2) *\n                    sin (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2))) +\n                 complex_of_real (cos (\\<gamma> / 2)) *\n                 (complex_of_real\n                   (sin (\\<theta>\\<^sub>A / 2) *\n                    sin (\\<theta>\\<^sub>B / 2) *\n                    cos (\\<gamma> / 2)) +\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                  exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                  \\<i> *\n                  complex_of_real (sin (\\<gamma> / 2)))]])\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n                          Tensor.mat_of_cols_list 4\n                           [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2)),\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real\n                              (- sin (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2)),\n                             complex_of_real\n                              (- sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2)),\n                             complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2) *\n                               cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))]]) $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 4\n                          [[complex_of_real (cos (\\<gamma> / 2)) *\n                            (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))) +\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                            (complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2) *\n                               cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))),\n                            complex_of_real (cos (\\<gamma> / 2)) *\n                            (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real\n                              (- sin (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))) +\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                            (complex_of_real\n                              (- sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))),\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                            (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real\n                              (- sin (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))) +\n                            complex_of_real (cos (\\<gamma> / 2)) *\n                            (complex_of_real\n                              (- sin (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))),\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                            (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             complex_of_real (cos (\\<gamma> / 2)) +\n                             complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2))) +\n                            complex_of_real (cos (\\<gamma> / 2)) *\n                            (complex_of_real\n                              (sin (\\<theta>\\<^sub>A / 2) *\n                               sin (\\<theta>\\<^sub>B / 2) *\n                               cos (\\<gamma> / 2)) +\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                             \\<i> *\n                             complex_of_real (sin (\\<gamma> / 2)))]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "then"], ["proof (chain)\npicking this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])", "show \"((J\\<^sup>\\<dagger>) * \\<psi>\\<^sub>2) $$ (i,j) = \\<psi>\\<^sub>f $$ (i,j)\""], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n     Tensor.mat_of_cols_list 4\n      [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)),\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)),\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)),\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))]]) $$\n    (i, j) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row\n                  (Tensor.mat_of_cols_list 4\n                    [[complex_of_real (cos (\\<gamma> / 2)) *\n                      (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       complex_of_real (cos (\\<gamma> / 2)) +\n                       complex_of_real\n                        (sin (\\<theta>\\<^sub>A / 2) *\n                         sin (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))) +\n                      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                      (complex_of_real\n                        (sin (\\<theta>\\<^sub>A / 2) *\n                         sin (\\<theta>\\<^sub>B / 2) *\n                         cos (\\<gamma> / 2)) +\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))),\n                      complex_of_real (cos (\\<gamma> / 2)) *\n                      (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                       complex_of_real (cos (\\<gamma> / 2)) +\n                       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))) +\n                      \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                      (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       complex_of_real (cos (\\<gamma> / 2)) +\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))),\n                      \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                      (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                       complex_of_real (cos (\\<gamma> / 2)) +\n                       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))) +\n                      complex_of_real (cos (\\<gamma> / 2)) *\n                      (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       complex_of_real (cos (\\<gamma> / 2)) +\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))),\n                      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                      (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       complex_of_real (cos (\\<gamma> / 2)) +\n                       complex_of_real\n                        (sin (\\<theta>\\<^sub>A / 2) *\n                         sin (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))) +\n                      complex_of_real (cos (\\<gamma> / 2)) *\n                      (complex_of_real\n                        (sin (\\<theta>\\<^sub>A / 2) *\n                         sin (\\<theta>\\<^sub>B / 2) *\n                         cos (\\<gamma> / 2)) +\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2)))]]);\n     j < dim_col\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]])\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                         [0, complex_of_real (cos (\\<gamma> / 2)),\n                          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                         0 #\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [cos (\\<gamma> / 2), 0],\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real\n                          [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n                       Tensor.mat_of_cols_list 4\n                        [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2)),\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2)),\n                          complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2)),\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2) *\n                            cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))]]) $$\n                      (i, j) =\n                      Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2) *\n                            cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2) *\n                            cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2)))]] $$\n                      (i, j)", "have \"i\\<in>{0,1,2,3} \\<and> j=0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j = 0", "using a0 a1 mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j = 0", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3} \\<and> j = 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row\n                  (Tensor.mat_of_cols_list 4\n                    [[complex_of_real (cos (\\<gamma> / 2)) *\n                      (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       complex_of_real (cos (\\<gamma> / 2)) +\n                       complex_of_real\n                        (sin (\\<theta>\\<^sub>A / 2) *\n                         sin (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))) +\n                      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                      (complex_of_real\n                        (sin (\\<theta>\\<^sub>A / 2) *\n                         sin (\\<theta>\\<^sub>B / 2) *\n                         cos (\\<gamma> / 2)) +\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))),\n                      complex_of_real (cos (\\<gamma> / 2)) *\n                      (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                       complex_of_real (cos (\\<gamma> / 2)) +\n                       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))) +\n                      \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                      (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       complex_of_real (cos (\\<gamma> / 2)) +\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))),\n                      \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                      (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                       complex_of_real (cos (\\<gamma> / 2)) +\n                       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))) +\n                      complex_of_real (cos (\\<gamma> / 2)) *\n                      (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       complex_of_real (cos (\\<gamma> / 2)) +\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))),\n                      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                      (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       complex_of_real (cos (\\<gamma> / 2)) +\n                       complex_of_real\n                        (sin (\\<theta>\\<^sub>A / 2) *\n                         sin (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2))) +\n                      complex_of_real (cos (\\<gamma> / 2)) *\n                      (complex_of_real\n                        (sin (\\<theta>\\<^sub>A / 2) *\n                         sin (\\<theta>\\<^sub>B / 2) *\n                         cos (\\<gamma> / 2)) +\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                       \\<i> *\n                       complex_of_real (sin (\\<gamma> / 2)))]]);\n     j < dim_col\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]])\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                         [0, complex_of_real (cos (\\<gamma> / 2)),\n                          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                         0 #\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [cos (\\<gamma> / 2), 0],\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real\n                          [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n                       Tensor.mat_of_cols_list 4\n                        [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2)),\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2)),\n                          complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2)),\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2) *\n                            cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))]]) $$\n                      (i, j) =\n                      Tensor.mat_of_cols_list 4\n                       [[complex_of_real (cos (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2) *\n                            cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))),\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          complex_of_real (cos (\\<gamma> / 2)) +\n                          complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2))) +\n                         complex_of_real (cos (\\<gamma> / 2)) *\n                         (complex_of_real\n                           (sin (\\<theta>\\<^sub>A / 2) *\n                            sin (\\<theta>\\<^sub>B / 2) *\n                            cos (\\<gamma> / 2)) +\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                          \\<i> *\n                          complex_of_real (sin (\\<gamma> / 2)))]] $$\n                      (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j = 0\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n     Tensor.mat_of_cols_list 4\n      [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)),\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)),\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)),\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))]]) $$\n    (i, j) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (i, j)", "using mat_of_cols_list_def set_4 hermite_cnj_of_J"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j = 0\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  {..<4} = {0, 1, 2, 3}\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n     Tensor.mat_of_cols_list 4\n      [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)),\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)),\n        complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)),\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))]]) $$\n    (i, j) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (i, j)", "by auto"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n   Tensor.mat_of_cols_list 4\n    [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)),\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)),\n      complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)),\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))]]) $$\n  (i, j) =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n   Tensor.mat_of_cols_list 4\n    [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)),\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)),\n      complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)),\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))]]) $$\n  (i, j) =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (i, j)\n\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])\n 2. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])\n 2. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "show \"dim_row ((J\\<^sup>\\<dagger>) * \\<psi>\\<^sub>2) = dim_row \\<psi>\\<^sub>f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "by simp"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]]) =\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "show \"dim_col ((J\\<^sup>\\<dagger>) * \\<psi>\\<^sub>2) = dim_col \\<psi>\\<^sub>f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "by simp"], ["proof (state)\nthis:\n  dim_col\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]]) =\n  dim_col\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in prisoner) unit_vec_4_0_ket_is_state: \n  shows \"state 2 |unit_vec 4 0\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. state 2 |unit_vec 4 0\\<rangle>", "using state_def cpx_vec_length_def ket_vec_def unit_vec_def"], ["proof (prove)\nusing this:\n  state ?n ?v \\<equiv>\n  dim_col ?v = 1 \\<and>\n  dim_row ?v = 2 ^ ?n \\<and> \\<parallel>Matrix.col ?v 0\\<parallel> = 1\n  \\<parallel>?v\\<parallel> \\<equiv>\n  sqrt (\\<Sum>i<dim_vec ?v. (cmod (?v $ i))\\<^sup>2)\n  |?v\\<rangle> \\<equiv> Matrix.mat (dim_vec ?v) 1 (\\<lambda>(i, j). ?v $ i)\n  unit_vec ?n ?i =\n  Matrix.vec ?n (\\<lambda>j. if j = ?i then 1::?'a else (0::?'a))\n\ngoal (1 subgoal):\n 1. state 2 |unit_vec 4 0\\<rangle>", "by (auto simp add: set_4)"], ["", "lemma cos_sin_squared_add_cpx: \n  \"complex_of_real (cos (\\<gamma>/2)) * complex_of_real (cos (\\<gamma>/2)) -\n   \\<i>*complex_of_real (sin (\\<gamma>/2)) * (\\<i>*complex_of_real (sin (\\<gamma>/2))) = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_of_real (cos (\\<gamma> / 2)) *\n    complex_of_real (cos (\\<gamma> / 2)) -\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n    (\\<i> * complex_of_real (sin (\\<gamma> / 2))) =\n    1", "apply (auto simp add: algebra_simps)"], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_of_real (cos (\\<gamma> / 2)) *\n    complex_of_real (cos (\\<gamma> / 2)) +\n    complex_of_real (sin (\\<gamma> / 2)) *\n    complex_of_real (sin (\\<gamma> / 2)) =\n    1", "by (metis of_real_add of_real_hom.hom_one of_real_mult sin_cos_squared_add3)"], ["", "lemma sin_cos_squared_add_cpx:\n  \"\\<i>*complex_of_real (sin (\\<gamma>/2)) * (\\<i>*complex_of_real (sin (\\<gamma>/2))) -\n   complex_of_real (cos (\\<gamma>/2)) * complex_of_real (cos (\\<gamma>/2)) = -1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n    (\\<i> * complex_of_real (sin (\\<gamma> / 2))) -\n    complex_of_real (cos (\\<gamma> / 2)) *\n    complex_of_real (cos (\\<gamma> / 2)) =\n    - 1", "apply (auto simp add: algebra_simps)"], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_of_real (cos (\\<gamma> / 2)) *\n    complex_of_real (cos (\\<gamma> / 2)) +\n    complex_of_real (sin (\\<gamma> / 2)) *\n    complex_of_real (sin (\\<gamma> / 2)) =\n    1", "by (metis of_real_add of_real_hom.hom_one of_real_mult sin_cos_squared_add3)"], ["", "lemma (in prisoner) J_cnj_times_J:\n  shows \"J\\<^sup>\\<dagger> * J = 1\\<^sub>m 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] =\n    1\\<^sub>m 4", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 4);\n        j < dim_col (1\\<^sub>m 4)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n                          Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]]) $$\n                         (i, j) =\n                         1\\<^sub>m 4 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_row (1\\<^sub>m 4)\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_col (1\\<^sub>m 4)", "fix i j"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 4);\n        j < dim_col (1\\<^sub>m 4)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n                          Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]]) $$\n                         (i, j) =\n                         1\\<^sub>m 4 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_row (1\\<^sub>m 4)\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_col (1\\<^sub>m 4)", "assume a0:\"i < dim_row (1\\<^sub>m 4)\" and a1:\"j < dim_col (1\\<^sub>m 4)\""], ["proof (state)\nthis:\n  i < dim_row (1\\<^sub>m 4)\n  j < dim_col (1\\<^sub>m 4)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 4);\n        j < dim_col (1\\<^sub>m 4)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n                          Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]]) $$\n                         (i, j) =\n                         1\\<^sub>m 4 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_row (1\\<^sub>m 4)\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_col (1\\<^sub>m 4)", "then"], ["proof (chain)\npicking this:\n  i < dim_row (1\\<^sub>m 4)\n  j < dim_col (1\\<^sub>m 4)", "show \"(J\\<^sup>\\<dagger> * J) $$ (i,j) = 1\\<^sub>m 4 $$ (i,j)\""], ["proof (prove)\nusing this:\n  i < dim_row (1\\<^sub>m 4)\n  j < dim_col (1\\<^sub>m 4)\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) $$\n    (i, j) =\n    1\\<^sub>m 4 $$ (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row (1\\<^sub>m 4); j < dim_col (1\\<^sub>m 4)\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                         [0, complex_of_real (cos (\\<gamma> / 2)),\n                          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                         0 #\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [cos (\\<gamma> / 2), 0],\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real\n                          [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n                       Tensor.mat_of_cols_list 4\n                        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                         [0, complex_of_real (cos (\\<gamma> / 2)),\n                          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                         0 #\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [cos (\\<gamma> / 2), 0],\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) $$\n                      (i, j) =\n                      1\\<^sub>m 4 $$ (i, j)", "have \"i\\<in>{0,1,2,3} \\<and> j\\<in>{0,1,2,3}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}", "using a0 a1 mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row (1\\<^sub>m 4)\n  j < dim_col (1\\<^sub>m 4)\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row (1\\<^sub>m 4); j < dim_col (1\\<^sub>m 4)\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                         [0, complex_of_real (cos (\\<gamma> / 2)),\n                          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                         0 #\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [cos (\\<gamma> / 2), 0],\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real\n                          [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n                       Tensor.mat_of_cols_list 4\n                        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                         [0, complex_of_real (cos (\\<gamma> / 2)),\n                          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                         0 #\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [cos (\\<gamma> / 2), 0],\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) $$\n                      (i, j) =\n                      1\\<^sub>m 4 $$ (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) $$\n    (i, j) =\n    1\\<^sub>m 4 $$ (i, j)", "using mat_of_cols_list_def hermite_cnj_of_J set_4 cos_sin_squared_add_cpx"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\n  {..<4} = {0, 1, 2, 3}\n  complex_of_real (cos (?\\<gamma> / 2)) *\n  complex_of_real (cos (?\\<gamma> / 2)) -\n  \\<i> * complex_of_real (sin (?\\<gamma> / 2)) *\n  (\\<i> * complex_of_real (sin (?\\<gamma> / 2))) =\n  1\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) $$\n    (i, j) =\n    1\\<^sub>m 4 $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) $$\n  (i, j) =\n  1\\<^sub>m 4 $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) $$\n  (i, j) =\n  1\\<^sub>m 4 $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_row (1\\<^sub>m 4)\n 2. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_col (1\\<^sub>m 4)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_row (1\\<^sub>m 4)\n 2. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_col (1\\<^sub>m 4)", "show \"dim_row (J\\<^sup>\\<dagger> * J) = dim_row (1\\<^sub>m 4)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_row (1\\<^sub>m 4)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_row (1\\<^sub>m 4)", "by simp"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n  dim_row (1\\<^sub>m 4)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_col (1\\<^sub>m 4)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_col (1\\<^sub>m 4)", "show \"dim_col (J\\<^sup>\\<dagger> * J) = dim_col (1\\<^sub>m 4)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_col (1\\<^sub>m 4)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    dim_col (1\\<^sub>m 4)", "by simp"], ["proof (state)\nthis:\n  dim_col\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n  dim_col (1\\<^sub>m 4)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in prisoner) J_times_J_cnj:\n  shows \"J * (J\\<^sup>\\<dagger>) = 1\\<^sub>m 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    1\\<^sub>m 4", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 4);\n        j < dim_col (1\\<^sub>m 4)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]] *\n                          Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) $$\n                         (i, j) =\n                         1\\<^sub>m 4 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 4)\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 4)", "fix i j"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 4);\n        j < dim_col (1\\<^sub>m 4)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]] *\n                          Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) $$\n                         (i, j) =\n                         1\\<^sub>m 4 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 4)\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 4)", "assume a0:\"i < dim_row (1\\<^sub>m 4)\" and a1:\"j < dim_col (1\\<^sub>m 4)\""], ["proof (state)\nthis:\n  i < dim_row (1\\<^sub>m 4)\n  j < dim_col (1\\<^sub>m 4)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 4);\n        j < dim_col (1\\<^sub>m 4)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]] *\n                          Tensor.mat_of_cols_list 4\n                           [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                             \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                            [0, complex_of_real (cos (\\<gamma> / 2)),\n                             - \\<i> * complex_of_real (sin (\\<gamma> / 2)),\n                             0],\n                            0 #\n                            - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real [cos (\\<gamma> / 2), 0],\n                            \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                            map complex_of_real\n                             [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) $$\n                         (i, j) =\n                         1\\<^sub>m 4 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 4)\n 3. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 4)", "then"], ["proof (chain)\npicking this:\n  i < dim_row (1\\<^sub>m 4)\n  j < dim_col (1\\<^sub>m 4)", "show \"(J * (J\\<^sup>\\<dagger>)) $$ (i,j) = 1\\<^sub>m 4 $$ (i,j)\""], ["proof (prove)\nusing this:\n  i < dim_row (1\\<^sub>m 4)\n  j < dim_col (1\\<^sub>m 4)\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) $$\n    (i, j) =\n    1\\<^sub>m 4 $$ (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row (1\\<^sub>m 4); j < dim_col (1\\<^sub>m 4)\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                         [0, complex_of_real (cos (\\<gamma> / 2)),\n                          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                         0 #\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [cos (\\<gamma> / 2), 0],\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n                       Tensor.mat_of_cols_list 4\n                        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                         [0, complex_of_real (cos (\\<gamma> / 2)),\n                          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                         0 #\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [cos (\\<gamma> / 2), 0],\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real\n                          [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) $$\n                      (i, j) =\n                      1\\<^sub>m 4 $$ (i, j)", "have \"i\\<in>{0,1,2,3} \\<and> j\\<in>{0,1,2,3}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}", "using a0 a1 mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row (1\\<^sub>m 4)\n  j < dim_col (1\\<^sub>m 4)\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row (1\\<^sub>m 4); j < dim_col (1\\<^sub>m 4)\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 4\n                        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                         [0, complex_of_real (cos (\\<gamma> / 2)),\n                          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                         0 #\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [cos (\\<gamma> / 2), 0],\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n                       Tensor.mat_of_cols_list 4\n                        [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n                          \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n                         [0, complex_of_real (cos (\\<gamma> / 2)),\n                          - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n                         0 #\n                         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real [cos (\\<gamma> / 2), 0],\n                         \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n                         map complex_of_real\n                          [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) $$\n                      (i, j) =\n                      1\\<^sub>m 4 $$ (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) $$\n    (i, j) =\n    1\\<^sub>m 4 $$ (i, j)", "using mat_of_cols_list_def hermite_cnj_of_J set_4 cos_sin_squared_add_cpx"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3} \\<and> j \\<in> {0, 1, 2, 3}\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\n  {..<4} = {0, 1, 2, 3}\n  complex_of_real (cos (?\\<gamma> / 2)) *\n  complex_of_real (cos (?\\<gamma> / 2)) -\n  \\<i> * complex_of_real (sin (?\\<gamma> / 2)) *\n  (\\<i> * complex_of_real (sin (?\\<gamma> / 2))) =\n  1\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) $$\n    (i, j) =\n    1\\<^sub>m 4 $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) $$\n  (i, j) =\n  1\\<^sub>m 4 $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) $$\n  (i, j) =\n  1\\<^sub>m 4 $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 4)\n 2. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 4)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 4)\n 2. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 4)", "show \"dim_row (J * (J\\<^sup>\\<dagger>)) = dim_row (1\\<^sub>m 4)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 4)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 4)", "by simp"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n  dim_row (1\\<^sub>m 4)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 4)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 4)", "show \"dim_col (J * (J\\<^sup>\\<dagger>)) = dim_col (1\\<^sub>m 4)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 4)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 4)", "by simp"], ["proof (state)\nthis:\n  dim_col\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>) =\n  dim_col (1\\<^sub>m 4)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in prisoner) J_is_gate:\n  shows \"gate 2 J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. gate 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    2\\<^sup>2\n 2. square_mat\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n 3. unitary\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "show \"dim_row J = 2\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    2\\<^sup>2", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n    2\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n  2\\<^sup>2\n\ngoal (2 subgoals):\n 1. square_mat\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n 2. unitary\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "moreover"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n  2\\<^sup>2\n\ngoal (2 subgoals):\n 1. square_mat\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n 2. unitary\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "show \"square_mat J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square_mat\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. square_mat\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "by simp"], ["proof (state)\nthis:\n  square_mat\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n\ngoal (1 subgoal):\n 1. unitary\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "ultimately"], ["proof (chain)\npicking this:\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n  2\\<^sup>2\n  square_mat\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "show \"unitary J\""], ["proof (prove)\nusing this:\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n  2\\<^sup>2\n  square_mat\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n\ngoal (1 subgoal):\n 1. unitary\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "using mat_of_cols_list_def unitary_def J_cnj_times_J J_times_J_cnj"], ["proof (prove)\nusing this:\n  dim_row\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]) =\n  2\\<^sup>2\n  square_mat\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  unitary ?M \\<equiv>\n  ?M\\<^sup>\\<dagger> * ?M = 1\\<^sub>m (dim_col ?M) \\<and>\n  ?M * ?M\\<^sup>\\<dagger> = 1\\<^sub>m (dim_row ?M)\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]] =\n  1\\<^sub>m 4\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n  1\\<^sub>m 4\n\ngoal (1 subgoal):\n 1. unitary\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]])", "by auto"], ["proof (state)\nthis:\n  unitary\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) psi_one_is_state: \n  shows \"state 2 \\<psi>\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "have \"state 2 (J * |unit_vec 4 0\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>)", "using unit_vec_4_0_ket_is_state J_is_gate"], ["proof (prove)\nusing this:\n  state 2 |unit_vec 4 0\\<rangle>\n  gate 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]])\n\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>)", "by auto"], ["proof (state)\nthis:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n    |unit_vec 4 0\\<rangle>)\n\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "then"], ["proof (chain)\npicking this:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n    |unit_vec 4 0\\<rangle>)", "show ?thesis"], ["proof (prove)\nusing this:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n    |unit_vec 4 0\\<rangle>)\n\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "using psi_one"], ["proof (prove)\nusing this:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n    |unit_vec 4 0\\<rangle>)\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n  |unit_vec 4 0\\<rangle> =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))]]\n\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "by simp"], ["proof (state)\nthis:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal:\nNo subgoals!", "qed"], ["", "abbreviation (in strategic_space_2p) U\\<^sub>A_cnj :: \"complex Matrix.mat\" where\n\"U\\<^sub>A_cnj \\<equiv> mat_of_cols_list 2 [[(exp(-\\<i>*\\<phi>\\<^sub>A))*cos(\\<theta>\\<^sub>A/2), sin(\\<theta>\\<^sub>A/2)],\n                              [-sin(\\<theta>\\<^sub>A/2), (exp (\\<i>*\\<phi>\\<^sub>A))*cos(\\<theta>\\<^sub>A/2)]]\""], ["", "abbreviation (in strategic_space_2p) U\\<^sub>B_cnj :: \"complex Matrix.mat\" where\n\"U\\<^sub>B_cnj \\<equiv> mat_of_cols_list 2 [[(exp(-\\<i>*\\<phi>\\<^sub>B))*cos(\\<theta>\\<^sub>B/2), sin(\\<theta>\\<^sub>B/2)],\n                              [-sin(\\<theta>\\<^sub>B/2), (exp(\\<i>*\\<phi>\\<^sub>B))*cos(\\<theta>\\<^sub>B/2)]]\""], ["", "lemma (in strategic_space_2p) hermite_cnj_of_U\\<^sub>A:\n  shows \"U\\<^sub>A\\<^sup>\\<dagger> = U\\<^sub>A_cnj\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    Tensor.mat_of_cols_list 2\n     [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 2\n                       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n                        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 2\n               [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n                [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>A / 2)],\n                           [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>A /\n                                   2))]]\\<^sup>\\<dagger> $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 2\n                          [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                           map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n                           [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>A / 2))]] $$\n                         (i, j)\n 2. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n 3. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "fix i j"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 2\n                       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n                        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 2\n               [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n                [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>A / 2)],\n                           [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>A /\n                                   2))]]\\<^sup>\\<dagger> $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 2\n                          [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                           map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n                           [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>A / 2))]] $$\n                         (i, j)\n 2. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n 3. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "assume a0:\"i < dim_row U\\<^sub>A_cnj\" and a1:\"j < dim_col U\\<^sub>A_cnj\""], ["proof (state)\nthis:\n  i < dim_row\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 2\n                       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n                        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 2\n               [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n                [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>A / 2)],\n                           [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>A /\n                                   2))]]\\<^sup>\\<dagger> $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 2\n                          [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                           map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n                           [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>A / 2))]] $$\n                         (i, j)\n 2. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n 3. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "then"], ["proof (chain)\npicking this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "show \"U\\<^sub>A\\<^sup>\\<dagger> $$ (i,j) = U\\<^sub>A_cnj $$ (i,j)\""], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> $$\n    (i, j) =\n    Tensor.mat_of_cols_list 2\n     [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n    (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row\n                  (Tensor.mat_of_cols_list 2\n                    [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                     map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n                     [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]);\n     j < dim_col\n          (Tensor.mat_of_cols_list 2\n            [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n             map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n             [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\\<rbrakk>\n    \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n                        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real\n                          (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> $$\n                      (i, j) =\n                      Tensor.mat_of_cols_list 2\n                       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n                        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n                      (i, j)", "have \"i\\<in>{0,1} \\<and> j\\<in>{0,1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "using a0 a1 mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n           complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row\n                  (Tensor.mat_of_cols_list 2\n                    [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                     map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n                     [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]);\n     j < dim_col\n          (Tensor.mat_of_cols_list 2\n            [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n             complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n             map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n             [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\\<rbrakk>\n    \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n                        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real\n                          (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> $$\n                      (i, j) =\n                      Tensor.mat_of_cols_list 2\n                       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n                        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n                      (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> $$\n    (i, j) =\n    Tensor.mat_of_cols_list 2\n     [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n    (i, j)", "using mat_of_cols_list_def dagger_def exp_of_real_cnj exp_of_real_cnj2"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  ?M\\<^sup>\\<dagger> \\<equiv>\n  Matrix.mat (dim_col ?M) (dim_row ?M) (\\<lambda>(i, j). cnj (?M $$ (j, i)))\n  cnj (exp (\\<i> * complex_of_real ?x)) =\n  exp (- (\\<i> * complex_of_real ?x))\n  cnj (exp (- (\\<i> * complex_of_real ?x))) =\n  exp (\\<i> * complex_of_real ?x)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> $$\n    (i, j) =\n    Tensor.mat_of_cols_list 2\n     [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n    (i, j)", "by auto"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> $$\n  (i, j) =\n  Tensor.mat_of_cols_list 2\n   [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n  (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> $$\n  (i, j) =\n  Tensor.mat_of_cols_list 2\n   [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n  (i, j)\n\ngoal (2 subgoals):\n 1. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n 2. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n 2. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "show \"dim_row (U\\<^sub>A\\<^sup>\\<dagger>) = dim_row U\\<^sub>A_cnj\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "by simp"], ["proof (state)\nthis:\n  dim_row\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n\ngoal (1 subgoal):\n 1. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "show \"dim_col (U\\<^sub>A\\<^sup>\\<dagger>) = dim_col U\\<^sub>A_cnj\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "by simp"], ["proof (state)\nthis:\n  dim_col\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n  dim_col\n   (Tensor.mat_of_cols_list 2\n     [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) hermite_cnj_of_U\\<^sub>B:\n  shows \"U\\<^sub>B\\<^sup>\\<dagger> = U\\<^sub>B_cnj\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    Tensor.mat_of_cols_list 2\n     [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 2\n                       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n                        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 2\n               [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n                [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>B / 2)],\n                           [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>B /\n                                   2))]]\\<^sup>\\<dagger> $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 2\n                          [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n                           [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>B / 2))]] $$\n                         (i, j)\n 2. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 3. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "fix i j"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 2\n                       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n                        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 2\n               [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n                [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>B / 2)],\n                           [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>B /\n                                   2))]]\\<^sup>\\<dagger> $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 2\n                          [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n                           [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>B / 2))]] $$\n                         (i, j)\n 2. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 3. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "assume a0:\"i < dim_row U\\<^sub>B_cnj\" and a1:\"j < dim_col U\\<^sub>B_cnj\""], ["proof (state)\nthis:\n  i < dim_row\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 2\n                       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n                        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 2\n               [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n                [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>B / 2)],\n                           [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>B /\n                                   2))]]\\<^sup>\\<dagger> $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 2\n                          [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                           complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                           map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n                           [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n                            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>B / 2))]] $$\n                         (i, j)\n 2. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 3. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "then"], ["proof (chain)\npicking this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "show \"U\\<^sub>B\\<^sup>\\<dagger> $$ (i,j) = U\\<^sub>B_cnj $$ (i,j)\""], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> $$\n    (i, j) =\n    Tensor.mat_of_cols_list 2\n     [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] $$\n    (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row\n                  (Tensor.mat_of_cols_list 2\n                    [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                     map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n                     [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]);\n     j < dim_col\n          (Tensor.mat_of_cols_list 2\n            [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n             map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n             [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\\<rbrakk>\n    \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n                        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real\n                          (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> $$\n                      (i, j) =\n                      Tensor.mat_of_cols_list 2\n                       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n                        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] $$\n                      (i, j)", "have \"i\\<in>{0,1} \\<and> j\\<in>{0,1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "using a0 a1 mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 2\n         [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n          map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n          [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n           exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n           complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row\n                  (Tensor.mat_of_cols_list 2\n                    [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                     map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n                     [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]);\n     j < dim_col\n          (Tensor.mat_of_cols_list 2\n            [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n             complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n             map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n             [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\\<rbrakk>\n    \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n                        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real\n                          (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> $$\n                      (i, j) =\n                      Tensor.mat_of_cols_list 2\n                       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n                        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n                         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] $$\n                      (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> $$\n    (i, j) =\n    Tensor.mat_of_cols_list 2\n     [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] $$\n    (i, j)", "using mat_of_cols_list_def dagger_def exp_of_real_cnj exp_of_real_cnj2"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  ?M\\<^sup>\\<dagger> \\<equiv>\n  Matrix.mat (dim_col ?M) (dim_row ?M) (\\<lambda>(i, j). cnj (?M $$ (j, i)))\n  cnj (exp (\\<i> * complex_of_real ?x)) =\n  exp (- (\\<i> * complex_of_real ?x))\n  cnj (exp (- (\\<i> * complex_of_real ?x))) =\n  exp (\\<i> * complex_of_real ?x)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> $$\n    (i, j) =\n    Tensor.mat_of_cols_list 2\n     [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] $$\n    (i, j)", "by auto"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> $$\n  (i, j) =\n  Tensor.mat_of_cols_list 2\n   [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n    [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] $$\n  (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> $$\n  (i, j) =\n  Tensor.mat_of_cols_list 2\n   [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n    [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] $$\n  (i, j)\n\ngoal (2 subgoals):\n 1. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 2. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 2. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "show \"dim_row (U\\<^sub>B\\<^sup>\\<dagger>) = dim_row U\\<^sub>B_cnj\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "by simp"], ["proof (state)\nthis:\n  dim_row\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal (1 subgoal):\n 1. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "show \"dim_col (U\\<^sub>B\\<^sup>\\<dagger>) = dim_col U\\<^sub>B_cnj\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "by simp"], ["proof (state)\nthis:\n  dim_col\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n  dim_col\n   (Tensor.mat_of_cols_list 2\n     [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma exp_sin_cos_squared_add:\n  fixes x y :: real\n  shows \"exp (- (\\<i> * x)) * cos (y) * (exp (\\<i> * x) * cos (y)) + sin(y) * sin(y) = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (- (\\<i> * complex_of_real x)) * complex_of_real (cos y) *\n    (exp (\\<i> * complex_of_real x) * complex_of_real (cos y)) +\n    complex_of_real (sin y * sin y) =\n    1", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. exp (- (\\<i> * complex_of_real x)) * complex_of_real (cos y) *\n    (exp (\\<i> * complex_of_real x) * complex_of_real (cos y)) +\n    complex_of_real (sin y * sin y) =\n    1", "have \"exp (- (\\<i> * x)) * cos (y) * (exp (\\<i> * x) * cos (y)) = cos(y) * cos(y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (- (\\<i> * complex_of_real x)) * complex_of_real (cos y) *\n    (exp (\\<i> * complex_of_real x) * complex_of_real (cos y)) =\n    complex_of_real (cos y * cos y)", "using exp_minus_inverse"], ["proof (prove)\nusing this:\n  exp ?x * exp (- ?x) = (1::?'a)\n\ngoal (1 subgoal):\n 1. exp (- (\\<i> * complex_of_real x)) * complex_of_real (cos y) *\n    (exp (\\<i> * complex_of_real x) * complex_of_real (cos y)) =\n    complex_of_real (cos y * cos y)", "by (auto simp add: algebra_simps)"], ["proof (state)\nthis:\n  exp (- (\\<i> * complex_of_real x)) * complex_of_real (cos y) *\n  (exp (\\<i> * complex_of_real x) * complex_of_real (cos y)) =\n  complex_of_real (cos y * cos y)\n\ngoal (1 subgoal):\n 1. exp (- (\\<i> * complex_of_real x)) * complex_of_real (cos y) *\n    (exp (\\<i> * complex_of_real x) * complex_of_real (cos y)) +\n    complex_of_real (sin y * sin y) =\n    1", "then"], ["proof (chain)\npicking this:\n  exp (- (\\<i> * complex_of_real x)) * complex_of_real (cos y) *\n  (exp (\\<i> * complex_of_real x) * complex_of_real (cos y)) =\n  complex_of_real (cos y * cos y)", "show ?thesis"], ["proof (prove)\nusing this:\n  exp (- (\\<i> * complex_of_real x)) * complex_of_real (cos y) *\n  (exp (\\<i> * complex_of_real x) * complex_of_real (cos y)) =\n  complex_of_real (cos y * cos y)\n\ngoal (1 subgoal):\n 1. exp (- (\\<i> * complex_of_real x)) * complex_of_real (cos y) *\n    (exp (\\<i> * complex_of_real x) * complex_of_real (cos y)) +\n    complex_of_real (sin y * sin y) =\n    1", "by (metis of_real_add of_real_hom.hom_one sin_cos_squared_add3)"], ["proof (state)\nthis:\n  exp (- (\\<i> * complex_of_real x)) * complex_of_real (cos y) *\n  (exp (\\<i> * complex_of_real x) * complex_of_real (cos y)) +\n  complex_of_real (sin y * sin y) =\n  1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) U\\<^sub>A_cnj_times_U\\<^sub>A:\n  shows \"U\\<^sub>A\\<^sup>\\<dagger> * U\\<^sub>A = 1\\<^sub>m 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] =\n    1\\<^sub>m 2", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 2);\n        j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A /\n                                    2))]]\\<^sup>\\<dagger> *\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A / 2))]]) $$\n                         (i, j) =\n                         1\\<^sub>m 2 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_row (1\\<^sub>m 2)\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "fix i j"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 2);\n        j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A /\n                                    2))]]\\<^sup>\\<dagger> *\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A / 2))]]) $$\n                         (i, j) =\n                         1\\<^sub>m 2 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_row (1\\<^sub>m 2)\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "assume a0:\"i < dim_row (1\\<^sub>m 2)\" and a1:\"j < dim_col (1\\<^sub>m 2)\""], ["proof (state)\nthis:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 2);\n        j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A /\n                                    2))]]\\<^sup>\\<dagger> *\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A / 2))]]) $$\n                         (i, j) =\n                         1\\<^sub>m 2 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_row (1\\<^sub>m 2)\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "then"], ["proof (chain)\npicking this:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)", "show \"(U\\<^sub>A\\<^sup>\\<dagger> * U\\<^sub>A) $$ (i,j) = 1\\<^sub>m 2 $$ (i,j)\""], ["proof (prove)\nusing this:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) $$\n    (i, j) =\n    1\\<^sub>m 2 $$ (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row (1\\<^sub>m 2); j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real\n                           (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n                       Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) $$\n                      (i, j) =\n                      1\\<^sub>m 2 $$ (i, j)", "have \"i\\<in>{0,1} \\<and> j\\<in>{0,1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "using a0 a1 mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row (1\\<^sub>m 2); j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real\n                           (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n                       Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) $$\n                      (i, j) =\n                      1\\<^sub>m 2 $$ (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) $$\n    (i, j) =\n    1\\<^sub>m 2 $$ (i, j)", "using mat_of_cols_list_def cos_sin_squared_add_cpx hermite_cnj_of_U\\<^sub>A exp_sin_cos_squared_add[of \"\\<phi>\\<^sub>A\" \"\\<theta>\\<^sub>A / 2\"]"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  complex_of_real (cos (?\\<gamma> / 2)) *\n  complex_of_real (cos (?\\<gamma> / 2)) -\n  \\<i> * complex_of_real (sin (?\\<gamma> / 2)) *\n  (\\<i> * complex_of_real (sin (?\\<gamma> / 2))) =\n  1\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n  Tensor.mat_of_cols_list 2\n   [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\n  exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n   complex_of_real (cos (\\<theta>\\<^sub>A / 2))) +\n  complex_of_real\n   (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>A / 2)) =\n  1\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) $$\n    (i, j) =\n    1\\<^sub>m 2 $$ (i, j)", "by (auto simp add: set_2 algebra_simps)"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) $$\n  (i, j) =\n  1\\<^sub>m 2 $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) $$\n  (i, j) =\n  1\\<^sub>m 2 $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_row (1\\<^sub>m 2)\n 2. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_row (1\\<^sub>m 2)\n 2. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "show \"dim_row (U\\<^sub>A\\<^sup>\\<dagger> * U\\<^sub>A) = dim_row (1\\<^sub>m 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_row (1\\<^sub>m 2)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_row (1\\<^sub>m 2)", "by simp"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n  dim_row (1\\<^sub>m 2)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "show \"dim_col (U\\<^sub>A\\<^sup>\\<dagger> * U\\<^sub>A) = dim_col (1\\<^sub>m 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "by simp"], ["proof (state)\nthis:\n  dim_col\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n  dim_col (1\\<^sub>m 2)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) U\\<^sub>A_times_U\\<^sub>A_cnj:\n  shows \"U\\<^sub>A * (U\\<^sub>A\\<^sup>\\<dagger>) = 1\\<^sub>m 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n    1\\<^sub>m 2", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 2);\n        j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A / 2))]] *\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A /\n                                    2))]]\\<^sup>\\<dagger>) $$\n                         (i, j) =\n                         1\\<^sub>m 2 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "fix i j"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 2);\n        j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A / 2))]] *\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A /\n                                    2))]]\\<^sup>\\<dagger>) $$\n                         (i, j) =\n                         1\\<^sub>m 2 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "assume a0:\"i < dim_row (1\\<^sub>m 2)\" and a1:\"j < dim_col (1\\<^sub>m 2)\""], ["proof (state)\nthis:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 2);\n        j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A / 2))]] *\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>A / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>A /\n                                    2))]]\\<^sup>\\<dagger>) $$\n                         (i, j) =\n                         1\\<^sub>m 2 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "then"], ["proof (chain)\npicking this:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)", "show \"(U\\<^sub>A * (U\\<^sub>A\\<^sup>\\<dagger>)) $$ (i,j) = 1\\<^sub>m 2 $$ (i,j)\""], ["proof (prove)\nusing this:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) $$\n    (i, j) =\n    1\\<^sub>m 2 $$ (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row (1\\<^sub>m 2); j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n                       Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real\n                           (cos (\\<theta>\\<^sub>A /\n                                 2))]]\\<^sup>\\<dagger>) $$\n                      (i, j) =\n                      1\\<^sub>m 2 $$ (i, j)", "have \"i\\<in>{0,1} \\<and> j\\<in>{0,1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "using a0 a1 mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row (1\\<^sub>m 2); j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n                       Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                          complex_of_real\n                           (cos (\\<theta>\\<^sub>A /\n                                 2))]]\\<^sup>\\<dagger>) $$\n                      (i, j) =\n                      1\\<^sub>m 2 $$ (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) $$\n    (i, j) =\n    1\\<^sub>m 2 $$ (i, j)", "using mat_of_cols_list_def cos_sin_squared_add_cpx hermite_cnj_of_U\\<^sub>A exp_sin_cos_squared_add[of \"\\<phi>\\<^sub>A\" \"\\<theta>\\<^sub>A / 2\"]"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  complex_of_real (cos (?\\<gamma> / 2)) *\n  complex_of_real (cos (?\\<gamma> / 2)) -\n  \\<i> * complex_of_real (sin (?\\<gamma> / 2)) *\n  (\\<i> * complex_of_real (sin (?\\<gamma> / 2))) =\n  1\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n  Tensor.mat_of_cols_list 2\n   [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (- sin (\\<theta>\\<^sub>A / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\n  exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n   complex_of_real (cos (\\<theta>\\<^sub>A / 2))) +\n  complex_of_real\n   (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>A / 2)) =\n  1\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) $$\n    (i, j) =\n    1\\<^sub>m 2 $$ (i, j)", "by (auto simp add: set_2 algebra_simps)"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) $$\n  (i, j) =\n  1\\<^sub>m 2 $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) $$\n  (i, j) =\n  1\\<^sub>m 2 $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)\n 2. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)\n 2. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "show \"dim_row (U\\<^sub>A * (U\\<^sub>A\\<^sup>\\<dagger>)) = dim_row (1\\<^sub>m 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)", "by simp"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n  dim_row (1\\<^sub>m 2)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "show \"dim_col (U\\<^sub>A * (U\\<^sub>A\\<^sup>\\<dagger>)) = dim_col (1\\<^sub>m 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "by simp"], ["proof (state)\nthis:\n  dim_col\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger>) =\n  dim_col (1\\<^sub>m 2)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) U\\<^sub>B_cnj_times_U\\<^sub>B:\n  shows \"U\\<^sub>B\\<^sup>\\<dagger> * U\\<^sub>B = 1\\<^sub>m 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] =\n    1\\<^sub>m 2", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 2);\n        j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B /\n                                    2))]]\\<^sup>\\<dagger> *\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B / 2))]]) $$\n                         (i, j) =\n                         1\\<^sub>m 2 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row (1\\<^sub>m 2)\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "fix i j"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 2);\n        j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B /\n                                    2))]]\\<^sup>\\<dagger> *\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B / 2))]]) $$\n                         (i, j) =\n                         1\\<^sub>m 2 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row (1\\<^sub>m 2)\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "assume a0:\"i < dim_row (1\\<^sub>m 2)\" and a1:\"j < dim_col (1\\<^sub>m 2)\""], ["proof (state)\nthis:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 2);\n        j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B /\n                                    2))]]\\<^sup>\\<dagger> *\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B / 2))]]) $$\n                         (i, j) =\n                         1\\<^sub>m 2 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row (1\\<^sub>m 2)\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "then"], ["proof (chain)\npicking this:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)", "show \"(U\\<^sub>B\\<^sup>\\<dagger> * U\\<^sub>B) $$ (i,j) = 1\\<^sub>m 2 $$ (i,j)\""], ["proof (prove)\nusing this:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) $$\n    (i, j) =\n    1\\<^sub>m 2 $$ (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row (1\\<^sub>m 2); j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real\n                           (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n                       Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) $$\n                      (i, j) =\n                      1\\<^sub>m 2 $$ (i, j)", "have \"i\\<in>{0,1} \\<and> j\\<in>{0,1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "using a0 a1 mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row (1\\<^sub>m 2); j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real\n                           (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n                       Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) $$\n                      (i, j) =\n                      1\\<^sub>m 2 $$ (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) $$\n    (i, j) =\n    1\\<^sub>m 2 $$ (i, j)", "using mat_of_cols_list_def cos_sin_squared_add_cpx hermite_cnj_of_U\\<^sub>B exp_sin_cos_squared_add[of \"\\<phi>\\<^sub>B\" \"\\<theta>\\<^sub>B / 2\"]"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  complex_of_real (cos (?\\<gamma> / 2)) *\n  complex_of_real (cos (?\\<gamma> / 2)) -\n  \\<i> * complex_of_real (sin (?\\<gamma> / 2)) *\n  (\\<i> * complex_of_real (sin (?\\<gamma> / 2))) =\n  1\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n  Tensor.mat_of_cols_list 2\n   [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n    [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\n  exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n   complex_of_real (cos (\\<theta>\\<^sub>B / 2))) +\n  complex_of_real\n   (sin (\\<theta>\\<^sub>B / 2) * sin (\\<theta>\\<^sub>B / 2)) =\n  1\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) $$\n    (i, j) =\n    1\\<^sub>m 2 $$ (i, j)", "by (auto simp add: set_2 algebra_simps)"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) $$\n  (i, j) =\n  1\\<^sub>m 2 $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) $$\n  (i, j) =\n  1\\<^sub>m 2 $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row (1\\<^sub>m 2)\n 2. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row (1\\<^sub>m 2)\n 2. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "show \"dim_row (U\\<^sub>B\\<^sup>\\<dagger> * U\\<^sub>B) = dim_row (1\\<^sub>m 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row (1\\<^sub>m 2)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_row (1\\<^sub>m 2)", "by simp"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n  dim_row (1\\<^sub>m 2)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "show \"dim_col (U\\<^sub>B\\<^sup>\\<dagger> * U\\<^sub>B) = dim_col (1\\<^sub>m 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    dim_col (1\\<^sub>m 2)", "by simp"], ["proof (state)\nthis:\n  dim_col\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n  dim_col (1\\<^sub>m 2)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) U\\<^sub>B_times_U\\<^sub>B_cnj:\n  shows \"U\\<^sub>B * (U\\<^sub>B\\<^sup>\\<dagger>) = 1\\<^sub>m 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n    1\\<^sub>m 2", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 2);\n        j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B / 2))]] *\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B /\n                                    2))]]\\<^sup>\\<dagger>) $$\n                         (i, j) =\n                         1\\<^sub>m 2 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "fix i j"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 2);\n        j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B / 2))]] *\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B /\n                                    2))]]\\<^sup>\\<dagger>) $$\n                         (i, j) =\n                         1\\<^sub>m 2 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "assume a0:\"i < dim_row (1\\<^sub>m 2)\" and a1:\"j < dim_col (1\\<^sub>m 2)\""], ["proof (state)\nthis:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (1\\<^sub>m 2);\n        j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n       \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B / 2))]] *\n                          Tensor.mat_of_cols_list 2\n                           [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                            map complex_of_real\n                             [- sin (\\<theta>\\<^sub>B / 2)],\n                            [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                             exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                             complex_of_real\n                              (cos (\\<theta>\\<^sub>B /\n                                    2))]]\\<^sup>\\<dagger>) $$\n                         (i, j) =\n                         1\\<^sub>m 2 $$ (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "then"], ["proof (chain)\npicking this:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)", "show \"(U\\<^sub>B * (U\\<^sub>B\\<^sup>\\<dagger>)) $$ (i,j) = 1\\<^sub>m 2 $$ (i,j)\""], ["proof (prove)\nusing this:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) $$\n    (i, j) =\n    1\\<^sub>m 2 $$ (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row (1\\<^sub>m 2); j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n                       Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real\n                           (cos (\\<theta>\\<^sub>B /\n                                 2))]]\\<^sup>\\<dagger>) $$\n                      (i, j) =\n                      1\\<^sub>m 2 $$ (i, j)", "have \"i\\<in>{0,1} \\<and> j\\<in>{0,1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "using a0 a1 mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row (1\\<^sub>m 2)\n  j < dim_col (1\\<^sub>m 2)\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row (1\\<^sub>m 2); j < dim_col (1\\<^sub>m 2)\\<rbrakk>\n    \\<Longrightarrow> (Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n                       Tensor.mat_of_cols_list 2\n                        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n                         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                          complex_of_real\n                           (cos (\\<theta>\\<^sub>B /\n                                 2))]]\\<^sup>\\<dagger>) $$\n                      (i, j) =\n                      1\\<^sub>m 2 $$ (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) $$\n    (i, j) =\n    1\\<^sub>m 2 $$ (i, j)", "using mat_of_cols_list_def cos_sin_squared_add_cpx hermite_cnj_of_U\\<^sub>B exp_sin_cos_squared_add[of \"\\<phi>\\<^sub>B\" \"\\<theta>\\<^sub>B / 2\"]"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  complex_of_real (cos (?\\<gamma> / 2)) *\n  complex_of_real (cos (?\\<gamma> / 2)) -\n  \\<i> * complex_of_real (sin (?\\<gamma> / 2)) *\n  (\\<i> * complex_of_real (sin (?\\<gamma> / 2))) =\n  1\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n  Tensor.mat_of_cols_list 2\n   [exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real [sin (\\<theta>\\<^sub>B / 2)],\n    [complex_of_real (- sin (\\<theta>\\<^sub>B / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\n  exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n   complex_of_real (cos (\\<theta>\\<^sub>B / 2))) +\n  complex_of_real\n   (sin (\\<theta>\\<^sub>B / 2) * sin (\\<theta>\\<^sub>B / 2)) =\n  1\n\ngoal (1 subgoal):\n 1. (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) $$\n    (i, j) =\n    1\\<^sub>m 2 $$ (i, j)", "by (auto simp add: set_2 algebra_simps)"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) $$\n  (i, j) =\n  1\\<^sub>m 2 $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) $$\n  (i, j) =\n  1\\<^sub>m 2 $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)\n 2. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)\n 2. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "show \"dim_row (U\\<^sub>B * (U\\<^sub>B\\<^sup>\\<dagger>)) = dim_row (1\\<^sub>m 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_row (1\\<^sub>m 2)", "by simp"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n  dim_row (1\\<^sub>m 2)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "show \"dim_col (U\\<^sub>B * (U\\<^sub>B\\<^sup>\\<dagger>)) = dim_col (1\\<^sub>m 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n    dim_col (1\\<^sub>m 2)", "by simp"], ["proof (state)\nthis:\n  dim_col\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger>) =\n  dim_col (1\\<^sub>m 2)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) U\\<^sub>A\\<^sub>_is_gate:\n  shows \"gate 1 U\\<^sub>A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. gate 1\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    2 ^ 1\n 2. square_mat\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n 3. unitary\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "show \"dim_row U\\<^sub>A = 2^1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    2 ^ 1", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    2 ^ 1", "by simp"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n  2 ^ 1\n\ngoal (2 subgoals):\n 1. square_mat\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n 2. unitary\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "moreover"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n  2 ^ 1\n\ngoal (2 subgoals):\n 1. square_mat\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n 2. unitary\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "show \"square_mat U\\<^sub>A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square_mat\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. square_mat\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "by simp"], ["proof (state)\nthis:\n  square_mat\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n\ngoal (1 subgoal):\n 1. unitary\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "ultimately"], ["proof (chain)\npicking this:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n  2 ^ 1\n  square_mat\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "show \"unitary U\\<^sub>A\""], ["proof (prove)\nusing this:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n  2 ^ 1\n  square_mat\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n\ngoal (1 subgoal):\n 1. unitary\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "using mat_of_cols_list_def unitary_def U\\<^sub>A_cnj_times_U\\<^sub>A U\\<^sub>A_times_U\\<^sub>A_cnj"], ["proof (prove)\nusing this:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n  2 ^ 1\n  square_mat\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  unitary ?M \\<equiv>\n  ?M\\<^sup>\\<dagger> * ?M = 1\\<^sub>m (dim_col ?M) \\<and>\n  ?M * ?M\\<^sup>\\<dagger> = 1\\<^sub>m (dim_row ?M)\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> *\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] =\n  1\\<^sub>m 2\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] *\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]\\<^sup>\\<dagger> =\n  1\\<^sub>m 2\n\ngoal (1 subgoal):\n 1. unitary\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])", "by auto"], ["proof (state)\nthis:\n  unitary\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) U\\<^sub>B_is_gate:\n  shows \"gate 1 U\\<^sub>B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. gate 1\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    2 ^ 1\n 2. square_mat\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 3. unitary\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "show \"dim_row U\\<^sub>B = 2^1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    2 ^ 1", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n    2 ^ 1", "by simp"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n  2 ^ 1\n\ngoal (2 subgoals):\n 1. square_mat\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 2. unitary\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "moreover"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n  2 ^ 1\n\ngoal (2 subgoals):\n 1. square_mat\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n 2. unitary\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "show \"square_mat U\\<^sub>B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square_mat\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. square_mat\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "by simp"], ["proof (state)\nthis:\n  square_mat\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal (1 subgoal):\n 1. unitary\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "ultimately"], ["proof (chain)\npicking this:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n  2 ^ 1\n  square_mat\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "show \"unitary U\\<^sub>B\""], ["proof (prove)\nusing this:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n  2 ^ 1\n  square_mat\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal (1 subgoal):\n 1. unitary\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "using mat_of_cols_list_def unitary_def U\\<^sub>B_cnj_times_U\\<^sub>B U\\<^sub>B_times_U\\<^sub>B_cnj"], ["proof (prove)\nusing this:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) =\n  2 ^ 1\n  square_mat\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  unitary ?M \\<equiv>\n  ?M\\<^sup>\\<dagger> * ?M = 1\\<^sub>m (dim_col ?M) \\<and>\n  ?M * ?M\\<^sup>\\<dagger> = 1\\<^sub>m (dim_row ?M)\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> *\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] =\n  1\\<^sub>m 2\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]] *\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]\\<^sup>\\<dagger> =\n  1\\<^sub>m 2\n\ngoal (1 subgoal):\n 1. unitary\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "by auto"], ["proof (state)\nthis:\n  unitary\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) U\\<^sub>A\\<^sub>B_is_gate:\n  shows \"gate 2 (U\\<^sub>A \\<Otimes> U\\<^sub>B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. gate 2\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. gate 2\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "have \"gate (1+1) (U\\<^sub>A \\<Otimes> U\\<^sub>B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. gate (1 + 1)\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "using U\\<^sub>A\\<^sub>_is_gate U\\<^sub>B_is_gate tensor_gate[of \"1\" \"U\\<^sub>A\" \"1\" \"U\\<^sub>B\"]"], ["proof (prove)\nusing this:\n  gate 1\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]])\n  gate 1\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n  \\<lbrakk>gate 1\n            (Tensor.mat_of_cols_list 2\n              [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n               map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n               [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]);\n   gate 1\n    (Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\\<rbrakk>\n  \\<Longrightarrow> gate (1 + 1)\n                     (Tensor.mat_of_cols_list 2\n                       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n                        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real\n                          (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n                      Tensor.mat_of_cols_list 2\n                       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n                        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n                        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal (1 subgoal):\n 1. gate (1 + 1)\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "by auto"], ["proof (state)\nthis:\n  gate (1 + 1)\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal (1 subgoal):\n 1. gate 2\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "then"], ["proof (chain)\npicking this:\n  gate (1 + 1)\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "show ?thesis"], ["proof (prove)\nusing this:\n  gate (1 + 1)\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal (1 subgoal):\n 1. gate 2\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])", "by (auto simp add: numeral_2_eq_2)"], ["proof (state)\nthis:\n  gate 2\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) psi_two_is_state:\n  shows \"state 2 \\<psi>\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "have \"state 2 ((U\\<^sub>A \\<Otimes> U\\<^sub>B) * \\<psi>\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. state 2\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "using psi_one_is_state U\\<^sub>A\\<^sub>B_is_gate"], ["proof (prove)\nusing this:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n  gate 2\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n    Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2))]])\n\ngoal (1 subgoal):\n 1. state 2\n     ((Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n       Tensor.mat_of_cols_list 2\n        [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n         map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n         [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n      Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "by auto"], ["proof (state)\nthis:\n  state 2\n   ((Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "then"], ["proof (chain)\npicking this:\n  state 2\n   ((Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]])", "show ?thesis"], ["proof (prove)\nusing this:\n  state 2\n   ((Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "using psi_two"], ["proof (prove)\nusing this:\n  state 2\n   ((Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n     Tensor.mat_of_cols_list 2\n      [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n       map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n       [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))]])\n  (Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))]] =\n  Tensor.mat_of_cols_list 4\n   [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n       cos (\\<gamma> / 2)) +\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2))]]\n\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "by simp"], ["proof (state)\nthis:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) J_cnj_is_gate:\n  shows \"gate 2 (J\\<^sup>\\<dagger>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. gate 2\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. dim_row\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    2\\<^sup>2\n 2. square_mat\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\n 3. unitary\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>", "show \"dim_row (J\\<^sup>\\<dagger>) = 2\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    2\\<^sup>2", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n    2\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  dim_row\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n  2\\<^sup>2\n\ngoal (2 subgoals):\n 1. square_mat\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\n 2. unitary\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>", "moreover"], ["proof (state)\nthis:\n  dim_row\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n  2\\<^sup>2\n\ngoal (2 subgoals):\n 1. square_mat\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\n 2. unitary\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>", "show \"square_mat (J\\<^sup>\\<dagger>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square_mat\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. square_mat\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>", "by simp"], ["proof (state)\nthis:\n  square_mat\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\n\ngoal (1 subgoal):\n 1. unitary\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>", "moreover"], ["proof (state)\nthis:\n  square_mat\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\n\ngoal (1 subgoal):\n 1. unitary\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>", "have \"(J\\<^sup>\\<dagger>)\\<^sup>\\<dagger> = J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real\n       [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\\<^sup>\\<dagger> =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]", "using dagger_of_dagger_is_id"], ["proof (prove)\nusing this:\n  ?M\\<^sup>\\<dagger>\\<^sup>\\<dagger> = ?M\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real\n       [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\\<^sup>\\<dagger> =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]", "by auto"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real\n     [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\\<^sup>\\<dagger> =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\n\ngoal (1 subgoal):\n 1. unitary\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>", "ultimately"], ["proof (chain)\npicking this:\n  dim_row\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n  2\\<^sup>2\n  square_mat\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real\n     [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\\<^sup>\\<dagger> =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]", "show \"unitary (J\\<^sup>\\<dagger>)\""], ["proof (prove)\nusing this:\n  dim_row\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n  2\\<^sup>2\n  square_mat\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real\n     [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\\<^sup>\\<dagger> =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\n\ngoal (1 subgoal):\n 1. unitary\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>", "using mat_of_cols_list_def unitary_def J_cnj_times_J J_times_J_cnj"], ["proof (prove)\nusing this:\n  dim_row\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n  2\\<^sup>2\n  square_mat\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real\n     [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\\<^sup>\\<dagger> =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  unitary ?M \\<equiv>\n  ?M\\<^sup>\\<dagger> * ?M = 1\\<^sub>m (dim_col ?M) \\<and>\n  ?M * ?M\\<^sup>\\<dagger> = 1\\<^sub>m (dim_row ?M)\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]] =\n  1\\<^sub>m 4\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> =\n  1\\<^sub>m 4\n\ngoal (1 subgoal):\n 1. unitary\n     Tensor.mat_of_cols_list 4\n      [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n        \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n       [0, complex_of_real (cos (\\<gamma> / 2)),\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n       0 #\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [cos (\\<gamma> / 2), 0],\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n       map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>", "by auto"], ["proof (state)\nthis:\n  unitary\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) psi_f_is_state: \n  shows \"state 2 \\<psi>\\<^sub>f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "have \"state 2 ((J\\<^sup>\\<dagger>) * \\<psi>\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "using psi_two_is_state J_cnj_is_gate"], ["proof (prove)\nusing this:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]])\n  gate 2\n   Tensor.mat_of_cols_list 4\n    [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n      \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n     [0, complex_of_real (cos (\\<gamma> / 2)),\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n     0 #\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [cos (\\<gamma> / 2), 0],\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n     map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger>\n\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n      Tensor.mat_of_cols_list 4\n       [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n         exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         complex_of_real (cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2)),\n         complex_of_real\n          (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n           cos (\\<gamma> / 2)) +\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n         \\<i> *\n         complex_of_real (sin (\\<gamma> / 2))]])", "by auto"], ["proof (state)\nthis:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "then"], ["proof (chain)\npicking this:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]])", "show ?thesis"], ["proof (prove)\nusing this:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]])\n\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "using psi_f"], ["proof (prove)\nusing this:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n    Tensor.mat_of_cols_list 4\n     [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n       exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       complex_of_real (cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2)),\n       complex_of_real\n        (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n         cos (\\<gamma> / 2)) +\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n       complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n       \\<i> *\n       complex_of_real (sin (\\<gamma> / 2))]])\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n  Tensor.mat_of_cols_list 4\n   [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n       cos (\\<gamma> / 2)) +\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2))]] =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]]\n\ngoal (1 subgoal):\n 1. state 2\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n         (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          complex_of_real (cos (\\<gamma> / 2)) +\n          complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2))) +\n         complex_of_real (cos (\\<gamma> / 2)) *\n         (complex_of_real\n           (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n            cos (\\<gamma> / 2)) +\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n          complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n          exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n          complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n          \\<i> *\n          complex_of_real (sin (\\<gamma> / 2)))]])", "by simp"], ["proof (state)\nthis:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal:\nNo subgoals!", "qed"], ["", "(* equation (1) in the paper *)"], ["", "lemma (in strategic_space_2p) equation_one:\n  shows \"(J\\<^sup>\\<dagger>) * ((U\\<^sub>A \\<Otimes> U\\<^sub>B) * (J * |unit_vec 4 0\\<rangle>)) = \\<psi>\\<^sub>f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n    ((Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>)) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]]", "using psi_one psi_two psi_f"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n  |unit_vec 4 0\\<rangle> =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))]]\n  (Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n   Tensor.mat_of_cols_list 2\n    [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n     map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n     [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))]] =\n  Tensor.mat_of_cols_list 4\n   [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n       cos (\\<gamma> / 2)) +\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2))]]\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n     \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n    [0, complex_of_real (cos (\\<gamma> / 2)),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n    0 #\n    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [cos (\\<gamma> / 2), 0],\n    \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n    map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n  Tensor.mat_of_cols_list 4\n   [[exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     complex_of_real (cos (\\<gamma> / 2)) +\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2)),\n     complex_of_real\n      (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n       cos (\\<gamma> / 2)) +\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n     \\<i> *\n     complex_of_real (sin (\\<gamma> / 2))]] =\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]]\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n       \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n      [0, complex_of_real (cos (\\<gamma> / 2)),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n      0 #\n      - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [cos (\\<gamma> / 2), 0],\n      \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n      map complex_of_real [0, 0, cos (\\<gamma> / 2)]]\\<^sup>\\<dagger> *\n    ((Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] \\<Otimes>\n      Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>B / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>B / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n         complex_of_real (cos (\\<theta>\\<^sub>B / 2))]]) *\n     (Tensor.mat_of_cols_list 4\n       [[complex_of_real (cos (\\<gamma> / 2)), 0, 0,\n         \\<i> * complex_of_real (sin (\\<gamma> / 2))],\n        [0, complex_of_real (cos (\\<gamma> / 2)),\n         - \\<i> * complex_of_real (sin (\\<gamma> / 2)), 0],\n        0 #\n        - \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [cos (\\<gamma> / 2), 0],\n        \\<i> * complex_of_real (sin (\\<gamma> / 2)) #\n        map complex_of_real [0, 0, cos (\\<gamma> / 2)]] *\n      |unit_vec 4 0\\<rangle>)) =\n    Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]]", "by auto"], ["", "abbreviation (in strategic_space_2p) prob00 :: \"complex Matrix.mat \\<Rightarrow> real\" where\n\"prob00 v \\<equiv> if state 2 v then (cmod (v $$ (0,0)))\\<^sup>2 else undefined\""], ["", "abbreviation (in strategic_space_2p) prob01 :: \"complex Matrix.mat \\<Rightarrow> real\" where\n\"prob01 v \\<equiv> if state 2 v then (cmod (v $$ (1,0)))\\<^sup>2 else undefined\""], ["", "abbreviation (in strategic_space_2p) prob10 :: \"complex Matrix.mat \\<Rightarrow> real\" where\n\"prob10 v \\<equiv> if state 2 v then (cmod (v $$ (2,0)))\\<^sup>2 else undefined\""], ["", "abbreviation (in strategic_space_2p) prob11 :: \"complex Matrix.mat \\<Rightarrow> real\" where\n\"prob11 v \\<equiv> if state 2 v then (cmod (v $$ (3,0)))\\<^sup>2 else undefined\""], ["", "definition (in strategic_space_2p) alice_payoff :: \"real\" where\n\"alice_payoff \\<equiv> 3 * (prob00 \\<psi>\\<^sub>f) + 1 * (prob11 \\<psi>\\<^sub>f) + 0 * (prob01 \\<psi>\\<^sub>f) + 5 * (prob10 \\<psi>\\<^sub>f)\""], ["", "definition (in strategic_space_2p) bob_payoff :: \"real\" where\n\"bob_payoff \\<equiv> 3 * (prob00 \\<psi>\\<^sub>f) + 1 * (prob11 \\<psi>\\<^sub>f) + 5 * (prob01 \\<psi>\\<^sub>f) + 0 * (prob10 \\<psi>\\<^sub>f)\""], ["", "definition (in strategic_space_2p) is_nash_eq :: \"bool\" where\n\"is_nash_eq \\<equiv> \n(\\<forall>tA pA. strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<longrightarrow> \n    alice_payoff \\<ge> strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B) \n\\<and>\n(\\<forall>tB pB. strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB \\<longrightarrow> \n    bob_payoff \\<ge> strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB)\""], ["", "definition (in strategic_space_2p) is_pareto_opt :: \"bool\" where\n\"is_pareto_opt \\<equiv> \\<forall>tA pA tB pB. strategic_space_2p \\<gamma> tA pA tB pB \\<longrightarrow>\n((strategic_space_2p.alice_payoff \\<gamma> tA pA tB pB > alice_payoff \\<longrightarrow> \n  strategic_space_2p.bob_payoff \\<gamma> tA pA tB pB < bob_payoff) \\<and>\n (strategic_space_2p.bob_payoff \\<gamma> tA pA tB pB > bob_payoff \\<longrightarrow> \n  strategic_space_2p.alice_payoff \\<gamma> tA pA tB pB < alice_payoff))\""], ["", "lemma (in strategic_space_2p) sum_of_prob:\n  fixes v :: \"complex Matrix.mat\"\n  assumes \"state 2 v\"\n  shows \"(prob00 v) + (prob11 v) + (prob01 v) + (prob10 v) = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if state 2 v then (cmod (v $$ (0, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (3, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (1, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (2, 0)))\\<^sup>2 else undefined) =\n    1", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (if state 2 v then (cmod (v $$ (0, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (3, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (1, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (2, 0)))\\<^sup>2 else undefined) =\n    1", "have \"(prob00 v) + (prob11 v) + (prob01 v) + (prob10 v) = \n        (cmod (v $$ (0,0)))\\<^sup>2 + (cmod (v $$ (1,0)))\\<^sup>2 + (cmod (v $$ (2,0)))\\<^sup>2 + (cmod (v $$ (3,0)))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if state 2 v then (cmod (v $$ (0, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (3, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (1, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (2, 0)))\\<^sup>2 else undefined) =\n    (cmod (v $$ (0, 0)))\\<^sup>2 + (cmod (v $$ (1, 0)))\\<^sup>2 +\n    (cmod (v $$ (2, 0)))\\<^sup>2 +\n    (cmod (v $$ (3, 0)))\\<^sup>2", "using assms"], ["proof (prove)\nusing this:\n  state 2 v\n\ngoal (1 subgoal):\n 1. (if state 2 v then (cmod (v $$ (0, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (3, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (1, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (2, 0)))\\<^sup>2 else undefined) =\n    (cmod (v $$ (0, 0)))\\<^sup>2 + (cmod (v $$ (1, 0)))\\<^sup>2 +\n    (cmod (v $$ (2, 0)))\\<^sup>2 +\n    (cmod (v $$ (3, 0)))\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  (if state 2 v then (cmod (v $$ (0, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (3, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (1, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (2, 0)))\\<^sup>2 else undefined) =\n  (cmod (v $$ (0, 0)))\\<^sup>2 + (cmod (v $$ (1, 0)))\\<^sup>2 +\n  (cmod (v $$ (2, 0)))\\<^sup>2 +\n  (cmod (v $$ (3, 0)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. (if state 2 v then (cmod (v $$ (0, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (3, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (1, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (2, 0)))\\<^sup>2 else undefined) =\n    1", "then"], ["proof (chain)\npicking this:\n  (if state 2 v then (cmod (v $$ (0, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (3, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (1, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (2, 0)))\\<^sup>2 else undefined) =\n  (cmod (v $$ (0, 0)))\\<^sup>2 + (cmod (v $$ (1, 0)))\\<^sup>2 +\n  (cmod (v $$ (2, 0)))\\<^sup>2 +\n  (cmod (v $$ (3, 0)))\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  (if state 2 v then (cmod (v $$ (0, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (3, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (1, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (2, 0)))\\<^sup>2 else undefined) =\n  (cmod (v $$ (0, 0)))\\<^sup>2 + (cmod (v $$ (1, 0)))\\<^sup>2 +\n  (cmod (v $$ (2, 0)))\\<^sup>2 +\n  (cmod (v $$ (3, 0)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. (if state 2 v then (cmod (v $$ (0, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (3, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (1, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (2, 0)))\\<^sup>2 else undefined) =\n    1", "using state_def assms cpx_vec_length_def"], ["proof (prove)\nusing this:\n  (if state 2 v then (cmod (v $$ (0, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (3, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (1, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (2, 0)))\\<^sup>2 else undefined) =\n  (cmod (v $$ (0, 0)))\\<^sup>2 + (cmod (v $$ (1, 0)))\\<^sup>2 +\n  (cmod (v $$ (2, 0)))\\<^sup>2 +\n  (cmod (v $$ (3, 0)))\\<^sup>2\n  state ?n ?v \\<equiv>\n  dim_col ?v = 1 \\<and>\n  dim_row ?v = 2 ^ ?n \\<and> \\<parallel>Matrix.col ?v 0\\<parallel> = 1\n  state 2 v\n  \\<parallel>?v\\<parallel> \\<equiv>\n  sqrt (\\<Sum>i<dim_vec ?v. (cmod (?v $ i))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (if state 2 v then (cmod (v $$ (0, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (3, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (1, 0)))\\<^sup>2 else undefined) +\n    (if state 2 v then (cmod (v $$ (2, 0)))\\<^sup>2 else undefined) =\n    1", "by (auto simp add: set_4)"], ["proof (state)\nthis:\n  (if state 2 v then (cmod (v $$ (0, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (3, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (1, 0)))\\<^sup>2 else undefined) +\n  (if state 2 v then (cmod (v $$ (2, 0)))\\<^sup>2 else undefined) =\n  1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) sum_payoff_le_6:\n  fixes tA pA tB pB :: real\n  shows \"alice_payoff + bob_payoff \\<le> 6\""], ["proof (prove)\ngoal (1 subgoal):\n 1. alice_payoff + bob_payoff \\<le> 6", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. alice_payoff + bob_payoff \\<le> 6", "have \"alice_payoff + bob_payoff = 6 * (prob00 \\<psi>\\<^sub>f) + 2 * (prob11 \\<psi>\\<^sub>f) + 5 * (prob01 \\<psi>\\<^sub>f) + 5 * (prob10 \\<psi>\\<^sub>f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. alice_payoff + bob_payoff =\n    6 *\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (0, 0)))\\<^sup>2\n     else undefined) +\n    2 *\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (3, 0)))\\<^sup>2\n     else undefined) +\n    5 *\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (1, 0)))\\<^sup>2\n     else undefined) +\n    5 *\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (2, 0)))\\<^sup>2\n     else undefined)", "using alice_payoff_def bob_payoff_def psi_f_is_state"], ["proof (prove)\nusing this:\n  alice_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  bob_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. alice_payoff + bob_payoff =\n    6 *\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (0, 0)))\\<^sup>2\n     else undefined) +\n    2 *\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (3, 0)))\\<^sup>2\n     else undefined) +\n    5 *\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (1, 0)))\\<^sup>2\n     else undefined) +\n    5 *\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (2, 0)))\\<^sup>2\n     else undefined)", "by auto"], ["proof (state)\nthis:\n  alice_payoff + bob_payoff =\n  6 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  2 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n\ngoal (1 subgoal):\n 1. alice_payoff + bob_payoff \\<le> 6", "then"], ["proof (chain)\npicking this:\n  alice_payoff + bob_payoff =\n  6 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  2 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)", "have \"alice_payoff + bob_payoff \\<le> 6 * ((prob00 \\<psi>\\<^sub>f) + (prob11 \\<psi>\\<^sub>f) + (prob01 \\<psi>\\<^sub>f) + (prob10 \\<psi>\\<^sub>f))\""], ["proof (prove)\nusing this:\n  alice_payoff + bob_payoff =\n  6 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  2 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n\ngoal (1 subgoal):\n 1. alice_payoff + bob_payoff\n    \\<le> 6 *\n          ((if state 2\n                (Tensor.mat_of_cols_list 4\n                  [[complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2)))]])\n            then (cmod\n                   (Tensor.mat_of_cols_list 4\n                     [[complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2)))]] $$\n                    (0, 0)))\\<^sup>2\n            else undefined) +\n           (if state 2\n                (Tensor.mat_of_cols_list 4\n                  [[complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2)))]])\n            then (cmod\n                   (Tensor.mat_of_cols_list 4\n                     [[complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2)))]] $$\n                    (3, 0)))\\<^sup>2\n            else undefined) +\n           (if state 2\n                (Tensor.mat_of_cols_list 4\n                  [[complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2)))]])\n            then (cmod\n                   (Tensor.mat_of_cols_list 4\n                     [[complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2)))]] $$\n                    (1, 0)))\\<^sup>2\n            else undefined) +\n           (if state 2\n                (Tensor.mat_of_cols_list 4\n                  [[complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2)))]])\n            then (cmod\n                   (Tensor.mat_of_cols_list 4\n                     [[complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2)))]] $$\n                    (2, 0)))\\<^sup>2\n            else undefined))", "using psi_f_is_state"], ["proof (prove)\nusing this:\n  alice_payoff + bob_payoff =\n  6 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  2 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. alice_payoff + bob_payoff\n    \\<le> 6 *\n          ((if state 2\n                (Tensor.mat_of_cols_list 4\n                  [[complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2)))]])\n            then (cmod\n                   (Tensor.mat_of_cols_list 4\n                     [[complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2)))]] $$\n                    (0, 0)))\\<^sup>2\n            else undefined) +\n           (if state 2\n                (Tensor.mat_of_cols_list 4\n                  [[complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2)))]])\n            then (cmod\n                   (Tensor.mat_of_cols_list 4\n                     [[complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2)))]] $$\n                    (3, 0)))\\<^sup>2\n            else undefined) +\n           (if state 2\n                (Tensor.mat_of_cols_list 4\n                  [[complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2)))]])\n            then (cmod\n                   (Tensor.mat_of_cols_list 4\n                     [[complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2)))]] $$\n                    (1, 0)))\\<^sup>2\n            else undefined) +\n           (if state 2\n                (Tensor.mat_of_cols_list 4\n                  [[complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))),\n                    - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     complex_of_real (cos (\\<gamma> / 2)) +\n                     complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2))) +\n                    complex_of_real (cos (\\<gamma> / 2)) *\n                    (complex_of_real\n                      (sin (\\<theta>\\<^sub>A / 2) *\n                       sin (\\<theta>\\<^sub>B / 2) *\n                       cos (\\<gamma> / 2)) +\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                     complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                     complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                     \\<i> *\n                     complex_of_real (sin (\\<gamma> / 2)))]])\n            then (cmod\n                   (Tensor.mat_of_cols_list 4\n                     [[complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))),\n                       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        complex_of_real (cos (\\<gamma> / 2)) +\n                        complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2))) +\n                       complex_of_real (cos (\\<gamma> / 2)) *\n                       (complex_of_real\n                         (sin (\\<theta>\\<^sub>A / 2) *\n                          sin (\\<theta>\\<^sub>B / 2) *\n                          cos (\\<gamma> / 2)) +\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                        \\<i> *\n                        complex_of_real (sin (\\<gamma> / 2)))]] $$\n                    (2, 0)))\\<^sup>2\n            else undefined))", "by (auto simp add: algebra_simps)"], ["proof (state)\nthis:\n  alice_payoff + bob_payoff\n  \\<le> 6 *\n        ((if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (0, 0)))\\<^sup>2\n          else undefined) +\n         (if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (3, 0)))\\<^sup>2\n          else undefined) +\n         (if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (1, 0)))\\<^sup>2\n          else undefined) +\n         (if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (2, 0)))\\<^sup>2\n          else undefined))\n\ngoal (1 subgoal):\n 1. alice_payoff + bob_payoff \\<le> 6", "moreover"], ["proof (state)\nthis:\n  alice_payoff + bob_payoff\n  \\<le> 6 *\n        ((if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (0, 0)))\\<^sup>2\n          else undefined) +\n         (if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (3, 0)))\\<^sup>2\n          else undefined) +\n         (if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (1, 0)))\\<^sup>2\n          else undefined) +\n         (if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (2, 0)))\\<^sup>2\n          else undefined))\n\ngoal (1 subgoal):\n 1. alice_payoff + bob_payoff \\<le> 6", "have \"(prob00 \\<psi>\\<^sub>f) + (prob11 \\<psi>\\<^sub>f) + (prob01 \\<psi>\\<^sub>f) + (prob10 \\<psi>\\<^sub>f) = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (0, 0)))\\<^sup>2\n     else undefined) +\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (3, 0)))\\<^sup>2\n     else undefined) +\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (1, 0)))\\<^sup>2\n     else undefined) +\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (2, 0)))\\<^sup>2\n     else undefined) =\n    1", "using sum_of_prob[of \"\\<psi>\\<^sub>f\"] psi_f_is_state"], ["proof (prove)\nusing this:\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]]) \\<Longrightarrow>\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined) =\n  1\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (0, 0)))\\<^sup>2\n     else undefined) +\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (3, 0)))\\<^sup>2\n     else undefined) +\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (1, 0)))\\<^sup>2\n     else undefined) +\n    (if state 2\n         (Tensor.mat_of_cols_list 4\n           [[complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))),\n             - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n             (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              complex_of_real (cos (\\<gamma> / 2)) +\n              complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2))) +\n             complex_of_real (cos (\\<gamma> / 2)) *\n             (complex_of_real\n               (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                cos (\\<gamma> / 2)) +\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n              complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n              exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n              complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n              \\<i> *\n              complex_of_real (sin (\\<gamma> / 2)))]])\n     then (cmod\n            (Tensor.mat_of_cols_list 4\n              [[complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))),\n                - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 complex_of_real (cos (\\<gamma> / 2)) +\n                 complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) *\n                   sin (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2))) +\n                complex_of_real (cos (\\<gamma> / 2)) *\n                (complex_of_real\n                  (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                   cos (\\<gamma> / 2)) +\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                 complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                 exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                 complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                 \\<i> *\n                 complex_of_real (sin (\\<gamma> / 2)))]] $$\n             (2, 0)))\\<^sup>2\n     else undefined) =\n    1", "by auto"], ["proof (state)\nthis:\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined) =\n  1\n\ngoal (1 subgoal):\n 1. alice_payoff + bob_payoff \\<le> 6", "ultimately"], ["proof (chain)\npicking this:\n  alice_payoff + bob_payoff\n  \\<le> 6 *\n        ((if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (0, 0)))\\<^sup>2\n          else undefined) +\n         (if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (3, 0)))\\<^sup>2\n          else undefined) +\n         (if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (1, 0)))\\<^sup>2\n          else undefined) +\n         (if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (2, 0)))\\<^sup>2\n          else undefined))\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined) =\n  1", "show ?thesis"], ["proof (prove)\nusing this:\n  alice_payoff + bob_payoff\n  \\<le> 6 *\n        ((if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (0, 0)))\\<^sup>2\n          else undefined) +\n         (if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (3, 0)))\\<^sup>2\n          else undefined) +\n         (if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (1, 0)))\\<^sup>2\n          else undefined) +\n         (if state 2\n              (Tensor.mat_of_cols_list 4\n                [[complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))),\n                  - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   complex_of_real (cos (\\<gamma> / 2)) +\n                   complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2))) +\n                  complex_of_real (cos (\\<gamma> / 2)) *\n                  (complex_of_real\n                    (sin (\\<theta>\\<^sub>A / 2) *\n                     sin (\\<theta>\\<^sub>B / 2) *\n                     cos (\\<gamma> / 2)) +\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                   complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                   exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                   complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                   \\<i> *\n                   complex_of_real (sin (\\<gamma> / 2)))]])\n          then (cmod\n                 (Tensor.mat_of_cols_list 4\n                   [[complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))),\n                     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n                     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      complex_of_real (cos (\\<gamma> / 2)) +\n                      complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2))) +\n                     complex_of_real (cos (\\<gamma> / 2)) *\n                     (complex_of_real\n                       (sin (\\<theta>\\<^sub>A / 2) *\n                        sin (\\<theta>\\<^sub>B / 2) *\n                        cos (\\<gamma> / 2)) +\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n                      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n                      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n                      \\<i> *\n                      complex_of_real (sin (\\<gamma> / 2)))]] $$\n                  (2, 0)))\\<^sup>2\n          else undefined))\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined) =\n  1\n\ngoal (1 subgoal):\n 1. alice_payoff + bob_payoff \\<le> 6", "by auto"], ["proof (state)\nthis:\n  alice_payoff + bob_payoff \\<le> 6\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) coop_is_pareto_opt:\n  assumes \"alice_payoff = 3 \\<and> bob_payoff = 3\"\n  shows \"is_pareto_opt\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_pareto_opt", "using is_pareto_opt_def strategic_space_2p.sum_payoff_le_6 assms"], ["proof (prove)\nusing this:\n  is_pareto_opt \\<equiv>\n  \\<forall>tA pA tB pB.\n     strategic_space_2p \\<gamma> tA pA tB pB \\<longrightarrow>\n     (alice_payoff\n      < strategic_space_2p.alice_payoff \\<gamma> tA pA tB\n         pB \\<longrightarrow>\n      strategic_space_2p.bob_payoff \\<gamma> tA pA tB pB\n      < bob_payoff) \\<and>\n     (bob_payoff\n      < strategic_space_2p.bob_payoff \\<gamma> tA pA tB pB \\<longrightarrow>\n      strategic_space_2p.alice_payoff \\<gamma> tA pA tB pB < alice_payoff)\n  strategic_space_2p ?\\<gamma> ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n   ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B \\<Longrightarrow>\n  strategic_space_2p.alice_payoff ?\\<gamma> ?\\<theta>\\<^sub>A\n   ?\\<phi>\\<^sub>A ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B +\n  strategic_space_2p.bob_payoff ?\\<gamma> ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n   ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B\n  \\<le> 6\n  alice_payoff = 3 \\<and> bob_payoff = 3\n\ngoal (1 subgoal):\n 1. is_pareto_opt", "by fastforce"], ["", "subsection \\<open>The Separable Case\\<close>"], ["", "lemma (in strategic_space_2p) separable_case_CC: (* both player cooperate *)\n  assumes \"\\<gamma> = 0\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> alice_payoff = 3 \\<and> bob_payoff = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    alice_payoff = 3 \\<and> bob_payoff = 3", "using alice_payoff_def bob_payoff_def cos_sin_squared_add_cpx psi_f_is_state"], ["proof (prove)\nusing this:\n  alice_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  bob_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  complex_of_real (cos (?\\<gamma> / 2)) *\n  complex_of_real (cos (?\\<gamma> / 2)) -\n  \\<i> * complex_of_real (sin (?\\<gamma> / 2)) *\n  (\\<i> * complex_of_real (sin (?\\<gamma> / 2))) =\n  1\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    alice_payoff = 3 \\<and> bob_payoff = 3", "by auto"], ["", "lemma (in strategic_space_2p) separable_case_DD: (* both player defect *)\n  assumes \"\\<gamma> = 0\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow> alice_payoff = 1 \\<and> bob_payoff = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "using alice_payoff_def bob_payoff_def cos_sin_squared_add_cpx psi_f_is_state"], ["proof (prove)\nusing this:\n  alice_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  bob_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  complex_of_real (cos (?\\<gamma> / 2)) *\n  complex_of_real (cos (?\\<gamma> / 2)) -\n  \\<i> * complex_of_real (sin (?\\<gamma> / 2)) *\n  (\\<i> * complex_of_real (sin (?\\<gamma> / 2))) =\n  1\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "by auto"], ["", "lemma (in strategic_space_2p) separable_case_DC: (* Alice defects, and Bob cooperates *)\n  assumes \"\\<gamma> = 0\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> alice_payoff = 5 \\<and> bob_payoff = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    alice_payoff = 5 \\<and> bob_payoff = 0", "using alice_payoff_def bob_payoff_def sin_cos_squared_add_cpx psi_f_is_state"], ["proof (prove)\nusing this:\n  alice_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  bob_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  \\<i> * complex_of_real (sin (?\\<gamma> / 2)) *\n  (\\<i> * complex_of_real (sin (?\\<gamma> / 2))) -\n  complex_of_real (cos (?\\<gamma> / 2)) *\n  complex_of_real (cos (?\\<gamma> / 2)) =\n  - 1\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    alice_payoff = 5 \\<and> bob_payoff = 0", "by auto"], ["", "lemma (in strategic_space_2p) separable_alice_payoff_D\\<^sub>B: \n(* Alice's payoff in the separable case given that Bob defects *)\n  assumes \"\\<gamma> = 0\" and \"\\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\"\n  shows \"alice_payoff \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. alice_payoff \\<le> 1", "using alice_payoff_def assms sin_squared_le_one psi_f_is_state"], ["proof (prove)\nusing this:\n  alice_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  \\<gamma> = 0\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\n  (sin ?x)\\<^sup>2 \\<le> 1\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. alice_payoff \\<le> 1", "by auto"], ["", "lemma (in strategic_space_2p) separable_bob_payoff_D\\<^sub>A:\n(* Bob's payoff in the separable case given that Alice defects *)\n  assumes \"\\<gamma> = 0\" and \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi\"\n  shows \"bob_payoff \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bob_payoff \\<le> 1", "using bob_payoff_def assms sin_squared_le_one psi_f_is_state"], ["proof (prove)\nusing this:\n  bob_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  \\<gamma> = 0\n  \\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi\n  (sin ?x)\\<^sup>2 \\<le> 1\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. bob_payoff \\<le> 1", "by auto"], ["", "lemma (in strategic_space_2p) separable_case_DD_alice_opt:\n  assumes \"\\<gamma> = 0\" and \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\"\n  shows \"\\<And>tA pA. strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<longrightarrow> strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<le> alice_payoff\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>tA pA.\n       strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B \\<longrightarrow>\n       strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B\n       \\<le> alice_payoff", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>tA pA.\n       strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B \\<Longrightarrow>\n       strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B\n       \\<le> alice_payoff", "fix tA pA"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>tA pA.\n       strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B \\<Longrightarrow>\n       strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B\n       \\<le> alice_payoff", "assume \"strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B\""], ["proof (state)\nthis:\n  strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. \\<And>tA pA.\n       strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B \\<Longrightarrow>\n       strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B\n       \\<le> alice_payoff", "then"], ["proof (chain)\npicking this:\n  strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B", "show \"strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<le> alice_payoff\""], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B\n    \\<le> alice_payoff", "using separable_case_DD strategic_space_2p.separable_alice_payoff_D\\<^sub>B assms"], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n  \\<gamma> = 0 \\<Longrightarrow>\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = pi \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow>\n  alice_payoff = 1 \\<and> bob_payoff = 1\n  \\<lbrakk>strategic_space_2p ?\\<gamma> ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n            ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B;\n   ?\\<gamma> = 0; ?\\<phi>\\<^sub>B = 0 \\<and> ?\\<theta>\\<^sub>B = pi\\<rbrakk>\n  \\<Longrightarrow> strategic_space_2p.alice_payoff ?\\<gamma>\n                     ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A ?\\<theta>\\<^sub>B\n                     ?\\<phi>\\<^sub>B\n                    \\<le> 1\n  \\<gamma> = 0\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = pi \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\n\ngoal (1 subgoal):\n 1. strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B\n    \\<le> alice_payoff", "by auto"], ["proof (state)\nthis:\n  strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B\n  \\<le> alice_payoff\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) separable_case_DD_bob_opt:\n  assumes \"\\<gamma> = 0\" and \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\"\n  shows \"\\<And>tB pB. strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB \\<longrightarrow> strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB \\<le> bob_payoff\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>tB pB.\n       strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n        pB \\<longrightarrow>\n       strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A\n        \\<phi>\\<^sub>A tB pB\n       \\<le> bob_payoff", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>tB pB.\n       strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n        pB \\<Longrightarrow>\n       strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A\n        \\<phi>\\<^sub>A tB pB\n       \\<le> bob_payoff", "fix tB pB"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>tB pB.\n       strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n        pB \\<Longrightarrow>\n       strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A\n        \\<phi>\\<^sub>A tB pB\n       \\<le> bob_payoff", "assume \"strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB\""], ["proof (state)\nthis:\n  strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB\n\ngoal (1 subgoal):\n 1. \\<And>tB pB.\n       strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n        pB \\<Longrightarrow>\n       strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A\n        \\<phi>\\<^sub>A tB pB\n       \\<le> bob_payoff", "then"], ["proof (chain)\npicking this:\n  strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB", "show \"strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB \\<le> bob_payoff\""], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB\n\ngoal (1 subgoal):\n 1. strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A\n     tB pB\n    \\<le> bob_payoff", "using separable_case_DD strategic_space_2p.separable_bob_payoff_D\\<^sub>A assms"], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB\n  \\<gamma> = 0 \\<Longrightarrow>\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = pi \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow>\n  alice_payoff = 1 \\<and> bob_payoff = 1\n  \\<lbrakk>strategic_space_2p ?\\<gamma> ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n            ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B;\n   ?\\<gamma> = 0; ?\\<phi>\\<^sub>A = 0 \\<and> ?\\<theta>\\<^sub>A = pi\\<rbrakk>\n  \\<Longrightarrow> strategic_space_2p.bob_payoff ?\\<gamma>\n                     ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A ?\\<theta>\\<^sub>B\n                     ?\\<phi>\\<^sub>B\n                    \\<le> 1\n  \\<gamma> = 0\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = pi \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\n\ngoal (1 subgoal):\n 1. strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A\n     tB pB\n    \\<le> bob_payoff", "by auto"], ["proof (state)\nthis:\n  strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n   pB\n  \\<le> bob_payoff\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) separable_case_DD_is_nash_eq:\n  assumes \"\\<gamma> = 0\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow> is_nash_eq\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow>\n    is_nash_eq", "using is_nash_eq_def separable_case_DD_alice_opt separable_case_DD_bob_opt assms"], ["proof (prove)\nusing this:\n  is_nash_eq \\<equiv>\n  (\\<forall>tA pA.\n      strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n       \\<phi>\\<^sub>B \\<longrightarrow>\n      strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n       \\<phi>\\<^sub>B\n      \\<le> alice_payoff) \\<and>\n  (\\<forall>tB pB.\n      strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n       pB \\<longrightarrow>\n      strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A\n       tB pB\n      \\<le> bob_payoff)\n  \\<lbrakk>\\<gamma> = 0;\n   \\<phi>\\<^sub>A = 0 \\<and>\n   \\<theta>\\<^sub>A = pi \\<and>\n   \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\\<rbrakk>\n  \\<Longrightarrow> strategic_space_2p \\<gamma> ?tA ?pA \\<theta>\\<^sub>B\n                     \\<phi>\\<^sub>B \\<longrightarrow>\n                    strategic_space_2p.alice_payoff \\<gamma> ?tA ?pA\n                     \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n                    \\<le> alice_payoff\n  \\<lbrakk>\\<gamma> = 0;\n   \\<phi>\\<^sub>A = 0 \\<and>\n   \\<theta>\\<^sub>A = pi \\<and>\n   \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\\<rbrakk>\n  \\<Longrightarrow> strategic_space_2p \\<gamma> \\<theta>\\<^sub>A\n                     \\<phi>\\<^sub>A ?tB ?pB \\<longrightarrow>\n                    strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A\n                     \\<phi>\\<^sub>A ?tB ?pB\n                    \\<le> bob_payoff\n  \\<gamma> = 0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow>\n    is_nash_eq", "by auto"], ["", "lemma (in strategic_space_2p) separable_case_CC_is_not_nash_eq:\n  assumes \"\\<gamma> = 0\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> \\<not> is_nash_eq\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    \\<not> is_nash_eq", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    \\<not> is_nash_eq", "assume asm:\"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0\""], ["proof (state)\nthis:\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    \\<not> is_nash_eq", "then"], ["proof (chain)\npicking this:\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0", "have f0:\"strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B\""], ["proof (prove)\nusing this:\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0\n\ngoal (1 subgoal):\n 1. strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B", "using strategic_space_2p_def strategic_space_2p_axioms_def prisoner_def asm"], ["proof (prove)\nusing this:\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0\n  strategic_space_2p ?\\<gamma> ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n   ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B \\<equiv>\n  prisoner ?\\<gamma> \\<and>\n  strategic_space_2p_axioms ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n   ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B\n  strategic_space_2p_axioms ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n   ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B \\<equiv>\n  ((0 \\<le> ?\\<theta>\\<^sub>A \\<and> ?\\<theta>\\<^sub>A \\<le> pi) \\<and>\n   0 \\<le> ?\\<phi>\\<^sub>A \\<and> ?\\<phi>\\<^sub>A \\<le> pi / 2) \\<and>\n  (0 \\<le> ?\\<theta>\\<^sub>B \\<and> ?\\<theta>\\<^sub>B \\<le> pi) \\<and>\n  0 \\<le> ?\\<phi>\\<^sub>B \\<and> ?\\<phi>\\<^sub>B \\<le> pi / 2\n  prisoner ?\\<gamma> \\<equiv>\n  ?\\<gamma> \\<le> pi / 2 \\<and> 0 \\<le> ?\\<gamma>\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0\n\ngoal (1 subgoal):\n 1. strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B", "by (simp add: assms)"], ["proof (state)\nthis:\n  strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    \\<not> is_nash_eq", "then"], ["proof (chain)\npicking this:\n  strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B", "have \"strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B = 5\""], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B =\n    5", "using strategic_space_2p.separable_case_DC assms asm"], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n  \\<lbrakk>strategic_space_2p ?\\<gamma> ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n            ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B;\n   ?\\<gamma> = 0\\<rbrakk>\n  \\<Longrightarrow> ?\\<phi>\\<^sub>A = 0 \\<and>\n                    ?\\<theta>\\<^sub>A = pi \\<and>\n                    ?\\<phi>\\<^sub>B = 0 \\<and>\n                    ?\\<theta>\\<^sub>B = 0 \\<longrightarrow>\n                    strategic_space_2p.alice_payoff ?\\<gamma>\n                     ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A ?\\<theta>\\<^sub>B\n                     ?\\<phi>\\<^sub>B =\n                    5 \\<and>\n                    strategic_space_2p.bob_payoff ?\\<gamma>\n                     ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A ?\\<theta>\\<^sub>B\n                     ?\\<phi>\\<^sub>B =\n                    0\n  \\<gamma> = 0\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0\n\ngoal (1 subgoal):\n 1. strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B =\n    5", "by blast"], ["proof (state)\nthis:\n  strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B =\n  5\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    \\<not> is_nash_eq", "moreover"], ["proof (state)\nthis:\n  strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B =\n  5\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    \\<not> is_nash_eq", "have \"alice_payoff = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. alice_payoff = 3", "using separable_case_CC assms asm"], ["proof (prove)\nusing this:\n  \\<gamma> = 0 \\<Longrightarrow>\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n  alice_payoff = 3 \\<and> bob_payoff = 3\n  \\<gamma> = 0\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0\n\ngoal (1 subgoal):\n 1. alice_payoff = 3", "by blast"], ["proof (state)\nthis:\n  alice_payoff = 3\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    \\<not> is_nash_eq", "ultimately"], ["proof (chain)\npicking this:\n  strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B =\n  5\n  alice_payoff = 3", "have \"strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<and> strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B > alice_payoff\""], ["proof (prove)\nusing this:\n  strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B =\n  5\n  alice_payoff = 3\n\ngoal (1 subgoal):\n 1. strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<and>\n    alice_payoff\n    < strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B\n       \\<phi>\\<^sub>B", "using f0"], ["proof (prove)\nusing this:\n  strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B =\n  5\n  alice_payoff = 3\n  strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<and>\n    alice_payoff\n    < strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B\n       \\<phi>\\<^sub>B", "by simp"], ["proof (state)\nthis:\n  strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<and>\n  alice_payoff\n  < strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    \\<not> is_nash_eq", "then"], ["proof (chain)\npicking this:\n  strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<and>\n  alice_payoff\n  < strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B", "show \"\\<not>is_nash_eq\""], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<and>\n  alice_payoff\n  < strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. \\<not> is_nash_eq", "using is_nash_eq_def"], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> pi 0 \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<and>\n  alice_payoff\n  < strategic_space_2p.alice_payoff \\<gamma> pi 0 \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B\n  is_nash_eq \\<equiv>\n  (\\<forall>tA pA.\n      strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n       \\<phi>\\<^sub>B \\<longrightarrow>\n      strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n       \\<phi>\\<^sub>B\n      \\<le> alice_payoff) \\<and>\n  (\\<forall>tB pB.\n      strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n       pB \\<longrightarrow>\n      strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A\n       tB pB\n      \\<le> bob_payoff)\n\ngoal (1 subgoal):\n 1. \\<not> is_nash_eq", "by fastforce"], ["proof (state)\nthis:\n  \\<not> is_nash_eq\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) separable_case_CC_is_pareto_optimal:\n  assumes \"\\<gamma> = 0\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> is_pareto_opt\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    is_pareto_opt", "using coop_is_pareto_opt separable_case_CC assms"], ["proof (prove)\nusing this:\n  alice_payoff = 3 \\<and> bob_payoff = 3 \\<Longrightarrow> is_pareto_opt\n  \\<gamma> = 0 \\<Longrightarrow>\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n  alice_payoff = 3 \\<and> bob_payoff = 3\n  \\<gamma> = 0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    is_pareto_opt", "by auto"], ["", "subsection \\<open>The Maximally Entangled Case\\<close>"], ["", "lemma exp_to_sin:\n  fixes x:: real\n  shows \"exp (\\<i> * x) - exp (-(\\<i> * x)) = 2 * \\<i> * (sin x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (\\<i> * complex_of_real x) - exp (- (\\<i> * complex_of_real x)) =\n    2 * \\<i> * complex_of_real (sin x)", "using exp_of_real exp_of_real_inv"], ["proof (prove)\nusing this:\n  exp (\\<i> * complex_of_real ?x) =\n  complex_of_real (cos ?x) + \\<i> * complex_of_real (sin ?x)\n  exp (- (\\<i> * complex_of_real ?x)) =\n  complex_of_real (cos ?x) - \\<i> * complex_of_real (sin ?x)\n\ngoal (1 subgoal):\n 1. exp (\\<i> * complex_of_real x) - exp (- (\\<i> * complex_of_real x)) =\n    2 * \\<i> * complex_of_real (sin x)", "by simp"], ["", "lemma exp_to_cos:\n  fixes x:: real\n  shows \"exp (\\<i> * x) + exp (-(\\<i> * x)) = 2 * (cos x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (\\<i> * complex_of_real x) + exp (- (\\<i> * complex_of_real x)) =\n    complex_of_real (2 * cos x)", "using exp_of_real exp_of_real_inv"], ["proof (prove)\nusing this:\n  exp (\\<i> * complex_of_real ?x) =\n  complex_of_real (cos ?x) + \\<i> * complex_of_real (sin ?x)\n  exp (- (\\<i> * complex_of_real ?x)) =\n  complex_of_real (cos ?x) - \\<i> * complex_of_real (sin ?x)\n\ngoal (1 subgoal):\n 1. exp (\\<i> * complex_of_real x) + exp (- (\\<i> * complex_of_real x)) =\n    complex_of_real (2 * cos x)", "by simp"], ["", "lemma cmod_real_prod_squared: \n  fixes x y:: real\n  shows \"(cmod (complex_of_real x * complex_of_real y))\\<^sup>2 = x\\<^sup>2 * y\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (cmod (complex_of_real x * complex_of_real y))\\<^sup>2 =\n    x\\<^sup>2 * y\\<^sup>2", "by (simp add: norm_mult power_mult_distrib)"], ["", "lemma quantum_payoff_simp:\n  fixes x y:: real\n  shows \"3 * (cmod (complex_of_real (sin x) * complex_of_real (cos y)))\\<^sup>2 +\n         (cmod (complex_of_real (cos x) * complex_of_real (cos y)))\\<^sup>2 = \n         2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 * (cmod (complex_of_real (sin x) * complex_of_real (cos y)))\\<^sup>2 +\n    (cmod (complex_of_real (cos x) * complex_of_real (cos y)))\\<^sup>2 =\n    2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 3 * (cmod (complex_of_real (sin x) * complex_of_real (cos y)))\\<^sup>2 +\n    (cmod (complex_of_real (cos x) * complex_of_real (cos y)))\\<^sup>2 =\n    2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2", "have \"3 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos x)\\<^sup>2 * (cos y)\\<^sup>2 = \n        (2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2) + ((sin x)\\<^sup>2 + (cos x)\\<^sup>2) * (cos y)\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 +\n    (cos x)\\<^sup>2 * (cos y)\\<^sup>2 =\n    2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 +\n    ((sin x)\\<^sup>2 + (cos x)\\<^sup>2) * (cos y)\\<^sup>2", "by (auto simp add: algebra_simps simp del: sin_cos_squared_add2)"], ["proof (state)\nthis:\n  3 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 +\n  (cos x)\\<^sup>2 * (cos y)\\<^sup>2 =\n  2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 +\n  ((sin x)\\<^sup>2 + (cos x)\\<^sup>2) * (cos y)\\<^sup>2\n\ngoal (1 subgoal):\n 1. 3 * (cmod (complex_of_real (sin x) * complex_of_real (cos y)))\\<^sup>2 +\n    (cmod (complex_of_real (cos x) * complex_of_real (cos y)))\\<^sup>2 =\n    2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  3 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 +\n  (cos x)\\<^sup>2 * (cos y)\\<^sup>2 =\n  2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 +\n  ((sin x)\\<^sup>2 + (cos x)\\<^sup>2) * (cos y)\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  3 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 +\n  (cos x)\\<^sup>2 * (cos y)\\<^sup>2 =\n  2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 +\n  ((sin x)\\<^sup>2 + (cos x)\\<^sup>2) * (cos y)\\<^sup>2\n\ngoal (1 subgoal):\n 1. 3 * (cmod (complex_of_real (sin x) * complex_of_real (cos y)))\\<^sup>2 +\n    (cmod (complex_of_real (cos x) * complex_of_real (cos y)))\\<^sup>2 =\n    2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2", "by (simp add: cmod_real_prod_squared power_mult_distrib)"], ["proof (state)\nthis:\n  3 * (cmod (complex_of_real (sin x) * complex_of_real (cos y)))\\<^sup>2 +\n  (cmod (complex_of_real (cos x) * complex_of_real (cos y)))\\<^sup>2 =\n  2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma quantum_payoff_le_3: \n  fixes x y:: real\n  shows \"2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2 \\<le> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2 \\<le> 3", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2 \\<le> 3", "have \"(sin x)\\<^sup>2 * (cos y)\\<^sup>2 \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (sin x)\\<^sup>2 * (cos y)\\<^sup>2 \\<le> 1", "by (simp add: sin_squared_le_one cos_squared_le_one mult_le_one)"], ["proof (state)\nthis:\n  (sin x)\\<^sup>2 * (cos y)\\<^sup>2 \\<le> 1\n\ngoal (1 subgoal):\n 1. 2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2 \\<le> 3", "then"], ["proof (chain)\npicking this:\n  (sin x)\\<^sup>2 * (cos y)\\<^sup>2 \\<le> 1", "have \"2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 \\<le> 2\""], ["proof (prove)\nusing this:\n  (sin x)\\<^sup>2 * (cos y)\\<^sup>2 \\<le> 1\n\ngoal (1 subgoal):\n 1. 2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 \\<le> 2", "by simp"], ["proof (state)\nthis:\n  2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 \\<le> 2\n\ngoal (1 subgoal):\n 1. 2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2 \\<le> 3", "moreover"], ["proof (state)\nthis:\n  2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 \\<le> 2\n\ngoal (1 subgoal):\n 1. 2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2 \\<le> 3", "have \"(cos y)\\<^sup>2 \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (cos y)\\<^sup>2 \\<le> 1", "using cos_squared_le_one[of \"y\"]"], ["proof (prove)\nusing this:\n  (cos y)\\<^sup>2 \\<le> 1\n\ngoal (1 subgoal):\n 1. (cos y)\\<^sup>2 \\<le> 1", "by simp"], ["proof (state)\nthis:\n  (cos y)\\<^sup>2 \\<le> 1\n\ngoal (1 subgoal):\n 1. 2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2 \\<le> 3", "ultimately"], ["proof (chain)\npicking this:\n  2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 \\<le> 2\n  (cos y)\\<^sup>2 \\<le> 1", "show ?thesis"], ["proof (prove)\nusing this:\n  2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 \\<le> 2\n  (cos y)\\<^sup>2 \\<le> 1\n\ngoal (1 subgoal):\n 1. 2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2 \\<le> 3", "by simp"], ["proof (state)\nthis:\n  2 * (sin x)\\<^sup>2 * (cos y)\\<^sup>2 + (cos y)\\<^sup>2 \\<le> 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma sqrt_two_squared_cpx: \"complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2", "by (metis mult_2_right numeral_Bit0 of_real_mult of_real_numeral real_sqrt_four real_sqrt_mult)"], ["", "lemma hidden_sqrt_two_squared_cpx: \"complex_of_real (sqrt 2) * (complex_of_real (sqrt 2) * x) / 4 = x/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_of_real (sqrt 2) * (complex_of_real (sqrt 2) * x) / 4 = x / 2", "using sqrt_two_squared_cpx"], ["proof (prove)\nusing this:\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n\ngoal (1 subgoal):\n 1. complex_of_real (sqrt 2) * (complex_of_real (sqrt 2) * x) / 4 = x / 2", "by (auto simp add: algebra_simps)"], ["", "lemma (in strategic_space_2p) max_entangled_DD:\n(* both players defects in the maximally entangled case *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow> alice_payoff = 1 \\<and> bob_payoff = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "using alice_payoff_def bob_payoff_def cos_sin_squared_add_cpx psi_f_is_state"], ["proof (prove)\nusing this:\n  alice_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  bob_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  complex_of_real (cos (?\\<gamma> / 2)) *\n  complex_of_real (cos (?\\<gamma> / 2)) -\n  \\<i> * complex_of_real (sin (?\\<gamma> / 2)) *\n  (\\<i> * complex_of_real (sin (?\\<gamma> / 2))) =\n  1\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "by auto"], ["", "lemma (in strategic_space_2p) max_entangled_QQ:\n(* both players play the move Q in the maximally entangled case *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = pi/2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> alice_payoff = 3 \\<and> bob_payoff = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    alice_payoff = 3 \\<and> bob_payoff = 3", "using alice_payoff_def bob_payoff_def sin_cos_squared_add_cpx exp_of_half_pi exp_of_minus_half_pi psi_f_is_state"], ["proof (prove)\nusing this:\n  alice_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  bob_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  \\<i> * complex_of_real (sin (?\\<gamma> / 2)) *\n  (\\<i> * complex_of_real (sin (?\\<gamma> / 2))) -\n  complex_of_real (cos (?\\<gamma> / 2)) *\n  complex_of_real (cos (?\\<gamma> / 2)) =\n  - 1\n  ?x = pi / 2 \\<Longrightarrow> exp (\\<i> * complex_of_real ?x) = \\<i>\n  ?x = pi / 2 \\<Longrightarrow> exp (- (\\<i> * complex_of_real ?x)) = - \\<i>\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    alice_payoff = 3 \\<and> bob_payoff = 3", "by auto"], ["", "lemma (in strategic_space_2p) max_entangled_QD:\n(* Alice plays the move Q, and Bob defects in the maximally entangled case *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow> alice_payoff = 5 \\<and> bob_payoff = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow>\n    alice_payoff = 5 \\<and> bob_payoff = 0", "using alice_payoff_def bob_payoff_def cos_sin_squared_add_cpx exp_of_half_pi exp_of_minus_half_pi \n        psi_f_is_state sqrt_two_squared_cpx"], ["proof (prove)\nusing this:\n  alice_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  bob_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  complex_of_real (cos (?\\<gamma> / 2)) *\n  complex_of_real (cos (?\\<gamma> / 2)) -\n  \\<i> * complex_of_real (sin (?\\<gamma> / 2)) *\n  (\\<i> * complex_of_real (sin (?\\<gamma> / 2))) =\n  1\n  ?x = pi / 2 \\<Longrightarrow> exp (\\<i> * complex_of_real ?x) = \\<i>\n  ?x = pi / 2 \\<Longrightarrow> exp (- (\\<i> * complex_of_real ?x)) = - \\<i>\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow>\n    alice_payoff = 5 \\<and> bob_payoff = 0", "by (auto simp add: assms algebra_simps sin_45 cos_45)"], ["", "lemma (in strategic_space_2p) max_entangled_alice_payoff_Q\\<^sub>B:\n(* Alice's payoff in the maximally entangled case given that Bob plays the move Q *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>B = pi/2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> alice_payoff \\<le> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    alice_payoff \\<le> 3", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    alice_payoff \\<le> 3", "assume asm:\"\\<phi>\\<^sub>B = pi/2 \\<and> \\<theta>\\<^sub>B = 0\""], ["proof (state)\nthis:\n  \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    alice_payoff \\<le> 3", "have \"\\<psi>\\<^sub>f $$ (0,0) = -(sin \\<phi>\\<^sub>A) * (cos (\\<theta>\\<^sub>A/2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "have \"\\<psi>\\<^sub>f $$ (0,0) = \\<i> * (sqrt 2/2) * (sqrt 2/2) * (cos (\\<theta>\\<^sub>A/2)) * exp (\\<i> * \\<phi>\\<^sub>A) +\n                        \\<i> * (sqrt 2/2) * (sqrt 2/2) * (cos (\\<theta>\\<^sub>A/2)) * -exp (-(\\<i> * \\<phi>\\<^sub>A))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n    \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    - exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))", "using mat_of_cols_list_def asm assms exp_of_half_pi exp_of_minus_half_pi"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0\n  \\<gamma> = pi / 2\n  ?x = pi / 2 \\<Longrightarrow> exp (\\<i> * complex_of_real ?x) = \\<i>\n  ?x = pi / 2 \\<Longrightarrow> exp (- (\\<i> * complex_of_real ?x)) = - \\<i>\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n    \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    - exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))", "by (auto simp add: sin_of_quarter_pi[of \"\\<gamma>\"] cos_of_quarter_pi[of \"\\<gamma>\"] algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  - exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "then"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  - exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))", "have \"\\<psi>\\<^sub>f $$ (0,0) = \\<i> * (sqrt 2/2) * (sqrt 2/2) * (cos (\\<theta>\\<^sub>A/2)) * (exp (\\<i> * \\<phi>\\<^sub>A) - exp (-(\\<i> * \\<phi>\\<^sub>A)))\""], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  - exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) -\n     exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)))", "by (auto simp add: algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)))\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "then"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)))", "have \"\\<psi>\\<^sub>f $$ (0,0) = \\<i> * (cos (\\<theta>\\<^sub>A/2)) * (1/2) * (exp (\\<i> * \\<phi>\\<^sub>A) - exp (-(\\<i> * \\<phi>\\<^sub>A)))\""], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)))\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    \\<i> * complex_of_real (cos (\\<theta>\\<^sub>A / 2)) * (1 / 2) *\n    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) -\n     exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)))", "using sqrt_two_squared_cpx"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)))\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    \\<i> * complex_of_real (cos (\\<theta>\\<^sub>A / 2)) * (1 / 2) *\n    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) -\n     exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)))", "by (auto simp add: algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (cos (\\<theta>\\<^sub>A / 2)) * (1 / 2) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)))\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "then"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (cos (\\<theta>\\<^sub>A / 2)) * (1 / 2) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)))", "show ?thesis"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (cos (\\<theta>\\<^sub>A / 2)) * (1 / 2) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)))\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "using exp_to_sin"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (cos (\\<theta>\\<^sub>A / 2)) * (1 / 2) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)))\n  exp (\\<i> * complex_of_real ?x) - exp (- (\\<i> * complex_of_real ?x)) =\n  2 * \\<i> * complex_of_real (sin ?x)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  complex_of_real (- sin \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  complex_of_real (- sin \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    alice_payoff \\<le> 3", "moreover"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  complex_of_real (- sin \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    alice_payoff \\<le> 3", "have \"\\<psi>\\<^sub>f $$ (1,0) = sin (\\<theta>\\<^sub>A/2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (1, 0) =\n    complex_of_real (sin (\\<theta>\\<^sub>A / 2))", "using mat_of_cols_list_def asm assms exp_of_half_pi exp_of_minus_half_pi sqrt_two_squared_cpx"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0\n  \\<gamma> = pi / 2\n  ?x = pi / 2 \\<Longrightarrow> exp (\\<i> * complex_of_real ?x) = \\<i>\n  ?x = pi / 2 \\<Longrightarrow> exp (- (\\<i> * complex_of_real ?x)) = - \\<i>\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (1, 0) =\n    complex_of_real (sin (\\<theta>\\<^sub>A / 2))", "by (auto simp add: sin_of_quarter_pi[of \"\\<gamma>\"] cos_of_quarter_pi[of \"\\<gamma>\"])"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  complex_of_real (sin (\\<theta>\\<^sub>A / 2))\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    alice_payoff \\<le> 3", "moreover"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  complex_of_real (sin (\\<theta>\\<^sub>A / 2))\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    alice_payoff \\<le> 3", "have \"\\<psi>\\<^sub>f $$ (2,0) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (2, 0) =\n    0", "using mat_of_cols_list_def asm assms exp_of_half_pi exp_of_minus_half_pi sqrt_two_squared_cpx"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0\n  \\<gamma> = pi / 2\n  ?x = pi / 2 \\<Longrightarrow> exp (\\<i> * complex_of_real ?x) = \\<i>\n  ?x = pi / 2 \\<Longrightarrow> exp (- (\\<i> * complex_of_real ?x)) = - \\<i>\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (2, 0) =\n    0", "by (auto simp add: sin_of_quarter_pi[of \"\\<gamma>\"] cos_of_quarter_pi[of \"\\<gamma>\"] algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    alice_payoff \\<le> 3", "moreover"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    alice_payoff \\<le> 3", "have \"\\<psi>\\<^sub>f $$ (3,0) = (cos \\<phi>\\<^sub>A) * (cos (\\<theta>\\<^sub>A/2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "have \"\\<psi>\\<^sub>f $$ (3,0) = exp (\\<i> * \\<phi>\\<^sub>A) * (cos (\\<theta>\\<^sub>A/2)) * (sqrt 2/2) * (sqrt 2/2) +\n                        exp (- (\\<i> * \\<phi>\\<^sub>A)) * (cos (\\<theta>\\<^sub>A/2)) * (sqrt 2/2) * (sqrt 2/2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    complex_of_real (sqrt 2 / 2) *\n    complex_of_real (sqrt 2 / 2) +\n    exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    complex_of_real (sqrt 2 / 2) *\n    complex_of_real (sqrt 2 / 2)", "using mat_of_cols_list_def asm assms exp_of_half_pi exp_of_minus_half_pi"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0\n  \\<gamma> = pi / 2\n  ?x = pi / 2 \\<Longrightarrow> exp (\\<i> * complex_of_real ?x) = \\<i>\n  ?x = pi / 2 \\<Longrightarrow> exp (- (\\<i> * complex_of_real ?x)) = - \\<i>\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    complex_of_real (sqrt 2 / 2) *\n    complex_of_real (sqrt 2 / 2) +\n    exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    complex_of_real (sqrt 2 / 2) *\n    complex_of_real (sqrt 2 / 2)", "by (auto simp add: sin_of_quarter_pi[of \"\\<gamma>\"] cos_of_quarter_pi[of \"\\<gamma>\"] algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2) +\n  exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "then"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2) +\n  exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)", "have \"\\<psi>\\<^sub>f $$ (3,0) = (exp (\\<i> * \\<phi>\\<^sub>A) + exp (-(\\<i> * \\<phi>\\<^sub>A))) * (cos (\\<theta>\\<^sub>A/2)) * (sqrt 2/2) * (sqrt 2/2)\""], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2) +\n  exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A)) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n     exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    complex_of_real (sqrt 2 / 2) *\n    complex_of_real (sqrt 2 / 2)", "by (auto simp add: algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "then"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)", "have \"\\<psi>\\<^sub>f $$ (3,0) = (exp (\\<i> * \\<phi>\\<^sub>A) + exp (-(\\<i> * \\<phi>\\<^sub>A))) * (cos (\\<theta>\\<^sub>A/2)) * (1/2)\""], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n     exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    (1 / 2)", "using sqrt_two_squared_cpx hidden_sqrt_two_squared_cpx"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n  complex_of_real (sqrt 2) * (complex_of_real (sqrt 2) * ?x) / 4 = ?x / 2\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n     exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n    (1 / 2)", "by (auto simp add: algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  (1 / 2)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "then"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  (1 / 2)", "show ?thesis"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  (1 / 2)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "using exp_to_cos"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>A))) *\n  complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n  (1 / 2)\n  exp (\\<i> * complex_of_real ?x) + exp (- (\\<i> * complex_of_real ?x)) =\n  complex_of_real (2 * cos ?x)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  complex_of_real (cos \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  complex_of_real (cos \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    alice_payoff \\<le> 3", "ultimately"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  complex_of_real (- sin \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  complex_of_real (sin (\\<theta>\\<^sub>A / 2))\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  complex_of_real (cos \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))", "show \"alice_payoff \\<le> 3\""], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  complex_of_real (- sin \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  complex_of_real (sin (\\<theta>\\<^sub>A / 2))\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  complex_of_real (cos \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))\n\ngoal (1 subgoal):\n 1. alice_payoff \\<le> 3", "using alice_payoff_def psi_f_is_state quantum_payoff_simp quantum_payoff_le_3"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  complex_of_real (- sin \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  complex_of_real (sin (\\<theta>\\<^sub>A / 2))\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  complex_of_real (cos \\<phi>\\<^sub>A * cos (\\<theta>\\<^sub>A / 2))\n  alice_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n  3 * (cmod (complex_of_real (sin ?x) * complex_of_real (cos ?y)))\\<^sup>2 +\n  (cmod (complex_of_real (cos ?x) * complex_of_real (cos ?y)))\\<^sup>2 =\n  2 * (sin ?x)\\<^sup>2 * (cos ?y)\\<^sup>2 + (cos ?y)\\<^sup>2\n  2 * (sin ?x)\\<^sup>2 * (cos ?y)\\<^sup>2 + (cos ?y)\\<^sup>2 \\<le> 3\n\ngoal (1 subgoal):\n 1. alice_payoff \\<le> 3", "by auto"], ["proof (state)\nthis:\n  alice_payoff \\<le> 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) max_entangled_bob_payoff_Q\\<^sub>A:\n(* Bob's payoff in the maximally entangled case given that Alice plays the move Q *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<longrightarrow> bob_payoff \\<le> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0 \\<longrightarrow>\n    bob_payoff \\<le> 3", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0 \\<Longrightarrow>\n    bob_payoff \\<le> 3", "assume asm:\"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0\""], ["proof (state)\nthis:\n  \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0 \\<Longrightarrow>\n    bob_payoff \\<le> 3", "have \"\\<psi>\\<^sub>f $$ (0,0) = -(sin \\<phi>\\<^sub>B) * (cos (\\<theta>\\<^sub>B/2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "have \"\\<psi>\\<^sub>f $$ (0,0) = \\<i> * (sqrt 2/2) * (sqrt 2/2) * (cos (\\<theta>\\<^sub>B/2)) * exp (\\<i> * \\<phi>\\<^sub>B) +\n                        \\<i> * (sqrt 2/2) * (sqrt 2/2) * (cos (\\<theta>\\<^sub>B/2)) * -exp (-(\\<i> * \\<phi>\\<^sub>B))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n    \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n    - exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))", "using mat_of_cols_list_def asm assms exp_of_half_pi exp_of_minus_half_pi"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0\n  \\<gamma> = pi / 2\n  ?x = pi / 2 \\<Longrightarrow> exp (\\<i> * complex_of_real ?x) = \\<i>\n  ?x = pi / 2 \\<Longrightarrow> exp (- (\\<i> * complex_of_real ?x)) = - \\<i>\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n    \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n    - exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))", "by (auto simp add: sin_of_quarter_pi[of \"\\<gamma>\"] cos_of_quarter_pi[of \"\\<gamma>\"] algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  - exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "then"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  - exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))", "have \"\\<psi>\\<^sub>f $$ (0,0) = \\<i> * (sqrt 2/2) * (sqrt 2/2) * (cos (\\<theta>\\<^sub>B/2)) * (exp (\\<i> * \\<phi>\\<^sub>B) - exp (-(\\<i> * \\<phi>\\<^sub>B)))\""], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  - exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) -\n     exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)))", "by (auto simp add: algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)))\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "then"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)))", "have \"\\<psi>\\<^sub>f $$ (0,0) = \\<i> * (cos (\\<theta>\\<^sub>B/2)) * (1/2) * (exp (\\<i> * \\<phi>\\<^sub>B) - exp (-(\\<i> * \\<phi>\\<^sub>B)))\""], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)))\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    \\<i> * complex_of_real (cos (\\<theta>\\<^sub>B / 2)) * (1 / 2) *\n    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) -\n     exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)))", "using sqrt_two_squared_cpx"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (sqrt 2 / 2) * complex_of_real (sqrt 2 / 2) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)))\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    \\<i> * complex_of_real (cos (\\<theta>\\<^sub>B / 2)) * (1 / 2) *\n    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) -\n     exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)))", "by (auto simp add: algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (cos (\\<theta>\\<^sub>B / 2)) * (1 / 2) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)))\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "then"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (cos (\\<theta>\\<^sub>B / 2)) * (1 / 2) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)))", "show ?thesis"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (cos (\\<theta>\\<^sub>B / 2)) * (1 / 2) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)))\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "using exp_to_sin"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  \\<i> * complex_of_real (cos (\\<theta>\\<^sub>B / 2)) * (1 / 2) *\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) -\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)))\n  exp (\\<i> * complex_of_real ?x) - exp (- (\\<i> * complex_of_real ?x)) =\n  2 * \\<i> * complex_of_real (sin ?x)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    complex_of_real (- sin \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  complex_of_real (- sin \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  complex_of_real (- sin \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0 \\<Longrightarrow>\n    bob_payoff \\<le> 3", "moreover"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  complex_of_real (- sin \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0 \\<Longrightarrow>\n    bob_payoff \\<le> 3", "have \"\\<psi>\\<^sub>f $$ (1,0) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (1, 0) =\n    0", "using mat_of_cols_list_def asm assms exp_of_half_pi exp_of_minus_half_pi sqrt_two_squared_cpx"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0\n  \\<gamma> = pi / 2\n  ?x = pi / 2 \\<Longrightarrow> exp (\\<i> * complex_of_real ?x) = \\<i>\n  ?x = pi / 2 \\<Longrightarrow> exp (- (\\<i> * complex_of_real ?x)) = - \\<i>\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (1, 0) =\n    0", "by (auto simp add: sin_of_quarter_pi[of \"\\<gamma>\"] cos_of_quarter_pi[of \"\\<gamma>\"] algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0 \\<Longrightarrow>\n    bob_payoff \\<le> 3", "moreover"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0 \\<Longrightarrow>\n    bob_payoff \\<le> 3", "have \"\\<psi>\\<^sub>f $$ (2,0) = sin (\\<theta>\\<^sub>B/2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (2, 0) =\n    complex_of_real (sin (\\<theta>\\<^sub>B / 2))", "using mat_of_cols_list_def asm assms exp_of_half_pi exp_of_minus_half_pi sqrt_two_squared_cpx"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0\n  \\<gamma> = pi / 2\n  ?x = pi / 2 \\<Longrightarrow> exp (\\<i> * complex_of_real ?x) = \\<i>\n  ?x = pi / 2 \\<Longrightarrow> exp (- (\\<i> * complex_of_real ?x)) = - \\<i>\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (2, 0) =\n    complex_of_real (sin (\\<theta>\\<^sub>B / 2))", "by (auto simp add: sin_of_quarter_pi[of \"\\<gamma>\"] cos_of_quarter_pi[of \"\\<gamma>\"] algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  complex_of_real (sin (\\<theta>\\<^sub>B / 2))\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0 \\<Longrightarrow>\n    bob_payoff \\<le> 3", "moreover"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  complex_of_real (sin (\\<theta>\\<^sub>B / 2))\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0 \\<Longrightarrow>\n    bob_payoff \\<le> 3", "have \"\\<psi>\\<^sub>f $$ (3,0) = (cos \\<phi>\\<^sub>B) * (cos (\\<theta>\\<^sub>B/2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "have \"\\<psi>\\<^sub>f $$ (3,0) = exp (\\<i> * \\<phi>\\<^sub>B) * (cos (\\<theta>\\<^sub>B/2)) * (sqrt 2/2) * (sqrt 2/2) +\n                        exp (- (\\<i> * \\<phi>\\<^sub>B)) * (cos (\\<theta>\\<^sub>B/2)) * (sqrt 2/2) * (sqrt 2/2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n    complex_of_real (sqrt 2 / 2) *\n    complex_of_real (sqrt 2 / 2) +\n    exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n    complex_of_real (sqrt 2 / 2) *\n    complex_of_real (sqrt 2 / 2)", "using mat_of_cols_list_def asm assms exp_of_half_pi exp_of_minus_half_pi"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0\n  \\<gamma> = pi / 2\n  ?x = pi / 2 \\<Longrightarrow> exp (\\<i> * complex_of_real ?x) = \\<i>\n  ?x = pi / 2 \\<Longrightarrow> exp (- (\\<i> * complex_of_real ?x)) = - \\<i>\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n    complex_of_real (sqrt 2 / 2) *\n    complex_of_real (sqrt 2 / 2) +\n    exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n    complex_of_real (sqrt 2 / 2) *\n    complex_of_real (sqrt 2 / 2)", "by (auto simp add: sin_of_quarter_pi[of \"\\<gamma>\"] cos_of_quarter_pi[of \"\\<gamma>\"] algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2) +\n  exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "then"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2) +\n  exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)", "have \"\\<psi>\\<^sub>f $$ (3,0) = (exp (\\<i> * \\<phi>\\<^sub>B) + exp (-(\\<i> * \\<phi>\\<^sub>B))) * (cos (\\<theta>\\<^sub>B/2)) * (sqrt 2/2) * (sqrt 2/2)\""], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2) +\n  exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B)) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n     exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n    complex_of_real (sqrt 2 / 2) *\n    complex_of_real (sqrt 2 / 2)", "by (auto simp add: algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "then"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)", "have \"\\<psi>\\<^sub>f $$ (3,0) = (exp (\\<i> * \\<phi>\\<^sub>B) + exp (-(\\<i> * \\<phi>\\<^sub>B))) * (cos (\\<theta>\\<^sub>B/2)) * (1/2)\""], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n     exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n    (1 / 2)", "using sqrt_two_squared_cpx hidden_sqrt_two_squared_cpx"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  complex_of_real (sqrt 2 / 2) *\n  complex_of_real (sqrt 2 / 2)\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n  complex_of_real (sqrt 2) * (complex_of_real (sqrt 2) * ?x) / 4 = ?x / 2\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n     exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))) *\n    complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n    (1 / 2)", "by (auto simp add: algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  (1 / 2)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "then"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  (1 / 2)", "show ?thesis"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  (1 / 2)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "using exp_to_cos"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  (exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) +\n   exp (- (\\<i> * complex_of_real \\<phi>\\<^sub>B))) *\n  complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n  (1 / 2)\n  exp (\\<i> * complex_of_real ?x) + exp (- (\\<i> * complex_of_real ?x)) =\n  complex_of_real (2 * cos ?x)\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    complex_of_real (cos \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  complex_of_real (cos \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  complex_of_real (cos \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and> \\<theta>\\<^sub>A = 0 \\<Longrightarrow>\n    bob_payoff \\<le> 3", "ultimately"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  complex_of_real (- sin \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  complex_of_real (sin (\\<theta>\\<^sub>B / 2))\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  complex_of_real (cos \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))", "show \"bob_payoff \\<le> 3\""], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  complex_of_real (- sin \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  complex_of_real (sin (\\<theta>\\<^sub>B / 2))\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  complex_of_real (cos \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))\n\ngoal (1 subgoal):\n 1. bob_payoff \\<le> 3", "using bob_payoff_def psi_f_is_state quantum_payoff_simp quantum_payoff_le_3"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  complex_of_real (- sin \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  complex_of_real (sin (\\<theta>\\<^sub>B / 2))\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  complex_of_real (cos \\<phi>\\<^sub>B * cos (\\<theta>\\<^sub>B / 2))\n  bob_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n  3 * (cmod (complex_of_real (sin ?x) * complex_of_real (cos ?y)))\\<^sup>2 +\n  (cmod (complex_of_real (cos ?x) * complex_of_real (cos ?y)))\\<^sup>2 =\n  2 * (sin ?x)\\<^sup>2 * (cos ?y)\\<^sup>2 + (cos ?y)\\<^sup>2\n  2 * (sin ?x)\\<^sup>2 * (cos ?y)\\<^sup>2 + (cos ?y)\\<^sup>2 \\<le> 3\n\ngoal (1 subgoal):\n 1. bob_payoff \\<le> 3", "by auto"], ["proof (state)\nthis:\n  bob_payoff \\<le> 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) max_entangled_DD_is_not_nash_eq:\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow> \\<not>is_nash_eq\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow>\n    \\<not> is_nash_eq", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<Longrightarrow>\n    \\<not> is_nash_eq", "assume asm:\"\\<phi>\\<^sub>A = 0 \\<and> \\<theta>\\<^sub>A = pi \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\""], ["proof (state)\nthis:\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = pi \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<Longrightarrow>\n    \\<not> is_nash_eq", "then"], ["proof (chain)\npicking this:\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = pi \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi", "have f0:\"strategic_space_2p \\<gamma> 0 (pi/2) \\<theta>\\<^sub>B \\<phi>\\<^sub>B\""], ["proof (prove)\nusing this:\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = pi \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\n\ngoal (1 subgoal):\n 1. strategic_space_2p \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B \\<phi>\\<^sub>B", "using strategic_space_2p_def strategic_space_2p_axioms_def prisoner_def asm"], ["proof (prove)\nusing this:\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = pi \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\n  strategic_space_2p ?\\<gamma> ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n   ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B \\<equiv>\n  prisoner ?\\<gamma> \\<and>\n  strategic_space_2p_axioms ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n   ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B\n  strategic_space_2p_axioms ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n   ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B \\<equiv>\n  ((0 \\<le> ?\\<theta>\\<^sub>A \\<and> ?\\<theta>\\<^sub>A \\<le> pi) \\<and>\n   0 \\<le> ?\\<phi>\\<^sub>A \\<and> ?\\<phi>\\<^sub>A \\<le> pi / 2) \\<and>\n  (0 \\<le> ?\\<theta>\\<^sub>B \\<and> ?\\<theta>\\<^sub>B \\<le> pi) \\<and>\n  0 \\<le> ?\\<phi>\\<^sub>B \\<and> ?\\<phi>\\<^sub>B \\<le> pi / 2\n  prisoner ?\\<gamma> \\<equiv>\n  ?\\<gamma> \\<le> pi / 2 \\<and> 0 \\<le> ?\\<gamma>\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = pi \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\n\ngoal (1 subgoal):\n 1. strategic_space_2p \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B \\<phi>\\<^sub>B", "by (simp add: assms)"], ["proof (state)\nthis:\n  strategic_space_2p \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<Longrightarrow>\n    \\<not> is_nash_eq", "then"], ["proof (chain)\npicking this:\n  strategic_space_2p \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B \\<phi>\\<^sub>B", "have \"strategic_space_2p.alice_payoff \\<gamma> 0 (pi/2) \\<theta>\\<^sub>B \\<phi>\\<^sub>B = 5\""], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. strategic_space_2p.alice_payoff \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B =\n    5", "using strategic_space_2p.max_entangled_QD assms asm"], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n  \\<lbrakk>strategic_space_2p ?\\<gamma> ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n            ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B;\n   ?\\<gamma> = pi / 2\\<rbrakk>\n  \\<Longrightarrow> ?\\<phi>\\<^sub>A = pi / 2 \\<and>\n                    ?\\<theta>\\<^sub>A = 0 \\<and>\n                    ?\\<phi>\\<^sub>B = 0 \\<and>\n                    ?\\<theta>\\<^sub>B = pi \\<longrightarrow>\n                    strategic_space_2p.alice_payoff ?\\<gamma>\n                     ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A ?\\<theta>\\<^sub>B\n                     ?\\<phi>\\<^sub>B =\n                    5 \\<and>\n                    strategic_space_2p.bob_payoff ?\\<gamma>\n                     ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A ?\\<theta>\\<^sub>B\n                     ?\\<phi>\\<^sub>B =\n                    0\n  \\<gamma> = pi / 2\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = pi \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\n\ngoal (1 subgoal):\n 1. strategic_space_2p.alice_payoff \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B =\n    5", "by blast"], ["proof (state)\nthis:\n  strategic_space_2p.alice_payoff \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B =\n  5\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<Longrightarrow>\n    \\<not> is_nash_eq", "moreover"], ["proof (state)\nthis:\n  strategic_space_2p.alice_payoff \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B =\n  5\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<Longrightarrow>\n    \\<not> is_nash_eq", "have \"alice_payoff = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. alice_payoff = 1", "using max_entangled_DD assms asm"], ["proof (prove)\nusing this:\n  \\<gamma> = pi / 2 \\<Longrightarrow>\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = pi \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow>\n  alice_payoff = 1 \\<and> bob_payoff = 1\n  \\<gamma> = pi / 2\n  \\<phi>\\<^sub>A = 0 \\<and>\n  \\<theta>\\<^sub>A = pi \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\n\ngoal (1 subgoal):\n 1. alice_payoff = 1", "by blast"], ["proof (state)\nthis:\n  alice_payoff = 1\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<Longrightarrow>\n    \\<not> is_nash_eq", "ultimately"], ["proof (chain)\npicking this:\n  strategic_space_2p.alice_payoff \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B =\n  5\n  alice_payoff = 1", "have \"strategic_space_2p \\<gamma> 0 (pi/2) \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<and> strategic_space_2p.alice_payoff \\<gamma> 0 (pi/2) \\<theta>\\<^sub>B \\<phi>\\<^sub>B > alice_payoff\""], ["proof (prove)\nusing this:\n  strategic_space_2p.alice_payoff \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B =\n  5\n  alice_payoff = 1\n\ngoal (1 subgoal):\n 1. strategic_space_2p \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B \\<and>\n    alice_payoff\n    < strategic_space_2p.alice_payoff \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n       \\<phi>\\<^sub>B", "using f0"], ["proof (prove)\nusing this:\n  strategic_space_2p.alice_payoff \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B =\n  5\n  alice_payoff = 1\n  strategic_space_2p \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. strategic_space_2p \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B \\<and>\n    alice_payoff\n    < strategic_space_2p.alice_payoff \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n       \\<phi>\\<^sub>B", "by simp"], ["proof (state)\nthis:\n  strategic_space_2p \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B \\<and>\n  alice_payoff\n  < strategic_space_2p.alice_payoff \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = 0 \\<and>\n    \\<theta>\\<^sub>A = pi \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<Longrightarrow>\n    \\<not> is_nash_eq", "then"], ["proof (chain)\npicking this:\n  strategic_space_2p \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B \\<and>\n  alice_payoff\n  < strategic_space_2p.alice_payoff \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B", "show \"\\<not>is_nash_eq\""], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B \\<and>\n  alice_payoff\n  < strategic_space_2p.alice_payoff \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. \\<not> is_nash_eq", "using is_nash_eq_def"], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B \\<and>\n  alice_payoff\n  < strategic_space_2p.alice_payoff \\<gamma> 0 (pi / 2) \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B\n  is_nash_eq \\<equiv>\n  (\\<forall>tA pA.\n      strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n       \\<phi>\\<^sub>B \\<longrightarrow>\n      strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n       \\<phi>\\<^sub>B\n      \\<le> alice_payoff) \\<and>\n  (\\<forall>tB pB.\n      strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n       pB \\<longrightarrow>\n      strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A\n       tB pB\n      \\<le> bob_payoff)\n\ngoal (1 subgoal):\n 1. \\<not> is_nash_eq", "by fastforce"], ["proof (state)\nthis:\n  \\<not> is_nash_eq\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) max_entangled_alice_opt:\n  assumes \"\\<gamma> = pi/2\" and \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = pi/2 \\<and> \\<theta>\\<^sub>B = 0\"\n  shows \"\\<And>tA pA. strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<longrightarrow> strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<le> alice_payoff\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>tA pA.\n       strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B \\<longrightarrow>\n       strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B\n       \\<le> alice_payoff", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>tA pA.\n       strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B \\<Longrightarrow>\n       strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B\n       \\<le> alice_payoff", "fix tA pA"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>tA pA.\n       strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B \\<Longrightarrow>\n       strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B\n       \\<le> alice_payoff", "assume \"strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B\""], ["proof (state)\nthis:\n  strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. \\<And>tA pA.\n       strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B \\<Longrightarrow>\n       strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B\n       \\<le> alice_payoff", "then"], ["proof (chain)\npicking this:\n  strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B", "have \"strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<le> 3\""], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n\ngoal (1 subgoal):\n 1. strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B\n    \\<le> 3", "using strategic_space_2p.max_entangled_alice_payoff_Q\\<^sub>B assms"], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n  \\<lbrakk>strategic_space_2p ?\\<gamma> ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n            ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B;\n   ?\\<gamma> = pi / 2\\<rbrakk>\n  \\<Longrightarrow> ?\\<phi>\\<^sub>B = pi / 2 \\<and>\n                    ?\\<theta>\\<^sub>B = 0 \\<longrightarrow>\n                    strategic_space_2p.alice_payoff ?\\<gamma>\n                     ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A ?\\<theta>\\<^sub>B\n                     ?\\<phi>\\<^sub>B\n                    \\<le> 3\n  \\<gamma> = pi / 2\n  \\<phi>\\<^sub>A = pi / 2 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and>\n  \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0\n\ngoal (1 subgoal):\n 1. strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B\n    \\<le> 3", "by blast"], ["proof (state)\nthis:\n  strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B\n  \\<le> 3\n\ngoal (1 subgoal):\n 1. \\<And>tA pA.\n       strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B \\<Longrightarrow>\n       strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B\n       \\<le> alice_payoff", "moreover"], ["proof (state)\nthis:\n  strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B\n  \\<le> 3\n\ngoal (1 subgoal):\n 1. \\<And>tA pA.\n       strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B \\<Longrightarrow>\n       strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B\n       \\<le> alice_payoff", "have \"alice_payoff = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. alice_payoff = 3", "using max_entangled_QQ assms"], ["proof (prove)\nusing this:\n  \\<gamma> = pi / 2 \\<Longrightarrow>\n  \\<phi>\\<^sub>A = pi / 2 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and>\n  \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n  alice_payoff = 3 \\<and> bob_payoff = 3\n  \\<gamma> = pi / 2\n  \\<phi>\\<^sub>A = pi / 2 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and>\n  \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0\n\ngoal (1 subgoal):\n 1. alice_payoff = 3", "by blast"], ["proof (state)\nthis:\n  alice_payoff = 3\n\ngoal (1 subgoal):\n 1. \\<And>tA pA.\n       strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B \\<Longrightarrow>\n       strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n        \\<phi>\\<^sub>B\n       \\<le> alice_payoff", "ultimately"], ["proof (chain)\npicking this:\n  strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B\n  \\<le> 3\n  alice_payoff = 3", "show \"strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B \\<phi>\\<^sub>B \\<le> alice_payoff\""], ["proof (prove)\nusing this:\n  strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B\n  \\<le> 3\n  alice_payoff = 3\n\ngoal (1 subgoal):\n 1. strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n     \\<phi>\\<^sub>B\n    \\<le> alice_payoff", "by simp"], ["proof (state)\nthis:\n  strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n   \\<phi>\\<^sub>B\n  \\<le> alice_payoff\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) max_entangled_bob_opt:\n  assumes \"\\<gamma> = pi/2\" and \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = pi/2 \\<and> \\<theta>\\<^sub>B = 0\"\n  shows \"\\<And>tB pB. strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB \\<longrightarrow> strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB \\<le> bob_payoff\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>tB pB.\n       strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n        pB \\<longrightarrow>\n       strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A\n        \\<phi>\\<^sub>A tB pB\n       \\<le> bob_payoff", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>tB pB.\n       strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n        pB \\<Longrightarrow>\n       strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A\n        \\<phi>\\<^sub>A tB pB\n       \\<le> bob_payoff", "fix tB pB"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>tB pB.\n       strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n        pB \\<Longrightarrow>\n       strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A\n        \\<phi>\\<^sub>A tB pB\n       \\<le> bob_payoff", "assume \"strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB\""], ["proof (state)\nthis:\n  strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB\n\ngoal (1 subgoal):\n 1. \\<And>tB pB.\n       strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n        pB \\<Longrightarrow>\n       strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A\n        \\<phi>\\<^sub>A tB pB\n       \\<le> bob_payoff", "then"], ["proof (chain)\npicking this:\n  strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB", "have \"strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB \\<le> 3\""], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB\n\ngoal (1 subgoal):\n 1. strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A\n     tB pB\n    \\<le> 3", "using strategic_space_2p.max_entangled_bob_payoff_Q\\<^sub>A assms"], ["proof (prove)\nusing this:\n  strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB\n  \\<lbrakk>strategic_space_2p ?\\<gamma> ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A\n            ?\\<theta>\\<^sub>B ?\\<phi>\\<^sub>B;\n   ?\\<gamma> = pi / 2\\<rbrakk>\n  \\<Longrightarrow> ?\\<phi>\\<^sub>A = pi / 2 \\<and>\n                    ?\\<theta>\\<^sub>A = 0 \\<longrightarrow>\n                    strategic_space_2p.bob_payoff ?\\<gamma>\n                     ?\\<theta>\\<^sub>A ?\\<phi>\\<^sub>A ?\\<theta>\\<^sub>B\n                     ?\\<phi>\\<^sub>B\n                    \\<le> 3\n  \\<gamma> = pi / 2\n  \\<phi>\\<^sub>A = pi / 2 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and>\n  \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0\n\ngoal (1 subgoal):\n 1. strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A\n     tB pB\n    \\<le> 3", "by blast"], ["proof (state)\nthis:\n  strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n   pB\n  \\<le> 3\n\ngoal (1 subgoal):\n 1. \\<And>tB pB.\n       strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n        pB \\<Longrightarrow>\n       strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A\n        \\<phi>\\<^sub>A tB pB\n       \\<le> bob_payoff", "moreover"], ["proof (state)\nthis:\n  strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n   pB\n  \\<le> 3\n\ngoal (1 subgoal):\n 1. \\<And>tB pB.\n       strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n        pB \\<Longrightarrow>\n       strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A\n        \\<phi>\\<^sub>A tB pB\n       \\<le> bob_payoff", "have \"bob_payoff = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bob_payoff = 3", "using max_entangled_QQ assms"], ["proof (prove)\nusing this:\n  \\<gamma> = pi / 2 \\<Longrightarrow>\n  \\<phi>\\<^sub>A = pi / 2 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and>\n  \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n  alice_payoff = 3 \\<and> bob_payoff = 3\n  \\<gamma> = pi / 2\n  \\<phi>\\<^sub>A = pi / 2 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and>\n  \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0\n\ngoal (1 subgoal):\n 1. bob_payoff = 3", "by blast"], ["proof (state)\nthis:\n  bob_payoff = 3\n\ngoal (1 subgoal):\n 1. \\<And>tB pB.\n       strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n        pB \\<Longrightarrow>\n       strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A\n        \\<phi>\\<^sub>A tB pB\n       \\<le> bob_payoff", "ultimately"], ["proof (chain)\npicking this:\n  strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n   pB\n  \\<le> 3\n  bob_payoff = 3", "show \"strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB pB \\<le> bob_payoff\""], ["proof (prove)\nusing this:\n  strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n   pB\n  \\<le> 3\n  bob_payoff = 3\n\ngoal (1 subgoal):\n 1. strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A\n     tB pB\n    \\<le> bob_payoff", "by simp"], ["proof (state)\nthis:\n  strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n   pB\n  \\<le> bob_payoff\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) max_entangled_QQ_is_nash_eq:\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = pi/2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> is_nash_eq\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    is_nash_eq", "using max_entangled_alice_opt max_entangled_bob_opt is_nash_eq_def assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<gamma> = pi / 2;\n   \\<phi>\\<^sub>A = pi / 2 \\<and>\n   \\<theta>\\<^sub>A = 0 \\<and>\n   \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0\\<rbrakk>\n  \\<Longrightarrow> strategic_space_2p \\<gamma> ?tA ?pA \\<theta>\\<^sub>B\n                     \\<phi>\\<^sub>B \\<longrightarrow>\n                    strategic_space_2p.alice_payoff \\<gamma> ?tA ?pA\n                     \\<theta>\\<^sub>B \\<phi>\\<^sub>B\n                    \\<le> alice_payoff\n  \\<lbrakk>\\<gamma> = pi / 2;\n   \\<phi>\\<^sub>A = pi / 2 \\<and>\n   \\<theta>\\<^sub>A = 0 \\<and>\n   \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0\\<rbrakk>\n  \\<Longrightarrow> strategic_space_2p \\<gamma> \\<theta>\\<^sub>A\n                     \\<phi>\\<^sub>A ?tB ?pB \\<longrightarrow>\n                    strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A\n                     \\<phi>\\<^sub>A ?tB ?pB\n                    \\<le> bob_payoff\n  is_nash_eq \\<equiv>\n  (\\<forall>tA pA.\n      strategic_space_2p \\<gamma> tA pA \\<theta>\\<^sub>B\n       \\<phi>\\<^sub>B \\<longrightarrow>\n      strategic_space_2p.alice_payoff \\<gamma> tA pA \\<theta>\\<^sub>B\n       \\<phi>\\<^sub>B\n      \\<le> alice_payoff) \\<and>\n  (\\<forall>tB pB.\n      strategic_space_2p \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A tB\n       pB \\<longrightarrow>\n      strategic_space_2p.bob_payoff \\<gamma> \\<theta>\\<^sub>A \\<phi>\\<^sub>A\n       tB pB\n      \\<le> bob_payoff)\n  \\<gamma> = pi / 2\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    is_nash_eq", "by blast"], ["", "lemma (in strategic_space_2p) max_entangled_QQ_is_pareto_optimal:\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = 0 \\<and> \\<phi>\\<^sub>B = pi/2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> is_pareto_opt\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    is_pareto_opt", "using coop_is_pareto_opt max_entangled_QQ assms"], ["proof (prove)\nusing this:\n  alice_payoff = 3 \\<and> bob_payoff = 3 \\<Longrightarrow> is_pareto_opt\n  \\<gamma> = pi / 2 \\<Longrightarrow>\n  \\<phi>\\<^sub>A = pi / 2 \\<and>\n  \\<theta>\\<^sub>A = 0 \\<and>\n  \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n  alice_payoff = 3 \\<and> bob_payoff = 3\n  \\<gamma> = pi / 2\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = 0 \\<and>\n    \\<phi>\\<^sub>B = pi / 2 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    is_pareto_opt", "by blast"], ["", "subsection \\<open>The Unfair Strategy Case\\<close>"], ["", "lemma half_sqrt_two_squared: \"2 * (sqrt 2 / 2)\\<^sup>2 = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * (sqrt 2 / 2)\\<^sup>2 = 1", "by (auto simp add: power2_eq_square)"], ["", "lemma (in strategic_space_2p) max_entangled_MD:\n(* Alice plays the \"miracle move\", and Bob plays the classical defect move in the maximally entangled case *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = pi/2 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow> alice_payoff = 3 \\<and> bob_payoff = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<longrightarrow>\n    alice_payoff = 3 \\<and> bob_payoff = 1 / 2", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<Longrightarrow>\n    alice_payoff = 3 \\<and> bob_payoff = 1 / 2", "assume asm:\"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = pi/2 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\""], ["proof (state)\nthis:\n  \\<phi>\\<^sub>A = pi / 2 \\<and>\n  \\<theta>\\<^sub>A = pi / 2 \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi \\<Longrightarrow>\n    alice_payoff = 3 \\<and> bob_payoff = 1 / 2", "show \"alice_payoff = 3 \\<and> bob_payoff = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. alice_payoff = 3 \\<and> bob_payoff = 1 / 2", "using alice_payoff_def bob_payoff_def sqrt_two_squared_cpx half_sqrt_two_squared\n          exp_of_half_pi[of \"pi/2\"] exp_of_minus_half_pi[of \"pi/2\"] psi_f_is_state"], ["proof (prove)\nusing this:\n  alice_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  bob_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n  2 * (sqrt 2 / 2)\\<^sup>2 = 1\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (\\<i> * complex_of_real (pi / 2)) = \\<i>\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (- (\\<i> * complex_of_real (pi / 2))) = - \\<i>\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. alice_payoff = 3 \\<and> bob_payoff = 1 / 2", "by (auto simp add: asm assms sin_45 cos_45 algebra_simps)"], ["proof (state)\nthis:\n  alice_payoff = 3 \\<and> bob_payoff = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) max_entangled_MC:\n(* Alice plays the \"miracle move\", and Bob plays the classical defect move in the maximally entangled case *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = pi/2 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow> alice_payoff = 3 \\<and> bob_payoff = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<longrightarrow>\n    alice_payoff = 3 \\<and> bob_payoff = 1 / 2", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    alice_payoff = 3 \\<and> bob_payoff = 1 / 2", "assume asm:\"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = pi/2 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0\""], ["proof (state)\nthis:\n  \\<phi>\\<^sub>A = pi / 2 \\<and>\n  \\<theta>\\<^sub>A = pi / 2 \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = 0 \\<Longrightarrow>\n    alice_payoff = 3 \\<and> bob_payoff = 1 / 2", "show \"alice_payoff = 3 \\<and> bob_payoff = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. alice_payoff = 3 \\<and> bob_payoff = 1 / 2", "using alice_payoff_def bob_payoff_def sqrt_two_squared_cpx half_sqrt_two_squared\n          exp_of_half_pi[of \"pi/2\"] exp_of_minus_half_pi[of \"pi/2\"] psi_f_is_state"], ["proof (prove)\nusing this:\n  alice_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  bob_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n  2 * (sqrt 2 / 2)\\<^sup>2 = 1\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (\\<i> * complex_of_real (pi / 2)) = \\<i>\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (- (\\<i> * complex_of_real (pi / 2))) = - \\<i>\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. alice_payoff = 3 \\<and> bob_payoff = 1 / 2", "by (auto simp add: asm assms sin_45 cos_45 algebra_simps)"], ["proof (state)\nthis:\n  alice_payoff = 3 \\<and> bob_payoff = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in strategic_space_2p) max_entangled_MH:\n(* Alice plays the \"miracle move\", and Bob plays the classical half move in the maximally entangled case *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = pi/2 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi/2 \\<longrightarrow> alice_payoff = 1 \\<and> bob_payoff = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi / 2 \\<longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi / 2 \\<Longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "assume asm:\"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = pi/2 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi/2\""], ["proof (state)\nthis:\n  \\<phi>\\<^sub>A = pi / 2 \\<and>\n  \\<theta>\\<^sub>A = pi / 2 \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi / 2\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<theta>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>B = pi / 2 \\<Longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "show \"alice_payoff = 1 \\<and> bob_payoff = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. alice_payoff = 1 \\<and> bob_payoff = 1", "using alice_payoff_def bob_payoff_def sqrt_two_squared_cpx half_sqrt_two_squared\n          exp_of_half_pi[of \"pi/2\"] exp_of_minus_half_pi[of \"pi/2\"] psi_f_is_state"], ["proof (prove)\nusing this:\n  alice_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  bob_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n  2 * (sqrt 2 / 2)\\<^sup>2 = 1\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (\\<i> * complex_of_real (pi / 2)) = \\<i>\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (- (\\<i> * complex_of_real (pi / 2))) = - \\<i>\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. alice_payoff = 1 \\<and> bob_payoff = 1", "by (auto simp add: asm assms sin_45 cos_45 algebra_simps)"], ["proof (state)\nthis:\n  alice_payoff = 1 \\<and> bob_payoff = 1\n\ngoal:\nNo subgoals!", "qed"], ["", "(* This is the definition of M in equation (9) *)"], ["", "abbreviation M :: \"complex Matrix.mat\" where\n\"M \\<equiv> mat_of_cols_list 2 [[\\<i> * sqrt(2)/2, -1 * sqrt(2)/2],\n                          [1 * sqrt(2)/2, -\\<i> * sqrt(2)/2]]\""], ["", "lemma (in strategic_space_2p) M_correct:\n  assumes \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<theta>\\<^sub>A = pi/2\"\n  shows \"U\\<^sub>A = M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] =\n    Tensor.mat_of_cols_list 2\n     [\\<i> * complex_of_real (sqrt 2) / 2 #\n      map complex_of_real [- 1 * sqrt 2 / 2],\n      [complex_of_real (1 * sqrt 2 / 2),\n       - \\<i> * complex_of_real (sqrt 2) / 2]]", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 2\n                       [\\<i> * complex_of_real (sqrt 2) / 2 #\n                        map complex_of_real [- 1 * sqrt 2 / 2],\n                        [complex_of_real (1 * sqrt 2 / 2),\n                         - \\<i> * complex_of_real (sqrt 2) / 2]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 2\n               [\\<i> * complex_of_real (sqrt 2) / 2 #\n                map complex_of_real [- 1 * sqrt 2 / 2],\n                [complex_of_real (1 * sqrt 2 / 2),\n                 - \\<i> * complex_of_real (sqrt 2) / 2]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>A / 2)],\n                           [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>A / 2))]] $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 2\n                          [\\<i> * complex_of_real (sqrt 2) / 2 #\n                           map complex_of_real [- 1 * sqrt 2 / 2],\n                           [complex_of_real (1 * sqrt 2 / 2),\n                            - \\<i> * complex_of_real (sqrt 2) / 2]] $$\n                         (i, j)\n 2. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [\\<i> * complex_of_real (sqrt 2) / 2 #\n        map complex_of_real [- 1 * sqrt 2 / 2],\n        [complex_of_real (1 * sqrt 2 / 2),\n         - \\<i> * complex_of_real (sqrt 2) / 2]])\n 3. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [\\<i> * complex_of_real (sqrt 2) / 2 #\n        map complex_of_real [- 1 * sqrt 2 / 2],\n        [complex_of_real (1 * sqrt 2 / 2),\n         - \\<i> * complex_of_real (sqrt 2) / 2]])", "show \"dim_row U\\<^sub>A = dim_row M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [\\<i> * complex_of_real (sqrt 2) / 2 #\n        map complex_of_real [- 1 * sqrt 2 / 2],\n        [complex_of_real (1 * sqrt 2 / 2),\n         - \\<i> * complex_of_real (sqrt 2) / 2]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_row\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_row\n     (Tensor.mat_of_cols_list 2\n       [\\<i> * complex_of_real (sqrt 2) / 2 #\n        map complex_of_real [- 1 * sqrt 2 / 2],\n        [complex_of_real (1 * sqrt 2 / 2),\n         - \\<i> * complex_of_real (sqrt 2) / 2]])", "by simp"], ["proof (state)\nthis:\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n  dim_row\n   (Tensor.mat_of_cols_list 2\n     [\\<i> * complex_of_real (sqrt 2) / 2 #\n      map complex_of_real [- 1 * sqrt 2 / 2],\n      [complex_of_real (1 * sqrt 2 / 2),\n       - \\<i> * complex_of_real (sqrt 2) / 2]])\n\ngoal (2 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 2\n                       [\\<i> * complex_of_real (sqrt 2) / 2 #\n                        map complex_of_real [- 1 * sqrt 2 / 2],\n                        [complex_of_real (1 * sqrt 2 / 2),\n                         - \\<i> * complex_of_real (sqrt 2) / 2]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 2\n               [\\<i> * complex_of_real (sqrt 2) / 2 #\n                map complex_of_real [- 1 * sqrt 2 / 2],\n                [complex_of_real (1 * sqrt 2 / 2),\n                 - \\<i> * complex_of_real (sqrt 2) / 2]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>A / 2)],\n                           [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>A / 2))]] $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 2\n                          [\\<i> * complex_of_real (sqrt 2) / 2 #\n                           map complex_of_real [- 1 * sqrt 2 / 2],\n                           [complex_of_real (1 * sqrt 2 / 2),\n                            - \\<i> * complex_of_real (sqrt 2) / 2]] $$\n                         (i, j)\n 2. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [\\<i> * complex_of_real (sqrt 2) / 2 #\n        map complex_of_real [- 1 * sqrt 2 / 2],\n        [complex_of_real (1 * sqrt 2 / 2),\n         - \\<i> * complex_of_real (sqrt 2) / 2]])", "show \"dim_col U\\<^sub>A = dim_col M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [\\<i> * complex_of_real (sqrt 2) / 2 #\n        map complex_of_real [- 1 * sqrt 2 / 2],\n        [complex_of_real (1 * sqrt 2 / 2),\n         - \\<i> * complex_of_real (sqrt 2) / 2]])", "using mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. dim_col\n     (Tensor.mat_of_cols_list 2\n       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n    dim_col\n     (Tensor.mat_of_cols_list 2\n       [\\<i> * complex_of_real (sqrt 2) / 2 #\n        map complex_of_real [- 1 * sqrt 2 / 2],\n        [complex_of_real (1 * sqrt 2 / 2),\n         - \\<i> * complex_of_real (sqrt 2) / 2]])", "by simp"], ["proof (state)\nthis:\n  dim_col\n   (Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]]) =\n  dim_col\n   (Tensor.mat_of_cols_list 2\n     [\\<i> * complex_of_real (sqrt 2) / 2 #\n      map complex_of_real [- 1 * sqrt 2 / 2],\n      [complex_of_real (1 * sqrt 2 / 2),\n       - \\<i> * complex_of_real (sqrt 2) / 2]])\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 2\n                       [\\<i> * complex_of_real (sqrt 2) / 2 #\n                        map complex_of_real [- 1 * sqrt 2 / 2],\n                        [complex_of_real (1 * sqrt 2 / 2),\n                         - \\<i> * complex_of_real (sqrt 2) / 2]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 2\n               [\\<i> * complex_of_real (sqrt 2) / 2 #\n                map complex_of_real [- 1 * sqrt 2 / 2],\n                [complex_of_real (1 * sqrt 2 / 2),\n                 - \\<i> * complex_of_real (sqrt 2) / 2]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>A / 2)],\n                           [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>A / 2))]] $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 2\n                          [\\<i> * complex_of_real (sqrt 2) / 2 #\n                           map complex_of_real [- 1 * sqrt 2 / 2],\n                           [complex_of_real (1 * sqrt 2 / 2),\n                            - \\<i> * complex_of_real (sqrt 2) / 2]] $$\n                         (i, j)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 2\n                       [\\<i> * complex_of_real (sqrt 2) / 2 #\n                        map complex_of_real [- 1 * sqrt 2 / 2],\n                        [complex_of_real (1 * sqrt 2 / 2),\n                         - \\<i> * complex_of_real (sqrt 2) / 2]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 2\n               [\\<i> * complex_of_real (sqrt 2) / 2 #\n                map complex_of_real [- 1 * sqrt 2 / 2],\n                [complex_of_real (1 * sqrt 2 / 2),\n                 - \\<i> * complex_of_real (sqrt 2) / 2]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>A / 2)],\n                           [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>A / 2))]] $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 2\n                          [\\<i> * complex_of_real (sqrt 2) / 2 #\n                           map complex_of_real [- 1 * sqrt 2 / 2],\n                           [complex_of_real (1 * sqrt 2 / 2),\n                            - \\<i> * complex_of_real (sqrt 2) / 2]] $$\n                         (i, j)", "assume a0:\"i < dim_row M\" and a1:\"j < dim_col M\""], ["proof (state)\nthis:\n  i < dim_row\n       (Tensor.mat_of_cols_list 2\n         [\\<i> * complex_of_real (sqrt 2) / 2 #\n          map complex_of_real [- 1 * sqrt 2 / 2],\n          [complex_of_real (1 * sqrt 2 / 2),\n           - \\<i> * complex_of_real (sqrt 2) / 2]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 2\n         [\\<i> * complex_of_real (sqrt 2) / 2 #\n          map complex_of_real [- 1 * sqrt 2 / 2],\n          [complex_of_real (1 * sqrt 2 / 2),\n           - \\<i> * complex_of_real (sqrt 2) / 2]])\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (Tensor.mat_of_cols_list 2\n                       [\\<i> * complex_of_real (sqrt 2) / 2 #\n                        map complex_of_real [- 1 * sqrt 2 / 2],\n                        [complex_of_real (1 * sqrt 2 / 2),\n                         - \\<i> * complex_of_real (sqrt 2) / 2]]);\n        j < dim_col\n             (Tensor.mat_of_cols_list 2\n               [\\<i> * complex_of_real (sqrt 2) / 2 #\n                map complex_of_real [- 1 * sqrt 2 / 2],\n                [complex_of_real (1 * sqrt 2 / 2),\n                 - \\<i> * complex_of_real (sqrt 2) / 2]])\\<rbrakk>\n       \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                          [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                           complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                           map complex_of_real\n                            [- sin (\\<theta>\\<^sub>A / 2)],\n                           [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                            complex_of_real\n                             (cos (\\<theta>\\<^sub>A / 2))]] $$\n                         (i, j) =\n                         Tensor.mat_of_cols_list 2\n                          [\\<i> * complex_of_real (sqrt 2) / 2 #\n                           map complex_of_real [- 1 * sqrt 2 / 2],\n                           [complex_of_real (1 * sqrt 2 / 2),\n                            - \\<i> * complex_of_real (sqrt 2) / 2]] $$\n                         (i, j)", "then"], ["proof (chain)\npicking this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 2\n         [\\<i> * complex_of_real (sqrt 2) / 2 #\n          map complex_of_real [- 1 * sqrt 2 / 2],\n          [complex_of_real (1 * sqrt 2 / 2),\n           - \\<i> * complex_of_real (sqrt 2) / 2]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 2\n         [\\<i> * complex_of_real (sqrt 2) / 2 #\n          map complex_of_real [- 1 * sqrt 2 / 2],\n          [complex_of_real (1 * sqrt 2 / 2),\n           - \\<i> * complex_of_real (sqrt 2) / 2]])", "show \"U\\<^sub>A $$ (i,j) = M $$ (i,j)\""], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 2\n         [\\<i> * complex_of_real (sqrt 2) / 2 #\n          map complex_of_real [- 1 * sqrt 2 / 2],\n          [complex_of_real (1 * sqrt 2 / 2),\n           - \\<i> * complex_of_real (sqrt 2) / 2]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 2\n         [\\<i> * complex_of_real (sqrt 2) / 2 #\n          map complex_of_real [- 1 * sqrt 2 / 2],\n          [complex_of_real (1 * sqrt 2 / 2),\n           - \\<i> * complex_of_real (sqrt 2) / 2]])\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n    (i, j) =\n    Tensor.mat_of_cols_list 2\n     [\\<i> * complex_of_real (sqrt 2) / 2 #\n      map complex_of_real [- 1 * sqrt 2 / 2],\n      [complex_of_real (1 * sqrt 2 / 2),\n       - \\<i> * complex_of_real (sqrt 2) / 2]] $$\n    (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row\n                  (Tensor.mat_of_cols_list 2\n                    [\\<i> * complex_of_real (sqrt 2) / 2 #\n                     map complex_of_real [- 1 * sqrt 2 / 2],\n                     [complex_of_real (1 * sqrt 2 / 2),\n                      - \\<i> * complex_of_real (sqrt 2) / 2]]);\n     j < dim_col\n          (Tensor.mat_of_cols_list 2\n            [\\<i> * complex_of_real (sqrt 2) / 2 #\n             map complex_of_real [- 1 * sqrt 2 / 2],\n             [complex_of_real (1 * sqrt 2 / 2),\n              - \\<i> * complex_of_real (sqrt 2) / 2]])\\<rbrakk>\n    \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n                        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n                      (i, j) =\n                      Tensor.mat_of_cols_list 2\n                       [\\<i> * complex_of_real (sqrt 2) / 2 #\n                        map complex_of_real [- 1 * sqrt 2 / 2],\n                        [complex_of_real (1 * sqrt 2 / 2),\n                         - \\<i> * complex_of_real (sqrt 2) / 2]] $$\n                      (i, j)", "have \"i\\<in>{0,1} \\<and> j\\<in>{0,1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "using a0 a1 mat_of_cols_list_def"], ["proof (prove)\nusing this:\n  i < dim_row\n       (Tensor.mat_of_cols_list 2\n         [\\<i> * complex_of_real (sqrt 2) / 2 #\n          map complex_of_real [- 1 * sqrt 2 / 2],\n          [complex_of_real (1 * sqrt 2 / 2),\n           - \\<i> * complex_of_real (sqrt 2) / 2]])\n  j < dim_col\n       (Tensor.mat_of_cols_list 2\n         [\\<i> * complex_of_real (sqrt 2) / 2 #\n          map complex_of_real [- 1 * sqrt 2 / 2],\n          [complex_of_real (1 * sqrt 2 / 2),\n           - \\<i> * complex_of_real (sqrt 2) / 2]])\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1} \\<and> j \\<in> {0, 1}", "by auto"], ["proof (state)\nthis:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < dim_row\n                  (Tensor.mat_of_cols_list 2\n                    [\\<i> * complex_of_real (sqrt 2) / 2 #\n                     map complex_of_real [- 1 * sqrt 2 / 2],\n                     [complex_of_real (1 * sqrt 2 / 2),\n                      - \\<i> * complex_of_real (sqrt 2) / 2]]);\n     j < dim_col\n          (Tensor.mat_of_cols_list 2\n            [\\<i> * complex_of_real (sqrt 2) / 2 #\n             map complex_of_real [- 1 * sqrt 2 / 2],\n             [complex_of_real (1 * sqrt 2 / 2),\n              - \\<i> * complex_of_real (sqrt 2) / 2]])\\<rbrakk>\n    \\<Longrightarrow> Tensor.mat_of_cols_list 2\n                       [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n                        map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n                        [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n                         exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n                         complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n                      (i, j) =\n                      Tensor.mat_of_cols_list 2\n                       [\\<i> * complex_of_real (sqrt 2) / 2 #\n                        map complex_of_real [- 1 * sqrt 2 / 2],\n                        [complex_of_real (1 * sqrt 2 / 2),\n                         - \\<i> * complex_of_real (sqrt 2) / 2]] $$\n                      (i, j)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n    (i, j) =\n    Tensor.mat_of_cols_list 2\n     [\\<i> * complex_of_real (sqrt 2) / 2 #\n      map complex_of_real [- 1 * sqrt 2 / 2],\n      [complex_of_real (1 * sqrt 2 / 2),\n       - \\<i> * complex_of_real (sqrt 2) / 2]] $$\n    (i, j)", "using mat_of_cols_list_def exp_of_half_pi[of \"pi/2\"] exp_of_minus_half_pi[of \"pi/2\"]"], ["proof (prove)\nusing this:\n  i \\<in> {0, 1} \\<and> j \\<in> {0, 1}\n  Tensor.mat_of_cols_list ?nr ?cs =\n  Matrix.mat ?nr (length ?cs) (\\<lambda>(i, j). ?cs ! j ! i)\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (\\<i> * complex_of_real (pi / 2)) = \\<i>\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (- (\\<i> * complex_of_real (pi / 2))) = - \\<i>\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 2\n     [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n      map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n      [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n       exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n       complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n    (i, j) =\n    Tensor.mat_of_cols_list 2\n     [\\<i> * complex_of_real (sqrt 2) / 2 #\n      map complex_of_real [- 1 * sqrt 2 / 2],\n      [complex_of_real (1 * sqrt 2 / 2),\n       - \\<i> * complex_of_real (sqrt 2) / 2]] $$\n    (i, j)", "by (auto simp add: assms sin_45 cos_45)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n  (i, j) =\n  Tensor.mat_of_cols_list 2\n   [\\<i> * complex_of_real (sqrt 2) / 2 #\n    map complex_of_real [- 1 * sqrt 2 / 2],\n    [complex_of_real (1 * sqrt 2 / 2),\n     - \\<i> * complex_of_real (sqrt 2) / 2]] $$\n  (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 2\n   [exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n    complex_of_real (cos (\\<theta>\\<^sub>A / 2)) #\n    map complex_of_real [- sin (\\<theta>\\<^sub>A / 2)],\n    [complex_of_real (sin (\\<theta>\\<^sub>A / 2)),\n     exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n     complex_of_real (cos (\\<theta>\\<^sub>A / 2))]] $$\n  (i, j) =\n  Tensor.mat_of_cols_list 2\n   [\\<i> * complex_of_real (sqrt 2) / 2 #\n    map complex_of_real [- 1 * sqrt 2 / 2],\n    [complex_of_real (1 * sqrt 2 / 2),\n     - \\<i> * complex_of_real (sqrt 2) / 2]] $$\n  (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma hidden_sqrt_two_squared_cpx2:\n  fixes x y :: complex\n  shows \"(sqrt 2) * ((sqrt 2) * (x * y)) / 2 = x * y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_of_real (sqrt 2) * (complex_of_real (sqrt 2) * (x * y)) / 2 =\n    x * y", "using sqrt_two_squared_cpx"], ["proof (prove)\nusing this:\n  complex_of_real (sqrt 2) * complex_of_real (sqrt 2) = 2\n\ngoal (1 subgoal):\n 1. complex_of_real (sqrt 2) * (complex_of_real (sqrt 2) * (x * y)) / 2 =\n    x * y", "by auto"], ["", "lemma (in strategic_space_2p) unfair_strategy_no_benefit:\n(* Two players' payoffs in the maximally entangled case given that Alice plays a quantum move and Bob \nplays a classical move with the same \\<theta> *)\n  assumes \"\\<gamma> = pi/2\"\n  shows \"\\<phi>\\<^sub>A = pi/2 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>A = \\<theta>\\<^sub>B \\<longrightarrow> alice_payoff = 1 \\<and> bob_payoff = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and>\n    \\<theta>\\<^sub>A = \\<theta>\\<^sub>B \\<longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and>\n    \\<theta>\\<^sub>A = \\<theta>\\<^sub>B \\<Longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "assume asm:\"\\<phi>\\<^sub>A = pi/2 \\<and> \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>A = \\<theta>\\<^sub>B\""], ["proof (state)\nthis:\n  \\<phi>\\<^sub>A = pi / 2 \\<and>\n  \\<phi>\\<^sub>B = 0 \\<and> \\<theta>\\<^sub>A = \\<theta>\\<^sub>B\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and>\n    \\<theta>\\<^sub>A = \\<theta>\\<^sub>B \\<Longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "have \"\\<psi>\\<^sub>f $$ (0,0) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    0", "using exp_of_half_pi[of \"pi/2\"] exp_of_minus_half_pi[of \"pi/2\"]"], ["proof (prove)\nusing this:\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (\\<i> * complex_of_real (pi / 2)) = \\<i>\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (- (\\<i> * complex_of_real (pi / 2))) = - \\<i>\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (0, 0) =\n    0", "by (auto simp add: asm assms sin_45 cos_45 algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and>\n    \\<theta>\\<^sub>A = \\<theta>\\<^sub>B \\<Longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "moreover"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and>\n    \\<theta>\\<^sub>A = \\<theta>\\<^sub>B \\<Longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "have \"\\<psi>\\<^sub>f $$ (1,0) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (1, 0) =\n    0", "using exp_of_half_pi[of \"pi/2\"] exp_of_minus_half_pi[of \"pi/2\"]"], ["proof (prove)\nusing this:\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (\\<i> * complex_of_real (pi / 2)) = \\<i>\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (- (\\<i> * complex_of_real (pi / 2))) = - \\<i>\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (1, 0) =\n    0", "by (auto simp add: asm assms sin_45 cos_45 algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and>\n    \\<theta>\\<^sub>A = \\<theta>\\<^sub>B \\<Longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "moreover"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and>\n    \\<theta>\\<^sub>A = \\<theta>\\<^sub>B \\<Longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "have \"\\<psi>\\<^sub>f $$ (2,0) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (2, 0) =\n    0", "using exp_of_half_pi[of \"pi/2\"] exp_of_minus_half_pi[of \"pi/2\"]"], ["proof (prove)\nusing this:\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (\\<i> * complex_of_real (pi / 2)) = \\<i>\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (- (\\<i> * complex_of_real (pi / 2))) = - \\<i>\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (2, 0) =\n    0", "by (auto simp add: asm assms sin_45 cos_45 hidden_sqrt_two_squared_cpx2 algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and>\n    \\<theta>\\<^sub>A = \\<theta>\\<^sub>B \\<Longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "moreover"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  0\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and>\n    \\<theta>\\<^sub>A = \\<theta>\\<^sub>B \\<Longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "have \"\\<psi>\\<^sub>f $$ (3,0) = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    1", "using exp_of_half_pi[of \"pi/2\"] exp_of_minus_half_pi[of \"pi/2\"] cos_sin_squared_add_cpx"], ["proof (prove)\nusing this:\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (\\<i> * complex_of_real (pi / 2)) = \\<i>\n  pi / 2 = pi / 2 \\<Longrightarrow>\n  exp (- (\\<i> * complex_of_real (pi / 2))) = - \\<i>\n  complex_of_real (cos (?\\<gamma> / 2)) *\n  complex_of_real (cos (?\\<gamma> / 2)) -\n  \\<i> * complex_of_real (sin (?\\<gamma> / 2)) *\n  (\\<i> * complex_of_real (sin (?\\<gamma> / 2))) =\n  1\n\ngoal (1 subgoal):\n 1. Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]] $$\n    (3, 0) =\n    1", "by (auto simp add: asm assms sin_45 cos_45 hidden_sqrt_two_squared_cpx2 algebra_simps)"], ["proof (state)\nthis:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  1\n\ngoal (1 subgoal):\n 1. \\<phi>\\<^sub>A = pi / 2 \\<and>\n    \\<phi>\\<^sub>B = 0 \\<and>\n    \\<theta>\\<^sub>A = \\<theta>\\<^sub>B \\<Longrightarrow>\n    alice_payoff = 1 \\<and> bob_payoff = 1", "ultimately"], ["proof (chain)\npicking this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  1", "show \"alice_payoff = 1 \\<and> bob_payoff = 1\""], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  1\n\ngoal (1 subgoal):\n 1. alice_payoff = 1 \\<and> bob_payoff = 1", "using alice_payoff_def bob_payoff_def psi_f_is_state"], ["proof (prove)\nusing this:\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (0, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (1, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (2, 0) =\n  0\n  Tensor.mat_of_cols_list 4\n   [[complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))),\n     - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n     (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      complex_of_real (cos (\\<gamma> / 2)) +\n      complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2))) +\n     complex_of_real (cos (\\<gamma> / 2)) *\n     (complex_of_real\n       (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n        cos (\\<gamma> / 2)) +\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n      complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n      exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n      complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n      \\<i> *\n      complex_of_real (sin (\\<gamma> / 2)))]] $$\n  (3, 0) =\n  1\n  alice_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  bob_payoff \\<equiv>\n  3 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (0, 0)))\\<^sup>2\n   else undefined) +\n  1 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (3, 0)))\\<^sup>2\n   else undefined) +\n  5 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (1, 0)))\\<^sup>2\n   else undefined) +\n  0 *\n  (if state 2\n       (Tensor.mat_of_cols_list 4\n         [[complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))),\n           - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n           (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            complex_of_real (cos (\\<gamma> / 2)) +\n            complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2))) +\n           complex_of_real (cos (\\<gamma> / 2)) *\n           (complex_of_real\n             (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n              cos (\\<gamma> / 2)) +\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n            complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n            exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n            complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n            \\<i> *\n            complex_of_real (sin (\\<gamma> / 2)))]])\n   then (cmod\n          (Tensor.mat_of_cols_list 4\n            [[complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))),\n              - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n              (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               complex_of_real (cos (\\<gamma> / 2)) +\n               complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2))) +\n              complex_of_real (cos (\\<gamma> / 2)) *\n              (complex_of_real\n                (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n                 cos (\\<gamma> / 2)) +\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n               complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n               exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n               complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n               \\<i> *\n               complex_of_real (sin (\\<gamma> / 2)))]] $$\n           (2, 0)))\\<^sup>2\n   else undefined)\n  state 2\n   (Tensor.mat_of_cols_list 4\n     [[complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (- sin (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real (sin (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real (- sin (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        complex_of_real (sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))),\n       - \\<i> * complex_of_real (sin (\\<gamma> / 2)) *\n       (exp (\\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (\\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        complex_of_real (cos (\\<gamma> / 2)) +\n        complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2))) +\n       complex_of_real (cos (\\<gamma> / 2)) *\n       (complex_of_real\n         (sin (\\<theta>\\<^sub>A / 2) * sin (\\<theta>\\<^sub>B / 2) *\n          cos (\\<gamma> / 2)) +\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>A) *\n        complex_of_real (cos (\\<theta>\\<^sub>A / 2)) *\n        exp (- \\<i> * complex_of_real \\<phi>\\<^sub>B) *\n        complex_of_real (cos (\\<theta>\\<^sub>B / 2)) *\n        \\<i> *\n        complex_of_real (sin (\\<gamma> / 2)))]])\n\ngoal (1 subgoal):\n 1. alice_payoff = 1 \\<and> bob_payoff = 1", "by auto"], ["proof (state)\nthis:\n  alice_payoff = 1 \\<and> bob_payoff = 1\n\ngoal:\nNo subgoals!", "qed"], ["", "(*\nBibliography:\n\n@ARTICLE{EWL,\n   author = {{Eisert}, J. and {Wilkens}, M. and {Lewenstein}, M.},\n    title = \"{Quantum Games and Quantum Strategies}\",\n  journal = {Physical Review Letters},\n   eprint = {quant-ph/9806088},\n     year = 1999,\n    month = oct,\n   volume = 83,\n    pages = {3077-3080},\n      doi = {10.1103/PhysRevLett.83.3077},\n   adsurl = {https://ui.adsabs.harvard.edu/abs/1999PhRvL..83.3077E},\n  adsnote = {Provided by the SAO/NASA Astrophysics Data System}\n}\n*)"], ["", "end"]]}