{"file_name": "/home/qj213/afp-2021-10-22/thys/Isabelle_Marries_Dirac/No_Cloning.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Isabelle_Marries_Dirac", "problem_names": ["lemma inner_prod_expand:\n  assumes \"dim_vec a = dim_vec b\" and \"dim_vec a = dim_vec c\" and \"dim_vec a = dim_vec d\"\n  shows \"\\<langle>a + b|c + d\\<rangle> = \\<langle>a|c\\<rangle> + \\<langle>a|d\\<rangle> + \\<langle>b|c\\<rangle> + \\<langle>b|d\\<rangle>\"", "lemma inner_prod_distrib_left:\n  assumes \"dim_vec a = dim_vec b\"\n  shows \"\\<langle>c \\<cdot>\\<^sub>v a|b\\<rangle> = cnj(c) * \\<langle>a|b\\<rangle>\"", "lemma inner_prod_distrib_right:\n  assumes \"dim_vec a = dim_vec b\"\n  shows \"\\<langle>a|c \\<cdot>\\<^sub>v b\\<rangle> = c * \\<langle>a|b\\<rangle>\"", "lemma cauchy_schwarz_ineq:\n  assumes \"dim_vec v = dim_vec w\"\n  shows \"(cmod(\\<langle>v|w\\<rangle>))\\<^sup>2 \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\"", "lemma cauchy_schwarz_eq [simp]:\n  assumes \"v = (l \\<cdot>\\<^sub>v w)\"\n  shows \"(cmod(\\<langle>v|w\\<rangle>))\\<^sup>2 = Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\"", "lemma cauchy_schwarz_col [simp]:\n  assumes \"dim_vec v = dim_vec w\" and \"(cmod(\\<langle>v|w\\<rangle>))\\<^sup>2 = Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\"\n  shows \"\\<exists>l. v = (l \\<cdot>\\<^sub>v w) \\<or> w = (l \\<cdot>\\<^sub>v v)\"", "lemma eq_from_inner_prod [simp]:\n  assumes \"dim_vec v = dim_vec w\" and \"\\<langle>v|w\\<rangle> = 1\" and \"\\<langle>v|v\\<rangle> = 1\" and \"\\<langle>w|w\\<rangle> = 1\"\n  shows \"v = w\"", "lemma hermite_cnj_of_tensor:\n  shows \"(A \\<Otimes> B)\\<^sup>\\<dagger>  = (A\\<^sup>\\<dagger>) \\<Otimes> (B\\<^sup>\\<dagger>)\"", "lemma inner_prod_of_unit_vec:\n  fixes n i:: nat\n  assumes \"i < n\"\n  shows \"\\<langle>unit_vec n i| unit_vec n i\\<rangle> = 1\"", "theorem (in quantum_machine) no_cloning:\n  assumes [simp]: \"dim_vec v = 2^n\" and [simp]: \"dim_vec w = 2^n\" and\n    cloning1: \"\\<And>s. U * ( |v\\<rangle> \\<Otimes> |s\\<rangle>) = |v\\<rangle> \\<Otimes> |v\\<rangle>\" and\n    cloning2: \"\\<And>s. U * ( |w\\<rangle> \\<Otimes> |s\\<rangle>) = |w\\<rangle> \\<Otimes> |w\\<rangle>\" and\n    \"\\<langle>v|v\\<rangle> = 1\" and \"\\<langle>w|w\\<rangle> = 1\"\n  shows \"v = w \\<or> \\<langle>v|w\\<rangle> = 0\""], "translations": [["", "lemma inner_prod_expand:\n  assumes \"dim_vec a = dim_vec b\" and \"dim_vec a = dim_vec c\" and \"dim_vec a = dim_vec d\"\n  shows \"\\<langle>a + b|c + d\\<rangle> = \\<langle>a|c\\<rangle> + \\<langle>a|d\\<rangle> + \\<langle>b|c\\<rangle> + \\<langle>b|d\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>a + b|c + d\\<rangle> =\n    \\<langle>a|c\\<rangle> + \\<langle>a|d\\<rangle> + \\<langle>b|c\\<rangle> +\n    \\<langle>b|d\\<rangle>", "apply (simp add: inner_prod_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<dim_vec d. cnj ((a + b) $ i) * (c $ i + d $ i)) =\n    (\\<Sum>i = 0..<dim_vec c. cnj (a $ i) * c $ i) +\n    (\\<Sum>i = 0..<dim_vec d. cnj (a $ i) * d $ i) +\n    (\\<Sum>i = 0..<dim_vec c. cnj (b $ i) * c $ i) +\n    (\\<Sum>i = 0..<dim_vec d. cnj (b $ i) * d $ i)", "using assms sum.cong"], ["proof (prove)\nusing this:\n  dim_vec a = dim_vec b\n  dim_vec a = dim_vec c\n  dim_vec a = dim_vec d\n  \\<lbrakk>?A = ?B;\n   \\<And>x. x \\<in> ?B \\<Longrightarrow> ?g x = ?h x\\<rbrakk>\n  \\<Longrightarrow> sum ?g ?A = sum ?h ?B\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..<dim_vec d. cnj ((a + b) $ i) * (c $ i + d $ i)) =\n    (\\<Sum>i = 0..<dim_vec c. cnj (a $ i) * c $ i) +\n    (\\<Sum>i = 0..<dim_vec d. cnj (a $ i) * d $ i) +\n    (\\<Sum>i = 0..<dim_vec c. cnj (b $ i) * c $ i) +\n    (\\<Sum>i = 0..<dim_vec d. cnj (b $ i) * d $ i)", "by (simp add: sum.distrib algebra_simps)"], ["", "lemma inner_prod_distrib_left:\n  assumes \"dim_vec a = dim_vec b\"\n  shows \"\\<langle>c \\<cdot>\\<^sub>v a|b\\<rangle> = cnj(c) * \\<langle>a|b\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>c \\<cdot>\\<^sub>v a|b\\<rangle> = cnj c * \\<langle>a|b\\<rangle>", "using assms inner_prod_def"], ["proof (prove)\nusing this:\n  dim_vec a = dim_vec b\n  \\<langle>?u|?v\\<rangle> \\<equiv>\n  \\<Sum>i = 0..<dim_vec ?v. cnj (?u $ i) * ?v $ i\n\ngoal (1 subgoal):\n 1. \\<langle>c \\<cdot>\\<^sub>v a|b\\<rangle> = cnj c * \\<langle>a|b\\<rangle>", "by (simp add: algebra_simps mult_hom.hom_sum)"], ["", "lemma inner_prod_distrib_right:\n  assumes \"dim_vec a = dim_vec b\"\n  shows \"\\<langle>a|c \\<cdot>\\<^sub>v b\\<rangle> = c * \\<langle>a|b\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>a|c \\<cdot>\\<^sub>v b\\<rangle> = c * \\<langle>a|b\\<rangle>", "using assms"], ["proof (prove)\nusing this:\n  dim_vec a = dim_vec b\n\ngoal (1 subgoal):\n 1. \\<langle>a|c \\<cdot>\\<^sub>v b\\<rangle> = c * \\<langle>a|b\\<rangle>", "by (simp add: algebra_simps mult_hom.hom_sum)"], ["", "lemma cauchy_schwarz_ineq:\n  assumes \"dim_vec v = dim_vec w\"\n  shows \"(cmod(\\<langle>v|w\\<rangle>))\\<^sup>2 \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "proof (cases \"\\<langle>v|v\\<rangle> = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<langle>v|v\\<rangle> = 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\n 2. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "case c0:True"], ["proof (state)\nthis:\n  \\<langle>v|v\\<rangle> = 0\n\ngoal (2 subgoals):\n 1. \\<langle>v|v\\<rangle> = 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\n 2. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "then"], ["proof (chain)\npicking this:\n  \\<langle>v|v\\<rangle> = 0", "have \"\\<And>i. i < dim_vec v \\<Longrightarrow> v $ i = 0\""], ["proof (prove)\nusing this:\n  \\<langle>v|v\\<rangle> = 0\n\ngoal (1 subgoal):\n 1. \\<And>i. i < dim_vec v \\<Longrightarrow> v $ i = 0", "by(metis index_zero_vec(1) inner_prod_with_itself_nonneg_reals_non0)"], ["proof (state)\nthis:\n  ?i < dim_vec v \\<Longrightarrow> v $ ?i = 0\n\ngoal (2 subgoals):\n 1. \\<langle>v|v\\<rangle> = 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\n 2. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "then"], ["proof (chain)\npicking this:\n  ?i < dim_vec v \\<Longrightarrow> v $ ?i = 0", "have \"(cmod(\\<langle>v|w\\<rangle>))\\<^sup>2 = 0\""], ["proof (prove)\nusing this:\n  ?i < dim_vec v \\<Longrightarrow> v $ ?i = 0\n\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 = 0", "by (simp add: assms inner_prod_def)"], ["proof (state)\nthis:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 = 0\n\ngoal (2 subgoals):\n 1. \\<langle>v|v\\<rangle> = 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\n 2. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 = 0\n\ngoal (2 subgoals):\n 1. \\<langle>v|v\\<rangle> = 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\n 2. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "have \"Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>) = 0", "by (simp add: c0)"], ["proof (state)\nthis:\n  Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>) = 0\n\ngoal (2 subgoals):\n 1. \\<langle>v|v\\<rangle> = 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\n 2. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "ultimately"], ["proof (chain)\npicking this:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 = 0\n  Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>) = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 = 0\n  Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>) = 0\n\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "by simp"], ["proof (state)\nthis:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n  \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "case c1:False"], ["proof (state)\nthis:\n  \\<langle>v|v\\<rangle> \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "have \"dim_vec w = dim_vec (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_vec w =\n    dim_vec\n     (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v)", "by (simp add: assms)"], ["proof (state)\nthis:\n  dim_vec w =\n  dim_vec\n   (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "then"], ["proof (chain)\npicking this:\n  dim_vec w =\n  dim_vec\n   (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v)", "have \"\\<langle>w + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|w + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle> = \\<langle>w|w\\<rangle> + \\<langle>w|-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle> +\n\\<langle>-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|w\\<rangle> + \\<langle>-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle>\""], ["proof (prove)\nusing this:\n  dim_vec w =\n  dim_vec\n   (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<langle>w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w +\n               - \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    \\<langle>w|w\\<rangle> +\n    \\<langle>w|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> +\n    \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w\\<rangle> +\n    \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle>", "using inner_prod_expand[of \"w\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\" \"w\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\"]"], ["proof (prove)\nusing this:\n  dim_vec w =\n  dim_vec\n   (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v)\n  \\<lbrakk>dim_vec w =\n           dim_vec\n            (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v);\n   dim_vec w = dim_vec w;\n   dim_vec w =\n   dim_vec\n    (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n     v)\\<rbrakk>\n  \\<Longrightarrow> \\<langle>w +\n                             - \\<langle>v|w\\<rangle> /\n                             \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                             v|w +\n                               - \\<langle>v|w\\<rangle> /\n                               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                               v\\<rangle> =\n                    \\<langle>w|w\\<rangle> +\n                    \\<langle>w|- \\<langle>v|w\\<rangle> /\n                               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                               v\\<rangle> +\n                    \\<langle>- \\<langle>v|w\\<rangle> /\n                             \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                             v|w\\<rangle> +\n                    \\<langle>- \\<langle>v|w\\<rangle> /\n                             \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                             v|- \\<langle>v|w\\<rangle> /\n                               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                               v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w +\n               - \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    \\<langle>w|w\\<rangle> +\n    \\<langle>w|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> +\n    \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w\\<rangle> +\n    \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle>", "by auto"], ["proof (state)\nthis:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> +\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> +\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "have \"\\<langle>w|-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle> = -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>w|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>", "using assms inner_prod_distrib_right[of \"w\" \"v\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>\"]"], ["proof (prove)\nusing this:\n  dim_vec v = dim_vec w\n  dim_vec w = dim_vec v \\<Longrightarrow>\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>w|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>", "by simp"], ["proof (state)\nthis:\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "have \"\\<langle>-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|w\\<rangle> = cnj(-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>) * \\<langle>v|w\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w\\<rangle> =\n    cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n    \\<langle>v|w\\<rangle>", "using assms inner_prod_distrib_left[of \"v\" \"w\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>\"]"], ["proof (prove)\nusing this:\n  dim_vec v = dim_vec w\n  dim_vec v = dim_vec w \\<Longrightarrow>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|w\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w\\<rangle> =\n    cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n    \\<langle>v|w\\<rangle>", "by simp"], ["proof (state)\nthis:\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|w\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|w\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "have \"\\<langle>-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle> = cnj(-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>) * (-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>) * \\<langle>v|v\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n    (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n    \\<langle>v|v\\<rangle>", "using inner_prod_distrib_left[of \"v\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>\"]\ninner_prod_distrib_right[of \"v\" \"v\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>\"]"], ["proof (prove)\nusing this:\n  dim_vec v =\n  dim_vec\n   (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n    v) \\<Longrightarrow>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle>\n  dim_vec v = dim_vec v \\<Longrightarrow>\n  \\<langle>v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n    (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n    \\<langle>v|v\\<rangle>", "by simp"], ["proof (state)\nthis:\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "ultimately"], ["proof (chain)\npicking this:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> +\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle>\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|w\\<rangle>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|v\\<rangle>", "have \"\\<langle>w + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|w + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle> = \\<langle>w|w\\<rangle> -  cmod(\\<langle>v|w\\<rangle>)^2 / \\<langle>v|v\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> +\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle>\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|w\\<rangle>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w +\n               - \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    \\<langle>w|w\\<rangle> -\n    complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n    \\<langle>v|v\\<rangle>", "using assms inner_prod_cnj[of \"w\" \"v\"] inner_prod_cnj[of \"v\" \"v\"] complex_norm_square"], ["proof (prove)\nusing this:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> +\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle>\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|w\\<rangle>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|v\\<rangle>\n  dim_vec v = dim_vec w\n  dim_vec w = dim_vec v \\<Longrightarrow>\n  \\<langle>v|w\\<rangle> = cnj \\<langle>w|v\\<rangle>\n  dim_vec v = dim_vec v \\<Longrightarrow>\n  \\<langle>v|v\\<rangle> = cnj \\<langle>v|v\\<rangle>\n  complex_of_real ((cmod ?z)\\<^sup>2) = ?z * cnj ?z\n\ngoal (1 subgoal):\n 1. \\<langle>w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w +\n               - \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    \\<langle>w|w\\<rangle> -\n    complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n    \\<langle>v|v\\<rangle>", "by simp"], ["proof (state)\nthis:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> -\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n  \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> -\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n  \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "have \"Re(\\<langle>w + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|w + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle>) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> Re \\<langle>w +\n                        - \\<langle>v|w\\<rangle> /\n                        \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                        v|w +\n                          - \\<langle>v|w\\<rangle> /\n                          \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                          v\\<rangle>", "using inner_prod_with_itself_Re"], ["proof (prove)\nusing this:\n  0 \\<le> Re \\<langle>?u|?u\\<rangle>\n\ngoal (1 subgoal):\n 1. 0 \\<le> Re \\<langle>w +\n                        - \\<langle>v|w\\<rangle> /\n                        \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                        v|w +\n                          - \\<langle>v|w\\<rangle> /\n                          \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                          v\\<rangle>", "by blast"], ["proof (state)\nthis:\n  0 \\<le> Re \\<langle>w +\n                      - \\<langle>v|w\\<rangle> /\n                      \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                      v|w +\n                        - \\<langle>v|w\\<rangle> /\n                        \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                        v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "ultimately"], ["proof (chain)\npicking this:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> -\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n  \\<langle>v|v\\<rangle>\n  0 \\<le> Re \\<langle>w +\n                      - \\<langle>v|w\\<rangle> /\n                      \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                      v|w +\n                        - \\<langle>v|w\\<rangle> /\n                        \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                        v\\<rangle>", "have \"Re(\\<langle>w|w\\<rangle>) \\<ge> cmod(\\<langle>v|w\\<rangle>)^2/Re(\\<langle>v|v\\<rangle>)\""], ["proof (prove)\nusing this:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> -\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n  \\<langle>v|v\\<rangle>\n  0 \\<le> Re \\<langle>w +\n                      - \\<langle>v|w\\<rangle> /\n                      \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                      v|w +\n                        - \\<langle>v|w\\<rangle> /\n                        \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                        v\\<rangle>\n\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 / Re \\<langle>v|v\\<rangle>\n    \\<le> Re \\<langle>w|w\\<rangle>", "using inner_prod_with_itself_real"], ["proof (prove)\nusing this:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> -\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n  \\<langle>v|v\\<rangle>\n  0 \\<le> Re \\<langle>w +\n                      - \\<langle>v|w\\<rangle> /\n                      \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                      v|w +\n                        - \\<langle>v|w\\<rangle> /\n                        \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                        v\\<rangle>\n  \\<langle>?u|?u\\<rangle> \\<in> \\<real>\n\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 / Re \\<langle>v|v\\<rangle>\n    \\<le> Re \\<langle>w|w\\<rangle>", "by simp"], ["proof (state)\nthis:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 / Re \\<langle>v|v\\<rangle>\n  \\<le> Re \\<langle>w|w\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 / Re \\<langle>v|v\\<rangle>\n  \\<le> Re \\<langle>w|w\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "have c2:\"Re(\\<langle>v|v\\<rangle>) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < Re \\<langle>v|v\\<rangle>", "using inner_prod_with_itself_Re_non0 inner_prod_with_itself_eq0 c1"], ["proof (prove)\nusing this:\n  ?u \\<noteq> 0\\<^sub>v (dim_vec ?u) \\<Longrightarrow>\n  0 < Re \\<langle>?u|?u\\<rangle>\n  ?u = 0\\<^sub>v (dim_vec ?u) \\<Longrightarrow> \\<langle>?u|?u\\<rangle> = 0\n  \\<langle>v|v\\<rangle> \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 0 < Re \\<langle>v|v\\<rangle>", "by auto"], ["proof (state)\nthis:\n  0 < Re \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "ultimately"], ["proof (chain)\npicking this:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 / Re \\<langle>v|v\\<rangle>\n  \\<le> Re \\<langle>w|w\\<rangle>\n  0 < Re \\<langle>v|v\\<rangle>", "have \"Re(\\<langle>w|w\\<rangle>) * Re(\\<langle>v|v\\<rangle>) \\<ge> cmod(\\<langle>v|w\\<rangle>)^2/Re(\\<langle>v|v\\<rangle>) * Re(\\<langle>v|v\\<rangle>)\""], ["proof (prove)\nusing this:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 / Re \\<langle>v|v\\<rangle>\n  \\<le> Re \\<langle>w|w\\<rangle>\n  0 < Re \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 / Re \\<langle>v|v\\<rangle> *\n    Re \\<langle>v|v\\<rangle>\n    \\<le> Re \\<langle>w|w\\<rangle> * Re \\<langle>v|v\\<rangle>", "by (metis less_numeral_extra(3) nonzero_divide_eq_eq pos_divide_le_eq)"], ["proof (state)\nthis:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 / Re \\<langle>v|v\\<rangle> *\n  Re \\<langle>v|v\\<rangle>\n  \\<le> Re \\<langle>w|w\\<rangle> * Re \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 / Re \\<langle>v|v\\<rangle> *\n  Re \\<langle>v|v\\<rangle>\n  \\<le> Re \\<langle>w|w\\<rangle> * Re \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "using inner_prod_with_itself_Im c2"], ["proof (prove)\nusing this:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 / Re \\<langle>v|v\\<rangle> *\n  Re \\<langle>v|v\\<rangle>\n  \\<le> Re \\<langle>w|w\\<rangle> * Re \\<langle>v|v\\<rangle>\n  Im \\<langle>?u|?u\\<rangle> = 0\n  0 < Re \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n    \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "by (simp add: mult.commute)"], ["proof (state)\nthis:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2\n  \\<le> Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma cauchy_schwarz_eq [simp]:\n  assumes \"v = (l \\<cdot>\\<^sub>v w)\"\n  shows \"(cmod(\\<langle>v|w\\<rangle>))\\<^sup>2 = Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 =\n    Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 =\n    Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "have \"cmod(\\<langle>v|w\\<rangle>) = cmod(cnj(l) * \\<langle>w|w\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod \\<langle>v|w\\<rangle> = cmod (cnj l * \\<langle>w|w\\<rangle>)", "using assms inner_prod_distrib_left[of \"w\" \"w\" \"l\"]"], ["proof (prove)\nusing this:\n  v = l \\<cdot>\\<^sub>v w\n  dim_vec w = dim_vec w \\<Longrightarrow>\n  \\<langle>l \\<cdot>\\<^sub>v w|w\\<rangle> = cnj l * \\<langle>w|w\\<rangle>\n\ngoal (1 subgoal):\n 1. cmod \\<langle>v|w\\<rangle> = cmod (cnj l * \\<langle>w|w\\<rangle>)", "by simp"], ["proof (state)\nthis:\n  cmod \\<langle>v|w\\<rangle> = cmod (cnj l * \\<langle>w|w\\<rangle>)\n\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 =\n    Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "then"], ["proof (chain)\npicking this:\n  cmod \\<langle>v|w\\<rangle> = cmod (cnj l * \\<langle>w|w\\<rangle>)", "have \"cmod(\\<langle>v|w\\<rangle>)^2 = cmod(l)^2 * \\<langle>w|w\\<rangle> * \\<langle>w|w\\<rangle>\""], ["proof (prove)\nusing this:\n  cmod \\<langle>v|w\\<rangle> = cmod (cnj l * \\<langle>w|w\\<rangle>)\n\ngoal (1 subgoal):\n 1. complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) =\n    complex_of_real ((cmod l)\\<^sup>2) * \\<langle>w|w\\<rangle> *\n    \\<langle>w|w\\<rangle>", "using complex_norm_square inner_prod_cnj[of \"w\" \"w\"]"], ["proof (prove)\nusing this:\n  cmod \\<langle>v|w\\<rangle> = cmod (cnj l * \\<langle>w|w\\<rangle>)\n  complex_of_real ((cmod ?z)\\<^sup>2) = ?z * cnj ?z\n  dim_vec w = dim_vec w \\<Longrightarrow>\n  \\<langle>w|w\\<rangle> = cnj \\<langle>w|w\\<rangle>\n\ngoal (1 subgoal):\n 1. complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) =\n    complex_of_real ((cmod l)\\<^sup>2) * \\<langle>w|w\\<rangle> *\n    \\<langle>w|w\\<rangle>", "by simp"], ["proof (state)\nthis:\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) =\n  complex_of_real ((cmod l)\\<^sup>2) * \\<langle>w|w\\<rangle> *\n  \\<langle>w|w\\<rangle>\n\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 =\n    Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) =\n  complex_of_real ((cmod l)\\<^sup>2) * \\<langle>w|w\\<rangle> *\n  \\<langle>w|w\\<rangle>\n\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 =\n    Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "have \"\\<langle>v|v\\<rangle> = cmod(l)^2 * \\<langle>w|w\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> =\n    complex_of_real ((cmod l)\\<^sup>2) * \\<langle>w|w\\<rangle>", "using assms complex_norm_square inner_prod_distrib_left[of \"w\" \"v\" \"l\"]\ninner_prod_distrib_right[of \"w\" \"w\" \"l\"]"], ["proof (prove)\nusing this:\n  v = l \\<cdot>\\<^sub>v w\n  complex_of_real ((cmod ?z)\\<^sup>2) = ?z * cnj ?z\n  dim_vec w = dim_vec v \\<Longrightarrow>\n  \\<langle>l \\<cdot>\\<^sub>v w|v\\<rangle> = cnj l * \\<langle>w|v\\<rangle>\n  dim_vec w = dim_vec w \\<Longrightarrow>\n  \\<langle>w|l \\<cdot>\\<^sub>v w\\<rangle> = l * \\<langle>w|w\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> =\n    complex_of_real ((cmod l)\\<^sup>2) * \\<langle>w|w\\<rangle>", "by simp"], ["proof (state)\nthis:\n  \\<langle>v|v\\<rangle> =\n  complex_of_real ((cmod l)\\<^sup>2) * \\<langle>w|w\\<rangle>\n\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 =\n    Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "ultimately"], ["proof (chain)\npicking this:\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) =\n  complex_of_real ((cmod l)\\<^sup>2) * \\<langle>w|w\\<rangle> *\n  \\<langle>w|w\\<rangle>\n  \\<langle>v|v\\<rangle> =\n  complex_of_real ((cmod l)\\<^sup>2) * \\<langle>w|w\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) =\n  complex_of_real ((cmod l)\\<^sup>2) * \\<langle>w|w\\<rangle> *\n  \\<langle>w|w\\<rangle>\n  \\<langle>v|v\\<rangle> =\n  complex_of_real ((cmod l)\\<^sup>2) * \\<langle>w|w\\<rangle>\n\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 =\n    Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "by (metis Re_complex_of_real)"], ["proof (state)\nthis:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 =\n  Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma cauchy_schwarz_col [simp]:\n  assumes \"dim_vec v = dim_vec w\" and \"(cmod(\\<langle>v|w\\<rangle>))\\<^sup>2 = Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\"\n  shows \"\\<exists>l. v = (l \\<cdot>\\<^sub>v w) \\<or> w = (l \\<cdot>\\<^sub>v v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "proof (cases \"\\<langle>v|v\\<rangle> = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<langle>v|v\\<rangle> = 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v\n 2. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "case c0:True"], ["proof (state)\nthis:\n  \\<langle>v|v\\<rangle> = 0\n\ngoal (2 subgoals):\n 1. \\<langle>v|v\\<rangle> = 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v\n 2. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "then"], ["proof (chain)\npicking this:\n  \\<langle>v|v\\<rangle> = 0", "have \"\\<And>i. i < dim_vec v \\<Longrightarrow> v $ i = 0\""], ["proof (prove)\nusing this:\n  \\<langle>v|v\\<rangle> = 0\n\ngoal (1 subgoal):\n 1. \\<And>i. i < dim_vec v \\<Longrightarrow> v $ i = 0", "by(metis index_zero_vec(1) inner_prod_with_itself_nonneg_reals_non0)"], ["proof (state)\nthis:\n  ?i < dim_vec v \\<Longrightarrow> v $ ?i = 0\n\ngoal (2 subgoals):\n 1. \\<langle>v|v\\<rangle> = 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v\n 2. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "then"], ["proof (chain)\npicking this:\n  ?i < dim_vec v \\<Longrightarrow> v $ ?i = 0", "have \"v = 0 \\<cdot>\\<^sub>v w\""], ["proof (prove)\nusing this:\n  ?i < dim_vec v \\<Longrightarrow> v $ ?i = 0\n\ngoal (1 subgoal):\n 1. v = 0 \\<cdot>\\<^sub>v w", "by (auto simp: assms)"], ["proof (state)\nthis:\n  v = 0 \\<cdot>\\<^sub>v w\n\ngoal (2 subgoals):\n 1. \\<langle>v|v\\<rangle> = 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v\n 2. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "then"], ["proof (chain)\npicking this:\n  v = 0 \\<cdot>\\<^sub>v w", "show ?thesis"], ["proof (prove)\nusing this:\n  v = 0 \\<cdot>\\<^sub>v w\n\ngoal (1 subgoal):\n 1. \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "by auto"], ["proof (state)\nthis:\n  \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "case c1:False"], ["proof (state)\nthis:\n  \\<langle>v|v\\<rangle> \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "have f0:\"dim_vec w = dim_vec (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_vec w =\n    dim_vec\n     (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v)", "by (simp add: assms(1))"], ["proof (state)\nthis:\n  dim_vec w =\n  dim_vec\n   (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "then"], ["proof (chain)\npicking this:\n  dim_vec w =\n  dim_vec\n   (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v)", "have \"\\<langle>w + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|w + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle> = \\<langle>w|w\\<rangle> + \\<langle>w|-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle> +\n\\<langle>-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|w\\<rangle> + \\<langle>-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle>\""], ["proof (prove)\nusing this:\n  dim_vec w =\n  dim_vec\n   (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v)\n\ngoal (1 subgoal):\n 1. \\<langle>w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w +\n               - \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    \\<langle>w|w\\<rangle> +\n    \\<langle>w|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> +\n    \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w\\<rangle> +\n    \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle>", "using inner_prod_expand[of \"w\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\" \"w\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\"]"], ["proof (prove)\nusing this:\n  dim_vec w =\n  dim_vec\n   (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v)\n  \\<lbrakk>dim_vec w =\n           dim_vec\n            (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v);\n   dim_vec w = dim_vec w;\n   dim_vec w =\n   dim_vec\n    (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n     v)\\<rbrakk>\n  \\<Longrightarrow> \\<langle>w +\n                             - \\<langle>v|w\\<rangle> /\n                             \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                             v|w +\n                               - \\<langle>v|w\\<rangle> /\n                               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                               v\\<rangle> =\n                    \\<langle>w|w\\<rangle> +\n                    \\<langle>w|- \\<langle>v|w\\<rangle> /\n                               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                               v\\<rangle> +\n                    \\<langle>- \\<langle>v|w\\<rangle> /\n                             \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                             v|w\\<rangle> +\n                    \\<langle>- \\<langle>v|w\\<rangle> /\n                             \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                             v|- \\<langle>v|w\\<rangle> /\n                               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n                               v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w +\n               - \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    \\<langle>w|w\\<rangle> +\n    \\<langle>w|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> +\n    \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w\\<rangle> +\n    \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle>", "by simp"], ["proof (state)\nthis:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> +\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "moreover"], ["proof (state)\nthis:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> +\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "have \"\\<langle>w|-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle> = -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>w|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>", "using assms(1) inner_prod_distrib_right[of \"w\" \"v\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>\"]"], ["proof (prove)\nusing this:\n  dim_vec v = dim_vec w\n  dim_vec w = dim_vec v \\<Longrightarrow>\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>w|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>", "by simp"], ["proof (state)\nthis:\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "moreover"], ["proof (state)\nthis:\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "have \"\\<langle>-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|w\\<rangle> = cnj(-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>) * \\<langle>v|w\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w\\<rangle> =\n    cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n    \\<langle>v|w\\<rangle>", "using assms(1) inner_prod_distrib_left[of \"v\" \"w\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>\"]"], ["proof (prove)\nusing this:\n  dim_vec v = dim_vec w\n  dim_vec v = dim_vec w \\<Longrightarrow>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|w\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w\\<rangle> =\n    cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n    \\<langle>v|w\\<rangle>", "by simp"], ["proof (state)\nthis:\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|w\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "moreover"], ["proof (state)\nthis:\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|w\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "have \"\\<langle>-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle> = cnj(-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>) * (-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>) * \\<langle>v|v\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n    (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n    \\<langle>v|v\\<rangle>", "using inner_prod_distrib_left[of \"v\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>\"]\ninner_prod_distrib_right[of \"v\" \"v\" \"-\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle>\"]"], ["proof (prove)\nusing this:\n  dim_vec v =\n  dim_vec\n   (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n    v) \\<Longrightarrow>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle>\n  dim_vec v = dim_vec v \\<Longrightarrow>\n  \\<langle>v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|- \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n    (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n    \\<langle>v|v\\<rangle>", "by simp"], ["proof (state)\nthis:\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "ultimately"], ["proof (chain)\npicking this:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> +\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle>\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|w\\<rangle>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|v\\<rangle>", "have \"\\<langle>w + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|w + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle> = \\<langle>w|w\\<rangle> -  cmod(\\<langle>v|w\\<rangle>)^2 / \\<langle>v|v\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> +\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle>\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|w\\<rangle>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w +\n               - \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    \\<langle>w|w\\<rangle> -\n    complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n    \\<langle>v|v\\<rangle>", "using inner_prod_cnj[of \"w\" \"v\"] inner_prod_cnj[of \"v\" \"v\"] assms(1) complex_norm_square"], ["proof (prove)\nusing this:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> +\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> +\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle>\n  \\<langle>w|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * \\<langle>w|v\\<rangle>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|w\\<rangle>\n  \\<langle>- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  cnj (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  (- \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle>) *\n  \\<langle>v|v\\<rangle>\n  dim_vec w = dim_vec v \\<Longrightarrow>\n  \\<langle>v|w\\<rangle> = cnj \\<langle>w|v\\<rangle>\n  dim_vec v = dim_vec v \\<Longrightarrow>\n  \\<langle>v|v\\<rangle> = cnj \\<langle>v|v\\<rangle>\n  dim_vec v = dim_vec w\n  complex_of_real ((cmod ?z)\\<^sup>2) = ?z * cnj ?z\n\ngoal (1 subgoal):\n 1. \\<langle>w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w +\n               - \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    \\<langle>w|w\\<rangle> -\n    complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n    \\<langle>v|v\\<rangle>", "by simp"], ["proof (state)\nthis:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> -\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n  \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "moreover"], ["proof (state)\nthis:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> -\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n  \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "have \"\\<langle>w|w\\<rangle> = cmod(\\<langle>v|w\\<rangle>)^2 / \\<langle>v|v\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>w|w\\<rangle> =\n    complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n    \\<langle>v|v\\<rangle>", "using assms(2) inner_prod_with_itself_real"], ["proof (prove)\nusing this:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 =\n  Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\n  \\<langle>?u|?u\\<rangle> \\<in> \\<real>\n\ngoal (1 subgoal):\n 1. \\<langle>w|w\\<rangle> =\n    complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n    \\<langle>v|v\\<rangle>", "by(metis Reals_mult c1 nonzero_mult_div_cancel_left of_real_Re)"], ["proof (state)\nthis:\n  \\<langle>w|w\\<rangle> =\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n  \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "ultimately"], ["proof (chain)\npicking this:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> -\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n  \\<langle>v|v\\<rangle>\n  \\<langle>w|w\\<rangle> =\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n  \\<langle>v|v\\<rangle>", "have \"\\<langle>w + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v|w + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\\<rangle> = 0\""], ["proof (prove)\nusing this:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  \\<langle>w|w\\<rangle> -\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n  \\<langle>v|v\\<rangle>\n  \\<langle>w|w\\<rangle> =\n  complex_of_real ((cmod \\<langle>v|w\\<rangle>)\\<^sup>2) /\n  \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v|w +\n               - \\<langle>v|w\\<rangle> /\n               \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n               v\\<rangle> =\n    0", "by simp"], ["proof (state)\nthis:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  0\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "then"], ["proof (chain)\npicking this:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  0", "have \"\\<And>i. i<dim_vec w \\<Longrightarrow> (w + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v) $ i = 0\""], ["proof (prove)\nusing this:\n  \\<langle>w +\n           - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n           v|w +\n             - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v\n             v\\<rangle> =\n  0\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < dim_vec w \\<Longrightarrow>\n       (w +\n        - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v) $\n       i =\n       0", "by (metis f0 index_add_vec(2) index_zero_vec(1) inner_prod_with_itself_nonneg_reals_non0)"], ["proof (state)\nthis:\n  ?i < dim_vec w \\<Longrightarrow>\n  (w + - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v) $\n  ?i =\n  0\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "then"], ["proof (chain)\npicking this:\n  ?i < dim_vec w \\<Longrightarrow>\n  (w + - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v) $\n  ?i =\n  0", "have \"\\<And>i. i<dim_vec w \\<Longrightarrow> w $ i + -\\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> * v $ i = 0\""], ["proof (prove)\nusing this:\n  ?i < dim_vec w \\<Longrightarrow>\n  (w + - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v) $\n  ?i =\n  0\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < dim_vec w \\<Longrightarrow>\n       w $ i + - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * v $ i = 0", "by (metis assms(1) f0 index_add_vec(1) index_smult_vec(1))"], ["proof (state)\nthis:\n  ?i < dim_vec w \\<Longrightarrow>\n  w $ ?i + - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * v $ ?i = 0\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "then"], ["proof (chain)\npicking this:\n  ?i < dim_vec w \\<Longrightarrow>\n  w $ ?i + - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * v $ ?i = 0", "have \"\\<And>i. i<dim_vec w \\<Longrightarrow> w $ i = \\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> * v $ i\""], ["proof (prove)\nusing this:\n  ?i < dim_vec w \\<Longrightarrow>\n  w $ ?i + - \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * v $ ?i = 0\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < dim_vec w \\<Longrightarrow>\n       w $ i = \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * v $ i", "by simp"], ["proof (state)\nthis:\n  ?i < dim_vec w \\<Longrightarrow>\n  w $ ?i = \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * v $ ?i\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "then"], ["proof (chain)\npicking this:\n  ?i < dim_vec w \\<Longrightarrow>\n  w $ ?i = \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * v $ ?i", "have \"w = \\<langle>v|w\\<rangle>/\\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\""], ["proof (prove)\nusing this:\n  ?i < dim_vec w \\<Longrightarrow>\n  w $ ?i = \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> * v $ ?i\n\ngoal (1 subgoal):\n 1. w = \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v", "by (auto simp add: assms(1))"], ["proof (state)\nthis:\n  w = \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\n\ngoal (1 subgoal):\n 1. \\<langle>v|v\\<rangle> \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "thus ?thesis"], ["proof (prove)\nusing this:\n  w = \\<langle>v|w\\<rangle> / \\<langle>v|v\\<rangle> \\<cdot>\\<^sub>v v\n\ngoal (1 subgoal):\n 1. \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "by auto"], ["proof (state)\nthis:\n  \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>The No-Cloning Theorem\\<close>"], ["", "lemma eq_from_inner_prod [simp]:\n  assumes \"dim_vec v = dim_vec w\" and \"\\<langle>v|w\\<rangle> = 1\" and \"\\<langle>v|v\\<rangle> = 1\" and \"\\<langle>w|w\\<rangle> = 1\"\n  shows \"v = w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = w", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. v = w", "have \"(cmod(\\<langle>v|w\\<rangle>))\\<^sup>2 = Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 =\n    Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "by (simp add: assms)"], ["proof (state)\nthis:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 =\n  Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\n\ngoal (1 subgoal):\n 1. v = w", "then"], ["proof (chain)\npicking this:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 =\n  Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)", "have f0:\"\\<exists>l. v = (l \\<cdot>\\<^sub>v w) \\<or> w = (l \\<cdot>\\<^sub>v v)\""], ["proof (prove)\nusing this:\n  (cmod \\<langle>v|w\\<rangle>)\\<^sup>2 =\n  Re (\\<langle>v|v\\<rangle> * \\<langle>w|w\\<rangle>)\n\ngoal (1 subgoal):\n 1. \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "by (simp add: assms(1))"], ["proof (state)\nthis:\n  \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v\n\ngoal (1 subgoal):\n 1. v = w", "then"], ["proof (chain)\npicking this:\n  \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v\n\ngoal (1 subgoal):\n 1. v = w", "proof (cases \"\\<exists>l. v = (l \\<cdot>\\<^sub>v w)\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<exists>l.\n                v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v;\n     \\<exists>l. v = l \\<cdot>\\<^sub>v w\\<rbrakk>\n    \\<Longrightarrow> v = w\n 2. \\<lbrakk>\\<exists>l.\n                v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v;\n     \\<nexists>l. v = l \\<cdot>\\<^sub>v w\\<rbrakk>\n    \\<Longrightarrow> v = w", "case True"], ["proof (state)\nthis:\n  \\<exists>l. v = l \\<cdot>\\<^sub>v w\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<exists>l.\n                v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v;\n     \\<exists>l. v = l \\<cdot>\\<^sub>v w\\<rbrakk>\n    \\<Longrightarrow> v = w\n 2. \\<lbrakk>\\<exists>l.\n                v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v;\n     \\<nexists>l. v = l \\<cdot>\\<^sub>v w\\<rbrakk>\n    \\<Longrightarrow> v = w", "then"], ["proof (chain)\npicking this:\n  \\<exists>l. v = l \\<cdot>\\<^sub>v w", "have \"\\<exists>l. v = (l \\<cdot>\\<^sub>v w) \\<and> \\<langle>v|w\\<rangle> = cnj(l) * \\<langle>w|w\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<exists>l. v = l \\<cdot>\\<^sub>v w\n\ngoal (1 subgoal):\n 1. \\<exists>l.\n       v = l \\<cdot>\\<^sub>v w \\<and>\n       \\<langle>v|w\\<rangle> = cnj l * \\<langle>w|w\\<rangle>", "using inner_prod_distrib_left"], ["proof (prove)\nusing this:\n  \\<exists>l. v = l \\<cdot>\\<^sub>v w\n  dim_vec ?a = dim_vec ?b \\<Longrightarrow>\n  \\<langle>?c \\<cdot>\\<^sub>v ?a|?b\\<rangle> =\n  cnj ?c * \\<langle>?a|?b\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<exists>l.\n       v = l \\<cdot>\\<^sub>v w \\<and>\n       \\<langle>v|w\\<rangle> = cnj l * \\<langle>w|w\\<rangle>", "by auto"], ["proof (state)\nthis:\n  \\<exists>l.\n     v = l \\<cdot>\\<^sub>v w \\<and>\n     \\<langle>v|w\\<rangle> = cnj l * \\<langle>w|w\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<exists>l.\n                v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v;\n     \\<exists>l. v = l \\<cdot>\\<^sub>v w\\<rbrakk>\n    \\<Longrightarrow> v = w\n 2. \\<lbrakk>\\<exists>l.\n                v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v;\n     \\<nexists>l. v = l \\<cdot>\\<^sub>v w\\<rbrakk>\n    \\<Longrightarrow> v = w", "then"], ["proof (chain)\npicking this:\n  \\<exists>l.\n     v = l \\<cdot>\\<^sub>v w \\<and>\n     \\<langle>v|w\\<rangle> = cnj l * \\<langle>w|w\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>l.\n     v = l \\<cdot>\\<^sub>v w \\<and>\n     \\<langle>v|w\\<rangle> = cnj l * \\<langle>w|w\\<rangle>\n\ngoal (1 subgoal):\n 1. v = w", "by (simp add: assms(2,4))"], ["proof (state)\nthis:\n  v = w\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>l.\n                v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v;\n     \\<nexists>l. v = l \\<cdot>\\<^sub>v w\\<rbrakk>\n    \\<Longrightarrow> v = w", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>l.\n                v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v;\n     \\<nexists>l. v = l \\<cdot>\\<^sub>v w\\<rbrakk>\n    \\<Longrightarrow> v = w", "case False"], ["proof (state)\nthis:\n  \\<nexists>l. v = l \\<cdot>\\<^sub>v w\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>l.\n                v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v;\n     \\<nexists>l. v = l \\<cdot>\\<^sub>v w\\<rbrakk>\n    \\<Longrightarrow> v = w", "then"], ["proof (chain)\npicking this:\n  \\<nexists>l. v = l \\<cdot>\\<^sub>v w", "have \"\\<exists>l. w = (l \\<cdot>\\<^sub>v v) \\<and> \\<langle>v|w\\<rangle> = l * \\<langle>v|v\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<nexists>l. v = l \\<cdot>\\<^sub>v w\n\ngoal (1 subgoal):\n 1. \\<exists>l.\n       w = l \\<cdot>\\<^sub>v v \\<and>\n       \\<langle>v|w\\<rangle> = l * \\<langle>v|v\\<rangle>", "using f0 inner_prod_distrib_right"], ["proof (prove)\nusing this:\n  \\<nexists>l. v = l \\<cdot>\\<^sub>v w\n  \\<exists>l. v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v\n  dim_vec ?a = dim_vec ?b \\<Longrightarrow>\n  \\<langle>?a|?c \\<cdot>\\<^sub>v ?b\\<rangle> = ?c * \\<langle>?a|?b\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<exists>l.\n       w = l \\<cdot>\\<^sub>v v \\<and>\n       \\<langle>v|w\\<rangle> = l * \\<langle>v|v\\<rangle>", "by auto"], ["proof (state)\nthis:\n  \\<exists>l.\n     w = l \\<cdot>\\<^sub>v v \\<and>\n     \\<langle>v|w\\<rangle> = l * \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>l.\n                v = l \\<cdot>\\<^sub>v w \\<or> w = l \\<cdot>\\<^sub>v v;\n     \\<nexists>l. v = l \\<cdot>\\<^sub>v w\\<rbrakk>\n    \\<Longrightarrow> v = w", "then"], ["proof (chain)\npicking this:\n  \\<exists>l.\n     w = l \\<cdot>\\<^sub>v v \\<and>\n     \\<langle>v|w\\<rangle> = l * \\<langle>v|v\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>l.\n     w = l \\<cdot>\\<^sub>v v \\<and>\n     \\<langle>v|w\\<rangle> = l * \\<langle>v|v\\<rangle>\n\ngoal (1 subgoal):\n 1. v = w", "by (simp add: assms(2,3))"], ["proof (state)\nthis:\n  v = w\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = w\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma hermite_cnj_of_tensor:\n  shows \"(A \\<Otimes> B)\\<^sup>\\<dagger>  = (A\\<^sup>\\<dagger>) \\<Otimes> (B\\<^sup>\\<dagger>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<Otimes> B\\<^sup>\\<dagger> =\n    A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)\n 2. dim_row A \\<Otimes> B\\<^sup>\\<dagger> =\n    dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\n 3. dim_col A \\<Otimes> B\\<^sup>\\<dagger> =\n    dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)", "show c0:\"dim_row ((A \\<Otimes> B)\\<^sup>\\<dagger>) = dim_row ((A\\<^sup>\\<dagger>) \\<Otimes> (B\\<^sup>\\<dagger>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row A \\<Otimes> B\\<^sup>\\<dagger> =\n    dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)", "by simp"], ["proof (state)\nthis:\n  dim_row A \\<Otimes> B\\<^sup>\\<dagger> =\n  dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\n\ngoal (2 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)\n 2. dim_col A \\<Otimes> B\\<^sup>\\<dagger> =\n    dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)", "show c1:\"dim_col ((A \\<Otimes> B)\\<^sup>\\<dagger>) = dim_col ((A\\<^sup>\\<dagger>) \\<Otimes> (B\\<^sup>\\<dagger>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col A \\<Otimes> B\\<^sup>\\<dagger> =\n    dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)", "by simp"], ["proof (state)\nthis:\n  dim_col A \\<Otimes> B\\<^sup>\\<dagger> =\n  dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "show \"\\<And>i j. i < dim_row ((A\\<^sup>\\<dagger>) \\<Otimes> (B\\<^sup>\\<dagger>)) \\<Longrightarrow> j < dim_col ((A\\<^sup>\\<dagger>) \\<Otimes> (B\\<^sup>\\<dagger>)) \\<Longrightarrow>\n((A \\<Otimes> B)\\<^sup>\\<dagger>) $$ (i, j) = ((A\\<^sup>\\<dagger>) \\<Otimes> (B\\<^sup>\\<dagger>)) $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "assume a0:\"i < dim_row ((A\\<^sup>\\<dagger>) \\<Otimes> (B\\<^sup>\\<dagger>))\" and a1:\"j < dim_col ((A\\<^sup>\\<dagger>) \\<Otimes> (B\\<^sup>\\<dagger>))\""], ["proof (state)\nthis:\n  i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\n  j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "then"], ["proof (chain)\npicking this:\n  i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\n  j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)", "have \"(A \\<Otimes> B)\\<^sup>\\<dagger> $$ (i, j) = cnj((A \\<Otimes> B) $$ (j, i))\""], ["proof (prove)\nusing this:\n  i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\n  j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\n\ngoal (1 subgoal):\n 1. A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n    cnj ((A \\<Otimes> B) $$ (j, i))", "by (simp add: dagger_def)"], ["proof (state)\nthis:\n  A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) = cnj ((A \\<Otimes> B) $$ (j, i))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "also"], ["proof (state)\nthis:\n  A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) = cnj ((A \\<Otimes> B) $$ (j, i))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "have \"\\<dots> = cnj(A $$ (j div dim_row(B), i div dim_col(B)) * B $$ (j mod dim_row(B), i mod dim_col(B)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cnj ((A \\<Otimes> B) $$ (j, i)) =\n    cnj (A $$ (j div dim_row B, i div dim_col B) *\n         B $$ (j mod dim_row B, i mod dim_col B))", "by (metis (mono_tags, lifting) a0 a1 c1 dim_row_tensor_mat dim_col_of_dagger dim_row_of_dagger\nindex_tensor_mat less_nat_zero_code mult_not_zero neq0_conv)"], ["proof (state)\nthis:\n  cnj ((A \\<Otimes> B) $$ (j, i)) =\n  cnj (A $$ (j div dim_row B, i div dim_col B) *\n       B $$ (j mod dim_row B, i mod dim_col B))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "moreover"], ["proof (state)\nthis:\n  cnj ((A \\<Otimes> B) $$ (j, i)) =\n  cnj (A $$ (j div dim_row B, i div dim_col B) *\n       B $$ (j mod dim_row B, i mod dim_col B))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "have \"((A\\<^sup>\\<dagger>) \\<Otimes> (B\\<^sup>\\<dagger>)) $$ (i, j) =\n(A\\<^sup>\\<dagger>) $$ (i div dim_col(B), j div dim_row(B)) * (B\\<^sup>\\<dagger>) $$ (i mod dim_col(B), j mod dim_row(B))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$ (i, j) =\n    A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) *\n    B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B)", "by (smt a0 a1 c1 dim_row_tensor_mat dim_col_of_dagger dim_row_of_dagger index_tensor_mat\nless_nat_zero_code mult_eq_0_iff neq0_conv)"], ["proof (state)\nthis:\n  (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$ (i, j) =\n  A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) *\n  B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "moreover"], ["proof (state)\nthis:\n  (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$ (i, j) =\n  A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) *\n  B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "have \"(B\\<^sup>\\<dagger>) $$ (i mod dim_col(B), j mod dim_row(B)) = cnj(B $$ (j mod dim_row(B), i mod dim_col(B)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B) =\n    cnj (B $$ (j mod dim_row B, i mod dim_col B))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B) =\n    cnj (B $$ (j mod dim_row B, i mod dim_col B))", "have \"i mod dim_col(B) < dim_col(B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i mod dim_col B < dim_col B", "using a0 gr_implies_not_zero mod_div_trivial"], ["proof (prove)\nusing this:\n  i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\n  ?m < ?n \\<Longrightarrow> ?n \\<noteq> (0::?'a)\n  ?a mod ?b div ?b = (0::?'a)\n\ngoal (1 subgoal):\n 1. i mod dim_col B < dim_col B", "by fastforce"], ["proof (state)\nthis:\n  i mod dim_col B < dim_col B\n\ngoal (1 subgoal):\n 1. B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B) =\n    cnj (B $$ (j mod dim_row B, i mod dim_col B))", "moreover"], ["proof (state)\nthis:\n  i mod dim_col B < dim_col B\n\ngoal (1 subgoal):\n 1. B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B) =\n    cnj (B $$ (j mod dim_row B, i mod dim_col B))", "have \"j mod dim_row(B) < dim_row(B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j mod dim_row B < dim_row B", "using a1 gr_implies_not_zero mod_div_trivial"], ["proof (prove)\nusing this:\n  j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\n  ?m < ?n \\<Longrightarrow> ?n \\<noteq> (0::?'a)\n  ?a mod ?b div ?b = (0::?'a)\n\ngoal (1 subgoal):\n 1. j mod dim_row B < dim_row B", "by fastforce"], ["proof (state)\nthis:\n  j mod dim_row B < dim_row B\n\ngoal (1 subgoal):\n 1. B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B) =\n    cnj (B $$ (j mod dim_row B, i mod dim_col B))", "ultimately"], ["proof (chain)\npicking this:\n  i mod dim_col B < dim_col B\n  j mod dim_row B < dim_row B", "show ?thesis"], ["proof (prove)\nusing this:\n  i mod dim_col B < dim_col B\n  j mod dim_row B < dim_row B\n\ngoal (1 subgoal):\n 1. B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B) =\n    cnj (B $$ (j mod dim_row B, i mod dim_col B))", "by (simp add: dagger_def)"], ["proof (state)\nthis:\n  B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B) =\n  cnj (B $$ (j mod dim_row B, i mod dim_col B))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B) =\n  cnj (B $$ (j mod dim_row B, i mod dim_col B))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "moreover"], ["proof (state)\nthis:\n  B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B) =\n  cnj (B $$ (j mod dim_row B, i mod dim_col B))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "have \"(A\\<^sup>\\<dagger>) $$ (i div dim_col(B), j div dim_row(B)) = cnj(A $$ (j div dim_row(B), i div dim_col(B)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) =\n    cnj (A $$ (j div dim_row B, i div dim_col B))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) =\n    cnj (A $$ (j div dim_row B, i div dim_col B))", "have \"i div dim_col(B) < dim_col(A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i div dim_col B < dim_col A", "using a0 dagger_def"], ["proof (prove)\nusing this:\n  i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\n  ?M\\<^sup>\\<dagger> \\<equiv>\n  Matrix.mat (dim_col ?M) (dim_row ?M) (\\<lambda>(i, j). cnj (?M $$ (j, i)))\n\ngoal (1 subgoal):\n 1. i div dim_col B < dim_col A", "by (simp add: less_mult_imp_div_less)"], ["proof (state)\nthis:\n  i div dim_col B < dim_col A\n\ngoal (1 subgoal):\n 1. A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) =\n    cnj (A $$ (j div dim_row B, i div dim_col B))", "moreover"], ["proof (state)\nthis:\n  i div dim_col B < dim_col A\n\ngoal (1 subgoal):\n 1. A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) =\n    cnj (A $$ (j div dim_row B, i div dim_col B))", "have \"j div dim_row(B) < dim_row(A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j div dim_row B < dim_row A", "using a1 dagger_def"], ["proof (prove)\nusing this:\n  j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\n  ?M\\<^sup>\\<dagger> \\<equiv>\n  Matrix.mat (dim_col ?M) (dim_row ?M) (\\<lambda>(i, j). cnj (?M $$ (j, i)))\n\ngoal (1 subgoal):\n 1. j div dim_row B < dim_row A", "by (simp add: less_mult_imp_div_less)"], ["proof (state)\nthis:\n  j div dim_row B < dim_row A\n\ngoal (1 subgoal):\n 1. A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) =\n    cnj (A $$ (j div dim_row B, i div dim_col B))", "ultimately"], ["proof (chain)\npicking this:\n  i div dim_col B < dim_col A\n  j div dim_row B < dim_row A", "show ?thesis"], ["proof (prove)\nusing this:\n  i div dim_col B < dim_col A\n  j div dim_row B < dim_row A\n\ngoal (1 subgoal):\n 1. A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) =\n    cnj (A $$ (j div dim_row B, i div dim_col B))", "by (simp add: dagger_def)"], ["proof (state)\nthis:\n  A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) =\n  cnj (A $$ (j div dim_row B, i div dim_col B))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) =\n  cnj (A $$ (j div dim_row B, i div dim_col B))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n        j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n       \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n                         (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                         (i, j)", "ultimately"], ["proof (chain)\npicking this:\n  A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) = cnj ((A \\<Otimes> B) $$ (j, i))\n  cnj ((A \\<Otimes> B) $$ (j, i)) =\n  cnj (A $$ (j div dim_row B, i div dim_col B) *\n       B $$ (j mod dim_row B, i mod dim_col B))\n  (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$ (i, j) =\n  A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) *\n  B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B)\n  B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B) =\n  cnj (B $$ (j mod dim_row B, i mod dim_col B))\n  A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) =\n  cnj (A $$ (j div dim_row B, i div dim_col B))", "show \"((A \\<Otimes> B)\\<^sup>\\<dagger>) $$ (i, j) = ((A\\<^sup>\\<dagger>) \\<Otimes> (B\\<^sup>\\<dagger>)) $$ (i, j)\""], ["proof (prove)\nusing this:\n  A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) = cnj ((A \\<Otimes> B) $$ (j, i))\n  cnj ((A \\<Otimes> B) $$ (j, i)) =\n  cnj (A $$ (j div dim_row B, i div dim_col B) *\n       B $$ (j mod dim_row B, i mod dim_col B))\n  (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$ (i, j) =\n  A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) *\n  B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B)\n  B\\<^sup>\\<dagger> $$ (i mod dim_col B, j mod dim_row B) =\n  cnj (B $$ (j mod dim_row B, i mod dim_col B))\n  A\\<^sup>\\<dagger> $$ (i div dim_col B, j div dim_row B) =\n  cnj (A $$ (j div dim_row B, i div dim_col B))\n\ngoal (1 subgoal):\n 1. A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n    (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$ (i, j)", "by simp"], ["proof (state)\nthis:\n  A \\<Otimes> B\\<^sup>\\<dagger> $$ (i, j) =\n  (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?i < dim_row (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>);\n   ?j < dim_col (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>)\\<rbrakk>\n  \\<Longrightarrow> A \\<Otimes> B\\<^sup>\\<dagger> $$ (?i, ?j) =\n                    (A\\<^sup>\\<dagger> \\<Otimes> B\\<^sup>\\<dagger>) $$\n                    (?i, ?j)\n\ngoal:\nNo subgoals!", "qed"], ["", "locale quantum_machine =\n  fixes n:: nat and s:: \"complex Matrix.vec\" and U:: \"complex Matrix.mat\"\n  assumes dim_vec [simp]: \"dim_vec s = 2^n\"\n    and dim_col [simp]: \"dim_col U = 2^n * 2^n\"\n    and square [simp]: \"square_mat U\" and unitary [simp]: \"unitary U\""], ["", "lemma inner_prod_of_unit_vec:\n  fixes n i:: nat\n  assumes \"i < n\"\n  shows \"\\<langle>unit_vec n i| unit_vec n i\\<rangle> = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>unit_vec n i|unit_vec n i\\<rangle> = 1", "by (auto simp add: inner_prod_def unit_vec_def)\n    (simp add: assms sum.cong[of \"{0..<n}\" \"{0..<n}\"\n        \"\\<lambda>j. cnj (if j = i then 1 else 0) * (if j = i then 1 else 0)\" \"\\<lambda>j. (if j = i then 1 else 0)\"])"], ["", "theorem (in quantum_machine) no_cloning:\n  assumes [simp]: \"dim_vec v = 2^n\" and [simp]: \"dim_vec w = 2^n\" and\n    cloning1: \"\\<And>s. U * ( |v\\<rangle> \\<Otimes> |s\\<rangle>) = |v\\<rangle> \\<Otimes> |v\\<rangle>\" and\n    cloning2: \"\\<And>s. U * ( |w\\<rangle> \\<Otimes> |s\\<rangle>) = |w\\<rangle> \\<Otimes> |w\\<rangle>\" and\n    \"\\<langle>v|v\\<rangle> = 1\" and \"\\<langle>w|w\\<rangle> = 1\"\n  shows \"v = w \\<or> \\<langle>v|w\\<rangle> = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = w \\<or> \\<langle>v|w\\<rangle> = 0", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. v = w \\<or> \\<langle>v|w\\<rangle> = 0", "define s:: \"complex Matrix.vec\" where d0:\"s = unit_vec (2^n) 0\""], ["proof (state)\nthis:\n  s = unit_vec (2 ^ n) 0\n\ngoal (1 subgoal):\n 1. v = w \\<or> \\<langle>v|w\\<rangle> = 0", "have f0:\"\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| = (( |v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| =\n    |v\\<rangle> \\<Otimes> |s\\<rangle>\\<^sup>\\<dagger>", "using hermite_cnj_of_tensor[of \"|v\\<rangle>\" \"|s\\<rangle>\"] bra_def dagger_def ket_vec_def"], ["proof (prove)\nusing this:\n  |v\\<rangle> \\<Otimes> |s\\<rangle>\\<^sup>\\<dagger> =\n  |v\\<rangle>\\<^sup>\\<dagger> \\<Otimes> |s\\<rangle>\\<^sup>\\<dagger>\n  \\<langle>?v| \\<equiv>\n  Matrix.mat 1 (dim_row ?v) (\\<lambda>(i, j). cnj (?v $$ (j, i)))\n  ?M\\<^sup>\\<dagger> \\<equiv>\n  Matrix.mat (dim_col ?M) (dim_row ?M) (\\<lambda>(i, j). cnj (?M $$ (j, i)))\n  |?v\\<rangle> \\<equiv> Matrix.mat (dim_vec ?v) 1 (\\<lambda>(i, j). ?v $ i)\n\ngoal (1 subgoal):\n 1. \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| =\n    |v\\<rangle> \\<Otimes> |s\\<rangle>\\<^sup>\\<dagger>", "by simp"], ["proof (state)\nthis:\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| =\n  |v\\<rangle> \\<Otimes> |s\\<rangle>\\<^sup>\\<dagger>\n\ngoal (1 subgoal):\n 1. v = w \\<or> \\<langle>v|w\\<rangle> = 0", "moreover"], ["proof (state)\nthis:\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| =\n  |v\\<rangle> \\<Otimes> |s\\<rangle>\\<^sup>\\<dagger>\n\ngoal (1 subgoal):\n 1. v = w \\<or> \\<langle>v|w\\<rangle> = 0", "have f1:\"( |v\\<rangle> \\<Otimes> |v\\<rangle>)\\<^sup>\\<dagger> * ( |w\\<rangle> \\<Otimes> |w\\<rangle>) = (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| ) * ( |w\\<rangle> \\<Otimes> |s\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "have \"(U * ( |v\\<rangle> \\<Otimes> |s\\<rangle>))\\<^sup>\\<dagger> = (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| ) * (U\\<^sup>\\<dagger>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    U\\<^sup>\\<dagger>", "using dagger_of_prod[of \"U\" \"|v\\<rangle> \\<Otimes> |s\\<rangle>\"] f0 d0"], ["proof (prove)\nusing this:\n  dim_col U = dim_row (|v\\<rangle> \\<Otimes> |s\\<rangle>) \\<Longrightarrow>\n  U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> =\n  |v\\<rangle> \\<Otimes> |s\\<rangle>\\<^sup>\\<dagger> * U\\<^sup>\\<dagger>\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| =\n  |v\\<rangle> \\<Otimes> |s\\<rangle>\\<^sup>\\<dagger>\n  s = unit_vec (2 ^ n) 0\n\ngoal (1 subgoal):\n 1. U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    U\\<^sup>\\<dagger>", "by (simp add: ket_vec_def)"], ["proof (state)\nthis:\n  U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  U\\<^sup>\\<dagger>\n\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "then"], ["proof (chain)\npicking this:\n  U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  U\\<^sup>\\<dagger>", "have \"(U * ( |v\\<rangle> \\<Otimes> |s\\<rangle>))\\<^sup>\\<dagger> * U * ( |w\\<rangle> \\<Otimes> |s\\<rangle>) = (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| ) * (U\\<^sup>\\<dagger>) * U * ( |w\\<rangle> \\<Otimes> |s\\<rangle>)\""], ["proof (prove)\nusing this:\n  U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  U\\<^sup>\\<dagger>\n\ngoal (1 subgoal):\n 1. U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> * U *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    U\\<^sup>\\<dagger> *\n    U *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "by simp"], ["proof (state)\nthis:\n  U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> * U *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>) =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  U\\<^sup>\\<dagger> *\n  U *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>)\n\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> * U *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>) =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  U\\<^sup>\\<dagger> *\n  U *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>)\n\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "have \"(U * ( |v\\<rangle> \\<Otimes> |s\\<rangle>))\\<^sup>\\<dagger> * U * ( |w\\<rangle> \\<Otimes> |s\\<rangle>) = (( |v\\<rangle> \\<Otimes> |v\\<rangle>)\\<^sup>\\<dagger>) * ( |w\\<rangle> \\<Otimes> |w\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> * U *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>) =\n    |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>)", "using assms(2-4) d0 unit_vec_def"], ["proof (prove)\nusing this:\n  dim_vec w = 2 ^ n\n  U * (|v\\<rangle> \\<Otimes> |?s\\<rangle>) =\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\n  U * (|w\\<rangle> \\<Otimes> |?s\\<rangle>) =\n  |w\\<rangle> \\<Otimes> |w\\<rangle>\n  s = unit_vec (2 ^ n) 0\n  unit_vec ?n ?i =\n  Matrix.vec ?n (\\<lambda>j. if j = ?i then 1::?'a else (0::?'a))\n\ngoal (1 subgoal):\n 1. U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> * U *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>) =\n    |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>)", "by (smt Matrix.dim_vec assoc_mult_mat carrier_mat_triv dim_row_mat(1)\ndim_row_tensor_mat dim_col_of_dagger index_mult_mat(2) ket_vec_def square square_mat.elims(2))"], ["proof (state)\nthis:\n  U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> * U *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>) =\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n  (|w\\<rangle> \\<Otimes> |w\\<rangle>)\n\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> * U *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>) =\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n  (|w\\<rangle> \\<Otimes> |w\\<rangle>)\n\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "have \"(U\\<^sup>\\<dagger>) * U = 1\\<^sub>m (2^n * 2^n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U\\<^sup>\\<dagger> * U = 1\\<^sub>m (2 ^ n * 2 ^ n)", "using unitary_def dim_col unitary"], ["proof (prove)\nusing this:\n  unitary ?M \\<equiv>\n  ?M\\<^sup>\\<dagger> * ?M = 1\\<^sub>m (dim_col ?M) \\<and>\n  ?M * ?M\\<^sup>\\<dagger> = 1\\<^sub>m (dim_row ?M)\n  dim_col U = 2 ^ n * 2 ^ n\n  unitary U\n\ngoal (1 subgoal):\n 1. U\\<^sup>\\<dagger> * U = 1\\<^sub>m (2 ^ n * 2 ^ n)", "by simp"], ["proof (state)\nthis:\n  U\\<^sup>\\<dagger> * U = 1\\<^sub>m (2 ^ n * 2 ^ n)\n\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  U\\<^sup>\\<dagger> * U = 1\\<^sub>m (2 ^ n * 2 ^ n)\n\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "have \"(\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| ) * (U\\<^sup>\\<dagger>) * U = (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| ) * ((U\\<^sup>\\<dagger>) * U)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    U\\<^sup>\\<dagger> *\n    U =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (U\\<^sup>\\<dagger> * U)", "using d0 assms(1) unit_vec_def"], ["proof (prove)\nusing this:\n  s = unit_vec (2 ^ n) 0\n  dim_vec v = 2 ^ n\n  unit_vec ?n ?i =\n  Matrix.vec ?n (\\<lambda>j. if j = ?i then 1::?'a else (0::?'a))\n\ngoal (1 subgoal):\n 1. (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    U\\<^sup>\\<dagger> *\n    U =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (U\\<^sup>\\<dagger> * U)", "by (smt Matrix.dim_vec assoc_mult_mat carrier_mat_triv dim_row_mat(1)\ndim_row_tensor_mat f0 dim_col_of_dagger dim_row_of_dagger ket_vec_def local.dim_col)"], ["proof (state)\nthis:\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  U\\<^sup>\\<dagger> *\n  U =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  (U\\<^sup>\\<dagger> * U)\n\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  U\\<^sup>\\<dagger> *\n  U =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  (U\\<^sup>\\<dagger> * U)\n\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "have \"(\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| ) * 1\\<^sub>m (2^n * 2^n) = (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| )\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    1\\<^sub>m (2 ^ n * 2 ^ n) =\n    \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|", "using f0 ket_vec_def d0"], ["proof (prove)\nusing this:\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| =\n  |v\\<rangle> \\<Otimes> |s\\<rangle>\\<^sup>\\<dagger>\n  |?v\\<rangle> \\<equiv> Matrix.mat (dim_vec ?v) 1 (\\<lambda>(i, j). ?v $ i)\n  s = unit_vec (2 ^ n) 0\n\ngoal (1 subgoal):\n 1. (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    1\\<^sub>m (2 ^ n * 2 ^ n) =\n    \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|", "by simp"], ["proof (state)\nthis:\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  1\\<^sub>m (2 ^ n * 2 ^ n) =\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|\n\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "ultimately"], ["proof (chain)\npicking this:\n  U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> * U *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>) =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  U\\<^sup>\\<dagger> *\n  U *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>)\n  U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> * U *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>) =\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n  (|w\\<rangle> \\<Otimes> |w\\<rangle>)\n  U\\<^sup>\\<dagger> * U = 1\\<^sub>m (2 ^ n * 2 ^ n)\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  U\\<^sup>\\<dagger> *\n  U =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  (U\\<^sup>\\<dagger> * U)\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  1\\<^sub>m (2 ^ n * 2 ^ n) =\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|", "show ?thesis"], ["proof (prove)\nusing this:\n  U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> * U *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>) =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  U\\<^sup>\\<dagger> *\n  U *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>)\n  U * (|v\\<rangle> \\<Otimes> |s\\<rangle>)\\<^sup>\\<dagger> * U *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>) =\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n  (|w\\<rangle> \\<Otimes> |w\\<rangle>)\n  U\\<^sup>\\<dagger> * U = 1\\<^sub>m (2 ^ n * 2 ^ n)\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  U\\<^sup>\\<dagger> *\n  U =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  (U\\<^sup>\\<dagger> * U)\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  1\\<^sub>m (2 ^ n * 2 ^ n) =\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|\n\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "by simp"], ["proof (state)\nthis:\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n  (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n  (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>)\n\ngoal (1 subgoal):\n 1. v = w \\<or> \\<langle>v|w\\<rangle> = 0", "then"], ["proof (chain)\npicking this:\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n  (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>)", "have f2:\"(\\<langle>|v\\<rangle>| * |w\\<rangle>) \\<Otimes> (\\<langle>|v\\<rangle>| * |w\\<rangle>) = (\\<langle>|v\\<rangle>| * |w\\<rangle>) \\<Otimes> (\\<langle>|s\\<rangle>| * |s\\<rangle>)\""], ["proof (prove)\nusing this:\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n  (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>)\n\ngoal (1 subgoal):\n 1. \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|v\\<rangle>| * |w\\<rangle> =\n    \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|s\\<rangle>| * |s\\<rangle>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>) \\<Longrightarrow>\n    \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|v\\<rangle>| * |w\\<rangle> =\n    \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|s\\<rangle>| * |s\\<rangle>", "have \"\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|v\\<rangle>| = (( |v\\<rangle> \\<Otimes> |v\\<rangle>)\\<^sup>\\<dagger>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|v\\<rangle>| =\n    |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger>", "using hermite_cnj_of_tensor[of \"|v\\<rangle>\" \"|v\\<rangle>\"] bra_def dagger_def ket_vec_def"], ["proof (prove)\nusing this:\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> =\n  |v\\<rangle>\\<^sup>\\<dagger> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger>\n  \\<langle>?v| \\<equiv>\n  Matrix.mat 1 (dim_row ?v) (\\<lambda>(i, j). cnj (?v $$ (j, i)))\n  ?M\\<^sup>\\<dagger> \\<equiv>\n  Matrix.mat (dim_col ?M) (dim_row ?M) (\\<lambda>(i, j). cnj (?M $$ (j, i)))\n  |?v\\<rangle> \\<equiv> Matrix.mat (dim_vec ?v) 1 (\\<lambda>(i, j). ?v $ i)\n\ngoal (1 subgoal):\n 1. \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|v\\<rangle>| =\n    |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger>", "by simp"], ["proof (state)\nthis:\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|v\\<rangle>| =\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger>\n\ngoal (1 subgoal):\n 1. |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n    (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n    (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n    (|w\\<rangle> \\<Otimes> |s\\<rangle>) \\<Longrightarrow>\n    \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|v\\<rangle>| * |w\\<rangle> =\n    \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|s\\<rangle>| * |s\\<rangle>", "then"], ["proof (chain)\npicking this:\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|v\\<rangle>| =\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|v\\<rangle>| =\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger>\n\ngoal (1 subgoal):\n 1. \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|v\\<rangle>| * |w\\<rangle> =\n    \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|s\\<rangle>| * |s\\<rangle>", "using f1 d0"], ["proof (prove)\nusing this:\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|v\\<rangle>| =\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger>\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\\<^sup>\\<dagger> *\n  (|w\\<rangle> \\<Otimes> |w\\<rangle>) =\n  (\\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>|) *\n  (|w\\<rangle> \\<Otimes> |s\\<rangle>)\n  s = unit_vec (2 ^ n) 0\n\ngoal (1 subgoal):\n 1. \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|v\\<rangle>| * |w\\<rangle> =\n    \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|s\\<rangle>| * |s\\<rangle>", "by (simp add: bra_def mult_distr_tensor ket_vec_def)"], ["proof (state)\nthis:\n  \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n  \\<langle>|v\\<rangle>| * |w\\<rangle> =\n  \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n  \\<langle>|s\\<rangle>| * |s\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n  \\<langle>|v\\<rangle>| * |w\\<rangle> =\n  \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n  \\<langle>|s\\<rangle>| * |s\\<rangle>\n\ngoal (1 subgoal):\n 1. v = w \\<or> \\<langle>v|w\\<rangle> = 0", "then"], ["proof (chain)\npicking this:\n  \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n  \\<langle>|v\\<rangle>| * |w\\<rangle> =\n  \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n  \\<langle>|s\\<rangle>| * |s\\<rangle>", "have \"\\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle> = \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n  \\<langle>|v\\<rangle>| * |w\\<rangle> =\n  \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n  \\<langle>|s\\<rangle>| * |s\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle> =\n    \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|v\\<rangle>| * |w\\<rangle> =\n    \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|s\\<rangle>| * |s\\<rangle> \\<Longrightarrow>\n    \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle> =\n    \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>", "have \"((\\<langle>|v\\<rangle>| * |w\\<rangle>) \\<Otimes> (\\<langle>|v\\<rangle>| * |w\\<rangle>)) $$ (0,0) = \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n     \\<langle>|v\\<rangle>| * |w\\<rangle>) $$\n    (0, 0) =\n    \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle>", "using assms inner_prod_with_times_mat[of \"v\" \"w\"]"], ["proof (prove)\nusing this:\n  dim_vec v = 2 ^ n\n  dim_vec w = 2 ^ n\n  U * (|v\\<rangle> \\<Otimes> |?s\\<rangle>) =\n  |v\\<rangle> \\<Otimes> |v\\<rangle>\n  U * (|w\\<rangle> \\<Otimes> |?s\\<rangle>) =\n  |w\\<rangle> \\<Otimes> |w\\<rangle>\n  \\<langle>v|v\\<rangle> = 1\n  \\<langle>w|w\\<rangle> = 1\n  dim_vec v = dim_vec w \\<Longrightarrow>\n  \\<langle>v|w\\<rangle> = (\\<langle>|v\\<rangle>| * |w\\<rangle>) $$ (0, 0)\n\ngoal (1 subgoal):\n 1. (\\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n     \\<langle>|v\\<rangle>| * |w\\<rangle>) $$\n    (0, 0) =\n    \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle>", "by (simp add: bra_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n   \\<langle>|v\\<rangle>| * |w\\<rangle>) $$\n  (0, 0) =\n  \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|v\\<rangle>| * |w\\<rangle> =\n    \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|s\\<rangle>| * |s\\<rangle> \\<Longrightarrow>\n    \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle> =\n    \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>", "moreover"], ["proof (state)\nthis:\n  (\\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n   \\<langle>|v\\<rangle>| * |w\\<rangle>) $$\n  (0, 0) =\n  \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|v\\<rangle>| * |w\\<rangle> =\n    \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|s\\<rangle>| * |s\\<rangle> \\<Longrightarrow>\n    \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle> =\n    \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>", "have \"((\\<langle>|v\\<rangle>| * |w\\<rangle>) \\<Otimes> (\\<langle>|s\\<rangle>| * |s\\<rangle>)) $$ (0,0) = \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n     \\<langle>|s\\<rangle>| * |s\\<rangle>) $$\n    (0, 0) =\n    \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>", "using inner_prod_with_times_mat[of \"v\" \"w\"] inner_prod_with_times_mat[of \"s\" \"s\"]"], ["proof (prove)\nusing this:\n  dim_vec v = dim_vec w \\<Longrightarrow>\n  \\<langle>v|w\\<rangle> = (\\<langle>|v\\<rangle>| * |w\\<rangle>) $$ (0, 0)\n  dim_vec s = dim_vec s \\<Longrightarrow>\n  \\<langle>s|s\\<rangle> = (\\<langle>|s\\<rangle>| * |s\\<rangle>) $$ (0, 0)\n\ngoal (1 subgoal):\n 1. (\\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n     \\<langle>|s\\<rangle>| * |s\\<rangle>) $$\n    (0, 0) =\n    \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>", "by(simp add: bra_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n   \\<langle>|s\\<rangle>| * |s\\<rangle>) $$\n  (0, 0) =\n  \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|v\\<rangle>| * |w\\<rangle> =\n    \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n    \\<langle>|s\\<rangle>| * |s\\<rangle> \\<Longrightarrow>\n    \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle> =\n    \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  (\\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n   \\<langle>|v\\<rangle>| * |w\\<rangle>) $$\n  (0, 0) =\n  \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle>\n  (\\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n   \\<langle>|s\\<rangle>| * |s\\<rangle>) $$\n  (0, 0) =\n  \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n   \\<langle>|v\\<rangle>| * |w\\<rangle>) $$\n  (0, 0) =\n  \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle>\n  (\\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n   \\<langle>|s\\<rangle>| * |s\\<rangle>) $$\n  (0, 0) =\n  \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle> =\n    \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>", "using f2"], ["proof (prove)\nusing this:\n  (\\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n   \\<langle>|v\\<rangle>| * |w\\<rangle>) $$\n  (0, 0) =\n  \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle>\n  (\\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n   \\<langle>|s\\<rangle>| * |s\\<rangle>) $$\n  (0, 0) =\n  \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>\n  \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n  \\<langle>|v\\<rangle>| * |w\\<rangle> =\n  \\<langle>|v\\<rangle>| * |w\\<rangle> \\<Otimes>\n  \\<langle>|s\\<rangle>| * |s\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle> =\n    \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>", "by auto"], ["proof (state)\nthis:\n  \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle> =\n  \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle> =\n  \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>\n\ngoal (1 subgoal):\n 1. v = w \\<or> \\<langle>v|w\\<rangle> = 0", "then"], ["proof (chain)\npicking this:\n  \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle> =\n  \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>", "have \"\\<langle>v|w\\<rangle> = 0 \\<or> \\<langle>v|w\\<rangle> = \\<langle>s|s\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<langle>v|w\\<rangle> * \\<langle>v|w\\<rangle> =\n  \\<langle>v|w\\<rangle> * \\<langle>s|s\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>v|w\\<rangle> = 0 \\<or>\n    \\<langle>v|w\\<rangle> = \\<langle>s|s\\<rangle>", "by (simp add: mult_left_cancel)"], ["proof (state)\nthis:\n  \\<langle>v|w\\<rangle> = 0 \\<or>\n  \\<langle>v|w\\<rangle> = \\<langle>s|s\\<rangle>\n\ngoal (1 subgoal):\n 1. v = w \\<or> \\<langle>v|w\\<rangle> = 0", "moreover"], ["proof (state)\nthis:\n  \\<langle>v|w\\<rangle> = 0 \\<or>\n  \\<langle>v|w\\<rangle> = \\<langle>s|s\\<rangle>\n\ngoal (1 subgoal):\n 1. v = w \\<or> \\<langle>v|w\\<rangle> = 0", "have \"\\<langle>s|s\\<rangle> = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>s|s\\<rangle> = 1", "by(simp add: d0 inner_prod_of_unit_vec)"], ["proof (state)\nthis:\n  \\<langle>s|s\\<rangle> = 1\n\ngoal (1 subgoal):\n 1. v = w \\<or> \\<langle>v|w\\<rangle> = 0", "ultimately"], ["proof (chain)\npicking this:\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| =\n  |v\\<rangle> \\<Otimes> |s\\<rangle>\\<^sup>\\<dagger>\n  \\<langle>v|w\\<rangle> = 0 \\<or>\n  \\<langle>v|w\\<rangle> = \\<langle>s|s\\<rangle>\n  \\<langle>s|s\\<rangle> = 1", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| =\n  |v\\<rangle> \\<Otimes> |s\\<rangle>\\<^sup>\\<dagger>\n  \\<langle>v|w\\<rangle> = 0 \\<or>\n  \\<langle>v|w\\<rangle> = \\<langle>s|s\\<rangle>\n  \\<langle>s|s\\<rangle> = 1\n\ngoal (1 subgoal):\n 1. v = w \\<or> \\<langle>v|w\\<rangle> = 0", "using assms(1,2,5,6)"], ["proof (prove)\nusing this:\n  \\<langle>|v\\<rangle>| \\<Otimes> \\<langle>|s\\<rangle>| =\n  |v\\<rangle> \\<Otimes> |s\\<rangle>\\<^sup>\\<dagger>\n  \\<langle>v|w\\<rangle> = 0 \\<or>\n  \\<langle>v|w\\<rangle> = \\<langle>s|s\\<rangle>\n  \\<langle>s|s\\<rangle> = 1\n  dim_vec v = 2 ^ n\n  dim_vec w = 2 ^ n\n  \\<langle>v|v\\<rangle> = 1\n  \\<langle>w|w\\<rangle> = 1\n\ngoal (1 subgoal):\n 1. v = w \\<or> \\<langle>v|w\\<rangle> = 0", "by auto"], ["proof (state)\nthis:\n  v = w \\<or> \\<langle>v|w\\<rangle> = 0\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}