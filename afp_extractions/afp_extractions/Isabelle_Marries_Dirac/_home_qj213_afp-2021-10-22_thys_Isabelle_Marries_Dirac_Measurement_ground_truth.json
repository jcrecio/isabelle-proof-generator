{"file_name": "/home/qj213/afp-2021-10-22/thys/Isabelle_Marries_Dirac/Measurement.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Isabelle_Marries_Dirac", "problem_names": ["lemma select_index_union:\n  \"{k| k::nat. select_index n i k} \\<union> {k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k} = {0..<2^n::nat}\"", "lemma select_index_inter:\n  \"{k| k::nat. select_index n i k} \\<inter> {k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k} = {}\"", "lemma outcomes_sum [simp]:\n  fixes f :: \"nat \\<Rightarrow> real\"\n  shows\n  \"(\\<Sum>j\\<in>{k| k::nat. select_index n i k}. (f j)) + \n   (\\<Sum>j\\<in>{k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k}. (f j)) = \n   (\\<Sum>j\\<in>{0..<2^n::nat}. (f j))\"", "lemma\n  shows prob1_geq_zero:\"prob1 n v i \\<ge> 0\" and prob0_geq_zero:\"prob0 n v i \\<ge> 0\"", "lemma prob_sum_is_one [simp]:\n  assumes \"state n v\"\n  shows \"prob1 n v i + prob0 n v i = 1\"", "lemma\n  assumes \"state n v\"\n  shows prob1_leq_one:\"prob1 n v i \\<le> 1\" and prob0_leq_one:\"prob0 n v i \\<le> 1\"", "lemma prob0_is_prob: \n  assumes \"state n v\"\n  shows \"prob0 n v i \\<ge> 0 \\<and> prob0 n v i \\<le> 1\"", "lemma prob1_is_prob: \n  assumes \"state n v\"\n  shows \"prob1 n v i \\<ge> 0 \\<and> prob1 n v i \\<le> 1\"", "lemma post_meas0_is_state [simp]:\n  assumes \"state n v\" and \"prob0 n v i \\<noteq> 0\"\n  shows \"state n (post_meas0 n v i)\"", "lemma post_meas_1_is_state [simp]:\n  assumes \"state n v\" and \"prob1 n v i \\<noteq> 0\"\n  shows \"state n (post_meas1 n v i)\"", "lemma select_index_div_2:\n  fixes n i j::\"nat\"\n  assumes \"i < 2^(n+1)\" and \"j<n\"\n  shows \"select_index n j (i div 2) = select_index (n+1) j i\"", "lemma select_index_suc_even:\n  fixes n k i:: nat\n  assumes \"k < 2^n\" and \"select_index n i k\"\n  shows \"select_index (Suc n) i (2*k)\"", "lemma select_index_suc_odd:\n  fixes n k i:: nat\n  assumes \"k \\<le> 2^n -1\" and \"select_index n i k\"\n  shows \"select_index (Suc n) i (2*k+1)\"", "lemma aux_range:\n  fixes k:: nat\n  assumes \"k < 2^(Suc n + 1)\" and \"k \\<ge> 2\"\n  shows \"k = 2 \\<or> k = 3 \\<or> (\\<exists>l. l\\<ge>2 \\<and> l\\<le>2^(n+1)-1 \\<and> (k = 2*l \\<or> k = 2*l + 1))\"", "lemma select_index_with_1:\n  fixes n:: nat\n  assumes \"n \\<ge> 1\"\n  shows \"\\<forall>k. k < 2^(n+1) \\<longrightarrow> k \\<ge> 2 \\<longrightarrow> (\\<exists>i<n. select_index (n+1) i k)\"", "lemma prob0_fst_qubits_index:\n  fixes n:: nat and v:: \"complex Matrix.mat\"\n  shows \"{k| k::nat. (k<2^(n+1)) \\<and> (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n+1) i k)} = {0,1}\"", "lemma prob0_fst_qubits_eq:\n  fixes n:: nat\n  shows \"prob0_fst_qubits n v = (cmod(v $$ (0,0)))\\<^sup>2 + (cmod(v $$ (1,0)))\\<^sup>2\"", "lemma prob0_bell_fst [simp]:\n  assumes \"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\"\n  shows \"prob0 2 v 0 = 1/2\"", "lemma prob_1_bell_fst [simp]:\n  assumes \"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\"\n  shows \"prob1 2 v 0 = 1/2\"", "lemma prob0_bell_snd [simp]:\n  assumes \"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\"\n  shows \"prob0 2 v 1 = 1/2\"", "lemma prob_1_bell_snd [simp]:\n  assumes \"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\"\n  shows \"prob1 2 v 1 = 1/2\"", "lemma post_meas0_bell00_fst [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 = |unit_vec 4 0\\<rangle>\"", "lemma post_meas0_bell00_snd [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 = |unit_vec 4 0\\<rangle>\"", "lemma post_meas0_bell01_fst [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 = |unit_vec 4 1\\<rangle>\"", "lemma post_meas0_bell01_snd [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 = |unit_vec 4 2\\<rangle>\"", "lemma post_meas0_bell10_fst [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 = |unit_vec 4 0\\<rangle>\"", "lemma post_meas0_bell10_snd [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 = |unit_vec 4 0\\<rangle>\"", "lemma post_meas0_bell11_fst [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 = |unit_vec 4 1\\<rangle>\"", "lemma post_meas0_bell11_snd [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 = - |unit_vec 4 2\\<rangle>\"", "lemma post_meas1_bell00_fst [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 = |unit_vec 4 3\\<rangle>\"", "lemma post_meas1_bell00_snd [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 = |unit_vec 4 3\\<rangle>\"", "lemma post_meas1_bell01_fst [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 = |unit_vec 4 2\\<rangle>\"", "lemma post_meas1_bell01_snd [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 = |unit_vec 4 1\\<rangle>\"", "lemma post_meas1_bell10_fst [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 = - |unit_vec 4 3\\<rangle>\"", "lemma post_meas1_bell10_snd [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 = - |unit_vec 4 3\\<rangle>\"", "lemma post_meas1_bell11_fst [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 = - |unit_vec 4 2\\<rangle>\"", "lemma post_meas1_bell11_snd [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 = |unit_vec 4 1\\<rangle>\""], "translations": [["", "lemma select_index_union:\n  \"{k| k::nat. select_index n i k} \\<union> {k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k} = {0..<2^n::nat}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {k |k. select_index n i k} \\<union>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} =\n    {0..<2 ^ n}", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. {k |k. select_index n i k} \\<union>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}\n    \\<subseteq> {0..<2 ^ n}\n 2. {0..<2 ^ n}\n    \\<subseteq> {k |k. select_index n i k} \\<union>\n                {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}", "have \"{k |k. select_index n i k} \\<subseteq> {0..<2 ^ n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {k |k. select_index n i k} \\<subseteq> {0..<2 ^ n}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {k |k. select_index n i k} \\<Longrightarrow>\n       x \\<in> {0..<2 ^ n}", "fix x::nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {k |k. select_index n i k} \\<Longrightarrow>\n       x \\<in> {0..<2 ^ n}", "assume \"x \\<in> {k |k. select_index n i k}\""], ["proof (state)\nthis:\n  x \\<in> {k |k. select_index n i k}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {k |k. select_index n i k} \\<Longrightarrow>\n       x \\<in> {0..<2 ^ n}", "then"], ["proof (chain)\npicking this:\n  x \\<in> {k |k. select_index n i k}", "show \"x \\<in> {0..<2^n}\""], ["proof (prove)\nusing this:\n  x \\<in> {k |k. select_index n i k}\n\ngoal (1 subgoal):\n 1. x \\<in> {0..<2 ^ n}", "using select_index_def"], ["proof (prove)\nusing this:\n  x \\<in> {k |k. select_index n i k}\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. x \\<in> {0..<2 ^ n}", "by (metis (no_types, lifting) atLeastLessThan_iff diff_diff_cancel diff_is_0_eq' diff_le_mono2 \nle_less_linear le_numeral_extra(2) mem_Collect_eq one_le_numeral one_le_power select_index_def zero_order(1))"], ["proof (state)\nthis:\n  x \\<in> {0..<2 ^ n}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {k |k. select_index n i k} \\<subseteq> {0..<2 ^ n}\n\ngoal (2 subgoals):\n 1. {k |k. select_index n i k} \\<union>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}\n    \\<subseteq> {0..<2 ^ n}\n 2. {0..<2 ^ n}\n    \\<subseteq> {k |k. select_index n i k} \\<union>\n                {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}", "moreover"], ["proof (state)\nthis:\n  {k |k. select_index n i k} \\<subseteq> {0..<2 ^ n}\n\ngoal (2 subgoals):\n 1. {k |k. select_index n i k} \\<union>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}\n    \\<subseteq> {0..<2 ^ n}\n 2. {0..<2 ^ n}\n    \\<subseteq> {k |k. select_index n i k} \\<union>\n                {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}", "have \"{k |k. k<2 ^ n \\<and> \\<not> select_index n i k} \\<subseteq> {0..<2 ^ n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}\n    \\<subseteq> {0..<2 ^ n}", "by auto"], ["proof (state)\nthis:\n  {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} \\<subseteq> {0..<2 ^ n}\n\ngoal (2 subgoals):\n 1. {k |k. select_index n i k} \\<union>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}\n    \\<subseteq> {0..<2 ^ n}\n 2. {0..<2 ^ n}\n    \\<subseteq> {k |k. select_index n i k} \\<union>\n                {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}", "ultimately"], ["proof (chain)\npicking this:\n  {k |k. select_index n i k} \\<subseteq> {0..<2 ^ n}\n  {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} \\<subseteq> {0..<2 ^ n}", "show \"{k |k. select_index n i k} \\<union> {k |k. k<2 ^ n \\<and> \\<not> select_index n i k} \\<subseteq> {0..<2 ^ n}\""], ["proof (prove)\nusing this:\n  {k |k. select_index n i k} \\<subseteq> {0..<2 ^ n}\n  {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} \\<subseteq> {0..<2 ^ n}\n\ngoal (1 subgoal):\n 1. {k |k. select_index n i k} \\<union>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}\n    \\<subseteq> {0..<2 ^ n}", "by simp"], ["proof (state)\nthis:\n  {k |k. select_index n i k} \\<union>\n  {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}\n  \\<subseteq> {0..<2 ^ n}\n\ngoal (1 subgoal):\n 1. {0..<2 ^ n}\n    \\<subseteq> {k |k. select_index n i k} \\<union>\n                {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. {0..<2 ^ n}\n    \\<subseteq> {k |k. select_index n i k} \\<union>\n                {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}", "show \"{0..<2 ^ n} \\<subseteq> {k |k. select_index n i k} \\<union> {k |k. k<2 ^ n \\<and> \\<not> select_index n i k}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {0..<2 ^ n}\n    \\<subseteq> {k |k. select_index n i k} \\<union>\n                {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}", "by auto"], ["proof (state)\nthis:\n  {0..<2 ^ n}\n  \\<subseteq> {k |k. select_index n i k} \\<union>\n              {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma select_index_inter:\n  \"{k| k::nat. select_index n i k} \\<inter> {k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k} = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {k |k. select_index n i k} \\<inter>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} =\n    {}", "by auto"], ["", "lemma outcomes_sum [simp]:\n  fixes f :: \"nat \\<Rightarrow> real\"\n  shows\n  \"(\\<Sum>j\\<in>{k| k::nat. select_index n i k}. (f j)) + \n   (\\<Sum>j\\<in>{k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k}. (f j)) = \n   (\\<Sum>j\\<in>{0..<2^n::nat}. (f j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} =\n    sum f {0..<2 ^ n}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} =\n    sum f {0..<2 ^ n}", "have \"{k| k::nat. select_index n i k} \\<subseteq> {0..<2^n::nat}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {k |k. select_index n i k} \\<subseteq> {0..<2 ^ n}", "using select_index_union"], ["proof (prove)\nusing this:\n  {k |k. select_index ?n ?i k} \\<union>\n  {k |k. k < 2 ^ ?n \\<and> \\<not> select_index ?n ?i k} =\n  {0..<2 ^ ?n}\n\ngoal (1 subgoal):\n 1. {k |k. select_index n i k} \\<subseteq> {0..<2 ^ n}", "by blast"], ["proof (state)\nthis:\n  {k |k. select_index n i k} \\<subseteq> {0..<2 ^ n}\n\ngoal (1 subgoal):\n 1. sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} =\n    sum f {0..<2 ^ n}", "then"], ["proof (chain)\npicking this:\n  {k |k. select_index n i k} \\<subseteq> {0..<2 ^ n}", "have \"finite {k| k::nat. select_index n i k}\""], ["proof (prove)\nusing this:\n  {k |k. select_index n i k} \\<subseteq> {0..<2 ^ n}\n\ngoal (1 subgoal):\n 1. finite {k |k. select_index n i k}", "using rev_finite_subset"], ["proof (prove)\nusing this:\n  {k |k. select_index n i k} \\<subseteq> {0..<2 ^ n}\n  \\<lbrakk>finite ?B; ?A \\<subseteq> ?B\\<rbrakk> \\<Longrightarrow> finite ?A\n\ngoal (1 subgoal):\n 1. finite {k |k. select_index n i k}", "by blast"], ["proof (state)\nthis:\n  finite {k |k. select_index n i k}\n\ngoal (1 subgoal):\n 1. sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} =\n    sum f {0..<2 ^ n}", "moreover"], ["proof (state)\nthis:\n  finite {k |k. select_index n i k}\n\ngoal (1 subgoal):\n 1. sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} =\n    sum f {0..<2 ^ n}", "have \"{k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k} \\<subseteq> {0..<2^n::nat}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}\n    \\<subseteq> {0..<2 ^ n}", "using select_index_union"], ["proof (prove)\nusing this:\n  {k |k. select_index ?n ?i k} \\<union>\n  {k |k. k < 2 ^ ?n \\<and> \\<not> select_index ?n ?i k} =\n  {0..<2 ^ ?n}\n\ngoal (1 subgoal):\n 1. {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}\n    \\<subseteq> {0..<2 ^ n}", "by blast"], ["proof (state)\nthis:\n  {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} \\<subseteq> {0..<2 ^ n}\n\ngoal (1 subgoal):\n 1. sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} =\n    sum f {0..<2 ^ n}", "then"], ["proof (chain)\npicking this:\n  {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} \\<subseteq> {0..<2 ^ n}", "have \"finite {k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k}\""], ["proof (prove)\nusing this:\n  {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} \\<subseteq> {0..<2 ^ n}\n\ngoal (1 subgoal):\n 1. finite {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}", "using rev_finite_subset"], ["proof (prove)\nusing this:\n  {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} \\<subseteq> {0..<2 ^ n}\n  \\<lbrakk>finite ?B; ?A \\<subseteq> ?B\\<rbrakk> \\<Longrightarrow> finite ?A\n\ngoal (1 subgoal):\n 1. finite {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}", "by blast"], ["proof (state)\nthis:\n  finite {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}\n\ngoal (1 subgoal):\n 1. sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} =\n    sum f {0..<2 ^ n}", "ultimately"], ["proof (chain)\npicking this:\n  finite {k |k. select_index n i k}\n  finite {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}", "have \"(\\<Sum>j\\<in>{k| k::nat. select_index n i k}\\<union>{k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k}. (f j)) = \n           (\\<Sum>j\\<in>{k| k::nat. select_index n i k}. (f j)) + \n           (\\<Sum>j\\<in>{k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k}. (f j)) -\n           (\\<Sum>j\\<in>{k| k::nat. select_index n i k}\\<inter>{k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k}. (f j))\""], ["proof (prove)\nusing this:\n  finite {k |k. select_index n i k}\n  finite {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}\n\ngoal (1 subgoal):\n 1. sum f\n     ({k |k. select_index n i k} \\<union>\n      {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}) =\n    sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} -\n    sum f\n     ({k |k. select_index n i k} \\<inter>\n      {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k})", "using sum_Un"], ["proof (prove)\nusing this:\n  finite {k |k. select_index n i k}\n  finite {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}\n  \\<lbrakk>finite ?A; finite ?B\\<rbrakk>\n  \\<Longrightarrow> sum ?f (?A \\<union> ?B) =\n                    sum ?f ?A + sum ?f ?B - sum ?f (?A \\<inter> ?B)\n\ngoal (1 subgoal):\n 1. sum f\n     ({k |k. select_index n i k} \\<union>\n      {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}) =\n    sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} -\n    sum f\n     ({k |k. select_index n i k} \\<inter>\n      {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k})", "by blast"], ["proof (state)\nthis:\n  sum f\n   ({k |k. select_index n i k} \\<union>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}) =\n  sum f {k |k. select_index n i k} +\n  sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} -\n  sum f\n   ({k |k. select_index n i k} \\<inter>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k})\n\ngoal (1 subgoal):\n 1. sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} =\n    sum f {0..<2 ^ n}", "then"], ["proof (chain)\npicking this:\n  sum f\n   ({k |k. select_index n i k} \\<union>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}) =\n  sum f {k |k. select_index n i k} +\n  sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} -\n  sum f\n   ({k |k. select_index n i k} \\<inter>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k})", "have \"(\\<Sum>j\\<in>{0..<2^n::nat}. (f j)) = \n                (\\<Sum>j\\<in>{k| k::nat. select_index n i k}. (f j)) + \n                (\\<Sum>j\\<in>{k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k}. (f j)) -\n                (\\<Sum>j\\<in>{}. (f j))\""], ["proof (prove)\nusing this:\n  sum f\n   ({k |k. select_index n i k} \\<union>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}) =\n  sum f {k |k. select_index n i k} +\n  sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} -\n  sum f\n   ({k |k. select_index n i k} \\<inter>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k})\n\ngoal (1 subgoal):\n 1. sum f {0..<2 ^ n} =\n    sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} -\n    sum f {}", "using select_index_union select_index_inter"], ["proof (prove)\nusing this:\n  sum f\n   ({k |k. select_index n i k} \\<union>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}) =\n  sum f {k |k. select_index n i k} +\n  sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} -\n  sum f\n   ({k |k. select_index n i k} \\<inter>\n    {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k})\n  {k |k. select_index ?n ?i k} \\<union>\n  {k |k. k < 2 ^ ?n \\<and> \\<not> select_index ?n ?i k} =\n  {0..<2 ^ ?n}\n  {k |k. select_index ?n ?i k} \\<inter>\n  {k |k. k < 2 ^ ?n \\<and> \\<not> select_index ?n ?i k} =\n  {}\n\ngoal (1 subgoal):\n 1. sum f {0..<2 ^ n} =\n    sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} -\n    sum f {}", "by simp"], ["proof (state)\nthis:\n  sum f {0..<2 ^ n} =\n  sum f {k |k. select_index n i k} +\n  sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} -\n  sum f {}\n\ngoal (1 subgoal):\n 1. sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} =\n    sum f {0..<2 ^ n}", "thus ?thesis"], ["proof (prove)\nusing this:\n  sum f {0..<2 ^ n} =\n  sum f {k |k. select_index n i k} +\n  sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} -\n  sum f {}\n\ngoal (1 subgoal):\n 1. sum f {k |k. select_index n i k} +\n    sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} =\n    sum f {0..<2 ^ n}", "by simp"], ["proof (state)\nthis:\n  sum f {k |k. select_index n i k} +\n  sum f {k |k. k < 2 ^ n \\<and> \\<not> select_index n i k} =\n  sum f {0..<2 ^ n}\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nGiven a state v of a n-qbit system, we compute the probability that a measure \nof qubit i has the outcome 1.\n\\<close>"], ["", "definition prob1 ::\"nat \\<Rightarrow> complex mat \\<Rightarrow> nat \\<Rightarrow> real\" where\n\"prob1 n v i \\<equiv> \\<Sum>j\\<in>{k| k::nat. select_index n i k}. (cmod(v $$ (j,0)))\\<^sup>2\""], ["", "definition prob0 ::\"nat \\<Rightarrow> complex mat \\<Rightarrow> nat \\<Rightarrow> real\" where\n\"prob0 n v i \\<equiv> \\<Sum>j\\<in>{k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k}. (cmod(v $$ (j,0)))\\<^sup>2\""], ["", "lemma\n  shows prob1_geq_zero:\"prob1 n v i \\<ge> 0\" and prob0_geq_zero:\"prob0 n v i \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> prob1 n v i &&& 0 \\<le> prob0 n v i", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 \\<le> prob1 n v i\n 2. 0 \\<le> prob0 n v i", "have \"(\\<Sum>j\\<in>{k| k::nat. select_index n i k}. (cmod(v $$ (j,0)))\\<^sup>2) \\<ge> \n           (\\<Sum>j\\<in>{k| k::nat. select_index n i k}. (0::real))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index n i k}. 0)\n    \\<le> (\\<Sum>j\\<in>{k |k. select_index n i k}.\n             (cmod (v $$ (j, 0)))\\<^sup>2)", "by (simp add: sum_nonneg)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index n i k}. 0)\n  \\<le> (\\<Sum>j\\<in>{k |k. select_index n i k}.\n           (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (2 subgoals):\n 1. 0 \\<le> prob1 n v i\n 2. 0 \\<le> prob0 n v i", "then"], ["proof (chain)\npicking this:\n  (\\<Sum>j\\<in>{k |k. select_index n i k}. 0)\n  \\<le> (\\<Sum>j\\<in>{k |k. select_index n i k}.\n           (cmod (v $$ (j, 0)))\\<^sup>2)", "have \"(\\<Sum>j\\<in>{k| k::nat. select_index n i k}. (cmod(v $$ (j,0)))\\<^sup>2) \\<ge> 0\""], ["proof (prove)\nusing this:\n  (\\<Sum>j\\<in>{k |k. select_index n i k}. 0)\n  \\<le> (\\<Sum>j\\<in>{k |k. select_index n i k}.\n           (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>j\\<in>{k |k. select_index n i k}.\n               (cmod (v $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>j\\<in>{k |k. select_index n i k}.\n             (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (2 subgoals):\n 1. 0 \\<le> prob1 n v i\n 2. 0 \\<le> prob0 n v i", "thus \"prob1 n v i \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 \\<le> (\\<Sum>j\\<in>{k |k. select_index n i k}.\n             (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> prob1 n v i", "using prob1_def"], ["proof (prove)\nusing this:\n  0 \\<le> (\\<Sum>j\\<in>{k |k. select_index n i k}.\n             (cmod (v $$ (j, 0)))\\<^sup>2)\n  prob1 ?n ?v ?i \\<equiv>\n  \\<Sum>j\\<in>{k |k. select_index ?n ?i k}. (cmod (?v $$ (j, 0)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> prob1 n v i", "by simp"], ["proof (state)\nthis:\n  0 \\<le> prob1 n v i\n\ngoal (1 subgoal):\n 1. 0 \\<le> prob0 n v i", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 \\<le> prob0 n v i", "have \"(\\<Sum>j\\<in>{k| k::nat. (k < 2 ^ n) \\<and> \\<not> select_index n i k}. (cmod(v $$ (j,0)))\\<^sup>2) \\<ge> \n           (\\<Sum>j\\<in>{k| k::nat. (k < 2 ^ n) \\<and> \\<not> select_index n i k}. (0::real))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}. 0)\n    \\<le> (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n             (cmod (v $$ (j, 0)))\\<^sup>2)", "by (simp add: sum_nonneg)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}. 0)\n  \\<le> (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n           (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> prob0 n v i", "then"], ["proof (chain)\npicking this:\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}. 0)\n  \\<le> (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n           (cmod (v $$ (j, 0)))\\<^sup>2)", "have \"(\\<Sum>j\\<in>{k| k::nat. (k < 2 ^ n) \\<and> \\<not> select_index n i k}. (cmod(v $$ (j,0)))\\<^sup>2) \\<ge> 0\""], ["proof (prove)\nusing this:\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}. 0)\n  \\<le> (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n           (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n               (cmod (v $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n             (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> prob0 n v i", "thus \"prob0 n v i \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 \\<le> (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n             (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> prob0 n v i", "using prob0_def"], ["proof (prove)\nusing this:\n  0 \\<le> (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n             (cmod (v $$ (j, 0)))\\<^sup>2)\n  prob0 ?n ?v ?i \\<equiv>\n  \\<Sum>j\\<in>{k |k. k < 2 ^ ?n \\<and> \\<not> select_index ?n ?i k}.\n    (cmod (?v $$ (j, 0)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> prob0 n v i", "by simp"], ["proof (state)\nthis:\n  0 \\<le> prob0 n v i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma prob_sum_is_one [simp]:\n  assumes \"state n v\"\n  shows \"prob1 n v i + prob0 n v i = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 n v i + prob0 n v i = 1", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. prob1 n v i + prob0 n v i = 1", "have \"prob1 n v i + prob0 n v i = (\\<Sum>j\\<in>{0..<2^n::nat}. (cmod(v $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 n v i + prob0 n v i =\n    (\\<Sum>j = 0..<2 ^ n. (cmod (v $$ (j, 0)))\\<^sup>2)", "using prob1_def prob0_def outcomes_sum"], ["proof (prove)\nusing this:\n  prob1 ?n ?v ?i \\<equiv>\n  \\<Sum>j\\<in>{k |k. select_index ?n ?i k}. (cmod (?v $$ (j, 0)))\\<^sup>2\n  prob0 ?n ?v ?i \\<equiv>\n  \\<Sum>j\\<in>{k |k. k < 2 ^ ?n \\<and> \\<not> select_index ?n ?i k}.\n    (cmod (?v $$ (j, 0)))\\<^sup>2\n  sum ?f {k |k. select_index ?n ?i k} +\n  sum ?f {k |k. k < 2 ^ ?n \\<and> \\<not> select_index ?n ?i k} =\n  sum ?f {0..<2 ^ ?n}\n\ngoal (1 subgoal):\n 1. prob1 n v i + prob0 n v i =\n    (\\<Sum>j = 0..<2 ^ n. (cmod (v $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  prob1 n v i + prob0 n v i =\n  (\\<Sum>j = 0..<2 ^ n. (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 n v i + prob0 n v i = 1", "also"], ["proof (state)\nthis:\n  prob1 n v i + prob0 n v i =\n  (\\<Sum>j = 0..<2 ^ n. (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 n v i + prob0 n v i = 1", "have \"\\<dots> = \\<parallel>col v 0\\<parallel>\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j = 0..<2 ^ n. (cmod (v $$ (j, 0)))\\<^sup>2) =\n    \\<parallel>col v 0\\<parallel>\\<^sup>2", "using cpx_vec_length_def assms state_def atLeast0LessThan"], ["proof (prove)\nusing this:\n  \\<parallel>?v\\<parallel> \\<equiv>\n  sqrt (\\<Sum>i<dim_vec ?v. (cmod (?v $ i))\\<^sup>2)\n  state n v\n  state ?n ?v \\<equiv>\n  dim_col ?v = 1 \\<and>\n  dim_row ?v = 2 ^ ?n \\<and> \\<parallel>col ?v 0\\<parallel> = 1\n  {0..<?n} = {..<?n}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j = 0..<2 ^ n. (cmod (v $$ (j, 0)))\\<^sup>2) =\n    \\<parallel>col v 0\\<parallel>\\<^sup>2", "by fastforce"], ["proof (state)\nthis:\n  (\\<Sum>j = 0..<2 ^ n. (cmod (v $$ (j, 0)))\\<^sup>2) =\n  \\<parallel>col v 0\\<parallel>\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 n v i + prob0 n v i = 1", "finally"], ["proof (chain)\npicking this:\n  prob1 n v i + prob0 n v i = \\<parallel>col v 0\\<parallel>\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob1 n v i + prob0 n v i = \\<parallel>col v 0\\<parallel>\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 n v i + prob0 n v i = 1", "using assms state_def"], ["proof (prove)\nusing this:\n  prob1 n v i + prob0 n v i = \\<parallel>col v 0\\<parallel>\\<^sup>2\n  state n v\n  state ?n ?v \\<equiv>\n  dim_col ?v = 1 \\<and>\n  dim_row ?v = 2 ^ ?n \\<and> \\<parallel>col ?v 0\\<parallel> = 1\n\ngoal (1 subgoal):\n 1. prob1 n v i + prob0 n v i = 1", "by simp"], ["proof (state)\nthis:\n  prob1 n v i + prob0 n v i = 1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  assumes \"state n v\"\n  shows prob1_leq_one:\"prob1 n v i \\<le> 1\" and prob0_leq_one:\"prob0 n v i \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 n v i \\<le> 1 &&& prob0 n v i \\<le> 1", "apply(metis assms le_add_same_cancel1 prob0_geq_zero prob_sum_is_one)"], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 n v i \\<le> 1", "apply(metis assms le_add_same_cancel2 prob1_geq_zero prob_sum_is_one)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma prob0_is_prob: \n  assumes \"state n v\"\n  shows \"prob0 n v i \\<ge> 0 \\<and> prob0 n v i \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> prob0 n v i \\<and> prob0 n v i \\<le> 1", "by (simp add: assms prob0_geq_zero prob0_leq_one)"], ["", "lemma prob1_is_prob: \n  assumes \"state n v\"\n  shows \"prob1 n v i \\<ge> 0 \\<and> prob1 n v i \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> prob1 n v i \\<and> prob1 n v i \\<le> 1", "by (simp add: assms prob1_geq_zero prob1_leq_one)"], ["", "text \\<open>Below we give the new state of a n-qubits system after a measurement of the ith qubit gave 0.\\<close>"], ["", "definition post_meas0 ::\"nat \\<Rightarrow> complex mat \\<Rightarrow> nat \\<Rightarrow> complex mat\" where\n\"post_meas0 n v i \\<equiv> \n  of_real(1/sqrt(prob0 n v i)) \\<cdot>\\<^sub>m |vec (2^n) (\\<lambda>j. if \\<not> select_index n i j then v $$ (j,0) else 0)\\<rangle>\""], ["", "text \\<open>\nNote that a division by 0 never occurs. Indeed, if @{text \"sqrt(prob0 n v i)\"} would be 0 then \n@{text \"prob0 n v i\"} would be 0 and it would mean that the measurement of the ith qubit gave 1.\n\\<close>"], ["", "lemma post_meas0_is_state [simp]:\n  assumes \"state n v\" and \"prob0 n v i \\<noteq> 0\"\n  shows \"state n (post_meas0 n v i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. state n (post_meas0 n v i)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. state n (post_meas0 n v i)", "have \"(\\<Sum>j\\<in>{0..<2^n::nat}. (cmod (if \\<not> select_index n i j then v $$ (j,0) else 0))\\<^sup>2) = \n           (\\<Sum>j\\<in>{k| k::nat. select_index n i k}. (cmod (if \\<not> select_index n i j then v $$ (j,0) else 0))\\<^sup>2) +\n           (\\<Sum>j\\<in>{k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k}. (cmod (if \\<not> select_index n i j then v $$ (j,0) else 0))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j = 0..<2 ^ n.\n        (cmod\n          (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n    (\\<Sum>j\\<in>{k |k. select_index n i k}.\n       (cmod\n         (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n    (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n       (cmod\n         (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)", "using outcomes_sum[of \"\\<lambda>j. (cmod (if \\<not> select_index n i j then v $$ (j,0) else 0))\\<^sup>2\" n i]"], ["proof (prove)\nusing this:\n  (\\<Sum>j\\<in>{k |k. select_index n i k}.\n     (cmod\n       (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod\n       (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  (\\<Sum>j = 0..<2 ^ n.\n      (cmod (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (\\<Sum>j = 0..<2 ^ n.\n        (cmod\n          (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n    (\\<Sum>j\\<in>{k |k. select_index n i k}.\n       (cmod\n         (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n    (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n       (cmod\n         (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j = 0..<2 ^ n.\n      (cmod\n        (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  (\\<Sum>j\\<in>{k |k. select_index n i k}.\n     (cmod\n       (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. state n (post_meas0 n v i)", "moreover"], ["proof (state)\nthis:\n  (\\<Sum>j = 0..<2 ^ n.\n      (cmod\n        (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  (\\<Sum>j\\<in>{k |k. select_index n i k}.\n     (cmod\n       (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. state n (post_meas0 n v i)", "have \"(\\<Sum>j\\<in>{k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k}. (cmod (if \\<not> select_index n i j then v $$ (j,0) else 0))\\<^sup>2) = \n           prob0 n v i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n       (cmod\n         (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n    prob0 n v i", "by(simp add: prob0_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod\n       (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  prob0 n v i\n\ngoal (1 subgoal):\n 1. state n (post_meas0 n v i)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Sum>j = 0..<2 ^ n.\n      (cmod\n        (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  (\\<Sum>j\\<in>{k |k. select_index n i k}.\n     (cmod\n       (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod\n       (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  prob0 n v i", "have \"\\<parallel>vec (2 ^ n) (\\<lambda>j. if \\<not> select_index n i j then v $$ (j,0) else 0)\\<parallel> = sqrt(prob0 n v i)\""], ["proof (prove)\nusing this:\n  (\\<Sum>j = 0..<2 ^ n.\n      (cmod\n        (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  (\\<Sum>j\\<in>{k |k. select_index n i k}.\n     (cmod\n       (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod\n       (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  prob0 n v i\n\ngoal (1 subgoal):\n 1. \\<parallel>vec (2 ^ n)\n                (\\<lambda>j.\n                    if \\<not> select_index n i j then v $$ (j, 0)\n                    else 0)\\<parallel> =\n    sqrt (prob0 n v i)", "using lessThan_atLeast0"], ["proof (prove)\nusing this:\n  (\\<Sum>j = 0..<2 ^ n.\n      (cmod\n        (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  (\\<Sum>j\\<in>{k |k. select_index n i k}.\n     (cmod\n       (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod\n       (if \\<not> select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  prob0 n v i\n  {..<?n} = {0..<?n}\n\ngoal (1 subgoal):\n 1. \\<parallel>vec (2 ^ n)\n                (\\<lambda>j.\n                    if \\<not> select_index n i j then v $$ (j, 0)\n                    else 0)\\<parallel> =\n    sqrt (prob0 n v i)", "by (simp add: cpx_vec_length_def)"], ["proof (state)\nthis:\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if \\<not> select_index n i j then v $$ (j, 0)\n                  else 0)\\<parallel> =\n  sqrt (prob0 n v i)\n\ngoal (1 subgoal):\n 1. state n (post_meas0 n v i)", "moreover"], ["proof (state)\nthis:\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if \\<not> select_index n i j then v $$ (j, 0)\n                  else 0)\\<parallel> =\n  sqrt (prob0 n v i)\n\ngoal (1 subgoal):\n 1. state n (post_meas0 n v i)", "have \"\\<parallel>col (complex_of_real (1/sqrt (prob0 n v i)) \\<cdot>\\<^sub>m |vec (2^n) (\\<lambda>j. if \\<not> select_index n i j then v $$ (j,0) else 0)\\<rangle>) 0\\<parallel> = \n           (1/sqrt (prob0 n v i)) * \\<parallel>vec (2^n) (\\<lambda>j. if \\<not> select_index n i j then v $$ (j,0) else 0)\\<parallel>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>col (complex_of_real (1 / sqrt (prob0 n v i)) \\<cdot>\\<^sub>m\n                    |vec (2 ^ n)\n                      (\\<lambda>j.\n                          if \\<not> select_index n i j then v $$ (j, 0)\n                          else 0)\\<rangle>)\n                0\\<parallel> =\n    1 / sqrt (prob0 n v i) *\n    \\<parallel>vec (2 ^ n)\n                (\\<lambda>j.\n                    if \\<not> select_index n i j then v $$ (j, 0)\n                    else 0)\\<parallel>", "using prob0_geq_zero smult_vec_length_bis"], ["proof (prove)\nusing this:\n  0 \\<le> prob0 ?n ?v ?i\n  0 \\<le> ?x \\<Longrightarrow>\n  \\<parallel>col (complex_of_real ?x \\<cdot>\\<^sub>m |?v\\<rangle>)\n              0\\<parallel> =\n  ?x * \\<parallel>?v\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<parallel>col (complex_of_real (1 / sqrt (prob0 n v i)) \\<cdot>\\<^sub>m\n                    |vec (2 ^ n)\n                      (\\<lambda>j.\n                          if \\<not> select_index n i j then v $$ (j, 0)\n                          else 0)\\<rangle>)\n                0\\<parallel> =\n    1 / sqrt (prob0 n v i) *\n    \\<parallel>vec (2 ^ n)\n                (\\<lambda>j.\n                    if \\<not> select_index n i j then v $$ (j, 0)\n                    else 0)\\<parallel>", "by(metis (no_types, lifting) real_sqrt_ge_0_iff zero_le_divide_1_iff)"], ["proof (state)\nthis:\n  \\<parallel>col (complex_of_real (1 / sqrt (prob0 n v i)) \\<cdot>\\<^sub>m\n                  |vec (2 ^ n)\n                    (\\<lambda>j.\n                        if \\<not> select_index n i j then v $$ (j, 0)\n                        else 0)\\<rangle>)\n              0\\<parallel> =\n  1 / sqrt (prob0 n v i) *\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if \\<not> select_index n i j then v $$ (j, 0)\n                  else 0)\\<parallel>\n\ngoal (1 subgoal):\n 1. state n (post_meas0 n v i)", "ultimately"], ["proof (chain)\npicking this:\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if \\<not> select_index n i j then v $$ (j, 0)\n                  else 0)\\<parallel> =\n  sqrt (prob0 n v i)\n  \\<parallel>col (complex_of_real (1 / sqrt (prob0 n v i)) \\<cdot>\\<^sub>m\n                  |vec (2 ^ n)\n                    (\\<lambda>j.\n                        if \\<not> select_index n i j then v $$ (j, 0)\n                        else 0)\\<rangle>)\n              0\\<parallel> =\n  1 / sqrt (prob0 n v i) *\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if \\<not> select_index n i j then v $$ (j, 0)\n                  else 0)\\<parallel>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if \\<not> select_index n i j then v $$ (j, 0)\n                  else 0)\\<parallel> =\n  sqrt (prob0 n v i)\n  \\<parallel>col (complex_of_real (1 / sqrt (prob0 n v i)) \\<cdot>\\<^sub>m\n                  |vec (2 ^ n)\n                    (\\<lambda>j.\n                        if \\<not> select_index n i j then v $$ (j, 0)\n                        else 0)\\<rangle>)\n              0\\<parallel> =\n  1 / sqrt (prob0 n v i) *\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if \\<not> select_index n i j then v $$ (j, 0)\n                  else 0)\\<parallel>\n\ngoal (1 subgoal):\n 1. state n (post_meas0 n v i)", "using state_def post_meas0_def"], ["proof (prove)\nusing this:\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if \\<not> select_index n i j then v $$ (j, 0)\n                  else 0)\\<parallel> =\n  sqrt (prob0 n v i)\n  \\<parallel>col (complex_of_real (1 / sqrt (prob0 n v i)) \\<cdot>\\<^sub>m\n                  |vec (2 ^ n)\n                    (\\<lambda>j.\n                        if \\<not> select_index n i j then v $$ (j, 0)\n                        else 0)\\<rangle>)\n              0\\<parallel> =\n  1 / sqrt (prob0 n v i) *\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if \\<not> select_index n i j then v $$ (j, 0)\n                  else 0)\\<parallel>\n  state ?n ?v \\<equiv>\n  dim_col ?v = 1 \\<and>\n  dim_row ?v = 2 ^ ?n \\<and> \\<parallel>col ?v 0\\<parallel> = 1\n  post_meas0 ?n ?v ?i \\<equiv>\n  complex_of_real (1 / sqrt (prob0 ?n ?v ?i)) \\<cdot>\\<^sub>m\n  |vec (2 ^ ?n)\n    (\\<lambda>j.\n        if \\<not> select_index ?n ?i j then ?v $$ (j, 0) else 0)\\<rangle>\n\ngoal (1 subgoal):\n 1. state n (post_meas0 n v i)", "by (simp add: ket_vec_def post_meas0_def assms(2))"], ["proof (state)\nthis:\n  state n (post_meas0 n v i)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Below we give the new state of a n-qubits system after a measurement of the ith qubit gave 1.\\<close>"], ["", "definition post_meas1 ::\"nat \\<Rightarrow> complex mat \\<Rightarrow> nat \\<Rightarrow> complex mat\" where\n\"post_meas1 n v i \\<equiv> \n  of_real(1/sqrt(prob1 n v i)) \\<cdot>\\<^sub>m |vec (2^n) (\\<lambda>j. if select_index n i j then v $$ (j,0) else 0)\\<rangle>\""], ["", "text \\<open>\nNote that a division by 0 never occurs. Indeed, if @{text \"sqrt(prob1 n v i)\"} would be 0 then \n@{text \"prob1 n v i\"} would be 0 and it would mean that the measurement of the ith qubit gave 0.\n\\<close>"], ["", "lemma post_meas_1_is_state [simp]:\n  assumes \"state n v\" and \"prob1 n v i \\<noteq> 0\"\n  shows \"state n (post_meas1 n v i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. state n (post_meas1 n v i)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. state n (post_meas1 n v i)", "have \"(\\<Sum>j\\<in>{0..<2^n::nat}. (cmod (if select_index n i j then v $$ (j,0) else 0))\\<^sup>2) = \n           (\\<Sum>j\\<in>{k| k::nat. select_index n i k}. (cmod (if select_index n i j then v $$ (j,0) else 0))\\<^sup>2) +\n           (\\<Sum>j\\<in>{k| k::nat. (k<2^n) \\<and> \\<not> select_index n i k}. (cmod (if select_index n i j then v $$ (j,0) else 0))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j = 0..<2 ^ n.\n        (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n    (\\<Sum>j\\<in>{k |k. select_index n i k}.\n       (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n    (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n       (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)", "using outcomes_sum[of \"\\<lambda>j. (cmod (if select_index n i j then v $$ (j,0) else 0))\\<^sup>2\" n i]"], ["proof (prove)\nusing this:\n  (\\<Sum>j\\<in>{k |k. select_index n i k}.\n     (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  (\\<Sum>j = 0..<2 ^ n.\n      (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (\\<Sum>j = 0..<2 ^ n.\n        (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n    (\\<Sum>j\\<in>{k |k. select_index n i k}.\n       (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n    (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n       (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j = 0..<2 ^ n.\n      (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  (\\<Sum>j\\<in>{k |k. select_index n i k}.\n     (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. state n (post_meas1 n v i)", "then"], ["proof (chain)\npicking this:\n  (\\<Sum>j = 0..<2 ^ n.\n      (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  (\\<Sum>j\\<in>{k |k. select_index n i k}.\n     (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)", "have \"\\<parallel>vec (2^n) (\\<lambda>j. if select_index n i j then v $$ (j,0) else 0)\\<parallel> = sqrt(prob1 n v i)\""], ["proof (prove)\nusing this:\n  (\\<Sum>j = 0..<2 ^ n.\n      (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  (\\<Sum>j\\<in>{k |k. select_index n i k}.\n     (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<parallel>vec (2 ^ n)\n                (\\<lambda>j.\n                    if select_index n i j then v $$ (j, 0)\n                    else 0)\\<parallel> =\n    sqrt (prob1 n v i)", "using lessThan_atLeast0"], ["proof (prove)\nusing this:\n  (\\<Sum>j = 0..<2 ^ n.\n      (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) =\n  (\\<Sum>j\\<in>{k |k. select_index n i k}.\n     (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2) +\n  (\\<Sum>j\\<in>{k |k. k < 2 ^ n \\<and> \\<not> select_index n i k}.\n     (cmod (if select_index n i j then v $$ (j, 0) else 0))\\<^sup>2)\n  {..<?n} = {0..<?n}\n\ngoal (1 subgoal):\n 1. \\<parallel>vec (2 ^ n)\n                (\\<lambda>j.\n                    if select_index n i j then v $$ (j, 0)\n                    else 0)\\<parallel> =\n    sqrt (prob1 n v i)", "by (simp add: cpx_vec_length_def prob1_def)"], ["proof (state)\nthis:\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if select_index n i j then v $$ (j, 0)\n                  else 0)\\<parallel> =\n  sqrt (prob1 n v i)\n\ngoal (1 subgoal):\n 1. state n (post_meas1 n v i)", "moreover"], ["proof (state)\nthis:\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if select_index n i j then v $$ (j, 0)\n                  else 0)\\<parallel> =\n  sqrt (prob1 n v i)\n\ngoal (1 subgoal):\n 1. state n (post_meas1 n v i)", "have \"\\<parallel>col(complex_of_real (1/sqrt (prob1 n v i)) \\<cdot>\\<^sub>m |vec (2^n) (\\<lambda>j. if select_index n i j then v $$ (j,0) else 0)\\<rangle>) 0\\<parallel> = \n           (1/sqrt(prob1 n v i)) * \\<parallel>vec (2^n) (\\<lambda>j. if select_index n i j then v $$ (j,0) else 0)\\<parallel>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>col (complex_of_real (1 / sqrt (prob1 n v i)) \\<cdot>\\<^sub>m\n                    |vec (2 ^ n)\n                      (\\<lambda>j.\n                          if select_index n i j then v $$ (j, 0)\n                          else 0)\\<rangle>)\n                0\\<parallel> =\n    1 / sqrt (prob1 n v i) *\n    \\<parallel>vec (2 ^ n)\n                (\\<lambda>j.\n                    if select_index n i j then v $$ (j, 0)\n                    else 0)\\<parallel>", "using prob1_geq_zero smult_vec_length_bis"], ["proof (prove)\nusing this:\n  0 \\<le> prob1 ?n ?v ?i\n  0 \\<le> ?x \\<Longrightarrow>\n  \\<parallel>col (complex_of_real ?x \\<cdot>\\<^sub>m |?v\\<rangle>)\n              0\\<parallel> =\n  ?x * \\<parallel>?v\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<parallel>col (complex_of_real (1 / sqrt (prob1 n v i)) \\<cdot>\\<^sub>m\n                    |vec (2 ^ n)\n                      (\\<lambda>j.\n                          if select_index n i j then v $$ (j, 0)\n                          else 0)\\<rangle>)\n                0\\<parallel> =\n    1 / sqrt (prob1 n v i) *\n    \\<parallel>vec (2 ^ n)\n                (\\<lambda>j.\n                    if select_index n i j then v $$ (j, 0)\n                    else 0)\\<parallel>", "by (metis (no_types, lifting) real_sqrt_ge_0_iff zero_le_divide_1_iff)"], ["proof (state)\nthis:\n  \\<parallel>col (complex_of_real (1 / sqrt (prob1 n v i)) \\<cdot>\\<^sub>m\n                  |vec (2 ^ n)\n                    (\\<lambda>j.\n                        if select_index n i j then v $$ (j, 0)\n                        else 0)\\<rangle>)\n              0\\<parallel> =\n  1 / sqrt (prob1 n v i) *\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if select_index n i j then v $$ (j, 0) else 0)\\<parallel>\n\ngoal (1 subgoal):\n 1. state n (post_meas1 n v i)", "ultimately"], ["proof (chain)\npicking this:\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if select_index n i j then v $$ (j, 0)\n                  else 0)\\<parallel> =\n  sqrt (prob1 n v i)\n  \\<parallel>col (complex_of_real (1 / sqrt (prob1 n v i)) \\<cdot>\\<^sub>m\n                  |vec (2 ^ n)\n                    (\\<lambda>j.\n                        if select_index n i j then v $$ (j, 0)\n                        else 0)\\<rangle>)\n              0\\<parallel> =\n  1 / sqrt (prob1 n v i) *\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if select_index n i j then v $$ (j, 0) else 0)\\<parallel>", "have \"\\<parallel>col(complex_of_real (1/sqrt (prob1 n v i)) \\<cdot>\\<^sub>m |vec (2^n) (\\<lambda>j. if select_index n i j then v $$ (j,0) else 0)\\<rangle>) 0\\<parallel>\n= (1/sqrt(prob1 n v i)) * sqrt(prob1 n v i)\""], ["proof (prove)\nusing this:\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if select_index n i j then v $$ (j, 0)\n                  else 0)\\<parallel> =\n  sqrt (prob1 n v i)\n  \\<parallel>col (complex_of_real (1 / sqrt (prob1 n v i)) \\<cdot>\\<^sub>m\n                  |vec (2 ^ n)\n                    (\\<lambda>j.\n                        if select_index n i j then v $$ (j, 0)\n                        else 0)\\<rangle>)\n              0\\<parallel> =\n  1 / sqrt (prob1 n v i) *\n  \\<parallel>vec (2 ^ n)\n              (\\<lambda>j.\n                  if select_index n i j then v $$ (j, 0) else 0)\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<parallel>col (complex_of_real (1 / sqrt (prob1 n v i)) \\<cdot>\\<^sub>m\n                    |vec (2 ^ n)\n                      (\\<lambda>j.\n                          if select_index n i j then v $$ (j, 0)\n                          else 0)\\<rangle>)\n                0\\<parallel> =\n    1 / sqrt (prob1 n v i) * sqrt (prob1 n v i)", "by simp"], ["proof (state)\nthis:\n  \\<parallel>col (complex_of_real (1 / sqrt (prob1 n v i)) \\<cdot>\\<^sub>m\n                  |vec (2 ^ n)\n                    (\\<lambda>j.\n                        if select_index n i j then v $$ (j, 0)\n                        else 0)\\<rangle>)\n              0\\<parallel> =\n  1 / sqrt (prob1 n v i) * sqrt (prob1 n v i)\n\ngoal (1 subgoal):\n 1. state n (post_meas1 n v i)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<parallel>col (complex_of_real (1 / sqrt (prob1 n v i)) \\<cdot>\\<^sub>m\n                  |vec (2 ^ n)\n                    (\\<lambda>j.\n                        if select_index n i j then v $$ (j, 0)\n                        else 0)\\<rangle>)\n              0\\<parallel> =\n  1 / sqrt (prob1 n v i) * sqrt (prob1 n v i)\n\ngoal (1 subgoal):\n 1. state n (post_meas1 n v i)", "using state_def post_meas1_def"], ["proof (prove)\nusing this:\n  \\<parallel>col (complex_of_real (1 / sqrt (prob1 n v i)) \\<cdot>\\<^sub>m\n                  |vec (2 ^ n)\n                    (\\<lambda>j.\n                        if select_index n i j then v $$ (j, 0)\n                        else 0)\\<rangle>)\n              0\\<parallel> =\n  1 / sqrt (prob1 n v i) * sqrt (prob1 n v i)\n  state ?n ?v \\<equiv>\n  dim_col ?v = 1 \\<and>\n  dim_row ?v = 2 ^ ?n \\<and> \\<parallel>col ?v 0\\<parallel> = 1\n  post_meas1 ?n ?v ?i \\<equiv>\n  complex_of_real (1 / sqrt (prob1 ?n ?v ?i)) \\<cdot>\\<^sub>m\n  |vec (2 ^ ?n)\n    (\\<lambda>j. if select_index ?n ?i j then ?v $$ (j, 0) else 0)\\<rangle>\n\ngoal (1 subgoal):\n 1. state n (post_meas1 n v i)", "by (simp add: ket_vec_def post_meas1_def assms(2))"], ["proof (state)\nthis:\n  state n (post_meas1 n v i)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nThe measurement operator below takes a number of qubits n, a state v of a n-qubits system, a number\ni corresponding to the index (starting from 0) of one qubit among the n-qubits, and it computes a list \nwhose first (resp. second) element is the pair made of the probability that the outcome of the measurement\nof the ith qubit is 0 (resp. 1) and the corresponding post-measurement state of the system.\nOf course, note that i should be strictly less than n and v should be a state of dimension n, i.e. \nstate n v should hold\".\n\\<close>"], ["", "definition meas ::\"nat \\<Rightarrow> complex mat \\<Rightarrow> nat \\<Rightarrow> _list\" where\n\"meas n v i \\<equiv> [(prob0 n v i, post_meas0 n v i), (prob1 n v i, post_meas1 n v i)]\""], ["", "text \\<open>\nWe want to determine the probability that the first n qubits of an n+1 qubit system are 0. \nFor this we need to find the indices of the states of the computational basis whose labels do \nnot have a 1 at spot $i=0,...,n$.\n\\<close>"], ["", "definition prob0_fst_qubits:: \"nat \\<Rightarrow> complex Matrix.mat \\<Rightarrow> real\" where\n\"prob0_fst_qubits n v \\<equiv> \n\\<Sum>j\\<in>{k| k::nat. (k<2^(n+1)) \\<and> (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n+1) i k)}. (cmod(v $$ (j,0)))\\<^sup>2\""], ["", "lemma select_index_div_2:\n  fixes n i j::\"nat\"\n  assumes \"i < 2^(n+1)\" and \"j<n\"\n  shows \"select_index n j (i div 2) = select_index (n+1) j i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. select_index n j (i div 2) = select_index (n + 1) j i", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. select_index n j (i div 2) = select_index (n + 1) j i", "have \"2^(n-Suc j) \\<le> i div 2 mod 2^(n-j) \\<Longrightarrow> 2^(n-j) \\<le> i mod 2^(n+1-j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "define a::nat where a0:\"a = i div 2 mod 2^(n-j)\""], ["proof (state)\nthis:\n  a = i div 2 mod 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "assume \"2^(n-Suc j) \\<le> a\""], ["proof (state)\nthis:\n  2 ^ (n - Suc j) \\<le> a\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "then"], ["proof (chain)\npicking this:\n  2 ^ (n - Suc j) \\<le> a", "have \"2*a + i mod 2 \\<ge> 2^(n-(Suc j)+1)\""], ["proof (prove)\nusing this:\n  2 ^ (n - Suc j) \\<le> a\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j + 1) \\<le> 2 * a + i mod 2", "by simp"], ["proof (state)\nthis:\n  2 ^ (n - Suc j + 1) \\<le> 2 * a + i mod 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "then"], ["proof (chain)\npicking this:\n  2 ^ (n - Suc j + 1) \\<le> 2 * a + i mod 2", "have f0:\"2*a + i mod 2 \\<ge> 2^(n-j)\""], ["proof (prove)\nusing this:\n  2 ^ (n - Suc j + 1) \\<le> 2 * a + i mod 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> 2 * a + i mod 2", "by (metis Suc_diff_Suc Suc_eq_plus1 assms(2))"], ["proof (state)\nthis:\n  2 ^ (n - j) \\<le> 2 * a + i mod 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "have \"a < 2^(n-j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a < 2 ^ (n - j)", "using a0"], ["proof (prove)\nusing this:\n  a = i div 2 mod 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. a < 2 ^ (n - j)", "by simp"], ["proof (state)\nthis:\n  a < 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "then"], ["proof (chain)\npicking this:\n  a < 2 ^ (n - j)", "have \"2*a + i mod 2 < 2*2^(n-j)\""], ["proof (prove)\nusing this:\n  a < 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. 2 * a + i mod 2 < 2 * 2 ^ (n - j)", "by linarith"], ["proof (state)\nthis:\n  2 * a + i mod 2 < 2 * 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "then"], ["proof (chain)\npicking this:\n  2 * a + i mod 2 < 2 * 2 ^ (n - j)", "have \"2*a + i mod 2 < 2^(n-j+1)\""], ["proof (prove)\nusing this:\n  2 * a + i mod 2 < 2 * 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. 2 * a + i mod 2 < 2 ^ (n - j + 1)", "by simp"], ["proof (state)\nthis:\n  2 * a + i mod 2 < 2 ^ (n - j + 1)\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "then"], ["proof (chain)\npicking this:\n  2 * a + i mod 2 < 2 ^ (n - j + 1)", "have f1:\"2*a + i mod 2 < 2^(n+1-j)\""], ["proof (prove)\nusing this:\n  2 * a + i mod 2 < 2 ^ (n - j + 1)\n\ngoal (1 subgoal):\n 1. 2 * a + i mod 2 < 2 ^ (n + 1 - j)", "by (metis Nat.add_diff_assoc2 Suc_leD Suc_leI assms(2))"], ["proof (state)\nthis:\n  2 * a + i mod 2 < 2 ^ (n + 1 - j)\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "have \"i = 2*(a + 2^(n-j)*(i div 2 div 2^(n-j))) + i mod 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i = 2 * (a + 2 ^ (n - j) * (i div 2 div 2 ^ (n - j))) + i mod 2", "using a0"], ["proof (prove)\nusing this:\n  a = i div 2 mod 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. i = 2 * (a + 2 ^ (n - j) * (i div 2 div 2 ^ (n - j))) + i mod 2", "by simp"], ["proof (state)\nthis:\n  i = 2 * (a + 2 ^ (n - j) * (i div 2 div 2 ^ (n - j))) + i mod 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "then"], ["proof (chain)\npicking this:\n  i = 2 * (a + 2 ^ (n - j) * (i div 2 div 2 ^ (n - j))) + i mod 2", "have \"i = 2*a + i mod 2 + 2^(n-j+1)*(i div 2 div 2^(n-j))\""], ["proof (prove)\nusing this:\n  i = 2 * (a + 2 ^ (n - j) * (i div 2 div 2 ^ (n - j))) + i mod 2\n\ngoal (1 subgoal):\n 1. i = 2 * a + i mod 2 + 2 ^ (n - j + 1) * (i div 2 div 2 ^ (n - j))", "by simp"], ["proof (state)\nthis:\n  i = 2 * a + i mod 2 + 2 ^ (n - j + 1) * (i div 2 div 2 ^ (n - j))\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "then"], ["proof (chain)\npicking this:\n  i = 2 * a + i mod 2 + 2 ^ (n - j + 1) * (i div 2 div 2 ^ (n - j))", "have \"i = 2*a + i mod 2 + 2^(n+1-j)*(i div 2 div 2^(n-j))\""], ["proof (prove)\nusing this:\n  i = 2 * a + i mod 2 + 2 ^ (n - j + 1) * (i div 2 div 2 ^ (n - j))\n\ngoal (1 subgoal):\n 1. i = 2 * a + i mod 2 + 2 ^ (n + 1 - j) * (i div 2 div 2 ^ (n - j))", "by (metis Nat.add_diff_assoc2 Suc_leD Suc_leI assms(2))"], ["proof (state)\nthis:\n  i = 2 * a + i mod 2 + 2 ^ (n + 1 - j) * (i div 2 div 2 ^ (n - j))\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "then"], ["proof (chain)\npicking this:\n  i = 2 * a + i mod 2 + 2 ^ (n + 1 - j) * (i div 2 div 2 ^ (n - j))", "have \"i mod 2^(n+1-j) = 2*a + i mod 2\""], ["proof (prove)\nusing this:\n  i = 2 * a + i mod 2 + 2 ^ (n + 1 - j) * (i div 2 div 2 ^ (n - j))\n\ngoal (1 subgoal):\n 1. i mod 2 ^ (n + 1 - j) = 2 * a + i mod 2", "using f1"], ["proof (prove)\nusing this:\n  i = 2 * a + i mod 2 + 2 ^ (n + 1 - j) * (i div 2 div 2 ^ (n - j))\n  2 * a + i mod 2 < 2 ^ (n + 1 - j)\n\ngoal (1 subgoal):\n 1. i mod 2 ^ (n + 1 - j) = 2 * a + i mod 2", "by (metis mod_if mod_mult_self2)"], ["proof (state)\nthis:\n  i mod 2 ^ (n + 1 - j) = 2 * a + i mod 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n    2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "then"], ["proof (chain)\npicking this:\n  i mod 2 ^ (n + 1 - j) = 2 * a + i mod 2", "show \"2^(n-j) \\<le> i mod 2^(n+1-j)\""], ["proof (prove)\nusing this:\n  i mod 2 ^ (n + 1 - j) = 2 * a + i mod 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "using f0"], ["proof (prove)\nusing this:\n  i mod 2 ^ (n + 1 - j) = 2 * a + i mod 2\n  2 ^ (n - j) \\<le> 2 * a + i mod 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)", "by simp"], ["proof (state)\nthis:\n  2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n  2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)\n\ngoal (1 subgoal):\n 1. select_index n j (i div 2) = select_index (n + 1) j i", "moreover"], ["proof (state)\nthis:\n  2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n  2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)\n\ngoal (1 subgoal):\n 1. select_index n j (i div 2) = select_index (n + 1) j i", "have \"2^(n-j) \\<le> i mod 2^(n+1-j) \\<Longrightarrow> 2^(n-Suc j) \\<le> i div 2 mod 2^(n-j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "define a::nat where a0:\"a = i div 2 mod 2^(n-j)\""], ["proof (state)\nthis:\n  a = i div 2 mod 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "assume a1:\"2^(n-j) \\<le> i mod 2^(n+1-j)\""], ["proof (state)\nthis:\n  2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "have f0:\"2^(n-j) = 2^(n-Suc j+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (2::'a) ^ (n - j) = (2::'a) ^ (n - Suc j + 1)", "by (metis Suc_diff_Suc Suc_eq_plus1 assms(2))"], ["proof (state)\nthis:\n  (2::?'a1) ^ (n - j) = (2::?'a1) ^ (n - Suc j + 1)\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "have \"a < 2^(n-j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a < 2 ^ (n - j)", "using a0"], ["proof (prove)\nusing this:\n  a = i div 2 mod 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. a < 2 ^ (n - j)", "by simp"], ["proof (state)\nthis:\n  a < 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "then"], ["proof (chain)\npicking this:\n  a < 2 ^ (n - j)", "have \"2*a + i mod 2 < 2*2^(n-j)\""], ["proof (prove)\nusing this:\n  a < 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. 2 * a + i mod 2 < 2 * 2 ^ (n - j)", "by linarith"], ["proof (state)\nthis:\n  2 * a + i mod 2 < 2 * 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "then"], ["proof (chain)\npicking this:\n  2 * a + i mod 2 < 2 * 2 ^ (n - j)", "have \"2*a + i mod 2 < 2^(n-j+1)\""], ["proof (prove)\nusing this:\n  2 * a + i mod 2 < 2 * 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. 2 * a + i mod 2 < 2 ^ (n - j + 1)", "by simp"], ["proof (state)\nthis:\n  2 * a + i mod 2 < 2 ^ (n - j + 1)\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "then"], ["proof (chain)\npicking this:\n  2 * a + i mod 2 < 2 ^ (n - j + 1)", "have f1:\"2*a + i mod 2 < 2^(n+1-j)\""], ["proof (prove)\nusing this:\n  2 * a + i mod 2 < 2 ^ (n - j + 1)\n\ngoal (1 subgoal):\n 1. 2 * a + i mod 2 < 2 ^ (n + 1 - j)", "by (metis Nat.add_diff_assoc2 Suc_leD Suc_leI assms(2))"], ["proof (state)\nthis:\n  2 * a + i mod 2 < 2 ^ (n + 1 - j)\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "have \"i = 2*(a + 2^(n-j)*(i div 2 div 2^(n-j))) + i mod 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i = 2 * (a + 2 ^ (n - j) * (i div 2 div 2 ^ (n - j))) + i mod 2", "using a0"], ["proof (prove)\nusing this:\n  a = i div 2 mod 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. i = 2 * (a + 2 ^ (n - j) * (i div 2 div 2 ^ (n - j))) + i mod 2", "by simp"], ["proof (state)\nthis:\n  i = 2 * (a + 2 ^ (n - j) * (i div 2 div 2 ^ (n - j))) + i mod 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "then"], ["proof (chain)\npicking this:\n  i = 2 * (a + 2 ^ (n - j) * (i div 2 div 2 ^ (n - j))) + i mod 2", "have \"i = 2*a + i mod 2 + 2^(n-j+1)*(i div 2 div 2^(n-j))\""], ["proof (prove)\nusing this:\n  i = 2 * (a + 2 ^ (n - j) * (i div 2 div 2 ^ (n - j))) + i mod 2\n\ngoal (1 subgoal):\n 1. i = 2 * a + i mod 2 + 2 ^ (n - j + 1) * (i div 2 div 2 ^ (n - j))", "by simp"], ["proof (state)\nthis:\n  i = 2 * a + i mod 2 + 2 ^ (n - j + 1) * (i div 2 div 2 ^ (n - j))\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "then"], ["proof (chain)\npicking this:\n  i = 2 * a + i mod 2 + 2 ^ (n - j + 1) * (i div 2 div 2 ^ (n - j))", "have \"i = 2*a + i mod 2 + 2^(n+1-j)*(i div 2 div 2^(n-j))\""], ["proof (prove)\nusing this:\n  i = 2 * a + i mod 2 + 2 ^ (n - j + 1) * (i div 2 div 2 ^ (n - j))\n\ngoal (1 subgoal):\n 1. i = 2 * a + i mod 2 + 2 ^ (n + 1 - j) * (i div 2 div 2 ^ (n - j))", "by (metis Nat.add_diff_assoc2 Suc_leD Suc_leI assms(2))"], ["proof (state)\nthis:\n  i = 2 * a + i mod 2 + 2 ^ (n + 1 - j) * (i div 2 div 2 ^ (n - j))\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "then"], ["proof (chain)\npicking this:\n  i = 2 * a + i mod 2 + 2 ^ (n + 1 - j) * (i div 2 div 2 ^ (n - j))", "have \"i mod 2^(n+1-j) = 2*a + i mod 2\""], ["proof (prove)\nusing this:\n  i = 2 * a + i mod 2 + 2 ^ (n + 1 - j) * (i div 2 div 2 ^ (n - j))\n\ngoal (1 subgoal):\n 1. i mod 2 ^ (n + 1 - j) = 2 * a + i mod 2", "using f1"], ["proof (prove)\nusing this:\n  i = 2 * a + i mod 2 + 2 ^ (n + 1 - j) * (i div 2 div 2 ^ (n - j))\n  2 * a + i mod 2 < 2 ^ (n + 1 - j)\n\ngoal (1 subgoal):\n 1. i mod 2 ^ (n + 1 - j) = 2 * a + i mod 2", "by (metis mod_if mod_mult_self2)"], ["proof (state)\nthis:\n  i mod 2 ^ (n + 1 - j) = 2 * a + i mod 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "then"], ["proof (chain)\npicking this:\n  i mod 2 ^ (n + 1 - j) = 2 * a + i mod 2", "have \"2*a + i mod 2 \\<ge> 2^(n-j)\""], ["proof (prove)\nusing this:\n  i mod 2 ^ (n + 1 - j) = 2 * a + i mod 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> 2 * a + i mod 2", "using a1"], ["proof (prove)\nusing this:\n  i mod 2 ^ (n + 1 - j) = 2 * a + i mod 2\n  2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> 2 * a + i mod 2", "by simp"], ["proof (state)\nthis:\n  2 ^ (n - j) \\<le> 2 * a + i mod 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "then"], ["proof (chain)\npicking this:\n  2 ^ (n - j) \\<le> 2 * a + i mod 2", "have \"(2*a + i mod 2) div 2 \\<ge> (2^(n-j)) div 2\""], ["proof (prove)\nusing this:\n  2 ^ (n - j) \\<le> 2 * a + i mod 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) div 2 \\<le> (2 * a + i mod 2) div 2", "using div_le_mono"], ["proof (prove)\nusing this:\n  2 ^ (n - j) \\<le> 2 * a + i mod 2\n  ?m \\<le> ?n \\<Longrightarrow> ?m div ?k \\<le> ?n div ?k\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) div 2 \\<le> (2 * a + i mod 2) div 2", "by blast"], ["proof (state)\nthis:\n  2 ^ (n - j) div 2 \\<le> (2 * a + i mod 2) div 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n    2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "then"], ["proof (chain)\npicking this:\n  2 ^ (n - j) div 2 \\<le> (2 * a + i mod 2) div 2", "show \"2^(n-Suc j) \\<le> a\""], ["proof (prove)\nusing this:\n  2 ^ (n - j) div 2 \\<le> (2 * a + i mod 2) div 2\n\ngoal (1 subgoal):\n 1. 2 ^ (n - Suc j) \\<le> a", "by (simp add: f0)"], ["proof (state)\nthis:\n  2 ^ (n - Suc j) \\<le> a\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n  2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. select_index n j (i div 2) = select_index (n + 1) j i", "ultimately"], ["proof (chain)\npicking this:\n  2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n  2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)\n  2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n  2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)", "show ?thesis"], ["proof (prove)\nusing this:\n  2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n  2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)\n  2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n  2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)\n\ngoal (1 subgoal):\n 1. select_index n j (i div 2) = select_index (n + 1) j i", "using select_index_def assms"], ["proof (prove)\nusing this:\n  2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j) \\<Longrightarrow>\n  2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j)\n  2 ^ (n - j) \\<le> i mod 2 ^ (n + 1 - j) \\<Longrightarrow>\n  2 ^ (n - Suc j) \\<le> i div 2 mod 2 ^ (n - j)\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n  i < 2 ^ (n + 1)\n  j < n\n\ngoal (1 subgoal):\n 1. select_index n j (i div 2) = select_index (n + 1) j i", "by auto"], ["proof (state)\nthis:\n  select_index n j (i div 2) = select_index (n + 1) j i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma select_index_suc_even:\n  fixes n k i:: nat\n  assumes \"k < 2^n\" and \"select_index n i k\"\n  shows \"select_index (Suc n) i (2*k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k)", "have \"select_index n i k = select_index n i (2*k div 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. select_index n i k = select_index n i (2 * k div 2)", "by simp"], ["proof (state)\nthis:\n  select_index n i k = select_index n i (2 * k div 2)\n\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k)", "moreover"], ["proof (state)\nthis:\n  select_index n i k = select_index n i (2 * k div 2)\n\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k)", "have \"\\<dots> = select_index (Suc n) i (2*k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. select_index n i (2 * k div 2) = select_index (Suc n) i (2 * k)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. select_index n i (2 * k div 2) = select_index (Suc n) i (2 * k)", "have \"i < n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < n", "using assms(2) select_index_def"], ["proof (prove)\nusing this:\n  select_index n i k\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. i < n", "by (metis (no_types, hide_lams) Suc_eq_plus1 assms(1) calculation diff_diff_left diff_le_self \ndiff_self_eq_0 div_by_1 le_0_eq le_eq_less_or_eq less_imp_diff_less mod_div_trivial mult.left_neutral mult_eq_0_iff mult_le_mono1 not_less plus_1_eq_Suc power_0 semiring_normalization_rules(7))"], ["proof (state)\nthis:\n  i < n\n\ngoal (1 subgoal):\n 1. select_index n i (2 * k div 2) = select_index (Suc n) i (2 * k)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i < n\n\ngoal (1 subgoal):\n 1. select_index n i (2 * k div 2) = select_index (Suc n) i (2 * k)", "using select_index_div_2 assms(1) select_index_def"], ["proof (prove)\nusing this:\n  i < n\n  \\<lbrakk>?i < 2 ^ (?n + 1); ?j < ?n\\<rbrakk>\n  \\<Longrightarrow> select_index ?n ?j (?i div 2) =\n                    select_index (?n + 1) ?j ?i\n  k < 2 ^ n\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. select_index n i (2 * k div 2) = select_index (Suc n) i (2 * k)", "by(metis Suc_1 Suc_eq_plus1 Suc_mult_less_cancel1 power_Suc)"], ["proof (state)\nthis:\n  select_index n i (2 * k div 2) = select_index (Suc n) i (2 * k)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  select_index n i (2 * k div 2) = select_index (Suc n) i (2 * k)\n\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k)", "ultimately"], ["proof (chain)\npicking this:\n  select_index n i k = select_index n i (2 * k div 2)\n  select_index n i (2 * k div 2) = select_index (Suc n) i (2 * k)", "show \"select_index (Suc n) i (2*k)\""], ["proof (prove)\nusing this:\n  select_index n i k = select_index n i (2 * k div 2)\n  select_index n i (2 * k div 2) = select_index (Suc n) i (2 * k)\n\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k)", "using assms(2)"], ["proof (prove)\nusing this:\n  select_index n i k = select_index n i (2 * k div 2)\n  select_index n i (2 * k div 2) = select_index (Suc n) i (2 * k)\n  select_index n i k\n\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k)", "by simp"], ["proof (state)\nthis:\n  select_index (Suc n) i (2 * k)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma select_index_suc_odd:\n  fixes n k i:: nat\n  assumes \"k \\<le> 2^n -1\" and \"select_index n i k\"\n  shows \"select_index (Suc n) i (2*k+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k + 1)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k + 1)", "have \"((2*k+1) mod 2^(Suc n - i) \\<ge> 2^(n - i)) =  \n(((2*k+1) div 2) mod 2^(n - i) \\<ge> 2^(n-1-i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n    (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n    (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i))", "have \"2*k+1 < 2^(n + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * k + 1 < 2 ^ (n + 1)", "using assms(1)"], ["proof (prove)\nusing this:\n  k \\<le> 2 ^ n - 1\n\ngoal (1 subgoal):\n 1. 2 * k + 1 < 2 ^ (n + 1)", "by (smt Suc_1 Suc_eq_plus1 Suc_le_lessD Suc_le_mono add_Suc_right distrib_left_numeral le_add_diff_inverse mult_le_mono2 nat_mult_1_right one_le_numeral one_le_power plus_1_eq_Suc power_add power_one_right)"], ["proof (state)\nthis:\n  2 * k + 1 < 2 ^ (n + 1)\n\ngoal (1 subgoal):\n 1. (2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n    (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i))", "moreover"], ["proof (state)\nthis:\n  2 * k + 1 < 2 ^ (n + 1)\n\ngoal (1 subgoal):\n 1. (2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n    (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i))", "have \"i < n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < n", "using assms(2) select_index_def"], ["proof (prove)\nusing this:\n  select_index n i k\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. i < n", "by (metis (no_types, hide_lams) add_cancel_left_left add_diff_inverse_nat diff_le_self div_by_1 le_antisym less_le_trans less_one mod_div_trivial not_le power_0)"], ["proof (state)\nthis:\n  i < n\n\ngoal (1 subgoal):\n 1. (2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n    (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i))", "ultimately"], ["proof (chain)\npicking this:\n  2 * k + 1 < 2 ^ (n + 1)\n  i < n", "show ?thesis"], ["proof (prove)\nusing this:\n  2 * k + 1 < 2 ^ (n + 1)\n  i < n\n\ngoal (1 subgoal):\n 1. (2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n    (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i))", "using select_index_div_2[of \"2*k+1\" \"n\" i] select_index_def"], ["proof (prove)\nusing this:\n  2 * k + 1 < 2 ^ (n + 1)\n  i < n\n  \\<lbrakk>2 * k + 1 < 2 ^ (n + 1); i < n\\<rbrakk>\n  \\<Longrightarrow> select_index n i ((2 * k + 1) div 2) =\n                    select_index (n + 1) i (2 * k + 1)\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. (2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n    (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i))", "by (metis Nat.le_diff_conv2 Suc_eq_plus1 Suc_leI assms(2) diff_Suc_1 less_imp_le less_power_add_imp_div_less one_le_numeral one_le_power power_one_right)"], ["proof (state)\nthis:\n  (2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n  (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n  (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i))\n\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k + 1)", "moreover"], ["proof (state)\nthis:\n  (2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n  (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i))\n\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k + 1)", "have \"\\<dots> = (k mod 2^(n - i) \\<ge> 2^(n-1-i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i)) =\n    (2 ^ (n - 1 - i) \\<le> k mod 2 ^ (n - i))", "by simp"], ["proof (state)\nthis:\n  (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i)) =\n  (2 ^ (n - 1 - i) \\<le> k mod 2 ^ (n - i))\n\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k + 1)", "ultimately"], ["proof (chain)\npicking this:\n  (2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n  (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i))\n  (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i)) =\n  (2 ^ (n - 1 - i) \\<le> k mod 2 ^ (n - i))", "show ?thesis"], ["proof (prove)\nusing this:\n  (2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n  (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i))\n  (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i)) =\n  (2 ^ (n - 1 - i) \\<le> k mod 2 ^ (n - i))\n\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k + 1)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n             (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i));\n     (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i)) =\n     (2 ^ (n - 1 - i) \\<le> k mod 2 ^ (n - i))\\<rbrakk>\n    \\<Longrightarrow> select_index (Suc n) i (2 * k + 1)", "have \"i \\<le> Suc n -1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<le> Suc n - 1", "using assms(2) select_index_def"], ["proof (prove)\nusing this:\n  select_index n i k\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. i \\<le> Suc n - 1", "by auto"], ["proof (state)\nthis:\n  i \\<le> Suc n - 1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n             (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i));\n     (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i)) =\n     (2 ^ (n - 1 - i) \\<le> k mod 2 ^ (n - i))\\<rbrakk>\n    \\<Longrightarrow> select_index (Suc n) i (2 * k + 1)", "moreover"], ["proof (state)\nthis:\n  i \\<le> Suc n - 1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n             (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i));\n     (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i)) =\n     (2 ^ (n - 1 - i) \\<le> k mod 2 ^ (n - i))\\<rbrakk>\n    \\<Longrightarrow> select_index (Suc n) i (2 * k + 1)", "have \"2*k+1 \\<le> 2^(Suc n)-1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * k + 1 \\<le> 2 ^ Suc n - 1", "using assms(1)"], ["proof (prove)\nusing this:\n  k \\<le> 2 ^ n - 1\n\ngoal (1 subgoal):\n 1. 2 * k + 1 \\<le> 2 ^ Suc n - 1", "by (smt Suc_diff_1 Suc_eq_plus1 add_diff_cancel_right' diff_Suc_diff_eq2 diff_diff_left diff_is_0_eq diff_mult_distrib2 le_add2 mult_2 mult_Suc_right plus_1_eq_Suc pos2 power_Suc zero_less_power)"], ["proof (state)\nthis:\n  2 * k + 1 \\<le> 2 ^ Suc n - 1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) =\n             (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i));\n     (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i)) =\n     (2 ^ (n - 1 - i) \\<le> k mod 2 ^ (n - i))\\<rbrakk>\n    \\<Longrightarrow> select_index (Suc n) i (2 * k + 1)", "ultimately"], ["proof (chain)\npicking this:\n  i \\<le> Suc n - 1\n  2 * k + 1 \\<le> 2 ^ Suc n - 1", "show ?thesis"], ["proof (prove)\nusing this:\n  i \\<le> Suc n - 1\n  2 * k + 1 \\<le> 2 ^ Suc n - 1\n\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k + 1)", "using select_index_def"], ["proof (prove)\nusing this:\n  i \\<le> Suc n - 1\n  2 * k + 1 \\<le> 2 ^ Suc n - 1\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. select_index (Suc n) i (2 * k + 1)", "by (metis \\<open>(2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i)) = (2 ^ (n - 1 - i) \\<le> k mod 2 ^ (n - i))\\<close> \\<open>(2 ^ (n - i) \\<le> (2 * k + 1) mod 2 ^ (Suc n - i)) = (2 ^ (n - 1 - i) \\<le> (2 * k + 1) div 2 mod 2 ^ (n - i))\\<close> assms(2) diff_Suc_1)"], ["proof (state)\nthis:\n  select_index (Suc n) i (2 * k + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  select_index (Suc n) i (2 * k + 1)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma aux_range:\n  fixes k:: nat\n  assumes \"k < 2^(Suc n + 1)\" and \"k \\<ge> 2\"\n  shows \"k = 2 \\<or> k = 3 \\<or> (\\<exists>l. l\\<ge>2 \\<and> l\\<le>2^(n+1)-1 \\<and> (k = 2*l \\<or> k = 2*l + 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. k = 2 \\<or>\n    k = 3 \\<or>\n    (\\<exists>l\\<ge>2.\n        l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1))", "proof(rule disjCI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (k = 3 \\<or>\n            (\\<exists>l\\<ge>2.\n                l \\<le> 2 ^ (n + 1) - 1 \\<and>\n                (k = 2 * l \\<or> k = 2 * l + 1))) \\<Longrightarrow>\n    k = 2", "assume \"\\<not> (k = 3 \\<or> (\\<exists>l\\<ge>2. l \\<le> 2^(n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1)))\""], ["proof (state)\nthis:\n  \\<not> (k = 3 \\<or>\n          (\\<exists>l\\<ge>2.\n              l \\<le> 2 ^ (n + 1) - 1 \\<and>\n              (k = 2 * l \\<or> k = 2 * l + 1)))\n\ngoal (1 subgoal):\n 1. \\<not> (k = 3 \\<or>\n            (\\<exists>l\\<ge>2.\n                l \\<le> 2 ^ (n + 1) - 1 \\<and>\n                (k = 2 * l \\<or> k = 2 * l + 1))) \\<Longrightarrow>\n    k = 2", "have \"k > 3 \\<longrightarrow> (\\<exists>l\\<ge>2. l \\<le> 2^(n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 < k \\<longrightarrow>\n    (\\<exists>l\\<ge>2.\n        l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1))", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. 3 < k \\<Longrightarrow>\n    \\<exists>l\\<ge>2.\n       l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1)", "assume asm:\"k > 3\""], ["proof (state)\nthis:\n  3 < k\n\ngoal (1 subgoal):\n 1. 3 < k \\<Longrightarrow>\n    \\<exists>l\\<ge>2.\n       l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1)", "have \"even k \\<or> odd k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. even k \\<or> odd k", "by simp"], ["proof (state)\nthis:\n  even k \\<or> odd k\n\ngoal (1 subgoal):\n 1. 3 < k \\<Longrightarrow>\n    \\<exists>l\\<ge>2.\n       l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1)", "then"], ["proof (chain)\npicking this:\n  even k \\<or> odd k", "obtain l where \"k = 2*l \\<or> k = 2*l+1\""], ["proof (prove)\nusing this:\n  even k \\<or> odd k\n\ngoal (1 subgoal):\n 1. (\\<And>l.\n        k = 2 * l \\<or> k = 2 * l + 1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (meson evenE oddE)"], ["proof (state)\nthis:\n  k = 2 * l \\<or> k = 2 * l + 1\n\ngoal (1 subgoal):\n 1. 3 < k \\<Longrightarrow>\n    \\<exists>l\\<ge>2.\n       l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1)", "moreover"], ["proof (state)\nthis:\n  k = 2 * l \\<or> k = 2 * l + 1\n\ngoal (1 subgoal):\n 1. 3 < k \\<Longrightarrow>\n    \\<exists>l\\<ge>2.\n       l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1)", "have \"l \\<ge> 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 \\<le> l", "using asm calculation"], ["proof (prove)\nusing this:\n  3 < k\n  k = 2 * l \\<or> k = 2 * l + 1\n\ngoal (1 subgoal):\n 1. 2 \\<le> l", "by linarith"], ["proof (state)\nthis:\n  2 \\<le> l\n\ngoal (1 subgoal):\n 1. 3 < k \\<Longrightarrow>\n    \\<exists>l\\<ge>2.\n       l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1)", "moreover"], ["proof (state)\nthis:\n  2 \\<le> l\n\ngoal (1 subgoal):\n 1. 3 < k \\<Longrightarrow>\n    \\<exists>l\\<ge>2.\n       l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1)", "have \"l \\<le> 2^(n+1) - 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l \\<le> 2 ^ (n + 1) - 1", "using assms(1)"], ["proof (prove)\nusing this:\n  k < 2 ^ (Suc n + 1)\n\ngoal (1 subgoal):\n 1. l \\<le> 2 ^ (n + 1) - 1", "by (metis Suc_diff_1 Suc_eq_plus1 calculation(1) dvd_triv_left even_Suc_div_two less_Suc_eq_le less_power_add_imp_div_less nonzero_mult_div_cancel_left pos2 power_one_right zero_less_power zero_neq_numeral)"], ["proof (state)\nthis:\n  l \\<le> 2 ^ (n + 1) - 1\n\ngoal (1 subgoal):\n 1. 3 < k \\<Longrightarrow>\n    \\<exists>l\\<ge>2.\n       l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1)", "ultimately"], ["proof (chain)\npicking this:\n  k = 2 * l \\<or> k = 2 * l + 1\n  2 \\<le> l\n  l \\<le> 2 ^ (n + 1) - 1", "show \"\\<exists>l\\<ge>2. l \\<le> 2^(n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1)\""], ["proof (prove)\nusing this:\n  k = 2 * l \\<or> k = 2 * l + 1\n  2 \\<le> l\n  l \\<le> 2 ^ (n + 1) - 1\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<ge>2.\n       l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1)", "by auto"], ["proof (state)\nthis:\n  \\<exists>l\\<ge>2.\n     l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  3 < k \\<longrightarrow>\n  (\\<exists>l\\<ge>2.\n      l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1))\n\ngoal (1 subgoal):\n 1. \\<not> (k = 3 \\<or>\n            (\\<exists>l\\<ge>2.\n                l \\<le> 2 ^ (n + 1) - 1 \\<and>\n                (k = 2 * l \\<or> k = 2 * l + 1))) \\<Longrightarrow>\n    k = 2", "then"], ["proof (chain)\npicking this:\n  3 < k \\<longrightarrow>\n  (\\<exists>l\\<ge>2.\n      l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1))", "have \"k \\<le> 2\""], ["proof (prove)\nusing this:\n  3 < k \\<longrightarrow>\n  (\\<exists>l\\<ge>2.\n      l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1))\n\ngoal (1 subgoal):\n 1. k \\<le> 2", "using \\<open>\\<not> (k = 3 \\<or> (\\<exists>l\\<ge>2. l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1)))\\<close> less_Suc_eq_le"], ["proof (prove)\nusing this:\n  3 < k \\<longrightarrow>\n  (\\<exists>l\\<ge>2.\n      l \\<le> 2 ^ (n + 1) - 1 \\<and> (k = 2 * l \\<or> k = 2 * l + 1))\n  \\<not> (k = 3 \\<or>\n          (\\<exists>l\\<ge>2.\n              l \\<le> 2 ^ (n + 1) - 1 \\<and>\n              (k = 2 * l \\<or> k = 2 * l + 1)))\n  (?m < Suc ?n) = (?m \\<le> ?n)\n\ngoal (1 subgoal):\n 1. k \\<le> 2", "by auto"], ["proof (state)\nthis:\n  k \\<le> 2\n\ngoal (1 subgoal):\n 1. \\<not> (k = 3 \\<or>\n            (\\<exists>l\\<ge>2.\n                l \\<le> 2 ^ (n + 1) - 1 \\<and>\n                (k = 2 * l \\<or> k = 2 * l + 1))) \\<Longrightarrow>\n    k = 2", "thus \"k = 2\""], ["proof (prove)\nusing this:\n  k \\<le> 2\n\ngoal (1 subgoal):\n 1. k = 2", "using assms(2)"], ["proof (prove)\nusing this:\n  k \\<le> 2\n  2 \\<le> k\n\ngoal (1 subgoal):\n 1. k = 2", "by simp"], ["proof (state)\nthis:\n  k = 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma select_index_with_1:\n  fixes n:: nat\n  assumes \"n \\<ge> 1\"\n  shows \"\\<forall>k. k < 2^(n+1) \\<longrightarrow> k \\<ge> 2 \\<longrightarrow> (\\<exists>i<n. select_index (n+1) i k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>k<2 ^ (n + 1).\n       2 \\<le> k \\<longrightarrow> (\\<exists>i<n. select_index (n + 1) i k)", "using assms"], ["proof (prove)\nusing this:\n  1 \\<le> n\n\ngoal (1 subgoal):\n 1. \\<forall>k<2 ^ (n + 1).\n       2 \\<le> k \\<longrightarrow> (\\<exists>i<n. select_index (n + 1) i k)", "proof(rule nat_induct_at_least)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>k<2 ^ (1 + 1).\n       2 \\<le> k \\<longrightarrow> (\\<exists>i<1. select_index (1 + 1) i k)\n 2. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "show \"\\<forall>k< 2^(1+1). 2 \\<le> k \\<longrightarrow> (\\<exists>i<1. select_index (1+1) i k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>k<2 ^ (1 + 1).\n       2 \\<le> k \\<longrightarrow> (\\<exists>i<1. select_index (1 + 1) i k)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>k<2 ^ (1 + 1).\n       2 \\<le> k \\<longrightarrow> (\\<exists>i<1. select_index (1 + 1) i k)", "have \"select_index 2 0 2 = True\""], ["proof (prove)\ngoal (1 subgoal):\n 1. select_index 2 0 2 = True", "using select_index_def"], ["proof (prove)\nusing this:\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. select_index 2 0 2 = True", "by simp"], ["proof (state)\nthis:\n  select_index 2 0 2 = True\n\ngoal (1 subgoal):\n 1. \\<forall>k<2 ^ (1 + 1).\n       2 \\<le> k \\<longrightarrow> (\\<exists>i<1. select_index (1 + 1) i k)", "moreover"], ["proof (state)\nthis:\n  select_index 2 0 2 = True\n\ngoal (1 subgoal):\n 1. \\<forall>k<2 ^ (1 + 1).\n       2 \\<le> k \\<longrightarrow> (\\<exists>i<1. select_index (1 + 1) i k)", "have \"select_index 2 0 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. select_index 2 0 3", "using select_index_def"], ["proof (prove)\nusing this:\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. select_index 2 0 3", "by simp"], ["proof (state)\nthis:\n  select_index 2 0 3\n\ngoal (1 subgoal):\n 1. \\<forall>k<2 ^ (1 + 1).\n       2 \\<le> k \\<longrightarrow> (\\<exists>i<1. select_index (1 + 1) i k)", "ultimately"], ["proof (chain)\npicking this:\n  select_index 2 0 2 = True\n  select_index 2 0 3", "show ?thesis"], ["proof (prove)\nusing this:\n  select_index 2 0 2 = True\n  select_index 2 0 3\n\ngoal (1 subgoal):\n 1. \\<forall>k<2 ^ (1 + 1).\n       2 \\<le> k \\<longrightarrow> (\\<exists>i<1. select_index (1 + 1) i k)", "by (metis Suc_leI add_Suc_shift le_eq_less_or_eq mult_2 not_less one_add_one one_plus_numeral \nplus_1_eq_Suc power.simps(2) power_one_right semiring_norm(3) zero_less_one_class.zero_less_one)"], ["proof (state)\nthis:\n  \\<forall>k<2 ^ (1 + 1).\n     2 \\<le> k \\<longrightarrow> (\\<exists>i<1. select_index (1 + 1) i k)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>k<2 ^ (1 + 1).\n     2 \\<le> k \\<longrightarrow> (\\<exists>i<1. select_index (1 + 1) i k)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "show \"\\<And>n. 1 \\<le> n \\<Longrightarrow>\n         \\<forall>k < 2^(n+1). 2 \\<le> k \\<longrightarrow> (\\<exists>i<n. select_index (n+1) i k) \\<Longrightarrow>\n         \\<forall>k < 2^(Suc n + 1). 2 \\<le> k \\<longrightarrow> (\\<exists>i<Suc n. select_index (Suc n +1) i k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "fix n:: nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "assume asm:\"n \\<ge> 1\" and IH:\"\\<forall>k < 2^(n+1). 2 \\<le> k \\<longrightarrow> (\\<exists>i<n. select_index (n+1) i k)\""], ["proof (state)\nthis:\n  1 \\<le> n\n  \\<forall>k<2 ^ (n + 1).\n     2 \\<le> k \\<longrightarrow> (\\<exists>i<n. select_index (n + 1) i k)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "have \"select_index (Suc n + 1) n 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 2", "have \"select_index (Suc n) n 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. select_index (Suc n) n 1", "using select_index_def"], ["proof (prove)\nusing this:\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. select_index (Suc n) n 1", "by(smt Suc_1 Suc_diff_Suc Suc_lessI add_diff_cancel_right' diff_Suc_1 \ndiff_commute diff_zero le_eq_less_or_eq less_Suc_eq_le nat.simps(3) nat_power_eq_Suc_0_iff \none_mod_two_eq_one plus_1_eq_Suc power_one_right zero_less_power)"], ["proof (state)\nthis:\n  select_index (Suc n) n 1\n\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 2", "thus ?thesis"], ["proof (prove)\nusing this:\n  select_index (Suc n) n 1\n\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 2", "using select_index_suc_even"], ["proof (prove)\nusing this:\n  select_index (Suc n) n 1\n  \\<lbrakk>?k < 2 ^ ?n; select_index ?n ?i ?k\\<rbrakk>\n  \\<Longrightarrow> select_index (Suc ?n) ?i (2 * ?k)\n\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 2", "by (metis Suc_eq_plus1 less_numeral_extra(4) mult_2 not_less_less_Suc_eq one_add_one one_less_power zero_less_Suc)"], ["proof (state)\nthis:\n  select_index (Suc n + 1) n 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  select_index (Suc n + 1) n 2\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "moreover"], ["proof (state)\nthis:\n  select_index (Suc n + 1) n 2\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "have \"select_index (Suc n + 1) n 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 3", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 3", "have \"select_index (Suc n) n 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. select_index (Suc n) n 1", "using select_index_def"], ["proof (prove)\nusing this:\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. select_index (Suc n) n 1", "by(smt Suc_1 Suc_diff_Suc Suc_lessI add_diff_cancel_right' diff_Suc_1 \ndiff_commute diff_zero le_eq_less_or_eq less_Suc_eq_le nat.simps(3) nat_power_eq_Suc_0_iff \none_mod_two_eq_one plus_1_eq_Suc power_one_right zero_less_power)"], ["proof (state)\nthis:\n  select_index (Suc n) n 1\n\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 3", "thus ?thesis"], ["proof (prove)\nusing this:\n  select_index (Suc n) n 1\n\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 3", "using select_index_suc_odd"], ["proof (prove)\nusing this:\n  select_index (Suc n) n 1\n  \\<lbrakk>?k \\<le> 2 ^ ?n - 1; select_index ?n ?i ?k\\<rbrakk>\n  \\<Longrightarrow> select_index (Suc ?n) ?i (2 * ?k + 1)\n\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 3", "by (metis One_nat_def Suc_eq_plus1 mult_2 numeral_3_eq_3 select_index_def)"], ["proof (state)\nthis:\n  select_index (Suc n + 1) n 3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  select_index (Suc n + 1) n 3\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "moreover"], ["proof (state)\nthis:\n  select_index (Suc n + 1) n 3\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "have \"\\<exists>i<Suc n. select_index (Suc n +1) i (2*k)\" if \"k \\<ge> 2\" and \"k \\<le> 2^(n + 1)-1\" for k:: nat"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k)", "obtain i where \"i<n\" and \"select_index (n+1) i k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < n; select_index (n + 1) i k\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using IH"], ["proof (prove)\nusing this:\n  \\<forall>k<2 ^ (n + 1).\n     2 \\<le> k \\<longrightarrow> (\\<exists>i<n. select_index (n + 1) i k)\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < n; select_index (n + 1) i k\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(metis One_nat_def Suc_diff_Suc \\<open>2 \\<le> k\\<close> \\<open>k \\<le> 2 ^ (n + 1) - 1\\<close> diff_zero le_imp_less_Suc pos2 zero_less_power)"], ["proof (state)\nthis:\n  i < n\n  select_index (n + 1) i k\n\ngoal (1 subgoal):\n 1. \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k)", "then"], ["proof (chain)\npicking this:\n  i < n\n  select_index (n + 1) i k", "have \"select_index (Suc n +1) i (2*k)\""], ["proof (prove)\nusing this:\n  i < n\n  select_index (n + 1) i k\n\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) i (2 * k)", "using select_index_suc_even"], ["proof (prove)\nusing this:\n  i < n\n  select_index (n + 1) i k\n  \\<lbrakk>?k < 2 ^ ?n; select_index ?n ?i ?k\\<rbrakk>\n  \\<Longrightarrow> select_index (Suc ?n) ?i (2 * ?k)\n\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) i (2 * k)", "by (metis One_nat_def Suc_diff_Suc add.commute diff_zero le_imp_less_Suc plus_1_eq_Suc pos2 that(2) zero_less_power)"], ["proof (state)\nthis:\n  select_index (Suc n + 1) i (2 * k)\n\ngoal (1 subgoal):\n 1. \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k)", "thus ?thesis"], ["proof (prove)\nusing this:\n  select_index (Suc n + 1) i (2 * k)\n\ngoal (1 subgoal):\n 1. \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k)", "using \\<open>i < n\\<close> less_SucI"], ["proof (prove)\nusing this:\n  select_index (Suc n + 1) i (2 * k)\n  i < n\n  ?m < ?n \\<Longrightarrow> ?m < Suc ?n\n\ngoal (1 subgoal):\n 1. \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k)", "by blast"], ["proof (state)\nthis:\n  \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>2 \\<le> ?k; ?k \\<le> 2 ^ (n + 1) - 1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * ?k)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>2 \\<le> ?k; ?k \\<le> 2 ^ (n + 1) - 1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * ?k)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "have \"\\<exists>i<Suc n. select_index (Suc n +1) i (2*k +1)\" if \"k \\<ge> 2\" and \"k \\<le> 2^(n + 1)-1\" for k:: nat"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k + 1)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k + 1)", "obtain i where \"i<n\" and \"select_index (n+1) i k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < n; select_index (n + 1) i k\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using IH"], ["proof (prove)\nusing this:\n  \\<forall>k<2 ^ (n + 1).\n     2 \\<le> k \\<longrightarrow> (\\<exists>i<n. select_index (n + 1) i k)\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < n; select_index (n + 1) i k\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(metis One_nat_def Suc_diff_Suc \\<open>2 \\<le> k\\<close> \\<open>k \\<le> 2 ^ (n + 1) - 1\\<close> diff_zero le_imp_less_Suc pos2 zero_less_power)"], ["proof (state)\nthis:\n  i < n\n  select_index (n + 1) i k\n\ngoal (1 subgoal):\n 1. \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k + 1)", "then"], ["proof (chain)\npicking this:\n  i < n\n  select_index (n + 1) i k", "have \"select_index (Suc n +1) i (2*k+1)\""], ["proof (prove)\nusing this:\n  i < n\n  select_index (n + 1) i k\n\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) i (2 * k + 1)", "using select_index_suc_odd that(2)"], ["proof (prove)\nusing this:\n  i < n\n  select_index (n + 1) i k\n  \\<lbrakk>?k \\<le> 2 ^ ?n - 1; select_index ?n ?i ?k\\<rbrakk>\n  \\<Longrightarrow> select_index (Suc ?n) ?i (2 * ?k + 1)\n  k \\<le> 2 ^ (n + 1) - 1\n\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) i (2 * k + 1)", "by simp"], ["proof (state)\nthis:\n  select_index (Suc n + 1) i (2 * k + 1)\n\ngoal (1 subgoal):\n 1. \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k + 1)", "thus ?thesis"], ["proof (prove)\nusing this:\n  select_index (Suc n + 1) i (2 * k + 1)\n\ngoal (1 subgoal):\n 1. \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k + 1)", "using \\<open>i < n\\<close> less_SucI"], ["proof (prove)\nusing this:\n  select_index (Suc n + 1) i (2 * k + 1)\n  i < n\n  ?m < ?n \\<Longrightarrow> ?m < Suc ?n\n\ngoal (1 subgoal):\n 1. \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k + 1)", "by blast"], ["proof (state)\nthis:\n  \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * k + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>2 \\<le> ?k; ?k \\<le> 2 ^ (n + 1) - 1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i<Suc n.\n                       select_index (Suc n + 1) i (2 * ?k + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 \\<le> n;\n        \\<forall>k<2 ^ (n + 1).\n           2 \\<le> k \\<longrightarrow>\n           (\\<exists>i<n. select_index (n + 1) i k)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k<2 ^ (Suc n + 1).\n                            2 \\<le> k \\<longrightarrow>\n                            (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "ultimately"], ["proof (chain)\npicking this:\n  select_index (Suc n + 1) n 2\n  select_index (Suc n + 1) n 3\n  \\<lbrakk>2 \\<le> ?k; ?k \\<le> 2 ^ (n + 1) - 1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * ?k)\n  \\<lbrakk>2 \\<le> ?k; ?k \\<le> 2 ^ (n + 1) - 1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i<Suc n.\n                       select_index (Suc n + 1) i (2 * ?k + 1)", "show \"\\<forall>k< 2^(Suc n + 1). 2 \\<le> k \\<longrightarrow> (\\<exists>i<Suc n. select_index (Suc n +1) i k)\""], ["proof (prove)\nusing this:\n  select_index (Suc n + 1) n 2\n  select_index (Suc n + 1) n 3\n  \\<lbrakk>2 \\<le> ?k; ?k \\<le> 2 ^ (n + 1) - 1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * ?k)\n  \\<lbrakk>2 \\<le> ?k; ?k \\<le> 2 ^ (n + 1) - 1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i<Suc n.\n                       select_index (Suc n + 1) i (2 * ?k + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>k<2 ^ (Suc n + 1).\n       2 \\<le> k \\<longrightarrow>\n       (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "using aux_range"], ["proof (prove)\nusing this:\n  select_index (Suc n + 1) n 2\n  select_index (Suc n + 1) n 3\n  \\<lbrakk>2 \\<le> ?k; ?k \\<le> 2 ^ (n + 1) - 1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i<Suc n. select_index (Suc n + 1) i (2 * ?k)\n  \\<lbrakk>2 \\<le> ?k; ?k \\<le> 2 ^ (n + 1) - 1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i<Suc n.\n                       select_index (Suc n + 1) i (2 * ?k + 1)\n  \\<lbrakk>?k < 2 ^ (Suc ?n + 1); 2 \\<le> ?k\\<rbrakk>\n  \\<Longrightarrow> ?k = 2 \\<or>\n                    ?k = 3 \\<or>\n                    (\\<exists>l\\<ge>2.\n                        l \\<le> 2 ^ (?n + 1) - 1 \\<and>\n                        (?k = 2 * l \\<or> ?k = 2 * l + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>k<2 ^ (Suc n + 1).\n       2 \\<le> k \\<longrightarrow>\n       (\\<exists>i<Suc n. select_index (Suc n + 1) i k)", "by (metis lessI)"], ["proof (state)\nthis:\n  \\<forall>k<2 ^ (Suc n + 1).\n     2 \\<le> k \\<longrightarrow>\n     (\\<exists>i<Suc n. select_index (Suc n + 1) i k)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>1 \\<le> ?n;\n   \\<forall>k<2 ^ (?n + 1).\n      2 \\<le> k \\<longrightarrow>\n      (\\<exists>i<?n. select_index (?n + 1) i k)\\<rbrakk>\n  \\<Longrightarrow> \\<forall>k<2 ^ (Suc ?n + 1).\n                       2 \\<le> k \\<longrightarrow>\n                       (\\<exists>i<Suc ?n. select_index (Suc ?n + 1) i k)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma prob0_fst_qubits_index:\n  fixes n:: nat and v:: \"complex Matrix.mat\"\n  shows \"{k| k::nat. (k<2^(n+1)) \\<and> (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n+1) i k)} = {0,1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n    {0, 1}", "proof(induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. {k |k.\n     k < 2 ^ (0 + 1) \\<and>\n     (\\<forall>i\\<in>{0..<0}. \\<not> select_index (0 + 1) i k)} =\n    {0, 1}\n 2. \\<And>n.\n       {k |k.\n        k < 2 ^ (n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n       {0, 1} \\<Longrightarrow>\n       {k |k.\n        k < 2 ^ (Suc n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n       {0, 1}", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. {k |k.\n     k < 2 ^ (0 + 1) \\<and>\n     (\\<forall>i\\<in>{0..<0}. \\<not> select_index (0 + 1) i k)} =\n    {0, 1}\n 2. \\<And>n.\n       {k |k.\n        k < 2 ^ (n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n       {0, 1} \\<Longrightarrow>\n       {k |k.\n        k < 2 ^ (Suc n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n       {0, 1}", "show \"{k |k. k < 2^(0+1) \\<and> (\\<forall>i\\<in>{0..<0}. \\<not> select_index (0+1) i k)} = {0,1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (0 + 1) \\<and>\n     (\\<forall>i\\<in>{0..<0}. \\<not> select_index (0 + 1) i k)} =\n    {0, 1}", "by auto"], ["proof (state)\nthis:\n  {k |k.\n   k < 2 ^ (0 + 1) \\<and>\n   (\\<forall>i\\<in>{0..<0}. \\<not> select_index (0 + 1) i k)} =\n  {0, 1}\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       {k |k.\n        k < 2 ^ (n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n       {0, 1} \\<Longrightarrow>\n       {k |k.\n        k < 2 ^ (Suc n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n       {0, 1}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       {k |k.\n        k < 2 ^ (n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n       {0, 1} \\<Longrightarrow>\n       {k |k.\n        k < 2 ^ (Suc n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n       {0, 1}", "case (Suc n)"], ["proof (state)\nthis:\n  {k |k.\n   k < 2 ^ (n + 1) \\<and>\n   (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n  {0, 1}\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       {k |k.\n        k < 2 ^ (n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n       {0, 1} \\<Longrightarrow>\n       {k |k.\n        k < 2 ^ (Suc n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n       {0, 1}", "show \"\\<And>n. {k |k. k < 2^(n+1) \\<and> (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n+1) i k)} = {0,1} \\<Longrightarrow>\n         {k |k. k < 2^(Suc n + 1) \\<and> (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n         {0, 1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       {k |k.\n        k < 2 ^ (n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n       {0, 1} \\<Longrightarrow>\n       {k |k.\n        k < 2 ^ (Suc n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n       {0, 1}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       {k |k.\n        k < 2 ^ (n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n       {0, 1} \\<Longrightarrow>\n       {k |k.\n        k < 2 ^ (Suc n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n       {0, 1}", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       {k |k.\n        k < 2 ^ (n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n       {0, 1} \\<Longrightarrow>\n       {k |k.\n        k < 2 ^ (Suc n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n       {0, 1}", "assume IH: \"{k |k. k < 2^(n+1) \\<and> (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n+1) i k)} = {0,1}\""], ["proof (state)\nthis:\n  {k |k.\n   k < 2 ^ (n + 1) \\<and>\n   (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n  {0, 1}\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       {k |k.\n        k < 2 ^ (n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n       {0, 1} \\<Longrightarrow>\n       {k |k.\n        k < 2 ^ (Suc n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n       {0, 1}", "then"], ["proof (chain)\npicking this:\n  {k |k.\n   k < 2 ^ (n + 1) \\<and>\n   (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n  {0, 1}", "have \"{0,1} \\<subseteq> {k |k. k < 2^(Suc n + 1) \\<and> (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)}\""], ["proof (prove)\nusing this:\n  {k |k.\n   k < 2 ^ (n + 1) \\<and>\n   (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n  {0, 1}\n\ngoal (1 subgoal):\n 1. {0, 1}\n    \\<subseteq> {k |k.\n                 k < 2 ^ (Suc n + 1) \\<and>\n                 (\\<forall>i\\<in>{0..<Suc n}.\n                     \\<not> select_index (Suc n + 1) i k)}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n    {0, 1} \\<Longrightarrow>\n    {0, 1}\n    \\<subseteq> {k |k.\n                 k < 2 ^ (Suc n + 1) \\<and>\n                 (\\<forall>i\\<in>{0..<Suc n}.\n                     \\<not> select_index (Suc n + 1) i k)}", "have \"k < 2^(n+1) \\<longrightarrow> k < 2^(Suc n + 1)\" for k::nat"], ["proof (prove)\ngoal (1 subgoal):\n 1. k < 2 ^ (n + 1) \\<longrightarrow> k < 2 ^ (Suc n + 1)", "by simp"], ["proof (state)\nthis:\n  ?k < 2 ^ (n + 1) \\<longrightarrow> ?k < 2 ^ (Suc n + 1)\n\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n    {0, 1} \\<Longrightarrow>\n    {0, 1}\n    \\<subseteq> {k |k.\n                 k < 2 ^ (Suc n + 1) \\<and>\n                 (\\<forall>i\\<in>{0..<Suc n}.\n                     \\<not> select_index (Suc n + 1) i k)}", "moreover"], ["proof (state)\nthis:\n  ?k < 2 ^ (n + 1) \\<longrightarrow> ?k < 2 ^ (Suc n + 1)\n\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n    {0, 1} \\<Longrightarrow>\n    {0, 1}\n    \\<subseteq> {k |k.\n                 k < 2 ^ (Suc n + 1) \\<and>\n                 (\\<forall>i\\<in>{0..<Suc n}.\n                     \\<not> select_index (Suc n + 1) i k)}", "have \"(\\<forall>i\\<in>{0..<n}. \\<not> select_index (n+1) i 0) \\<and> (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n+1) i 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i 0) \\<and>\n    (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i 1)", "using IH"], ["proof (prove)\nusing this:\n  {k |k.\n   k < 2 ^ (n + 1) \\<and>\n   (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n  {0, 1}\n\ngoal (1 subgoal):\n 1. (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i 0) \\<and>\n    (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i 1)", "by auto"], ["proof (state)\nthis:\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i 0) \\<and>\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i 1)\n\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n    {0, 1} \\<Longrightarrow>\n    {0, 1}\n    \\<subseteq> {k |k.\n                 k < 2 ^ (Suc n + 1) \\<and>\n                 (\\<forall>i\\<in>{0..<Suc n}.\n                     \\<not> select_index (Suc n + 1) i k)}", "then"], ["proof (chain)\npicking this:\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i 0) \\<and>\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i 1)", "have \"(\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n +1) i 0) \\<and> (\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n +1) i 1)\""], ["proof (prove)\nusing this:\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i 0) \\<and>\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i 1)\n\ngoal (1 subgoal):\n 1. (\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n + 1) i 0) \\<and>\n    (\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n + 1) i 1)", "using select_index_suc_odd[of 0 \"n+1\"] Suc_eq_plus1"], ["proof (prove)\nusing this:\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i 0) \\<and>\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i 1)\n  \\<lbrakk>0 \\<le> 2 ^ (n + 1) - 1; select_index (n + 1) ?i 0\\<rbrakk>\n  \\<Longrightarrow> select_index (Suc (n + 1)) ?i (2 * 0 + 1)\n  Suc ?n = ?n + 1\n\ngoal (1 subgoal):\n 1. (\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n + 1) i 0) \\<and>\n    (\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n + 1) i 1)", "by (smt One_nat_def Suc_1 add_Suc_shift add_diff_cancel_right' atLeastLessThan_iff diff_diff_cancel \nle_eq_less_or_eq less_Suc_eq linorder_not_le mod_less nat_power_eq_Suc_0_iff select_index_def zero_less_power)"], ["proof (state)\nthis:\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n + 1) i 0) \\<and>\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n + 1) i 1)\n\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n    {0, 1} \\<Longrightarrow>\n    {0, 1}\n    \\<subseteq> {k |k.\n                 k < 2 ^ (Suc n + 1) \\<and>\n                 (\\<forall>i\\<in>{0..<Suc n}.\n                     \\<not> select_index (Suc n + 1) i k)}", "moreover"], ["proof (state)\nthis:\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n + 1) i 0) \\<and>\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n + 1) i 1)\n\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n    {0, 1} \\<Longrightarrow>\n    {0, 1}\n    \\<subseteq> {k |k.\n                 k < 2 ^ (Suc n + 1) \\<and>\n                 (\\<forall>i\\<in>{0..<Suc n}.\n                     \\<not> select_index (Suc n + 1) i k)}", "have \"select_index (Suc n + 1) n 0 = False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 0 = False", "using select_index_def"], ["proof (prove)\nusing this:\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 0 = False", "by simp"], ["proof (state)\nthis:\n  select_index (Suc n + 1) n 0 = False\n\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n    {0, 1} \\<Longrightarrow>\n    {0, 1}\n    \\<subseteq> {k |k.\n                 k < 2 ^ (Suc n + 1) \\<and>\n                 (\\<forall>i\\<in>{0..<Suc n}.\n                     \\<not> select_index (Suc n + 1) i k)}", "moreover"], ["proof (state)\nthis:\n  select_index (Suc n + 1) n 0 = False\n\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n    {0, 1} \\<Longrightarrow>\n    {0, 1}\n    \\<subseteq> {k |k.\n                 k < 2 ^ (Suc n + 1) \\<and>\n                 (\\<forall>i\\<in>{0..<Suc n}.\n                     \\<not> select_index (Suc n + 1) i k)}", "have \"select_index (Suc n + 1) n 1 = False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 1 = False", "using select_index_def"], ["proof (prove)\nusing this:\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. select_index (Suc n + 1) n 1 = False", "by simp"], ["proof (state)\nthis:\n  select_index (Suc n + 1) n 1 = False\n\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n    {0, 1} \\<Longrightarrow>\n    {0, 1}\n    \\<subseteq> {k |k.\n                 k < 2 ^ (Suc n + 1) \\<and>\n                 (\\<forall>i\\<in>{0..<Suc n}.\n                     \\<not> select_index (Suc n + 1) i k)}", "ultimately"], ["proof (chain)\npicking this:\n  ?k < 2 ^ (n + 1) \\<longrightarrow> ?k < 2 ^ (Suc n + 1)\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n + 1) i 0) \\<and>\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n + 1) i 1)\n  select_index (Suc n + 1) n 0 = False\n  select_index (Suc n + 1) n 1 = False", "show ?thesis"], ["proof (prove)\nusing this:\n  ?k < 2 ^ (n + 1) \\<longrightarrow> ?k < 2 ^ (Suc n + 1)\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n + 1) i 0) \\<and>\n  (\\<forall>i\\<in>{0..<n}. \\<not> select_index (Suc n + 1) i 1)\n  select_index (Suc n + 1) n 0 = False\n  select_index (Suc n + 1) n 1 = False\n\ngoal (1 subgoal):\n 1. {0, 1}\n    \\<subseteq> {k |k.\n                 k < 2 ^ (Suc n + 1) \\<and>\n                 (\\<forall>i\\<in>{0..<Suc n}.\n                     \\<not> select_index (Suc n + 1) i k)}", "by (smt One_nat_def Suc_1 Suc_eq_plus1 Suc_lessI atLeast0_lessThan_Suc empty_iff insertE \nmem_Collect_eq nat.simps(1) nat_power_eq_Suc_0_iff pos2 subsetI zero_less_power)"], ["proof (state)\nthis:\n  {0, 1}\n  \\<subseteq> {k |k.\n               k < 2 ^ (Suc n + 1) \\<and>\n               (\\<forall>i\\<in>{0..<Suc n}.\n                   \\<not> select_index (Suc n + 1) i k)}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {0, 1}\n  \\<subseteq> {k |k.\n               k < 2 ^ (Suc n + 1) \\<and>\n               (\\<forall>i\\<in>{0..<Suc n}.\n                   \\<not> select_index (Suc n + 1) i k)}\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       {k |k.\n        k < 2 ^ (n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n       {0, 1} \\<Longrightarrow>\n       {k |k.\n        k < 2 ^ (Suc n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n       {0, 1}", "moreover"], ["proof (state)\nthis:\n  {0, 1}\n  \\<subseteq> {k |k.\n               k < 2 ^ (Suc n + 1) \\<and>\n               (\\<forall>i\\<in>{0..<Suc n}.\n                   \\<not> select_index (Suc n + 1) i k)}\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       {k |k.\n        k < 2 ^ (n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n       {0, 1} \\<Longrightarrow>\n       {k |k.\n        k < 2 ^ (Suc n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n       {0, 1}", "have \"{k |k. k < 2^(Suc n + 1) \\<and> (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} \\<subseteq> {0,1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (Suc n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)}\n    \\<subseteq> {0, 1}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (Suc n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)}\n    \\<subseteq> {0, 1}", "have \"\\<forall>k<2^(Suc n +1). k \\<ge> 2 \\<longrightarrow> (\\<exists>i<Suc n. \\<not> select_index (Suc n +1) i k = False)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>k<2 ^ (Suc n + 1).\n       2 \\<le> k \\<longrightarrow>\n       (\\<exists>i<Suc n. select_index (Suc n + 1) i k \\<noteq> False)", "using select_index_with_1[of \"Suc n\"]"], ["proof (prove)\nusing this:\n  1 \\<le> Suc n \\<Longrightarrow>\n  \\<forall>k<2 ^ (Suc n + 1).\n     2 \\<le> k \\<longrightarrow>\n     (\\<exists>i<Suc n. select_index (Suc n + 1) i k)\n\ngoal (1 subgoal):\n 1. \\<forall>k<2 ^ (Suc n + 1).\n       2 \\<le> k \\<longrightarrow>\n       (\\<exists>i<Suc n. select_index (Suc n + 1) i k \\<noteq> False)", "by (metis Suc_eq_plus1 add.commute le_add1)"], ["proof (state)\nthis:\n  \\<forall>k<2 ^ (Suc n + 1).\n     2 \\<le> k \\<longrightarrow>\n     (\\<exists>i<Suc n. select_index (Suc n + 1) i k \\<noteq> False)\n\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (Suc n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)}\n    \\<subseteq> {0, 1}", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>k<2 ^ (Suc n + 1).\n     2 \\<le> k \\<longrightarrow>\n     (\\<exists>i<Suc n. select_index (Suc n + 1) i k \\<noteq> False)\n\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (Suc n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)}\n    \\<subseteq> {0, 1}", "by auto"], ["proof (state)\nthis:\n  {k |k.\n   k < 2 ^ (Suc n + 1) \\<and>\n   (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)}\n  \\<subseteq> {0, 1}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {k |k.\n   k < 2 ^ (Suc n + 1) \\<and>\n   (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)}\n  \\<subseteq> {0, 1}\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       {k |k.\n        k < 2 ^ (n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)} =\n       {0, 1} \\<Longrightarrow>\n       {k |k.\n        k < 2 ^ (Suc n + 1) \\<and>\n        (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n       {0, 1}", "ultimately"], ["proof (chain)\npicking this:\n  {0, 1}\n  \\<subseteq> {k |k.\n               k < 2 ^ (Suc n + 1) \\<and>\n               (\\<forall>i\\<in>{0..<Suc n}.\n                   \\<not> select_index (Suc n + 1) i k)}\n  {k |k.\n   k < 2 ^ (Suc n + 1) \\<and>\n   (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)}\n  \\<subseteq> {0, 1}", "show \"{k |k. k<2^(Suc n + 1) \\<and> (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n +1) i k)} = {0,1}\""], ["proof (prove)\nusing this:\n  {0, 1}\n  \\<subseteq> {k |k.\n               k < 2 ^ (Suc n + 1) \\<and>\n               (\\<forall>i\\<in>{0..<Suc n}.\n                   \\<not> select_index (Suc n + 1) i k)}\n  {k |k.\n   k < 2 ^ (Suc n + 1) \\<and>\n   (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)}\n  \\<subseteq> {0, 1}\n\ngoal (1 subgoal):\n 1. {k |k.\n     k < 2 ^ (Suc n + 1) \\<and>\n     (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n    {0, 1}", "by auto"], ["proof (state)\nthis:\n  {k |k.\n   k < 2 ^ (Suc n + 1) \\<and>\n   (\\<forall>i\\<in>{0..<Suc n}. \\<not> select_index (Suc n + 1) i k)} =\n  {0, 1}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {k |k.\n   k < 2 ^ (?n + 1) \\<and>\n   (\\<forall>i\\<in>{0..<?n}. \\<not> select_index (?n + 1) i k)} =\n  {0, 1} \\<Longrightarrow>\n  {k |k.\n   k < 2 ^ (Suc ?n + 1) \\<and>\n   (\\<forall>i\\<in>{0..<Suc ?n}. \\<not> select_index (Suc ?n + 1) i k)} =\n  {0, 1}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma prob0_fst_qubits_eq:\n  fixes n:: nat\n  shows \"prob0_fst_qubits n v = (cmod(v $$ (0,0)))\\<^sup>2 + (cmod(v $$ (1,0)))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0_fst_qubits n v =\n    (cmod (v $$ (0, 0)))\\<^sup>2 + (cmod (v $$ (1, 0)))\\<^sup>2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. prob0_fst_qubits n v =\n    (cmod (v $$ (0, 0)))\\<^sup>2 + (cmod (v $$ (1, 0)))\\<^sup>2", "have \"prob0_fst_qubits n v = (\\<Sum>j\\<in>{k| k::nat. (k<2^(n+1)) \\<and> (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n+1) i k)}. (cmod(v $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0_fst_qubits n v =\n    (\\<Sum>j\\<in>{k |k.\n                  k < 2 ^ (n + 1) \\<and>\n                  (\\<forall>i\\<in>{0..<n}.\n                      \\<not> select_index (n + 1) i k)}.\n       (cmod (v $$ (j, 0)))\\<^sup>2)", "using prob0_fst_qubits_def"], ["proof (prove)\nusing this:\n  prob0_fst_qubits ?n ?v \\<equiv>\n  \\<Sum>j\\<in>{k |k.\n               k < 2 ^ (?n + 1) \\<and>\n               (\\<forall>i\\<in>{0..<?n}. \\<not> select_index (?n + 1) i k)}.\n    (cmod (?v $$ (j, 0)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0_fst_qubits n v =\n    (\\<Sum>j\\<in>{k |k.\n                  k < 2 ^ (n + 1) \\<and>\n                  (\\<forall>i\\<in>{0..<n}.\n                      \\<not> select_index (n + 1) i k)}.\n       (cmod (v $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  prob0_fst_qubits n v =\n  (\\<Sum>j\\<in>{k |k.\n                k < 2 ^ (n + 1) \\<and>\n                (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)}.\n     (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0_fst_qubits n v =\n    (cmod (v $$ (0, 0)))\\<^sup>2 + (cmod (v $$ (1, 0)))\\<^sup>2", "moreover"], ["proof (state)\nthis:\n  prob0_fst_qubits n v =\n  (\\<Sum>j\\<in>{k |k.\n                k < 2 ^ (n + 1) \\<and>\n                (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)}.\n     (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0_fst_qubits n v =\n    (cmod (v $$ (0, 0)))\\<^sup>2 + (cmod (v $$ (1, 0)))\\<^sup>2", "have \"\\<dots> = (\\<Sum>j\\<in>{0,1}. (cmod(v $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k.\n                  k < 2 ^ (n + 1) \\<and>\n                  (\\<forall>i\\<in>{0..<n}.\n                      \\<not> select_index (n + 1) i k)}.\n       (cmod (v $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 1}. (cmod (v $$ (j, 0)))\\<^sup>2)", "using prob0_fst_qubits_index"], ["proof (prove)\nusing this:\n  {k |k.\n   k < 2 ^ (?n + 1) \\<and>\n   (\\<forall>i\\<in>{0..<?n}. \\<not> select_index (?n + 1) i k)} =\n  {0, 1}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k.\n                  k < 2 ^ (n + 1) \\<and>\n                  (\\<forall>i\\<in>{0..<n}.\n                      \\<not> select_index (n + 1) i k)}.\n       (cmod (v $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 1}. (cmod (v $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k.\n                k < 2 ^ (n + 1) \\<and>\n                (\\<forall>i\\<in>{0..<n}. \\<not> select_index (n + 1) i k)}.\n     (cmod (v $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 1}. (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0_fst_qubits n v =\n    (cmod (v $$ (0, 0)))\\<^sup>2 + (cmod (v $$ (1, 0)))\\<^sup>2", "finally"], ["proof (chain)\npicking this:\n  prob0_fst_qubits n v = (\\<Sum>j\\<in>{0, 1}. (cmod (v $$ (j, 0)))\\<^sup>2)", "show ?thesis"], ["proof (prove)\nusing this:\n  prob0_fst_qubits n v = (\\<Sum>j\\<in>{0, 1}. (cmod (v $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0_fst_qubits n v =\n    (cmod (v $$ (0, 0)))\\<^sup>2 + (cmod (v $$ (1, 0)))\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  prob0_fst_qubits n v =\n  (cmod (v $$ (0, 0)))\\<^sup>2 + (cmod (v $$ (1, 0)))\\<^sup>2\n\ngoal:\nNo subgoals!", "qed"], ["", "(* Below in iter_post_meas0, the first argument n corresponds to the number of qubits of the system\n, and the second argument m corresponds to the number of qubits that have been measured. *)"], ["", "primrec iter_post_meas0:: \"nat \\<Rightarrow> nat \\<Rightarrow> complex Matrix.mat \\<Rightarrow> complex Matrix.mat\" where\n  \"iter_post_meas0 n 0 v = v\"\n| \"iter_post_meas0 n (Suc m) v = post_meas0 n (iter_post_meas0 n m v) m\""], ["", "(* iter_prob0 outputs the probability that successive measurements of the first m qubits\n(out of n qubits in the system) give m zeros. *)"], ["", "definition iter_prob0:: \"nat \\<Rightarrow> nat \\<Rightarrow> complex Matrix.mat \\<Rightarrow> real\" where \n  \"iter_prob0 n m v = (\\<Prod>i<m. prob0 n (iter_post_meas0 n i v) i)\""], ["", "(* To do:\nlemma iter_prob0_eq:\n  fixes n:: nat and v:: \"complex Matrix.mat\"\n  assumes \"n \\<ge> 1\"\n  shows \"iter_prob0 (Suc n) n v = prob0_fst_qubits n v\"\n*)"], ["", "subsection \\<open>Measurements with Bell States\\<close>"], ["", "text \\<open>\nA Bell state is a remarkable state. Indeed, if one makes one measure, either of the first or the second \nqubit, then one gets either $0$ with probability $1/2$ or $1$ with probability $1/2$. Moreover, in the case of \ntwo successive measurements of the first and second qubit, the outcomes are correlated. \nIndeed, in the case of @{text \"|\\<beta>\\<^sub>0\\<^sub>0\\<rangle>\"} or @{text \"|\\<beta>\\<^sub>1\\<^sub>0\\<rangle>\"} (resp. @{text \"|\\<beta>\\<^sub>0\\<^sub>1\\<rangle>\"} or @{text \"|\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\"}) if \none measures the second qubit after a measurement of the first qubit (or the other way around) then \none gets the same outcomes (resp. opposite outcomes), i.e. for instance the probability of measuring \n$0$ for the second qubit after a measure with outcome $0$ for the first qubit is $1$ (resp. $0$).\n\\<close>"], ["", "lemma prob0_bell_fst [simp]:\n  assumes \"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\"\n  shows \"prob0 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have set_0 [simp]:\"{k| k::nat. (k<4) \\<and> \\<not> select_index 2 0 k} = {0,1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {k |k. k < 4 \\<and> \\<not> select_index 2 0 k} = {0, 1}", "using select_index_def"], ["proof (prove)\nusing this:\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. {k |k. k < 4 \\<and> \\<not> select_index 2 0 k} = {0, 1}", "by auto"], ["proof (state)\nthis:\n  {k |k. k < 4 \\<and> \\<not> select_index 2 0 k} = {0, 1}\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow> prob0 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "show \"prob0 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"prob0 2 v 0 = (\\<Sum>j\\<in>{k| k::nat. (k<4) \\<and> \\<not> select_index 2 0 k}. (cmod(bell00 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 0 =\n    (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob0_def asm)"], ["proof (state)\nthis:\n  prob0 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob0 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{0,1}. (cmod(bell00 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 1}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. k < 4 \\<and> \\<not> select_index 2 0 k} = {0, 1}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 1}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 1}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 1}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"\\<dots> = (cmod(1/sqrt(2)))\\<^sup>2 + (cmod(0))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{0, 1}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "by (auto simp: bell00_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{0, 1}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob0 2 v 0 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "show  ?thesis"], ["proof (prove)\nusing this:\n  prob0 2 v 0 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob0 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob0 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "moreover"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow> prob0 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "show \"prob0 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"prob0 2 v 0 = (\\<Sum>j\\<in>{k| k::nat. (k<4) \\<and> \\<not> select_index 2 0 k}. (cmod(bell01 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 0 =\n    (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob0_def asm)"], ["proof (state)\nthis:\n  prob0 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob0 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{0,1}. (cmod(bell01 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 1}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. k < 4 \\<and> \\<not> select_index 2 0 k} = {0, 1}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 1}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 1}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 1}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"\\<dots> = (cmod(0))\\<^sup>2 + (cmod(1/sqrt(2)))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{0, 1}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "by (auto simp: bell01_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{0, 1}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob0 2 v 0 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob0 2 v 0 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob0 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob0 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "moreover"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow> prob0 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "show \"prob0 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"prob0 2 v 0 = (\\<Sum>j\\<in>{k| k::nat. (k<4) \\<and> \\<not> select_index 2 0 k}. (cmod(bell10 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 0 =\n    (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob0_def asm)"], ["proof (state)\nthis:\n  prob0 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob0 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{0,1}. (cmod(bell10 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 1}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. k < 4 \\<and> \\<not> select_index 2 0 k} = {0, 1}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 1}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 1}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 1}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"\\<dots> = (cmod(1/sqrt(2)))\\<^sup>2 + (cmod(0))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{0, 1}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "by (auto simp: bell10_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{0, 1}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob0 2 v 0 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob0 2 v 0 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob0 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob0 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "moreover"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow> prob0 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 0 = 1 / 2", "show \"prob0 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"prob0 2 v 0 = (\\<Sum>j\\<in>{k| k::nat. (k<4) \\<and> \\<not> select_index 2 0 k}. (cmod(bell11 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 0 =\n    (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob0_def asm)"], ["proof (state)\nthis:\n  prob0 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob0 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{0,1}. (cmod(bell11 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 1}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. k < 4 \\<and> \\<not> select_index 2 0 k} = {0, 1}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 1}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 1}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 1}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "have \"\\<dots> = (cmod(0))\\<^sup>2 + (cmod(1/sqrt(2)))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{0, 1}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "by (auto simp: bell11_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{0, 1}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob0 2 v 0 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob0 2 v 0 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob0 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob0 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "ultimately"], ["proof (chain)\npicking this:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2", "show ?thesis"], ["proof (prove)\nusing this:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "using assms"], ["proof (prove)\nusing this:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<or>\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<or>\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<or>\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. prob0 2 v 0 = 1 / 2", "by auto"], ["proof (state)\nthis:\n  prob0 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma prob_1_bell_fst [simp]:\n  assumes \"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\"\n  shows \"prob1 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have set_0 [simp]:\"{k| k::nat. select_index 2 0 k} = {2,3}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {k |k. select_index 2 0 k} = {2, 3}", "using select_index_def"], ["proof (prove)\nusing this:\n  select_index ?n ?i ?j \\<equiv>\n  ?i \\<le> ?n - 1 \\<and>\n  ?j \\<le> 2 ^ ?n - 1 \\<and> 2 ^ (?n - 1 - ?i) \\<le> ?j mod 2 ^ (?n - ?i)\n\ngoal (1 subgoal):\n 1. {k |k. select_index 2 0 k} = {2, 3}", "by auto"], ["proof (state)\nthis:\n  {k |k. select_index 2 0 k} = {2, 3}\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow> prob1 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "show \"prob1 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"prob1 2 v 0 = (\\<Sum>j\\<in>{k| k::nat. select_index 2 0 k}. (cmod(bell00 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 0 =\n    (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob1_def asm)"], ["proof (state)\nthis:\n  prob1 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob1 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{2,3}. (cmod(bell00 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{2, 3}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. select_index 2 0 k} = {2, 3}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{2, 3}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{2, 3}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{2, 3}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"\\<dots> = (cmod(1/sqrt(2)))\\<^sup>2 + (cmod(0))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{2, 3}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "by (auto simp: bell00_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{2, 3}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob1 2 v 0 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob1 2 v 0 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob1 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob1 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "moreover"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow> prob1 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "show \"prob1 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"prob1 2 v 0 = (\\<Sum>j\\<in>{k| k::nat. select_index 2 0 k}. (cmod(bell01 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 0 =\n    (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob1_def asm)"], ["proof (state)\nthis:\n  prob1 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob1 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{2,3}. (cmod(bell01 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{2, 3}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. select_index 2 0 k} = {2, 3}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{2, 3}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{2, 3}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{2, 3}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"\\<dots> = (cmod(0))\\<^sup>2 + (cmod(1/sqrt(2)))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{2, 3}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "by (auto simp: bell01_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{2, 3}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob1 2 v 0 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob1 2 v 0 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob1 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob1 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "moreover"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow> prob1 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "show \"prob1 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"prob1 2 v 0 = (\\<Sum>j\\<in>{k| k::nat. select_index 2 0 k}. (cmod(bell10 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 0 =\n    (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob1_def asm)"], ["proof (state)\nthis:\n  prob1 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob1 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{2,3}. (cmod(bell10 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{2, 3}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. select_index 2 0 k} = {2, 3}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{2, 3}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{2, 3}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{2, 3}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"\\<dots> = (cmod(1/sqrt(2)))\\<^sup>2 + (cmod(0))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{2, 3}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "by (auto simp: bell10_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{2, 3}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob1 2 v 0 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob1 2 v 0 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob1 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob1 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "moreover"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow> prob1 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 0 = 1 / 2", "show \"prob1 2 v 0 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"prob1 2 v 0 = (\\<Sum>j\\<in>{k| k::nat. select_index 2 0 k}. (cmod(bell11 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 0 =\n    (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob1_def asm)"], ["proof (state)\nthis:\n  prob1 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob1 2 v 0 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{2,3}. (cmod(bell11 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{2, 3}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. select_index 2 0 k} = {2, 3}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{2, 3}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{2, 3}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 0 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{2, 3}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "have \"\\<dots> = (cmod(0))\\<^sup>2 + (cmod(1/sqrt(2)))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{2, 3}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "by (auto simp: bell11_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{2, 3}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob1 2 v 0 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob1 2 v 0 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob1 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob1 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "ultimately"], ["proof (chain)\npicking this:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2", "show ?thesis"], ["proof (prove)\nusing this:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "using assms"], ["proof (prove)\nusing this:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 0 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<or>\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<or>\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<or>\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. prob1 2 v 0 = 1 / 2", "by auto"], ["proof (state)\nthis:\n  prob1 2 v 0 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma prob0_bell_snd [simp]:\n  assumes \"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\"\n  shows \"prob0 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have set_0 [simp]:\"{k| k::nat. (k<4) \\<and> \\<not> select_index 2 1 k} = {0,2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {k |k. k < 4 \\<and> \\<not> select_index 2 1 k} = {0, 2}", "by (auto simp: select_index_def)\n      (metis Suc_le_mono add_Suc add_Suc_right le_numeral_extra(3) less_antisym mod_Suc_eq mod_less \n        neq0_conv not_mod2_eq_Suc_0_eq_0 numeral_2_eq_2 numeral_Bit0 one_add_one one_mod_two_eq_one one_neq_zero)"], ["proof (state)\nthis:\n  {k |k. k < 4 \\<and> \\<not> select_index 2 1 k} = {0, 2}\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow> prob0 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "show \"prob0 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"prob0 2 v 1 = (\\<Sum>j\\<in>{k| k::nat. (k<4) \\<and> \\<not> select_index 2 1 k}. (cmod(bell00 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 1 =\n    (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob0_def asm)"], ["proof (state)\nthis:\n  prob0 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob0 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{0,2}. (cmod(bell00 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 2}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. k < 4 \\<and> \\<not> select_index 2 1 k} = {0, 2}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 2}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 2}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 2}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"\\<dots> = (cmod(1/sqrt(2)))\\<^sup>2 + (cmod(0))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{0, 2}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "by (auto simp: bell00_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{0, 2}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob0 2 v 1 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob0 2 v 1 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob0 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob0 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "moreover"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow> prob0 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "show \"prob0 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"prob0 2 v 1 = (\\<Sum>j\\<in>{k| k::nat. (k<4) \\<and> \\<not> select_index 2 1 k}. (cmod(bell01 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 1 =\n    (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob0_def asm)"], ["proof (state)\nthis:\n  prob0 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob0 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{0,2}. (cmod(bell01 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 2}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. k < 4 \\<and> \\<not> select_index 2 1 k} = {0, 2}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 2}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 2}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 2}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"\\<dots> = (cmod(0))\\<^sup>2 + (cmod(1/sqrt(2)))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{0, 2}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "by (auto simp: bell01_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{0, 2}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob0 2 v 1 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob0 2 v 1 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob0 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob0 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "moreover"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow> prob0 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "show \"prob0 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"prob0 2 v 1 = (\\<Sum>j\\<in>{k| k::nat. (k<4) \\<and> \\<not> select_index 2 1 k}. (cmod(bell10 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 1 =\n    (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob0_def asm)"], ["proof (state)\nthis:\n  prob0 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob0 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{0,2}. (cmod(bell10 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 2}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. k < 4 \\<and> \\<not> select_index 2 1 k} = {0, 2}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 2}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 2}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 2}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"\\<dots> = (cmod(1/sqrt(2)))\\<^sup>2 + (cmod(0))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{0, 2}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "by (auto simp: bell10_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{0, 2}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob0 2 v 1 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob0 2 v 1 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob0 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob0 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "moreover"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow> prob0 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob0 2 v 1 = 1 / 2", "show \"prob0 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"prob0 2 v 1 = (\\<Sum>j\\<in>{k| k::nat. (k<4) \\<and> \\<not> select_index 2 1 k}. (cmod(bell11 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob0 2 v 1 =\n    (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob0_def asm)"], ["proof (state)\nthis:\n  prob0 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob0 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{0,2}. (cmod(bell11 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 2}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. k < 4 \\<and> \\<not> select_index 2 1 k} = {0, 2}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{0, 2}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 2}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. k < 4 \\<and> \\<not> select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{0, 2}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "have \"\\<dots> = (cmod(0))\\<^sup>2 + (cmod(1/sqrt(2)))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{0, 2}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "by (auto simp: bell11_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{0, 2}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob0 2 v 1 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob0 2 v 1 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob0 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob0 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "ultimately"], ["proof (chain)\npicking this:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2", "show ?thesis"], ["proof (prove)\nusing this:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "using assms"], ["proof (prove)\nusing this:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob0 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<or>\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<or>\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<or>\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. prob0 2 v 1 = 1 / 2", "by auto"], ["proof (state)\nthis:\n  prob0 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma prob_1_bell_snd [simp]:\n  assumes \"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<or> v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\"\n  shows \"prob1 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have set_0:\"{k| k::nat. select_index 2 1 k} = {1,3}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {k |k. select_index 2 1 k} = {1, 3}", "by (auto simp: select_index_def)\n      (metis Suc_le_lessD le_SucE le_less mod2_gr_0 mod_less mod_self numeral_2_eq_2 numeral_3_eq_3)"], ["proof (state)\nthis:\n  {k |k. select_index 2 1 k} = {1, 3}\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow> prob1 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "show \"prob1 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"prob1 2 v 1 = (\\<Sum>j\\<in>{k| k::nat. select_index 2 1 k}. (cmod(bell00 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 1 =\n    (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob1_def asm)"], ["proof (state)\nthis:\n  prob1 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob1 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{1,3}. (cmod(bell00 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{1, 3}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. select_index 2 1 k} = {1, 3}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{1, 3}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{1, 3}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{1, 3}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"\\<dots> = (cmod(1/sqrt(2)))\\<^sup>2 + (cmod(0))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{1, 3}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "by (auto simp: bell00_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{1, 3}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob1 2 v 1 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob1 2 v 1 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob1 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob1 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "moreover"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow> prob1 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "show \"prob1 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"prob1 2 v 1 = (\\<Sum>j\\<in>{k| k::nat. select_index 2 1 k}. (cmod(bell01 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 1 =\n    (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob1_def asm)"], ["proof (state)\nthis:\n  prob1 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob1 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{1,3}. (cmod(bell01 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{1, 3}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. select_index 2 1 k} = {1, 3}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{1, 3}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{1, 3}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{1, 3}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"\\<dots> = (cmod(0))\\<^sup>2 + (cmod(1/sqrt(2)))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{1, 3}.\n       (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "by (auto simp: bell01_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{1, 3}.\n     (cmod (|\\<beta>\\<^sub>0\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob1 2 v 1 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob1 2 v 1 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob1 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob1 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "moreover"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow> prob1 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "show \"prob1 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"prob1 2 v 1 = (\\<Sum>j\\<in>{k| k::nat. select_index 2 1 k}. (cmod(bell10 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 1 =\n    (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob1_def asm)"], ["proof (state)\nthis:\n  prob1 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob1 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{1,3}. (cmod(bell10 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{1, 3}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. select_index 2 1 k} = {1, 3}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{1, 3}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{1, 3}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{1, 3}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"\\<dots> = (cmod(1/sqrt(2)))\\<^sup>2 + (cmod(0))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{1, 3}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "by (auto simp: bell10_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{1, 3}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>0\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob1 2 v 1 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob1 2 v 1 =\n  (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2 + (cmod 0)\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob1 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob1 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "moreover"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow> prob1 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "assume asm:\"v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\""], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n    prob1 2 v 1 = 1 / 2", "show \"prob1 2 v 1 = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"prob1 2 v 1 = (\\<Sum>j\\<in>{k| k::nat. select_index 2 1 k}. (cmod(bell11 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prob1 2 v 1 =\n    (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by (auto simp: prob1_def asm)"], ["proof (state)\nthis:\n  prob1 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  prob1 2 v 1 =\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"\\<dots> = (\\<Sum>j\\<in>{1,3}. (cmod(bell11 $$ (j,0)))\\<^sup>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{1, 3}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "using set_0"], ["proof (prove)\nusing this:\n  {k |k. select_index 2 1 k} = {1, 3}\n\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (\\<Sum>j\\<in>{1, 3}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{1, 3}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{k |k. select_index 2 1 k}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (\\<Sum>j\\<in>{1, 3}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "have \"\\<dots> = (cmod(0))\\<^sup>2 + (cmod(1/sqrt(2)))\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>{1, 3}.\n       (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n    (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "by (auto simp: bell11_def ket_vec_def)"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>{1, 3}.\n     (cmod (|\\<beta>\\<^sub>1\\<^sub>1\\<rangle> $$ (j, 0)))\\<^sup>2) =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  prob1 2 v 1 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2", "show ?thesis"], ["proof (prove)\nusing this:\n  prob1 2 v 1 =\n  (cmod 0)\\<^sup>2 + (cmod (complex_of_real (1 / sqrt 2)))\\<^sup>2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "by(simp add: cmod_def power_divide)"], ["proof (state)\nthis:\n  prob1 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prob1 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "ultimately"], ["proof (chain)\npicking this:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2", "show ?thesis"], ["proof (prove)\nusing this:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "using assms"], ["proof (prove)\nusing this:\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> \\<Longrightarrow>\n  prob1 2 v 1 = 1 / 2\n  v = |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> \\<or>\n  v = |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> \\<or>\n  v = |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> \\<or>\n  v = |\\<beta>\\<^sub>1\\<^sub>1\\<rangle>\n\ngoal (1 subgoal):\n 1. prob1 2 v 1 = 1 / 2", "by auto"], ["proof (state)\nthis:\n  prob1 2 v 1 = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas0_bell00_fst [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 = |unit_vec 4 0\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 =\n    |unit_vec 4 0\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "assume \"i < dim_row |unit_vec 4 0\\<rangle>\" and \"j < dim_col |unit_vec 4 0\\<rangle>\""], ["proof (state)\nthis:\n  i < dim_row |unit_vec 4 0\\<rangle>\n  j < dim_col |unit_vec 4 0\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i < dim_row |unit_vec 4 0\\<rangle>\n  j < dim_col |unit_vec 4 0\\<rangle>", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row |unit_vec 4 0\\<rangle>\n  j < dim_col |unit_vec 4 0\\<rangle>\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (0,0) = |unit_vec 4 0\\<rangle> $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n    |unit_vec 4 0\\<rangle> $$ (0, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (1,0) = |unit_vec 4 0\\<rangle> $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n    |unit_vec 4 0\\<rangle> $$ (1, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (2,0) = |unit_vec 4 0\\<rangle> $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n    |unit_vec 4 0\\<rangle> $$ (2, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (3,0) = |unit_vec 4 0\\<rangle> $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n    |unit_vec 4 0\\<rangle> $$ (3, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 0\\<rangle> $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 0\\<rangle> $$ (3, 0)", "show \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (i,j) = |unit_vec 4 0\\<rangle> $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 0\\<rangle> $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (i, j) =\n    |unit_vec 4 0\\<rangle> $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (i, j) =\n  |unit_vec 4 0\\<rangle> $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "show \"dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) = dim_row |unit_vec 4 0\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n  dim_row |unit_vec 4 0\\<rangle>\n\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "show \"dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) = dim_col |unit_vec 4 0\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n  dim_col |unit_vec 4 0\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas0_bell00_snd [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 = |unit_vec 4 0\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 =\n    |unit_vec 4 0\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "assume \"i < dim_row |unit_vec 4 0\\<rangle>\" and \"j < dim_col |unit_vec 4 0\\<rangle>\""], ["proof (state)\nthis:\n  i < dim_row |unit_vec 4 0\\<rangle>\n  j < dim_col |unit_vec 4 0\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i < dim_row |unit_vec 4 0\\<rangle>\n  j < dim_col |unit_vec 4 0\\<rangle>", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row |unit_vec 4 0\\<rangle>\n  j < dim_col |unit_vec 4 0\\<rangle>\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (0,0) = |unit_vec 4 0\\<rangle> $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n    |unit_vec 4 0\\<rangle> $$ (0, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide del:One_nat_def)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (1,0) = |unit_vec 4 0\\<rangle> $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n    |unit_vec 4 0\\<rangle> $$ (1, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (2,0) = |unit_vec 4 0\\<rangle> $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n    |unit_vec 4 0\\<rangle> $$ (2, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (3,0) = |unit_vec 4 0\\<rangle> $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n    |unit_vec 4 0\\<rangle> $$ (3, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 0\\<rangle> $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 0\\<rangle> $$ (3, 0)", "show \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (i,j) = |unit_vec 4 0\\<rangle> $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 0\\<rangle> $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (i, j) =\n    |unit_vec 4 0\\<rangle> $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (i, j) =\n  |unit_vec 4 0\\<rangle> $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "show \"dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) = dim_row |unit_vec 4 0\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n  dim_row |unit_vec 4 0\\<rangle>\n\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "show \"dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) = dim_col |unit_vec 4 0\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n  dim_col |unit_vec 4 0\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas0_bell01_fst [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 = |unit_vec 4 1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 =\n    |unit_vec 4 1\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "assume \"i < dim_row |unit_vec 4 1\\<rangle>\" and \"j < dim_col |unit_vec 4 1\\<rangle>\""], ["proof (state)\nthis:\n  i < dim_row |unit_vec 4 1\\<rangle>\n  j < dim_col |unit_vec 4 1\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i < dim_row |unit_vec 4 1\\<rangle>\n  j < dim_col |unit_vec 4 1\\<rangle>", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row |unit_vec 4 1\\<rangle>\n  j < dim_col |unit_vec 4 1\\<rangle>\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (0,0) = |unit_vec 4 1\\<rangle> $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n    |unit_vec 4 1\\<rangle> $$ (0, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (1,0) = |unit_vec 4 1\\<rangle> $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n    |unit_vec 4 1\\<rangle> $$ (1, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (2,0) = |unit_vec 4 1\\<rangle> $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n    |unit_vec 4 1\\<rangle> $$ (2, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (3,0) = |unit_vec 4 1\\<rangle> $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n    |unit_vec 4 1\\<rangle> $$ (3, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 1\\<rangle> $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 1\\<rangle> $$ (3, 0)", "show \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (i,j) = |unit_vec 4 1\\<rangle> $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 1\\<rangle> $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (i, j) =\n    |unit_vec 4 1\\<rangle> $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (i, j) =\n  |unit_vec 4 1\\<rangle> $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "show \"dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) = dim_row |unit_vec 4 1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n  dim_row |unit_vec 4 1\\<rangle>\n\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "show \"dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) = dim_col |unit_vec 4 1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n  dim_col |unit_vec 4 1\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas0_bell01_snd [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 = |unit_vec 4 2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 =\n    |unit_vec 4 2\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "assume \"i < dim_row |unit_vec 4 2\\<rangle>\" and \"j < dim_col |unit_vec 4 2\\<rangle>\""], ["proof (state)\nthis:\n  i < dim_row |unit_vec 4 2\\<rangle>\n  j < dim_col |unit_vec 4 2\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i < dim_row |unit_vec 4 2\\<rangle>\n  j < dim_col |unit_vec 4 2\\<rangle>", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row |unit_vec 4 2\\<rangle>\n  j < dim_col |unit_vec 4 2\\<rangle>\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (0,0) = |unit_vec 4 2\\<rangle> $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n    |unit_vec 4 2\\<rangle> $$ (0, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 2\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 2\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (1,0) = |unit_vec 4 2\\<rangle> $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n    |unit_vec 4 2\\<rangle> $$ (1, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 2\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 2\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (2,0) = |unit_vec 4 2\\<rangle> $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n    |unit_vec 4 2\\<rangle> $$ (2, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide del:One_nat_def)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 2\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 2\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (3,0) = |unit_vec 4 2\\<rangle> $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n    |unit_vec 4 2\\<rangle> $$ (3, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 2\\<rangle> $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 2\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 2\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 2\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 2\\<rangle> $$ (3, 0)", "show \"post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (i,j) = |unit_vec 4 2\\<rangle> $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 2\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 2\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 2\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 2\\<rangle> $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (i, j) =\n    |unit_vec 4 2\\<rangle> $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (i, j) =\n  |unit_vec 4 2\\<rangle> $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "show \"dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) = dim_row |unit_vec 4 2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 2\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n  dim_row |unit_vec 4 2\\<rangle>\n\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "show \"dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) = dim_col |unit_vec 4 2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 2\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas0 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n  dim_col |unit_vec 4 2\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas0_bell10_fst [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 = |unit_vec 4 0\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 =\n    |unit_vec 4 0\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "assume \"i < dim_row |unit_vec 4 0\\<rangle>\" and \"j < dim_col |unit_vec 4 0\\<rangle>\""], ["proof (state)\nthis:\n  i < dim_row |unit_vec 4 0\\<rangle>\n  j < dim_col |unit_vec 4 0\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i < dim_row |unit_vec 4 0\\<rangle>\n  j < dim_col |unit_vec 4 0\\<rangle>", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row |unit_vec 4 0\\<rangle>\n  j < dim_col |unit_vec 4 0\\<rangle>\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (0,0) = |unit_vec 4 0\\<rangle> $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n    |unit_vec 4 0\\<rangle> $$ (0, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (1,0) = |unit_vec 4 0\\<rangle> $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n    |unit_vec 4 0\\<rangle> $$ (1, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (2,0) = |unit_vec 4 0\\<rangle> $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n    |unit_vec 4 0\\<rangle> $$ (2, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (3,0) = |unit_vec 4 0\\<rangle> $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n    |unit_vec 4 0\\<rangle> $$ (3, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 0\\<rangle> $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 0\\<rangle> $$ (3, 0)", "show \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (i,j) = |unit_vec 4 0\\<rangle> $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 0\\<rangle> $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (i, j) =\n    |unit_vec 4 0\\<rangle> $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (i, j) =\n  |unit_vec 4 0\\<rangle> $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "show \"dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) = dim_row |unit_vec 4 0\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 0\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n  dim_row |unit_vec 4 0\\<rangle>\n\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "show \"dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) = dim_col |unit_vec 4 0\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 0\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n  dim_col |unit_vec 4 0\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas0_bell10_snd [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 = |unit_vec 4 0\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 =\n    |unit_vec 4 0\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "assume \"i < dim_row |unit_vec 4 0\\<rangle>\" and \"j < dim_col |unit_vec 4 0\\<rangle>\""], ["proof (state)\nthis:\n  i < dim_row |unit_vec 4 0\\<rangle>\n  j < dim_col |unit_vec 4 0\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i < dim_row |unit_vec 4 0\\<rangle>\n  j < dim_col |unit_vec 4 0\\<rangle>", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row |unit_vec 4 0\\<rangle>\n  j < dim_col |unit_vec 4 0\\<rangle>\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (0,0) = |unit_vec 4 0\\<rangle> $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n    |unit_vec 4 0\\<rangle> $$ (0, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide del:One_nat_def)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (1,0) = |unit_vec 4 0\\<rangle> $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n    |unit_vec 4 0\\<rangle> $$ (1, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (2,0) = |unit_vec 4 0\\<rangle> $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n    |unit_vec 4 0\\<rangle> $$ (2, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (3,0) = |unit_vec 4 0\\<rangle> $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n    |unit_vec 4 0\\<rangle> $$ (3, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 0\\<rangle> $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 0\\<rangle>;\n        j < dim_col |unit_vec 4 0\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 0\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 0\\<rangle> $$ (3, 0)", "show \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (i,j) = |unit_vec 4 0\\<rangle> $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 0\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 0\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 0\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 0\\<rangle> $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (i, j) =\n    |unit_vec 4 0\\<rangle> $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (i, j) =\n  |unit_vec 4 0\\<rangle> $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "show \"dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) = dim_row |unit_vec 4 0\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 0\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n  dim_row |unit_vec 4 0\\<rangle>\n\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "show \"dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) = dim_col |unit_vec 4 0\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 0\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n  dim_col |unit_vec 4 0\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas0_bell11_fst [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 = |unit_vec 4 1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 =\n    |unit_vec 4 1\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "assume \"i < dim_row |unit_vec 4 1\\<rangle>\" and \"j < dim_col |unit_vec 4 1\\<rangle>\""], ["proof (state)\nthis:\n  i < dim_row |unit_vec 4 1\\<rangle>\n  j < dim_col |unit_vec 4 1\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i < dim_row |unit_vec 4 1\\<rangle>\n  j < dim_col |unit_vec 4 1\\<rangle>", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row |unit_vec 4 1\\<rangle>\n  j < dim_col |unit_vec 4 1\\<rangle>\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (0,0) = |unit_vec 4 1\\<rangle> $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n    |unit_vec 4 1\\<rangle> $$ (0, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (1,0) = |unit_vec 4 1\\<rangle> $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n    |unit_vec 4 1\\<rangle> $$ (1, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (2,0) = |unit_vec 4 1\\<rangle> $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n    |unit_vec 4 1\\<rangle> $$ (2, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (3,0) = |unit_vec 4 1\\<rangle> $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n    |unit_vec 4 1\\<rangle> $$ (3, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 1\\<rangle> $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 1\\<rangle> $$ (3, 0)", "show \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (i,j) = |unit_vec 4 1\\<rangle> $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 1\\<rangle> $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (i, j) =\n    |unit_vec 4 1\\<rangle> $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (i, j) =\n  |unit_vec 4 1\\<rangle> $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "show \"dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) = dim_row |unit_vec 4 1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 1\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n  dim_row |unit_vec 4 1\\<rangle>\n\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "show \"dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) = dim_col |unit_vec 4 1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 1\\<rangle>", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n  dim_col |unit_vec 4 1\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas0_bell11_snd [simp]:\n  \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 = - |unit_vec 4 2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 =\n    - |unit_vec 4 2\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "assume \"i < dim_row (- |unit_vec 4 2\\<rangle>)\" and \"j < dim_col (- |unit_vec 4 2\\<rangle>)\""], ["proof (state)\nthis:\n  i < dim_row (- |unit_vec 4 2\\<rangle>)\n  j < dim_col (- |unit_vec 4 2\\<rangle>)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "then"], ["proof (chain)\npicking this:\n  i < dim_row (- |unit_vec 4 2\\<rangle>)\n  j < dim_col (- |unit_vec 4 2\\<rangle>)", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row (- |unit_vec 4 2\\<rangle>)\n  j < dim_col (- |unit_vec 4 2\\<rangle>)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (0,0) = (- |unit_vec 4 2\\<rangle>) $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n    (- |unit_vec 4 2\\<rangle>) $$ (0, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (1,0) = (- |unit_vec 4 2\\<rangle>) $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n    (- |unit_vec 4 2\\<rangle>) $$ (1, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (2,0) = (- |unit_vec 4 2\\<rangle>) $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n    (- |unit_vec 4 2\\<rangle>) $$ (2, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide del:One_nat_def)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "have \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (3,0) = (- |unit_vec 4 2\\<rangle>) $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n    (- |unit_vec 4 2\\<rangle>) $$ (3, 0)", "by(simp add: post_meas0_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (3, 0)", "show \"post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (i,j) = (- |unit_vec 4 2\\<rangle>) $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (0, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (1, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (2, 0)\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (i, j) =\n    (- |unit_vec 4 2\\<rangle>) $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (i, j) =\n  (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 2. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "show \"dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) = dim_row (- |unit_vec 4 2\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row (- |unit_vec 4 2\\<rangle>)", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n  dim_row (- |unit_vec 4 2\\<rangle>)\n\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "show \"dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) = dim_col (- |unit_vec 4 2\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "by(auto simp add: post_meas0_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas0 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n  dim_col (- |unit_vec 4 2\\<rangle>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas1_bell00_fst [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 = |unit_vec 4 3\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 =\n    |unit_vec 4 3\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "assume \"i < dim_row |unit_vec 4 3\\<rangle>\" and \"j < dim_col |unit_vec 4 3\\<rangle>\""], ["proof (state)\nthis:\n  i < dim_row |unit_vec 4 3\\<rangle>\n  j < dim_col |unit_vec 4 3\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i < dim_row |unit_vec 4 3\\<rangle>\n  j < dim_col |unit_vec 4 3\\<rangle>", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row |unit_vec 4 3\\<rangle>\n  j < dim_col |unit_vec 4 3\\<rangle>\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (0,0) = |unit_vec 4 3\\<rangle> $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n    |unit_vec 4 3\\<rangle> $$ (0, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 3\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 3\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (1,0) = |unit_vec 4 3\\<rangle> $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n    |unit_vec 4 3\\<rangle> $$ (1, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 3\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 3\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (2,0) = |unit_vec 4 3\\<rangle> $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n    |unit_vec 4 3\\<rangle> $$ (2, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 3\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 3\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (3,0) = |unit_vec 4 3\\<rangle> $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n    |unit_vec 4 3\\<rangle> $$ (3, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 3\\<rangle> $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 3\\<rangle> $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 3\\<rangle> $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 3\\<rangle> $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 3\\<rangle> $$ (3, 0)", "show \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (i,j) = |unit_vec 4 3\\<rangle> $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 3\\<rangle> $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 3\\<rangle> $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 3\\<rangle> $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 3\\<rangle> $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (i, j) =\n    |unit_vec 4 3\\<rangle> $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0 $$ (i, j) =\n  |unit_vec 4 3\\<rangle> $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "show \"dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) = dim_row |unit_vec 4 3\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_row |unit_vec 4 3\\<rangle>", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n  dim_row |unit_vec 4 3\\<rangle>\n\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "show \"dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) = dim_col |unit_vec 4 3\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n    dim_col |unit_vec 4 3\\<rangle>", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 0) =\n  dim_col |unit_vec 4 3\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas1_bell00_snd [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 = |unit_vec 4 3\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 =\n    |unit_vec 4 3\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "assume \"i < dim_row |unit_vec 4 3\\<rangle>\" and \"j < dim_col |unit_vec 4 3\\<rangle>\""], ["proof (state)\nthis:\n  i < dim_row |unit_vec 4 3\\<rangle>\n  j < dim_col |unit_vec 4 3\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i < dim_row |unit_vec 4 3\\<rangle>\n  j < dim_col |unit_vec 4 3\\<rangle>", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row |unit_vec 4 3\\<rangle>\n  j < dim_col |unit_vec 4 3\\<rangle>\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (0,0) = |unit_vec 4 3\\<rangle> $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n    |unit_vec 4 3\\<rangle> $$ (0, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 3\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 3\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (1,0) = |unit_vec 4 3\\<rangle> $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n    |unit_vec 4 3\\<rangle> $$ (1, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 3\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 3\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (2,0) = |unit_vec 4 3\\<rangle> $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n    |unit_vec 4 3\\<rangle> $$ (2, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 3\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 3\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (3,0) = |unit_vec 4 3\\<rangle> $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n    |unit_vec 4 3\\<rangle> $$ (3, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell00_def ket_vec_def real_sqrt_divide del: One_nat_def)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 3\\<rangle> $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 3\\<rangle>;\n        j < dim_col |unit_vec 4 3\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 3\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 3\\<rangle> $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 3\\<rangle> $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 3\\<rangle> $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 3\\<rangle> $$ (3, 0)", "show \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (i,j) = |unit_vec 4 3\\<rangle> $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 3\\<rangle> $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 3\\<rangle> $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 3\\<rangle> $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 3\\<rangle> $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (i, j) =\n    |unit_vec 4 3\\<rangle> $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1 $$ (i, j) =\n  |unit_vec 4 3\\<rangle> $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "show \"dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) = dim_row |unit_vec 4 3\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_row |unit_vec 4 3\\<rangle>", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n  dim_row |unit_vec 4 3\\<rangle>\n\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "show \"dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) = dim_col |unit_vec 4 3\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n    dim_col |unit_vec 4 3\\<rangle>", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>0\\<rangle> 1) =\n  dim_col |unit_vec 4 3\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas1_bell01_fst [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 = |unit_vec 4 2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 =\n    |unit_vec 4 2\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "assume \"i < dim_row |unit_vec 4 2\\<rangle>\" and \"j < dim_col |unit_vec 4 2\\<rangle>\""], ["proof (state)\nthis:\n  i < dim_row |unit_vec 4 2\\<rangle>\n  j < dim_col |unit_vec 4 2\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i < dim_row |unit_vec 4 2\\<rangle>\n  j < dim_col |unit_vec 4 2\\<rangle>", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row |unit_vec 4 2\\<rangle>\n  j < dim_col |unit_vec 4 2\\<rangle>\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (0,0) = |unit_vec 4 2\\<rangle> $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n    |unit_vec 4 2\\<rangle> $$ (0, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 2\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 2\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (1,0) = |unit_vec 4 2\\<rangle> $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n    |unit_vec 4 2\\<rangle> $$ (1, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 2\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 2\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (2,0) = |unit_vec 4 2\\<rangle> $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n    |unit_vec 4 2\\<rangle> $$ (2, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 2\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 2\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (3,0) = |unit_vec 4 2\\<rangle> $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n    |unit_vec 4 2\\<rangle> $$ (3, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 2\\<rangle> $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 2\\<rangle>;\n        j < dim_col |unit_vec 4 2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         |unit_vec 4 2\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 2\\<rangle> $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 2\\<rangle> $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 2\\<rangle> $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 2\\<rangle> $$ (3, 0)", "show \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (i,j) = |unit_vec 4 2\\<rangle> $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  |unit_vec 4 2\\<rangle> $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  |unit_vec 4 2\\<rangle> $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  |unit_vec 4 2\\<rangle> $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n  |unit_vec 4 2\\<rangle> $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (i, j) =\n    |unit_vec 4 2\\<rangle> $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0 $$ (i, j) =\n  |unit_vec 4 2\\<rangle> $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "show \"dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) = dim_row |unit_vec 4 2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_row |unit_vec 4 2\\<rangle>", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n  dim_row |unit_vec 4 2\\<rangle>\n\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "show \"dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) = dim_col |unit_vec 4 2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n    dim_col |unit_vec 4 2\\<rangle>", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 0) =\n  dim_col |unit_vec 4 2\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas1_bell01_snd [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 = |unit_vec 4 1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 =\n    |unit_vec 4 1\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "assume \"i < dim_row |unit_vec 4 1\\<rangle>\" and \"j < dim_col |unit_vec 4 1\\<rangle>\""], ["proof (state)\nthis:\n  i < dim_row |unit_vec 4 1\\<rangle>\n  j < dim_col |unit_vec 4 1\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i < dim_row |unit_vec 4 1\\<rangle>\n  j < dim_col |unit_vec 4 1\\<rangle>", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row |unit_vec 4 1\\<rangle>\n  j < dim_col |unit_vec 4 1\\<rangle>\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (0,0) = |unit_vec 4 1\\<rangle> $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n    |unit_vec 4 1\\<rangle> $$ (0, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (1,0) = |unit_vec 4 1\\<rangle> $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n    |unit_vec 4 1\\<rangle> $$ (1, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide del: One_nat_def)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (2,0) = |unit_vec 4 1\\<rangle> $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n    |unit_vec 4 1\\<rangle> $$ (2, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (3,0) = |unit_vec 4 1\\<rangle> $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n    |unit_vec 4 1\\<rangle> $$ (3, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell01_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 1\\<rangle> $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 1\\<rangle> $$ (3, 0)", "show \"post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (i,j) = |unit_vec 4 1\\<rangle> $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 1\\<rangle> $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (i, j) =\n    |unit_vec 4 1\\<rangle> $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1 $$ (i, j) =\n  |unit_vec 4 1\\<rangle> $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "show \"dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) = dim_row |unit_vec 4 1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n  dim_row |unit_vec 4 1\\<rangle>\n\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "show \"dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) = dim_col |unit_vec 4 1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas1 2 |\\<beta>\\<^sub>0\\<^sub>1\\<rangle> 1) =\n  dim_col |unit_vec 4 1\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas1_bell10_fst [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 = - |unit_vec 4 3\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 =\n    - |unit_vec 4 3\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "assume \"i < dim_row (- |unit_vec 4 3\\<rangle>)\" and \"j < dim_col (- |unit_vec 4 3\\<rangle>)\""], ["proof (state)\nthis:\n  i < dim_row (- |unit_vec 4 3\\<rangle>)\n  j < dim_col (- |unit_vec 4 3\\<rangle>)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "then"], ["proof (chain)\npicking this:\n  i < dim_row (- |unit_vec 4 3\\<rangle>)\n  j < dim_col (- |unit_vec 4 3\\<rangle>)", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row (- |unit_vec 4 3\\<rangle>)\n  j < dim_col (- |unit_vec 4 3\\<rangle>)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (0,0) = (- |unit_vec 4 3\\<rangle>) $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n    (- |unit_vec 4 3\\<rangle>) $$ (0, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (1,0) = (- |unit_vec 4 3\\<rangle>) $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n    (- |unit_vec 4 3\\<rangle>) $$ (1, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (2,0) = (- |unit_vec 4 3\\<rangle>) $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n    (- |unit_vec 4 3\\<rangle>) $$ (2, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (3,0) = (- |unit_vec 4 3\\<rangle>) $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n    (- |unit_vec 4 3\\<rangle>) $$ (3, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (3, 0)", "show \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (i,j) = (- |unit_vec 4 3\\<rangle>) $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (0, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (1, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (2, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (3, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (i, j) =\n    (- |unit_vec 4 3\\<rangle>) $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0 $$ (i, j) =\n  (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "show \"dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) = dim_row (- |unit_vec 4 3\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_row (- |unit_vec 4 3\\<rangle>)", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n  dim_row (- |unit_vec 4 3\\<rangle>)\n\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "show \"dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) = dim_col (- |unit_vec 4 3\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 0) =\n  dim_col (- |unit_vec 4 3\\<rangle>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas1_bell10_snd [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 = - |unit_vec 4 3\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 =\n    - |unit_vec 4 3\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "assume \"i < dim_row (- |unit_vec 4 3\\<rangle>)\" and \"j < dim_col (- |unit_vec 4 3\\<rangle>)\""], ["proof (state)\nthis:\n  i < dim_row (- |unit_vec 4 3\\<rangle>)\n  j < dim_col (- |unit_vec 4 3\\<rangle>)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "then"], ["proof (chain)\npicking this:\n  i < dim_row (- |unit_vec 4 3\\<rangle>)\n  j < dim_col (- |unit_vec 4 3\\<rangle>)", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row (- |unit_vec 4 3\\<rangle>)\n  j < dim_col (- |unit_vec 4 3\\<rangle>)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (0,0) = (- |unit_vec 4 3\\<rangle>) $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n    (- |unit_vec 4 3\\<rangle>) $$ (0, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (1,0) = (- |unit_vec 4 3\\<rangle>) $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n    (- |unit_vec 4 3\\<rangle>) $$ (1, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (2,0) = (- |unit_vec 4 3\\<rangle>) $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n    (- |unit_vec 4 3\\<rangle>) $$ (2, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (3,0) = (- |unit_vec 4 3\\<rangle>) $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n    (- |unit_vec 4 3\\<rangle>) $$ (3, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell10_def ket_vec_def real_sqrt_divide del: One_nat_def)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 3\\<rangle>);\n        j < dim_col (- |unit_vec 4 3\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$\n                         (i, j) =\n                         (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (3, 0)", "show \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (i,j) = (- |unit_vec 4 3\\<rangle>) $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (0, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (1, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (2, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (3, 0) =\n  (- |unit_vec 4 3\\<rangle>) $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (i, j) =\n    (- |unit_vec 4 3\\<rangle>) $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1 $$ (i, j) =\n  (- |unit_vec 4 3\\<rangle>) $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "show \"dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) = dim_row (- |unit_vec 4 3\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_row (- |unit_vec 4 3\\<rangle>)", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n  dim_row (- |unit_vec 4 3\\<rangle>)\n\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "show \"dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) = dim_col (- |unit_vec 4 3\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n    dim_col (- |unit_vec 4 3\\<rangle>)", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>0\\<rangle> 1) =\n  dim_col (- |unit_vec 4 3\\<rangle>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas1_bell11_fst [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 = - |unit_vec 4 2\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 =\n    - |unit_vec 4 2\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "assume \"i < dim_row (- |unit_vec 4 2\\<rangle>)\" and \"j < dim_col (- |unit_vec 4 2\\<rangle>)\""], ["proof (state)\nthis:\n  i < dim_row (- |unit_vec 4 2\\<rangle>)\n  j < dim_col (- |unit_vec 4 2\\<rangle>)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "then"], ["proof (chain)\npicking this:\n  i < dim_row (- |unit_vec 4 2\\<rangle>)\n  j < dim_col (- |unit_vec 4 2\\<rangle>)", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row (- |unit_vec 4 2\\<rangle>)\n  j < dim_col (- |unit_vec 4 2\\<rangle>)\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (0,0) = (- |unit_vec 4 2\\<rangle>) $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n    (- |unit_vec 4 2\\<rangle>) $$ (0, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (1,0) = (- |unit_vec 4 2\\<rangle>) $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n    (- |unit_vec 4 2\\<rangle>) $$ (1, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (2,0) = (- |unit_vec 4 2\\<rangle>) $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n    (- |unit_vec 4 2\\<rangle>) $$ (2, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (3,0) = (- |unit_vec 4 2\\<rangle>) $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n    (- |unit_vec 4 2\\<rangle>) $$ (3, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row (- |unit_vec 4 2\\<rangle>);\n        j < dim_col (- |unit_vec 4 2\\<rangle>)\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$\n                         (i, j) =\n                         (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (3, 0)", "show \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (i,j) = (- |unit_vec 4 2\\<rangle>) $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (0, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (1, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (2, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (3, 0) =\n  (- |unit_vec 4 2\\<rangle>) $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (i, j) =\n    (- |unit_vec 4 2\\<rangle>) $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0 $$ (i, j) =\n  (- |unit_vec 4 2\\<rangle>) $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "show \"dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) = dim_row (- |unit_vec 4 2\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_row (- |unit_vec 4 2\\<rangle>)", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n  dim_row (- |unit_vec 4 2\\<rangle>)\n\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "show \"dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) = dim_col (- |unit_vec 4 2\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n    dim_col (- |unit_vec 4 2\\<rangle>)", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 0) =\n  dim_col (- |unit_vec 4 2\\<rangle>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma post_meas1_bell11_snd [simp]:\n  \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 = |unit_vec 4 1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 =\n    |unit_vec 4 1\\<rangle>", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "fix i j::nat"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "assume \"i < dim_row |unit_vec 4 1\\<rangle>\" and \"j < dim_col |unit_vec 4 1\\<rangle>\""], ["proof (state)\nthis:\n  i < dim_row |unit_vec 4 1\\<rangle>\n  j < dim_col |unit_vec 4 1\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "then"], ["proof (chain)\npicking this:\n  i < dim_row |unit_vec 4 1\\<rangle>\n  j < dim_col |unit_vec 4 1\\<rangle>", "have \"i \\<in> {0,1,2,3}\" and \"j = 0\""], ["proof (prove)\nusing this:\n  i < dim_row |unit_vec 4 1\\<rangle>\n  j < dim_col |unit_vec 4 1\\<rangle>\n\ngoal (1 subgoal):\n 1. i \\<in> {0, 1, 2, 3} &&& j = 0", "by(auto simp add: ket_vec_def)"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (0,0) = |unit_vec 4 1\\<rangle> $$ (0,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n    |unit_vec 4 1\\<rangle> $$ (0, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (1,0) = |unit_vec 4 1\\<rangle> $$ (1,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n    |unit_vec 4 1\\<rangle> $$ (1, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide del: One_nat_def)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (2,0) = |unit_vec 4 1\\<rangle> $$ (2,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n    |unit_vec 4 1\\<rangle> $$ (2, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "moreover"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "have \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (3,0) = |unit_vec 4 1\\<rangle> $$ (3,0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n    |unit_vec 4 1\\<rangle> $$ (3, 0)", "by(simp add: post_meas1_def unit_vec_def select_index_def bell11_def ket_vec_def real_sqrt_divide)"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 1\\<rangle> $$ (3, 0)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row |unit_vec 4 1\\<rangle>;\n        j < dim_col |unit_vec 4 1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$\n                         (i, j) =\n                         |unit_vec 4 1\\<rangle> $$ (i, j)\n 2. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 3. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 1\\<rangle> $$ (3, 0)", "show \"post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (i,j) = |unit_vec 4 1\\<rangle> $$ (i,j)\""], ["proof (prove)\nusing this:\n  i \\<in> {0, 1, 2, 3}\n  j = 0\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (0, 0) =\n  |unit_vec 4 1\\<rangle> $$ (0, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (1, 0) =\n  |unit_vec 4 1\\<rangle> $$ (1, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (2, 0) =\n  |unit_vec 4 1\\<rangle> $$ (2, 0)\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (3, 0) =\n  |unit_vec 4 1\\<rangle> $$ (3, 0)\n\ngoal (1 subgoal):\n 1. post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (i, j) =\n    |unit_vec 4 1\\<rangle> $$ (i, j)", "by auto"], ["proof (state)\nthis:\n  post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1 $$ (i, j) =\n  |unit_vec 4 1\\<rangle> $$ (i, j)\n\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>\n 2. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "show \"dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) = dim_row |unit_vec 4 1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_row |unit_vec 4 1\\<rangle>", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_row (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n  dim_row |unit_vec 4 1\\<rangle>\n\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "show \"dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) = dim_col |unit_vec 4 1\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n    dim_col |unit_vec 4 1\\<rangle>", "by(auto simp add: post_meas1_def ket_vec_def)"], ["proof (state)\nthis:\n  dim_col (post_meas1 2 |\\<beta>\\<^sub>1\\<^sub>1\\<rangle> 1) =\n  dim_col |unit_vec 4 1\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}