{"file_name": "/home/qj213/afp-2021-10-22/thys/SDS_Impossibility/SDS_Impossibility.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/SDS_Impossibility", "problem_names": ["lemma an_sds: \"an_sds agents alts sds\"", "lemma ex_post_efficient_sds: \"ex_post_efficient_sds agents alts sds\"", "lemma sd_efficient_sds: \"sd_efficient_sds agents alts sds\"", "lemma strategyproof_an_sds: \"strategyproof_an_sds agents alts sds\"", "lemma distinct_agents' [simp]: \n  \"A1 \\<noteq> A2\" \"A1 \\<noteq> A3\" \"A1 \\<noteq> A4\" \"A2 \\<noteq> A1\" \"A2 \\<noteq> A3\" \"A2 \\<noteq> A4\" \n  \"A3 \\<noteq> A1\" \"A3 \\<noteq> A2\" \"A3 \\<noteq> A4\" \"A4 \\<noteq> A1\" \"A4 \\<noteq> A2\" \"A4 \\<noteq> A3\"", "lemma distinct_alts' [simp]:\n  \"a \\<noteq> b\" \"a \\<noteq> c\" \"a \\<noteq> d\" \"b \\<noteq> a\" \"b \\<noteq> c\" \"b \\<noteq> d\" \n  \"c \\<noteq> a\" \"c \\<noteq> b\" \"c \\<noteq> d\" \"d \\<noteq> a\" \"d \\<noteq> b\" \"d \\<noteq> c\"", "lemma card_agents [simp]: \"card agents = 4\" and card_alts [simp]: \"card alts = 4\"", "lemma in_agents [simp]: \"A1 \\<in> agents\" \"A2 \\<in> agents\" \"A3 \\<in> agents\" \"A4 \\<in> agents\"", "lemma in_alts [simp]: \"a \\<in> alts\" \"b \\<in> alts\" \"c \\<in> alts\" \"d \\<in> alts\"", "lemma agent_iff: \"x \\<in> agents \\<longleftrightarrow> x \\<in> {A1, A2, A3, A4}\"\n                 \"(\\<forall>x\\<in>agents. P x) \\<longleftrightarrow> P A1 \\<and> P A2 \\<and> P A3 \\<and> P A4\"\n                 \"(\\<exists>x\\<in>agents. P x) \\<longleftrightarrow> P A1 \\<or> P A2 \\<or> P A3 \\<or> P A4\"", "lemma alt_iff: \"x \\<in> alts \\<longleftrightarrow> x \\<in> {a,b,c,d}\"\n               \"(\\<forall>x\\<in>alts. P x) \\<longleftrightarrow> P a \\<and> P b \\<and> P c \\<and> P d\"\n               \"(\\<exists>x\\<in>alts. P x) \\<longleftrightarrow> P a \\<or> P b \\<or> P c \\<or> P d\"", "lemma lottery_conditions:\n  assumes \"is_pref_profile R\"\n  shows   \"pmf (sds R) a \\<ge> 0\" \"pmf (sds R) b \\<ge> 0\" \"pmf (sds R) c \\<ge> 0\" \"pmf (sds R) d \\<ge> 0\"\n          \"pmf (sds R) a + pmf (sds R) b + pmf (sds R) c + pmf (sds R) d = 1\"", "lemma R45 [simp]: \"pmf (sds R45) a = 1/4\" \"pmf (sds R45) b = 1/4\" \n           \"pmf (sds R45) c = 1/4\" \"pmf (sds R45) d = 1/4\"", "lemma R10_bc [simp]: \"pmf (sds R10) b = 0\" \"pmf (sds R10) c = 0\"", "lemma R10_ad [simp]: \"pmf (sds R10) a = 1/2\" \"pmf (sds R10) d = 1/2\"", "lemma R26_bc [simp]: \"pmf (sds R26) b = 0\" \"pmf (sds R26) c = 0\"", "lemma R26_d [simp]: \"pmf (sds R26) d = 1 - pmf (sds R26) a\"", "lemma R27_bc [simp]: \"pmf (sds R27) b = 0\" \"pmf (sds R27) c = 0\"", "lemma R27_d [simp]: \"pmf (sds R27) d = 1 - pmf (sds R27) a\"", "lemma R28_bc [simp]: \"pmf (sds R28) b = 0\" \"pmf (sds R28) c = 0\"", "lemma R28_d [simp]: \"pmf (sds R28) d = 1 - pmf (sds R28) a\"", "lemma R29_bc [simp]: \"pmf (sds R29) b = 0\" \"pmf (sds R29) c = 0\"", "lemma R29_ac [simp]: \"pmf (sds R29) a = 1/2\" \"pmf (sds R29) d = 1/2\"", "lemmas R43_bc [simp] = R43.support", "lemma R43_ad [simp]: \"pmf (sds R43) a = 1/2\" \"pmf (sds R43) d = 1/2\"", "lemma R39_b [simp]: \"pmf (sds R39) b = 0\"", "lemma R36_a [simp]: \"pmf (sds R36) a = 1/2\" and R36_b [simp]: \"pmf (sds R36) b = 0\"", "lemma R36_d [simp]: \"pmf (sds R36) d = 1/2 - pmf (sds R36) c\"", "lemma R39_a [simp]: \"pmf (sds R39) a = 1/2\"", "lemma R39_d [simp]: \"pmf (sds R39) d = 1/2 - pmf (sds R39) c\"", "lemmas R12_b [simp] = R12.support", "lemma R12_c [simp]: \"pmf (sds R12) c = 0\"", "lemma R12_d [simp]: \"pmf (sds R12) d = 1 - pmf (sds R12) a\"", "lemma R12_a_ge_one_half: \"pmf (sds R12) a \\<ge> 1/2\"", "lemma R44 [simp]: \n  \"pmf (sds R44) a = pmf (sds R12) a\" \"pmf (sds R44) d = 1 - pmf (sds R12) a\"\n  \"pmf (sds R44) b = 0\" \"pmf (sds R44) c = 0\"", "lemma R9_a [simp]: \"pmf (sds R9) a = pmf (sds R35) a\"", "lemma R18_c [simp]: \"pmf (sds R18) c = pmf (sds R9) c\"", "lemma R5_d_ge_one_half: \"pmf (sds R5) d \\<ge> 1/2\"", "lemma R7 [simp]: \"pmf (sds R7) a = 1/2\" \"pmf (sds R7) b = 0\" \"pmf (sds R7) c = 0\" \"pmf (sds R7) d = 1/2\"", "lemma R5 [simp]: \"pmf (sds R5) a = 1/2\" \"pmf (sds R5) b = 0\" \"pmf (sds R5) c = 0\" \"pmf (sds R5) d = 1/2\"", "lemma R15 [simp]: \"pmf (sds R15) a = 1/2\" \"pmf (sds R15) b = 0\" \"pmf (sds R15) c = 0\" \"pmf (sds R15) d = 1/2\"", "lemma R13_aux: \"pmf (sds R13) b = 0\" \"pmf (sds R13) c = 0\" \"pmf (sds R13) d = 1 - pmf (sds R13) a\"\n  and R27_R13 [simp]: \"pmf (sds R27) a = pmf (sds R13) a\"", "lemma R13 [simp]: \"pmf (sds R13) a = 1/2\" \"pmf (sds R13) b = 0\" \"pmf (sds R13) c = 0\" \"pmf (sds R13) d = 1/2\"", "lemma R27 [simp]: \"pmf (sds R27) a = 1/2\" \"pmf (sds R27) b = 0\" \"pmf (sds R27) c = 0\" \"pmf (sds R27) d = 1/2\"", "lemma R19 [simp]: \"pmf (sds R19) a = 1/2\" \"pmf (sds R19) b = 0\" \"pmf (sds R19) c = 0\" \"pmf (sds R19) d = 1/2\"", "lemma R1 [simp]: \"pmf (sds R1) a = 1/2\" \"pmf (sds R1) b = 0\"", "lemma R22 [simp]: \"pmf (sds R22) a = 1/2\" \"pmf (sds R22) b = 0\" \"pmf (sds R22) c = 0\" \"pmf (sds R22) d = 1/2\"", "lemma R28 [simp]: \"pmf (sds R28) a = 1/2\" \"pmf (sds R28) b = 0\" \"pmf (sds R28) c = 0\" \"pmf (sds R28) d = 1/2\"", "lemma R39 [simp]: \"pmf (sds R39) a = 1/2\" \"pmf (sds R39) b = 0\" \"pmf (sds R39) c = 0\" \"pmf (sds R39) d = 1/2\"", "lemma R2 [simp]: \"pmf (sds R2) a = 1/2\" \"pmf (sds R2) b = 0\" \"pmf (sds R2) c = 0\" \"pmf (sds R2) d = 1/2\"", "lemma R42 [simp]: \"pmf (sds R42) a = 0\" \"pmf (sds R42) b = 0\" \"pmf (sds R42) c = 1/2\" \"pmf (sds R42) d = 1/2\"", "lemma R37 [simp]: \"pmf (sds R37) a = 1/2\" \"pmf (sds R37) b = 0\" \"pmf (sds R37) c = 1/2\" \"pmf (sds R37) d = 0\"", "lemma R24 [simp]: \"pmf (sds R24) a = 0\" \"pmf (sds R24) b = 0\" \"pmf (sds R24) d = 1 - pmf (sds R24) c\"", "lemma R34 [simp]:\n  \"pmf (sds R34) a = 1 - pmf (sds R24) c\" \"pmf (sds R34) b = pmf (sds R24) c\"\n  \"pmf (sds R34) c = 0\" \"pmf (sds R34) d = 0\"", "lemma R14 [simp]: \"pmf (sds R14) b = 0\" \"pmf (sds R14) d = 0\" \"pmf (sds R14) c = 1 - pmf (sds R14) a\"", "lemma R46 [simp]: \"pmf (sds R46) a = 0\" \"pmf (sds R46) c = 0\" \"pmf (sds R46) d = 1 - pmf (sds R46) b\"", "lemma R20 [simp]: \"pmf (sds R20) a = 0\" \"pmf (sds R20) c = 0\" \"pmf (sds R20) d = 1 - pmf (sds R20) b\"", "lemma R21 [simp]: \"pmf (sds R21) d = 1 - pmf (sds R21) a\" \"pmf (sds R21) b = 0\" \"pmf (sds R21) c = 0\"", "lemma R16_R12: \"pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R12) a\"", "lemma R16 [simp]: \"pmf (sds R16) b = 0\" \"pmf (sds R16) c = 0\" \"pmf (sds R16) d = 1 - pmf (sds R16) a\"", "lemma R12_R14: \"pmf (sds R14) a \\<le> pmf (sds R12) a\"", "lemma R12_a [simp]: \"pmf (sds R12) a = pmf (sds R9) a\"", "lemma R9 [simp]: \"pmf (sds R9) b = 0\" \"pmf (sds R9) d = 0\" \"pmf (sds R14) a = pmf (sds R35) a\" \"pmf (sds R9) c = 1 - pmf (sds R35) a\"", "lemma R23 [simp]: \"pmf (sds R23) b = 0\" \"pmf (sds R23) c = 0\" \"pmf (sds R23) d = 1 - pmf (sds R23) a\"", "lemma R35 [simp]: \"pmf (sds R35) a = pmf (sds R21) a\" \"pmf (sds R35) b = 0\" \"pmf (sds R35) c = 0\" \"pmf (sds R35) d = 1 - pmf (sds R21) a\"", "lemma R18 [simp]: \"pmf (sds R18) a = pmf (sds R14) a\" \"pmf (sds R18) b = 0\"\n                  \"pmf (sds R18) d = 0\" \"pmf (sds R18) c = 1 - pmf (sds R14) a\"", "lemma R4 [simp]: \"pmf (sds R4) a = pmf (sds R21) a\" \"pmf (sds R4) b = 0\"\n                 \"pmf (sds R4) c = 1 - pmf (sds R4) a\" \"pmf (sds R4) d = 0\"", "lemma R8_d [simp]: \"pmf (sds R8) d = 1 - pmf (sds R8) a\"\n  and R8_c [simp]: \"pmf (sds R8) c = 0\"\n  and R26_a [simp]: \"pmf (sds R26) a = 1 - pmf (sds R8) a\"", "lemma R21_R47: \"pmf (sds R21) d \\<le> pmf (sds R47) c\"", "lemma R30 [simp]: \"pmf (sds R30) a = pmf (sds R47) a\" \"pmf (sds R30) b = 0\" \n  \"pmf (sds R30) c = 0\" \"pmf (sds R30) d = 1 - pmf (sds R47) a\"", "lemma R31_c_ge_one_half: \"pmf (sds R31) c \\<ge> 1/2\"", "lemma R31: \"pmf (sds R31) a = 0\" \"pmf (sds R31) c = 1/2\" \"pmf (sds R31) b + pmf (sds R31) d = 1/2\"", "lemma absurd: False", "lemma finite_list':\n  assumes \"finite A\"\n  obtains xs where \"A = set xs\" \"distinct xs\" \"length xs = card A\"", "lemma finite_list_subset:\n  assumes \"finite A\" \"card A \\<ge> n\"\n  obtains xs where \"set xs \\<subseteq> A\" \"distinct xs\" \"length xs = n\"", "lemma card_ge_4E:\n  assumes \"finite A\" \"card A \\<ge> 4\"\n  obtains a b c d where \"distinct [a,b,c,d]\" \"{a,b,c,d} \\<subseteq> A\"", "lemma absurd: False"], "translations": [["", "lemma an_sds: \"an_sds agents alts sds\""], ["proof (prove)\ngoal (1 subgoal):\n 1. an_sds agents alts sds", "by unfold_locales"], ["", "lemma ex_post_efficient_sds: \"ex_post_efficient_sds agents alts sds\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ex_post_efficient_sds agents alts sds", "by unfold_locales"], ["", "lemma sd_efficient_sds: \"sd_efficient_sds agents alts sds\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sd_efficient_sds agents alts sds", "by unfold_locales"], ["", "lemma strategyproof_an_sds: \"strategyproof_an_sds agents alts sds\""], ["proof (prove)\ngoal (1 subgoal):\n 1. strategyproof_an_sds agents alts sds", "by unfold_locales"], ["", "lemma distinct_agents' [simp]: \n  \"A1 \\<noteq> A2\" \"A1 \\<noteq> A3\" \"A1 \\<noteq> A4\" \"A2 \\<noteq> A1\" \"A2 \\<noteq> A3\" \"A2 \\<noteq> A4\" \n  \"A3 \\<noteq> A1\" \"A3 \\<noteq> A2\" \"A3 \\<noteq> A4\" \"A4 \\<noteq> A1\" \"A4 \\<noteq> A2\" \"A4 \\<noteq> A3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((A1 \\<noteq> A2 &&& A1 \\<noteq> A3 &&& A1 \\<noteq> A4) &&&\n     A2 \\<noteq> A1 &&& A2 \\<noteq> A3 &&& A2 \\<noteq> A4) &&&\n    (A3 \\<noteq> A1 &&& A3 \\<noteq> A2 &&& A3 \\<noteq> A4) &&&\n    A4 \\<noteq> A1 &&& A4 \\<noteq> A2 &&& A4 \\<noteq> A3", "using distinct_agents"], ["proof (prove)\nusing this:\n  distinct [A1, A2, A3, A4]\n\ngoal (1 subgoal):\n 1. ((A1 \\<noteq> A2 &&& A1 \\<noteq> A3 &&& A1 \\<noteq> A4) &&&\n     A2 \\<noteq> A1 &&& A2 \\<noteq> A3 &&& A2 \\<noteq> A4) &&&\n    (A3 \\<noteq> A1 &&& A3 \\<noteq> A2 &&& A3 \\<noteq> A4) &&&\n    A4 \\<noteq> A1 &&& A4 \\<noteq> A2 &&& A4 \\<noteq> A3", "by auto"], ["", "lemma distinct_alts' [simp]:\n  \"a \\<noteq> b\" \"a \\<noteq> c\" \"a \\<noteq> d\" \"b \\<noteq> a\" \"b \\<noteq> c\" \"b \\<noteq> d\" \n  \"c \\<noteq> a\" \"c \\<noteq> b\" \"c \\<noteq> d\" \"d \\<noteq> a\" \"d \\<noteq> b\" \"d \\<noteq> c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((a \\<noteq> b &&& a \\<noteq> c &&& a \\<noteq> d) &&&\n     b \\<noteq> a &&& b \\<noteq> c &&& b \\<noteq> d) &&&\n    (c \\<noteq> a &&& c \\<noteq> b &&& c \\<noteq> d) &&&\n    d \\<noteq> a &&& d \\<noteq> b &&& d \\<noteq> c", "using distinct_alts"], ["proof (prove)\nusing this:\n  distinct [a, b, c, d]\n\ngoal (1 subgoal):\n 1. ((a \\<noteq> b &&& a \\<noteq> c &&& a \\<noteq> d) &&&\n     b \\<noteq> a &&& b \\<noteq> c &&& b \\<noteq> d) &&&\n    (c \\<noteq> a &&& c \\<noteq> b &&& c \\<noteq> d) &&&\n    d \\<noteq> a &&& d \\<noteq> b &&& d \\<noteq> c", "by auto"], ["", "lemma card_agents [simp]: \"card agents = 4\" and card_alts [simp]: \"card alts = 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card agents = 4 &&& card alts = 4", "using distinct_agents distinct_alts"], ["proof (prove)\nusing this:\n  distinct [A1, A2, A3, A4]\n  distinct [a, b, c, d]\n\ngoal (1 subgoal):\n 1. card agents = 4 &&& card alts = 4", "by (simp_all add: agents alts)"], ["", "lemma in_agents [simp]: \"A1 \\<in> agents\" \"A2 \\<in> agents\" \"A3 \\<in> agents\" \"A4 \\<in> agents\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A1 \\<in> agents &&& A2 \\<in> agents) &&&\n    A3 \\<in> agents &&& A4 \\<in> agents", "by (simp_all add: agents)"], ["", "lemma in_alts [simp]: \"a \\<in> alts\" \"b \\<in> alts\" \"c \\<in> alts\" \"d \\<in> alts\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a \\<in> alts &&& b \\<in> alts) &&& c \\<in> alts &&& d \\<in> alts", "by (simp_all add: alts)"], ["", "lemma agent_iff: \"x \\<in> agents \\<longleftrightarrow> x \\<in> {A1, A2, A3, A4}\"\n                 \"(\\<forall>x\\<in>agents. P x) \\<longleftrightarrow> P A1 \\<and> P A2 \\<and> P A3 \\<and> P A4\"\n                 \"(\\<exists>x\\<in>agents. P x) \\<longleftrightarrow> P A1 \\<or> P A2 \\<or> P A3 \\<or> P A4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> agents) = (x \\<in> {A1, A2, A3, A4}) &&&\n    (\\<forall>x\\<in>agents. P x) =\n    (P A1 \\<and> P A2 \\<and> P A3 \\<and> P A4) &&&\n    (\\<exists>x\\<in>agents. P x) = (P A1 \\<or> P A2 \\<or> P A3 \\<or> P A4)", "by (auto simp add: agents)"], ["", "lemma alt_iff: \"x \\<in> alts \\<longleftrightarrow> x \\<in> {a,b,c,d}\"\n               \"(\\<forall>x\\<in>alts. P x) \\<longleftrightarrow> P a \\<and> P b \\<and> P c \\<and> P d\"\n               \"(\\<exists>x\\<in>alts. P x) \\<longleftrightarrow> P a \\<or> P b \\<or> P c \\<or> P d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> alts) = (x \\<in> {a, b, c, d}) &&&\n    (\\<forall>x\\<in>alts. P x) = (P a \\<and> P b \\<and> P c \\<and> P d) &&&\n    (\\<exists>x\\<in>alts. P x) = (P a \\<or> P b \\<or> P c \\<or> P d)", "by (auto simp add: alts)"], ["", "subsection \\<open>Definition of Preference Profiles and Fact Gathering\\<close>"], ["", "preference_profile \n  agents: agents\n  alts:   alts\nwhere R1  = A1: [c, d], [a, b]    A2: [b, d], a, c      A3: a, b, [c, d]      A4: [a, c], [b, d]\n  and R2  = A1: [a, c], [b, d]    A2: [c, d], a, b      A3: [b, d], a, c      A4: a, b, [c, d]\n  and R3  = A1: [a, b], [c, d]    A2: [c, d], [a, b]    A3: d, [a, b], c      A4: c, a, [b, d]\n  and R4  = A1: [a, b], [c, d]    A2: [a, d], [b, c]    A3: c, [a, b], d      A4: d, c, [a, b]\n  and R5  = A1: [c, d], [a, b]    A2: [a, b], [c, d]    A3: [a, c], d, b      A4: d, [a, b], c\n  and R6  = A1: [a, b], [c, d]    A2: [c, d], [a, b]    A3: [a, c], [b, d]    A4: d, b, a, c\n  and R7  = A1: [a, b], [c, d]    A2: [c, d], [a, b]    A3: a, c, d, b        A4: d, [a, b], c\n  and R8  = A1: [a, b], [c, d]    A2: [a, c], [b, d]    A3: d, [a, b], c      A4: d, c, [a, b]\n  and R9  = A1: [a, b], [c, d]    A2: [a, d], c, b      A3: d, c, [a, b]      A4: [a, b, c], d\n  and R10 = A1: [a, b], [c, d]    A2: [c, d], [a, b]    A3: [a, c], d, b      A4: [b, d], a, c\n  and R11 = A1: [a, b], [c, d]    A2: [c, d], [a, b]    A3: d, [a, b], c      A4: c, a, b, d\n  and R12 = A1: [c, d], [a, b]    A2: [a, b], [c, d]    A3: [a, c], d, b      A4: [a, b, d], c\n  and R13 = A1: [a, c], [b, d]    A2: [c, d], a, b      A3: [b, d], a, c      A4: a, b, d, c\n  and R14 = A1: [a, b], [c, d]    A2: d, c, [a, b]      A3: [a, b, c], d      A4: a, d, c, b\n  and R15 = A1: [a, b], [c, d]    A2: [c, d], [a, b]    A3: [b, d], a, c      A4: a, c, d, b\n  and R16 = A1: [a, b], [c, d]    A2: [c, d], [a, b]    A3: a, c, d, b        A4: [a, b, d], c\n  and R17 = A1: [a, b], [c, d]    A2: [c, d], [a, b]    A3: [a, c], [b, d]    A4: d, [a, b], c\n  and R18 = A1: [a, b], [c, d]    A2: [a, d], [b, c]    A3: [a, b, c], d      A4: d, c, [a, b]\n  and R19 = A1: [a, b], [c, d]    A2: [c, d], [a, b]    A3: [b, d], a, c      A4: [a, c], [b, d]\n  and R20 = A1: [b, d], a, c      A2: b, a, [c, d]      A3: a, c, [b, d]      A4: d, c, [a, b]\n  and R21 = A1: [a, d], c, b      A2: d, c, [a, b]      A3: c, [a, b], d      A4: a, b, [c, d]\n  and R22 = A1: [a, c], d, b      A2: d, c, [a, b]      A3: d, [a, b], c      A4: a, b, [c, d]\n  and R23 = A1: [a, b], [c, d]    A2: [c, d], [a, b]    A3: [a, c], [b, d]    A4: [a, b, d], c\n  and R24 = A1: [c, d], [a, b]    A2: d, b, a, c        A3: c, a, [b, d]      A4: b, a, [c, d]\n  and R25 = A1: [c, d], [a, b]    A2: [b, d], a, c      A3: a, b, [c, d]      A4: a, c, [b, d]\n  and R26 = A1: [b, d], [a, c]    A2: [c, d], [a, b]    A3: a, b, [c, d]      A4: a, c, [b, d]\n  and R27 = A1: [a, b], [c, d]    A2: [b, d], a, c      A3: [a, c], [b, d]    A4: [c, d], a, b\n  and R28 = A1: [c, d], a, b      A2: [b, d], a, c      A3: a, b, [c, d]      A4: a, c, [b, d]\n  and R29 = A1: [a, c], d, b      A2: [b, d], a, c      A3: a, b, [c, d]      A4: d, c, [a, b]\n  and R30 = A1: [a, d], c, b      A2: d, c, [a, b]      A3: c, [a, b], d      A4: [a, b], d, c\n  and R31 = A1: [b, d], a, c      A2: [a, c], d, b      A3: c, d, [a, b]      A4: [a, b], c, d\n  and R32 = A1: [a, c], d, b      A2: d, c, [a, b]      A3: d, [a, b], c      A4: [a, b], d, c\n  and R33 = A1: [c, d], [a, b]    A2: [a, c], d, b      A3: a, b, [c, d]      A4: d, [a, b], c\n  and R34 = A1: [a, b], [c, d]    A2: a, c, d, b        A3: b, [a, d], c      A4: c, d, [a, b]\n  and R35 = A1: [a, d], c, b      A2: a, b, [c, d]      A3: [a, b, c], d      A4: d, c, [a, b]\n  and R36 = A1: [c, d], [a, b]    A2: [a, c], d, b      A3: [b, d], a, c      A4: a, b, [c, d]\n  and R37 = A1: [a, c], [b, d]    A2: [b, d], [a, c]    A3: a, b, [c, d]      A4: c, d, [a, b]\n  and R38 = A1: [c, d], a, b      A2: [b, d], a, c      A3: a, b, [c, d]      A4: [a, c], b, d\n  and R39 = A1: [a, c], d, b      A2: [b, d], a, c      A3: a, b, [c, d]      A4: [c, d], a, b\n  and R40 = A1: [a, d], c, b      A2: [a, b], c, d      A3: [a, b, c], d      A4: d, c, [a, b]\n  and R41 = A1: [a, d], c, b      A2: [a, b], d, c      A3: [a, b, c], d      A4: d, c, [a, b]\n  and R42 = A1: [c, d], [a, b]    A2: [a, b], [c, d]    A3: d, b, a, c        A4: c, a, [b, d]\n  and R43 = A1: [a, b], [c, d]    A2: [c, d], [a, b]    A3: d, [a, b], c      A4: a, [c, d], b\n  and R44 = A1: [c, d], [a, b]    A2: [a, c], d, b      A3: [a, b], d, c      A4: [a, b, d], c\n  and R45 = A1: [a, c], d, b      A2: [b, d], a, c      A3: [a, b], c, d      A4: [c, d], b, a\n  and R46 = A1: [b, d], a, c      A2: d, c, [a, b]      A3: [a, c], [b, d]    A4: b, a, [c, d]\n  and R47 = A1: [a, b], [c, d]    A2: [a, d], c, b      A3: d, c, [a, b]      A4: c, [a, b], d"], ["proof (prove)\ngoal (36 subgoals):\n 1. agents \\<noteq> {}\n 2. alts \\<noteq> {}\n 3. distinct [A1, A2, A3, A4]\n 4. {A1, A2, A3, A4} = agents\n 5. {a, b, c, d} = alts\n 6. {c, d} \\<inter> {a, b} = {}\n 7. {a} \\<inter> {c} = {}\n 8. {b, d} \\<inter> {a, c} = {}\n 9. {b} \\<inter> {c, d} = {}\n 10. {a} \\<inter> {b, c, d} = {}\nA total of 36 subgoals...", "by (simp_all add: agents alts)"], ["", "derive_orbit_equations (an_sds)\n  R10 R26 R27 R28 R29 R43 R45"], ["proof (prove)\ngoal (38 subgoals):\n 1. mset\n     (map (map ((`) (permutation_of_list\n                      [(a, d), (b, c), (c, b), (d, a)])) \\<circ>\n           snd)\n       [(A1, [{a, b}, {c, d}]), (A2, [{c, d}, {a, b}]),\n        (A3, [{a, c}, {d}, {b}]), (A4, [{b, d}, {a}, {c}])]) =\n    mset\n     (map snd\n       [(A1, [{a, b}, {c, d}]), (A2, [{c, d}, {a, b}]),\n        (A3, [{a, c}, {d}, {b}]), (A4, [{b, d}, {a}, {c}])])\n 2. set (map fst [(a, d), (b, c), (c, b), (d, a)]) \\<subseteq> alts\n 3. set (map snd [(a, d), (b, c), (c, b), (d, a)]) =\n    set (map fst [(a, d), (b, c), (c, b), (d, a)])\n 4. distinct (map fst [(a, d), (b, c), (c, b), (d, a)])\n 5. d \\<in> alts\n 6. a = permutation_of_list [(a, d), (b, c), (c, b), (d, a)] d\n 7. c \\<in> alts\n 8. b = permutation_of_list [(a, d), (b, c), (c, b), (d, a)] c\n 9. mset\n     (map (map ((`) (permutation_of_list [(b, c), (c, b)])) \\<circ> snd)\n       [(A1, [{b, d}, {a, c}]), (A2, [{c, d}, {a, b}]),\n        (A3, [{a}, {b}, {c, d}]), (A4, [{a}, {c}, {b, d}])]) =\n    mset\n     (map snd\n       [(A1, [{b, d}, {a, c}]), (A2, [{c, d}, {a, b}]),\n        (A3, [{a}, {b}, {c, d}]), (A4, [{a}, {c}, {b, d}])])\n 10. set (map fst [(b, c), (c, b)]) \\<subseteq> alts\nA total of 38 subgoals...", "by simp_all"], ["", "prove_inefficient_supports (ex_post_efficient_sds sd_efficient_sds)\n  R3 [b] and R4 [b] and R5 [b] and R7 [b] and R8 [b] and\n  R9 [b] and R11 [b] and R12 [b] and R14 [b] and R16 [b] and\n  R17 [b] and R18 [b] and R21 [b] and R22 [b] and R23 [b] and\n  R30 [b] and R32 [b] and R33 [b] and R35 [b] and R40 [b] and\n  R41 [b] and R43 [b] and R44 [b] and R47 [b] and\n  R10 [c, b] witness: [a: 1 / 2, b: 0, c: 0, d: 1 / 2] and\n  R15 [c, b] witness: [a: 1 / 2, b: 0, c: 0, d: 1 / 2] and\n  R19 [c, b] witness: [a: 1 / 2, b: 0, c: 0, d: 1 / 2] and\n  R25 [b, c] witness: [c: 0, d: 1 / 2, a: 1 / 2, b: 0] and\n  R26 [c, b] witness: [b: 0, d: 1 / 2, a: 1 / 2, c: 0] and\n  R27 [c, b] witness: [a: 1 / 2, b: 0, c: 0, d: 1 / 2] and\n  R28 [b, c] witness: [c: 0, d: 1 / 2, a: 1 / 2, b: 0] and\n  R29 [b, c] witness: [a: 1 / 2, c: 0, d: 1 / 2, b: 0] and\n  R39 [b, c] witness: [a: 1 / 2, c: 0, d: 1 / 2, b: 0]"], ["proof (prove)\ngoal (90 subgoals):\n 1. A4 \\<in> agents\n 2. \\<forall>i\\<in>agents.\n       prefs_from_table\n        [(A1, [{a, b}, {c, d}]), (A2, [{c, d}, {a, b}]),\n         (A3, [{d}, {a, b}, {c}]), (A4, [{c}, {a}, {b, d}])]\n        i b a\n 3. \\<not> prefs_from_table\n            [(A1, [{a, b}, {c, d}]), (A2, [{c, d}, {a, b}]),\n             (A3, [{d}, {a, b}, {c}]), (A4, [{c}, {a}, {b, d}])]\n            A4 a b\n 4. A2 \\<in> agents\n 5. \\<forall>i\\<in>agents.\n       prefs_from_table\n        [(A1, [{a, b}, {c, d}]), (A2, [{a, d}, {b, c}]),\n         (A3, [{c}, {a, b}, {d}]), (A4, [{d}, {c}, {a, b}])]\n        i b a\n 6. \\<not> prefs_from_table\n            [(A1, [{a, b}, {c, d}]), (A2, [{a, d}, {b, c}]),\n             (A3, [{c}, {a, b}, {d}]), (A4, [{d}, {c}, {a, b}])]\n            A2 a b\n 7. A3 \\<in> agents\n 8. \\<forall>i\\<in>agents.\n       prefs_from_table\n        [(A1, [{c, d}, {a, b}]), (A2, [{a, b}, {c, d}]),\n         (A3, [{a, c}, {d}, {b}]), (A4, [{d}, {a, b}, {c}])]\n        i b a\n 9. \\<not> prefs_from_table\n            [(A1, [{c, d}, {a, b}]), (A2, [{a, b}, {c, d}]),\n             (A3, [{a, c}, {d}, {b}]), (A4, [{d}, {a, b}, {c}])]\n            A3 a b\n 10. \\<forall>i\\<in>agents.\n        prefs_from_table\n         [(A1, [{a, b}, {c, d}]), (A2, [{c, d}, {a, b}]),\n          (A3, [{a}, {c}, {d}, {b}]), (A4, [{d}, {a, b}, {c}])]\n         i b a\nA total of 90 subgoals...", "by (simp_all add: agent_iff alt_iff)"], ["", "derive_strategyproofness_conditions (strategyproof_an_sds)\n  distance: 2\n  R1 R2 R3 R4 R5 R6 R7 R8 R9 R10 R11 R12 R13 R14 R15 R16 R17 R18 R19 R20\n  R21 R22 R23 R24 R25 R26 R27 R28 R29 R30 R31 R32 R33 R34 R35 R36 R37 R38 R39 R40\n  R41 R42 R43 R44 R45 R46 R47"], ["proof (prove)\ngoal (462 subgoals):\n 1. A2 \\<in> agents\n 2. list_permutes [(a, a), (d, d), (c, c), (b, b)] alts\n 3. \\<forall>A\\<in>{[b, a], [b, a, c]}. distinct A\n 4. mset\n     (map snd\n       [(A1, [{a, d}, {c}, {b}]), (A2, [{a, b}, {c}, {d}]),\n        (A3, [{a, b, c}, {d}]), (A4, [{d}, {c}, {a, b}])]) -\n    {#the (map_of\n            [(A1, [{a, d}, {c}, {b}]), (A2, [{a, b}, {c}, {d}]),\n             (A3, [{a, b, c}, {d}]), (A4, [{d}, {c}, {a, b}])]\n            A2)#} +\n    {#map ((`) (permutation_of_list [(a, a), (d, d), (c, c), (b, b)]))\n       (the (map_of\n              [(A1, [{a, d}, {c}, {b}]), (A2, [{a, b}, {d}, {c}]),\n               (A3, [{a, b, c}, {d}]), (A4, [{d}, {c}, {a, b}])]\n              A2))#} =\n    mset\n     (map (map ((`) (permutation_of_list\n                      [(a, a), (d, d), (c, c), (b, b)])) \\<circ>\n           snd)\n       [(A1, [{a, d}, {c}, {b}]), (A2, [{a, b}, {d}, {c}]),\n        (A3, [{a, b, c}, {d}]), (A4, [{d}, {c}, {a, b}])])\n 5. pref_classes_lists_aux\n     (hd (the (map_of\n                [(A1, [{a, d}, {c}, {b}]), (A2, [{a, b}, {c}, {d}]),\n                 (A3, [{a, b, c}, {d}]), (A4, [{d}, {c}, {a, b}])]\n                A2)))\n     (tl (the (map_of\n                [(A1, [{a, d}, {c}, {b}]), (A2, [{a, b}, {c}, {d}]),\n                 (A3, [{a, b, c}, {d}]), (A4, [{d}, {c}, {a, b}])]\n                A2))) =\n    set ` {[b, a], [b, a, c]}\n 6. A4 \\<in> agents\n 7. A1 \\<in> agents\n 8. list_permutes [(a, a), (c, d), (d, c), (b, b)] alts\n 9. \\<forall>A\\<in>{[d], [d, c]}. distinct A\n 10. mset\n      (map snd\n        [(A1, [{a, d}, {c}, {b}]), (A2, [{a, b}, {c}, {d}]),\n         (A3, [{a, b, c}, {d}]), (A4, [{d}, {c}, {a, b}])]) -\n     {#the (map_of\n             [(A1, [{a, d}, {c}, {b}]), (A2, [{a, b}, {c}, {d}]),\n              (A3, [{a, b, c}, {d}]), (A4, [{d}, {c}, {a, b}])]\n             A4)#} +\n     {#map ((`) (permutation_of_list [(a, a), (c, d), (d, c), (b, b)]))\n        (the (map_of\n               [(A1, [{c, d}, {a, b}]), (A2, [{a, c}, {d}, {b}]),\n                (A3, [{a, b}, {d}, {c}]), (A4, [{a, b, d}, {c}])]\n               A1))#} =\n     mset\n      (map (map ((`) (permutation_of_list\n                       [(a, a), (c, d), (d, c), (b, b)])) \\<circ>\n            snd)\n        [(A1, [{c, d}, {a, b}]), (A2, [{a, c}, {d}, {b}]),\n         (A3, [{a, b}, {d}, {c}]), (A4, [{a, b, d}, {c}])])\nA total of 462 subgoals...", "by (simp_all add: agent_iff alt_iff)"], ["", "lemma lottery_conditions:\n  assumes \"is_pref_profile R\"\n  shows   \"pmf (sds R) a \\<ge> 0\" \"pmf (sds R) b \\<ge> 0\" \"pmf (sds R) c \\<ge> 0\" \"pmf (sds R) d \\<ge> 0\"\n          \"pmf (sds R) a + pmf (sds R) b + pmf (sds R) c + pmf (sds R) d = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0 \\<le> pmf (sds R) a &&& 0 \\<le> pmf (sds R) b) &&&\n    0 \\<le> pmf (sds R) c &&&\n    0 \\<le> pmf (sds R) d &&&\n    pmf (sds R) a + pmf (sds R) b + pmf (sds R) c + pmf (sds R) d = 1", "using lottery_prob_alts[OF sds_wf[OF assms]]"], ["proof (prove)\nusing this:\n  lottery_prob (sds R) alts = 1\n\ngoal (1 subgoal):\n 1. (0 \\<le> pmf (sds R) a &&& 0 \\<le> pmf (sds R) b) &&&\n    0 \\<le> pmf (sds R) c &&&\n    0 \\<le> pmf (sds R) d &&&\n    pmf (sds R) a + pmf (sds R) b + pmf (sds R) c + pmf (sds R) d = 1", "by (simp_all add: alts pmf_nonneg measure_measure_pmf_finite)"], ["", "subsection \\<open>Main Proof\\<close>"], ["", "lemma R45 [simp]: \"pmf (sds R45) a = 1/4\" \"pmf (sds R45) b = 1/4\" \n           \"pmf (sds R45) c = 1/4\" \"pmf (sds R45) d = 1/4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R45) a = 1 / 4 &&& pmf (sds R45) b = 1 / 4) &&&\n    pmf (sds R45) c = 1 / 4 &&& pmf (sds R45) d = 1 / 4", "using R45.orbits lottery_conditions[OF R45.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R45) c = pmf (sds R45) a\n  pmf (sds R45) d = pmf (sds R45) a\n  pmf (sds R45) b = pmf (sds R45) a\n  0 \\<le> pmf (sds R45) a\n  0 \\<le> pmf (sds R45) b\n  0 \\<le> pmf (sds R45) c\n  0 \\<le> pmf (sds R45) d\n  pmf (sds R45) a + pmf (sds R45) b + pmf (sds R45) c + pmf (sds R45) d = 1\n\ngoal (1 subgoal):\n 1. (pmf (sds R45) a = 1 / 4 &&& pmf (sds R45) b = 1 / 4) &&&\n    pmf (sds R45) c = 1 / 4 &&& pmf (sds R45) d = 1 / 4", "by simp_all"], ["", "lemma R10_bc [simp]: \"pmf (sds R10) b = 0\" \"pmf (sds R10) c = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R10) b = 0 &&& pmf (sds R10) c = 0", "using R10.support R10.orbits"], ["proof (prove)\nusing this:\n  pmf (sds R10) c = 0 \\<or> pmf (sds R10) b = 0\n  pmf (sds R10) d = pmf (sds R10) a\n  pmf (sds R10) c = pmf (sds R10) b\n\ngoal (1 subgoal):\n 1. pmf (sds R10) b = 0 &&& pmf (sds R10) c = 0", "by auto"], ["", "lemma R10_ad [simp]: \"pmf (sds R10) a = 1/2\" \"pmf (sds R10) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R10) a = 1 / 2 &&& pmf (sds R10) d = 1 / 2", "using lottery_conditions[OF R10.wf] R10_bc R10.orbits"], ["proof (prove)\nusing this:\n  0 \\<le> pmf (sds R10) a\n  0 \\<le> pmf (sds R10) b\n  0 \\<le> pmf (sds R10) c\n  0 \\<le> pmf (sds R10) d\n  pmf (sds R10) a + pmf (sds R10) b + pmf (sds R10) c + pmf (sds R10) d = 1\n  pmf (sds R10) b = 0\n  pmf (sds R10) c = 0\n  pmf (sds R10) d = pmf (sds R10) a\n  pmf (sds R10) c = pmf (sds R10) b\n\ngoal (1 subgoal):\n 1. pmf (sds R10) a = 1 / 2 &&& pmf (sds R10) d = 1 / 2", "by simp_all"], ["", "lemma R26_bc [simp]: \"pmf (sds R26) b = 0\" \"pmf (sds R26) c = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R26) b = 0 &&& pmf (sds R26) c = 0", "using R26.support R26.orbits"], ["proof (prove)\nusing this:\n  pmf (sds R26) c = 0 \\<or> pmf (sds R26) b = 0\n  pmf (sds R26) c = pmf (sds R26) b\n\ngoal (1 subgoal):\n 1. pmf (sds R26) b = 0 &&& pmf (sds R26) c = 0", "by auto"], ["", "lemma R26_d [simp]: \"pmf (sds R26) d = 1 - pmf (sds R26) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R26) d = 1 - pmf (sds R26) a", "using lottery_conditions[OF R26.wf] R26_bc"], ["proof (prove)\nusing this:\n  0 \\<le> pmf (sds R26) a\n  0 \\<le> pmf (sds R26) b\n  0 \\<le> pmf (sds R26) c\n  0 \\<le> pmf (sds R26) d\n  pmf (sds R26) a + pmf (sds R26) b + pmf (sds R26) c + pmf (sds R26) d = 1\n  pmf (sds R26) b = 0\n  pmf (sds R26) c = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R26) d = 1 - pmf (sds R26) a", "by simp"], ["", "lemma R27_bc [simp]: \"pmf (sds R27) b = 0\" \"pmf (sds R27) c = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R27) b = 0 &&& pmf (sds R27) c = 0", "using R27.support R27.orbits"], ["proof (prove)\nusing this:\n  pmf (sds R27) c = 0 \\<or> pmf (sds R27) b = 0\n  pmf (sds R27) c = pmf (sds R27) b\n\ngoal (1 subgoal):\n 1. pmf (sds R27) b = 0 &&& pmf (sds R27) c = 0", "by auto"], ["", "lemma R27_d [simp]: \"pmf (sds R27) d = 1 - pmf (sds R27) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R27) d = 1 - pmf (sds R27) a", "using lottery_conditions[OF R27.wf] R27_bc"], ["proof (prove)\nusing this:\n  0 \\<le> pmf (sds R27) a\n  0 \\<le> pmf (sds R27) b\n  0 \\<le> pmf (sds R27) c\n  0 \\<le> pmf (sds R27) d\n  pmf (sds R27) a + pmf (sds R27) b + pmf (sds R27) c + pmf (sds R27) d = 1\n  pmf (sds R27) b = 0\n  pmf (sds R27) c = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R27) d = 1 - pmf (sds R27) a", "by simp"], ["", "lemma R28_bc [simp]: \"pmf (sds R28) b = 0\" \"pmf (sds R28) c = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R28) b = 0 &&& pmf (sds R28) c = 0", "using R28.support R28.orbits"], ["proof (prove)\nusing this:\n  pmf (sds R28) b = 0 \\<or> pmf (sds R28) c = 0\n  pmf (sds R28) b = pmf (sds R28) c\n\ngoal (1 subgoal):\n 1. pmf (sds R28) b = 0 &&& pmf (sds R28) c = 0", "by auto"], ["", "lemma R28_d [simp]: \"pmf (sds R28) d = 1 - pmf (sds R28) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R28) d = 1 - pmf (sds R28) a", "using lottery_conditions[OF R28.wf] R28_bc"], ["proof (prove)\nusing this:\n  0 \\<le> pmf (sds R28) a\n  0 \\<le> pmf (sds R28) b\n  0 \\<le> pmf (sds R28) c\n  0 \\<le> pmf (sds R28) d\n  pmf (sds R28) a + pmf (sds R28) b + pmf (sds R28) c + pmf (sds R28) d = 1\n  pmf (sds R28) b = 0\n  pmf (sds R28) c = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R28) d = 1 - pmf (sds R28) a", "by simp"], ["", "lemma R29_bc [simp]: \"pmf (sds R29) b = 0\" \"pmf (sds R29) c = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R29) b = 0 &&& pmf (sds R29) c = 0", "using R29.support R29.orbits"], ["proof (prove)\nusing this:\n  pmf (sds R29) b = 0 \\<or> pmf (sds R29) c = 0\n  pmf (sds R29) b = pmf (sds R29) c\n  pmf (sds R29) d = pmf (sds R29) a\n\ngoal (1 subgoal):\n 1. pmf (sds R29) b = 0 &&& pmf (sds R29) c = 0", "by auto"], ["", "lemma R29_ac [simp]: \"pmf (sds R29) a = 1/2\" \"pmf (sds R29) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R29) a = 1 / 2 &&& pmf (sds R29) d = 1 / 2", "using lottery_conditions[OF R29.wf] R29_bc R29.orbits"], ["proof (prove)\nusing this:\n  0 \\<le> pmf (sds R29) a\n  0 \\<le> pmf (sds R29) b\n  0 \\<le> pmf (sds R29) c\n  0 \\<le> pmf (sds R29) d\n  pmf (sds R29) a + pmf (sds R29) b + pmf (sds R29) c + pmf (sds R29) d = 1\n  pmf (sds R29) b = 0\n  pmf (sds R29) c = 0\n  pmf (sds R29) b = pmf (sds R29) c\n  pmf (sds R29) d = pmf (sds R29) a\n\ngoal (1 subgoal):\n 1. pmf (sds R29) a = 1 / 2 &&& pmf (sds R29) d = 1 / 2", "by simp_all"], ["", "lemmas R43_bc [simp] = R43.support"], ["", "lemma R43_ad [simp]: \"pmf (sds R43) a = 1/2\" \"pmf (sds R43) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R43) a = 1 / 2 &&& pmf (sds R43) d = 1 / 2", "using lottery_conditions[OF R43.wf] R43_bc R43.orbits"], ["proof (prove)\nusing this:\n  0 \\<le> pmf (sds R43) a\n  0 \\<le> pmf (sds R43) b\n  0 \\<le> pmf (sds R43) c\n  0 \\<le> pmf (sds R43) d\n  pmf (sds R43) a + pmf (sds R43) b + pmf (sds R43) c + pmf (sds R43) d = 1\n  pmf (sds R43) b = 0\n  pmf (sds R43) d = pmf (sds R43) a\n  pmf (sds R43) c = pmf (sds R43) b\n\ngoal (1 subgoal):\n 1. pmf (sds R43) a = 1 / 2 &&& pmf (sds R43) d = 1 / 2", "by simp_all"], ["", "lemma R39_b [simp]: \"pmf (sds R39) b = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R39) b = 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. pmf (sds R39) b = 0", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. pmf (sds R39) b = 0", "assume [simp]: \"pmf (sds R39) c = 0\""], ["proof (state)\nthis:\n  pmf (sds R39) c = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R39) b = 0", "with R29_R39.strategyproofness(1)"], ["proof (chain)\npicking this:\n  (pmf (sds R39) d < pmf (sds R29) a \\<or>\n   pmf (sds R39) d + pmf (sds R39) c\n   < pmf (sds R29) a + pmf (sds R29) b) \\<or>\n  pmf (sds R39) d = pmf (sds R29) a \\<and>\n  pmf (sds R39) d + pmf (sds R39) c = pmf (sds R29) a + pmf (sds R29) b\n  pmf (sds R39) c = 0", "have \"pmf (sds R39) d \\<le> 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R39) d < pmf (sds R29) a \\<or>\n   pmf (sds R39) d + pmf (sds R39) c\n   < pmf (sds R29) a + pmf (sds R29) b) \\<or>\n  pmf (sds R39) d = pmf (sds R29) a \\<and>\n  pmf (sds R39) d + pmf (sds R39) c = pmf (sds R29) a + pmf (sds R29) b\n  pmf (sds R39) c = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R39) d \\<le> 1 / 2", "by auto"], ["proof (state)\nthis:\n  pmf (sds R39) d \\<le> 1 / 2\n\ngoal (1 subgoal):\n 1. pmf (sds R39) b = 0", "with R39_R29.strategyproofness(1) lottery_conditions[OF R39.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R29) a + pmf (sds R29) b\n   < pmf (sds R39) d + pmf (sds R39) c \\<or>\n   pmf (sds R29) a + (pmf (sds R29) b + pmf (sds R29) d)\n   < pmf (sds R39) d + (pmf (sds R39) c + pmf (sds R39) a)) \\<or>\n  pmf (sds R29) a + pmf (sds R29) b =\n  pmf (sds R39) d + pmf (sds R39) c \\<and>\n  pmf (sds R29) a + (pmf (sds R29) b + pmf (sds R29) d) =\n  pmf (sds R39) d + (pmf (sds R39) c + pmf (sds R39) a)\n  0 \\<le> pmf (sds R39) a\n  0 \\<le> pmf (sds R39) b\n  0 \\<le> pmf (sds R39) c\n  0 \\<le> pmf (sds R39) d\n  pmf (sds R39) a + pmf (sds R39) b + pmf (sds R39) c + pmf (sds R39) d = 1\n  pmf (sds R39) d \\<le> 1 / 2", "have \"pmf (sds R39) b = 0\""], ["proof (prove)\nusing this:\n  (pmf (sds R29) a + pmf (sds R29) b\n   < pmf (sds R39) d + pmf (sds R39) c \\<or>\n   pmf (sds R29) a + (pmf (sds R29) b + pmf (sds R29) d)\n   < pmf (sds R39) d + (pmf (sds R39) c + pmf (sds R39) a)) \\<or>\n  pmf (sds R29) a + pmf (sds R29) b =\n  pmf (sds R39) d + pmf (sds R39) c \\<and>\n  pmf (sds R29) a + (pmf (sds R29) b + pmf (sds R29) d) =\n  pmf (sds R39) d + (pmf (sds R39) c + pmf (sds R39) a)\n  0 \\<le> pmf (sds R39) a\n  0 \\<le> pmf (sds R39) b\n  0 \\<le> pmf (sds R39) c\n  0 \\<le> pmf (sds R39) d\n  pmf (sds R39) a + pmf (sds R39) b + pmf (sds R39) c + pmf (sds R39) d = 1\n  pmf (sds R39) d \\<le> 1 / 2\n\ngoal (1 subgoal):\n 1. pmf (sds R39) b = 0", "by auto"], ["proof (state)\nthis:\n  pmf (sds R39) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R39) b = 0", "}"], ["proof (state)\nthis:\n  pmf (sds R39) c = 0 \\<Longrightarrow> pmf (sds R39) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R39) b = 0", "with R39.support"], ["proof (chain)\npicking this:\n  pmf (sds R39) b = 0 \\<or> pmf (sds R39) c = 0\n  pmf (sds R39) c = 0 \\<Longrightarrow> pmf (sds R39) b = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  pmf (sds R39) b = 0 \\<or> pmf (sds R39) c = 0\n  pmf (sds R39) c = 0 \\<Longrightarrow> pmf (sds R39) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R39) b = 0", "by blast"], ["proof (state)\nthis:\n  pmf (sds R39) b = 0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R36_a [simp]: \"pmf (sds R36) a = 1/2\" and R36_b [simp]: \"pmf (sds R36) b = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R36) a = 1 / 2 &&& pmf (sds R36) b = 0", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. pmf (sds R36) a = 1 / 2\n 2. pmf (sds R36) b = 0", "from R10_R36.strategyproofness(1) lottery_conditions[OF R36.wf]"], ["proof (chain)\npicking this:\n  pmf (sds R36) a + pmf (sds R36) b \\<le> pmf (sds R10) d + pmf (sds R10) c\n  0 \\<le> pmf (sds R36) a\n  0 \\<le> pmf (sds R36) b\n  0 \\<le> pmf (sds R36) c\n  0 \\<le> pmf (sds R36) d\n  pmf (sds R36) a + pmf (sds R36) b + pmf (sds R36) c + pmf (sds R36) d = 1", "have \"pmf (sds R36) a + pmf (sds R36) b \\<le> 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R36) a + pmf (sds R36) b \\<le> pmf (sds R10) d + pmf (sds R10) c\n  0 \\<le> pmf (sds R36) a\n  0 \\<le> pmf (sds R36) b\n  0 \\<le> pmf (sds R36) c\n  0 \\<le> pmf (sds R36) d\n  pmf (sds R36) a + pmf (sds R36) b + pmf (sds R36) c + pmf (sds R36) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R36) a + pmf (sds R36) b \\<le> 1 / 2", "by auto"], ["proof (state)\nthis:\n  pmf (sds R36) a + pmf (sds R36) b \\<le> 1 / 2\n\ngoal (2 subgoals):\n 1. pmf (sds R36) a = 1 / 2\n 2. pmf (sds R36) b = 0", "with R36_R10.strategyproofness(1) lottery_conditions[OF R36.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R10) d < pmf (sds R36) a \\<or>\n   pmf (sds R10) d + pmf (sds R10) c\n   < pmf (sds R36) a + pmf (sds R36) b) \\<or>\n  pmf (sds R10) d = pmf (sds R36) a \\<and>\n  pmf (sds R10) d + pmf (sds R10) c = pmf (sds R36) a + pmf (sds R36) b\n  0 \\<le> pmf (sds R36) a\n  0 \\<le> pmf (sds R36) b\n  0 \\<le> pmf (sds R36) c\n  0 \\<le> pmf (sds R36) d\n  pmf (sds R36) a + pmf (sds R36) b + pmf (sds R36) c + pmf (sds R36) d = 1\n  pmf (sds R36) a + pmf (sds R36) b \\<le> 1 / 2", "show \"pmf (sds R36) a = 1/2\" \"pmf (sds R36) b = 0\""], ["proof (prove)\nusing this:\n  (pmf (sds R10) d < pmf (sds R36) a \\<or>\n   pmf (sds R10) d + pmf (sds R10) c\n   < pmf (sds R36) a + pmf (sds R36) b) \\<or>\n  pmf (sds R10) d = pmf (sds R36) a \\<and>\n  pmf (sds R10) d + pmf (sds R10) c = pmf (sds R36) a + pmf (sds R36) b\n  0 \\<le> pmf (sds R36) a\n  0 \\<le> pmf (sds R36) b\n  0 \\<le> pmf (sds R36) c\n  0 \\<le> pmf (sds R36) d\n  pmf (sds R36) a + pmf (sds R36) b + pmf (sds R36) c + pmf (sds R36) d = 1\n  pmf (sds R36) a + pmf (sds R36) b \\<le> 1 / 2\n\ngoal (1 subgoal):\n 1. pmf (sds R36) a = 1 / 2 &&& pmf (sds R36) b = 0", "by auto"], ["proof (state)\nthis:\n  pmf (sds R36) a = 1 / 2\n  pmf (sds R36) b = 0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R36_d [simp]: \"pmf (sds R36) d = 1/2 - pmf (sds R36) c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R36) d = 1 / 2 - pmf (sds R36) c", "using lottery_conditions[OF R36.wf]"], ["proof (prove)\nusing this:\n  0 \\<le> pmf (sds R36) a\n  0 \\<le> pmf (sds R36) b\n  0 \\<le> pmf (sds R36) c\n  0 \\<le> pmf (sds R36) d\n  pmf (sds R36) a + pmf (sds R36) b + pmf (sds R36) c + pmf (sds R36) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R36) d = 1 / 2 - pmf (sds R36) c", "by simp"], ["", "lemma R39_a [simp]: \"pmf (sds R39) a = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R39) a = 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. pmf (sds R39) a = 1 / 2", "from R36_R39.strategyproofness(1) lottery_conditions[OF R39.wf]"], ["proof (chain)\npicking this:\n  pmf (sds R39) d + pmf (sds R39) c \\<le> pmf (sds R36) d + pmf (sds R36) c\n  0 \\<le> pmf (sds R39) a\n  0 \\<le> pmf (sds R39) b\n  0 \\<le> pmf (sds R39) c\n  0 \\<le> pmf (sds R39) d\n  pmf (sds R39) a + pmf (sds R39) b + pmf (sds R39) c + pmf (sds R39) d = 1", "have \"pmf (sds R39) a \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R39) d + pmf (sds R39) c \\<le> pmf (sds R36) d + pmf (sds R36) c\n  0 \\<le> pmf (sds R39) a\n  0 \\<le> pmf (sds R39) b\n  0 \\<le> pmf (sds R39) c\n  0 \\<le> pmf (sds R39) d\n  pmf (sds R39) a + pmf (sds R39) b + pmf (sds R39) c + pmf (sds R39) d = 1\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R39) a", "by auto"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R39) a\n\ngoal (1 subgoal):\n 1. pmf (sds R39) a = 1 / 2", "with R39_R36.strategyproofness(1) lottery_conditions[OF R39.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R36) d + pmf (sds R36) c\n   < pmf (sds R39) d + pmf (sds R39) c \\<or>\n   pmf (sds R36) d + (pmf (sds R36) c + pmf (sds R36) a)\n   < pmf (sds R39) d + (pmf (sds R39) c + pmf (sds R39) a)) \\<or>\n  pmf (sds R36) d + pmf (sds R36) c =\n  pmf (sds R39) d + pmf (sds R39) c \\<and>\n  pmf (sds R36) d + (pmf (sds R36) c + pmf (sds R36) a) =\n  pmf (sds R39) d + (pmf (sds R39) c + pmf (sds R39) a)\n  0 \\<le> pmf (sds R39) a\n  0 \\<le> pmf (sds R39) b\n  0 \\<le> pmf (sds R39) c\n  0 \\<le> pmf (sds R39) d\n  pmf (sds R39) a + pmf (sds R39) b + pmf (sds R39) c + pmf (sds R39) d = 1\n  1 / 2 \\<le> pmf (sds R39) a", "show ?thesis"], ["proof (prove)\nusing this:\n  (pmf (sds R36) d + pmf (sds R36) c\n   < pmf (sds R39) d + pmf (sds R39) c \\<or>\n   pmf (sds R36) d + (pmf (sds R36) c + pmf (sds R36) a)\n   < pmf (sds R39) d + (pmf (sds R39) c + pmf (sds R39) a)) \\<or>\n  pmf (sds R36) d + pmf (sds R36) c =\n  pmf (sds R39) d + pmf (sds R39) c \\<and>\n  pmf (sds R36) d + (pmf (sds R36) c + pmf (sds R36) a) =\n  pmf (sds R39) d + (pmf (sds R39) c + pmf (sds R39) a)\n  0 \\<le> pmf (sds R39) a\n  0 \\<le> pmf (sds R39) b\n  0 \\<le> pmf (sds R39) c\n  0 \\<le> pmf (sds R39) d\n  pmf (sds R39) a + pmf (sds R39) b + pmf (sds R39) c + pmf (sds R39) d = 1\n  1 / 2 \\<le> pmf (sds R39) a\n\ngoal (1 subgoal):\n 1. pmf (sds R39) a = 1 / 2", "by auto"], ["proof (state)\nthis:\n  pmf (sds R39) a = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R39_d [simp]: \"pmf (sds R39) d = 1/2 - pmf (sds R39) c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R39) d = 1 / 2 - pmf (sds R39) c", "using lottery_conditions[OF R39.wf]"], ["proof (prove)\nusing this:\n  0 \\<le> pmf (sds R39) a\n  0 \\<le> pmf (sds R39) b\n  0 \\<le> pmf (sds R39) c\n  0 \\<le> pmf (sds R39) d\n  pmf (sds R39) a + pmf (sds R39) b + pmf (sds R39) c + pmf (sds R39) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R39) d = 1 / 2 - pmf (sds R39) c", "by simp"], ["", "lemmas R12_b [simp] = R12.support"], ["", "lemma R12_c [simp]: \"pmf (sds R12) c = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R12) c = 0", "using R12_R10.strategyproofness(1) lottery_conditions[OF R12.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R10) a + (pmf (sds R10) c + pmf (sds R10) d)\n  \\<le> pmf (sds R12) d + (pmf (sds R12) b + pmf (sds R12) a)\n  0 \\<le> pmf (sds R12) a\n  0 \\<le> pmf (sds R12) b\n  0 \\<le> pmf (sds R12) c\n  0 \\<le> pmf (sds R12) d\n  pmf (sds R12) a + pmf (sds R12) b + pmf (sds R12) c + pmf (sds R12) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R12) c = 0", "by (auto simp del: pmf_nonneg)"], ["", "lemma R12_d [simp]: \"pmf (sds R12) d = 1 - pmf (sds R12) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R12) d = 1 - pmf (sds R12) a", "using lottery_conditions[OF R12.wf]"], ["proof (prove)\nusing this:\n  0 \\<le> pmf (sds R12) a\n  0 \\<le> pmf (sds R12) b\n  0 \\<le> pmf (sds R12) c\n  0 \\<le> pmf (sds R12) d\n  pmf (sds R12) a + pmf (sds R12) b + pmf (sds R12) c + pmf (sds R12) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R12) d = 1 - pmf (sds R12) a", "by simp"], ["", "lemma R12_a_ge_one_half: \"pmf (sds R12) a \\<ge> 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R12) a", "using R10_R12.strategyproofness(1) lottery_conditions[OF R12.wf]"], ["proof (prove)\nusing this:\n  (pmf (sds R12) b + pmf (sds R12) d\n   < pmf (sds R10) c + pmf (sds R10) a \\<or>\n   pmf (sds R12) b + (pmf (sds R12) d + pmf (sds R12) a)\n   < pmf (sds R10) c + (pmf (sds R10) a + pmf (sds R10) d)) \\<or>\n  pmf (sds R12) b + pmf (sds R12) d =\n  pmf (sds R10) c + pmf (sds R10) a \\<and>\n  pmf (sds R12) b + (pmf (sds R12) d + pmf (sds R12) a) =\n  pmf (sds R10) c + (pmf (sds R10) a + pmf (sds R10) d)\n  0 \\<le> pmf (sds R12) a\n  0 \\<le> pmf (sds R12) b\n  0 \\<le> pmf (sds R12) c\n  0 \\<le> pmf (sds R12) d\n  pmf (sds R12) a + pmf (sds R12) b + pmf (sds R12) c + pmf (sds R12) d = 1\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R12) a", "by auto"], ["", "lemma R44 [simp]: \n  \"pmf (sds R44) a = pmf (sds R12) a\" \"pmf (sds R44) d = 1 - pmf (sds R12) a\"\n  \"pmf (sds R44) b = 0\" \"pmf (sds R44) c = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R44) a = pmf (sds R12) a &&&\n     pmf (sds R44) d = 1 - pmf (sds R12) a) &&&\n    pmf (sds R44) b = 0 &&& pmf (sds R44) c = 0", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R44) a = pmf (sds R12) a\n 2. pmf (sds R44) d = 1 - pmf (sds R12) a\n 3. pmf (sds R44) b = 0\n 4. pmf (sds R44) c = 0", "from R12_R44.strategyproofness(1) R44.support"], ["proof (chain)\npicking this:\n  pmf (sds R44) b + pmf (sds R44) a \\<le> pmf (sds R12) b + pmf (sds R12) a\n  pmf (sds R44) b = 0", "have \"pmf (sds R44) a \\<le> pmf (sds R12) a\""], ["proof (prove)\nusing this:\n  pmf (sds R44) b + pmf (sds R44) a \\<le> pmf (sds R12) b + pmf (sds R12) a\n  pmf (sds R44) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R44) a \\<le> pmf (sds R12) a", "by simp"], ["proof (state)\nthis:\n  pmf (sds R44) a \\<le> pmf (sds R12) a\n\ngoal (4 subgoals):\n 1. pmf (sds R44) a = pmf (sds R12) a\n 2. pmf (sds R44) d = 1 - pmf (sds R12) a\n 3. pmf (sds R44) b = 0\n 4. pmf (sds R44) c = 0", "with R44_R12.strategyproofness(1) R44.support lottery_conditions[OF R44.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R12) b + pmf (sds R12) a\n   < pmf (sds R44) b + pmf (sds R44) a \\<or>\n   pmf (sds R12) b + (pmf (sds R12) a + pmf (sds R12) d)\n   < pmf (sds R44) b + (pmf (sds R44) a + pmf (sds R44) d)) \\<or>\n  pmf (sds R12) b + pmf (sds R12) a =\n  pmf (sds R44) b + pmf (sds R44) a \\<and>\n  pmf (sds R12) b + (pmf (sds R12) a + pmf (sds R12) d) =\n  pmf (sds R44) b + (pmf (sds R44) a + pmf (sds R44) d)\n  pmf (sds R44) b = 0\n  0 \\<le> pmf (sds R44) a\n  0 \\<le> pmf (sds R44) b\n  0 \\<le> pmf (sds R44) c\n  0 \\<le> pmf (sds R44) d\n  pmf (sds R44) a + pmf (sds R44) b + pmf (sds R44) c + pmf (sds R44) d = 1\n  pmf (sds R44) a \\<le> pmf (sds R12) a", "show \"pmf (sds R44) a = pmf (sds R12) a\" \"pmf (sds R44) c = 0\"\n         \"pmf (sds R44) d = 1 - pmf (sds R12) a\""], ["proof (prove)\nusing this:\n  (pmf (sds R12) b + pmf (sds R12) a\n   < pmf (sds R44) b + pmf (sds R44) a \\<or>\n   pmf (sds R12) b + (pmf (sds R12) a + pmf (sds R12) d)\n   < pmf (sds R44) b + (pmf (sds R44) a + pmf (sds R44) d)) \\<or>\n  pmf (sds R12) b + pmf (sds R12) a =\n  pmf (sds R44) b + pmf (sds R44) a \\<and>\n  pmf (sds R12) b + (pmf (sds R12) a + pmf (sds R12) d) =\n  pmf (sds R44) b + (pmf (sds R44) a + pmf (sds R44) d)\n  pmf (sds R44) b = 0\n  0 \\<le> pmf (sds R44) a\n  0 \\<le> pmf (sds R44) b\n  0 \\<le> pmf (sds R44) c\n  0 \\<le> pmf (sds R44) d\n  pmf (sds R44) a + pmf (sds R44) b + pmf (sds R44) c + pmf (sds R44) d = 1\n  pmf (sds R44) a \\<le> pmf (sds R12) a\n\ngoal (1 subgoal):\n 1. pmf (sds R44) a = pmf (sds R12) a &&&\n    pmf (sds R44) c = 0 &&& pmf (sds R44) d = 1 - pmf (sds R12) a", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R44) a = pmf (sds R12) a\n  pmf (sds R44) c = 0\n  pmf (sds R44) d = 1 - pmf (sds R12) a\n\ngoal (1 subgoal):\n 1. pmf (sds R44) b = 0", "qed (insert R44.support, simp_all)"], ["", "lemma R9_a [simp]: \"pmf (sds R9) a = pmf (sds R35) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R9) a = pmf (sds R35) a", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. pmf (sds R9) a = pmf (sds R35) a", "from R9_R35.strategyproofness(1) R35.support R9.support"], ["proof (chain)\npicking this:\n  pmf (sds R35) b + pmf (sds R35) a \\<le> pmf (sds R9) b + pmf (sds R9) a\n  pmf (sds R35) b = 0\n  pmf (sds R9) b = 0", "have \"pmf (sds R35) a \\<le> pmf (sds R9) a\""], ["proof (prove)\nusing this:\n  pmf (sds R35) b + pmf (sds R35) a \\<le> pmf (sds R9) b + pmf (sds R9) a\n  pmf (sds R35) b = 0\n  pmf (sds R9) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R35) a \\<le> pmf (sds R9) a", "by simp"], ["proof (state)\nthis:\n  pmf (sds R35) a \\<le> pmf (sds R9) a\n\ngoal (1 subgoal):\n 1. pmf (sds R9) a = pmf (sds R35) a", "with R35_R9.strategyproofness(1) R9.support R35.support"], ["proof (chain)\npicking this:\n  (pmf (sds R9) a < pmf (sds R35) a \\<or>\n   pmf (sds R9) a + pmf (sds R9) b\n   < pmf (sds R35) a + pmf (sds R35) b) \\<or>\n  pmf (sds R9) a = pmf (sds R35) a \\<and>\n  pmf (sds R9) a + pmf (sds R9) b = pmf (sds R35) a + pmf (sds R35) b\n  pmf (sds R9) b = 0\n  pmf (sds R35) b = 0\n  pmf (sds R35) a \\<le> pmf (sds R9) a", "show ?thesis"], ["proof (prove)\nusing this:\n  (pmf (sds R9) a < pmf (sds R35) a \\<or>\n   pmf (sds R9) a + pmf (sds R9) b\n   < pmf (sds R35) a + pmf (sds R35) b) \\<or>\n  pmf (sds R9) a = pmf (sds R35) a \\<and>\n  pmf (sds R9) a + pmf (sds R9) b = pmf (sds R35) a + pmf (sds R35) b\n  pmf (sds R9) b = 0\n  pmf (sds R35) b = 0\n  pmf (sds R35) a \\<le> pmf (sds R9) a\n\ngoal (1 subgoal):\n 1. pmf (sds R9) a = pmf (sds R35) a", "by simp"], ["proof (state)\nthis:\n  pmf (sds R9) a = pmf (sds R35) a\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R18_c [simp]: \"pmf (sds R18) c = pmf (sds R9) c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R18) c = pmf (sds R9) c", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. pmf (sds R18) c = pmf (sds R9) c", "from R18_R9.strategyproofness(1) R18.support R9.support"], ["proof (chain)\npicking this:\n  pmf (sds R9) d + pmf (sds R9) a \\<le> pmf (sds R18) d + pmf (sds R18) a\n  pmf (sds R18) b = 0\n  pmf (sds R9) b = 0", "have \"pmf (sds R18) d + pmf (sds R18) a \\<ge> pmf (sds R9) d + pmf (sds R9) a\""], ["proof (prove)\nusing this:\n  pmf (sds R9) d + pmf (sds R9) a \\<le> pmf (sds R18) d + pmf (sds R18) a\n  pmf (sds R18) b = 0\n  pmf (sds R9) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R9) d + pmf (sds R9) a \\<le> pmf (sds R18) d + pmf (sds R18) a", "by auto"], ["proof (state)\nthis:\n  pmf (sds R9) d + pmf (sds R9) a \\<le> pmf (sds R18) d + pmf (sds R18) a\n\ngoal (1 subgoal):\n 1. pmf (sds R18) c = pmf (sds R9) c", "with R9_R18.strategyproofness(1) R18.support R9.support\n        lottery_conditions[OF R9.wf] lottery_conditions[OF R18.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R18) d + pmf (sds R18) a < pmf (sds R9) d + pmf (sds R9) a \\<or>\n   pmf (sds R18) d + (pmf (sds R18) a + pmf (sds R18) c)\n   < pmf (sds R9) d + (pmf (sds R9) a + pmf (sds R9) c)) \\<or>\n  pmf (sds R18) d + pmf (sds R18) a = pmf (sds R9) d + pmf (sds R9) a \\<and>\n  pmf (sds R18) d + (pmf (sds R18) a + pmf (sds R18) c) =\n  pmf (sds R9) d + (pmf (sds R9) a + pmf (sds R9) c)\n  pmf (sds R18) b = 0\n  pmf (sds R9) b = 0\n  0 \\<le> pmf (sds R9) a\n  0 \\<le> pmf (sds R9) b\n  0 \\<le> pmf (sds R9) c\n  0 \\<le> pmf (sds R9) d\n  pmf (sds R9) a + pmf (sds R9) b + pmf (sds R9) c + pmf (sds R9) d = 1\n  0 \\<le> pmf (sds R18) a\n  0 \\<le> pmf (sds R18) b\n  0 \\<le> pmf (sds R18) c\n  0 \\<le> pmf (sds R18) d\n  pmf (sds R18) a + pmf (sds R18) b + pmf (sds R18) c + pmf (sds R18) d = 1\n  pmf (sds R9) d + pmf (sds R9) a \\<le> pmf (sds R18) d + pmf (sds R18) a", "show ?thesis"], ["proof (prove)\nusing this:\n  (pmf (sds R18) d + pmf (sds R18) a < pmf (sds R9) d + pmf (sds R9) a \\<or>\n   pmf (sds R18) d + (pmf (sds R18) a + pmf (sds R18) c)\n   < pmf (sds R9) d + (pmf (sds R9) a + pmf (sds R9) c)) \\<or>\n  pmf (sds R18) d + pmf (sds R18) a = pmf (sds R9) d + pmf (sds R9) a \\<and>\n  pmf (sds R18) d + (pmf (sds R18) a + pmf (sds R18) c) =\n  pmf (sds R9) d + (pmf (sds R9) a + pmf (sds R9) c)\n  pmf (sds R18) b = 0\n  pmf (sds R9) b = 0\n  0 \\<le> pmf (sds R9) a\n  0 \\<le> pmf (sds R9) b\n  0 \\<le> pmf (sds R9) c\n  0 \\<le> pmf (sds R9) d\n  pmf (sds R9) a + pmf (sds R9) b + pmf (sds R9) c + pmf (sds R9) d = 1\n  0 \\<le> pmf (sds R18) a\n  0 \\<le> pmf (sds R18) b\n  0 \\<le> pmf (sds R18) c\n  0 \\<le> pmf (sds R18) d\n  pmf (sds R18) a + pmf (sds R18) b + pmf (sds R18) c + pmf (sds R18) d = 1\n  pmf (sds R9) d + pmf (sds R9) a \\<le> pmf (sds R18) d + pmf (sds R18) a\n\ngoal (1 subgoal):\n 1. pmf (sds R18) c = pmf (sds R9) c", "by auto"], ["proof (state)\nthis:\n  pmf (sds R18) c = pmf (sds R9) c\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R5_d_ge_one_half: \"pmf (sds R5) d \\<ge> 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R5) d", "using R5_R10.strategyproofness(1) R5.support lottery_conditions[OF R5.wf]"], ["proof (prove)\nusing this:\n  (pmf (sds R10) a < pmf (sds R5) d \\<or>\n   pmf (sds R10) a + (pmf (sds R10) c + pmf (sds R10) d)\n   < pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a)) \\<or>\n  pmf (sds R10) a = pmf (sds R5) d \\<and>\n  pmf (sds R10) a + (pmf (sds R10) c + pmf (sds R10) d) =\n  pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a)\n  pmf (sds R5) b = 0\n  0 \\<le> pmf (sds R5) a\n  0 \\<le> pmf (sds R5) b\n  0 \\<le> pmf (sds R5) c\n  0 \\<le> pmf (sds R5) d\n  pmf (sds R5) a + pmf (sds R5) b + pmf (sds R5) c + pmf (sds R5) d = 1\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R5) d", "by auto"], ["", "lemma R7 [simp]: \"pmf (sds R7) a = 1/2\" \"pmf (sds R7) b = 0\" \"pmf (sds R7) c = 0\" \"pmf (sds R7) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R7) a = 1 / 2 &&& pmf (sds R7) b = 0) &&&\n    pmf (sds R7) c = 0 &&& pmf (sds R7) d = 1 / 2", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R7) a = 1 / 2\n 2. pmf (sds R7) b = 0\n 3. pmf (sds R7) c = 0\n 4. pmf (sds R7) d = 1 / 2", "from R5_d_ge_one_half"], ["proof (chain)\npicking this:\n  1 / 2 \\<le> pmf (sds R5) d", "have \"1/2 \\<le> pmf (sds R5) d\""], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R5) d\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R5) d", "by simp"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R5) d\n\ngoal (4 subgoals):\n 1. pmf (sds R7) a = 1 / 2\n 2. pmf (sds R7) b = 0\n 3. pmf (sds R7) c = 0\n 4. pmf (sds R7) d = 1 / 2", "also"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R5) d\n\ngoal (4 subgoals):\n 1. pmf (sds R7) a = 1 / 2\n 2. pmf (sds R7) b = 0\n 3. pmf (sds R7) c = 0\n 4. pmf (sds R7) d = 1 / 2", "from R5_R17.strategyproofness(1) R17.support lottery_conditions[OF R5.wf] lottery_conditions[OF R17.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R17) c + pmf (sds R17) a < pmf (sds R5) c + pmf (sds R5) a \\<or>\n   pmf (sds R17) c + (pmf (sds R17) a + pmf (sds R17) d)\n   < pmf (sds R5) c + (pmf (sds R5) a + pmf (sds R5) d)) \\<or>\n  pmf (sds R17) c + pmf (sds R17) a = pmf (sds R5) c + pmf (sds R5) a \\<and>\n  pmf (sds R17) c + (pmf (sds R17) a + pmf (sds R17) d) =\n  pmf (sds R5) c + (pmf (sds R5) a + pmf (sds R5) d)\n  pmf (sds R17) b = 0\n  0 \\<le> pmf (sds R5) a\n  0 \\<le> pmf (sds R5) b\n  0 \\<le> pmf (sds R5) c\n  0 \\<le> pmf (sds R5) d\n  pmf (sds R5) a + pmf (sds R5) b + pmf (sds R5) c + pmf (sds R5) d = 1\n  0 \\<le> pmf (sds R17) a\n  0 \\<le> pmf (sds R17) b\n  0 \\<le> pmf (sds R17) c\n  0 \\<le> pmf (sds R17) d\n  pmf (sds R17) a + pmf (sds R17) b + pmf (sds R17) c + pmf (sds R17) d = 1", "have \"\\<dots> \\<le> pmf (sds R17) d\""], ["proof (prove)\nusing this:\n  (pmf (sds R17) c + pmf (sds R17) a < pmf (sds R5) c + pmf (sds R5) a \\<or>\n   pmf (sds R17) c + (pmf (sds R17) a + pmf (sds R17) d)\n   < pmf (sds R5) c + (pmf (sds R5) a + pmf (sds R5) d)) \\<or>\n  pmf (sds R17) c + pmf (sds R17) a = pmf (sds R5) c + pmf (sds R5) a \\<and>\n  pmf (sds R17) c + (pmf (sds R17) a + pmf (sds R17) d) =\n  pmf (sds R5) c + (pmf (sds R5) a + pmf (sds R5) d)\n  pmf (sds R17) b = 0\n  0 \\<le> pmf (sds R5) a\n  0 \\<le> pmf (sds R5) b\n  0 \\<le> pmf (sds R5) c\n  0 \\<le> pmf (sds R5) d\n  pmf (sds R5) a + pmf (sds R5) b + pmf (sds R5) c + pmf (sds R5) d = 1\n  0 \\<le> pmf (sds R17) a\n  0 \\<le> pmf (sds R17) b\n  0 \\<le> pmf (sds R17) c\n  0 \\<le> pmf (sds R17) d\n  pmf (sds R17) a + pmf (sds R17) b + pmf (sds R17) c + pmf (sds R17) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R5) d \\<le> pmf (sds R17) d", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R5) d \\<le> pmf (sds R17) d\n\ngoal (4 subgoals):\n 1. pmf (sds R7) a = 1 / 2\n 2. pmf (sds R7) b = 0\n 3. pmf (sds R7) c = 0\n 4. pmf (sds R7) d = 1 / 2", "also"], ["proof (state)\nthis:\n  pmf (sds R5) d \\<le> pmf (sds R17) d\n\ngoal (4 subgoals):\n 1. pmf (sds R7) a = 1 / 2\n 2. pmf (sds R7) b = 0\n 3. pmf (sds R7) c = 0\n 4. pmf (sds R7) d = 1 / 2", "from R17_R7.strategyproofness(1) lottery_conditions[OF R7.wf] lottery_conditions[OF R17.wf] R7.support"], ["proof (chain)\npicking this:\n  pmf (sds R7) c + pmf (sds R7) a \\<le> pmf (sds R17) c + pmf (sds R17) a\n  0 \\<le> pmf (sds R7) a\n  0 \\<le> pmf (sds R7) b\n  0 \\<le> pmf (sds R7) c\n  0 \\<le> pmf (sds R7) d\n  pmf (sds R7) a + pmf (sds R7) b + pmf (sds R7) c + pmf (sds R7) d = 1\n  0 \\<le> pmf (sds R17) a\n  0 \\<le> pmf (sds R17) b\n  0 \\<le> pmf (sds R17) c\n  0 \\<le> pmf (sds R17) d\n  pmf (sds R17) a + pmf (sds R17) b + pmf (sds R17) c + pmf (sds R17) d = 1\n  pmf (sds R7) b = 0", "have \"pmf (sds R17) d \\<le> pmf (sds R7) d\""], ["proof (prove)\nusing this:\n  pmf (sds R7) c + pmf (sds R7) a \\<le> pmf (sds R17) c + pmf (sds R17) a\n  0 \\<le> pmf (sds R7) a\n  0 \\<le> pmf (sds R7) b\n  0 \\<le> pmf (sds R7) c\n  0 \\<le> pmf (sds R7) d\n  pmf (sds R7) a + pmf (sds R7) b + pmf (sds R7) c + pmf (sds R7) d = 1\n  0 \\<le> pmf (sds R17) a\n  0 \\<le> pmf (sds R17) b\n  0 \\<le> pmf (sds R17) c\n  0 \\<le> pmf (sds R17) d\n  pmf (sds R17) a + pmf (sds R17) b + pmf (sds R17) c + pmf (sds R17) d = 1\n  pmf (sds R7) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R17) d \\<le> pmf (sds R7) d", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R17) d \\<le> pmf (sds R7) d\n\ngoal (4 subgoals):\n 1. pmf (sds R7) a = 1 / 2\n 2. pmf (sds R7) b = 0\n 3. pmf (sds R7) c = 0\n 4. pmf (sds R7) d = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  1 / 2 \\<le> pmf (sds R7) d", "have \"pmf (sds R7) d \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R7) d\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R7) d", "."], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R7) d\n\ngoal (4 subgoals):\n 1. pmf (sds R7) a = 1 / 2\n 2. pmf (sds R7) b = 0\n 3. pmf (sds R7) c = 0\n 4. pmf (sds R7) d = 1 / 2", "with R7_R43.strategyproofness(1) lottery_conditions[OF R7.wf] R7.support"], ["proof (chain)\npicking this:\n  (pmf (sds R43) d < pmf (sds R7) a \\<or>\n   pmf (sds R43) d + pmf (sds R43) b < pmf (sds R7) a + pmf (sds R7) c \\<or>\n   pmf (sds R43) d + (pmf (sds R43) b + pmf (sds R43) a)\n   < pmf (sds R7) a + (pmf (sds R7) c + pmf (sds R7) d)) \\<or>\n  pmf (sds R43) d = pmf (sds R7) a \\<and>\n  pmf (sds R43) d + pmf (sds R43) b = pmf (sds R7) a + pmf (sds R7) c \\<and>\n  pmf (sds R43) d + (pmf (sds R43) b + pmf (sds R43) a) =\n  pmf (sds R7) a + (pmf (sds R7) c + pmf (sds R7) d)\n  0 \\<le> pmf (sds R7) a\n  0 \\<le> pmf (sds R7) b\n  0 \\<le> pmf (sds R7) c\n  0 \\<le> pmf (sds R7) d\n  pmf (sds R7) a + pmf (sds R7) b + pmf (sds R7) c + pmf (sds R7) d = 1\n  pmf (sds R7) b = 0\n  1 / 2 \\<le> pmf (sds R7) d", "show \"pmf (sds R7) a = 1/2\" \"pmf (sds R7) b = 0\" \"pmf (sds R7) c = 0\" \"pmf (sds R7) d = 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R43) d < pmf (sds R7) a \\<or>\n   pmf (sds R43) d + pmf (sds R43) b < pmf (sds R7) a + pmf (sds R7) c \\<or>\n   pmf (sds R43) d + (pmf (sds R43) b + pmf (sds R43) a)\n   < pmf (sds R7) a + (pmf (sds R7) c + pmf (sds R7) d)) \\<or>\n  pmf (sds R43) d = pmf (sds R7) a \\<and>\n  pmf (sds R43) d + pmf (sds R43) b = pmf (sds R7) a + pmf (sds R7) c \\<and>\n  pmf (sds R43) d + (pmf (sds R43) b + pmf (sds R43) a) =\n  pmf (sds R7) a + (pmf (sds R7) c + pmf (sds R7) d)\n  0 \\<le> pmf (sds R7) a\n  0 \\<le> pmf (sds R7) b\n  0 \\<le> pmf (sds R7) c\n  0 \\<le> pmf (sds R7) d\n  pmf (sds R7) a + pmf (sds R7) b + pmf (sds R7) c + pmf (sds R7) d = 1\n  pmf (sds R7) b = 0\n  1 / 2 \\<le> pmf (sds R7) d\n\ngoal (1 subgoal):\n 1. (pmf (sds R7) a = 1 / 2 &&& pmf (sds R7) b = 0) &&&\n    pmf (sds R7) c = 0 &&& pmf (sds R7) d = 1 / 2", "by auto"], ["proof (state)\nthis:\n  pmf (sds R7) a = 1 / 2\n  pmf (sds R7) b = 0\n  pmf (sds R7) c = 0\n  pmf (sds R7) d = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R5 [simp]: \"pmf (sds R5) a = 1/2\" \"pmf (sds R5) b = 0\" \"pmf (sds R5) c = 0\" \"pmf (sds R5) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R5) a = 1 / 2 &&& pmf (sds R5) b = 0) &&&\n    pmf (sds R5) c = 0 &&& pmf (sds R5) d = 1 / 2", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R5) a = 1 / 2\n 2. pmf (sds R5) b = 0\n 3. pmf (sds R5) c = 0\n 4. pmf (sds R5) d = 1 / 2", "from R5_R7.strategyproofness(1) lottery_conditions[OF R5.wf] R5.support"], ["proof (chain)\npicking this:\n  (pmf (sds R7) c + pmf (sds R7) a < pmf (sds R5) c + pmf (sds R5) a \\<or>\n   pmf (sds R7) c + (pmf (sds R7) a + pmf (sds R7) d)\n   < pmf (sds R5) c + (pmf (sds R5) a + pmf (sds R5) d)) \\<or>\n  pmf (sds R7) c + pmf (sds R7) a = pmf (sds R5) c + pmf (sds R5) a \\<and>\n  pmf (sds R7) c + (pmf (sds R7) a + pmf (sds R7) d) =\n  pmf (sds R5) c + (pmf (sds R5) a + pmf (sds R5) d)\n  0 \\<le> pmf (sds R5) a\n  0 \\<le> pmf (sds R5) b\n  0 \\<le> pmf (sds R5) c\n  0 \\<le> pmf (sds R5) d\n  pmf (sds R5) a + pmf (sds R5) b + pmf (sds R5) c + pmf (sds R5) d = 1\n  pmf (sds R5) b = 0", "have \"pmf (sds R5) d \\<le> 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R7) c + pmf (sds R7) a < pmf (sds R5) c + pmf (sds R5) a \\<or>\n   pmf (sds R7) c + (pmf (sds R7) a + pmf (sds R7) d)\n   < pmf (sds R5) c + (pmf (sds R5) a + pmf (sds R5) d)) \\<or>\n  pmf (sds R7) c + pmf (sds R7) a = pmf (sds R5) c + pmf (sds R5) a \\<and>\n  pmf (sds R7) c + (pmf (sds R7) a + pmf (sds R7) d) =\n  pmf (sds R5) c + (pmf (sds R5) a + pmf (sds R5) d)\n  0 \\<le> pmf (sds R5) a\n  0 \\<le> pmf (sds R5) b\n  0 \\<le> pmf (sds R5) c\n  0 \\<le> pmf (sds R5) d\n  pmf (sds R5) a + pmf (sds R5) b + pmf (sds R5) c + pmf (sds R5) d = 1\n  pmf (sds R5) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R5) d \\<le> 1 / 2", "by auto"], ["proof (state)\nthis:\n  pmf (sds R5) d \\<le> 1 / 2\n\ngoal (4 subgoals):\n 1. pmf (sds R5) a = 1 / 2\n 2. pmf (sds R5) b = 0\n 3. pmf (sds R5) c = 0\n 4. pmf (sds R5) d = 1 / 2", "with R5_d_ge_one_half"], ["proof (chain)\npicking this:\n  1 / 2 \\<le> pmf (sds R5) d\n  pmf (sds R5) d \\<le> 1 / 2", "show d: \"pmf (sds R5) d = 1 / 2\""], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R5) d\n  pmf (sds R5) d \\<le> 1 / 2\n\ngoal (1 subgoal):\n 1. pmf (sds R5) d = 1 / 2", "by simp"], ["proof (state)\nthis:\n  pmf (sds R5) d = 1 / 2\n\ngoal (3 subgoals):\n 1. pmf (sds R5) a = 1 / 2\n 2. pmf (sds R5) b = 0\n 3. pmf (sds R5) c = 0", "with R5_R10.strategyproofness(1) lottery_conditions[OF R5.wf] R5.support"], ["proof (chain)\npicking this:\n  (pmf (sds R10) a < pmf (sds R5) d \\<or>\n   pmf (sds R10) a + (pmf (sds R10) c + pmf (sds R10) d)\n   < pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a)) \\<or>\n  pmf (sds R10) a = pmf (sds R5) d \\<and>\n  pmf (sds R10) a + (pmf (sds R10) c + pmf (sds R10) d) =\n  pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a)\n  0 \\<le> pmf (sds R5) a\n  0 \\<le> pmf (sds R5) b\n  0 \\<le> pmf (sds R5) c\n  0 \\<le> pmf (sds R5) d\n  pmf (sds R5) a + pmf (sds R5) b + pmf (sds R5) c + pmf (sds R5) d = 1\n  pmf (sds R5) b = 0\n  pmf (sds R5) d = 1 / 2", "show \"pmf (sds R5) c = 0\" \"pmf (sds R5) a = 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R10) a < pmf (sds R5) d \\<or>\n   pmf (sds R10) a + (pmf (sds R10) c + pmf (sds R10) d)\n   < pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a)) \\<or>\n  pmf (sds R10) a = pmf (sds R5) d \\<and>\n  pmf (sds R10) a + (pmf (sds R10) c + pmf (sds R10) d) =\n  pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a)\n  0 \\<le> pmf (sds R5) a\n  0 \\<le> pmf (sds R5) b\n  0 \\<le> pmf (sds R5) c\n  0 \\<le> pmf (sds R5) d\n  pmf (sds R5) a + pmf (sds R5) b + pmf (sds R5) c + pmf (sds R5) d = 1\n  pmf (sds R5) b = 0\n  pmf (sds R5) d = 1 / 2\n\ngoal (1 subgoal):\n 1. pmf (sds R5) c = 0 &&& pmf (sds R5) a = 1 / 2", "by simp_all"], ["proof (state)\nthis:\n  pmf (sds R5) c = 0\n  pmf (sds R5) a = 1 / 2\n\ngoal (1 subgoal):\n 1. pmf (sds R5) b = 0", "qed (simp_all add: R5.support)"], ["", "lemma R15 [simp]: \"pmf (sds R15) a = 1/2\" \"pmf (sds R15) b = 0\" \"pmf (sds R15) c = 0\" \"pmf (sds R15) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R15) a = 1 / 2 &&& pmf (sds R15) b = 0) &&&\n    pmf (sds R15) c = 0 &&& pmf (sds R15) d = 1 / 2", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R15) a = 1 / 2\n 2. pmf (sds R15) b = 0\n 3. pmf (sds R15) c = 0\n 4. pmf (sds R15) d = 1 / 2", "{"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R15) a = 1 / 2\n 2. pmf (sds R15) b = 0\n 3. pmf (sds R15) c = 0\n 4. pmf (sds R15) d = 1 / 2", "assume \"pmf (sds R15) b = 0\""], ["proof (state)\nthis:\n  pmf (sds R15) b = 0\n\ngoal (4 subgoals):\n 1. pmf (sds R15) a = 1 / 2\n 2. pmf (sds R15) b = 0\n 3. pmf (sds R15) c = 0\n 4. pmf (sds R15) d = 1 / 2", "with R10_R15.strategyproofness(1) lottery_conditions[OF R15.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R15) a + pmf (sds R15) c\n   < pmf (sds R10) d + pmf (sds R10) b \\<or>\n   pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)\n   < pmf (sds R10) d + (pmf (sds R10) b + pmf (sds R10) a)) \\<or>\n  pmf (sds R15) a + pmf (sds R15) c =\n  pmf (sds R10) d + pmf (sds R10) b \\<and>\n  pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d) =\n  pmf (sds R10) d + (pmf (sds R10) b + pmf (sds R10) a)\n  0 \\<le> pmf (sds R15) a\n  0 \\<le> pmf (sds R15) b\n  0 \\<le> pmf (sds R15) c\n  0 \\<le> pmf (sds R15) d\n  pmf (sds R15) a + pmf (sds R15) b + pmf (sds R15) c + pmf (sds R15) d = 1\n  pmf (sds R15) b = 0", "have \"pmf (sds R15) a + pmf (sds R15) c \\<le> 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R15) a + pmf (sds R15) c\n   < pmf (sds R10) d + pmf (sds R10) b \\<or>\n   pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)\n   < pmf (sds R10) d + (pmf (sds R10) b + pmf (sds R10) a)) \\<or>\n  pmf (sds R15) a + pmf (sds R15) c =\n  pmf (sds R10) d + pmf (sds R10) b \\<and>\n  pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d) =\n  pmf (sds R10) d + (pmf (sds R10) b + pmf (sds R10) a)\n  0 \\<le> pmf (sds R15) a\n  0 \\<le> pmf (sds R15) b\n  0 \\<le> pmf (sds R15) c\n  0 \\<le> pmf (sds R15) d\n  pmf (sds R15) a + pmf (sds R15) b + pmf (sds R15) c + pmf (sds R15) d = 1\n  pmf (sds R15) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R15) a + pmf (sds R15) c \\<le> 1 / 2", "by auto"], ["proof (state)\nthis:\n  pmf (sds R15) a + pmf (sds R15) c \\<le> 1 / 2\n\ngoal (4 subgoals):\n 1. pmf (sds R15) a = 1 / 2\n 2. pmf (sds R15) b = 0\n 3. pmf (sds R15) c = 0\n 4. pmf (sds R15) d = 1 / 2", "with R15_R10.strategyproofness(1) lottery_conditions[OF R15.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R10) d < pmf (sds R15) a \\<or>\n   pmf (sds R10) d + pmf (sds R10) b\n   < pmf (sds R15) a + pmf (sds R15) c \\<or>\n   pmf (sds R10) d + (pmf (sds R10) b + pmf (sds R10) a)\n   < pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)) \\<or>\n  pmf (sds R10) d = pmf (sds R15) a \\<and>\n  pmf (sds R10) d + pmf (sds R10) b =\n  pmf (sds R15) a + pmf (sds R15) c \\<and>\n  pmf (sds R10) d + (pmf (sds R10) b + pmf (sds R10) a) =\n  pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)\n  0 \\<le> pmf (sds R15) a\n  0 \\<le> pmf (sds R15) b\n  0 \\<le> pmf (sds R15) c\n  0 \\<le> pmf (sds R15) d\n  pmf (sds R15) a + pmf (sds R15) b + pmf (sds R15) c + pmf (sds R15) d = 1\n  pmf (sds R15) a + pmf (sds R15) c \\<le> 1 / 2", "have \"pmf (sds R15) c = 0\""], ["proof (prove)\nusing this:\n  (pmf (sds R10) d < pmf (sds R15) a \\<or>\n   pmf (sds R10) d + pmf (sds R10) b\n   < pmf (sds R15) a + pmf (sds R15) c \\<or>\n   pmf (sds R10) d + (pmf (sds R10) b + pmf (sds R10) a)\n   < pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)) \\<or>\n  pmf (sds R10) d = pmf (sds R15) a \\<and>\n  pmf (sds R10) d + pmf (sds R10) b =\n  pmf (sds R15) a + pmf (sds R15) c \\<and>\n  pmf (sds R10) d + (pmf (sds R10) b + pmf (sds R10) a) =\n  pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)\n  0 \\<le> pmf (sds R15) a\n  0 \\<le> pmf (sds R15) b\n  0 \\<le> pmf (sds R15) c\n  0 \\<le> pmf (sds R15) d\n  pmf (sds R15) a + pmf (sds R15) b + pmf (sds R15) c + pmf (sds R15) d = 1\n  pmf (sds R15) a + pmf (sds R15) c \\<le> 1 / 2\n\ngoal (1 subgoal):\n 1. pmf (sds R15) c = 0", "by auto"], ["proof (state)\nthis:\n  pmf (sds R15) c = 0\n\ngoal (4 subgoals):\n 1. pmf (sds R15) a = 1 / 2\n 2. pmf (sds R15) b = 0\n 3. pmf (sds R15) c = 0\n 4. pmf (sds R15) d = 1 / 2", "}"], ["proof (state)\nthis:\n  pmf (sds R15) b = 0 \\<Longrightarrow> pmf (sds R15) c = 0\n\ngoal (4 subgoals):\n 1. pmf (sds R15) a = 1 / 2\n 2. pmf (sds R15) b = 0\n 3. pmf (sds R15) c = 0\n 4. pmf (sds R15) d = 1 / 2", "with R15.support"], ["proof (chain)\npicking this:\n  pmf (sds R15) c = 0 \\<or> pmf (sds R15) b = 0\n  pmf (sds R15) b = 0 \\<Longrightarrow> pmf (sds R15) c = 0", "show [simp]: \"pmf (sds R15) c = 0\""], ["proof (prove)\nusing this:\n  pmf (sds R15) c = 0 \\<or> pmf (sds R15) b = 0\n  pmf (sds R15) b = 0 \\<Longrightarrow> pmf (sds R15) c = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R15) c = 0", "by blast"], ["proof (state)\nthis:\n  pmf (sds R15) c = 0\n\ngoal (3 subgoals):\n 1. pmf (sds R15) a = 1 / 2\n 2. pmf (sds R15) b = 0\n 3. pmf (sds R15) d = 1 / 2", "with R15_R5.strategyproofness(1) lottery_conditions[OF R15.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R5) d < pmf (sds R15) a \\<or>\n   pmf (sds R5) d + pmf (sds R5) b < pmf (sds R15) a + pmf (sds R15) c \\<or>\n   pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a)\n   < pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)) \\<or>\n  pmf (sds R5) d = pmf (sds R15) a \\<and>\n  pmf (sds R5) d + pmf (sds R5) b = pmf (sds R15) a + pmf (sds R15) c \\<and>\n  pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a) =\n  pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)\n  0 \\<le> pmf (sds R15) a\n  0 \\<le> pmf (sds R15) b\n  0 \\<le> pmf (sds R15) c\n  0 \\<le> pmf (sds R15) d\n  pmf (sds R15) a + pmf (sds R15) b + pmf (sds R15) c + pmf (sds R15) d = 1\n  pmf (sds R15) c = 0", "have \"pmf (sds R15) a \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R5) d < pmf (sds R15) a \\<or>\n   pmf (sds R5) d + pmf (sds R5) b < pmf (sds R15) a + pmf (sds R15) c \\<or>\n   pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a)\n   < pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)) \\<or>\n  pmf (sds R5) d = pmf (sds R15) a \\<and>\n  pmf (sds R5) d + pmf (sds R5) b = pmf (sds R15) a + pmf (sds R15) c \\<and>\n  pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a) =\n  pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)\n  0 \\<le> pmf (sds R15) a\n  0 \\<le> pmf (sds R15) b\n  0 \\<le> pmf (sds R15) c\n  0 \\<le> pmf (sds R15) d\n  pmf (sds R15) a + pmf (sds R15) b + pmf (sds R15) c + pmf (sds R15) d = 1\n  pmf (sds R15) c = 0\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R15) a", "by auto"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R15) a\n\ngoal (3 subgoals):\n 1. pmf (sds R15) a = 1 / 2\n 2. pmf (sds R15) b = 0\n 3. pmf (sds R15) d = 1 / 2", "moreover"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R15) a\n\ngoal (3 subgoals):\n 1. pmf (sds R15) a = 1 / 2\n 2. pmf (sds R15) b = 0\n 3. pmf (sds R15) d = 1 / 2", "from R15_R7.strategyproofness(1) lottery_conditions[OF R15.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R7) d + pmf (sds R7) b < pmf (sds R15) d + pmf (sds R15) b \\<or>\n   pmf (sds R7) d + (pmf (sds R7) b + pmf (sds R7) a)\n   < pmf (sds R15) d + (pmf (sds R15) b + pmf (sds R15) a)) \\<or>\n  pmf (sds R7) d + pmf (sds R7) b = pmf (sds R15) d + pmf (sds R15) b \\<and>\n  pmf (sds R7) d + (pmf (sds R7) b + pmf (sds R7) a) =\n  pmf (sds R15) d + (pmf (sds R15) b + pmf (sds R15) a)\n  0 \\<le> pmf (sds R15) a\n  0 \\<le> pmf (sds R15) b\n  0 \\<le> pmf (sds R15) c\n  0 \\<le> pmf (sds R15) d\n  pmf (sds R15) a + pmf (sds R15) b + pmf (sds R15) c + pmf (sds R15) d = 1", "have \"pmf (sds R15) b + pmf (sds R15) d \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R7) d + pmf (sds R7) b < pmf (sds R15) d + pmf (sds R15) b \\<or>\n   pmf (sds R7) d + (pmf (sds R7) b + pmf (sds R7) a)\n   < pmf (sds R15) d + (pmf (sds R15) b + pmf (sds R15) a)) \\<or>\n  pmf (sds R7) d + pmf (sds R7) b = pmf (sds R15) d + pmf (sds R15) b \\<and>\n  pmf (sds R7) d + (pmf (sds R7) b + pmf (sds R7) a) =\n  pmf (sds R15) d + (pmf (sds R15) b + pmf (sds R15) a)\n  0 \\<le> pmf (sds R15) a\n  0 \\<le> pmf (sds R15) b\n  0 \\<le> pmf (sds R15) c\n  0 \\<le> pmf (sds R15) d\n  pmf (sds R15) a + pmf (sds R15) b + pmf (sds R15) c + pmf (sds R15) d = 1\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R15) b + pmf (sds R15) d", "by auto"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R15) b + pmf (sds R15) d\n\ngoal (3 subgoals):\n 1. pmf (sds R15) a = 1 / 2\n 2. pmf (sds R15) b = 0\n 3. pmf (sds R15) d = 1 / 2", "ultimately"], ["proof (chain)\npicking this:\n  1 / 2 \\<le> pmf (sds R15) a\n  1 / 2 \\<le> pmf (sds R15) b + pmf (sds R15) d", "show \"pmf (sds R15) a = 1/2\""], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R15) a\n  1 / 2 \\<le> pmf (sds R15) b + pmf (sds R15) d\n\ngoal (1 subgoal):\n 1. pmf (sds R15) a = 1 / 2", "using lottery_conditions[OF R15.wf]"], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R15) a\n  1 / 2 \\<le> pmf (sds R15) b + pmf (sds R15) d\n  0 \\<le> pmf (sds R15) a\n  0 \\<le> pmf (sds R15) b\n  0 \\<le> pmf (sds R15) c\n  0 \\<le> pmf (sds R15) d\n  pmf (sds R15) a + pmf (sds R15) b + pmf (sds R15) c + pmf (sds R15) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R15) a = 1 / 2", "by auto"], ["proof (state)\nthis:\n  pmf (sds R15) a = 1 / 2\n\ngoal (2 subgoals):\n 1. pmf (sds R15) b = 0\n 2. pmf (sds R15) d = 1 / 2", "with R15_R5.strategyproofness(1) lottery_conditions[OF R15.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R5) d < pmf (sds R15) a \\<or>\n   pmf (sds R5) d + pmf (sds R5) b < pmf (sds R15) a + pmf (sds R15) c \\<or>\n   pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a)\n   < pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)) \\<or>\n  pmf (sds R5) d = pmf (sds R15) a \\<and>\n  pmf (sds R5) d + pmf (sds R5) b = pmf (sds R15) a + pmf (sds R15) c \\<and>\n  pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a) =\n  pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)\n  0 \\<le> pmf (sds R15) a\n  0 \\<le> pmf (sds R15) b\n  0 \\<le> pmf (sds R15) c\n  0 \\<le> pmf (sds R15) d\n  pmf (sds R15) a + pmf (sds R15) b + pmf (sds R15) c + pmf (sds R15) d = 1\n  pmf (sds R15) a = 1 / 2", "show \"pmf (sds R15) d = 1/2\" \"pmf (sds R15) b = 0\""], ["proof (prove)\nusing this:\n  (pmf (sds R5) d < pmf (sds R15) a \\<or>\n   pmf (sds R5) d + pmf (sds R5) b < pmf (sds R15) a + pmf (sds R15) c \\<or>\n   pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a)\n   < pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)) \\<or>\n  pmf (sds R5) d = pmf (sds R15) a \\<and>\n  pmf (sds R5) d + pmf (sds R5) b = pmf (sds R15) a + pmf (sds R15) c \\<and>\n  pmf (sds R5) d + (pmf (sds R5) b + pmf (sds R5) a) =\n  pmf (sds R15) a + (pmf (sds R15) c + pmf (sds R15) d)\n  0 \\<le> pmf (sds R15) a\n  0 \\<le> pmf (sds R15) b\n  0 \\<le> pmf (sds R15) c\n  0 \\<le> pmf (sds R15) d\n  pmf (sds R15) a + pmf (sds R15) b + pmf (sds R15) c + pmf (sds R15) d = 1\n  pmf (sds R15) a = 1 / 2\n\ngoal (1 subgoal):\n 1. pmf (sds R15) d = 1 / 2 &&& pmf (sds R15) b = 0", "by auto"], ["proof (state)\nthis:\n  pmf (sds R15) d = 1 / 2\n  pmf (sds R15) b = 0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R13_aux: \"pmf (sds R13) b = 0\" \"pmf (sds R13) c = 0\" \"pmf (sds R13) d = 1 - pmf (sds R13) a\"\n  and R27_R13 [simp]: \"pmf (sds R27) a = pmf (sds R13) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R13) b = 0 &&&\n     pmf (sds R13) c = 0 &&& pmf (sds R13) d = 1 - pmf (sds R13) a) &&&\n    pmf (sds R27) a = pmf (sds R13) a", "using R27_R13.strategyproofness(1) R13_R27.strategyproofness(1) lottery_conditions[OF R13.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R13) b + pmf (sds R13) a \\<le> pmf (sds R27) c + pmf (sds R27) a\n  (pmf (sds R27) a < pmf (sds R13) a \\<or>\n   pmf (sds R27) a + pmf (sds R27) c\n   < pmf (sds R13) a + pmf (sds R13) b \\<or>\n   pmf (sds R27) a + (pmf (sds R27) c + pmf (sds R27) d)\n   < pmf (sds R13) a + (pmf (sds R13) b + pmf (sds R13) d)) \\<or>\n  pmf (sds R27) a = pmf (sds R13) a \\<and>\n  pmf (sds R27) a + pmf (sds R27) c =\n  pmf (sds R13) a + pmf (sds R13) b \\<and>\n  pmf (sds R27) a + (pmf (sds R27) c + pmf (sds R27) d) =\n  pmf (sds R13) a + (pmf (sds R13) b + pmf (sds R13) d)\n  0 \\<le> pmf (sds R13) a\n  0 \\<le> pmf (sds R13) b\n  0 \\<le> pmf (sds R13) c\n  0 \\<le> pmf (sds R13) d\n  pmf (sds R13) a + pmf (sds R13) b + pmf (sds R13) c + pmf (sds R13) d = 1\n\ngoal (1 subgoal):\n 1. (pmf (sds R13) b = 0 &&&\n     pmf (sds R13) c = 0 &&& pmf (sds R13) d = 1 - pmf (sds R13) a) &&&\n    pmf (sds R27) a = pmf (sds R13) a", "by auto"], ["", "lemma R13 [simp]: \"pmf (sds R13) a = 1/2\" \"pmf (sds R13) b = 0\" \"pmf (sds R13) c = 0\" \"pmf (sds R13) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R13) a = 1 / 2 &&& pmf (sds R13) b = 0) &&&\n    pmf (sds R13) c = 0 &&& pmf (sds R13) d = 1 / 2", "using R15_R13.strategyproofness(1) R13_R15.strategyproofness(1) R13_aux"], ["proof (prove)\nusing this:\n  pmf (sds R13) d + pmf (sds R13) b \\<le> pmf (sds R15) d + pmf (sds R15) c\n  (pmf (sds R15) d + pmf (sds R15) c\n   < pmf (sds R13) d + pmf (sds R13) b \\<or>\n   pmf (sds R15) d + (pmf (sds R15) c + pmf (sds R15) a)\n   < pmf (sds R13) d + (pmf (sds R13) b + pmf (sds R13) a)) \\<or>\n  pmf (sds R15) d + pmf (sds R15) c =\n  pmf (sds R13) d + pmf (sds R13) b \\<and>\n  pmf (sds R15) d + (pmf (sds R15) c + pmf (sds R15) a) =\n  pmf (sds R13) d + (pmf (sds R13) b + pmf (sds R13) a)\n  pmf (sds R13) b = 0\n  pmf (sds R13) c = 0\n  pmf (sds R13) d = 1 - pmf (sds R13) a\n\ngoal (1 subgoal):\n 1. (pmf (sds R13) a = 1 / 2 &&& pmf (sds R13) b = 0) &&&\n    pmf (sds R13) c = 0 &&& pmf (sds R13) d = 1 / 2", "by simp_all"], ["", "lemma R27 [simp]: \"pmf (sds R27) a = 1/2\" \"pmf (sds R27) b = 0\" \"pmf (sds R27) c = 0\" \"pmf (sds R27) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R27) a = 1 / 2 &&& pmf (sds R27) b = 0) &&&\n    pmf (sds R27) c = 0 &&& pmf (sds R27) d = 1 / 2", "by simp_all"], ["", "lemma R19 [simp]: \"pmf (sds R19) a = 1/2\" \"pmf (sds R19) b = 0\" \"pmf (sds R19) c = 0\" \"pmf (sds R19) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R19) a = 1 / 2 &&& pmf (sds R19) b = 0) &&&\n    pmf (sds R19) c = 0 &&& pmf (sds R19) d = 1 / 2", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0\n 4. pmf (sds R19) d = 1 / 2", "have \"pmf (sds R19) a = 1/2 \\<and> pmf (sds R19) b = 0 \\<and> pmf (sds R19) c = 0 \\<and> pmf (sds R19) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R19) a = 1 / 2 \\<and>\n    pmf (sds R19) b = 0 \\<and>\n    pmf (sds R19) c = 0 \\<and> pmf (sds R19) d = 1 / 2", "proof (rule disjE[OF R19.support]; safe)"], ["proof (state)\ngoal (6 subgoals):\n 1. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2\n 4. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 5. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) c = 0\n 6. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2", "assume [simp]: \"pmf (sds R19) b = 0\""], ["proof (state)\nthis:\n  pmf (sds R19) b = 0\n\ngoal (6 subgoals):\n 1. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2\n 4. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 5. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) c = 0\n 6. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2", "from R10_R19.strategyproofness(1) lottery_conditions[OF R19.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R19) a + pmf (sds R19) c\n   < pmf (sds R10) d + pmf (sds R10) b \\<or>\n   pmf (sds R19) a + (pmf (sds R19) c + pmf (sds R19) d)\n   < pmf (sds R10) d + (pmf (sds R10) b + pmf (sds R10) a)) \\<or>\n  pmf (sds R19) a + pmf (sds R19) c =\n  pmf (sds R10) d + pmf (sds R10) b \\<and>\n  pmf (sds R19) a + (pmf (sds R19) c + pmf (sds R19) d) =\n  pmf (sds R10) d + (pmf (sds R10) b + pmf (sds R10) a)\n  0 \\<le> pmf (sds R19) a\n  0 \\<le> pmf (sds R19) b\n  0 \\<le> pmf (sds R19) c\n  0 \\<le> pmf (sds R19) d\n  pmf (sds R19) a + pmf (sds R19) b + pmf (sds R19) c + pmf (sds R19) d = 1", "have \"pmf (sds R19) a + pmf (sds R19) c \\<le> 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R19) a + pmf (sds R19) c\n   < pmf (sds R10) d + pmf (sds R10) b \\<or>\n   pmf (sds R19) a + (pmf (sds R19) c + pmf (sds R19) d)\n   < pmf (sds R10) d + (pmf (sds R10) b + pmf (sds R10) a)) \\<or>\n  pmf (sds R19) a + pmf (sds R19) c =\n  pmf (sds R10) d + pmf (sds R10) b \\<and>\n  pmf (sds R19) a + (pmf (sds R19) c + pmf (sds R19) d) =\n  pmf (sds R10) d + (pmf (sds R10) b + pmf (sds R10) a)\n  0 \\<le> pmf (sds R19) a\n  0 \\<le> pmf (sds R19) b\n  0 \\<le> pmf (sds R19) c\n  0 \\<le> pmf (sds R19) d\n  pmf (sds R19) a + pmf (sds R19) b + pmf (sds R19) c + pmf (sds R19) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R19) a + pmf (sds R19) c \\<le> 1 / 2", "by auto"], ["proof (state)\nthis:\n  pmf (sds R19) a + pmf (sds R19) c \\<le> 1 / 2\n\ngoal (6 subgoals):\n 1. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2\n 4. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 5. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) c = 0\n 6. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2", "moreover"], ["proof (state)\nthis:\n  pmf (sds R19) a + pmf (sds R19) c \\<le> 1 / 2\n\ngoal (6 subgoals):\n 1. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2\n 4. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 5. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) c = 0\n 6. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2", "from R19_R10.strategyproofness(1)"], ["proof (chain)\npicking this:\n  pmf (sds R10) b + pmf (sds R10) d \\<le> pmf (sds R19) c + pmf (sds R19) a", "have \"pmf (sds R19) a + pmf (sds R19) c \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R10) b + pmf (sds R10) d \\<le> pmf (sds R19) c + pmf (sds R19) a\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R19) a + pmf (sds R19) c", "by simp"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R19) a + pmf (sds R19) c\n\ngoal (6 subgoals):\n 1. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2\n 4. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 5. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) c = 0\n 6. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2", "ultimately"], ["proof (chain)\npicking this:\n  pmf (sds R19) a + pmf (sds R19) c \\<le> 1 / 2\n  1 / 2 \\<le> pmf (sds R19) a + pmf (sds R19) c", "show \"pmf (sds R19) d = 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R19) a + pmf (sds R19) c \\<le> 1 / 2\n  1 / 2 \\<le> pmf (sds R19) a + pmf (sds R19) c\n\ngoal (1 subgoal):\n 1. pmf (sds R19) d = 1 / 2", "using lottery_conditions[OF R19.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R19) a + pmf (sds R19) c \\<le> 1 / 2\n  1 / 2 \\<le> pmf (sds R19) a + pmf (sds R19) c\n  0 \\<le> pmf (sds R19) a\n  0 \\<le> pmf (sds R19) b\n  0 \\<le> pmf (sds R19) c\n  0 \\<le> pmf (sds R19) d\n  pmf (sds R19) a + pmf (sds R19) b + pmf (sds R19) c + pmf (sds R19) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R19) d = 1 / 2", "by simp"], ["proof (state)\nthis:\n  pmf (sds R19) d = 1 / 2\n\ngoal (5 subgoals):\n 1. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2\n 4. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 5. pmf (sds R19) b = 0 \\<Longrightarrow> pmf (sds R19) c = 0", "with R27_R19.strategyproofness(1) lottery_conditions[OF R19.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R19) d + pmf (sds R19) c\n   < pmf (sds R27) d + pmf (sds R27) b \\<or>\n   pmf (sds R19) d + (pmf (sds R19) c + pmf (sds R19) a)\n   < pmf (sds R27) d + (pmf (sds R27) b + pmf (sds R27) a)) \\<or>\n  pmf (sds R19) d + pmf (sds R19) c =\n  pmf (sds R27) d + pmf (sds R27) b \\<and>\n  pmf (sds R19) d + (pmf (sds R19) c + pmf (sds R19) a) =\n  pmf (sds R27) d + (pmf (sds R27) b + pmf (sds R27) a)\n  0 \\<le> pmf (sds R19) a\n  0 \\<le> pmf (sds R19) b\n  0 \\<le> pmf (sds R19) c\n  0 \\<le> pmf (sds R19) d\n  pmf (sds R19) a + pmf (sds R19) b + pmf (sds R19) c + pmf (sds R19) d = 1\n  pmf (sds R19) d = 1 / 2", "show \"pmf (sds R19) a = 1/2\" \"pmf (sds R19) c = 0\""], ["proof (prove)\nusing this:\n  (pmf (sds R19) d + pmf (sds R19) c\n   < pmf (sds R27) d + pmf (sds R27) b \\<or>\n   pmf (sds R19) d + (pmf (sds R19) c + pmf (sds R19) a)\n   < pmf (sds R27) d + (pmf (sds R27) b + pmf (sds R27) a)) \\<or>\n  pmf (sds R19) d + pmf (sds R19) c =\n  pmf (sds R27) d + pmf (sds R27) b \\<and>\n  pmf (sds R19) d + (pmf (sds R19) c + pmf (sds R19) a) =\n  pmf (sds R27) d + (pmf (sds R27) b + pmf (sds R27) a)\n  0 \\<le> pmf (sds R19) a\n  0 \\<le> pmf (sds R19) b\n  0 \\<le> pmf (sds R19) c\n  0 \\<le> pmf (sds R19) d\n  pmf (sds R19) a + pmf (sds R19) b + pmf (sds R19) c + pmf (sds R19) d = 1\n  pmf (sds R19) d = 1 / 2\n\ngoal (1 subgoal):\n 1. pmf (sds R19) a = 1 / 2 &&& pmf (sds R19) c = 0", "by auto"], ["proof (state)\nthis:\n  pmf (sds R19) a = 1 / 2\n  pmf (sds R19) c = 0\n\ngoal (3 subgoals):\n 1. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2", "assume [simp]: \"pmf (sds R19) c = 0\""], ["proof (state)\nthis:\n  pmf (sds R19) c = 0\n\ngoal (3 subgoals):\n 1. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2", "from R19_R10.strategyproofness(1)"], ["proof (chain)\npicking this:\n  pmf (sds R10) b + pmf (sds R10) d \\<le> pmf (sds R19) c + pmf (sds R19) a", "have \"pmf (sds R19) a \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R10) b + pmf (sds R10) d \\<le> pmf (sds R19) c + pmf (sds R19) a\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R19) a", "by auto"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R19) a\n\ngoal (3 subgoals):\n 1. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2", "moreover"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R19) a\n\ngoal (3 subgoals):\n 1. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2", "from R19_R27.strategyproofness(1)"], ["proof (chain)\npicking this:\n  pmf (sds R27) d + pmf (sds R27) b \\<le> pmf (sds R19) d + pmf (sds R19) c", "have \"pmf (sds R19) d \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R27) d + pmf (sds R27) b \\<le> pmf (sds R19) d + pmf (sds R19) c\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R19) d", "by auto"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R19) d\n\ngoal (3 subgoals):\n 1. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0 \\<Longrightarrow> pmf (sds R19) d = 1 / 2", "ultimately"], ["proof (chain)\npicking this:\n  1 / 2 \\<le> pmf (sds R19) a\n  1 / 2 \\<le> pmf (sds R19) d", "show \"pmf (sds R19) a = 1/2\" \"pmf (sds R19) d = 1/2\" \"pmf (sds R19) b = 0\""], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R19) a\n  1 / 2 \\<le> pmf (sds R19) d\n\ngoal (1 subgoal):\n 1. pmf (sds R19) a = 1 / 2 &&&\n    pmf (sds R19) d = 1 / 2 &&& pmf (sds R19) b = 0", "using lottery_conditions[OF R19.wf]"], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R19) a\n  1 / 2 \\<le> pmf (sds R19) d\n  0 \\<le> pmf (sds R19) a\n  0 \\<le> pmf (sds R19) b\n  0 \\<le> pmf (sds R19) c\n  0 \\<le> pmf (sds R19) d\n  pmf (sds R19) a + pmf (sds R19) b + pmf (sds R19) c + pmf (sds R19) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R19) a = 1 / 2 &&&\n    pmf (sds R19) d = 1 / 2 &&& pmf (sds R19) b = 0", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R19) a = 1 / 2\n  pmf (sds R19) d = 1 / 2\n  pmf (sds R19) b = 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  pmf (sds R19) a = 1 / 2 \\<and>\n  pmf (sds R19) b = 0 \\<and>\n  pmf (sds R19) c = 0 \\<and> pmf (sds R19) d = 1 / 2\n\ngoal (4 subgoals):\n 1. pmf (sds R19) a = 1 / 2\n 2. pmf (sds R19) b = 0\n 3. pmf (sds R19) c = 0\n 4. pmf (sds R19) d = 1 / 2", "thus \"pmf (sds R19) a = 1/2\" \"pmf (sds R19) b = 0\" \"pmf (sds R19) c = 0\" \"pmf (sds R19) d = 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R19) a = 1 / 2 \\<and>\n  pmf (sds R19) b = 0 \\<and>\n  pmf (sds R19) c = 0 \\<and> pmf (sds R19) d = 1 / 2\n\ngoal (1 subgoal):\n 1. (pmf (sds R19) a = 1 / 2 &&& pmf (sds R19) b = 0) &&&\n    pmf (sds R19) c = 0 &&& pmf (sds R19) d = 1 / 2", "by blast+"], ["proof (state)\nthis:\n  pmf (sds R19) a = 1 / 2\n  pmf (sds R19) b = 0\n  pmf (sds R19) c = 0\n  pmf (sds R19) d = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R1 [simp]: \"pmf (sds R1) a = 1/2\" \"pmf (sds R1) b = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R1) a = 1 / 2 &&& pmf (sds R1) b = 0", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. pmf (sds R1) a = 1 / 2\n 2. pmf (sds R1) b = 0", "from R19_R1.strategyproofness(1) lottery_conditions[OF R1.wf]"], ["proof (chain)\npicking this:\n  pmf (sds R1) b + pmf (sds R1) a \\<le> pmf (sds R19) b + pmf (sds R19) a\n  0 \\<le> pmf (sds R1) a\n  0 \\<le> pmf (sds R1) b\n  0 \\<le> pmf (sds R1) c\n  0 \\<le> pmf (sds R1) d\n  pmf (sds R1) a + pmf (sds R1) b + pmf (sds R1) c + pmf (sds R1) d = 1", "have \"pmf (sds R1) a + pmf (sds R1) b \\<le> 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R1) b + pmf (sds R1) a \\<le> pmf (sds R19) b + pmf (sds R19) a\n  0 \\<le> pmf (sds R1) a\n  0 \\<le> pmf (sds R1) b\n  0 \\<le> pmf (sds R1) c\n  0 \\<le> pmf (sds R1) d\n  pmf (sds R1) a + pmf (sds R1) b + pmf (sds R1) c + pmf (sds R1) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R1) a + pmf (sds R1) b \\<le> 1 / 2", "by simp"], ["proof (state)\nthis:\n  pmf (sds R1) a + pmf (sds R1) b \\<le> 1 / 2\n\ngoal (2 subgoals):\n 1. pmf (sds R1) a = 1 / 2\n 2. pmf (sds R1) b = 0", "with R1_R19.strategyproofness(1) lottery_conditions[OF R1.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R19) a < pmf (sds R1) a \\<or>\n   pmf (sds R19) a + pmf (sds R19) b\n   < pmf (sds R1) a + pmf (sds R1) b) \\<or>\n  pmf (sds R19) a = pmf (sds R1) a \\<and>\n  pmf (sds R19) a + pmf (sds R19) b = pmf (sds R1) a + pmf (sds R1) b\n  0 \\<le> pmf (sds R1) a\n  0 \\<le> pmf (sds R1) b\n  0 \\<le> pmf (sds R1) c\n  0 \\<le> pmf (sds R1) d\n  pmf (sds R1) a + pmf (sds R1) b + pmf (sds R1) c + pmf (sds R1) d = 1\n  pmf (sds R1) a + pmf (sds R1) b \\<le> 1 / 2", "show \"pmf (sds R1) a = 1/2\" \"pmf (sds R1) b = 0\""], ["proof (prove)\nusing this:\n  (pmf (sds R19) a < pmf (sds R1) a \\<or>\n   pmf (sds R19) a + pmf (sds R19) b\n   < pmf (sds R1) a + pmf (sds R1) b) \\<or>\n  pmf (sds R19) a = pmf (sds R1) a \\<and>\n  pmf (sds R19) a + pmf (sds R19) b = pmf (sds R1) a + pmf (sds R1) b\n  0 \\<le> pmf (sds R1) a\n  0 \\<le> pmf (sds R1) b\n  0 \\<le> pmf (sds R1) c\n  0 \\<le> pmf (sds R1) d\n  pmf (sds R1) a + pmf (sds R1) b + pmf (sds R1) c + pmf (sds R1) d = 1\n  pmf (sds R1) a + pmf (sds R1) b \\<le> 1 / 2\n\ngoal (1 subgoal):\n 1. pmf (sds R1) a = 1 / 2 &&& pmf (sds R1) b = 0", "by auto"], ["proof (state)\nthis:\n  pmf (sds R1) a = 1 / 2\n  pmf (sds R1) b = 0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R22 [simp]: \"pmf (sds R22) a = 1/2\" \"pmf (sds R22) b = 0\" \"pmf (sds R22) c = 0\" \"pmf (sds R22) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R22) a = 1 / 2 &&& pmf (sds R22) b = 0) &&&\n    pmf (sds R22) c = 0 &&& pmf (sds R22) d = 1 / 2", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R22) a = 1 / 2\n 2. pmf (sds R22) b = 0\n 3. pmf (sds R22) c = 0\n 4. pmf (sds R22) d = 1 / 2", "from R33_R5.strategyproofness(1) R33.support"], ["proof (chain)\npicking this:\n  (pmf (sds R5) a < pmf (sds R33) a \\<or>\n   pmf (sds R5) a + pmf (sds R5) b\n   < pmf (sds R33) a + pmf (sds R33) b) \\<or>\n  pmf (sds R5) a = pmf (sds R33) a \\<and>\n  pmf (sds R5) a + pmf (sds R5) b = pmf (sds R33) a + pmf (sds R33) b\n  pmf (sds R33) b = 0", "have \"1/2 \\<le> pmf (sds R33) a\""], ["proof (prove)\nusing this:\n  (pmf (sds R5) a < pmf (sds R33) a \\<or>\n   pmf (sds R5) a + pmf (sds R5) b\n   < pmf (sds R33) a + pmf (sds R33) b) \\<or>\n  pmf (sds R5) a = pmf (sds R33) a \\<and>\n  pmf (sds R5) a + pmf (sds R5) b = pmf (sds R33) a + pmf (sds R33) b\n  pmf (sds R33) b = 0\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R33) a", "by auto"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R33) a\n\ngoal (4 subgoals):\n 1. pmf (sds R22) a = 1 / 2\n 2. pmf (sds R22) b = 0\n 3. pmf (sds R22) c = 0\n 4. pmf (sds R22) d = 1 / 2", "also"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R33) a\n\ngoal (4 subgoals):\n 1. pmf (sds R22) a = 1 / 2\n 2. pmf (sds R22) b = 0\n 3. pmf (sds R22) c = 0\n 4. pmf (sds R22) d = 1 / 2", "from R33_R22.strategyproofness(1) R22.support R33.support \n    lottery_conditions[OF R22.wf] lottery_conditions[OF R33.wf]"], ["proof (chain)\npicking this:\n  pmf (sds R22) d + pmf (sds R22) c \\<le> pmf (sds R33) d + pmf (sds R33) c\n  pmf (sds R22) b = 0\n  pmf (sds R33) b = 0\n  0 \\<le> pmf (sds R22) a\n  0 \\<le> pmf (sds R22) b\n  0 \\<le> pmf (sds R22) c\n  0 \\<le> pmf (sds R22) d\n  pmf (sds R22) a + pmf (sds R22) b + pmf (sds R22) c + pmf (sds R22) d = 1\n  0 \\<le> pmf (sds R33) a\n  0 \\<le> pmf (sds R33) b\n  0 \\<le> pmf (sds R33) c\n  0 \\<le> pmf (sds R33) d\n  pmf (sds R33) a + pmf (sds R33) b + pmf (sds R33) c + pmf (sds R33) d = 1", "have \"\\<dots> \\<le> pmf (sds R22) a\""], ["proof (prove)\nusing this:\n  pmf (sds R22) d + pmf (sds R22) c \\<le> pmf (sds R33) d + pmf (sds R33) c\n  pmf (sds R22) b = 0\n  pmf (sds R33) b = 0\n  0 \\<le> pmf (sds R22) a\n  0 \\<le> pmf (sds R22) b\n  0 \\<le> pmf (sds R22) c\n  0 \\<le> pmf (sds R22) d\n  pmf (sds R22) a + pmf (sds R22) b + pmf (sds R22) c + pmf (sds R22) d = 1\n  0 \\<le> pmf (sds R33) a\n  0 \\<le> pmf (sds R33) b\n  0 \\<le> pmf (sds R33) c\n  0 \\<le> pmf (sds R33) d\n  pmf (sds R33) a + pmf (sds R33) b + pmf (sds R33) c + pmf (sds R33) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R33) a \\<le> pmf (sds R22) a", "by simp"], ["proof (state)\nthis:\n  pmf (sds R33) a \\<le> pmf (sds R22) a\n\ngoal (4 subgoals):\n 1. pmf (sds R22) a = 1 / 2\n 2. pmf (sds R22) b = 0\n 3. pmf (sds R22) c = 0\n 4. pmf (sds R22) d = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  1 / 2 \\<le> pmf (sds R22) a", "show \"pmf (sds R22) a = 1/2\" \"pmf (sds R22) b = 0\" \"pmf (sds R22) c = 0\" \"pmf (sds R22) d = 1/2\""], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R22) a\n\ngoal (1 subgoal):\n 1. (pmf (sds R22) a = 1 / 2 &&& pmf (sds R22) b = 0) &&&\n    pmf (sds R22) c = 0 &&& pmf (sds R22) d = 1 / 2", "using R22_R29.strategyproofness(1) lottery_conditions[OF R22.wf]"], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R22) a\n  (pmf (sds R29) a < pmf (sds R22) d \\<or>\n   pmf (sds R29) a + (pmf (sds R29) c + pmf (sds R29) d)\n   < pmf (sds R22) d + (pmf (sds R22) b + pmf (sds R22) a)) \\<or>\n  pmf (sds R29) a = pmf (sds R22) d \\<and>\n  pmf (sds R29) a + (pmf (sds R29) c + pmf (sds R29) d) =\n  pmf (sds R22) d + (pmf (sds R22) b + pmf (sds R22) a)\n  0 \\<le> pmf (sds R22) a\n  0 \\<le> pmf (sds R22) b\n  0 \\<le> pmf (sds R22) c\n  0 \\<le> pmf (sds R22) d\n  pmf (sds R22) a + pmf (sds R22) b + pmf (sds R22) c + pmf (sds R22) d = 1\n\ngoal (1 subgoal):\n 1. (pmf (sds R22) a = 1 / 2 &&& pmf (sds R22) b = 0) &&&\n    pmf (sds R22) c = 0 &&& pmf (sds R22) d = 1 / 2", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R22) a = 1 / 2\n  pmf (sds R22) b = 0\n  pmf (sds R22) c = 0\n  pmf (sds R22) d = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R28 [simp]: \"pmf (sds R28) a = 1/2\" \"pmf (sds R28) b = 0\" \"pmf (sds R28) c = 0\" \"pmf (sds R28) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R28) a = 1 / 2 &&& pmf (sds R28) b = 0) &&&\n    pmf (sds R28) c = 0 &&& pmf (sds R28) d = 1 / 2", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R28) a = 1 / 2\n 2. pmf (sds R28) b = 0\n 3. pmf (sds R28) c = 0\n 4. pmf (sds R28) d = 1 / 2", "have \"pmf (sds R28) a \\<le> pmf (sds R32) d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R28) a \\<le> pmf (sds R32) d", "using R32_R28.strategyproofness(1) lottery_conditions[OF R32.wf]"], ["proof (prove)\nusing this:\n  (pmf (sds R28) a < pmf (sds R32) d \\<or>\n   pmf (sds R28) a + (pmf (sds R28) c + pmf (sds R28) d)\n   < pmf (sds R32) d + (pmf (sds R32) b + pmf (sds R32) a)) \\<or>\n  pmf (sds R28) a = pmf (sds R32) d \\<and>\n  pmf (sds R28) a + (pmf (sds R28) c + pmf (sds R28) d) =\n  pmf (sds R32) d + (pmf (sds R32) b + pmf (sds R32) a)\n  0 \\<le> pmf (sds R32) a\n  0 \\<le> pmf (sds R32) b\n  0 \\<le> pmf (sds R32) c\n  0 \\<le> pmf (sds R32) d\n  pmf (sds R32) a + pmf (sds R32) b + pmf (sds R32) c + pmf (sds R32) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R28) a \\<le> pmf (sds R32) d", "by auto"], ["proof (state)\nthis:\n  pmf (sds R28) a \\<le> pmf (sds R32) d\n\ngoal (4 subgoals):\n 1. pmf (sds R28) a = 1 / 2\n 2. pmf (sds R28) b = 0\n 3. pmf (sds R28) c = 0\n 4. pmf (sds R28) d = 1 / 2", "hence R32_d: \"pmf (sds R32) d = pmf (sds R28) a\""], ["proof (prove)\nusing this:\n  pmf (sds R28) a \\<le> pmf (sds R32) d\n\ngoal (1 subgoal):\n 1. pmf (sds R32) d = pmf (sds R28) a", "using R28_R32.strategyproofness(1) lottery_conditions[OF R32.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R28) a \\<le> pmf (sds R32) d\n  (pmf (sds R32) d < pmf (sds R28) a \\<or>\n   pmf (sds R32) d + pmf (sds R32) b\n   < pmf (sds R28) a + pmf (sds R28) c) \\<or>\n  pmf (sds R32) d = pmf (sds R28) a \\<and>\n  pmf (sds R32) d + pmf (sds R32) b = pmf (sds R28) a + pmf (sds R28) c\n  0 \\<le> pmf (sds R32) a\n  0 \\<le> pmf (sds R32) b\n  0 \\<le> pmf (sds R32) c\n  0 \\<le> pmf (sds R32) d\n  pmf (sds R32) a + pmf (sds R32) b + pmf (sds R32) c + pmf (sds R32) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R32) d = pmf (sds R28) a", "by auto"], ["proof (state)\nthis:\n  pmf (sds R32) d = pmf (sds R28) a\n\ngoal (4 subgoals):\n 1. pmf (sds R28) a = 1 / 2\n 2. pmf (sds R28) b = 0\n 3. pmf (sds R28) c = 0\n 4. pmf (sds R28) d = 1 / 2", "from R22_R32.strategyproofness(1) lottery_conditions[OF R32.wf] R32.support"], ["proof (chain)\npicking this:\n  (pmf (sds R32) a < pmf (sds R22) a \\<or>\n   pmf (sds R32) a + pmf (sds R32) b\n   < pmf (sds R22) a + pmf (sds R22) b) \\<or>\n  pmf (sds R32) a = pmf (sds R22) a \\<and>\n  pmf (sds R32) a + pmf (sds R32) b = pmf (sds R22) a + pmf (sds R22) b\n  0 \\<le> pmf (sds R32) a\n  0 \\<le> pmf (sds R32) b\n  0 \\<le> pmf (sds R32) c\n  0 \\<le> pmf (sds R32) d\n  pmf (sds R32) a + pmf (sds R32) b + pmf (sds R32) c + pmf (sds R32) d = 1\n  pmf (sds R32) b = 0", "have \"pmf (sds R32) a \\<le> 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R32) a < pmf (sds R22) a \\<or>\n   pmf (sds R32) a + pmf (sds R32) b\n   < pmf (sds R22) a + pmf (sds R22) b) \\<or>\n  pmf (sds R32) a = pmf (sds R22) a \\<and>\n  pmf (sds R32) a + pmf (sds R32) b = pmf (sds R22) a + pmf (sds R22) b\n  0 \\<le> pmf (sds R32) a\n  0 \\<le> pmf (sds R32) b\n  0 \\<le> pmf (sds R32) c\n  0 \\<le> pmf (sds R32) d\n  pmf (sds R32) a + pmf (sds R32) b + pmf (sds R32) c + pmf (sds R32) d = 1\n  pmf (sds R32) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R32) a \\<le> 1 / 2", "by auto"], ["proof (state)\nthis:\n  pmf (sds R32) a \\<le> 1 / 2\n\ngoal (4 subgoals):\n 1. pmf (sds R28) a = 1 / 2\n 2. pmf (sds R28) b = 0\n 3. pmf (sds R28) c = 0\n 4. pmf (sds R28) d = 1 / 2", "with R32_R22.strategyproofness(1) lottery_conditions[OF R32.wf] R32.support"], ["proof (chain)\npicking this:\n  (pmf (sds R22) b + pmf (sds R22) a\n   < pmf (sds R32) b + pmf (sds R32) a \\<or>\n   pmf (sds R22) b + (pmf (sds R22) a + pmf (sds R22) d)\n   < pmf (sds R32) b + (pmf (sds R32) a + pmf (sds R32) d)) \\<or>\n  pmf (sds R22) b + pmf (sds R22) a =\n  pmf (sds R32) b + pmf (sds R32) a \\<and>\n  pmf (sds R22) b + (pmf (sds R22) a + pmf (sds R22) d) =\n  pmf (sds R32) b + (pmf (sds R32) a + pmf (sds R32) d)\n  0 \\<le> pmf (sds R32) a\n  0 \\<le> pmf (sds R32) b\n  0 \\<le> pmf (sds R32) c\n  0 \\<le> pmf (sds R32) d\n  pmf (sds R32) a + pmf (sds R32) b + pmf (sds R32) c + pmf (sds R32) d = 1\n  pmf (sds R32) b = 0\n  pmf (sds R32) a \\<le> 1 / 2", "show \"pmf (sds R28) a = 1/2\" \"pmf (sds R28) b = 0\" \"pmf (sds R28) c = 0\" \"pmf (sds R28) d = 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R22) b + pmf (sds R22) a\n   < pmf (sds R32) b + pmf (sds R32) a \\<or>\n   pmf (sds R22) b + (pmf (sds R22) a + pmf (sds R22) d)\n   < pmf (sds R32) b + (pmf (sds R32) a + pmf (sds R32) d)) \\<or>\n  pmf (sds R22) b + pmf (sds R22) a =\n  pmf (sds R32) b + pmf (sds R32) a \\<and>\n  pmf (sds R22) b + (pmf (sds R22) a + pmf (sds R22) d) =\n  pmf (sds R32) b + (pmf (sds R32) a + pmf (sds R32) d)\n  0 \\<le> pmf (sds R32) a\n  0 \\<le> pmf (sds R32) b\n  0 \\<le> pmf (sds R32) c\n  0 \\<le> pmf (sds R32) d\n  pmf (sds R32) a + pmf (sds R32) b + pmf (sds R32) c + pmf (sds R32) d = 1\n  pmf (sds R32) b = 0\n  pmf (sds R32) a \\<le> 1 / 2\n\ngoal (1 subgoal):\n 1. (pmf (sds R28) a = 1 / 2 &&& pmf (sds R28) b = 0) &&&\n    pmf (sds R28) c = 0 &&& pmf (sds R28) d = 1 / 2", "by (auto simp: R32_d simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R28) a = 1 / 2\n  pmf (sds R28) b = 0\n  pmf (sds R28) c = 0\n  pmf (sds R28) d = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R39 [simp]: \"pmf (sds R39) a = 1/2\" \"pmf (sds R39) b = 0\" \"pmf (sds R39) c = 0\" \"pmf (sds R39) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R39) a = 1 / 2 &&& pmf (sds R39) b = 0) &&&\n    pmf (sds R39) c = 0 &&& pmf (sds R39) d = 1 / 2", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R39) a = 1 / 2\n 2. pmf (sds R39) b = 0\n 3. pmf (sds R39) c = 0\n 4. pmf (sds R39) d = 1 / 2", "from R28_R39.strategyproofness(1)"], ["proof (chain)\npicking this:\n  (pmf (sds R39) a < pmf (sds R28) a \\<or>\n   pmf (sds R39) a + pmf (sds R39) c\n   < pmf (sds R28) a + pmf (sds R28) b) \\<or>\n  pmf (sds R39) a = pmf (sds R28) a \\<and>\n  pmf (sds R39) a + pmf (sds R39) c = pmf (sds R28) a + pmf (sds R28) b", "show \"pmf (sds R39) c = 0\""], ["proof (prove)\nusing this:\n  (pmf (sds R39) a < pmf (sds R28) a \\<or>\n   pmf (sds R39) a + pmf (sds R39) c\n   < pmf (sds R28) a + pmf (sds R28) b) \\<or>\n  pmf (sds R39) a = pmf (sds R28) a \\<and>\n  pmf (sds R39) a + pmf (sds R39) c = pmf (sds R28) a + pmf (sds R28) b\n\ngoal (1 subgoal):\n 1. pmf (sds R39) c = 0", "by simp"], ["proof (state)\nthis:\n  pmf (sds R39) c = 0\n\ngoal (3 subgoals):\n 1. pmf (sds R39) a = 1 / 2\n 2. pmf (sds R39) b = 0\n 3. pmf (sds R39) d = 1 / 2", "thus \"pmf (sds R39) a = 1/2\" \"pmf (sds R39) b = 0\" \"pmf (sds R39) d = 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R39) c = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R39) a = 1 / 2 &&&\n    pmf (sds R39) b = 0 &&& pmf (sds R39) d = 1 / 2", "by simp_all"], ["proof (state)\nthis:\n  pmf (sds R39) a = 1 / 2\n  pmf (sds R39) b = 0\n  pmf (sds R39) d = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R2 [simp]: \"pmf (sds R2) a = 1/2\" \"pmf (sds R2) b = 0\" \"pmf (sds R2) c = 0\" \"pmf (sds R2) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R2) a = 1 / 2 &&& pmf (sds R2) b = 0) &&&\n    pmf (sds R2) c = 0 &&& pmf (sds R2) d = 1 / 2", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R2) a = 1 / 2\n 2. pmf (sds R2) b = 0\n 3. pmf (sds R2) c = 0\n 4. pmf (sds R2) d = 1 / 2", "from R1_R2.strategyproofness(1) R2_R1.strategyproofness(1) lottery_conditions[OF R2.wf] lottery_conditions[OF R1.wf]"], ["proof (chain)\npicking this:\n  pmf (sds R2) d + pmf (sds R2) c \\<le> pmf (sds R1) d + pmf (sds R1) c\n  (pmf (sds R1) d + pmf (sds R1) c < pmf (sds R2) d + pmf (sds R2) c \\<or>\n   pmf (sds R1) d + (pmf (sds R1) c + pmf (sds R1) a)\n   < pmf (sds R2) d + (pmf (sds R2) c + pmf (sds R2) a)) \\<or>\n  pmf (sds R1) d + pmf (sds R1) c = pmf (sds R2) d + pmf (sds R2) c \\<and>\n  pmf (sds R1) d + (pmf (sds R1) c + pmf (sds R1) a) =\n  pmf (sds R2) d + (pmf (sds R2) c + pmf (sds R2) a)\n  0 \\<le> pmf (sds R2) a\n  0 \\<le> pmf (sds R2) b\n  0 \\<le> pmf (sds R2) c\n  0 \\<le> pmf (sds R2) d\n  pmf (sds R2) a + pmf (sds R2) b + pmf (sds R2) c + pmf (sds R2) d = 1\n  0 \\<le> pmf (sds R1) a\n  0 \\<le> pmf (sds R1) b\n  0 \\<le> pmf (sds R1) c\n  0 \\<le> pmf (sds R1) d\n  pmf (sds R1) a + pmf (sds R1) b + pmf (sds R1) c + pmf (sds R1) d = 1", "have \"pmf (sds R2) a = 1/2\" \"pmf (sds R2) c + pmf (sds R2) d = 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R2) d + pmf (sds R2) c \\<le> pmf (sds R1) d + pmf (sds R1) c\n  (pmf (sds R1) d + pmf (sds R1) c < pmf (sds R2) d + pmf (sds R2) c \\<or>\n   pmf (sds R1) d + (pmf (sds R1) c + pmf (sds R1) a)\n   < pmf (sds R2) d + (pmf (sds R2) c + pmf (sds R2) a)) \\<or>\n  pmf (sds R1) d + pmf (sds R1) c = pmf (sds R2) d + pmf (sds R2) c \\<and>\n  pmf (sds R1) d + (pmf (sds R1) c + pmf (sds R1) a) =\n  pmf (sds R2) d + (pmf (sds R2) c + pmf (sds R2) a)\n  0 \\<le> pmf (sds R2) a\n  0 \\<le> pmf (sds R2) b\n  0 \\<le> pmf (sds R2) c\n  0 \\<le> pmf (sds R2) d\n  pmf (sds R2) a + pmf (sds R2) b + pmf (sds R2) c + pmf (sds R2) d = 1\n  0 \\<le> pmf (sds R1) a\n  0 \\<le> pmf (sds R1) b\n  0 \\<le> pmf (sds R1) c\n  0 \\<le> pmf (sds R1) d\n  pmf (sds R1) a + pmf (sds R1) b + pmf (sds R1) c + pmf (sds R1) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R2) a = 1 / 2 &&& pmf (sds R2) c + pmf (sds R2) d = 1 / 2", "by (auto simp: algebra_simps simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R2) a = 1 / 2\n  pmf (sds R2) c + pmf (sds R2) d = 1 / 2\n\ngoal (4 subgoals):\n 1. pmf (sds R2) a = 1 / 2\n 2. pmf (sds R2) b = 0\n 3. pmf (sds R2) c = 0\n 4. pmf (sds R2) d = 1 / 2", "with R39_R2.strategyproofness(1) lottery_conditions[OF R2.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R2) c + pmf (sds R2) a < pmf (sds R39) c + pmf (sds R39) a \\<or>\n   pmf (sds R2) c + (pmf (sds R2) a + pmf (sds R2) d)\n   < pmf (sds R39) c + (pmf (sds R39) a + pmf (sds R39) d)) \\<or>\n  pmf (sds R2) c + pmf (sds R2) a = pmf (sds R39) c + pmf (sds R39) a \\<and>\n  pmf (sds R2) c + (pmf (sds R2) a + pmf (sds R2) d) =\n  pmf (sds R39) c + (pmf (sds R39) a + pmf (sds R39) d)\n  0 \\<le> pmf (sds R2) a\n  0 \\<le> pmf (sds R2) b\n  0 \\<le> pmf (sds R2) c\n  0 \\<le> pmf (sds R2) d\n  pmf (sds R2) a + pmf (sds R2) b + pmf (sds R2) c + pmf (sds R2) d = 1\n  pmf (sds R2) a = 1 / 2\n  pmf (sds R2) c + pmf (sds R2) d = 1 / 2", "show \"pmf (sds R2) a = 1/2\" \"pmf (sds R2) b = 0\" \"pmf (sds R2) c = 0\" \"pmf (sds R2) d = 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R2) c + pmf (sds R2) a < pmf (sds R39) c + pmf (sds R39) a \\<or>\n   pmf (sds R2) c + (pmf (sds R2) a + pmf (sds R2) d)\n   < pmf (sds R39) c + (pmf (sds R39) a + pmf (sds R39) d)) \\<or>\n  pmf (sds R2) c + pmf (sds R2) a = pmf (sds R39) c + pmf (sds R39) a \\<and>\n  pmf (sds R2) c + (pmf (sds R2) a + pmf (sds R2) d) =\n  pmf (sds R39) c + (pmf (sds R39) a + pmf (sds R39) d)\n  0 \\<le> pmf (sds R2) a\n  0 \\<le> pmf (sds R2) b\n  0 \\<le> pmf (sds R2) c\n  0 \\<le> pmf (sds R2) d\n  pmf (sds R2) a + pmf (sds R2) b + pmf (sds R2) c + pmf (sds R2) d = 1\n  pmf (sds R2) a = 1 / 2\n  pmf (sds R2) c + pmf (sds R2) d = 1 / 2\n\ngoal (1 subgoal):\n 1. (pmf (sds R2) a = 1 / 2 &&& pmf (sds R2) b = 0) &&&\n    pmf (sds R2) c = 0 &&& pmf (sds R2) d = 1 / 2", "by auto"], ["proof (state)\nthis:\n  pmf (sds R2) a = 1 / 2\n  pmf (sds R2) b = 0\n  pmf (sds R2) c = 0\n  pmf (sds R2) d = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R42 [simp]: \"pmf (sds R42) a = 0\" \"pmf (sds R42) b = 0\" \"pmf (sds R42) c = 1/2\" \"pmf (sds R42) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R42) a = 0 &&& pmf (sds R42) b = 0) &&&\n    pmf (sds R42) c = 1 / 2 &&& pmf (sds R42) d = 1 / 2", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "from R17_R5.strategyproofness(1) lottery_conditions[OF R17.wf] R17.support"], ["proof (chain)\npicking this:\n  pmf (sds R5) c + pmf (sds R5) a \\<le> pmf (sds R17) c + pmf (sds R17) a\n  0 \\<le> pmf (sds R17) a\n  0 \\<le> pmf (sds R17) b\n  0 \\<le> pmf (sds R17) c\n  0 \\<le> pmf (sds R17) d\n  pmf (sds R17) a + pmf (sds R17) b + pmf (sds R17) c + pmf (sds R17) d = 1\n  pmf (sds R17) b = 0", "have \"pmf (sds R17) d \\<le> 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R5) c + pmf (sds R5) a \\<le> pmf (sds R17) c + pmf (sds R17) a\n  0 \\<le> pmf (sds R17) a\n  0 \\<le> pmf (sds R17) b\n  0 \\<le> pmf (sds R17) c\n  0 \\<le> pmf (sds R17) d\n  pmf (sds R17) a + pmf (sds R17) b + pmf (sds R17) c + pmf (sds R17) d = 1\n  pmf (sds R17) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R17) d \\<le> 1 / 2", "by auto"], ["proof (state)\nthis:\n  pmf (sds R17) d \\<le> 1 / 2\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "moreover"], ["proof (state)\nthis:\n  pmf (sds R17) d \\<le> 1 / 2\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "from R5_R17.strategyproofness(1) R17.support lottery_conditions[OF R17.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R17) c + pmf (sds R17) a < pmf (sds R5) c + pmf (sds R5) a \\<or>\n   pmf (sds R17) c + (pmf (sds R17) a + pmf (sds R17) d)\n   < pmf (sds R5) c + (pmf (sds R5) a + pmf (sds R5) d)) \\<or>\n  pmf (sds R17) c + pmf (sds R17) a = pmf (sds R5) c + pmf (sds R5) a \\<and>\n  pmf (sds R17) c + (pmf (sds R17) a + pmf (sds R17) d) =\n  pmf (sds R5) c + (pmf (sds R5) a + pmf (sds R5) d)\n  pmf (sds R17) b = 0\n  0 \\<le> pmf (sds R17) a\n  0 \\<le> pmf (sds R17) b\n  0 \\<le> pmf (sds R17) c\n  0 \\<le> pmf (sds R17) d\n  pmf (sds R17) a + pmf (sds R17) b + pmf (sds R17) c + pmf (sds R17) d = 1", "have \"pmf (sds R17) d \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R17) c + pmf (sds R17) a < pmf (sds R5) c + pmf (sds R5) a \\<or>\n   pmf (sds R17) c + (pmf (sds R17) a + pmf (sds R17) d)\n   < pmf (sds R5) c + (pmf (sds R5) a + pmf (sds R5) d)) \\<or>\n  pmf (sds R17) c + pmf (sds R17) a = pmf (sds R5) c + pmf (sds R5) a \\<and>\n  pmf (sds R17) c + (pmf (sds R17) a + pmf (sds R17) d) =\n  pmf (sds R5) c + (pmf (sds R5) a + pmf (sds R5) d)\n  pmf (sds R17) b = 0\n  0 \\<le> pmf (sds R17) a\n  0 \\<le> pmf (sds R17) b\n  0 \\<le> pmf (sds R17) c\n  0 \\<le> pmf (sds R17) d\n  pmf (sds R17) a + pmf (sds R17) b + pmf (sds R17) c + pmf (sds R17) d = 1\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R17) d", "by auto"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R17) d\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "ultimately"], ["proof (chain)\npicking this:\n  pmf (sds R17) d \\<le> 1 / 2\n  1 / 2 \\<le> pmf (sds R17) d", "have R17_d: \"pmf (sds R17) d = 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R17) d \\<le> 1 / 2\n  1 / 2 \\<le> pmf (sds R17) d\n\ngoal (1 subgoal):\n 1. pmf (sds R17) d = 1 / 2", "by simp"], ["proof (state)\nthis:\n  pmf (sds R17) d = 1 / 2\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "from R6_R42.strategyproofness(1)"], ["proof (chain)\npicking this:\n  pmf (sds R42) c + pmf (sds R42) a \\<le> pmf (sds R6) c + pmf (sds R6) a", "have \"pmf (sds R42) a + pmf (sds R42) c \\<le> pmf (sds R6) a + pmf (sds R6) c\""], ["proof (prove)\nusing this:\n  pmf (sds R42) c + pmf (sds R42) a \\<le> pmf (sds R6) c + pmf (sds R6) a\n\ngoal (1 subgoal):\n 1. pmf (sds R42) a + pmf (sds R42) c \\<le> pmf (sds R6) a + pmf (sds R6) c", "by simp"], ["proof (state)\nthis:\n  pmf (sds R42) a + pmf (sds R42) c \\<le> pmf (sds R6) a + pmf (sds R6) c\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "also"], ["proof (state)\nthis:\n  pmf (sds R42) a + pmf (sds R42) c \\<le> pmf (sds R6) a + pmf (sds R6) c\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "from R6_R19.strategyproofness(1) lottery_conditions[OF R6.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R19) d < pmf (sds R6) d \\<or>\n   pmf (sds R19) d + pmf (sds R19) b < pmf (sds R6) d + pmf (sds R6) b \\<or>\n   pmf (sds R19) d + (pmf (sds R19) b + pmf (sds R19) a)\n   < pmf (sds R6) d + (pmf (sds R6) b + pmf (sds R6) a)) \\<or>\n  pmf (sds R19) d = pmf (sds R6) d \\<and>\n  pmf (sds R19) d + pmf (sds R19) b = pmf (sds R6) d + pmf (sds R6) b \\<and>\n  pmf (sds R19) d + (pmf (sds R19) b + pmf (sds R19) a) =\n  pmf (sds R6) d + (pmf (sds R6) b + pmf (sds R6) a)\n  0 \\<le> pmf (sds R6) a\n  0 \\<le> pmf (sds R6) b\n  0 \\<le> pmf (sds R6) c\n  0 \\<le> pmf (sds R6) d\n  pmf (sds R6) a + pmf (sds R6) b + pmf (sds R6) c + pmf (sds R6) d = 1", "have \"pmf (sds R6) a + pmf (sds R6) c \\<le> 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R19) d < pmf (sds R6) d \\<or>\n   pmf (sds R19) d + pmf (sds R19) b < pmf (sds R6) d + pmf (sds R6) b \\<or>\n   pmf (sds R19) d + (pmf (sds R19) b + pmf (sds R19) a)\n   < pmf (sds R6) d + (pmf (sds R6) b + pmf (sds R6) a)) \\<or>\n  pmf (sds R19) d = pmf (sds R6) d \\<and>\n  pmf (sds R19) d + pmf (sds R19) b = pmf (sds R6) d + pmf (sds R6) b \\<and>\n  pmf (sds R19) d + (pmf (sds R19) b + pmf (sds R19) a) =\n  pmf (sds R6) d + (pmf (sds R6) b + pmf (sds R6) a)\n  0 \\<le> pmf (sds R6) a\n  0 \\<le> pmf (sds R6) b\n  0 \\<le> pmf (sds R6) c\n  0 \\<le> pmf (sds R6) d\n  pmf (sds R6) a + pmf (sds R6) b + pmf (sds R6) c + pmf (sds R6) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R6) a + pmf (sds R6) c \\<le> 1 / 2", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R6) a + pmf (sds R6) c \\<le> 1 / 2\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "finally"], ["proof (chain)\npicking this:\n  pmf (sds R42) a + pmf (sds R42) c \\<le> 1 / 2", "have \"pmf (sds R42) a + pmf (sds R42) c \\<le> 1 / 2\""], ["proof (prove)\nusing this:\n  pmf (sds R42) a + pmf (sds R42) c \\<le> 1 / 2\n\ngoal (1 subgoal):\n 1. pmf (sds R42) a + pmf (sds R42) c \\<le> 1 / 2", "."], ["proof (state)\nthis:\n  pmf (sds R42) a + pmf (sds R42) c \\<le> 1 / 2\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "moreover"], ["proof (state)\nthis:\n  pmf (sds R42) a + pmf (sds R42) c \\<le> 1 / 2\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "from R17_R11.strategyproofness(1) R11.support R17.support\n       lottery_conditions[OF R11.wf] lottery_conditions[OF R17.wf]"], ["proof (chain)\npicking this:\n  pmf (sds R11) c + pmf (sds R11) a \\<le> pmf (sds R17) c + pmf (sds R17) a\n  pmf (sds R11) b = 0\n  pmf (sds R17) b = 0\n  0 \\<le> pmf (sds R11) a\n  0 \\<le> pmf (sds R11) b\n  0 \\<le> pmf (sds R11) c\n  0 \\<le> pmf (sds R11) d\n  pmf (sds R11) a + pmf (sds R11) b + pmf (sds R11) c + pmf (sds R11) d = 1\n  0 \\<le> pmf (sds R17) a\n  0 \\<le> pmf (sds R17) b\n  0 \\<le> pmf (sds R17) c\n  0 \\<le> pmf (sds R17) d\n  pmf (sds R17) a + pmf (sds R17) b + pmf (sds R17) c + pmf (sds R17) d = 1", "have \"pmf (sds R11) d \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R11) c + pmf (sds R11) a \\<le> pmf (sds R17) c + pmf (sds R17) a\n  pmf (sds R11) b = 0\n  pmf (sds R17) b = 0\n  0 \\<le> pmf (sds R11) a\n  0 \\<le> pmf (sds R11) b\n  0 \\<le> pmf (sds R11) c\n  0 \\<le> pmf (sds R11) d\n  pmf (sds R11) a + pmf (sds R11) b + pmf (sds R11) c + pmf (sds R11) d = 1\n  0 \\<le> pmf (sds R17) a\n  0 \\<le> pmf (sds R17) b\n  0 \\<le> pmf (sds R17) c\n  0 \\<le> pmf (sds R17) d\n  pmf (sds R17) a + pmf (sds R17) b + pmf (sds R17) c + pmf (sds R17) d = 1\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R11) d", "by (auto simp: R17_d)"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R11) d\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "ultimately"], ["proof (chain)\npicking this:\n  pmf (sds R42) a + pmf (sds R42) c \\<le> 1 / 2\n  1 / 2 \\<le> pmf (sds R11) d", "have \"pmf (sds R42) a + pmf (sds R42) c \\<le> pmf (sds R11) d\""], ["proof (prove)\nusing this:\n  pmf (sds R42) a + pmf (sds R42) c \\<le> 1 / 2\n  1 / 2 \\<le> pmf (sds R11) d\n\ngoal (1 subgoal):\n 1. pmf (sds R42) a + pmf (sds R42) c \\<le> pmf (sds R11) d", "by simp"], ["proof (state)\nthis:\n  pmf (sds R42) a + pmf (sds R42) c \\<le> pmf (sds R11) d\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "with R42_R11.strategyproofness(1) R11.support"], ["proof (chain)\npicking this:\n  (pmf (sds R11) d < pmf (sds R42) c \\<or>\n   pmf (sds R11) d + pmf (sds R11) b\n   < pmf (sds R42) c + pmf (sds R42) a) \\<or>\n  pmf (sds R11) d = pmf (sds R42) c \\<and>\n  pmf (sds R11) d + pmf (sds R11) b = pmf (sds R42) c + pmf (sds R42) a\n  pmf (sds R11) b = 0\n  pmf (sds R42) a + pmf (sds R42) c \\<le> pmf (sds R11) d", "have E: \"pmf (sds R11) d \\<le> pmf (sds R42) c\""], ["proof (prove)\nusing this:\n  (pmf (sds R11) d < pmf (sds R42) c \\<or>\n   pmf (sds R11) d + pmf (sds R11) b\n   < pmf (sds R42) c + pmf (sds R42) a) \\<or>\n  pmf (sds R11) d = pmf (sds R42) c \\<and>\n  pmf (sds R11) d + pmf (sds R11) b = pmf (sds R42) c + pmf (sds R42) a\n  pmf (sds R11) b = 0\n  pmf (sds R42) a + pmf (sds R42) c \\<le> pmf (sds R11) d\n\ngoal (1 subgoal):\n 1. pmf (sds R11) d \\<le> pmf (sds R42) c", "by auto"], ["proof (state)\nthis:\n  pmf (sds R11) d \\<le> pmf (sds R42) c\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "with \\<open>pmf (sds R11) d \\<ge> 1/2\\<close>"], ["proof (chain)\npicking this:\n  1 / 2 \\<le> pmf (sds R11) d\n  pmf (sds R11) d \\<le> pmf (sds R42) c", "have \"pmf (sds R42) c \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R11) d\n  pmf (sds R11) d \\<le> pmf (sds R42) c\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R42) c", "by simp"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R42) c\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "moreover"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R42) c\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "from R17_R3.strategyproofness(1) R3.support R17.support\n       lottery_conditions[OF R17.wf] lottery_conditions[OF R3.wf]"], ["proof (chain)\npicking this:\n  pmf (sds R3) c + pmf (sds R3) a \\<le> pmf (sds R17) c + pmf (sds R17) a\n  pmf (sds R3) b = 0\n  pmf (sds R17) b = 0\n  0 \\<le> pmf (sds R17) a\n  0 \\<le> pmf (sds R17) b\n  0 \\<le> pmf (sds R17) c\n  0 \\<le> pmf (sds R17) d\n  pmf (sds R17) a + pmf (sds R17) b + pmf (sds R17) c + pmf (sds R17) d = 1\n  0 \\<le> pmf (sds R3) a\n  0 \\<le> pmf (sds R3) b\n  0 \\<le> pmf (sds R3) c\n  0 \\<le> pmf (sds R3) d\n  pmf (sds R3) a + pmf (sds R3) b + pmf (sds R3) c + pmf (sds R3) d = 1", "have \"pmf (sds R3) d \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R3) c + pmf (sds R3) a \\<le> pmf (sds R17) c + pmf (sds R17) a\n  pmf (sds R3) b = 0\n  pmf (sds R17) b = 0\n  0 \\<le> pmf (sds R17) a\n  0 \\<le> pmf (sds R17) b\n  0 \\<le> pmf (sds R17) c\n  0 \\<le> pmf (sds R17) d\n  pmf (sds R17) a + pmf (sds R17) b + pmf (sds R17) c + pmf (sds R17) d = 1\n  0 \\<le> pmf (sds R3) a\n  0 \\<le> pmf (sds R3) b\n  0 \\<le> pmf (sds R3) c\n  0 \\<le> pmf (sds R3) d\n  pmf (sds R3) a + pmf (sds R3) b + pmf (sds R3) c + pmf (sds R3) d = 1\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R3) d", "by (auto simp: R17_d)"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R3) d\n\ngoal (4 subgoals):\n 1. pmf (sds R42) a = 0\n 2. pmf (sds R42) b = 0\n 3. pmf (sds R42) c = 1 / 2\n 4. pmf (sds R42) d = 1 / 2", "ultimately"], ["proof (chain)\npicking this:\n  1 / 2 \\<le> pmf (sds R42) c\n  1 / 2 \\<le> pmf (sds R3) d", "show \"pmf (sds R42) a = 0\" \"pmf (sds R42) b = 0\" \"pmf (sds R42) c = 1/2\" \"pmf (sds R42) d = 1/2\""], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R42) c\n  1 / 2 \\<le> pmf (sds R3) d\n\ngoal (1 subgoal):\n 1. (pmf (sds R42) a = 0 &&& pmf (sds R42) b = 0) &&&\n    pmf (sds R42) c = 1 / 2 &&& pmf (sds R42) d = 1 / 2", "using R42_R3.strategyproofness(1) lottery_conditions[OF R3.wf] lottery_conditions[OF R42.wf]"], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R42) c\n  1 / 2 \\<le> pmf (sds R3) d\n  (pmf (sds R3) d < pmf (sds R42) d \\<or>\n   pmf (sds R3) d + pmf (sds R3) b < pmf (sds R42) d + pmf (sds R42) b \\<or>\n   pmf (sds R3) d + (pmf (sds R3) b + pmf (sds R3) a)\n   < pmf (sds R42) d + (pmf (sds R42) b + pmf (sds R42) a)) \\<or>\n  pmf (sds R3) d = pmf (sds R42) d \\<and>\n  pmf (sds R3) d + pmf (sds R3) b = pmf (sds R42) d + pmf (sds R42) b \\<and>\n  pmf (sds R3) d + (pmf (sds R3) b + pmf (sds R3) a) =\n  pmf (sds R42) d + (pmf (sds R42) b + pmf (sds R42) a)\n  0 \\<le> pmf (sds R3) a\n  0 \\<le> pmf (sds R3) b\n  0 \\<le> pmf (sds R3) c\n  0 \\<le> pmf (sds R3) d\n  pmf (sds R3) a + pmf (sds R3) b + pmf (sds R3) c + pmf (sds R3) d = 1\n  0 \\<le> pmf (sds R42) a\n  0 \\<le> pmf (sds R42) b\n  0 \\<le> pmf (sds R42) c\n  0 \\<le> pmf (sds R42) d\n  pmf (sds R42) a + pmf (sds R42) b + pmf (sds R42) c + pmf (sds R42) d = 1\n\ngoal (1 subgoal):\n 1. (pmf (sds R42) a = 0 &&& pmf (sds R42) b = 0) &&&\n    pmf (sds R42) c = 1 / 2 &&& pmf (sds R42) d = 1 / 2", "by linarith+"], ["proof (state)\nthis:\n  pmf (sds R42) a = 0\n  pmf (sds R42) b = 0\n  pmf (sds R42) c = 1 / 2\n  pmf (sds R42) d = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R37 [simp]: \"pmf (sds R37) a = 1/2\" \"pmf (sds R37) b = 0\" \"pmf (sds R37) c = 1/2\" \"pmf (sds R37) d = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R37) a = 1 / 2 &&& pmf (sds R37) b = 0) &&&\n    pmf (sds R37) c = 1 / 2 &&& pmf (sds R37) d = 0", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R37) a = 1 / 2\n 2. pmf (sds R37) b = 0\n 3. pmf (sds R37) c = 1 / 2\n 4. pmf (sds R37) d = 0", "from R37_R42.strategyproofness(1) lottery_conditions[OF R37.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R42) d < pmf (sds R37) a \\<or>\n   pmf (sds R42) d + pmf (sds R42) b\n   < pmf (sds R37) a + pmf (sds R37) b) \\<or>\n  pmf (sds R42) d = pmf (sds R37) a \\<and>\n  pmf (sds R42) d + pmf (sds R42) b = pmf (sds R37) a + pmf (sds R37) b\n  0 \\<le> pmf (sds R37) a\n  0 \\<le> pmf (sds R37) b\n  0 \\<le> pmf (sds R37) c\n  0 \\<le> pmf (sds R37) d\n  pmf (sds R37) a + pmf (sds R37) b + pmf (sds R37) c + pmf (sds R37) d = 1", "have \"pmf (sds R37) a = 1/2 \\<or> pmf (sds R37) a + pmf (sds R37) b > 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R42) d < pmf (sds R37) a \\<or>\n   pmf (sds R42) d + pmf (sds R42) b\n   < pmf (sds R37) a + pmf (sds R37) b) \\<or>\n  pmf (sds R42) d = pmf (sds R37) a \\<and>\n  pmf (sds R42) d + pmf (sds R42) b = pmf (sds R37) a + pmf (sds R37) b\n  0 \\<le> pmf (sds R37) a\n  0 \\<le> pmf (sds R37) b\n  0 \\<le> pmf (sds R37) c\n  0 \\<le> pmf (sds R37) d\n  pmf (sds R37) a + pmf (sds R37) b + pmf (sds R37) c + pmf (sds R37) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R37) a = 1 / 2 \\<or> 1 / 2 < pmf (sds R37) a + pmf (sds R37) b", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R37) a = 1 / 2 \\<or> 1 / 2 < pmf (sds R37) a + pmf (sds R37) b\n\ngoal (4 subgoals):\n 1. pmf (sds R37) a = 1 / 2\n 2. pmf (sds R37) b = 0\n 3. pmf (sds R37) c = 1 / 2\n 4. pmf (sds R37) d = 0", "moreover"], ["proof (state)\nthis:\n  pmf (sds R37) a = 1 / 2 \\<or> 1 / 2 < pmf (sds R37) a + pmf (sds R37) b\n\ngoal (4 subgoals):\n 1. pmf (sds R37) a = 1 / 2\n 2. pmf (sds R37) b = 0\n 3. pmf (sds R37) c = 1 / 2\n 4. pmf (sds R37) d = 0", "from R37_R42.strategyproofness(2) lottery_conditions[OF R37.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R42) d < pmf (sds R37) c \\<or>\n   pmf (sds R42) d + pmf (sds R42) b\n   < pmf (sds R37) c + pmf (sds R37) d) \\<or>\n  pmf (sds R42) d = pmf (sds R37) c \\<and>\n  pmf (sds R42) d + pmf (sds R42) b = pmf (sds R37) c + pmf (sds R37) d\n  0 \\<le> pmf (sds R37) a\n  0 \\<le> pmf (sds R37) b\n  0 \\<le> pmf (sds R37) c\n  0 \\<le> pmf (sds R37) d\n  pmf (sds R37) a + pmf (sds R37) b + pmf (sds R37) c + pmf (sds R37) d = 1", "have \"pmf (sds R37) c = 1/2 \\<or> pmf (sds R37) c + pmf (sds R37) d > 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R42) d < pmf (sds R37) c \\<or>\n   pmf (sds R42) d + pmf (sds R42) b\n   < pmf (sds R37) c + pmf (sds R37) d) \\<or>\n  pmf (sds R42) d = pmf (sds R37) c \\<and>\n  pmf (sds R42) d + pmf (sds R42) b = pmf (sds R37) c + pmf (sds R37) d\n  0 \\<le> pmf (sds R37) a\n  0 \\<le> pmf (sds R37) b\n  0 \\<le> pmf (sds R37) c\n  0 \\<le> pmf (sds R37) d\n  pmf (sds R37) a + pmf (sds R37) b + pmf (sds R37) c + pmf (sds R37) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R37) c = 1 / 2 \\<or> 1 / 2 < pmf (sds R37) c + pmf (sds R37) d", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R37) c = 1 / 2 \\<or> 1 / 2 < pmf (sds R37) c + pmf (sds R37) d\n\ngoal (4 subgoals):\n 1. pmf (sds R37) a = 1 / 2\n 2. pmf (sds R37) b = 0\n 3. pmf (sds R37) c = 1 / 2\n 4. pmf (sds R37) d = 0", "ultimately"], ["proof (chain)\npicking this:\n  pmf (sds R37) a = 1 / 2 \\<or> 1 / 2 < pmf (sds R37) a + pmf (sds R37) b\n  pmf (sds R37) c = 1 / 2 \\<or> 1 / 2 < pmf (sds R37) c + pmf (sds R37) d", "show \"pmf (sds R37) a = 1/2\" \"pmf (sds R37) b = 0\" \"pmf (sds R37) c = 1/2\" \"pmf (sds R37) d = 0\""], ["proof (prove)\nusing this:\n  pmf (sds R37) a = 1 / 2 \\<or> 1 / 2 < pmf (sds R37) a + pmf (sds R37) b\n  pmf (sds R37) c = 1 / 2 \\<or> 1 / 2 < pmf (sds R37) c + pmf (sds R37) d\n\ngoal (1 subgoal):\n 1. (pmf (sds R37) a = 1 / 2 &&& pmf (sds R37) b = 0) &&&\n    pmf (sds R37) c = 1 / 2 &&& pmf (sds R37) d = 0", "using lottery_conditions[OF R37.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R37) a = 1 / 2 \\<or> 1 / 2 < pmf (sds R37) a + pmf (sds R37) b\n  pmf (sds R37) c = 1 / 2 \\<or> 1 / 2 < pmf (sds R37) c + pmf (sds R37) d\n  0 \\<le> pmf (sds R37) a\n  0 \\<le> pmf (sds R37) b\n  0 \\<le> pmf (sds R37) c\n  0 \\<le> pmf (sds R37) d\n  pmf (sds R37) a + pmf (sds R37) b + pmf (sds R37) c + pmf (sds R37) d = 1\n\ngoal (1 subgoal):\n 1. (pmf (sds R37) a = 1 / 2 &&& pmf (sds R37) b = 0) &&&\n    pmf (sds R37) c = 1 / 2 &&& pmf (sds R37) d = 0", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R37) a = 1 / 2\n  pmf (sds R37) b = 0\n  pmf (sds R37) c = 1 / 2\n  pmf (sds R37) d = 0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R24 [simp]: \"pmf (sds R24) a = 0\" \"pmf (sds R24) b = 0\" \"pmf (sds R24) d = 1 - pmf (sds R24) c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R24) a = 0 &&&\n    pmf (sds R24) b = 0 &&& pmf (sds R24) d = 1 - pmf (sds R24) c", "using R42_R24.strategyproofness(1) lottery_conditions[OF R24.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R24) b + pmf (sds R24) a \\<le> pmf (sds R42) b + pmf (sds R42) a\n  0 \\<le> pmf (sds R24) a\n  0 \\<le> pmf (sds R24) b\n  0 \\<le> pmf (sds R24) c\n  0 \\<le> pmf (sds R24) d\n  pmf (sds R24) a + pmf (sds R24) b + pmf (sds R24) c + pmf (sds R24) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R24) a = 0 &&&\n    pmf (sds R24) b = 0 &&& pmf (sds R24) d = 1 - pmf (sds R24) c", "by (auto simp del: pmf_nonneg)"], ["", "lemma R34 [simp]:\n  \"pmf (sds R34) a = 1 - pmf (sds R24) c\" \"pmf (sds R34) b = pmf (sds R24) c\"\n  \"pmf (sds R34) c = 0\" \"pmf (sds R34) d = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R34) a = 1 - pmf (sds R24) c &&&\n     pmf (sds R34) b = pmf (sds R24) c) &&&\n    pmf (sds R34) c = 0 &&& pmf (sds R34) d = 0", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R34) a = 1 - pmf (sds R24) c\n 2. pmf (sds R34) b = pmf (sds R24) c\n 3. pmf (sds R34) c = 0\n 4. pmf (sds R34) d = 0", "from R24_R34.strategyproofness(1) lottery_conditions[OF R34.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R34) b < pmf (sds R24) c \\<or>\n   pmf (sds R34) b + pmf (sds R34) d\n   < pmf (sds R24) c + pmf (sds R24) a) \\<or>\n  pmf (sds R34) b = pmf (sds R24) c \\<and>\n  pmf (sds R34) b + pmf (sds R34) d = pmf (sds R24) c + pmf (sds R24) a\n  0 \\<le> pmf (sds R34) a\n  0 \\<le> pmf (sds R34) b\n  0 \\<le> pmf (sds R34) c\n  0 \\<le> pmf (sds R34) d\n  pmf (sds R34) a + pmf (sds R34) b + pmf (sds R34) c + pmf (sds R34) d = 1", "have \"pmf (sds R34) b \\<le> pmf (sds R24) c\""], ["proof (prove)\nusing this:\n  (pmf (sds R34) b < pmf (sds R24) c \\<or>\n   pmf (sds R34) b + pmf (sds R34) d\n   < pmf (sds R24) c + pmf (sds R24) a) \\<or>\n  pmf (sds R34) b = pmf (sds R24) c \\<and>\n  pmf (sds R34) b + pmf (sds R34) d = pmf (sds R24) c + pmf (sds R24) a\n  0 \\<le> pmf (sds R34) a\n  0 \\<le> pmf (sds R34) b\n  0 \\<le> pmf (sds R34) c\n  0 \\<le> pmf (sds R34) d\n  pmf (sds R34) a + pmf (sds R34) b + pmf (sds R34) c + pmf (sds R34) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R34) b \\<le> pmf (sds R24) c", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R34) b \\<le> pmf (sds R24) c\n\ngoal (4 subgoals):\n 1. pmf (sds R34) a = 1 - pmf (sds R24) c\n 2. pmf (sds R34) b = pmf (sds R24) c\n 3. pmf (sds R34) c = 0\n 4. pmf (sds R34) d = 0", "moreover"], ["proof (state)\nthis:\n  pmf (sds R34) b \\<le> pmf (sds R24) c\n\ngoal (4 subgoals):\n 1. pmf (sds R34) a = 1 - pmf (sds R24) c\n 2. pmf (sds R34) b = pmf (sds R24) c\n 3. pmf (sds R34) c = 0\n 4. pmf (sds R34) d = 0", "from R34_R24.strategyproofness(1) lottery_conditions[OF R34.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R24) c < pmf (sds R34) b \\<or>\n   pmf (sds R24) c + (pmf (sds R24) a + pmf (sds R24) d)\n   < pmf (sds R34) b + (pmf (sds R34) d + pmf (sds R34) a)) \\<or>\n  pmf (sds R24) c = pmf (sds R34) b \\<and>\n  pmf (sds R24) c + (pmf (sds R24) a + pmf (sds R24) d) =\n  pmf (sds R34) b + (pmf (sds R34) d + pmf (sds R34) a)\n  0 \\<le> pmf (sds R34) a\n  0 \\<le> pmf (sds R34) b\n  0 \\<le> pmf (sds R34) c\n  0 \\<le> pmf (sds R34) d\n  pmf (sds R34) a + pmf (sds R34) b + pmf (sds R34) c + pmf (sds R34) d = 1", "have \"pmf (sds R34) b \\<ge> pmf (sds R24) c\""], ["proof (prove)\nusing this:\n  (pmf (sds R24) c < pmf (sds R34) b \\<or>\n   pmf (sds R24) c + (pmf (sds R24) a + pmf (sds R24) d)\n   < pmf (sds R34) b + (pmf (sds R34) d + pmf (sds R34) a)) \\<or>\n  pmf (sds R24) c = pmf (sds R34) b \\<and>\n  pmf (sds R24) c + (pmf (sds R24) a + pmf (sds R24) d) =\n  pmf (sds R34) b + (pmf (sds R34) d + pmf (sds R34) a)\n  0 \\<le> pmf (sds R34) a\n  0 \\<le> pmf (sds R34) b\n  0 \\<le> pmf (sds R34) c\n  0 \\<le> pmf (sds R34) d\n  pmf (sds R34) a + pmf (sds R34) b + pmf (sds R34) c + pmf (sds R34) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R24) c \\<le> pmf (sds R34) b", "by auto"], ["proof (state)\nthis:\n  pmf (sds R24) c \\<le> pmf (sds R34) b\n\ngoal (4 subgoals):\n 1. pmf (sds R34) a = 1 - pmf (sds R24) c\n 2. pmf (sds R34) b = pmf (sds R24) c\n 3. pmf (sds R34) c = 0\n 4. pmf (sds R34) d = 0", "ultimately"], ["proof (chain)\npicking this:\n  pmf (sds R34) b \\<le> pmf (sds R24) c\n  pmf (sds R24) c \\<le> pmf (sds R34) b", "show bc: \"pmf (sds R34) b = pmf (sds R24) c\""], ["proof (prove)\nusing this:\n  pmf (sds R34) b \\<le> pmf (sds R24) c\n  pmf (sds R24) c \\<le> pmf (sds R34) b\n\ngoal (1 subgoal):\n 1. pmf (sds R34) b = pmf (sds R24) c", "by simp"], ["proof (state)\nthis:\n  pmf (sds R34) b = pmf (sds R24) c\n\ngoal (3 subgoals):\n 1. pmf (sds R34) a = 1 - pmf (sds R24) c\n 2. pmf (sds R34) c = 0\n 3. pmf (sds R34) d = 0", "from R34_R24.strategyproofness(1) bc lottery_conditions[OF R34.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R24) c < pmf (sds R34) b \\<or>\n   pmf (sds R24) c + (pmf (sds R24) a + pmf (sds R24) d)\n   < pmf (sds R34) b + (pmf (sds R34) d + pmf (sds R34) a)) \\<or>\n  pmf (sds R24) c = pmf (sds R34) b \\<and>\n  pmf (sds R24) c + (pmf (sds R24) a + pmf (sds R24) d) =\n  pmf (sds R34) b + (pmf (sds R34) d + pmf (sds R34) a)\n  pmf (sds R34) b = pmf (sds R24) c\n  0 \\<le> pmf (sds R34) a\n  0 \\<le> pmf (sds R34) b\n  0 \\<le> pmf (sds R34) c\n  0 \\<le> pmf (sds R34) d\n  pmf (sds R34) a + pmf (sds R34) b + pmf (sds R34) c + pmf (sds R34) d = 1", "show \"pmf (sds R34) c = 0\""], ["proof (prove)\nusing this:\n  (pmf (sds R24) c < pmf (sds R34) b \\<or>\n   pmf (sds R24) c + (pmf (sds R24) a + pmf (sds R24) d)\n   < pmf (sds R34) b + (pmf (sds R34) d + pmf (sds R34) a)) \\<or>\n  pmf (sds R24) c = pmf (sds R34) b \\<and>\n  pmf (sds R24) c + (pmf (sds R24) a + pmf (sds R24) d) =\n  pmf (sds R34) b + (pmf (sds R34) d + pmf (sds R34) a)\n  pmf (sds R34) b = pmf (sds R24) c\n  0 \\<le> pmf (sds R34) a\n  0 \\<le> pmf (sds R34) b\n  0 \\<le> pmf (sds R34) c\n  0 \\<le> pmf (sds R34) d\n  pmf (sds R34) a + pmf (sds R34) b + pmf (sds R34) c + pmf (sds R34) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R34) c = 0", "by auto"], ["proof (state)\nthis:\n  pmf (sds R34) c = 0\n\ngoal (2 subgoals):\n 1. pmf (sds R34) a = 1 - pmf (sds R24) c\n 2. pmf (sds R34) d = 0", "moreover"], ["proof (state)\nthis:\n  pmf (sds R34) c = 0\n\ngoal (2 subgoals):\n 1. pmf (sds R34) a = 1 - pmf (sds R24) c\n 2. pmf (sds R34) d = 0", "from R24_R34.strategyproofness(1) bc"], ["proof (chain)\npicking this:\n  (pmf (sds R34) b < pmf (sds R24) c \\<or>\n   pmf (sds R34) b + pmf (sds R34) d\n   < pmf (sds R24) c + pmf (sds R24) a) \\<or>\n  pmf (sds R34) b = pmf (sds R24) c \\<and>\n  pmf (sds R34) b + pmf (sds R34) d = pmf (sds R24) c + pmf (sds R24) a\n  pmf (sds R34) b = pmf (sds R24) c", "show \"pmf (sds R34) d = 0\""], ["proof (prove)\nusing this:\n  (pmf (sds R34) b < pmf (sds R24) c \\<or>\n   pmf (sds R34) b + pmf (sds R34) d\n   < pmf (sds R24) c + pmf (sds R24) a) \\<or>\n  pmf (sds R34) b = pmf (sds R24) c \\<and>\n  pmf (sds R34) b + pmf (sds R34) d = pmf (sds R24) c + pmf (sds R24) a\n  pmf (sds R34) b = pmf (sds R24) c\n\ngoal (1 subgoal):\n 1. pmf (sds R34) d = 0", "by simp"], ["proof (state)\nthis:\n  pmf (sds R34) d = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R34) a = 1 - pmf (sds R24) c", "ultimately"], ["proof (chain)\npicking this:\n  pmf (sds R34) c = 0\n  pmf (sds R34) d = 0", "show \"pmf (sds R34) a = 1 - pmf (sds R24) c\""], ["proof (prove)\nusing this:\n  pmf (sds R34) c = 0\n  pmf (sds R34) d = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R34) a = 1 - pmf (sds R24) c", "using bc lottery_conditions[OF R34.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R34) c = 0\n  pmf (sds R34) d = 0\n  pmf (sds R34) b = pmf (sds R24) c\n  0 \\<le> pmf (sds R34) a\n  0 \\<le> pmf (sds R34) b\n  0 \\<le> pmf (sds R34) c\n  0 \\<le> pmf (sds R34) d\n  pmf (sds R34) a + pmf (sds R34) b + pmf (sds R34) c + pmf (sds R34) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R34) a = 1 - pmf (sds R24) c", "by auto"], ["proof (state)\nthis:\n  pmf (sds R34) a = 1 - pmf (sds R24) c\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R14 [simp]: \"pmf (sds R14) b = 0\" \"pmf (sds R14) d = 0\" \"pmf (sds R14) c = 1 - pmf (sds R14) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R14) b = 0 &&&\n    pmf (sds R14) d = 0 &&& pmf (sds R14) c = 1 - pmf (sds R14) a", "using R14_R34.strategyproofness(1) R14.support lottery_conditions[OF R14.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R34) d + (pmf (sds R34) b + pmf (sds R34) a)\n  \\<le> pmf (sds R14) c + (pmf (sds R14) b + pmf (sds R14) a)\n  pmf (sds R14) b = 0\n  0 \\<le> pmf (sds R14) a\n  0 \\<le> pmf (sds R14) b\n  0 \\<le> pmf (sds R14) c\n  0 \\<le> pmf (sds R14) d\n  pmf (sds R14) a + pmf (sds R14) b + pmf (sds R14) c + pmf (sds R14) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R14) b = 0 &&&\n    pmf (sds R14) d = 0 &&& pmf (sds R14) c = 1 - pmf (sds R14) a", "by (auto simp del: pmf_nonneg)"], ["", "lemma R46 [simp]: \"pmf (sds R46) a = 0\" \"pmf (sds R46) c = 0\" \"pmf (sds R46) d = 1 - pmf (sds R46) b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R46) a = 0 &&&\n    pmf (sds R46) c = 0 &&& pmf (sds R46) d = 1 - pmf (sds R46) b", "using R46_R37.strategyproofness(1) lottery_conditions[OF R46.wf]"], ["proof (prove)\nusing this:\n  (pmf (sds R37) a + pmf (sds R37) c\n   < pmf (sds R46) d + pmf (sds R46) b \\<or>\n   pmf (sds R37) a + (pmf (sds R37) c + pmf (sds R37) d)\n   < pmf (sds R46) d + (pmf (sds R46) b + pmf (sds R46) a)) \\<or>\n  pmf (sds R37) a + pmf (sds R37) c =\n  pmf (sds R46) d + pmf (sds R46) b \\<and>\n  pmf (sds R37) a + (pmf (sds R37) c + pmf (sds R37) d) =\n  pmf (sds R46) d + (pmf (sds R46) b + pmf (sds R46) a)\n  0 \\<le> pmf (sds R46) a\n  0 \\<le> pmf (sds R46) b\n  0 \\<le> pmf (sds R46) c\n  0 \\<le> pmf (sds R46) d\n  pmf (sds R46) a + pmf (sds R46) b + pmf (sds R46) c + pmf (sds R46) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R46) a = 0 &&&\n    pmf (sds R46) c = 0 &&& pmf (sds R46) d = 1 - pmf (sds R46) b", "by auto"], ["", "lemma R20 [simp]: \"pmf (sds R20) a = 0\" \"pmf (sds R20) c = 0\" \"pmf (sds R20) d = 1 - pmf (sds R20) b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R20) a = 0 &&&\n    pmf (sds R20) c = 0 &&& pmf (sds R20) d = 1 - pmf (sds R20) b", "using R46_R20.strategyproofness(1) lottery_conditions[OF R20.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R20) c + pmf (sds R20) a \\<le> pmf (sds R46) c + pmf (sds R46) a\n  0 \\<le> pmf (sds R20) a\n  0 \\<le> pmf (sds R20) b\n  0 \\<le> pmf (sds R20) c\n  0 \\<le> pmf (sds R20) d\n  pmf (sds R20) a + pmf (sds R20) b + pmf (sds R20) c + pmf (sds R20) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R20) a = 0 &&&\n    pmf (sds R20) c = 0 &&& pmf (sds R20) d = 1 - pmf (sds R20) b", "by (auto simp del: pmf_nonneg)"], ["", "lemma R21 [simp]: \"pmf (sds R21) d = 1 - pmf (sds R21) a\" \"pmf (sds R21) b = 0\" \"pmf (sds R21) c = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R21) d = 1 - pmf (sds R21) a &&&\n    pmf (sds R21) b = 0 &&& pmf (sds R21) c = 0", "using R20_R21.strategyproofness(1) lottery_conditions[OF R21.wf]"], ["proof (prove)\nusing this:\n  (pmf (sds R21) c < pmf (sds R20) a \\<or>\n   pmf (sds R21) c + pmf (sds R21) b\n   < pmf (sds R20) a + pmf (sds R20) c) \\<or>\n  pmf (sds R21) c = pmf (sds R20) a \\<and>\n  pmf (sds R21) c + pmf (sds R21) b = pmf (sds R20) a + pmf (sds R20) c\n  0 \\<le> pmf (sds R21) a\n  0 \\<le> pmf (sds R21) b\n  0 \\<le> pmf (sds R21) c\n  0 \\<le> pmf (sds R21) d\n  pmf (sds R21) a + pmf (sds R21) b + pmf (sds R21) c + pmf (sds R21) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R21) d = 1 - pmf (sds R21) a &&&\n    pmf (sds R21) b = 0 &&& pmf (sds R21) c = 0", "by auto"], ["", "lemma R16_R12: \"pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R12) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R12) a", "using R12_R16.strategyproofness(1) R16.support lottery_conditions[OF R16.wf]"], ["proof (prove)\nusing this:\n  (pmf (sds R16) c + pmf (sds R16) a\n   < pmf (sds R12) c + pmf (sds R12) a \\<or>\n   pmf (sds R16) c + (pmf (sds R16) a + pmf (sds R16) d)\n   < pmf (sds R12) c + (pmf (sds R12) a + pmf (sds R12) d)) \\<or>\n  pmf (sds R16) c + pmf (sds R16) a =\n  pmf (sds R12) c + pmf (sds R12) a \\<and>\n  pmf (sds R16) c + (pmf (sds R16) a + pmf (sds R16) d) =\n  pmf (sds R12) c + (pmf (sds R12) a + pmf (sds R12) d)\n  pmf (sds R16) b = 0\n  0 \\<le> pmf (sds R16) a\n  0 \\<le> pmf (sds R16) b\n  0 \\<le> pmf (sds R16) c\n  0 \\<le> pmf (sds R16) d\n  pmf (sds R16) a + pmf (sds R16) b + pmf (sds R16) c + pmf (sds R16) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R12) a", "by auto"], ["", "lemma R16 [simp]: \"pmf (sds R16) b = 0\" \"pmf (sds R16) c = 0\" \"pmf (sds R16) d = 1 - pmf (sds R16) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R16) b = 0 &&&\n    pmf (sds R16) c = 0 &&& pmf (sds R16) d = 1 - pmf (sds R16) a", "proof -"], ["proof (state)\ngoal (3 subgoals):\n 1. pmf (sds R16) b = 0\n 2. pmf (sds R16) c = 0\n 3. pmf (sds R16) d = 1 - pmf (sds R16) a", "from R16_R12"], ["proof (chain)\npicking this:\n  pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R12) a", "have \"pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R12) a\""], ["proof (prove)\nusing this:\n  pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R12) a\n\ngoal (1 subgoal):\n 1. pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R12) a", "by simp"], ["proof (state)\nthis:\n  pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R12) a\n\ngoal (3 subgoals):\n 1. pmf (sds R16) b = 0\n 2. pmf (sds R16) c = 0\n 3. pmf (sds R16) d = 1 - pmf (sds R16) a", "also"], ["proof (state)\nthis:\n  pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R12) a\n\ngoal (3 subgoals):\n 1. pmf (sds R16) b = 0\n 2. pmf (sds R16) c = 0\n 3. pmf (sds R16) d = 1 - pmf (sds R16) a", "from R44_R40.strategyproofness(1) lottery_conditions[OF R40.wf] R40.support"], ["proof (chain)\npicking this:\n  pmf (sds R40) c + pmf (sds R40) d \\<le> pmf (sds R44) d + pmf (sds R44) c\n  0 \\<le> pmf (sds R40) a\n  0 \\<le> pmf (sds R40) b\n  0 \\<le> pmf (sds R40) c\n  0 \\<le> pmf (sds R40) d\n  pmf (sds R40) a + pmf (sds R40) b + pmf (sds R40) c + pmf (sds R40) d = 1\n  pmf (sds R40) b = 0", "have \"pmf (sds R12) a \\<le> pmf (sds R40) a\""], ["proof (prove)\nusing this:\n  pmf (sds R40) c + pmf (sds R40) d \\<le> pmf (sds R44) d + pmf (sds R44) c\n  0 \\<le> pmf (sds R40) a\n  0 \\<le> pmf (sds R40) b\n  0 \\<le> pmf (sds R40) c\n  0 \\<le> pmf (sds R40) d\n  pmf (sds R40) a + pmf (sds R40) b + pmf (sds R40) c + pmf (sds R40) d = 1\n  pmf (sds R40) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R12) a \\<le> pmf (sds R40) a", "by auto"], ["proof (state)\nthis:\n  pmf (sds R12) a \\<le> pmf (sds R40) a\n\ngoal (3 subgoals):\n 1. pmf (sds R16) b = 0\n 2. pmf (sds R16) c = 0\n 3. pmf (sds R16) d = 1 - pmf (sds R16) a", "also"], ["proof (state)\nthis:\n  pmf (sds R12) a \\<le> pmf (sds R40) a\n\ngoal (3 subgoals):\n 1. pmf (sds R16) b = 0\n 2. pmf (sds R16) c = 0\n 3. pmf (sds R16) d = 1 - pmf (sds R16) a", "from R9_R40.strategyproofness(1) R9.support R40.support"], ["proof (chain)\npicking this:\n  pmf (sds R40) b + pmf (sds R40) a \\<le> pmf (sds R9) b + pmf (sds R9) a\n  pmf (sds R9) b = 0\n  pmf (sds R40) b = 0", "have \"pmf (sds R40) a \\<le> pmf (sds R9) a\""], ["proof (prove)\nusing this:\n  pmf (sds R40) b + pmf (sds R40) a \\<le> pmf (sds R9) b + pmf (sds R9) a\n  pmf (sds R9) b = 0\n  pmf (sds R40) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R40) a \\<le> pmf (sds R9) a", "by auto"], ["proof (state)\nthis:\n  pmf (sds R40) a \\<le> pmf (sds R9) a\n\ngoal (3 subgoals):\n 1. pmf (sds R16) b = 0\n 2. pmf (sds R16) c = 0\n 3. pmf (sds R16) d = 1 - pmf (sds R16) a", "finally"], ["proof (chain)\npicking this:\n  pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R9) a", "have \"pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R9) a\""], ["proof (prove)\nusing this:\n  pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R9) a\n\ngoal (1 subgoal):\n 1. pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R9) a", "by simp"], ["proof (state)\nthis:\n  pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R9) a\n\ngoal (3 subgoals):\n 1. pmf (sds R16) b = 0\n 2. pmf (sds R16) c = 0\n 3. pmf (sds R16) d = 1 - pmf (sds R16) a", "moreover"], ["proof (state)\nthis:\n  pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R9) a\n\ngoal (3 subgoals):\n 1. pmf (sds R16) b = 0\n 2. pmf (sds R16) c = 0\n 3. pmf (sds R16) d = 1 - pmf (sds R16) a", "from R14_R16.strategyproofness(1) R16.support lottery_conditions[OF R16.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R16) c < pmf (sds R14) d \\<or>\n   pmf (sds R16) c + pmf (sds R16) d\n   < pmf (sds R14) d + pmf (sds R14) c) \\<or>\n  pmf (sds R16) c = pmf (sds R14) d \\<and>\n  pmf (sds R16) c + pmf (sds R16) d = pmf (sds R14) d + pmf (sds R14) c\n  pmf (sds R16) b = 0\n  0 \\<le> pmf (sds R16) a\n  0 \\<le> pmf (sds R16) b\n  0 \\<le> pmf (sds R16) c\n  0 \\<le> pmf (sds R16) d\n  pmf (sds R16) a + pmf (sds R16) b + pmf (sds R16) c + pmf (sds R16) d = 1", "have \"pmf (sds R16) a \\<ge> pmf (sds R14) a\""], ["proof (prove)\nusing this:\n  (pmf (sds R16) c < pmf (sds R14) d \\<or>\n   pmf (sds R16) c + pmf (sds R16) d\n   < pmf (sds R14) d + pmf (sds R14) c) \\<or>\n  pmf (sds R16) c = pmf (sds R14) d \\<and>\n  pmf (sds R16) c + pmf (sds R16) d = pmf (sds R14) d + pmf (sds R14) c\n  pmf (sds R16) b = 0\n  0 \\<le> pmf (sds R16) a\n  0 \\<le> pmf (sds R16) b\n  0 \\<le> pmf (sds R16) c\n  0 \\<le> pmf (sds R16) d\n  pmf (sds R16) a + pmf (sds R16) b + pmf (sds R16) c + pmf (sds R16) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R14) a \\<le> pmf (sds R16) a", "by auto"], ["proof (state)\nthis:\n  pmf (sds R14) a \\<le> pmf (sds R16) a\n\ngoal (3 subgoals):\n 1. pmf (sds R16) b = 0\n 2. pmf (sds R16) c = 0\n 3. pmf (sds R16) d = 1 - pmf (sds R16) a", "ultimately"], ["proof (chain)\npicking this:\n  pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R9) a\n  pmf (sds R14) a \\<le> pmf (sds R16) a", "have \"pmf (sds R16) c \\<le> pmf (sds R9) a - pmf (sds R14) a\""], ["proof (prove)\nusing this:\n  pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R9) a\n  pmf (sds R14) a \\<le> pmf (sds R16) a\n\ngoal (1 subgoal):\n 1. pmf (sds R16) c \\<le> pmf (sds R9) a - pmf (sds R14) a", "by simp"], ["proof (state)\nthis:\n  pmf (sds R16) c \\<le> pmf (sds R9) a - pmf (sds R14) a\n\ngoal (3 subgoals):\n 1. pmf (sds R16) b = 0\n 2. pmf (sds R16) c = 0\n 3. pmf (sds R16) d = 1 - pmf (sds R16) a", "also"], ["proof (state)\nthis:\n  pmf (sds R16) c \\<le> pmf (sds R9) a - pmf (sds R14) a\n\ngoal (3 subgoals):\n 1. pmf (sds R16) b = 0\n 2. pmf (sds R16) c = 0\n 3. pmf (sds R16) d = 1 - pmf (sds R16) a", "from R14_R9.strategyproofness(1) R9.support lottery_conditions[OF R9.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R9) a < pmf (sds R14) a \\<or>\n   pmf (sds R9) a + pmf (sds R9) d < pmf (sds R14) a + pmf (sds R14) d \\<or>\n   pmf (sds R9) a + (pmf (sds R9) d + pmf (sds R9) c)\n   < pmf (sds R14) a + (pmf (sds R14) d + pmf (sds R14) c)) \\<or>\n  pmf (sds R9) a = pmf (sds R14) a \\<and>\n  pmf (sds R9) a + pmf (sds R9) d = pmf (sds R14) a + pmf (sds R14) d \\<and>\n  pmf (sds R9) a + (pmf (sds R9) d + pmf (sds R9) c) =\n  pmf (sds R14) a + (pmf (sds R14) d + pmf (sds R14) c)\n  pmf (sds R9) b = 0\n  0 \\<le> pmf (sds R9) a\n  0 \\<le> pmf (sds R9) b\n  0 \\<le> pmf (sds R9) c\n  0 \\<le> pmf (sds R9) d\n  pmf (sds R9) a + pmf (sds R9) b + pmf (sds R9) c + pmf (sds R9) d = 1", "have \"pmf (sds R9) a - pmf (sds R14) a \\<le> 0\""], ["proof (prove)\nusing this:\n  (pmf (sds R9) a < pmf (sds R14) a \\<or>\n   pmf (sds R9) a + pmf (sds R9) d < pmf (sds R14) a + pmf (sds R14) d \\<or>\n   pmf (sds R9) a + (pmf (sds R9) d + pmf (sds R9) c)\n   < pmf (sds R14) a + (pmf (sds R14) d + pmf (sds R14) c)) \\<or>\n  pmf (sds R9) a = pmf (sds R14) a \\<and>\n  pmf (sds R9) a + pmf (sds R9) d = pmf (sds R14) a + pmf (sds R14) d \\<and>\n  pmf (sds R9) a + (pmf (sds R9) d + pmf (sds R9) c) =\n  pmf (sds R14) a + (pmf (sds R14) d + pmf (sds R14) c)\n  pmf (sds R9) b = 0\n  0 \\<le> pmf (sds R9) a\n  0 \\<le> pmf (sds R9) b\n  0 \\<le> pmf (sds R9) c\n  0 \\<le> pmf (sds R9) d\n  pmf (sds R9) a + pmf (sds R9) b + pmf (sds R9) c + pmf (sds R9) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R9) a - pmf (sds R14) a \\<le> 0", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R9) a - pmf (sds R14) a \\<le> 0\n\ngoal (3 subgoals):\n 1. pmf (sds R16) b = 0\n 2. pmf (sds R16) c = 0\n 3. pmf (sds R16) d = 1 - pmf (sds R16) a", "finally"], ["proof (chain)\npicking this:\n  pmf (sds R16) c \\<le> 0", "show \"pmf (sds R16) b = 0\" \"pmf (sds R16) c = 0\" \"pmf (sds R16) d = 1 - pmf (sds R16) a\""], ["proof (prove)\nusing this:\n  pmf (sds R16) c \\<le> 0\n\ngoal (1 subgoal):\n 1. pmf (sds R16) b = 0 &&&\n    pmf (sds R16) c = 0 &&& pmf (sds R16) d = 1 - pmf (sds R16) a", "using lottery_conditions[OF R16.wf] R16.support"], ["proof (prove)\nusing this:\n  pmf (sds R16) c \\<le> 0\n  0 \\<le> pmf (sds R16) a\n  0 \\<le> pmf (sds R16) b\n  0 \\<le> pmf (sds R16) c\n  0 \\<le> pmf (sds R16) d\n  pmf (sds R16) a + pmf (sds R16) b + pmf (sds R16) c + pmf (sds R16) d = 1\n  pmf (sds R16) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R16) b = 0 &&&\n    pmf (sds R16) c = 0 &&& pmf (sds R16) d = 1 - pmf (sds R16) a", "by auto"], ["proof (state)\nthis:\n  pmf (sds R16) b = 0\n  pmf (sds R16) c = 0\n  pmf (sds R16) d = 1 - pmf (sds R16) a\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R12_R14: \"pmf (sds R14) a \\<le> pmf (sds R12) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R14) a \\<le> pmf (sds R12) a", "using R14_R16.strategyproofness(1) R16_R12"], ["proof (prove)\nusing this:\n  (pmf (sds R16) c < pmf (sds R14) d \\<or>\n   pmf (sds R16) c + pmf (sds R16) d\n   < pmf (sds R14) d + pmf (sds R14) c) \\<or>\n  pmf (sds R16) c = pmf (sds R14) d \\<and>\n  pmf (sds R16) c + pmf (sds R16) d = pmf (sds R14) d + pmf (sds R14) c\n  pmf (sds R16) c + pmf (sds R16) a \\<le> pmf (sds R12) a\n\ngoal (1 subgoal):\n 1. pmf (sds R14) a \\<le> pmf (sds R12) a", "by auto"], ["", "lemma R12_a [simp]: \"pmf (sds R12) a = pmf (sds R9) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R12) a = pmf (sds R9) a", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. pmf (sds R12) a = pmf (sds R9) a", "from R44_R40.strategyproofness(1) R40.support lottery_conditions[OF R40.wf]"], ["proof (chain)\npicking this:\n  pmf (sds R40) c + pmf (sds R40) d \\<le> pmf (sds R44) d + pmf (sds R44) c\n  pmf (sds R40) b = 0\n  0 \\<le> pmf (sds R40) a\n  0 \\<le> pmf (sds R40) b\n  0 \\<le> pmf (sds R40) c\n  0 \\<le> pmf (sds R40) d\n  pmf (sds R40) a + pmf (sds R40) b + pmf (sds R40) c + pmf (sds R40) d = 1", "have \"pmf (sds R12) a \\<le> pmf (sds R40) a\""], ["proof (prove)\nusing this:\n  pmf (sds R40) c + pmf (sds R40) d \\<le> pmf (sds R44) d + pmf (sds R44) c\n  pmf (sds R40) b = 0\n  0 \\<le> pmf (sds R40) a\n  0 \\<le> pmf (sds R40) b\n  0 \\<le> pmf (sds R40) c\n  0 \\<le> pmf (sds R40) d\n  pmf (sds R40) a + pmf (sds R40) b + pmf (sds R40) c + pmf (sds R40) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R12) a \\<le> pmf (sds R40) a", "by auto"], ["proof (state)\nthis:\n  pmf (sds R12) a \\<le> pmf (sds R40) a\n\ngoal (1 subgoal):\n 1. pmf (sds R12) a = pmf (sds R9) a", "also"], ["proof (state)\nthis:\n  pmf (sds R12) a \\<le> pmf (sds R40) a\n\ngoal (1 subgoal):\n 1. pmf (sds R12) a = pmf (sds R9) a", "from R9_R40.strategyproofness(1) R9.support R40.support"], ["proof (chain)\npicking this:\n  pmf (sds R40) b + pmf (sds R40) a \\<le> pmf (sds R9) b + pmf (sds R9) a\n  pmf (sds R9) b = 0\n  pmf (sds R40) b = 0", "have \"pmf (sds R40) a \\<le> pmf (sds R9) a\""], ["proof (prove)\nusing this:\n  pmf (sds R40) b + pmf (sds R40) a \\<le> pmf (sds R9) b + pmf (sds R9) a\n  pmf (sds R9) b = 0\n  pmf (sds R40) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R40) a \\<le> pmf (sds R9) a", "by auto"], ["proof (state)\nthis:\n  pmf (sds R40) a \\<le> pmf (sds R9) a\n\ngoal (1 subgoal):\n 1. pmf (sds R12) a = pmf (sds R9) a", "finally"], ["proof (chain)\npicking this:\n  pmf (sds R12) a \\<le> pmf (sds R9) a", "have B: \"pmf (sds R12) a \\<le> pmf (sds R9) a\""], ["proof (prove)\nusing this:\n  pmf (sds R12) a \\<le> pmf (sds R9) a\n\ngoal (1 subgoal):\n 1. pmf (sds R12) a \\<le> pmf (sds R9) a", "by simp"], ["proof (state)\nthis:\n  pmf (sds R12) a \\<le> pmf (sds R9) a\n\ngoal (1 subgoal):\n 1. pmf (sds R12) a = pmf (sds R9) a", "moreover"], ["proof (state)\nthis:\n  pmf (sds R12) a \\<le> pmf (sds R9) a\n\ngoal (1 subgoal):\n 1. pmf (sds R12) a = pmf (sds R9) a", "from R14_R9.strategyproofness(1) lottery_conditions[OF R9.wf] R9.support"], ["proof (chain)\npicking this:\n  (pmf (sds R9) a < pmf (sds R14) a \\<or>\n   pmf (sds R9) a + pmf (sds R9) d < pmf (sds R14) a + pmf (sds R14) d \\<or>\n   pmf (sds R9) a + (pmf (sds R9) d + pmf (sds R9) c)\n   < pmf (sds R14) a + (pmf (sds R14) d + pmf (sds R14) c)) \\<or>\n  pmf (sds R9) a = pmf (sds R14) a \\<and>\n  pmf (sds R9) a + pmf (sds R9) d = pmf (sds R14) a + pmf (sds R14) d \\<and>\n  pmf (sds R9) a + (pmf (sds R9) d + pmf (sds R9) c) =\n  pmf (sds R14) a + (pmf (sds R14) d + pmf (sds R14) c)\n  0 \\<le> pmf (sds R9) a\n  0 \\<le> pmf (sds R9) b\n  0 \\<le> pmf (sds R9) c\n  0 \\<le> pmf (sds R9) d\n  pmf (sds R9) a + pmf (sds R9) b + pmf (sds R9) c + pmf (sds R9) d = 1\n  pmf (sds R9) b = 0", "have \"pmf (sds R9) a \\<le> pmf (sds R14) a\""], ["proof (prove)\nusing this:\n  (pmf (sds R9) a < pmf (sds R14) a \\<or>\n   pmf (sds R9) a + pmf (sds R9) d < pmf (sds R14) a + pmf (sds R14) d \\<or>\n   pmf (sds R9) a + (pmf (sds R9) d + pmf (sds R9) c)\n   < pmf (sds R14) a + (pmf (sds R14) d + pmf (sds R14) c)) \\<or>\n  pmf (sds R9) a = pmf (sds R14) a \\<and>\n  pmf (sds R9) a + pmf (sds R9) d = pmf (sds R14) a + pmf (sds R14) d \\<and>\n  pmf (sds R9) a + (pmf (sds R9) d + pmf (sds R9) c) =\n  pmf (sds R14) a + (pmf (sds R14) d + pmf (sds R14) c)\n  0 \\<le> pmf (sds R9) a\n  0 \\<le> pmf (sds R9) b\n  0 \\<le> pmf (sds R9) c\n  0 \\<le> pmf (sds R9) d\n  pmf (sds R9) a + pmf (sds R9) b + pmf (sds R9) c + pmf (sds R9) d = 1\n  pmf (sds R9) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R9) a \\<le> pmf (sds R14) a", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R9) a \\<le> pmf (sds R14) a\n\ngoal (1 subgoal):\n 1. pmf (sds R12) a = pmf (sds R9) a", "with R12_R14"], ["proof (chain)\npicking this:\n  pmf (sds R14) a \\<le> pmf (sds R12) a\n  pmf (sds R9) a \\<le> pmf (sds R14) a", "have \"pmf (sds R9) a \\<le> pmf (sds R12) a\""], ["proof (prove)\nusing this:\n  pmf (sds R14) a \\<le> pmf (sds R12) a\n  pmf (sds R9) a \\<le> pmf (sds R14) a\n\ngoal (1 subgoal):\n 1. pmf (sds R9) a \\<le> pmf (sds R12) a", "by simp"], ["proof (state)\nthis:\n  pmf (sds R9) a \\<le> pmf (sds R12) a\n\ngoal (1 subgoal):\n 1. pmf (sds R12) a = pmf (sds R9) a", "ultimately"], ["proof (chain)\npicking this:\n  pmf (sds R12) a \\<le> pmf (sds R9) a\n  pmf (sds R9) a \\<le> pmf (sds R12) a", "show \"pmf (sds R12) a = pmf (sds R9) a\""], ["proof (prove)\nusing this:\n  pmf (sds R12) a \\<le> pmf (sds R9) a\n  pmf (sds R9) a \\<le> pmf (sds R12) a\n\ngoal (1 subgoal):\n 1. pmf (sds R12) a = pmf (sds R9) a", "by simp"], ["proof (state)\nthis:\n  pmf (sds R12) a = pmf (sds R9) a\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R9 [simp]: \"pmf (sds R9) b = 0\" \"pmf (sds R9) d = 0\" \"pmf (sds R14) a = pmf (sds R35) a\" \"pmf (sds R9) c = 1 - pmf (sds R35) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R9) b = 0 &&& pmf (sds R9) d = 0) &&&\n    pmf (sds R14) a = pmf (sds R35) a &&&\n    pmf (sds R9) c = 1 - pmf (sds R35) a", "using R12_R14 R14_R9.strategyproofness(1) lottery_conditions[OF R9.wf] R9.support"], ["proof (prove)\nusing this:\n  pmf (sds R14) a \\<le> pmf (sds R12) a\n  (pmf (sds R9) a < pmf (sds R14) a \\<or>\n   pmf (sds R9) a + pmf (sds R9) d < pmf (sds R14) a + pmf (sds R14) d \\<or>\n   pmf (sds R9) a + (pmf (sds R9) d + pmf (sds R9) c)\n   < pmf (sds R14) a + (pmf (sds R14) d + pmf (sds R14) c)) \\<or>\n  pmf (sds R9) a = pmf (sds R14) a \\<and>\n  pmf (sds R9) a + pmf (sds R9) d = pmf (sds R14) a + pmf (sds R14) d \\<and>\n  pmf (sds R9) a + (pmf (sds R9) d + pmf (sds R9) c) =\n  pmf (sds R14) a + (pmf (sds R14) d + pmf (sds R14) c)\n  0 \\<le> pmf (sds R9) a\n  0 \\<le> pmf (sds R9) b\n  0 \\<le> pmf (sds R9) c\n  0 \\<le> pmf (sds R9) d\n  pmf (sds R9) a + pmf (sds R9) b + pmf (sds R9) c + pmf (sds R9) d = 1\n  pmf (sds R9) b = 0\n\ngoal (1 subgoal):\n 1. (pmf (sds R9) b = 0 &&& pmf (sds R9) d = 0) &&&\n    pmf (sds R14) a = pmf (sds R35) a &&&\n    pmf (sds R9) c = 1 - pmf (sds R35) a", "by auto"], ["", "lemma R23 [simp]: \"pmf (sds R23) b = 0\" \"pmf (sds R23) c = 0\" \"pmf (sds R23) d = 1 - pmf (sds R23) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R23) b = 0 &&&\n    pmf (sds R23) c = 0 &&& pmf (sds R23) d = 1 - pmf (sds R23) a", "using R23_R19.strategyproofness(1) lottery_conditions[OF R23.wf] R23.support"], ["proof (prove)\nusing this:\n  pmf (sds R19) d + (pmf (sds R19) b + pmf (sds R19) a)\n  \\<le> pmf (sds R23) d + (pmf (sds R23) b + pmf (sds R23) a)\n  0 \\<le> pmf (sds R23) a\n  0 \\<le> pmf (sds R23) b\n  0 \\<le> pmf (sds R23) c\n  0 \\<le> pmf (sds R23) d\n  pmf (sds R23) a + pmf (sds R23) b + pmf (sds R23) c + pmf (sds R23) d = 1\n  pmf (sds R23) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R23) b = 0 &&&\n    pmf (sds R23) c = 0 &&& pmf (sds R23) d = 1 - pmf (sds R23) a", "by (auto simp del: pmf_nonneg)"], ["", "lemma R35 [simp]: \"pmf (sds R35) a = pmf (sds R21) a\" \"pmf (sds R35) b = 0\" \"pmf (sds R35) c = 0\" \"pmf (sds R35) d = 1 - pmf (sds R21) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R35) a = pmf (sds R21) a &&& pmf (sds R35) b = 0) &&&\n    pmf (sds R35) c = 0 &&& pmf (sds R35) d = 1 - pmf (sds R21) a", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R35) a = pmf (sds R21) a\n 2. pmf (sds R35) b = 0\n 3. pmf (sds R35) c = 0\n 4. pmf (sds R35) d = 1 - pmf (sds R21) a", "from R35_R21.strategyproofness(1) R35.support"], ["proof (chain)\npicking this:\n  pmf (sds R21) c + (pmf (sds R21) b + pmf (sds R21) a)\n  \\<le> pmf (sds R35) c + (pmf (sds R35) b + pmf (sds R35) a)\n  pmf (sds R35) b = 0", "have \"pmf (sds R21) a \\<le> pmf (sds R35) a + pmf (sds R35) c\""], ["proof (prove)\nusing this:\n  pmf (sds R21) c + (pmf (sds R21) b + pmf (sds R21) a)\n  \\<le> pmf (sds R35) c + (pmf (sds R35) b + pmf (sds R35) a)\n  pmf (sds R35) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R21) a \\<le> pmf (sds R35) a + pmf (sds R35) c", "by auto"], ["proof (state)\nthis:\n  pmf (sds R21) a \\<le> pmf (sds R35) a + pmf (sds R35) c\n\ngoal (4 subgoals):\n 1. pmf (sds R35) a = pmf (sds R21) a\n 2. pmf (sds R35) b = 0\n 3. pmf (sds R35) c = 0\n 4. pmf (sds R35) d = 1 - pmf (sds R21) a", "with R21_R35.strategyproofness(1) R35.support lottery_conditions[OF R35.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R35) c < pmf (sds R21) c \\<or>\n   pmf (sds R35) c + (pmf (sds R35) b + pmf (sds R35) a)\n   < pmf (sds R21) c + (pmf (sds R21) b + pmf (sds R21) a)) \\<or>\n  pmf (sds R35) c = pmf (sds R21) c \\<and>\n  pmf (sds R35) c + (pmf (sds R35) b + pmf (sds R35) a) =\n  pmf (sds R21) c + (pmf (sds R21) b + pmf (sds R21) a)\n  pmf (sds R35) b = 0\n  0 \\<le> pmf (sds R35) a\n  0 \\<le> pmf (sds R35) b\n  0 \\<le> pmf (sds R35) c\n  0 \\<le> pmf (sds R35) d\n  pmf (sds R35) a + pmf (sds R35) b + pmf (sds R35) c + pmf (sds R35) d = 1\n  pmf (sds R21) a \\<le> pmf (sds R35) a + pmf (sds R35) c", "show \"pmf (sds R35) a = pmf (sds R21) a\" \"pmf (sds R35) b = 0\" \n         \"pmf (sds R35) c = 0\" \"pmf (sds R35) d = 1 - pmf (sds R21) a\""], ["proof (prove)\nusing this:\n  (pmf (sds R35) c < pmf (sds R21) c \\<or>\n   pmf (sds R35) c + (pmf (sds R35) b + pmf (sds R35) a)\n   < pmf (sds R21) c + (pmf (sds R21) b + pmf (sds R21) a)) \\<or>\n  pmf (sds R35) c = pmf (sds R21) c \\<and>\n  pmf (sds R35) c + (pmf (sds R35) b + pmf (sds R35) a) =\n  pmf (sds R21) c + (pmf (sds R21) b + pmf (sds R21) a)\n  pmf (sds R35) b = 0\n  0 \\<le> pmf (sds R35) a\n  0 \\<le> pmf (sds R35) b\n  0 \\<le> pmf (sds R35) c\n  0 \\<le> pmf (sds R35) d\n  pmf (sds R35) a + pmf (sds R35) b + pmf (sds R35) c + pmf (sds R35) d = 1\n  pmf (sds R21) a \\<le> pmf (sds R35) a + pmf (sds R35) c\n\ngoal (1 subgoal):\n 1. (pmf (sds R35) a = pmf (sds R21) a &&& pmf (sds R35) b = 0) &&&\n    pmf (sds R35) c = 0 &&& pmf (sds R35) d = 1 - pmf (sds R21) a", "by simp_all"], ["proof (state)\nthis:\n  pmf (sds R35) a = pmf (sds R21) a\n  pmf (sds R35) b = 0\n  pmf (sds R35) c = 0\n  pmf (sds R35) d = 1 - pmf (sds R21) a\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R18 [simp]: \"pmf (sds R18) a = pmf (sds R14) a\" \"pmf (sds R18) b = 0\"\n                  \"pmf (sds R18) d = 0\" \"pmf (sds R18) c = 1 - pmf (sds R14) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R18) a = pmf (sds R14) a &&& pmf (sds R18) b = 0) &&&\n    pmf (sds R18) d = 0 &&& pmf (sds R18) c = 1 - pmf (sds R14) a", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R18) a = pmf (sds R14) a\n 2. pmf (sds R18) b = 0\n 3. pmf (sds R18) d = 0\n 4. pmf (sds R18) c = 1 - pmf (sds R14) a", "from R23_R12.strategyproofness(1)"], ["proof (chain)\npicking this:\n  pmf (sds R12) c + pmf (sds R12) a \\<le> pmf (sds R23) c + pmf (sds R23) a", "have R21_R23: \"pmf (sds R21) a \\<le> pmf (sds R23) a\""], ["proof (prove)\nusing this:\n  pmf (sds R12) c + pmf (sds R12) a \\<le> pmf (sds R23) c + pmf (sds R23) a\n\ngoal (1 subgoal):\n 1. pmf (sds R21) a \\<le> pmf (sds R23) a", "by simp"], ["proof (state)\nthis:\n  pmf (sds R21) a \\<le> pmf (sds R23) a\n\ngoal (4 subgoals):\n 1. pmf (sds R18) a = pmf (sds R14) a\n 2. pmf (sds R18) b = 0\n 3. pmf (sds R18) d = 0\n 4. pmf (sds R18) c = 1 - pmf (sds R14) a", "from R23_R18.strategyproofness(1)"], ["proof (chain)\npicking this:\n  pmf (sds R18) c + pmf (sds R18) d \\<le> pmf (sds R23) d + pmf (sds R23) c", "have \"pmf (sds R18) d \\<le> pmf (sds R21) a - pmf (sds R23) a\""], ["proof (prove)\nusing this:\n  pmf (sds R18) c + pmf (sds R18) d \\<le> pmf (sds R23) d + pmf (sds R23) c\n\ngoal (1 subgoal):\n 1. pmf (sds R18) d \\<le> pmf (sds R21) a - pmf (sds R23) a", "by simp"], ["proof (state)\nthis:\n  pmf (sds R18) d \\<le> pmf (sds R21) a - pmf (sds R23) a\n\ngoal (4 subgoals):\n 1. pmf (sds R18) a = pmf (sds R14) a\n 2. pmf (sds R18) b = 0\n 3. pmf (sds R18) d = 0\n 4. pmf (sds R18) c = 1 - pmf (sds R14) a", "also"], ["proof (state)\nthis:\n  pmf (sds R18) d \\<le> pmf (sds R21) a - pmf (sds R23) a\n\ngoal (4 subgoals):\n 1. pmf (sds R18) a = pmf (sds R14) a\n 2. pmf (sds R18) b = 0\n 3. pmf (sds R18) d = 0\n 4. pmf (sds R18) c = 1 - pmf (sds R14) a", "from R21_R23"], ["proof (chain)\npicking this:\n  pmf (sds R21) a \\<le> pmf (sds R23) a", "have \"\\<dots> \\<le> 0\""], ["proof (prove)\nusing this:\n  pmf (sds R21) a \\<le> pmf (sds R23) a\n\ngoal (1 subgoal):\n 1. pmf (sds R21) a - pmf (sds R23) a \\<le> 0", "by simp"], ["proof (state)\nthis:\n  pmf (sds R21) a - pmf (sds R23) a \\<le> 0\n\ngoal (4 subgoals):\n 1. pmf (sds R18) a = pmf (sds R14) a\n 2. pmf (sds R18) b = 0\n 3. pmf (sds R18) d = 0\n 4. pmf (sds R18) c = 1 - pmf (sds R14) a", "finally"], ["proof (chain)\npicking this:\n  pmf (sds R18) d \\<le> 0", "show \"pmf (sds R18) d = 0\""], ["proof (prove)\nusing this:\n  pmf (sds R18) d \\<le> 0\n\ngoal (1 subgoal):\n 1. pmf (sds R18) d = 0", "by simp"], ["proof (state)\nthis:\n  pmf (sds R18) d = 0\n\ngoal (3 subgoals):\n 1. pmf (sds R18) a = pmf (sds R14) a\n 2. pmf (sds R18) b = 0\n 3. pmf (sds R18) c = 1 - pmf (sds R14) a", "with lottery_conditions[OF R18.wf] R18.support"], ["proof (chain)\npicking this:\n  0 \\<le> pmf (sds R18) a\n  0 \\<le> pmf (sds R18) b\n  0 \\<le> pmf (sds R18) c\n  0 \\<le> pmf (sds R18) d\n  pmf (sds R18) a + pmf (sds R18) b + pmf (sds R18) c + pmf (sds R18) d = 1\n  pmf (sds R18) b = 0\n  pmf (sds R18) d = 0", "show \"pmf (sds R18) a = pmf (sds R14) a\"\n         \"pmf (sds R18) c = 1 - pmf (sds R14) a\""], ["proof (prove)\nusing this:\n  0 \\<le> pmf (sds R18) a\n  0 \\<le> pmf (sds R18) b\n  0 \\<le> pmf (sds R18) c\n  0 \\<le> pmf (sds R18) d\n  pmf (sds R18) a + pmf (sds R18) b + pmf (sds R18) c + pmf (sds R18) d = 1\n  pmf (sds R18) b = 0\n  pmf (sds R18) d = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R18) a = pmf (sds R14) a &&&\n    pmf (sds R18) c = 1 - pmf (sds R14) a", "by auto"], ["proof (state)\nthis:\n  pmf (sds R18) a = pmf (sds R14) a\n  pmf (sds R18) c = 1 - pmf (sds R14) a\n\ngoal (1 subgoal):\n 1. pmf (sds R18) b = 0", "qed (insert R18.support, simp_all)"], ["", "lemma R4 [simp]: \"pmf (sds R4) a = pmf (sds R21) a\" \"pmf (sds R4) b = 0\"\n                 \"pmf (sds R4) c = 1 - pmf (sds R4) a\" \"pmf (sds R4) d = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R4) a = pmf (sds R21) a &&& pmf (sds R4) b = 0) &&&\n    pmf (sds R4) c = 1 - pmf (sds R4) a &&& pmf (sds R4) d = 0", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R4) a = pmf (sds R21) a\n 2. pmf (sds R4) b = 0\n 3. pmf (sds R4) c = 1 - pmf (sds R4) a\n 4. pmf (sds R4) d = 0", "from R30_R21.strategyproofness(1) R30.support lottery_conditions[OF R30.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R21) b + pmf (sds R21) a\n   < pmf (sds R30) b + pmf (sds R30) a \\<or>\n   pmf (sds R21) b + (pmf (sds R21) a + pmf (sds R21) d)\n   < pmf (sds R30) b + (pmf (sds R30) a + pmf (sds R30) d)) \\<or>\n  pmf (sds R21) b + pmf (sds R21) a =\n  pmf (sds R30) b + pmf (sds R30) a \\<and>\n  pmf (sds R21) b + (pmf (sds R21) a + pmf (sds R21) d) =\n  pmf (sds R30) b + (pmf (sds R30) a + pmf (sds R30) d)\n  pmf (sds R30) b = 0\n  0 \\<le> pmf (sds R30) a\n  0 \\<le> pmf (sds R30) b\n  0 \\<le> pmf (sds R30) c\n  0 \\<le> pmf (sds R30) d\n  pmf (sds R30) a + pmf (sds R30) b + pmf (sds R30) c + pmf (sds R30) d = 1", "have \"pmf (sds R4) c + pmf (sds R21) a \\<le> pmf (sds R4) c + pmf (sds R30) a\""], ["proof (prove)\nusing this:\n  (pmf (sds R21) b + pmf (sds R21) a\n   < pmf (sds R30) b + pmf (sds R30) a \\<or>\n   pmf (sds R21) b + (pmf (sds R21) a + pmf (sds R21) d)\n   < pmf (sds R30) b + (pmf (sds R30) a + pmf (sds R30) d)) \\<or>\n  pmf (sds R21) b + pmf (sds R21) a =\n  pmf (sds R30) b + pmf (sds R30) a \\<and>\n  pmf (sds R21) b + (pmf (sds R21) a + pmf (sds R21) d) =\n  pmf (sds R30) b + (pmf (sds R30) a + pmf (sds R30) d)\n  pmf (sds R30) b = 0\n  0 \\<le> pmf (sds R30) a\n  0 \\<le> pmf (sds R30) b\n  0 \\<le> pmf (sds R30) c\n  0 \\<le> pmf (sds R30) d\n  pmf (sds R30) a + pmf (sds R30) b + pmf (sds R30) c + pmf (sds R30) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R4) c + pmf (sds R21) a \\<le> pmf (sds R4) c + pmf (sds R30) a", "by auto"], ["proof (state)\nthis:\n  pmf (sds R4) c + pmf (sds R21) a \\<le> pmf (sds R4) c + pmf (sds R30) a\n\ngoal (4 subgoals):\n 1. pmf (sds R4) a = pmf (sds R21) a\n 2. pmf (sds R4) b = 0\n 3. pmf (sds R4) c = 1 - pmf (sds R4) a\n 4. pmf (sds R4) d = 0", "also"], ["proof (state)\nthis:\n  pmf (sds R4) c + pmf (sds R21) a \\<le> pmf (sds R4) c + pmf (sds R30) a\n\ngoal (4 subgoals):\n 1. pmf (sds R4) a = pmf (sds R21) a\n 2. pmf (sds R4) b = 0\n 3. pmf (sds R4) c = 1 - pmf (sds R4) a\n 4. pmf (sds R4) d = 0", "{"], ["proof (state)\nthis:\n  pmf (sds R4) c + pmf (sds R21) a \\<le> pmf (sds R4) c + pmf (sds R30) a\n\ngoal (4 subgoals):\n 1. pmf (sds R4) a = pmf (sds R21) a\n 2. pmf (sds R4) b = 0\n 3. pmf (sds R4) c = 1 - pmf (sds R4) a\n 4. pmf (sds R4) d = 0", "have \"pmf (sds R30) a \\<le> pmf (sds R47) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R30) a \\<le> pmf (sds R47) a", "using R47_R30.strategyproofness(1) R30.support R47.support \n             lottery_conditions[OF R4.wf] lottery_conditions[OF R47.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R30) b + pmf (sds R30) a \\<le> pmf (sds R47) b + pmf (sds R47) a\n  pmf (sds R30) b = 0\n  pmf (sds R47) b = 0\n  0 \\<le> pmf (sds R4) a\n  0 \\<le> pmf (sds R4) b\n  0 \\<le> pmf (sds R4) c\n  0 \\<le> pmf (sds R4) d\n  pmf (sds R4) a + pmf (sds R4) b + pmf (sds R4) c + pmf (sds R4) d = 1\n  0 \\<le> pmf (sds R47) a\n  0 \\<le> pmf (sds R47) b\n  0 \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) d\n  pmf (sds R47) a + pmf (sds R47) b + pmf (sds R47) c + pmf (sds R47) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R30) a \\<le> pmf (sds R47) a", "by auto"], ["proof (state)\nthis:\n  pmf (sds R30) a \\<le> pmf (sds R47) a\n\ngoal (4 subgoals):\n 1. pmf (sds R4) a = pmf (sds R21) a\n 2. pmf (sds R4) b = 0\n 3. pmf (sds R4) c = 1 - pmf (sds R4) a\n 4. pmf (sds R4) d = 0", "moreover"], ["proof (state)\nthis:\n  pmf (sds R30) a \\<le> pmf (sds R47) a\n\ngoal (4 subgoals):\n 1. pmf (sds R4) a = pmf (sds R21) a\n 2. pmf (sds R4) b = 0\n 3. pmf (sds R4) c = 1 - pmf (sds R4) a\n 4. pmf (sds R4) d = 0", "from R4_R47.strategyproofness(1) R4.support R47.support\n           lottery_conditions[OF R4.wf] lottery_conditions[OF R47.wf]"], ["proof (chain)\npicking this:\n  pmf (sds R47) d + pmf (sds R47) a \\<le> pmf (sds R4) d + pmf (sds R4) a\n  pmf (sds R4) b = 0\n  pmf (sds R47) b = 0\n  0 \\<le> pmf (sds R4) a\n  0 \\<le> pmf (sds R4) b\n  0 \\<le> pmf (sds R4) c\n  0 \\<le> pmf (sds R4) d\n  pmf (sds R4) a + pmf (sds R4) b + pmf (sds R4) c + pmf (sds R4) d = 1\n  0 \\<le> pmf (sds R47) a\n  0 \\<le> pmf (sds R47) b\n  0 \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) d\n  pmf (sds R47) a + pmf (sds R47) b + pmf (sds R47) c + pmf (sds R47) d = 1", "have \"pmf (sds R4) c \\<le> pmf (sds R47) c\""], ["proof (prove)\nusing this:\n  pmf (sds R47) d + pmf (sds R47) a \\<le> pmf (sds R4) d + pmf (sds R4) a\n  pmf (sds R4) b = 0\n  pmf (sds R47) b = 0\n  0 \\<le> pmf (sds R4) a\n  0 \\<le> pmf (sds R4) b\n  0 \\<le> pmf (sds R4) c\n  0 \\<le> pmf (sds R4) d\n  pmf (sds R4) a + pmf (sds R4) b + pmf (sds R4) c + pmf (sds R4) d = 1\n  0 \\<le> pmf (sds R47) a\n  0 \\<le> pmf (sds R47) b\n  0 \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) d\n  pmf (sds R47) a + pmf (sds R47) b + pmf (sds R47) c + pmf (sds R47) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R4) c \\<le> pmf (sds R47) c", "by simp"], ["proof (state)\nthis:\n  pmf (sds R4) c \\<le> pmf (sds R47) c\n\ngoal (4 subgoals):\n 1. pmf (sds R4) a = pmf (sds R21) a\n 2. pmf (sds R4) b = 0\n 3. pmf (sds R4) c = 1 - pmf (sds R4) a\n 4. pmf (sds R4) d = 0", "ultimately"], ["proof (chain)\npicking this:\n  pmf (sds R30) a \\<le> pmf (sds R47) a\n  pmf (sds R4) c \\<le> pmf (sds R47) c", "have \"pmf (sds R4) c + pmf (sds R30) a \\<le> 1 - pmf (sds R47) d\""], ["proof (prove)\nusing this:\n  pmf (sds R30) a \\<le> pmf (sds R47) a\n  pmf (sds R4) c \\<le> pmf (sds R47) c\n\ngoal (1 subgoal):\n 1. pmf (sds R4) c + pmf (sds R30) a \\<le> 1 - pmf (sds R47) d", "using lottery_conditions[OF R47.wf] R47.support"], ["proof (prove)\nusing this:\n  pmf (sds R30) a \\<le> pmf (sds R47) a\n  pmf (sds R4) c \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) a\n  0 \\<le> pmf (sds R47) b\n  0 \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) d\n  pmf (sds R47) a + pmf (sds R47) b + pmf (sds R47) c + pmf (sds R47) d = 1\n  pmf (sds R47) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R4) c + pmf (sds R30) a \\<le> 1 - pmf (sds R47) d", "by simp"], ["proof (state)\nthis:\n  pmf (sds R4) c + pmf (sds R30) a \\<le> 1 - pmf (sds R47) d\n\ngoal (4 subgoals):\n 1. pmf (sds R4) a = pmf (sds R21) a\n 2. pmf (sds R4) b = 0\n 3. pmf (sds R4) c = 1 - pmf (sds R4) a\n 4. pmf (sds R4) d = 0", "}"], ["proof (state)\nthis:\n  pmf (sds R4) c + pmf (sds R30) a \\<le> 1 - pmf (sds R47) d\n\ngoal (4 subgoals):\n 1. pmf (sds R4) a = pmf (sds R21) a\n 2. pmf (sds R4) b = 0\n 3. pmf (sds R4) c = 1 - pmf (sds R4) a\n 4. pmf (sds R4) d = 0", "finally"], ["proof (chain)\npicking this:\n  pmf (sds R4) c + pmf (sds R21) a \\<le> 1 - pmf (sds R47) d", "have \"pmf (sds R4) c + pmf (sds R14) a \\<le> 1\""], ["proof (prove)\nusing this:\n  pmf (sds R4) c + pmf (sds R21) a \\<le> 1 - pmf (sds R47) d\n\ngoal (1 subgoal):\n 1. pmf (sds R4) c + pmf (sds R14) a \\<le> 1", "using lottery_conditions[OF R47.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R4) c + pmf (sds R21) a \\<le> 1 - pmf (sds R47) d\n  0 \\<le> pmf (sds R47) a\n  0 \\<le> pmf (sds R47) b\n  0 \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) d\n  pmf (sds R47) a + pmf (sds R47) b + pmf (sds R47) c + pmf (sds R47) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R4) c + pmf (sds R14) a \\<le> 1", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R4) c + pmf (sds R14) a \\<le> 1\n\ngoal (4 subgoals):\n 1. pmf (sds R4) a = pmf (sds R21) a\n 2. pmf (sds R4) b = 0\n 3. pmf (sds R4) c = 1 - pmf (sds R4) a\n 4. pmf (sds R4) d = 0", "with R4_R18.strategyproofness(1) lottery_conditions[OF R4.wf] R4.support"], ["proof (chain)\npicking this:\n  (pmf (sds R18) c < pmf (sds R4) c \\<or>\n   pmf (sds R18) c + (pmf (sds R18) b + pmf (sds R18) a)\n   < pmf (sds R4) c + (pmf (sds R4) b + pmf (sds R4) a)) \\<or>\n  pmf (sds R18) c = pmf (sds R4) c \\<and>\n  pmf (sds R18) c + (pmf (sds R18) b + pmf (sds R18) a) =\n  pmf (sds R4) c + (pmf (sds R4) b + pmf (sds R4) a)\n  0 \\<le> pmf (sds R4) a\n  0 \\<le> pmf (sds R4) b\n  0 \\<le> pmf (sds R4) c\n  0 \\<le> pmf (sds R4) d\n  pmf (sds R4) a + pmf (sds R4) b + pmf (sds R4) c + pmf (sds R4) d = 1\n  pmf (sds R4) b = 0\n  pmf (sds R4) c + pmf (sds R14) a \\<le> 1", "show \"pmf (sds R4) a = pmf (sds R21) a\" \"pmf (sds R4) b = 0\"\n         \"pmf (sds R4) c = 1 - pmf (sds R4) a\" \"pmf (sds R4) d = 0\""], ["proof (prove)\nusing this:\n  (pmf (sds R18) c < pmf (sds R4) c \\<or>\n   pmf (sds R18) c + (pmf (sds R18) b + pmf (sds R18) a)\n   < pmf (sds R4) c + (pmf (sds R4) b + pmf (sds R4) a)) \\<or>\n  pmf (sds R18) c = pmf (sds R4) c \\<and>\n  pmf (sds R18) c + (pmf (sds R18) b + pmf (sds R18) a) =\n  pmf (sds R4) c + (pmf (sds R4) b + pmf (sds R4) a)\n  0 \\<le> pmf (sds R4) a\n  0 \\<le> pmf (sds R4) b\n  0 \\<le> pmf (sds R4) c\n  0 \\<le> pmf (sds R4) d\n  pmf (sds R4) a + pmf (sds R4) b + pmf (sds R4) c + pmf (sds R4) d = 1\n  pmf (sds R4) b = 0\n  pmf (sds R4) c + pmf (sds R14) a \\<le> 1\n\ngoal (1 subgoal):\n 1. (pmf (sds R4) a = pmf (sds R21) a &&& pmf (sds R4) b = 0) &&&\n    pmf (sds R4) c = 1 - pmf (sds R4) a &&& pmf (sds R4) d = 0", "by auto"], ["proof (state)\nthis:\n  pmf (sds R4) a = pmf (sds R21) a\n  pmf (sds R4) b = 0\n  pmf (sds R4) c = 1 - pmf (sds R4) a\n  pmf (sds R4) d = 0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R8_d [simp]: \"pmf (sds R8) d = 1 - pmf (sds R8) a\"\n  and R8_c [simp]: \"pmf (sds R8) c = 0\"\n  and R26_a [simp]: \"pmf (sds R26) a = 1 - pmf (sds R8) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R8) d = 1 - pmf (sds R8) a &&&\n    pmf (sds R8) c = 0 &&& pmf (sds R26) a = 1 - pmf (sds R8) a", "proof -"], ["proof (state)\ngoal (3 subgoals):\n 1. pmf (sds R8) d = 1 - pmf (sds R8) a\n 2. pmf (sds R8) c = 0\n 3. pmf (sds R26) a = 1 - pmf (sds R8) a", "from R8_R26.strategyproofness(2) R8.support lottery_conditions[OF R8.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R26) a < pmf (sds R8) d \\<or>\n   pmf (sds R26) a + (pmf (sds R26) b + pmf (sds R26) d)\n   < pmf (sds R8) d + (pmf (sds R8) b + pmf (sds R8) a)) \\<or>\n  pmf (sds R26) a = pmf (sds R8) d \\<and>\n  pmf (sds R26) a + (pmf (sds R26) b + pmf (sds R26) d) =\n  pmf (sds R8) d + (pmf (sds R8) b + pmf (sds R8) a)\n  pmf (sds R8) b = 0\n  0 \\<le> pmf (sds R8) a\n  0 \\<le> pmf (sds R8) b\n  0 \\<le> pmf (sds R8) c\n  0 \\<le> pmf (sds R8) d\n  pmf (sds R8) a + pmf (sds R8) b + pmf (sds R8) c + pmf (sds R8) d = 1", "have \"pmf (sds R26) a \\<le> pmf (sds R8) d\""], ["proof (prove)\nusing this:\n  (pmf (sds R26) a < pmf (sds R8) d \\<or>\n   pmf (sds R26) a + (pmf (sds R26) b + pmf (sds R26) d)\n   < pmf (sds R8) d + (pmf (sds R8) b + pmf (sds R8) a)) \\<or>\n  pmf (sds R26) a = pmf (sds R8) d \\<and>\n  pmf (sds R26) a + (pmf (sds R26) b + pmf (sds R26) d) =\n  pmf (sds R8) d + (pmf (sds R8) b + pmf (sds R8) a)\n  pmf (sds R8) b = 0\n  0 \\<le> pmf (sds R8) a\n  0 \\<le> pmf (sds R8) b\n  0 \\<le> pmf (sds R8) c\n  0 \\<le> pmf (sds R8) d\n  pmf (sds R8) a + pmf (sds R8) b + pmf (sds R8) c + pmf (sds R8) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R26) a \\<le> pmf (sds R8) d", "by auto"], ["proof (state)\nthis:\n  pmf (sds R26) a \\<le> pmf (sds R8) d\n\ngoal (3 subgoals):\n 1. pmf (sds R8) d = 1 - pmf (sds R8) a\n 2. pmf (sds R8) c = 0\n 3. pmf (sds R26) a = 1 - pmf (sds R8) a", "with R26_R8.strategyproofness(2) R8.support lottery_conditions[OF R8.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R8) d < pmf (sds R26) a \\<or>\n   pmf (sds R8) d + pmf (sds R8) b\n   < pmf (sds R26) a + pmf (sds R26) b) \\<or>\n  pmf (sds R8) d = pmf (sds R26) a \\<and>\n  pmf (sds R8) d + pmf (sds R8) b = pmf (sds R26) a + pmf (sds R26) b\n  pmf (sds R8) b = 0\n  0 \\<le> pmf (sds R8) a\n  0 \\<le> pmf (sds R8) b\n  0 \\<le> pmf (sds R8) c\n  0 \\<le> pmf (sds R8) d\n  pmf (sds R8) a + pmf (sds R8) b + pmf (sds R8) c + pmf (sds R8) d = 1\n  pmf (sds R26) a \\<le> pmf (sds R8) d", "have \"pmf (sds R26) a = pmf (sds R8) d\""], ["proof (prove)\nusing this:\n  (pmf (sds R8) d < pmf (sds R26) a \\<or>\n   pmf (sds R8) d + pmf (sds R8) b\n   < pmf (sds R26) a + pmf (sds R26) b) \\<or>\n  pmf (sds R8) d = pmf (sds R26) a \\<and>\n  pmf (sds R8) d + pmf (sds R8) b = pmf (sds R26) a + pmf (sds R26) b\n  pmf (sds R8) b = 0\n  0 \\<le> pmf (sds R8) a\n  0 \\<le> pmf (sds R8) b\n  0 \\<le> pmf (sds R8) c\n  0 \\<le> pmf (sds R8) d\n  pmf (sds R8) a + pmf (sds R8) b + pmf (sds R8) c + pmf (sds R8) d = 1\n  pmf (sds R26) a \\<le> pmf (sds R8) d\n\ngoal (1 subgoal):\n 1. pmf (sds R26) a = pmf (sds R8) d", "by auto"], ["proof (state)\nthis:\n  pmf (sds R26) a = pmf (sds R8) d\n\ngoal (3 subgoals):\n 1. pmf (sds R8) d = 1 - pmf (sds R8) a\n 2. pmf (sds R8) c = 0\n 3. pmf (sds R26) a = 1 - pmf (sds R8) a", "with R8_R26.strategyproofness(2) R8.support lottery_conditions[OF R8.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R26) a < pmf (sds R8) d \\<or>\n   pmf (sds R26) a + (pmf (sds R26) b + pmf (sds R26) d)\n   < pmf (sds R8) d + (pmf (sds R8) b + pmf (sds R8) a)) \\<or>\n  pmf (sds R26) a = pmf (sds R8) d \\<and>\n  pmf (sds R26) a + (pmf (sds R26) b + pmf (sds R26) d) =\n  pmf (sds R8) d + (pmf (sds R8) b + pmf (sds R8) a)\n  pmf (sds R8) b = 0\n  0 \\<le> pmf (sds R8) a\n  0 \\<le> pmf (sds R8) b\n  0 \\<le> pmf (sds R8) c\n  0 \\<le> pmf (sds R8) d\n  pmf (sds R8) a + pmf (sds R8) b + pmf (sds R8) c + pmf (sds R8) d = 1\n  pmf (sds R26) a = pmf (sds R8) d", "show \"pmf (sds R8) c = 0\" \"pmf (sds R8) d = 1 - pmf (sds R8) a\" \n         \"pmf (sds R26) a = 1 - pmf (sds R8) a\""], ["proof (prove)\nusing this:\n  (pmf (sds R26) a < pmf (sds R8) d \\<or>\n   pmf (sds R26) a + (pmf (sds R26) b + pmf (sds R26) d)\n   < pmf (sds R8) d + (pmf (sds R8) b + pmf (sds R8) a)) \\<or>\n  pmf (sds R26) a = pmf (sds R8) d \\<and>\n  pmf (sds R26) a + (pmf (sds R26) b + pmf (sds R26) d) =\n  pmf (sds R8) d + (pmf (sds R8) b + pmf (sds R8) a)\n  pmf (sds R8) b = 0\n  0 \\<le> pmf (sds R8) a\n  0 \\<le> pmf (sds R8) b\n  0 \\<le> pmf (sds R8) c\n  0 \\<le> pmf (sds R8) d\n  pmf (sds R8) a + pmf (sds R8) b + pmf (sds R8) c + pmf (sds R8) d = 1\n  pmf (sds R26) a = pmf (sds R8) d\n\ngoal (1 subgoal):\n 1. pmf (sds R8) c = 0 &&&\n    pmf (sds R8) d = 1 - pmf (sds R8) a &&&\n    pmf (sds R26) a = 1 - pmf (sds R8) a", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R8) c = 0\n  pmf (sds R8) d = 1 - pmf (sds R8) a\n  pmf (sds R26) a = 1 - pmf (sds R8) a\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R21_R47: \"pmf (sds R21) d \\<le> pmf (sds R47) c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R21) d \\<le> pmf (sds R47) c", "using R4_R47.strategyproofness(1) R4.support R47.support\n         lottery_conditions[OF R4.wf] lottery_conditions[OF R47.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R47) d + pmf (sds R47) a \\<le> pmf (sds R4) d + pmf (sds R4) a\n  pmf (sds R4) b = 0\n  pmf (sds R47) b = 0\n  0 \\<le> pmf (sds R4) a\n  0 \\<le> pmf (sds R4) b\n  0 \\<le> pmf (sds R4) c\n  0 \\<le> pmf (sds R4) d\n  pmf (sds R4) a + pmf (sds R4) b + pmf (sds R4) c + pmf (sds R4) d = 1\n  0 \\<le> pmf (sds R47) a\n  0 \\<le> pmf (sds R47) b\n  0 \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) d\n  pmf (sds R47) a + pmf (sds R47) b + pmf (sds R47) c + pmf (sds R47) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R21) d \\<le> pmf (sds R47) c", "by auto"], ["", "lemma R30 [simp]: \"pmf (sds R30) a = pmf (sds R47) a\" \"pmf (sds R30) b = 0\" \n  \"pmf (sds R30) c = 0\" \"pmf (sds R30) d = 1 - pmf (sds R47) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pmf (sds R30) a = pmf (sds R47) a &&& pmf (sds R30) b = 0) &&&\n    pmf (sds R30) c = 0 &&& pmf (sds R30) d = 1 - pmf (sds R47) a", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. pmf (sds R30) a = pmf (sds R47) a\n 2. pmf (sds R30) b = 0\n 3. pmf (sds R30) c = 0\n 4. pmf (sds R30) d = 1 - pmf (sds R47) a", "have A: \"pmf (sds R30) a \\<le> pmf (sds R47) a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R30) a \\<le> pmf (sds R47) a", "using R47_R30.strategyproofness(1) R30.support R47.support \n           lottery_conditions[OF R4.wf] lottery_conditions[OF R47.wf]"], ["proof (prove)\nusing this:\n  pmf (sds R30) b + pmf (sds R30) a \\<le> pmf (sds R47) b + pmf (sds R47) a\n  pmf (sds R30) b = 0\n  pmf (sds R47) b = 0\n  0 \\<le> pmf (sds R4) a\n  0 \\<le> pmf (sds R4) b\n  0 \\<le> pmf (sds R4) c\n  0 \\<le> pmf (sds R4) d\n  pmf (sds R4) a + pmf (sds R4) b + pmf (sds R4) c + pmf (sds R4) d = 1\n  0 \\<le> pmf (sds R47) a\n  0 \\<le> pmf (sds R47) b\n  0 \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) d\n  pmf (sds R47) a + pmf (sds R47) b + pmf (sds R47) c + pmf (sds R47) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R30) a \\<le> pmf (sds R47) a", "by auto"], ["proof (state)\nthis:\n  pmf (sds R30) a \\<le> pmf (sds R47) a\n\ngoal (4 subgoals):\n 1. pmf (sds R30) a = pmf (sds R47) a\n 2. pmf (sds R30) b = 0\n 3. pmf (sds R30) c = 0\n 4. pmf (sds R30) d = 1 - pmf (sds R47) a", "with R21_R47 R30_R21.strategyproofness(1) \n    lottery_conditions[OF R30.wf] lottery_conditions[OF R47.wf]"], ["proof (chain)\npicking this:\n  pmf (sds R21) d \\<le> pmf (sds R47) c\n  (pmf (sds R21) b + pmf (sds R21) a\n   < pmf (sds R30) b + pmf (sds R30) a \\<or>\n   pmf (sds R21) b + (pmf (sds R21) a + pmf (sds R21) d)\n   < pmf (sds R30) b + (pmf (sds R30) a + pmf (sds R30) d)) \\<or>\n  pmf (sds R21) b + pmf (sds R21) a =\n  pmf (sds R30) b + pmf (sds R30) a \\<and>\n  pmf (sds R21) b + (pmf (sds R21) a + pmf (sds R21) d) =\n  pmf (sds R30) b + (pmf (sds R30) a + pmf (sds R30) d)\n  0 \\<le> pmf (sds R30) a\n  0 \\<le> pmf (sds R30) b\n  0 \\<le> pmf (sds R30) c\n  0 \\<le> pmf (sds R30) d\n  pmf (sds R30) a + pmf (sds R30) b + pmf (sds R30) c + pmf (sds R30) d = 1\n  0 \\<le> pmf (sds R47) a\n  0 \\<le> pmf (sds R47) b\n  0 \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) d\n  pmf (sds R47) a + pmf (sds R47) b + pmf (sds R47) c + pmf (sds R47) d = 1\n  pmf (sds R30) a \\<le> pmf (sds R47) a", "show \"pmf (sds R30) a = pmf (sds R47) a\" \"pmf (sds R30) b = 0\" \n         \"pmf (sds R30) c = 0\" \"pmf (sds R30) d = 1 - pmf (sds R47) a\""], ["proof (prove)\nusing this:\n  pmf (sds R21) d \\<le> pmf (sds R47) c\n  (pmf (sds R21) b + pmf (sds R21) a\n   < pmf (sds R30) b + pmf (sds R30) a \\<or>\n   pmf (sds R21) b + (pmf (sds R21) a + pmf (sds R21) d)\n   < pmf (sds R30) b + (pmf (sds R30) a + pmf (sds R30) d)) \\<or>\n  pmf (sds R21) b + pmf (sds R21) a =\n  pmf (sds R30) b + pmf (sds R30) a \\<and>\n  pmf (sds R21) b + (pmf (sds R21) a + pmf (sds R21) d) =\n  pmf (sds R30) b + (pmf (sds R30) a + pmf (sds R30) d)\n  0 \\<le> pmf (sds R30) a\n  0 \\<le> pmf (sds R30) b\n  0 \\<le> pmf (sds R30) c\n  0 \\<le> pmf (sds R30) d\n  pmf (sds R30) a + pmf (sds R30) b + pmf (sds R30) c + pmf (sds R30) d = 1\n  0 \\<le> pmf (sds R47) a\n  0 \\<le> pmf (sds R47) b\n  0 \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) d\n  pmf (sds R47) a + pmf (sds R47) b + pmf (sds R47) c + pmf (sds R47) d = 1\n  pmf (sds R30) a \\<le> pmf (sds R47) a\n\ngoal (1 subgoal):\n 1. (pmf (sds R30) a = pmf (sds R47) a &&& pmf (sds R30) b = 0) &&&\n    pmf (sds R30) c = 0 &&& pmf (sds R30) d = 1 - pmf (sds R47) a", "by (auto simp: R30.support R47.support simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R30) a = pmf (sds R47) a\n  pmf (sds R30) b = 0\n  pmf (sds R30) c = 0\n  pmf (sds R30) d = 1 - pmf (sds R47) a\n\ngoal:\nNo subgoals!", "(* tricky step! *)"], ["proof (state)\nthis:\n  pmf (sds R30) a = pmf (sds R47) a\n  pmf (sds R30) b = 0\n  pmf (sds R30) c = 0\n  pmf (sds R30) d = 1 - pmf (sds R47) a\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R31_c_ge_one_half: \"pmf (sds R31) c \\<ge> 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "from R25.support"], ["proof (chain)\npicking this:\n  pmf (sds R25) b = 0 \\<or> pmf (sds R25) c = 0", "have \"pmf (sds R25) a \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R25) b = 0 \\<or> pmf (sds R25) c = 0\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R25) a", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. pmf (sds R25) b = 0 \\<Longrightarrow> 1 / 2 \\<le> pmf (sds R25) a\n 2. pmf (sds R25) c = 0 \\<Longrightarrow> 1 / 2 \\<le> pmf (sds R25) a", "assume \"pmf (sds R25) c = 0\""], ["proof (state)\nthis:\n  pmf (sds R25) c = 0\n\ngoal (2 subgoals):\n 1. pmf (sds R25) b = 0 \\<Longrightarrow> 1 / 2 \\<le> pmf (sds R25) a\n 2. pmf (sds R25) c = 0 \\<Longrightarrow> 1 / 2 \\<le> pmf (sds R25) a", "with R25_R36.strategyproofness(1) lottery_conditions[OF R36.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R36) a < pmf (sds R25) a \\<or>\n   pmf (sds R36) a + pmf (sds R36) c\n   < pmf (sds R25) a + pmf (sds R25) c) \\<or>\n  pmf (sds R36) a = pmf (sds R25) a \\<and>\n  pmf (sds R36) a + pmf (sds R36) c = pmf (sds R25) a + pmf (sds R25) c\n  0 \\<le> pmf (sds R36) a\n  0 \\<le> pmf (sds R36) b\n  0 \\<le> pmf (sds R36) c\n  0 \\<le> pmf (sds R36) d\n  pmf (sds R36) a + pmf (sds R36) b + pmf (sds R36) c + pmf (sds R36) d = 1\n  pmf (sds R25) c = 0", "show \"pmf (sds R25) a \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R36) a < pmf (sds R25) a \\<or>\n   pmf (sds R36) a + pmf (sds R36) c\n   < pmf (sds R25) a + pmf (sds R25) c) \\<or>\n  pmf (sds R36) a = pmf (sds R25) a \\<and>\n  pmf (sds R36) a + pmf (sds R36) c = pmf (sds R25) a + pmf (sds R25) c\n  0 \\<le> pmf (sds R36) a\n  0 \\<le> pmf (sds R36) b\n  0 \\<le> pmf (sds R36) c\n  0 \\<le> pmf (sds R36) d\n  pmf (sds R36) a + pmf (sds R36) b + pmf (sds R36) c + pmf (sds R36) d = 1\n  pmf (sds R25) c = 0\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R25) a", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R25) a\n\ngoal (1 subgoal):\n 1. pmf (sds R25) b = 0 \\<Longrightarrow> 1 / 2 \\<le> pmf (sds R25) a", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. pmf (sds R25) b = 0 \\<Longrightarrow> 1 / 2 \\<le> pmf (sds R25) a", "assume [simp]: \"pmf (sds R25) b = 0\""], ["proof (state)\nthis:\n  pmf (sds R25) b = 0\n\ngoal (1 subgoal):\n 1. pmf (sds R25) b = 0 \\<Longrightarrow> 1 / 2 \\<le> pmf (sds R25) a", "from R36_R25.strategyproofness(1) lottery_conditions[OF R25.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R25) c + pmf (sds R25) a\n   < pmf (sds R36) c + pmf (sds R36) a \\<or>\n   pmf (sds R25) c + (pmf (sds R25) a + pmf (sds R25) d)\n   < pmf (sds R36) c + (pmf (sds R36) a + pmf (sds R36) d)) \\<or>\n  pmf (sds R25) c + pmf (sds R25) a =\n  pmf (sds R36) c + pmf (sds R36) a \\<and>\n  pmf (sds R25) c + (pmf (sds R25) a + pmf (sds R25) d) =\n  pmf (sds R36) c + (pmf (sds R36) a + pmf (sds R36) d)\n  0 \\<le> pmf (sds R25) a\n  0 \\<le> pmf (sds R25) b\n  0 \\<le> pmf (sds R25) c\n  0 \\<le> pmf (sds R25) d\n  pmf (sds R25) a + pmf (sds R25) b + pmf (sds R25) c + pmf (sds R25) d = 1", "have \"pmf (sds R25) c + pmf (sds R25) a \\<le> pmf (sds R36) c + 1 / 2\""], ["proof (prove)\nusing this:\n  (pmf (sds R25) c + pmf (sds R25) a\n   < pmf (sds R36) c + pmf (sds R36) a \\<or>\n   pmf (sds R25) c + (pmf (sds R25) a + pmf (sds R25) d)\n   < pmf (sds R36) c + (pmf (sds R36) a + pmf (sds R36) d)) \\<or>\n  pmf (sds R25) c + pmf (sds R25) a =\n  pmf (sds R36) c + pmf (sds R36) a \\<and>\n  pmf (sds R25) c + (pmf (sds R25) a + pmf (sds R25) d) =\n  pmf (sds R36) c + (pmf (sds R36) a + pmf (sds R36) d)\n  0 \\<le> pmf (sds R25) a\n  0 \\<le> pmf (sds R25) b\n  0 \\<le> pmf (sds R25) c\n  0 \\<le> pmf (sds R25) d\n  pmf (sds R25) a + pmf (sds R25) b + pmf (sds R25) c + pmf (sds R25) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R25) c + pmf (sds R25) a \\<le> pmf (sds R36) c + 1 / 2", "by auto"], ["proof (state)\nthis:\n  pmf (sds R25) c + pmf (sds R25) a \\<le> pmf (sds R36) c + 1 / 2\n\ngoal (1 subgoal):\n 1. pmf (sds R25) b = 0 \\<Longrightarrow> 1 / 2 \\<le> pmf (sds R25) a", "with R25_R36.strategyproofness(1)"], ["proof (chain)\npicking this:\n  (pmf (sds R36) a < pmf (sds R25) a \\<or>\n   pmf (sds R36) a + pmf (sds R36) c\n   < pmf (sds R25) a + pmf (sds R25) c) \\<or>\n  pmf (sds R36) a = pmf (sds R25) a \\<and>\n  pmf (sds R36) a + pmf (sds R36) c = pmf (sds R25) a + pmf (sds R25) c\n  pmf (sds R25) c + pmf (sds R25) a \\<le> pmf (sds R36) c + 1 / 2", "show \"pmf (sds R25) a \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  (pmf (sds R36) a < pmf (sds R25) a \\<or>\n   pmf (sds R36) a + pmf (sds R36) c\n   < pmf (sds R25) a + pmf (sds R25) c) \\<or>\n  pmf (sds R36) a = pmf (sds R25) a \\<and>\n  pmf (sds R36) a + pmf (sds R36) c = pmf (sds R25) a + pmf (sds R25) c\n  pmf (sds R25) c + pmf (sds R25) a \\<le> pmf (sds R36) c + 1 / 2\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R25) a", "by auto"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R25) a\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R25) a\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "hence \"pmf (sds R26) a \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R25) a\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R26) a", "using R25_R26.strategyproofness(1) lottery_conditions[OF R25.wf]"], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R25) a\n  (pmf (sds R26) d + pmf (sds R26) c\n   < pmf (sds R25) d + pmf (sds R25) b \\<or>\n   pmf (sds R26) d + (pmf (sds R26) c + pmf (sds R26) a)\n   < pmf (sds R25) d + (pmf (sds R25) b + pmf (sds R25) a)) \\<or>\n  pmf (sds R26) d + pmf (sds R26) c =\n  pmf (sds R25) d + pmf (sds R25) b \\<and>\n  pmf (sds R26) d + (pmf (sds R26) c + pmf (sds R26) a) =\n  pmf (sds R25) d + (pmf (sds R25) b + pmf (sds R25) a)\n  0 \\<le> pmf (sds R25) a\n  0 \\<le> pmf (sds R25) b\n  0 \\<le> pmf (sds R25) c\n  0 \\<le> pmf (sds R25) d\n  pmf (sds R25) a + pmf (sds R25) b + pmf (sds R25) c + pmf (sds R25) d = 1\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R26) a", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R26) a\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "with lottery_conditions[OF R47.wf]"], ["proof (chain)\npicking this:\n  0 \\<le> pmf (sds R47) a\n  0 \\<le> pmf (sds R47) b\n  0 \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) d\n  pmf (sds R47) a + pmf (sds R47) b + pmf (sds R47) c + pmf (sds R47) d = 1\n  1 / 2 \\<le> pmf (sds R26) a", "have \"1/2 \\<le> pmf (sds R26) a + pmf (sds R47) d\""], ["proof (prove)\nusing this:\n  0 \\<le> pmf (sds R47) a\n  0 \\<le> pmf (sds R47) b\n  0 \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) d\n  pmf (sds R47) a + pmf (sds R47) b + pmf (sds R47) c + pmf (sds R47) d = 1\n  1 / 2 \\<le> pmf (sds R26) a\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R26) a + pmf (sds R47) d", "by (simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R26) a + pmf (sds R47) d\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "also"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R26) a + pmf (sds R47) d\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "have \"\\<dots> = 1 - pmf (sds R8) a + pmf (sds R47) d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R26) a + pmf (sds R47) d = 1 - pmf (sds R8) a + pmf (sds R47) d", "by simp"], ["proof (state)\nthis:\n  pmf (sds R26) a + pmf (sds R47) d = 1 - pmf (sds R8) a + pmf (sds R47) d\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "also"], ["proof (state)\nthis:\n  pmf (sds R26) a + pmf (sds R47) d = 1 - pmf (sds R8) a + pmf (sds R47) d\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "from R4_R8.strategyproofness(1)"], ["proof (chain)\npicking this:\n  (pmf (sds R8) c < pmf (sds R4) d \\<or>\n   pmf (sds R8) c + pmf (sds R8) d < pmf (sds R4) d + pmf (sds R4) c) \\<or>\n  pmf (sds R8) c = pmf (sds R4) d \\<and>\n  pmf (sds R8) c + pmf (sds R8) d = pmf (sds R4) d + pmf (sds R4) c", "have \"1 - pmf (sds R8) a \\<le> pmf (sds R21) d\""], ["proof (prove)\nusing this:\n  (pmf (sds R8) c < pmf (sds R4) d \\<or>\n   pmf (sds R8) c + pmf (sds R8) d < pmf (sds R4) d + pmf (sds R4) c) \\<or>\n  pmf (sds R8) c = pmf (sds R4) d \\<and>\n  pmf (sds R8) c + pmf (sds R8) d = pmf (sds R4) d + pmf (sds R4) c\n\ngoal (1 subgoal):\n 1. 1 - pmf (sds R8) a \\<le> pmf (sds R21) d", "by auto"], ["proof (state)\nthis:\n  1 - pmf (sds R8) a \\<le> pmf (sds R21) d\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "also"], ["proof (state)\nthis:\n  1 - pmf (sds R8) a \\<le> pmf (sds R21) d\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "note R21_R47"], ["proof (state)\nthis:\n  pmf (sds R21) d \\<le> pmf (sds R47) c\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "also"], ["proof (state)\nthis:\n  pmf (sds R21) d \\<le> pmf (sds R47) c\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "from R30_R41.strategyproofness(1) R41.support \n            lottery_conditions[OF R41.wf] lottery_conditions[OF R47.wf]"], ["proof (chain)\npicking this:\n  (pmf (sds R41) c < pmf (sds R30) c \\<or>\n   pmf (sds R41) c + (pmf (sds R41) b + pmf (sds R41) a)\n   < pmf (sds R30) c + (pmf (sds R30) b + pmf (sds R30) a)) \\<or>\n  pmf (sds R41) c = pmf (sds R30) c \\<and>\n  pmf (sds R41) c + (pmf (sds R41) b + pmf (sds R41) a) =\n  pmf (sds R30) c + (pmf (sds R30) b + pmf (sds R30) a)\n  pmf (sds R41) b = 0\n  0 \\<le> pmf (sds R41) a\n  0 \\<le> pmf (sds R41) b\n  0 \\<le> pmf (sds R41) c\n  0 \\<le> pmf (sds R41) d\n  pmf (sds R41) a + pmf (sds R41) b + pmf (sds R41) c + pmf (sds R41) d = 1\n  0 \\<le> pmf (sds R47) a\n  0 \\<le> pmf (sds R47) b\n  0 \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) d\n  pmf (sds R47) a + pmf (sds R47) b + pmf (sds R47) c + pmf (sds R47) d = 1", "have \"pmf (sds R47) c + pmf (sds R47) d \\<le> pmf (sds R41) d\""], ["proof (prove)\nusing this:\n  (pmf (sds R41) c < pmf (sds R30) c \\<or>\n   pmf (sds R41) c + (pmf (sds R41) b + pmf (sds R41) a)\n   < pmf (sds R30) c + (pmf (sds R30) b + pmf (sds R30) a)) \\<or>\n  pmf (sds R41) c = pmf (sds R30) c \\<and>\n  pmf (sds R41) c + (pmf (sds R41) b + pmf (sds R41) a) =\n  pmf (sds R30) c + (pmf (sds R30) b + pmf (sds R30) a)\n  pmf (sds R41) b = 0\n  0 \\<le> pmf (sds R41) a\n  0 \\<le> pmf (sds R41) b\n  0 \\<le> pmf (sds R41) c\n  0 \\<le> pmf (sds R41) d\n  pmf (sds R41) a + pmf (sds R41) b + pmf (sds R41) c + pmf (sds R41) d = 1\n  0 \\<le> pmf (sds R47) a\n  0 \\<le> pmf (sds R47) b\n  0 \\<le> pmf (sds R47) c\n  0 \\<le> pmf (sds R47) d\n  pmf (sds R47) a + pmf (sds R47) b + pmf (sds R47) c + pmf (sds R47) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R47) c + pmf (sds R47) d \\<le> pmf (sds R41) d", "by (auto simp del: pmf_nonneg)"], ["proof (state)\nthis:\n  pmf (sds R47) c + pmf (sds R47) d \\<le> pmf (sds R41) d\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "also"], ["proof (state)\nthis:\n  pmf (sds R47) c + pmf (sds R47) d \\<le> pmf (sds R41) d\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "from R41_R31.strategyproofness(1) R41.support lottery_conditions[OF R31.wf] \n       lottery_conditions[OF R41.wf]"], ["proof (chain)\npicking this:\n  pmf (sds R31) d + (pmf (sds R31) b + pmf (sds R31) a)\n  \\<le> pmf (sds R41) c + (pmf (sds R41) b + pmf (sds R41) a)\n  pmf (sds R41) b = 0\n  0 \\<le> pmf (sds R31) a\n  0 \\<le> pmf (sds R31) b\n  0 \\<le> pmf (sds R31) c\n  0 \\<le> pmf (sds R31) d\n  pmf (sds R31) a + pmf (sds R31) b + pmf (sds R31) c + pmf (sds R31) d = 1\n  0 \\<le> pmf (sds R41) a\n  0 \\<le> pmf (sds R41) b\n  0 \\<le> pmf (sds R41) c\n  0 \\<le> pmf (sds R41) d\n  pmf (sds R41) a + pmf (sds R41) b + pmf (sds R41) c + pmf (sds R41) d = 1", "have \"pmf (sds R41) d \\<le> pmf (sds R31) c\""], ["proof (prove)\nusing this:\n  pmf (sds R31) d + (pmf (sds R31) b + pmf (sds R31) a)\n  \\<le> pmf (sds R41) c + (pmf (sds R41) b + pmf (sds R41) a)\n  pmf (sds R41) b = 0\n  0 \\<le> pmf (sds R31) a\n  0 \\<le> pmf (sds R31) b\n  0 \\<le> pmf (sds R31) c\n  0 \\<le> pmf (sds R31) d\n  pmf (sds R31) a + pmf (sds R31) b + pmf (sds R31) c + pmf (sds R31) d = 1\n  0 \\<le> pmf (sds R41) a\n  0 \\<le> pmf (sds R41) b\n  0 \\<le> pmf (sds R41) c\n  0 \\<le> pmf (sds R41) d\n  pmf (sds R41) a + pmf (sds R41) b + pmf (sds R41) c + pmf (sds R41) d = 1\n\ngoal (1 subgoal):\n 1. pmf (sds R41) d \\<le> pmf (sds R31) c", "by auto"], ["proof (state)\nthis:\n  pmf (sds R41) d \\<le> pmf (sds R31) c\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              x + pmf (sds R47) d \\<le> y + pmf (sds R47) d;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      x + pmf (sds R47) d \\<le> y + pmf (sds R47) d\\<rbrakk>\n  \\<Longrightarrow> 1 / 2 \\<le> pmf (sds R31) c", "show \"pmf (sds R31) c \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              x + pmf (sds R47) d \\<le> y + pmf (sds R47) d;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      x + pmf (sds R47) d \\<le> y + pmf (sds R47) d\\<rbrakk>\n  \\<Longrightarrow> 1 / 2 \\<le> pmf (sds R31) c\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R31) c", "by simp"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R31) c\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma R31: \"pmf (sds R31) a = 0\" \"pmf (sds R31) c = 1/2\" \"pmf (sds R31) b + pmf (sds R31) d = 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (sds R31) a = 0 &&&\n    pmf (sds R31) c = 1 / 2 &&& pmf (sds R31) b + pmf (sds R31) d = 1 / 2", "proof -"], ["proof (state)\ngoal (3 subgoals):\n 1. pmf (sds R31) a = 0\n 2. pmf (sds R31) c = 1 / 2\n 3. pmf (sds R31) b + pmf (sds R31) d = 1 / 2", "from R2_R38.strategyproofness(1) lottery_conditions[OF R38.wf]"], ["proof (chain)\npicking this:\n  pmf (sds R38) c + pmf (sds R38) a \\<le> pmf (sds R2) c + pmf (sds R2) a\n  0 \\<le> pmf (sds R38) a\n  0 \\<le> pmf (sds R38) b\n  0 \\<le> pmf (sds R38) c\n  0 \\<le> pmf (sds R38) d\n  pmf (sds R38) a + pmf (sds R38) b + pmf (sds R38) c + pmf (sds R38) d = 1", "have A: \"pmf (sds R38) b + pmf (sds R38) d \\<ge> 1/2\""], ["proof (prove)\nusing this:\n  pmf (sds R38) c + pmf (sds R38) a \\<le> pmf (sds R2) c + pmf (sds R2) a\n  0 \\<le> pmf (sds R38) a\n  0 \\<le> pmf (sds R38) b\n  0 \\<le> pmf (sds R38) c\n  0 \\<le> pmf (sds R38) d\n  pmf (sds R38) a + pmf (sds R38) b + pmf (sds R38) c + pmf (sds R38) d = 1\n\ngoal (1 subgoal):\n 1. 1 / 2 \\<le> pmf (sds R38) b + pmf (sds R38) d", "by auto"], ["proof (state)\nthis:\n  1 / 2 \\<le> pmf (sds R38) b + pmf (sds R38) d\n\ngoal (3 subgoals):\n 1. pmf (sds R31) a = 0\n 2. pmf (sds R31) c = 1 / 2\n 3. pmf (sds R31) b + pmf (sds R31) d = 1 / 2", "with R31_c_ge_one_half R31_R38.strategyproofness(1) \n        lottery_conditions[OF R31.wf] lottery_conditions[OF R38.wf]"], ["proof (chain)\npicking this:\n  1 / 2 \\<le> pmf (sds R31) c\n  (pmf (sds R38) b + pmf (sds R38) d\n   < pmf (sds R31) d + pmf (sds R31) b \\<or>\n   pmf (sds R38) b + (pmf (sds R38) d + pmf (sds R38) c)\n   < pmf (sds R31) d + (pmf (sds R31) b + pmf (sds R31) a)) \\<or>\n  pmf (sds R38) b + pmf (sds R38) d =\n  pmf (sds R31) d + pmf (sds R31) b \\<and>\n  pmf (sds R38) b + (pmf (sds R38) d + pmf (sds R38) c) =\n  pmf (sds R31) d + (pmf (sds R31) b + pmf (sds R31) a)\n  0 \\<le> pmf (sds R31) a\n  0 \\<le> pmf (sds R31) b\n  0 \\<le> pmf (sds R31) c\n  0 \\<le> pmf (sds R31) d\n  pmf (sds R31) a + pmf (sds R31) b + pmf (sds R31) c + pmf (sds R31) d = 1\n  0 \\<le> pmf (sds R38) a\n  0 \\<le> pmf (sds R38) b\n  0 \\<le> pmf (sds R38) c\n  0 \\<le> pmf (sds R38) d\n  pmf (sds R38) a + pmf (sds R38) b + pmf (sds R38) c + pmf (sds R38) d = 1\n  1 / 2 \\<le> pmf (sds R38) b + pmf (sds R38) d", "have \"pmf (sds R38) b + pmf (sds R38) d = pmf (sds R31) d + pmf (sds R31) b\""], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R31) c\n  (pmf (sds R38) b + pmf (sds R38) d\n   < pmf (sds R31) d + pmf (sds R31) b \\<or>\n   pmf (sds R38) b + (pmf (sds R38) d + pmf (sds R38) c)\n   < pmf (sds R31) d + (pmf (sds R31) b + pmf (sds R31) a)) \\<or>\n  pmf (sds R38) b + pmf (sds R38) d =\n  pmf (sds R31) d + pmf (sds R31) b \\<and>\n  pmf (sds R38) b + (pmf (sds R38) d + pmf (sds R38) c) =\n  pmf (sds R31) d + (pmf (sds R31) b + pmf (sds R31) a)\n  0 \\<le> pmf (sds R31) a\n  0 \\<le> pmf (sds R31) b\n  0 \\<le> pmf (sds R31) c\n  0 \\<le> pmf (sds R31) d\n  pmf (sds R31) a + pmf (sds R31) b + pmf (sds R31) c + pmf (sds R31) d = 1\n  0 \\<le> pmf (sds R38) a\n  0 \\<le> pmf (sds R38) b\n  0 \\<le> pmf (sds R38) c\n  0 \\<le> pmf (sds R38) d\n  pmf (sds R38) a + pmf (sds R38) b + pmf (sds R38) c + pmf (sds R38) d = 1\n  1 / 2 \\<le> pmf (sds R38) b + pmf (sds R38) d\n\ngoal (1 subgoal):\n 1. pmf (sds R38) b + pmf (sds R38) d = pmf (sds R31) d + pmf (sds R31) b", "by auto"], ["proof (state)\nthis:\n  pmf (sds R38) b + pmf (sds R38) d = pmf (sds R31) d + pmf (sds R31) b\n\ngoal (3 subgoals):\n 1. pmf (sds R31) a = 0\n 2. pmf (sds R31) c = 1 / 2\n 3. pmf (sds R31) b + pmf (sds R31) d = 1 / 2", "with R31_c_ge_one_half A lottery_conditions[OF R31.wf] lottery_conditions[OF R38.wf]"], ["proof (chain)\npicking this:\n  1 / 2 \\<le> pmf (sds R31) c\n  1 / 2 \\<le> pmf (sds R38) b + pmf (sds R38) d\n  0 \\<le> pmf (sds R31) a\n  0 \\<le> pmf (sds R31) b\n  0 \\<le> pmf (sds R31) c\n  0 \\<le> pmf (sds R31) d\n  pmf (sds R31) a + pmf (sds R31) b + pmf (sds R31) c + pmf (sds R31) d = 1\n  0 \\<le> pmf (sds R38) a\n  0 \\<le> pmf (sds R38) b\n  0 \\<le> pmf (sds R38) c\n  0 \\<le> pmf (sds R38) d\n  pmf (sds R38) a + pmf (sds R38) b + pmf (sds R38) c + pmf (sds R38) d = 1\n  pmf (sds R38) b + pmf (sds R38) d = pmf (sds R31) d + pmf (sds R31) b", "show \"pmf (sds R31) a = 0\" \"pmf (sds R31) c = 1/2\" \"pmf (sds R31) b + pmf (sds R31) d = 1/2\""], ["proof (prove)\nusing this:\n  1 / 2 \\<le> pmf (sds R31) c\n  1 / 2 \\<le> pmf (sds R38) b + pmf (sds R38) d\n  0 \\<le> pmf (sds R31) a\n  0 \\<le> pmf (sds R31) b\n  0 \\<le> pmf (sds R31) c\n  0 \\<le> pmf (sds R31) d\n  pmf (sds R31) a + pmf (sds R31) b + pmf (sds R31) c + pmf (sds R31) d = 1\n  0 \\<le> pmf (sds R38) a\n  0 \\<le> pmf (sds R38) b\n  0 \\<le> pmf (sds R38) c\n  0 \\<le> pmf (sds R38) d\n  pmf (sds R38) a + pmf (sds R38) b + pmf (sds R38) c + pmf (sds R38) d = 1\n  pmf (sds R38) b + pmf (sds R38) d = pmf (sds R31) d + pmf (sds R31) b\n\ngoal (1 subgoal):\n 1. pmf (sds R31) a = 0 &&&\n    pmf (sds R31) c = 1 / 2 &&& pmf (sds R31) b + pmf (sds R31) d = 1 / 2", "by linarith+"], ["proof (state)\nthis:\n  pmf (sds R31) a = 0\n  pmf (sds R31) c = 1 / 2\n  pmf (sds R31) b + pmf (sds R31) d = 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma absurd: False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "using R31 R45_R31.strategyproofness(2)"], ["proof (prove)\nusing this:\n  pmf (sds R31) a = 0\n  pmf (sds R31) c = 1 / 2\n  pmf (sds R31) b + pmf (sds R31) d = 1 / 2\n  (pmf (sds R31) c + pmf (sds R31) d\n   < pmf (sds R45) b + pmf (sds R45) a \\<or>\n   pmf (sds R31) c + (pmf (sds R31) d + pmf (sds R31) b)\n   < pmf (sds R45) b + (pmf (sds R45) a + pmf (sds R45) c)) \\<or>\n  pmf (sds R31) c + pmf (sds R31) d =\n  pmf (sds R45) b + pmf (sds R45) a \\<and>\n  pmf (sds R31) c + (pmf (sds R31) d + pmf (sds R31) b) =\n  pmf (sds R45) b + (pmf (sds R45) a + pmf (sds R45) c)\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["", "(* TODO (Re-)move *)\n(* This is just to output a list of all the Strategy-Proofness conditions used in the proof *)\n(*\nML_val \\<open>\nlet\nval thms = @{thms\nR1_R2.strategyproofness(1)\nR1_R19.strategyproofness(1)\nR2_R1.strategyproofness(1)\nR2_R38.strategyproofness(1)\nR4_R8.strategyproofness(1)\nR4_R18.strategyproofness(1)\nR4_R47.strategyproofness(1)\nR5_R7.strategyproofness(1)\nR5_R10.strategyproofness(1)\nR5_R17.strategyproofness(1)\nR6_R19.strategyproofness(1)\nR6_R42.strategyproofness(1)\nR7_R43.strategyproofness(1)\nR8_R26.strategyproofness(2)\nR9_R18.strategyproofness(1)\nR9_R35.strategyproofness(1)\nR9_R40.strategyproofness(1)\nR10_R12.strategyproofness(1)\nR10_R15.strategyproofness(1)\nR10_R19.strategyproofness(1)\nR10_R36.strategyproofness(1)\nR12_R10.strategyproofness(1)\nR12_R16.strategyproofness(1)\nR12_R44.strategyproofness(1)\nR13_R15.strategyproofness(1)\nR13_R27.strategyproofness(1)\nR14_R9.strategyproofness(1)\nR14_R16.strategyproofness(1)\nR14_R34.strategyproofness(1)\nR15_R5.strategyproofness(1)\nR15_R7.strategyproofness(1)\nR15_R10.strategyproofness(1)\nR15_R13.strategyproofness(1)\nR17_R3.strategyproofness(1)\nR17_R5.strategyproofness(1)\nR17_R7.strategyproofness(1)\nR17_R11.strategyproofness(1)\nR18_R9.strategyproofness(1)\nR19_R1.strategyproofness(1)\nR19_R10.strategyproofness(1)\nR19_R27.strategyproofness(1)\nR20_R21.strategyproofness(1)\nR21_R35.strategyproofness(1)\nR22_R29.strategyproofness(1)\nR22_R32.strategyproofness(1)\nR23_R12.strategyproofness(1)\nR23_R18.strategyproofness(1)\nR23_R19.strategyproofness(1)\nR24_R34.strategyproofness(1)\nR25_R26.strategyproofness(1)\nR25_R36.strategyproofness(1)\nR26_R8.strategyproofness(2)\nR27_R13.strategyproofness(1)\nR27_R19.strategyproofness(1)\nR28_R32.strategyproofness(1)\nR28_R39.strategyproofness(1)\nR29_R39.strategyproofness(1)\nR30_R21.strategyproofness(1)\nR30_R41.strategyproofness(1)\nR31_R38.strategyproofness(1)\nR32_R22.strategyproofness(1)\nR32_R28.strategyproofness(1)\nR33_R5.strategyproofness(1)\nR33_R22.strategyproofness(1)\nR34_R24.strategyproofness(1)\nR35_R9.strategyproofness(1)\nR35_R21.strategyproofness(1)\nR36_R10.strategyproofness(1)\nR36_R25.strategyproofness(1)\nR36_R39.strategyproofness(1)\nR37_R42.strategyproofness(1)\nR37_R42.strategyproofness(2)\nR39_R2.strategyproofness(1)\nR39_R29.strategyproofness(1)\nR39_R36.strategyproofness(1)\nR41_R31.strategyproofness(1)\nR42_R3.strategyproofness(1)\nR42_R11.strategyproofness(1)\nR42_R24.strategyproofness(1)\nR44_R12.strategyproofness(1)\nR44_R40.strategyproofness(1)\nR45_R31.strategyproofness(2)\nR46_R20.strategyproofness(1)\nR46_R37.strategyproofness(1)\nR47_R30.strategyproofness(1)\n};\nin\n thms\n |> map (Pretty.quote o Pretty.str o Pretty.unformatted_string_of o Syntax.pretty_term @{context} o Thm.prop_of)\n |> Pretty.list \"[\" \"]\"\n |> (fn x => Pretty.block [Pretty.str \"thms = \", x])\n |> Pretty.string_of\n |> writeln\nend\n\\<close>*)"], ["", "end"], ["", "subsection \\<open>Lifting to more than 4 agents and alternatives\\<close>"], ["", "(* TODO: Move? *)"], ["", "lemma finite_list':\n  assumes \"finite A\"\n  obtains xs where \"A = set xs\" \"distinct xs\" \"length xs = card A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>A = set xs; distinct xs; length xs = card A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>A = set xs; distinct xs; length xs = card A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from assms"], ["proof (chain)\npicking this:\n  finite A", "obtain xs where \"set xs = A\""], ["proof (prove)\nusing this:\n  finite A\n\ngoal (1 subgoal):\n 1. (\\<And>xs. set xs = A \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "using finite_list"], ["proof (prove)\nusing this:\n  finite A\n  finite ?A \\<Longrightarrow> \\<exists>xs. set xs = ?A\n\ngoal (1 subgoal):\n 1. (\\<And>xs. set xs = A \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by blast"], ["proof (state)\nthis:\n  set xs = A\n\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>A = set xs; distinct xs; length xs = card A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  set xs = A\n\ngoal (1 subgoal):\n 1. thesis", "using distinct_card[of \"remdups xs\"]"], ["proof (prove)\nusing this:\n  set xs = A\n  distinct (remdups xs) \\<Longrightarrow>\n  card (set (remdups xs)) = length (remdups xs)\n\ngoal (1 subgoal):\n 1. thesis", "by (intro that[of \"remdups xs\"]) simp_all"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma finite_list_subset:\n  assumes \"finite A\" \"card A \\<ge> n\"\n  obtains xs where \"set xs \\<subseteq> A\" \"distinct xs\" \"length xs = n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>set xs \\<subseteq> A; distinct xs; length xs = n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>set xs \\<subseteq> A; distinct xs; length xs = n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain xs where \"A = set xs\" \"distinct xs\" \"length xs = card A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>A = set xs; distinct xs; length xs = card A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using finite_list'[OF assms(1)]"], ["proof (prove)\nusing this:\n  (\\<And>xs.\n      \\<lbrakk>A = set xs; distinct xs; length xs = card A\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>A = set xs; distinct xs; length xs = card A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  A = set xs\n  distinct xs\n  length xs = card A\n\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>set xs \\<subseteq> A; distinct xs; length xs = n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with assms"], ["proof (chain)\npicking this:\n  finite A\n  n \\<le> card A\n  A = set xs\n  distinct xs\n  length xs = card A", "show ?thesis"], ["proof (prove)\nusing this:\n  finite A\n  n \\<le> card A\n  A = set xs\n  distinct xs\n  length xs = card A\n\ngoal (1 subgoal):\n 1. thesis", "by (intro that[of \"take n xs\"]) (simp_all add: set_take_subset)"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma card_ge_4E:\n  assumes \"finite A\" \"card A \\<ge> 4\"\n  obtains a b c d where \"distinct [a,b,c,d]\" \"{a,b,c,d} \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>a b c d.\n        \\<lbrakk>distinct [a, b, c, d]; {a, b, c, d} \\<subseteq> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>a b c d.\n        \\<lbrakk>distinct [a, b, c, d]; {a, b, c, d} \\<subseteq> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from finite_list_subset[OF assms]"], ["proof (chain)\npicking this:\n  (\\<And>xs.\n      \\<lbrakk>set xs \\<subseteq> A; distinct xs; length xs = 4\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "guess xs"], ["proof (prove)\nusing this:\n  (\\<And>xs.\n      \\<lbrakk>set xs \\<subseteq> A; distinct xs; length xs = 4\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. thesis", "."], ["proof (state)\nthis:\n  set xs \\<subseteq> A\n  distinct xs\n  length xs = 4\n\ngoal (1 subgoal):\n 1. (\\<And>a b c d.\n        \\<lbrakk>distinct [a, b, c, d]; {a, b, c, d} \\<subseteq> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  set xs \\<subseteq> A\n  distinct xs\n  length xs = 4\n\ngoal (1 subgoal):\n 1. (\\<And>a b c d.\n        \\<lbrakk>distinct [a, b, c, d]; {a, b, c, d} \\<subseteq> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  set xs \\<subseteq> A\n  distinct xs\n  length xs = 4", "obtain a b c d where \"xs = [a, b, c, d]\""], ["proof (prove)\nusing this:\n  set xs \\<subseteq> A\n  distinct xs\n  length xs = 4\n\ngoal (1 subgoal):\n 1. (\\<And>a b c d.\n        xs = [a, b, c, d] \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: eval_nat_numeral length_Suc_conv)"], ["proof (state)\nthis:\n  xs = [a, b, c, d]\n\ngoal (1 subgoal):\n 1. (\\<And>a b c d.\n        \\<lbrakk>distinct [a, b, c, d]; {a, b, c, d} \\<subseteq> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  set xs \\<subseteq> A\n  distinct xs\n  length xs = 4\n  xs = [a, b, c, d]", "show ?thesis"], ["proof (prove)\nusing this:\n  set xs \\<subseteq> A\n  distinct xs\n  length xs = 4\n  xs = [a, b, c, d]\n\ngoal (1 subgoal):\n 1. thesis", "by (intro that[of a b c d]) simp_all"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "context sds_impossibility\nbegin"], ["", "lemma absurd: False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "from card_ge_4E[OF finite_agents agents_ge_4]"], ["proof (chain)\npicking this:\n  (\\<And>a b c d.\n      \\<lbrakk>distinct [a, b, c, d];\n       {a, b, c, d} \\<subseteq> agents\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "guess A1 A2 A3 A4"], ["proof (prove)\nusing this:\n  (\\<And>a b c d.\n      \\<lbrakk>distinct [a, b, c, d];\n       {a, b, c, d} \\<subseteq> agents\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. thesis", "."], ["proof (state)\nthis:\n  distinct [A1, A2, A3, A4]\n  {A1, A2, A3, A4} \\<subseteq> agents\n\ngoal (1 subgoal):\n 1. False", "note agents = this"], ["proof (state)\nthis:\n  distinct [A1, A2, A3, A4]\n  {A1, A2, A3, A4} \\<subseteq> agents\n\ngoal (1 subgoal):\n 1. False", "from card_ge_4E[OF finite_alts alts_ge_4]"], ["proof (chain)\npicking this:\n  (\\<And>a b c d.\n      \\<lbrakk>distinct [a, b, c, d]; {a, b, c, d} \\<subseteq> alts\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "guess a b c d"], ["proof (prove)\nusing this:\n  (\\<And>a b c d.\n      \\<lbrakk>distinct [a, b, c, d]; {a, b, c, d} \\<subseteq> alts\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. thesis", "."], ["proof (state)\nthis:\n  distinct [a, b, c, d]\n  {a, b, c, d} \\<subseteq> alts\n\ngoal (1 subgoal):\n 1. False", "note alts = this"], ["proof (state)\nthis:\n  distinct [a, b, c, d]\n  {a, b, c, d} \\<subseteq> alts\n\ngoal (1 subgoal):\n 1. False", "define agents' alts' where \"agents' = {A1,A2,A3,A4}\" and \"alts' = {a,b,c,d}\""], ["proof (state)\nthis:\n  agents' = {A1, A2, A3, A4}\n  alts' = {a, b, c, d}\n\ngoal (1 subgoal):\n 1. False", "from agents alts"], ["proof (chain)\npicking this:\n  distinct [A1, A2, A3, A4]\n  {A1, A2, A3, A4} \\<subseteq> agents\n  distinct [a, b, c, d]\n  {a, b, c, d} \\<subseteq> alts", "interpret sds_lowering_anonymous_neutral_sdeff_stratproof agents alts sds agents' alts'"], ["proof (prove)\nusing this:\n  distinct [A1, A2, A3, A4]\n  {A1, A2, A3, A4} \\<subseteq> agents\n  distinct [a, b, c, d]\n  {a, b, c, d} \\<subseteq> alts\n\ngoal (1 subgoal):\n 1. sds_lowering_anonymous_neutral_sdeff_stratproof agents alts sds agents'\n     alts'", "unfolding agents'_def alts'_def"], ["proof (prove)\nusing this:\n  distinct [A1, A2, A3, A4]\n  {A1, A2, A3, A4} \\<subseteq> agents\n  distinct [a, b, c, d]\n  {a, b, c, d} \\<subseteq> alts\n\ngoal (1 subgoal):\n 1. sds_lowering_anonymous_neutral_sdeff_stratproof agents alts sds\n     {A1, A2, A3, A4} {a, b, c, d}", "by unfold_locales simp_all"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "from agents alts"], ["proof (chain)\npicking this:\n  distinct [A1, A2, A3, A4]\n  {A1, A2, A3, A4} \\<subseteq> agents\n  distinct [a, b, c, d]\n  {a, b, c, d} \\<subseteq> alts", "interpret sds_impossibility_4_4 agents' alts' lowered A1 A2 A3 A4 a b c d"], ["proof (prove)\nusing this:\n  distinct [A1, A2, A3, A4]\n  {A1, A2, A3, A4} \\<subseteq> agents\n  distinct [a, b, c, d]\n  {a, b, c, d} \\<subseteq> alts\n\ngoal (1 subgoal):\n 1. sds_impossibility_4_4 agents' alts' lowered A1 A2 A3 A4 a b c d", "by unfold_locales (simp_all add: agents'_def alts'_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "from absurd"], ["proof (chain)\npicking this:\n  False", "show False"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. False", "."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}