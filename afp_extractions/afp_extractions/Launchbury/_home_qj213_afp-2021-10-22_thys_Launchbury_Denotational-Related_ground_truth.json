{"file_name": "/home/qj213/afp-2021-10-22/thys/Launchbury/Denotational-Related.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Launchbury", "problem_names": ["theorem denotational_semantics_similar: \n  assumes \"\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\"\n  shows \"\\<lbrakk>e\\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright> (\\<N>\\<lbrakk>e\\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>C\\<^sup>\\<infinity>\"", "theorem heaps_similar: \"\\<lbrace>\\<Gamma>\\<rbrace> \\<triangleleft>\\<triangleright>\\<^sup>* \\<N>\\<lbrace>\\<Gamma>\\<rbrace>\""], "translations": [["", "theorem denotational_semantics_similar: \n  assumes \"\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\"\n  shows \"\\<lbrakk>e\\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright> (\\<N>\\<lbrakk>e\\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>C\\<^sup>\\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "using assms"], ["proof (prove)\nusing this:\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (1 subgoal):\n 1. \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "proof(induct e arbitrary: \\<rho> \\<sigma> rule:exp_induct)"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>var \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Var var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Var var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 2. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 4. \\<And>var exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 5. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 6. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "case (Var v)"], ["proof (state)\nthis:\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (6 subgoals):\n 1. \\<And>var \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Var var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Var var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 2. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 4. \\<And>var exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 5. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 6. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "from Var"], ["proof (chain)\npicking this:\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>", "have \"\\<rho> v \\<triangleleft>\\<triangleright> (\\<sigma> v)\\<cdot>C\\<^sup>\\<infinity>\""], ["proof (prove)\nusing this:\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (1 subgoal):\n 1. \\<rho> v \\<triangleleft>\\<triangleright>\n    \\<sigma> v\\<cdot>C\\<^sup>\\<infinity>", "by cases auto"], ["proof (state)\nthis:\n  \\<rho> v \\<triangleleft>\\<triangleright>\n  \\<sigma> v\\<cdot>C\\<^sup>\\<infinity>\n\ngoal (6 subgoals):\n 1. \\<And>var \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Var var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Var var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 2. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 4. \\<And>var exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 5. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 6. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "thus ?case"], ["proof (prove)\nusing this:\n  \\<rho> v \\<triangleleft>\\<triangleright>\n  \\<sigma> v\\<cdot>C\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<lbrakk> Var v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> Var v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk> Var v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> Var v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (5 subgoals):\n 1. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>var exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 4. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 5. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>var exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 4. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 5. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "case (Lam v e)"], ["proof (state)\nthis:\n  ?\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n  ?\\<sigma> \\<Longrightarrow>\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>?\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>?\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (5 subgoals):\n 1. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>var exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 4. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 5. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "{"], ["proof (state)\nthis:\n  ?\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n  ?\\<sigma> \\<Longrightarrow>\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>?\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>?\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (5 subgoals):\n 1. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>var exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 4. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 5. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "fix x y"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>var exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 4. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 5. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "assume \"x \\<triangleleft>\\<triangleright> y\\<cdot>C\\<^sup>\\<infinity>\""], ["proof (state)\nthis:\n  x \\<triangleleft>\\<triangleright> y\\<cdot>C\\<^sup>\\<infinity>\n\ngoal (5 subgoals):\n 1. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>var exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 4. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 5. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "with \\<open>\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<close>"], ["proof (chain)\npicking this:\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n  x \\<triangleleft>\\<triangleright> y\\<cdot>C\\<^sup>\\<infinity>", "have \"\\<rho>(v := x) \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>(v := y)\""], ["proof (prove)\nusing this:\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n  x \\<triangleleft>\\<triangleright> y\\<cdot>C\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<rho>(v := x) \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>(v := y)", "by (auto 1 4)"], ["proof (state)\nthis:\n  \\<rho>(v := x) \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>(v := y)\n\ngoal (5 subgoals):\n 1. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>var exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 4. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 5. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "hence \"\\<lbrakk>e\\<rbrakk>\\<^bsub>\\<rho>(v := x)\\<^esub> \\<triangleleft>\\<triangleright> (\\<N>\\<lbrakk>e\\<rbrakk>\\<^bsub>\\<sigma>(v := y)\\<^esub>)\\<cdot>C\\<^sup>\\<infinity>\""], ["proof (prove)\nusing this:\n  \\<rho>(v := x) \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>(v := y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\n    (v := x)\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>(v := y)\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "by (rule Lam.hyps)"], ["proof (state)\nthis:\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\n  (v := x)\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>(v := y)\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (5 subgoals):\n 1. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>var exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 4. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 5. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "}"], ["proof (state)\nthis:\n  ?x2 \\<triangleleft>\\<triangleright>\n  ?y2\\<cdot>C\\<^sup>\\<infinity> \\<Longrightarrow>\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\n  (v := ?x2)\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>(v := ?y2)\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (5 subgoals):\n 1. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>var exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Lam [var]. exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 4. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 5. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "thus ?case"], ["proof (prove)\nusing this:\n  ?x2 \\<triangleleft>\\<triangleright>\n  ?y2\\<cdot>C\\<^sup>\\<infinity> \\<Longrightarrow>\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\n  (v := ?x2)\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>(v := ?y2)\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<lbrakk> Lam [v]. e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> Lam [v]. e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk> Lam [v]. e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> Lam [v]. e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (4 subgoals):\n 1. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 4. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 4. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "case (App e v \\<rho> \\<sigma>)"], ["proof (state)\nthis:\n  ?\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n  ?\\<sigma> \\<Longrightarrow>\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>?\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>?\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (4 subgoals):\n 1. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 4. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "hence App': \"\\<lbrakk>e\\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright> (\\<N>\\<lbrakk>e\\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>C\\<^sup>\\<infinity>\""], ["proof (prove)\nusing this:\n  ?\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n  ?\\<sigma> \\<Longrightarrow>\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>?\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>?\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (1 subgoal):\n 1. \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (4 subgoals):\n 1. \\<And>exp var \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App exp\n                                    var \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App exp\n   var \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 4. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<lbrakk> App e\n               v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> App e v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "proof (cases rule: slimilar_bot_cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = \\<bottom>;\n     (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n     C\\<^sup>\\<infinity> =\n     \\<bottom>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrakk> App e\n                                 v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                      (\\<N>\\<lbrakk> App e\nv \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                      C\\<^sup>\\<infinity>\n 2. \\<And>b.\n       \\<lbrakk>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> =\n                B\\<cdot>(Discr b);\n        (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n        C\\<^sup>\\<infinity> =\n        CB\\<cdot>(Discr b)\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App e\n                                    v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App e\n   v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>f g.\n       \\<lbrakk>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = Fn\\<cdot>f;\n        (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n        C\\<^sup>\\<infinity> =\n        CFn\\<cdot>g\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App e\n                                    v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App e\n   v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "case (Fn f g)"], ["proof (state)\nthis:\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = Fn\\<cdot>f\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity> =\n  CFn\\<cdot>g\n\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = \\<bottom>;\n     (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n     C\\<^sup>\\<infinity> =\n     \\<bottom>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrakk> App e\n                                 v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                      (\\<N>\\<lbrakk> App e\nv \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                      C\\<^sup>\\<infinity>\n 2. \\<And>b.\n       \\<lbrakk>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> =\n                B\\<cdot>(Discr b);\n        (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n        C\\<^sup>\\<infinity> =\n        CB\\<cdot>(Discr b)\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App e\n                                    v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App e\n   v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>f g.\n       \\<lbrakk>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = Fn\\<cdot>f;\n        (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n        C\\<^sup>\\<infinity> =\n        CFn\\<cdot>g\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App e\n                                    v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App e\n   v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "from \\<open>\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<close>"], ["proof (chain)\npicking this:\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>", "have \"\\<rho> v \\<triangleleft>\\<triangleright> (\\<sigma> v)\\<cdot>C\\<^sup>\\<infinity>\""], ["proof (prove)\nusing this:\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (1 subgoal):\n 1. \\<rho> v \\<triangleleft>\\<triangleright>\n    \\<sigma> v\\<cdot>C\\<^sup>\\<infinity>", "by auto"], ["proof (state)\nthis:\n  \\<rho> v \\<triangleleft>\\<triangleright>\n  \\<sigma> v\\<cdot>C\\<^sup>\\<infinity>\n\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = \\<bottom>;\n     (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n     C\\<^sup>\\<infinity> =\n     \\<bottom>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrakk> App e\n                                 v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                      (\\<N>\\<lbrakk> App e\nv \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                      C\\<^sup>\\<infinity>\n 2. \\<And>b.\n       \\<lbrakk>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> =\n                B\\<cdot>(Discr b);\n        (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n        C\\<^sup>\\<infinity> =\n        CB\\<cdot>(Discr b)\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App e\n                                    v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App e\n   v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>f g.\n       \\<lbrakk>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = Fn\\<cdot>f;\n        (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n        C\\<^sup>\\<infinity> =\n        CFn\\<cdot>g\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App e\n                                    v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App e\n   v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<rho> v \\<triangleleft>\\<triangleright>\n  \\<sigma> v\\<cdot>C\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<lbrakk> App e\n               v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> App e v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "using Fn App'"], ["proof (prove)\nusing this:\n  \\<rho> v \\<triangleleft>\\<triangleright>\n  \\<sigma> v\\<cdot>C\\<^sup>\\<infinity>\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = Fn\\<cdot>f\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity> =\n  CFn\\<cdot>g\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<lbrakk> App e\n               v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> App e v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk> App e\n             v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> App e v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = \\<bottom>;\n     (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n     C\\<^sup>\\<infinity> =\n     \\<bottom>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrakk> App e\n                                 v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                      (\\<N>\\<lbrakk> App e\nv \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                      C\\<^sup>\\<infinity>\n 2. \\<And>b.\n       \\<lbrakk>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> =\n                B\\<cdot>(Discr b);\n        (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n        C\\<^sup>\\<infinity> =\n        CB\\<cdot>(Discr b)\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> App e\n                                    v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> App e\n   v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "qed auto"], ["proof (state)\nthis:\n  \\<lbrakk> App e\n             v \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> App e v \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 3. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 3. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "case (Bool b)"], ["proof (state)\nthis:\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>b \\<rho> \\<sigma>.\n       \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> \\<Longrightarrow>\n       \\<lbrakk> Bool\n                  b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n       (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n       C\\<^sup>\\<infinity>\n 3. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "thus \"\\<lbrakk>Bool b\\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright> (\\<N>\\<lbrakk>Bool b\\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>C\\<^sup>\\<infinity>\""], ["proof (prove)\nusing this:\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (1 subgoal):\n 1. \\<lbrakk> Bool\n               b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk> Bool\n             b \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> Bool b \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "case (IfThenElse scrut e\\<^sub>1 e\\<^sub>2)"], ["proof (state)\nthis:\n  ?\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n  ?\\<sigma> \\<Longrightarrow>\n  \\<lbrakk> scrut \\<rbrakk>\\<^bsub>?\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>?\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  ?\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n  ?\\<sigma> \\<Longrightarrow>\n  \\<lbrakk> e\\<^sub>1 \\<rbrakk>\\<^bsub>?\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e\\<^sub>1 \\<rbrakk>\\<^bsub>?\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  ?\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n  ?\\<sigma> \\<Longrightarrow>\n  \\<lbrakk> e\\<^sub>2 \\<rbrakk>\\<^bsub>?\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e\\<^sub>2 \\<rbrakk>\\<^bsub>?\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "hence IfThenElse':\n    \"\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright> (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>C\\<^sup>\\<infinity>\"\n    \"\\<lbrakk> e\\<^sub>1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright> (\\<N>\\<lbrakk> e\\<^sub>1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>C\\<^sup>\\<infinity>\"\n    \"\\<lbrakk> e\\<^sub>2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright> (\\<N>\\<lbrakk> e\\<^sub>2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>C\\<^sup>\\<infinity>\""], ["proof (prove)\nusing this:\n  ?\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n  ?\\<sigma> \\<Longrightarrow>\n  \\<lbrakk> scrut \\<rbrakk>\\<^bsub>?\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>?\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  ?\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n  ?\\<sigma> \\<Longrightarrow>\n  \\<lbrakk> e\\<^sub>1 \\<rbrakk>\\<^bsub>?\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e\\<^sub>1 \\<rbrakk>\\<^bsub>?\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  ?\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n  ?\\<sigma> \\<Longrightarrow>\n  \\<lbrakk> e\\<^sub>2 \\<rbrakk>\\<^bsub>?\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e\\<^sub>2 \\<rbrakk>\\<^bsub>?\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (1 subgoal):\n 1. \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity> &&&\n    \\<lbrakk> e\\<^sub>1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> e\\<^sub>1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity> &&&\n    \\<lbrakk> e\\<^sub>2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> e\\<^sub>2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  \\<lbrakk> e\\<^sub>1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e\\<^sub>1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  \\<lbrakk> e\\<^sub>2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e\\<^sub>2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 2. \\<And>scrut e1 e2 \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>\\<rho> \\<sigma>.\n                   \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                   \\<sigma> \\<Longrightarrow>\n                   \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                   (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                   C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> e2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e1\n                                    : e2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e1\n   : e2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "from IfThenElse'(1)"], ["proof (chain)\npicking this:\n  \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<lbrakk> (scrut ? e\\<^sub>1\n               : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> (scrut ? e\\<^sub>1\n                    : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "proof (cases rule: slimilar_bot_cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = \\<bottom>;\n     (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n     C\\<^sup>\\<infinity> =\n     \\<bottom>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrakk> (scrut ? e\\<^sub>1\n                                 : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                      (\\<N>\\<lbrakk> (scrut ? e\\<^sub>1\n: e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                      C\\<^sup>\\<infinity>\n 2. \\<And>b.\n       \\<lbrakk>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> =\n                B\\<cdot>(Discr b);\n        (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n        C\\<^sup>\\<infinity> =\n        CB\\<cdot>(Discr b)\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e\\<^sub>1\n                                    : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e\\<^sub>1\n   : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>f g.\n       \\<lbrakk>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> =\n                Fn\\<cdot>f;\n        (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n        C\\<^sup>\\<infinity> =\n        CFn\\<cdot>g\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e\\<^sub>1\n                                    : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e\\<^sub>1\n   : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "case (bool b)"], ["proof (state)\nthis:\n  \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = B\\<cdot>(Discr b)\n  (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity> =\n  CB\\<cdot>(Discr b)\n\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = \\<bottom>;\n     (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n     C\\<^sup>\\<infinity> =\n     \\<bottom>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrakk> (scrut ? e\\<^sub>1\n                                 : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                      (\\<N>\\<lbrakk> (scrut ? e\\<^sub>1\n: e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                      C\\<^sup>\\<infinity>\n 2. \\<And>b.\n       \\<lbrakk>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> =\n                B\\<cdot>(Discr b);\n        (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n        C\\<^sup>\\<infinity> =\n        CB\\<cdot>(Discr b)\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e\\<^sub>1\n                                    : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e\\<^sub>1\n   : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>\n 3. \\<And>f g.\n       \\<lbrakk>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> =\n                Fn\\<cdot>f;\n        (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n        C\\<^sup>\\<infinity> =\n        CFn\\<cdot>g\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e\\<^sub>1\n                                    : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e\\<^sub>1\n   : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = B\\<cdot>(Discr b)\n  (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity> =\n  CB\\<cdot>(Discr b)\n\ngoal (1 subgoal):\n 1. \\<lbrakk> (scrut ? e\\<^sub>1\n               : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> (scrut ? e\\<^sub>1\n                    : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "using IfThenElse'"], ["proof (prove)\nusing this:\n  \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = B\\<cdot>(Discr b)\n  (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity> =\n  CB\\<cdot>(Discr b)\n  \\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  \\<lbrakk> e\\<^sub>1 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e\\<^sub>1 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  \\<lbrakk> e\\<^sub>2 \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e\\<^sub>2 \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<lbrakk> (scrut ? e\\<^sub>1\n               : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> (scrut ? e\\<^sub>1\n                    : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk> (scrut ? e\\<^sub>1\n             : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> (scrut ? e\\<^sub>1\n                  : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> = \\<bottom>;\n     (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n     C\\<^sup>\\<infinity> =\n     \\<bottom>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrakk> (scrut ? e\\<^sub>1\n                                 : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                      (\\<N>\\<lbrakk> (scrut ? e\\<^sub>1\n: e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                      C\\<^sup>\\<infinity>\n 2. \\<And>f g.\n       \\<lbrakk>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> =\n                Fn\\<cdot>f;\n        (\\<N>\\<lbrakk> scrut \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n        C\\<^sup>\\<infinity> =\n        CFn\\<cdot>g\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> (scrut ? e\\<^sub>1\n                                    : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> (scrut ? e\\<^sub>1\n   : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "qed auto"], ["proof (state)\nthis:\n  \\<lbrakk> (scrut ? e\\<^sub>1\n             : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> (scrut ? e\\<^sub>1\n                  : e\\<^sub>2) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "case (Let as e \\<rho> \\<sigma>)"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<in> domA as;\n   ?\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* ?\\<sigma>\\<rbrakk>\n  \\<Longrightarrow> \\<lbrakk> the (map_of as\n                                    ?x) \\<rbrakk>\\<^bsub>?\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                    (\\<N>\\<lbrakk> the (map_of as\n   ?x) \\<rbrakk>\\<^bsub>?\\<sigma>\\<^esub>)\\<cdot>\n                    C\\<^sup>\\<infinity>\n  ?\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n  ?\\<sigma> \\<Longrightarrow>\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>?\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>?\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "have \"\\<lbrace>as\\<rbrace>\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<N>\\<lbrace>as\\<rbrace>\\<sigma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace>as\\<rbrace>\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n    \\<N>\\<lbrace>as\\<rbrace>\\<sigma>", "proof (rule parallel_HSem_ind_different_ESem[OF pointwise_adm[OF similar_admI] fun_similar_fmap_bottom])"], ["proof (state)\ngoal (3 subgoals):\n 1. cont fst\n 2. cont (\\<lambda>x. snd x\\<cdot>C\\<^sup>\\<infinity>)\n 3. \\<And>y z.\n       y \\<triangleleft>\\<triangleright>\\<^sup>* z \\<Longrightarrow>\n       \\<rho> ++\\<^bsub>domA\n                         as\\<^esub> \\<^bold>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>y\\<^esub> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> ++\\<^bsub>domA\n                           as\\<^esub> \\<^bold>\\<N>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>z\\<^esub>", "fix \\<rho>' :: \"var \\<Rightarrow> Value\" and \\<sigma>' :: \"var \\<Rightarrow> C \\<rightarrow> CValue\""], ["proof (state)\ngoal (3 subgoals):\n 1. cont fst\n 2. cont (\\<lambda>x. snd x\\<cdot>C\\<^sup>\\<infinity>)\n 3. \\<And>y z.\n       y \\<triangleleft>\\<triangleright>\\<^sup>* z \\<Longrightarrow>\n       \\<rho> ++\\<^bsub>domA\n                         as\\<^esub> \\<^bold>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>y\\<^esub> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> ++\\<^bsub>domA\n                           as\\<^esub> \\<^bold>\\<N>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>z\\<^esub>", "assume \"\\<rho>' \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>'\""], ["proof (state)\nthis:\n  \\<rho>' \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>'\n\ngoal (3 subgoals):\n 1. cont fst\n 2. cont (\\<lambda>x. snd x\\<cdot>C\\<^sup>\\<infinity>)\n 3. \\<And>y z.\n       y \\<triangleleft>\\<triangleright>\\<^sup>* z \\<Longrightarrow>\n       \\<rho> ++\\<^bsub>domA\n                         as\\<^esub> \\<^bold>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>y\\<^esub> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<sigma> ++\\<^bsub>domA\n                           as\\<^esub> \\<^bold>\\<N>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>z\\<^esub>", "show \"\\<rho> ++\\<^bsub>domA as\\<^esub> \\<^bold>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<rho>'\\<^esub> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma> ++\\<^bsub>domA as\\<^esub> evalHeap as (\\<lambda>e. \\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<sigma>'\\<^esub>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<rho> ++\\<^bsub>domA\n                      as\\<^esub> \\<^bold>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<rho>'\\<^esub> \\<triangleleft>\\<triangleright>\\<^sup>*\n    \\<sigma> ++\\<^bsub>domA\n                        as\\<^esub> \\<^bold>\\<N>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<sigma>'\\<^esub>", "proof(rule pointwiseI, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<rho> ++\\<^bsub>domA\n                          as\\<^esub> \\<^bold>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<rho>'\\<^esub>)\n        x \\<triangleleft>\\<triangleright>\n       (\\<sigma> ++\\<^bsub>domA\n                            as\\<^esub> \\<^bold>\\<N>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<sigma>'\\<^esub>)\n        x\\<cdot>\n       C\\<^sup>\\<infinity>", "case (1 x)"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<rho> ++\\<^bsub>domA\n                          as\\<^esub> \\<^bold>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<rho>'\\<^esub>)\n        x \\<triangleleft>\\<triangleright>\n       (\\<sigma> ++\\<^bsub>domA\n                            as\\<^esub> \\<^bold>\\<N>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<sigma>'\\<^esub>)\n        x\\<cdot>\n       C\\<^sup>\\<infinity>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<rho> ++\\<^bsub>domA\n                       as\\<^esub> \\<^bold>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<rho>'\\<^esub>)\n     x \\<triangleleft>\\<triangleright>\n    (\\<sigma> ++\\<^bsub>domA\n                         as\\<^esub> \\<^bold>\\<N>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<sigma>'\\<^esub>)\n     x\\<cdot>\n    C\\<^sup>\\<infinity>", "using \\<open>\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<close>"], ["proof (prove)\nusing this:\n  \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\n\ngoal (1 subgoal):\n 1. (\\<rho> ++\\<^bsub>domA\n                       as\\<^esub> \\<^bold>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<rho>'\\<^esub>)\n     x \\<triangleleft>\\<triangleright>\n    (\\<sigma> ++\\<^bsub>domA\n                         as\\<^esub> \\<^bold>\\<N>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<sigma>'\\<^esub>)\n     x\\<cdot>\n    C\\<^sup>\\<infinity>", "by (auto simp add: lookup_override_on_eq lookupEvalHeap elim: Let(1)[OF _  \\<open>\\<rho>' \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>'\\<close>] )"], ["proof (state)\nthis:\n  (\\<rho> ++\\<^bsub>domA\n                     as\\<^esub> \\<^bold>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<rho>'\\<^esub>)\n   x \\<triangleleft>\\<triangleright>\n  (\\<sigma> ++\\<^bsub>domA\n                       as\\<^esub> \\<^bold>\\<N>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<sigma>'\\<^esub>)\n   x\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<rho> ++\\<^bsub>domA\n                    as\\<^esub> \\<^bold>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<rho>'\\<^esub> \\<triangleleft>\\<triangleright>\\<^sup>*\n  \\<sigma> ++\\<^bsub>domA\n                      as\\<^esub> \\<^bold>\\<N>\\<lbrakk> as \\<^bold>\\<rbrakk>\\<^bsub>\\<sigma>'\\<^esub>\n\ngoal (2 subgoals):\n 1. cont fst\n 2. cont (\\<lambda>x. snd x\\<cdot>C\\<^sup>\\<infinity>)", "qed auto"], ["proof (state)\nthis:\n  \\<lbrace>as\\<rbrace>\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n  \\<N>\\<lbrace>as\\<rbrace>\\<sigma>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "hence \"\\<lbrakk>e\\<rbrakk>\\<^bsub>\\<lbrace>as\\<rbrace>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright> (\\<N>\\<lbrakk>e\\<rbrakk>\\<^bsub>\\<N>\\<lbrace>as\\<rbrace>\\<sigma>\\<^esub>)\\<cdot>C\\<^sup>\\<infinity>\""], ["proof (prove)\nusing this:\n  \\<lbrace>as\\<rbrace>\\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n  \\<N>\\<lbrace>as\\<rbrace>\\<sigma>\n\ngoal (1 subgoal):\n 1. \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<lbrace>as\\<rbrace>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<N>\\<lbrace>as\\<rbrace>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "by (rule Let(2))"], ["proof (state)\nthis:\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<lbrace>as\\<rbrace>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<N>\\<lbrace>as\\<rbrace>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> exp \\<rho> \\<sigma>.\n       \\<lbrakk>\\<And>x \\<rho> \\<sigma>.\n                   \\<lbrakk>x \\<in> domA \\<Gamma>;\n                    \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n                    \\<sigma>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk> the\n          (map_of \\<Gamma>\n            x) \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                                     (\\<N>\\<lbrakk> the\n               (map_of \\<Gamma> x) \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                                     C\\<^sup>\\<infinity>;\n        \\<And>\\<rho> \\<sigma>.\n           \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>*\n           \\<sigma> \\<Longrightarrow>\n           \\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n           (\\<N>\\<lbrakk> exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n           C\\<^sup>\\<infinity>;\n        \\<rho> \\<triangleleft>\\<triangleright>\\<^sup>* \\<sigma>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk> Terms.Let \\<Gamma>\n                                    exp \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n                         (\\<N>\\<lbrakk> Terms.Let \\<Gamma>\n   exp \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n                         C\\<^sup>\\<infinity>", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk> e \\<rbrakk>\\<^bsub>\\<lbrace>as\\<rbrace>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> e \\<rbrakk>\\<^bsub>\\<N>\\<lbrace>as\\<rbrace>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<lbrakk> Terms.Let as\n               e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n    (\\<N>\\<lbrakk> Terms.Let as e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n    C\\<^sup>\\<infinity>", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk> Terms.Let as\n             e \\<rbrakk>\\<^bsub>\\<rho>\\<^esub> \\<triangleleft>\\<triangleright>\n  (\\<N>\\<lbrakk> Terms.Let as e \\<rbrakk>\\<^bsub>\\<sigma>\\<^esub>)\\<cdot>\n  C\\<^sup>\\<infinity>\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary evalHeap_similar:\n  \"\\<And>y z. y \\<triangleleft>\\<triangleright>\\<^sup>* z \\<Longrightarrow> \\<^bold>\\<lbrakk> \\<Gamma> \\<^bold>\\<rbrakk>\\<^bsub>y\\<^esub> \\<triangleleft>\\<triangleright>\\<^sup>* \\<^bold>\\<N>\\<lbrakk> \\<Gamma> \\<^bold>\\<rbrakk>\\<^bsub>z\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y z.\n       y \\<triangleleft>\\<triangleright>\\<^sup>* z \\<Longrightarrow>\n       \\<^bold>\\<lbrakk> \\<Gamma> \\<^bold>\\<rbrakk>\\<^bsub>y\\<^esub> \\<triangleleft>\\<triangleright>\\<^sup>*\n       \\<^bold>\\<N>\\<lbrakk> \\<Gamma> \\<^bold>\\<rbrakk>\\<^bsub>z\\<^esub>", "by (rule pointwiseI)\n     (case_tac \"x \\<in> domA \\<Gamma>\", auto simp add: lookupEvalHeap denotational_semantics_similar)"], ["", "theorem heaps_similar: \"\\<lbrace>\\<Gamma>\\<rbrace> \\<triangleleft>\\<triangleright>\\<^sup>* \\<N>\\<lbrace>\\<Gamma>\\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace>\\<Gamma>\\<rbrace> \\<triangleleft>\\<triangleright>\\<^sup>*\n    \\<N>\\<lbrace>\\<Gamma>\\<rbrace>", "by (rule parallel_HSem_ind_different_ESem[OF pointwise_adm[OF similar_admI]])\n     (auto simp add: evalHeap_similar)"], ["", "end"]]}