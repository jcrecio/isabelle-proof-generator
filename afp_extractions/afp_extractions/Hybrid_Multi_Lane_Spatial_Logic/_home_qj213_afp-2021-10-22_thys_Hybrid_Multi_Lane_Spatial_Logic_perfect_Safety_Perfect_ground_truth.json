{"file_name": "/home/qj213/afp-2021-10-22/thys/Hybrid_Multi_Lane_Spatial_Logic/perfect/Safety_Perfect.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Hybrid_Multi_Lane_Spatial_Logic", "problem_names": ["theorem safety:\"\\<Turnstile>( \\<^bold>\\<forall>e. safe e ) \\<^bold>\\<and> DC \\<^bold>\\<and> LC \\<^bold>\\<rightarrow> \\<^bold>G (\\<^bold>\\<forall> e. safe e)\"", "lemma safety_switch_invariant:\"\\<Turnstile>(\\<^bold>\\<forall>e. safe(e)) \\<^bold>\\<rightarrow>  \\<^bold>@c (\\<^bold>\\<forall>e. safe(e))\""], "translations": [["", "theorem safety:\"\\<Turnstile>( \\<^bold>\\<forall>e. safe e ) \\<^bold>\\<and> DC \\<^bold>\\<and> LC \\<^bold>\\<rightarrow> \\<^bold>G (\\<^bold>\\<forall> e. safe e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>ts v.\n       (\\<forall>x xa.\n           xa \\<noteq> x \\<longrightarrow>\n           (\\<nexists>va u.\n               v=va\\<parallel>u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v\\<parallel>ua \\<and>\n                   (\\<exists>va u.\n                       v=va--u \\<and>\n                       True \\<and>\n                       (\\<exists>v ua.\n                           u=v--ua \\<and>\n                           ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                             len v ts xa = ext v \\<and>\n                             restrict v (res ts) xa = lan v \\<and>\n                             |lan v| = 1) \\<and>\n                            0 < \\<parallel>ext v\\<parallel> \\<and>\n                            len v ts x = ext v \\<and>\n                            restrict v (res ts) x = lan v \\<and>\n                            |lan v| = 1) \\<and>\n                           True)) \\<and>\n                   True))) \\<and>\n       (\\<forall>ts'.\n           ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n           (\\<forall>x xa.\n               x \\<noteq> xa \\<longrightarrow>\n               (\\<nexists>va u.\n                   move ts ts' v=va\\<parallel>u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v\\<parallel>ua \\<and>\n                       (\\<exists>va u.\n                           v=va--u \\<and>\n                           True \\<and>\n                           (\\<exists>v ua.\n                               u=v--ua \\<and>\n                               ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                 len v ts' x = ext v \\<and>\n                                 restrict v (res ts') x = lan v \\<and>\n                                 |lan v| = 1) \\<and>\n                                0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (res ts') xa = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               True)) \\<and>\n                       True)) \\<longrightarrow>\n               (\\<forall>ts'a.\n                   ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n                   (\\<nexists>va u.\n                       move ts' ts'a (move ts ts' v)=va\\<parallel>u \\<and>\n                       True \\<and>\n                       (\\<exists>v ua.\n                           u=v\\<parallel>ua \\<and>\n                           (\\<exists>va u.\n                               v=va--u \\<and>\n                               True \\<and>\n                               (\\<exists>v ua.\n                                   u=v--ua \\<and>\n                                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts'a x = ext v \\<and>\n                                     restrict v (res ts'a) x = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                                    len v ts'a xa = ext v \\<and>\n                                    restrict v (res ts'a) xa = lan v \\<and>\n                                    |lan v| = 1) \\<and>\n                                   True)) \\<and>\n                           True))))) \\<and>\n       (\\<forall>ts'.\n           ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n           (\\<forall>x.\n               (\\<exists>xa.\n                   xa \\<noteq> x \\<and>\n                   (\\<exists>va u.\n                       move ts ts' v=va\\<parallel>u \\<and>\n                       True \\<and>\n                       (\\<exists>v ua.\n                           u=v\\<parallel>ua \\<and>\n                           (\\<exists>va u.\n                               v=va--u \\<and>\n                               True \\<and>\n                               (\\<exists>v ua.\n                                   u=v--ua \\<and>\n                                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts' x = ext v \\<and>\n                                     restrict v (clm ts') x = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    (0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts' xa = ext v \\<and>\n                                     restrict v (res ts') xa = lan v \\<and>\n                                     |lan v| = 1 \\<or>\n                                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts' xa = ext v \\<and>\n                                     restrict v (clm ts') xa = lan v \\<and>\n                                     |lan v| = 1)) \\<and>\n                                   True)) \\<and>\n                           True))) \\<longrightarrow>\n               (\\<forall>ts'a.\n                   ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n                   False))) \\<longrightarrow>\n       (\\<forall>ts'.\n           ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n           (\\<forall>x xa.\n               xa \\<noteq> x \\<longrightarrow>\n               (\\<nexists>va u.\n                   move ts ts' v=va\\<parallel>u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v\\<parallel>ua \\<and>\n                       (\\<exists>va u.\n                           v=va--u \\<and>\n                           True \\<and>\n                           (\\<exists>v ua.\n                               u=v--ua \\<and>\n                               ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                 len v ts' xa = ext v \\<and>\n                                 restrict v (res ts') xa = lan v \\<and>\n                                 |lan v| = 1) \\<and>\n                                0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' x = ext v \\<and>\n                                restrict v (res ts') x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               True)) \\<and>\n                       True))))", "proof (rule allI|rule impI)+"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ts v ts' x xa.\n       \\<lbrakk>(\\<forall>x xa.\n                    xa \\<noteq> x \\<longrightarrow>\n                    (\\<nexists>va u.\n                        v=va\\<parallel>u \\<and>\n                        True \\<and>\n                        (\\<exists>v ua.\n                            u=v\\<parallel>ua \\<and>\n                            (\\<exists>va u.\n                                v=va--u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v--ua \\<and>\n                                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\nlen v ts xa = ext v \\<and>\nrestrict v (res ts) xa = lan v \\<and> |lan v| = 1) \\<and>\n                                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts x = ext v \\<and>\n                                     restrict v (res ts) x = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    True)) \\<and>\n                            True))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x xa.\n                        x \\<noteq> xa \\<longrightarrow>\n                        (\\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' x = ext v \\<and>\n    restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' xa = ext v \\<and>\n   restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n                            (\\<nexists>va u.\n                                move ts' ts'a\n                                 (move ts ts' v)=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts'a x = ext v \\<and>\n        restrict v (res ts'a) x = lan v \\<and> |lan v| = 1) \\<and>\n       0 < \\<parallel>ext v\\<parallel> \\<and>\n       len v ts'a xa = ext v \\<and>\n       restrict v (res ts'a) xa = lan v \\<and> |lan v| = 1) \\<and>\n      True)) \\<and>\n                                    True))))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x.\n                        (\\<exists>xa.\n                            xa \\<noteq> x \\<and>\n                            (\\<exists>va u.\n                                move ts ts' v=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' x = ext v \\<and>\n        restrict v (clm ts') x = lan v \\<and> |lan v| = 1) \\<and>\n       (0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (res ts') xa = lan v \\<and> |lan v| = 1 \\<or>\n        0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (clm ts') xa = lan v \\<and> |lan v| = 1)) \\<and>\n      True)) \\<and>\n                                    True))) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n                            False)));\n        ts \\<^bold>\\<Rightarrow> ts'; xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' xa = ext v \\<and>\n    restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' x = ext v \\<and>\n   restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "fix ts v ts'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ts v ts' x xa.\n       \\<lbrakk>(\\<forall>x xa.\n                    xa \\<noteq> x \\<longrightarrow>\n                    (\\<nexists>va u.\n                        v=va\\<parallel>u \\<and>\n                        True \\<and>\n                        (\\<exists>v ua.\n                            u=v\\<parallel>ua \\<and>\n                            (\\<exists>va u.\n                                v=va--u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v--ua \\<and>\n                                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\nlen v ts xa = ext v \\<and>\nrestrict v (res ts) xa = lan v \\<and> |lan v| = 1) \\<and>\n                                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts x = ext v \\<and>\n                                     restrict v (res ts) x = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    True)) \\<and>\n                            True))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x xa.\n                        x \\<noteq> xa \\<longrightarrow>\n                        (\\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' x = ext v \\<and>\n    restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' xa = ext v \\<and>\n   restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n                            (\\<nexists>va u.\n                                move ts' ts'a\n                                 (move ts ts' v)=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts'a x = ext v \\<and>\n        restrict v (res ts'a) x = lan v \\<and> |lan v| = 1) \\<and>\n       0 < \\<parallel>ext v\\<parallel> \\<and>\n       len v ts'a xa = ext v \\<and>\n       restrict v (res ts'a) xa = lan v \\<and> |lan v| = 1) \\<and>\n      True)) \\<and>\n                                    True))))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x.\n                        (\\<exists>xa.\n                            xa \\<noteq> x \\<and>\n                            (\\<exists>va u.\n                                move ts ts' v=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' x = ext v \\<and>\n        restrict v (clm ts') x = lan v \\<and> |lan v| = 1) \\<and>\n       (0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (res ts') xa = lan v \\<and> |lan v| = 1 \\<or>\n        0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (clm ts') xa = lan v \\<and> |lan v| = 1)) \\<and>\n      True)) \\<and>\n                                    True))) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n                            False)));\n        ts \\<^bold>\\<Rightarrow> ts'; xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' xa = ext v \\<and>\n    restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' x = ext v \\<and>\n   restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "fix e c::cars"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ts v ts' x xa.\n       \\<lbrakk>(\\<forall>x xa.\n                    xa \\<noteq> x \\<longrightarrow>\n                    (\\<nexists>va u.\n                        v=va\\<parallel>u \\<and>\n                        True \\<and>\n                        (\\<exists>v ua.\n                            u=v\\<parallel>ua \\<and>\n                            (\\<exists>va u.\n                                v=va--u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v--ua \\<and>\n                                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\nlen v ts xa = ext v \\<and>\nrestrict v (res ts) xa = lan v \\<and> |lan v| = 1) \\<and>\n                                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts x = ext v \\<and>\n                                     restrict v (res ts) x = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    True)) \\<and>\n                            True))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x xa.\n                        x \\<noteq> xa \\<longrightarrow>\n                        (\\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' x = ext v \\<and>\n    restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' xa = ext v \\<and>\n   restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n                            (\\<nexists>va u.\n                                move ts' ts'a\n                                 (move ts ts' v)=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts'a x = ext v \\<and>\n        restrict v (res ts'a) x = lan v \\<and> |lan v| = 1) \\<and>\n       0 < \\<parallel>ext v\\<parallel> \\<and>\n       len v ts'a xa = ext v \\<and>\n       restrict v (res ts'a) xa = lan v \\<and> |lan v| = 1) \\<and>\n      True)) \\<and>\n                                    True))))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x.\n                        (\\<exists>xa.\n                            xa \\<noteq> x \\<and>\n                            (\\<exists>va u.\n                                move ts ts' v=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' x = ext v \\<and>\n        restrict v (clm ts') x = lan v \\<and> |lan v| = 1) \\<and>\n       (0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (res ts') xa = lan v \\<and> |lan v| = 1 \\<or>\n        0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (clm ts') xa = lan v \\<and> |lan v| = 1)) \\<and>\n      True)) \\<and>\n                                    True))) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n                            False)));\n        ts \\<^bold>\\<Rightarrow> ts'; xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' xa = ext v \\<and>\n    restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' x = ext v \\<and>\n   restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "assume assm:\"ts,v \\<Turnstile> ( \\<^bold>\\<forall>e. safe e ) \\<^bold>\\<and> DC \\<^bold>\\<and> LC\""], ["proof (state)\nthis:\n  (\\<forall>x xa.\n      xa \\<noteq> x \\<longrightarrow>\n      (\\<nexists>va u.\n          v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts xa = ext v \\<and>\n                        restrict v (res ts) xa = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts x = ext v \\<and>\n                       restrict v (res ts) x = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      True)) \\<and>\n              True))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x xa.\n          x \\<noteq> xa \\<longrightarrow>\n          (\\<nexists>va u.\n              move ts ts' v=va\\<parallel>u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v\\<parallel>ua \\<and>\n                  (\\<exists>va u.\n                      v=va--u \\<and>\n                      True \\<and>\n                      (\\<exists>v ua.\n                          u=v--ua \\<and>\n                          ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                            len v ts' x = ext v \\<and>\n                            restrict v (res ts') x = lan v \\<and>\n                            |lan v| = 1) \\<and>\n                           0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' xa = ext v \\<and>\n                           restrict v (res ts') xa = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          True)) \\<and>\n                  True)) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n              (\\<nexists>va u.\n                  move ts' ts'a (move ts ts' v)=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts'a x = ext v \\<and>\n                                restrict v (res ts'a) x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts'a xa = ext v \\<and>\n                               restrict v (res ts'a) xa = lan v \\<and>\n                               |lan v| = 1) \\<and>\n                              True)) \\<and>\n                      True))))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x.\n          (\\<exists>xa.\n              xa \\<noteq> x \\<and>\n              (\\<exists>va u.\n                  move ts ts' v=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' x = ext v \\<and>\n                                restrict v (clm ts') x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               (0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (res ts') xa = lan v \\<and>\n                                |lan v| = 1 \\<or>\n                                0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (clm ts') xa = lan v \\<and>\n                                |lan v| = 1)) \\<and>\n                              True)) \\<and>\n                      True))) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n              False)))\n\ngoal (1 subgoal):\n 1. \\<And>ts v ts' x xa.\n       \\<lbrakk>(\\<forall>x xa.\n                    xa \\<noteq> x \\<longrightarrow>\n                    (\\<nexists>va u.\n                        v=va\\<parallel>u \\<and>\n                        True \\<and>\n                        (\\<exists>v ua.\n                            u=v\\<parallel>ua \\<and>\n                            (\\<exists>va u.\n                                v=va--u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v--ua \\<and>\n                                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\nlen v ts xa = ext v \\<and>\nrestrict v (res ts) xa = lan v \\<and> |lan v| = 1) \\<and>\n                                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts x = ext v \\<and>\n                                     restrict v (res ts) x = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    True)) \\<and>\n                            True))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x xa.\n                        x \\<noteq> xa \\<longrightarrow>\n                        (\\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' x = ext v \\<and>\n    restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' xa = ext v \\<and>\n   restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n                            (\\<nexists>va u.\n                                move ts' ts'a\n                                 (move ts ts' v)=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts'a x = ext v \\<and>\n        restrict v (res ts'a) x = lan v \\<and> |lan v| = 1) \\<and>\n       0 < \\<parallel>ext v\\<parallel> \\<and>\n       len v ts'a xa = ext v \\<and>\n       restrict v (res ts'a) xa = lan v \\<and> |lan v| = 1) \\<and>\n      True)) \\<and>\n                                    True))))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x.\n                        (\\<exists>xa.\n                            xa \\<noteq> x \\<and>\n                            (\\<exists>va u.\n                                move ts ts' v=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' x = ext v \\<and>\n        restrict v (clm ts') x = lan v \\<and> |lan v| = 1) \\<and>\n       (0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (res ts') xa = lan v \\<and> |lan v| = 1 \\<or>\n        0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (clm ts') xa = lan v \\<and> |lan v| = 1)) \\<and>\n      True)) \\<and>\n                                    True))) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n                            False)));\n        ts \\<^bold>\\<Rightarrow> ts'; xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' xa = ext v \\<and>\n    restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' x = ext v \\<and>\n   restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "assume  abs:\"ts \\<^bold>\\<Rightarrow> ts'\""], ["proof (state)\nthis:\n  ts \\<^bold>\\<Rightarrow> ts'\n\ngoal (1 subgoal):\n 1. \\<And>ts v ts' x xa.\n       \\<lbrakk>(\\<forall>x xa.\n                    xa \\<noteq> x \\<longrightarrow>\n                    (\\<nexists>va u.\n                        v=va\\<parallel>u \\<and>\n                        True \\<and>\n                        (\\<exists>v ua.\n                            u=v\\<parallel>ua \\<and>\n                            (\\<exists>va u.\n                                v=va--u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v--ua \\<and>\n                                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\nlen v ts xa = ext v \\<and>\nrestrict v (res ts) xa = lan v \\<and> |lan v| = 1) \\<and>\n                                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts x = ext v \\<and>\n                                     restrict v (res ts) x = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    True)) \\<and>\n                            True))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x xa.\n                        x \\<noteq> xa \\<longrightarrow>\n                        (\\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' x = ext v \\<and>\n    restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' xa = ext v \\<and>\n   restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n                            (\\<nexists>va u.\n                                move ts' ts'a\n                                 (move ts ts' v)=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts'a x = ext v \\<and>\n        restrict v (res ts'a) x = lan v \\<and> |lan v| = 1) \\<and>\n       0 < \\<parallel>ext v\\<parallel> \\<and>\n       len v ts'a xa = ext v \\<and>\n       restrict v (res ts'a) xa = lan v \\<and> |lan v| = 1) \\<and>\n      True)) \\<and>\n                                    True))))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x.\n                        (\\<exists>xa.\n                            xa \\<noteq> x \\<and>\n                            (\\<exists>va u.\n                                move ts ts' v=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' x = ext v \\<and>\n        restrict v (clm ts') x = lan v \\<and> |lan v| = 1) \\<and>\n       (0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (res ts') xa = lan v \\<and> |lan v| = 1 \\<or>\n        0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (clm ts') xa = lan v \\<and> |lan v| = 1)) \\<and>\n      True)) \\<and>\n                                    True))) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n                            False)));\n        ts \\<^bold>\\<Rightarrow> ts'; xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' xa = ext v \\<and>\n    restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' x = ext v \\<and>\n   restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "assume nequals: \"ts,v \\<Turnstile>\\<^bold>\\<not>(c \\<^bold>=e)\""], ["proof (state)\nthis:\n  c \\<noteq> e\n\ngoal (1 subgoal):\n 1. \\<And>ts v ts' x xa.\n       \\<lbrakk>(\\<forall>x xa.\n                    xa \\<noteq> x \\<longrightarrow>\n                    (\\<nexists>va u.\n                        v=va\\<parallel>u \\<and>\n                        True \\<and>\n                        (\\<exists>v ua.\n                            u=v\\<parallel>ua \\<and>\n                            (\\<exists>va u.\n                                v=va--u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v--ua \\<and>\n                                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\nlen v ts xa = ext v \\<and>\nrestrict v (res ts) xa = lan v \\<and> |lan v| = 1) \\<and>\n                                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts x = ext v \\<and>\n                                     restrict v (res ts) x = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    True)) \\<and>\n                            True))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x xa.\n                        x \\<noteq> xa \\<longrightarrow>\n                        (\\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' x = ext v \\<and>\n    restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' xa = ext v \\<and>\n   restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n                            (\\<nexists>va u.\n                                move ts' ts'a\n                                 (move ts ts' v)=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts'a x = ext v \\<and>\n        restrict v (res ts'a) x = lan v \\<and> |lan v| = 1) \\<and>\n       0 < \\<parallel>ext v\\<parallel> \\<and>\n       len v ts'a xa = ext v \\<and>\n       restrict v (res ts'a) xa = lan v \\<and> |lan v| = 1) \\<and>\n      True)) \\<and>\n                                    True))))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x.\n                        (\\<exists>xa.\n                            xa \\<noteq> x \\<and>\n                            (\\<exists>va u.\n                                move ts ts' v=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' x = ext v \\<and>\n        restrict v (clm ts') x = lan v \\<and> |lan v| = 1) \\<and>\n       (0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (res ts') xa = lan v \\<and> |lan v| = 1 \\<or>\n        0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (clm ts') xa = lan v \\<and> |lan v| = 1)) \\<and>\n      True)) \\<and>\n                                    True))) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n                            False)));\n        ts \\<^bold>\\<Rightarrow> ts'; xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' xa = ext v \\<and>\n    restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' x = ext v \\<and>\n   restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "from assm"], ["proof (chain)\npicking this:\n  (\\<forall>x xa.\n      xa \\<noteq> x \\<longrightarrow>\n      (\\<nexists>va u.\n          v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts xa = ext v \\<and>\n                        restrict v (res ts) xa = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts x = ext v \\<and>\n                       restrict v (res ts) x = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      True)) \\<and>\n              True))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x xa.\n          x \\<noteq> xa \\<longrightarrow>\n          (\\<nexists>va u.\n              move ts ts' v=va\\<parallel>u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v\\<parallel>ua \\<and>\n                  (\\<exists>va u.\n                      v=va--u \\<and>\n                      True \\<and>\n                      (\\<exists>v ua.\n                          u=v--ua \\<and>\n                          ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                            len v ts' x = ext v \\<and>\n                            restrict v (res ts') x = lan v \\<and>\n                            |lan v| = 1) \\<and>\n                           0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' xa = ext v \\<and>\n                           restrict v (res ts') xa = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          True)) \\<and>\n                  True)) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n              (\\<nexists>va u.\n                  move ts' ts'a (move ts ts' v)=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts'a x = ext v \\<and>\n                                restrict v (res ts'a) x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts'a xa = ext v \\<and>\n                               restrict v (res ts'a) xa = lan v \\<and>\n                               |lan v| = 1) \\<and>\n                              True)) \\<and>\n                      True))))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x.\n          (\\<exists>xa.\n              xa \\<noteq> x \\<and>\n              (\\<exists>va u.\n                  move ts ts' v=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' x = ext v \\<and>\n                                restrict v (clm ts') x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               (0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (res ts') xa = lan v \\<and>\n                                |lan v| = 1 \\<or>\n                                0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (clm ts') xa = lan v \\<and>\n                                |lan v| = 1)) \\<and>\n                              True)) \\<and>\n                      True))) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n              False)))", "have init:\"ts,v \\<Turnstile> ( \\<^bold>\\<forall>e. safe e )\""], ["proof (prove)\nusing this:\n  (\\<forall>x xa.\n      xa \\<noteq> x \\<longrightarrow>\n      (\\<nexists>va u.\n          v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts xa = ext v \\<and>\n                        restrict v (res ts) xa = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts x = ext v \\<and>\n                       restrict v (res ts) x = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      True)) \\<and>\n              True))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x xa.\n          x \\<noteq> xa \\<longrightarrow>\n          (\\<nexists>va u.\n              move ts ts' v=va\\<parallel>u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v\\<parallel>ua \\<and>\n                  (\\<exists>va u.\n                      v=va--u \\<and>\n                      True \\<and>\n                      (\\<exists>v ua.\n                          u=v--ua \\<and>\n                          ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                            len v ts' x = ext v \\<and>\n                            restrict v (res ts') x = lan v \\<and>\n                            |lan v| = 1) \\<and>\n                           0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' xa = ext v \\<and>\n                           restrict v (res ts') xa = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          True)) \\<and>\n                  True)) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n              (\\<nexists>va u.\n                  move ts' ts'a (move ts ts' v)=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts'a x = ext v \\<and>\n                                restrict v (res ts'a) x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts'a xa = ext v \\<and>\n                               restrict v (res ts'a) xa = lan v \\<and>\n                               |lan v| = 1) \\<and>\n                              True)) \\<and>\n                      True))))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x.\n          (\\<exists>xa.\n              xa \\<noteq> x \\<and>\n              (\\<exists>va u.\n                  move ts ts' v=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' x = ext v \\<and>\n                                restrict v (clm ts') x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               (0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (res ts') xa = lan v \\<and>\n                                |lan v| = 1 \\<or>\n                                0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (clm ts') xa = lan v \\<and>\n                                |lan v| = 1)) \\<and>\n                              True)) \\<and>\n                      True))) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n              False)))\n\ngoal (1 subgoal):\n 1. \\<forall>x xa.\n       xa \\<noteq> x \\<longrightarrow>\n       (\\<nexists>va u.\n           v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts xa = ext v \\<and>\n                         restrict v (res ts) xa = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts x = ext v \\<and>\n                        restrict v (res ts) x = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True))", "by simp"], ["proof (state)\nthis:\n  \\<forall>x xa.\n     xa \\<noteq> x \\<longrightarrow>\n     (\\<nexists>va u.\n         v=va\\<parallel>u \\<and>\n         True \\<and>\n         (\\<exists>v ua.\n             u=v\\<parallel>ua \\<and>\n             (\\<exists>va u.\n                 v=va--u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v--ua \\<and>\n                     ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts xa = ext v \\<and>\n                       restrict v (res ts) xa = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts x = ext v \\<and>\n                      restrict v (res ts) x = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     True)) \\<and>\n             True))\n\ngoal (1 subgoal):\n 1. \\<And>ts v ts' x xa.\n       \\<lbrakk>(\\<forall>x xa.\n                    xa \\<noteq> x \\<longrightarrow>\n                    (\\<nexists>va u.\n                        v=va\\<parallel>u \\<and>\n                        True \\<and>\n                        (\\<exists>v ua.\n                            u=v\\<parallel>ua \\<and>\n                            (\\<exists>va u.\n                                v=va--u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v--ua \\<and>\n                                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\nlen v ts xa = ext v \\<and>\nrestrict v (res ts) xa = lan v \\<and> |lan v| = 1) \\<and>\n                                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts x = ext v \\<and>\n                                     restrict v (res ts) x = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    True)) \\<and>\n                            True))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x xa.\n                        x \\<noteq> xa \\<longrightarrow>\n                        (\\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' x = ext v \\<and>\n    restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' xa = ext v \\<and>\n   restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n                            (\\<nexists>va u.\n                                move ts' ts'a\n                                 (move ts ts' v)=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts'a x = ext v \\<and>\n        restrict v (res ts'a) x = lan v \\<and> |lan v| = 1) \\<and>\n       0 < \\<parallel>ext v\\<parallel> \\<and>\n       len v ts'a xa = ext v \\<and>\n       restrict v (res ts'a) xa = lan v \\<and> |lan v| = 1) \\<and>\n      True)) \\<and>\n                                    True))))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x.\n                        (\\<exists>xa.\n                            xa \\<noteq> x \\<and>\n                            (\\<exists>va u.\n                                move ts ts' v=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' x = ext v \\<and>\n        restrict v (clm ts') x = lan v \\<and> |lan v| = 1) \\<and>\n       (0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (res ts') xa = lan v \\<and> |lan v| = 1 \\<or>\n        0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (clm ts') xa = lan v \\<and> |lan v| = 1)) \\<and>\n      True)) \\<and>\n                                    True))) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n                            False)));\n        ts \\<^bold>\\<Rightarrow> ts'; xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' xa = ext v \\<and>\n    restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' x = ext v \\<and>\n   restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "from assm"], ["proof (chain)\npicking this:\n  (\\<forall>x xa.\n      xa \\<noteq> x \\<longrightarrow>\n      (\\<nexists>va u.\n          v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts xa = ext v \\<and>\n                        restrict v (res ts) xa = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts x = ext v \\<and>\n                       restrict v (res ts) x = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      True)) \\<and>\n              True))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x xa.\n          x \\<noteq> xa \\<longrightarrow>\n          (\\<nexists>va u.\n              move ts ts' v=va\\<parallel>u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v\\<parallel>ua \\<and>\n                  (\\<exists>va u.\n                      v=va--u \\<and>\n                      True \\<and>\n                      (\\<exists>v ua.\n                          u=v--ua \\<and>\n                          ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                            len v ts' x = ext v \\<and>\n                            restrict v (res ts') x = lan v \\<and>\n                            |lan v| = 1) \\<and>\n                           0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' xa = ext v \\<and>\n                           restrict v (res ts') xa = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          True)) \\<and>\n                  True)) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n              (\\<nexists>va u.\n                  move ts' ts'a (move ts ts' v)=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts'a x = ext v \\<and>\n                                restrict v (res ts'a) x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts'a xa = ext v \\<and>\n                               restrict v (res ts'a) xa = lan v \\<and>\n                               |lan v| = 1) \\<and>\n                              True)) \\<and>\n                      True))))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x.\n          (\\<exists>xa.\n              xa \\<noteq> x \\<and>\n              (\\<exists>va u.\n                  move ts ts' v=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' x = ext v \\<and>\n                                restrict v (clm ts') x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               (0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (res ts') xa = lan v \\<and>\n                                |lan v| = 1 \\<or>\n                                0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (clm ts') xa = lan v \\<and>\n                                |lan v| = 1)) \\<and>\n                              True)) \\<and>\n                      True))) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n              False)))", "have DC :\"ts,v \\<Turnstile> DC\""], ["proof (prove)\nusing this:\n  (\\<forall>x xa.\n      xa \\<noteq> x \\<longrightarrow>\n      (\\<nexists>va u.\n          v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts xa = ext v \\<and>\n                        restrict v (res ts) xa = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts x = ext v \\<and>\n                       restrict v (res ts) x = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      True)) \\<and>\n              True))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x xa.\n          x \\<noteq> xa \\<longrightarrow>\n          (\\<nexists>va u.\n              move ts ts' v=va\\<parallel>u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v\\<parallel>ua \\<and>\n                  (\\<exists>va u.\n                      v=va--u \\<and>\n                      True \\<and>\n                      (\\<exists>v ua.\n                          u=v--ua \\<and>\n                          ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                            len v ts' x = ext v \\<and>\n                            restrict v (res ts') x = lan v \\<and>\n                            |lan v| = 1) \\<and>\n                           0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' xa = ext v \\<and>\n                           restrict v (res ts') xa = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          True)) \\<and>\n                  True)) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n              (\\<nexists>va u.\n                  move ts' ts'a (move ts ts' v)=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts'a x = ext v \\<and>\n                                restrict v (res ts'a) x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts'a xa = ext v \\<and>\n                               restrict v (res ts'a) xa = lan v \\<and>\n                               |lan v| = 1) \\<and>\n                              True)) \\<and>\n                      True))))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x.\n          (\\<exists>xa.\n              xa \\<noteq> x \\<and>\n              (\\<exists>va u.\n                  move ts ts' v=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' x = ext v \\<and>\n                                restrict v (clm ts') x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               (0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (res ts') xa = lan v \\<and>\n                                |lan v| = 1 \\<or>\n                                0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (clm ts') xa = lan v \\<and>\n                                |lan v| = 1)) \\<and>\n                              True)) \\<and>\n                      True))) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n              False)))\n\ngoal (1 subgoal):\n 1. \\<forall>ts'.\n       ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n       (\\<forall>x xa.\n           x \\<noteq> xa \\<longrightarrow>\n           (\\<nexists>va u.\n               move ts ts' v=va\\<parallel>u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v\\<parallel>ua \\<and>\n                   (\\<exists>va u.\n                       v=va--u \\<and>\n                       True \\<and>\n                       (\\<exists>v ua.\n                           u=v--ua \\<and>\n                           ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                             len v ts' x = ext v \\<and>\n                             restrict v (res ts') x = lan v \\<and>\n                             |lan v| = 1) \\<and>\n                            0 < \\<parallel>ext v\\<parallel> \\<and>\n                            len v ts' xa = ext v \\<and>\n                            restrict v (res ts') xa = lan v \\<and>\n                            |lan v| = 1) \\<and>\n                           True)) \\<and>\n                   True)) \\<longrightarrow>\n           (\\<forall>ts'a.\n               ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n               (\\<nexists>va u.\n                   move ts' ts'a (move ts ts' v)=va\\<parallel>u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v\\<parallel>ua \\<and>\n                       (\\<exists>va u.\n                           v=va--u \\<and>\n                           True \\<and>\n                           (\\<exists>v ua.\n                               u=v--ua \\<and>\n                               ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                 len v ts'a x = ext v \\<and>\n                                 restrict v (res ts'a) x = lan v \\<and>\n                                 |lan v| = 1) \\<and>\n                                0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts'a xa = ext v \\<and>\n                                restrict v (res ts'a) xa = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               True)) \\<and>\n                       True))))", "by simp"], ["proof (state)\nthis:\n  \\<forall>ts'.\n     ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n     (\\<forall>x xa.\n         x \\<noteq> xa \\<longrightarrow>\n         (\\<nexists>va u.\n             move ts ts' v=va\\<parallel>u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v\\<parallel>ua \\<and>\n                 (\\<exists>va u.\n                     v=va--u \\<and>\n                     True \\<and>\n                     (\\<exists>v ua.\n                         u=v--ua \\<and>\n                         ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' x = ext v \\<and>\n                           restrict v (res ts') x = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' xa = ext v \\<and>\n                          restrict v (res ts') xa = lan v \\<and>\n                          |lan v| = 1) \\<and>\n                         True)) \\<and>\n                 True)) \\<longrightarrow>\n         (\\<forall>ts'a.\n             ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n             (\\<nexists>va u.\n                 move ts' ts'a (move ts ts' v)=va\\<parallel>u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v\\<parallel>ua \\<and>\n                     (\\<exists>va u.\n                         v=va--u \\<and>\n                         True \\<and>\n                         (\\<exists>v ua.\n                             u=v--ua \\<and>\n                             ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts'a x = ext v \\<and>\n                               restrict v (res ts'a) x = lan v \\<and>\n                               |lan v| = 1) \\<and>\n                              0 < \\<parallel>ext v\\<parallel> \\<and>\n                              len v ts'a xa = ext v \\<and>\n                              restrict v (res ts'a) xa = lan v \\<and>\n                              |lan v| = 1) \\<and>\n                             True)) \\<and>\n                     True))))\n\ngoal (1 subgoal):\n 1. \\<And>ts v ts' x xa.\n       \\<lbrakk>(\\<forall>x xa.\n                    xa \\<noteq> x \\<longrightarrow>\n                    (\\<nexists>va u.\n                        v=va\\<parallel>u \\<and>\n                        True \\<and>\n                        (\\<exists>v ua.\n                            u=v\\<parallel>ua \\<and>\n                            (\\<exists>va u.\n                                v=va--u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v--ua \\<and>\n                                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\nlen v ts xa = ext v \\<and>\nrestrict v (res ts) xa = lan v \\<and> |lan v| = 1) \\<and>\n                                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts x = ext v \\<and>\n                                     restrict v (res ts) x = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    True)) \\<and>\n                            True))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x xa.\n                        x \\<noteq> xa \\<longrightarrow>\n                        (\\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' x = ext v \\<and>\n    restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' xa = ext v \\<and>\n   restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n                            (\\<nexists>va u.\n                                move ts' ts'a\n                                 (move ts ts' v)=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts'a x = ext v \\<and>\n        restrict v (res ts'a) x = lan v \\<and> |lan v| = 1) \\<and>\n       0 < \\<parallel>ext v\\<parallel> \\<and>\n       len v ts'a xa = ext v \\<and>\n       restrict v (res ts'a) xa = lan v \\<and> |lan v| = 1) \\<and>\n      True)) \\<and>\n                                    True))))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x.\n                        (\\<exists>xa.\n                            xa \\<noteq> x \\<and>\n                            (\\<exists>va u.\n                                move ts ts' v=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' x = ext v \\<and>\n        restrict v (clm ts') x = lan v \\<and> |lan v| = 1) \\<and>\n       (0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (res ts') xa = lan v \\<and> |lan v| = 1 \\<or>\n        0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (clm ts') xa = lan v \\<and> |lan v| = 1)) \\<and>\n      True)) \\<and>\n                                    True))) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n                            False)));\n        ts \\<^bold>\\<Rightarrow> ts'; xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' xa = ext v \\<and>\n    restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' x = ext v \\<and>\n   restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "from assm"], ["proof (chain)\npicking this:\n  (\\<forall>x xa.\n      xa \\<noteq> x \\<longrightarrow>\n      (\\<nexists>va u.\n          v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts xa = ext v \\<and>\n                        restrict v (res ts) xa = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts x = ext v \\<and>\n                       restrict v (res ts) x = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      True)) \\<and>\n              True))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x xa.\n          x \\<noteq> xa \\<longrightarrow>\n          (\\<nexists>va u.\n              move ts ts' v=va\\<parallel>u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v\\<parallel>ua \\<and>\n                  (\\<exists>va u.\n                      v=va--u \\<and>\n                      True \\<and>\n                      (\\<exists>v ua.\n                          u=v--ua \\<and>\n                          ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                            len v ts' x = ext v \\<and>\n                            restrict v (res ts') x = lan v \\<and>\n                            |lan v| = 1) \\<and>\n                           0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' xa = ext v \\<and>\n                           restrict v (res ts') xa = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          True)) \\<and>\n                  True)) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n              (\\<nexists>va u.\n                  move ts' ts'a (move ts ts' v)=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts'a x = ext v \\<and>\n                                restrict v (res ts'a) x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts'a xa = ext v \\<and>\n                               restrict v (res ts'a) xa = lan v \\<and>\n                               |lan v| = 1) \\<and>\n                              True)) \\<and>\n                      True))))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x.\n          (\\<exists>xa.\n              xa \\<noteq> x \\<and>\n              (\\<exists>va u.\n                  move ts ts' v=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' x = ext v \\<and>\n                                restrict v (clm ts') x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               (0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (res ts') xa = lan v \\<and>\n                                |lan v| = 1 \\<or>\n                                0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (clm ts') xa = lan v \\<and>\n                                |lan v| = 1)) \\<and>\n                              True)) \\<and>\n                      True))) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n              False)))", "have LC: \"ts,v \\<Turnstile> LC\""], ["proof (prove)\nusing this:\n  (\\<forall>x xa.\n      xa \\<noteq> x \\<longrightarrow>\n      (\\<nexists>va u.\n          v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts xa = ext v \\<and>\n                        restrict v (res ts) xa = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts x = ext v \\<and>\n                       restrict v (res ts) x = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      True)) \\<and>\n              True))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x xa.\n          x \\<noteq> xa \\<longrightarrow>\n          (\\<nexists>va u.\n              move ts ts' v=va\\<parallel>u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v\\<parallel>ua \\<and>\n                  (\\<exists>va u.\n                      v=va--u \\<and>\n                      True \\<and>\n                      (\\<exists>v ua.\n                          u=v--ua \\<and>\n                          ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                            len v ts' x = ext v \\<and>\n                            restrict v (res ts') x = lan v \\<and>\n                            |lan v| = 1) \\<and>\n                           0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' xa = ext v \\<and>\n                           restrict v (res ts') xa = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          True)) \\<and>\n                  True)) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n              (\\<nexists>va u.\n                  move ts' ts'a (move ts ts' v)=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts'a x = ext v \\<and>\n                                restrict v (res ts'a) x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts'a xa = ext v \\<and>\n                               restrict v (res ts'a) xa = lan v \\<and>\n                               |lan v| = 1) \\<and>\n                              True)) \\<and>\n                      True))))) \\<and>\n  (\\<forall>ts'.\n      ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n      (\\<forall>x.\n          (\\<exists>xa.\n              xa \\<noteq> x \\<and>\n              (\\<exists>va u.\n                  move ts ts' v=va\\<parallel>u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v\\<parallel>ua \\<and>\n                      (\\<exists>va u.\n                          v=va--u \\<and>\n                          True \\<and>\n                          (\\<exists>v ua.\n                              u=v--ua \\<and>\n                              ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' x = ext v \\<and>\n                                restrict v (clm ts') x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               (0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (res ts') xa = lan v \\<and>\n                                |lan v| = 1 \\<or>\n                                0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts' xa = ext v \\<and>\n                                restrict v (clm ts') xa = lan v \\<and>\n                                |lan v| = 1)) \\<and>\n                              True)) \\<and>\n                      True))) \\<longrightarrow>\n          (\\<forall>ts'a.\n              ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n              False)))\n\ngoal (1 subgoal):\n 1. \\<forall>ts'.\n       ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n       (\\<forall>x.\n           (\\<exists>xa.\n               xa \\<noteq> x \\<and>\n               (\\<exists>va u.\n                   move ts ts' v=va\\<parallel>u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v\\<parallel>ua \\<and>\n                       (\\<exists>va u.\n                           v=va--u \\<and>\n                           True \\<and>\n                           (\\<exists>v ua.\n                               u=v--ua \\<and>\n                               ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                 len v ts' x = ext v \\<and>\n                                 restrict v (clm ts') x = lan v \\<and>\n                                 |lan v| = 1) \\<and>\n                                (0 < \\<parallel>ext v\\<parallel> \\<and>\n                                 len v ts' xa = ext v \\<and>\n                                 restrict v (res ts') xa = lan v \\<and>\n                                 |lan v| = 1 \\<or>\n                                 0 < \\<parallel>ext v\\<parallel> \\<and>\n                                 len v ts' xa = ext v \\<and>\n                                 restrict v (clm ts') xa = lan v \\<and>\n                                 |lan v| = 1)) \\<and>\n                               True)) \\<and>\n                       True))) \\<longrightarrow>\n           (\\<forall>ts'a.\n               ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n               False))", "by simp"], ["proof (state)\nthis:\n  \\<forall>ts'.\n     ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n     (\\<forall>x.\n         (\\<exists>xa.\n             xa \\<noteq> x \\<and>\n             (\\<exists>va u.\n                 move ts ts' v=va\\<parallel>u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v\\<parallel>ua \\<and>\n                     (\\<exists>va u.\n                         v=va--u \\<and>\n                         True \\<and>\n                         (\\<exists>v ua.\n                             u=v--ua \\<and>\n                             ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts' x = ext v \\<and>\n                               restrict v (clm ts') x = lan v \\<and>\n                               |lan v| = 1) \\<and>\n                              (0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts' xa = ext v \\<and>\n                               restrict v (res ts') xa = lan v \\<and>\n                               |lan v| = 1 \\<or>\n                               0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts' xa = ext v \\<and>\n                               restrict v (clm ts') xa = lan v \\<and>\n                               |lan v| = 1)) \\<and>\n                             True)) \\<and>\n                     True))) \\<longrightarrow>\n         (\\<forall>ts'a.\n             ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n             False))\n\ngoal (1 subgoal):\n 1. \\<And>ts v ts' x xa.\n       \\<lbrakk>(\\<forall>x xa.\n                    xa \\<noteq> x \\<longrightarrow>\n                    (\\<nexists>va u.\n                        v=va\\<parallel>u \\<and>\n                        True \\<and>\n                        (\\<exists>v ua.\n                            u=v\\<parallel>ua \\<and>\n                            (\\<exists>va u.\n                                v=va--u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v--ua \\<and>\n                                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\nlen v ts xa = ext v \\<and>\nrestrict v (res ts) xa = lan v \\<and> |lan v| = 1) \\<and>\n                                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts x = ext v \\<and>\n                                     restrict v (res ts) x = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    True)) \\<and>\n                            True))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x xa.\n                        x \\<noteq> xa \\<longrightarrow>\n                        (\\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' x = ext v \\<and>\n    restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' xa = ext v \\<and>\n   restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n                            (\\<nexists>va u.\n                                move ts' ts'a\n                                 (move ts ts' v)=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts'a x = ext v \\<and>\n        restrict v (res ts'a) x = lan v \\<and> |lan v| = 1) \\<and>\n       0 < \\<parallel>ext v\\<parallel> \\<and>\n       len v ts'a xa = ext v \\<and>\n       restrict v (res ts'a) xa = lan v \\<and> |lan v| = 1) \\<and>\n      True)) \\<and>\n                                    True))))) \\<and>\n                (\\<forall>ts'.\n                    ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n                    (\\<forall>x.\n                        (\\<exists>xa.\n                            xa \\<noteq> x \\<and>\n                            (\\<exists>va u.\n                                move ts ts' v=va\\<parallel>u \\<and>\n                                True \\<and>\n                                (\\<exists>v ua.\n                                    u=v\\<parallel>ua \\<and>\n                                    (\\<exists>va u.\n  v=va--u \\<and>\n  True \\<and>\n  (\\<exists>v ua.\n      u=v--ua \\<and>\n      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' x = ext v \\<and>\n        restrict v (clm ts') x = lan v \\<and> |lan v| = 1) \\<and>\n       (0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (res ts') xa = lan v \\<and> |lan v| = 1 \\<or>\n        0 < \\<parallel>ext v\\<parallel> \\<and>\n        len v ts' xa = ext v \\<and>\n        restrict v (clm ts') xa = lan v \\<and> |lan v| = 1)) \\<and>\n      True)) \\<and>\n                                    True))) \\<longrightarrow>\n                        (\\<forall>ts'a.\n                            ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n                            False)));\n        ts \\<^bold>\\<Rightarrow> ts'; xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts' xa = ext v \\<and>\n    restrict v (res ts') xa = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts' x = ext v \\<and>\n   restrict v (res ts') x = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "from abs"], ["proof (chain)\npicking this:\n  ts \\<^bold>\\<Rightarrow> ts'", "show \"ts',move ts ts' v \\<Turnstile>  \\<^bold>\\<not> \\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle> \""], ["proof (prove)\nusing this:\n  ts \\<^bold>\\<Rightarrow> ts'\n\ngoal (1 subgoal):\n 1. \\<nexists>va u.\n       move ts ts' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "proof (induction)"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<nexists>va u.\n       move ts ts v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts c = ext v \\<and>\n                     restrict v (res ts) c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        ts' \\<^bold>\\<leadsto> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 4. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 5. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 6. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "case (refl)"], ["proof (state)\nthis:\n  \n\ngoal (6 subgoals):\n 1. \\<nexists>va u.\n       move ts ts v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts c = ext v \\<and>\n                     restrict v (res ts) c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        ts' \\<^bold>\\<leadsto> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 4. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 5. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 6. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "have \"move ts ts v = v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. move ts ts v = v", "using traffic.move_nothing"], ["proof (prove)\nusing this:\n  move ?ts ?ts ?v = ?v\n\ngoal (1 subgoal):\n 1. move ts ts v = v", "by simp"], ["proof (state)\nthis:\n  move ts ts v = v\n\ngoal (6 subgoals):\n 1. \\<nexists>va u.\n       move ts ts v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts c = ext v \\<and>\n                     restrict v (res ts) c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        ts' \\<^bold>\\<leadsto> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 4. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 5. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 6. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "thus ?case"], ["proof (prove)\nusing this:\n  move ts ts v = v\n\ngoal (1 subgoal):\n 1. \\<nexists>va u.\n       move ts ts v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts c = ext v \\<and>\n                     restrict v (res ts) c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "using init traffic.move_nothing nequals"], ["proof (prove)\nusing this:\n  move ts ts v = v\n  \\<forall>x xa.\n     xa \\<noteq> x \\<longrightarrow>\n     (\\<nexists>va u.\n         v=va\\<parallel>u \\<and>\n         True \\<and>\n         (\\<exists>v ua.\n             u=v\\<parallel>ua \\<and>\n             (\\<exists>va u.\n                 v=va--u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v--ua \\<and>\n                     ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts xa = ext v \\<and>\n                       restrict v (res ts) xa = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts x = ext v \\<and>\n                      restrict v (res ts) x = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     True)) \\<and>\n             True))\n  move ?ts ?ts ?v = ?v\n  c \\<noteq> e\n\ngoal (1 subgoal):\n 1. \\<nexists>va u.\n       move ts ts v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts c = ext v \\<and>\n                     restrict v (res ts) c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "by auto"], ["proof (state)\nthis:\n  \\<nexists>va u.\n     move ts ts v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts c = ext v \\<and>\n                   restrict v (res ts) c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts e = ext v \\<and>\n                  restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (5 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        ts' \\<^bold>\\<leadsto> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 4. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 5. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        ts' \\<^bold>\\<leadsto> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 4. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 5. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "case (evolve ts' ts'' )"], ["proof (state)\nthis:\n  ts \\<^bold>\\<Rightarrow> ts'\n  ts' \\<^bold>\\<leadsto> ts''\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (5 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        ts' \\<^bold>\\<leadsto> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 4. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 5. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "have local_DC:\n      \"ts',move ts ts' v \\<Turnstile> \\<^bold>\\<forall> c d. \\<^bold>\\<not>(c \\<^bold>= d) \\<^bold>\\<rightarrow>\n                               \\<^bold>\\<not>\\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(d)\\<^bold>\\<rangle> \\<^bold>\\<rightarrow> \\<^bold>\\<box>\\<^bold>\\<tau> \\<^bold>\\<not>\\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(d)\\<^bold>\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x xa.\n       x \\<noteq> xa \\<longrightarrow>\n       (\\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' x = ext v \\<and>\n                         restrict v (res ts') x = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' xa = ext v \\<and>\n                        restrict v (res ts') xa = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True)) \\<longrightarrow>\n       (\\<forall>ts'.\n           ts' \\<^bold>\\<leadsto> ts' \\<longrightarrow>\n           (\\<nexists>va u.\n               move ts' ts' (move ts ts' v)=va\\<parallel>u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v\\<parallel>ua \\<and>\n                   (\\<exists>va u.\n                       v=va--u \\<and>\n                       True \\<and>\n                       (\\<exists>v ua.\n                           u=v--ua \\<and>\n                           ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                             len v ts' x = ext v \\<and>\n                             restrict v (res ts') x = lan v \\<and>\n                             |lan v| = 1) \\<and>\n                            0 < \\<parallel>ext v\\<parallel> \\<and>\n                            len v ts' xa = ext v \\<and>\n                            restrict v (res ts') xa = lan v \\<and>\n                            |lan v| = 1) \\<and>\n                           True)) \\<and>\n                   True)))", "using \"evolve.hyps\" DC"], ["proof (prove)\nusing this:\n  ts \\<^bold>\\<Rightarrow> ts'\n  ts' \\<^bold>\\<leadsto> ts''\n  \\<forall>ts'.\n     ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n     (\\<forall>x xa.\n         x \\<noteq> xa \\<longrightarrow>\n         (\\<nexists>va u.\n             move ts ts' v=va\\<parallel>u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v\\<parallel>ua \\<and>\n                 (\\<exists>va u.\n                     v=va--u \\<and>\n                     True \\<and>\n                     (\\<exists>v ua.\n                         u=v--ua \\<and>\n                         ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' x = ext v \\<and>\n                           restrict v (res ts') x = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' xa = ext v \\<and>\n                          restrict v (res ts') xa = lan v \\<and>\n                          |lan v| = 1) \\<and>\n                         True)) \\<and>\n                 True)) \\<longrightarrow>\n         (\\<forall>ts'a.\n             ts' \\<^bold>\\<leadsto> ts'a \\<longrightarrow>\n             (\\<nexists>va u.\n                 move ts' ts'a (move ts ts' v)=va\\<parallel>u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v\\<parallel>ua \\<and>\n                     (\\<exists>va u.\n                         v=va--u \\<and>\n                         True \\<and>\n                         (\\<exists>v ua.\n                             u=v--ua \\<and>\n                             ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts'a x = ext v \\<and>\n                               restrict v (res ts'a) x = lan v \\<and>\n                               |lan v| = 1) \\<and>\n                              0 < \\<parallel>ext v\\<parallel> \\<and>\n                              len v ts'a xa = ext v \\<and>\n                              restrict v (res ts'a) xa = lan v \\<and>\n                              |lan v| = 1) \\<and>\n                             True)) \\<and>\n                     True))))\n\ngoal (1 subgoal):\n 1. \\<forall>x xa.\n       x \\<noteq> xa \\<longrightarrow>\n       (\\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' x = ext v \\<and>\n                         restrict v (res ts') x = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' xa = ext v \\<and>\n                        restrict v (res ts') xa = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True)) \\<longrightarrow>\n       (\\<forall>ts'.\n           ts' \\<^bold>\\<leadsto> ts' \\<longrightarrow>\n           (\\<nexists>va u.\n               move ts' ts' (move ts ts' v)=va\\<parallel>u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v\\<parallel>ua \\<and>\n                   (\\<exists>va u.\n                       v=va--u \\<and>\n                       True \\<and>\n                       (\\<exists>v ua.\n                           u=v--ua \\<and>\n                           ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                             len v ts' x = ext v \\<and>\n                             restrict v (res ts') x = lan v \\<and>\n                             |lan v| = 1) \\<and>\n                            0 < \\<parallel>ext v\\<parallel> \\<and>\n                            len v ts' xa = ext v \\<and>\n                            restrict v (res ts') xa = lan v \\<and>\n                            |lan v| = 1) \\<and>\n                           True)) \\<and>\n                   True)))", "by simp"], ["proof (state)\nthis:\n  \\<forall>x xa.\n     x \\<noteq> xa \\<longrightarrow>\n     (\\<nexists>va u.\n         move ts ts' v=va\\<parallel>u \\<and>\n         True \\<and>\n         (\\<exists>v ua.\n             u=v\\<parallel>ua \\<and>\n             (\\<exists>va u.\n                 v=va--u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v--ua \\<and>\n                     ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts' x = ext v \\<and>\n                       restrict v (res ts') x = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' xa = ext v \\<and>\n                      restrict v (res ts') xa = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     True)) \\<and>\n             True)) \\<longrightarrow>\n     (\\<forall>ts'.\n         ts' \\<^bold>\\<leadsto> ts' \\<longrightarrow>\n         (\\<nexists>va u.\n             move ts' ts' (move ts ts' v)=va\\<parallel>u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v\\<parallel>ua \\<and>\n                 (\\<exists>va u.\n                     v=va--u \\<and>\n                     True \\<and>\n                     (\\<exists>v ua.\n                         u=v--ua \\<and>\n                         ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' x = ext v \\<and>\n                           restrict v (res ts') x = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' xa = ext v \\<and>\n                          restrict v (res ts') xa = lan v \\<and>\n                          |lan v| = 1) \\<and>\n                         True)) \\<and>\n                 True)))\n\ngoal (5 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        ts' \\<^bold>\\<leadsto> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 4. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 5. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nexists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "assume e_def:\" (ts'',move ts ts'' v \\<Turnstile>  \\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e) \\<^bold>\\<rangle>)\""], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "from \"evolve.IH\"  and nequals"], ["proof (chain)\npicking this:\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  c \\<noteq> e", "have \n        ts'_safe:\"ts',move ts ts' v \\<Turnstile> \\<^bold>\\<not>(c \\<^bold>= e) \\<^bold>\\<and> \\<^bold>\\<not>\\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  c \\<noteq> e\n\ngoal (1 subgoal):\n 1. c \\<noteq> e \\<and>\n    (\\<nexists>va u.\n        move ts ts' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (res ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (res ts') e = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    True)) \\<and>\n            True))", "by fastforce"], ["proof (state)\nthis:\n  c \\<noteq> e \\<and>\n  (\\<nexists>va u.\n      move ts ts' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence no_coll_after_evol:\"ts',move ts ts' v \\<Turnstile> \\<^bold>\\<box>\\<^bold>\\<tau> \\<^bold>\\<not>\\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  c \\<noteq> e \\<and>\n  (\\<nexists>va u.\n      move ts ts' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. \\<forall>ts'.\n       ts' \\<^bold>\\<leadsto> ts' \\<longrightarrow>\n       (\\<nexists>va u.\n           move ts' ts' (move ts ts' v)=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True))", "using local_DC"], ["proof (prove)\nusing this:\n  c \\<noteq> e \\<and>\n  (\\<nexists>va u.\n      move ts ts' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True))\n  \\<forall>x xa.\n     x \\<noteq> xa \\<longrightarrow>\n     (\\<nexists>va u.\n         move ts ts' v=va\\<parallel>u \\<and>\n         True \\<and>\n         (\\<exists>v ua.\n             u=v\\<parallel>ua \\<and>\n             (\\<exists>va u.\n                 v=va--u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v--ua \\<and>\n                     ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts' x = ext v \\<and>\n                       restrict v (res ts') x = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' xa = ext v \\<and>\n                      restrict v (res ts') xa = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     True)) \\<and>\n             True)) \\<longrightarrow>\n     (\\<forall>ts'.\n         ts' \\<^bold>\\<leadsto> ts' \\<longrightarrow>\n         (\\<nexists>va u.\n             move ts' ts' (move ts ts' v)=va\\<parallel>u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v\\<parallel>ua \\<and>\n                 (\\<exists>va u.\n                     v=va--u \\<and>\n                     True \\<and>\n                     (\\<exists>v ua.\n                         u=v--ua \\<and>\n                         ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' x = ext v \\<and>\n                           restrict v (res ts') x = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' xa = ext v \\<and>\n                          restrict v (res ts') xa = lan v \\<and>\n                          |lan v| = 1) \\<and>\n                         True)) \\<and>\n                 True)))\n\ngoal (1 subgoal):\n 1. \\<forall>ts'.\n       ts' \\<^bold>\\<leadsto> ts' \\<longrightarrow>\n       (\\<nexists>va u.\n           move ts' ts' (move ts ts' v)=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True))", "by blast"], ["proof (state)\nthis:\n  \\<forall>ts'.\n     ts' \\<^bold>\\<leadsto> ts' \\<longrightarrow>\n     (\\<nexists>va u.\n         move ts' ts' (move ts ts' v)=va\\<parallel>u \\<and>\n         True \\<and>\n         (\\<exists>v ua.\n             u=v\\<parallel>ua \\<and>\n             (\\<exists>va u.\n                 v=va--u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v--ua \\<and>\n                     ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts' c = ext v \\<and>\n                       restrict v (res ts') c = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' e = ext v \\<and>\n                      restrict v (res ts') e = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     True)) \\<and>\n             True))\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "have move_eq:\"move ts' ts'' (move ts ts' v) = move ts ts'' v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. move ts' ts'' (move ts ts' v) = move ts ts'' v", "using \"evolve.hyps\" traffic.abstract.evolve traffic.abstract.refl \n          traffic.move_trans"], ["proof (prove)\nusing this:\n  ts \\<^bold>\\<Rightarrow> ts'\n  ts' \\<^bold>\\<leadsto> ts''\n  \\<lbrakk>?ts \\<^bold>\\<Rightarrow> ?ts';\n   ?ts' \\<^bold>\\<leadsto> ?ts''\\<rbrakk>\n  \\<Longrightarrow> ?ts \\<^bold>\\<Rightarrow> ?ts''\n  ?ts \\<^bold>\\<Rightarrow> ?ts\n  ?ts \\<^bold>\\<Rightarrow> ?ts' \\<and>\n  ?ts' \\<^bold>\\<Rightarrow> ?ts'' \\<longrightarrow>\n  move ?ts' ?ts'' (move ?ts ?ts' ?v) = move ?ts ?ts'' ?v\n\ngoal (1 subgoal):\n 1. move ts' ts'' (move ts ts' v) = move ts ts'' v", "by blast"], ["proof (state)\nthis:\n  move ts' ts'' (move ts ts' v) = move ts ts'' v\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "from no_coll_after_evol and \"evolve.hyps\""], ["proof (chain)\npicking this:\n  \\<forall>ts'.\n     ts' \\<^bold>\\<leadsto> ts' \\<longrightarrow>\n     (\\<nexists>va u.\n         move ts' ts' (move ts ts' v)=va\\<parallel>u \\<and>\n         True \\<and>\n         (\\<exists>v ua.\n             u=v\\<parallel>ua \\<and>\n             (\\<exists>va u.\n                 v=va--u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v--ua \\<and>\n                     ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts' c = ext v \\<and>\n                       restrict v (res ts') c = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' e = ext v \\<and>\n                      restrict v (res ts') e = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     True)) \\<and>\n             True))\n  ts \\<^bold>\\<Rightarrow> ts'\n  ts' \\<^bold>\\<leadsto> ts''", "have \n        \"ts'',move ts' ts'' (move ts ts' v) \\<Turnstile>  \\<^bold>\\<not>\\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<forall>ts'.\n     ts' \\<^bold>\\<leadsto> ts' \\<longrightarrow>\n     (\\<nexists>va u.\n         move ts' ts' (move ts ts' v)=va\\<parallel>u \\<and>\n         True \\<and>\n         (\\<exists>v ua.\n             u=v\\<parallel>ua \\<and>\n             (\\<exists>va u.\n                 v=va--u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v--ua \\<and>\n                     ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts' c = ext v \\<and>\n                       restrict v (res ts') c = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' e = ext v \\<and>\n                      restrict v (res ts') e = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     True)) \\<and>\n             True))\n  ts \\<^bold>\\<Rightarrow> ts'\n  ts' \\<^bold>\\<leadsto> ts''\n\ngoal (1 subgoal):\n 1. \\<nexists>va u.\n       move ts' ts'' (move ts ts' v)=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "by blast"], ["proof (state)\nthis:\n  \\<nexists>va u.\n     move ts' ts'' (move ts ts' v)=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "thus False"], ["proof (prove)\nusing this:\n  \\<nexists>va u.\n     move ts' ts'' (move ts ts' v)=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. False", "using e_def"], ["proof (prove)\nusing this:\n  \\<nexists>va u.\n     move ts' ts'' (move ts ts' v)=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. False", "using  move_eq"], ["proof (prove)\nusing this:\n  \\<nexists>va u.\n     move ts' ts'' (move ts ts' v)=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  move ts' ts'' (move ts ts' v) = move ts ts'' v\n\ngoal (1 subgoal):\n 1. False", "by fastforce"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<nexists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (4 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 4. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 4. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "case (cr_res ts' ts'')"], ["proof (state)\nthis:\n  ts \\<^bold>\\<Rightarrow> ts'\n  \\<exists>c. ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (4 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 4. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "have local_LC: \"ts',move ts ts' v \\<Turnstile>( \\<^bold>\\<forall>d.( \\<^bold>\\<exists> c. pcc c d) \\<^bold>\\<rightarrow> \\<^bold>\\<box>r(d) \\<^bold>\\<bottom>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x.\n       (\\<exists>xa.\n           xa \\<noteq> x \\<and>\n           (\\<exists>va u.\n               move ts ts' v=va\\<parallel>u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v\\<parallel>ua \\<and>\n                   (\\<exists>va u.\n                       v=va--u \\<and>\n                       True \\<and>\n                       (\\<exists>v ua.\n                           u=v--ua \\<and>\n                           ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                             len v ts' x = ext v \\<and>\n                             restrict v (clm ts') x = lan v \\<and>\n                             |lan v| = 1) \\<and>\n                            (0 < \\<parallel>ext v\\<parallel> \\<and>\n                             len v ts' xa = ext v \\<and>\n                             restrict v (res ts') xa = lan v \\<and>\n                             |lan v| = 1 \\<or>\n                             0 < \\<parallel>ext v\\<parallel> \\<and>\n                             len v ts' xa = ext v \\<and>\n                             restrict v (clm ts') xa = lan v \\<and>\n                             |lan v| = 1)) \\<and>\n                           True)) \\<and>\n                   True))) \\<longrightarrow>\n       (\\<forall>ts'.\n           ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n           False)", "using LC \"cr_res.hyps\""], ["proof (prove)\nusing this:\n  \\<forall>ts'.\n     ts \\<^bold>\\<Rightarrow> ts' \\<longrightarrow>\n     (\\<forall>x.\n         (\\<exists>xa.\n             xa \\<noteq> x \\<and>\n             (\\<exists>va u.\n                 move ts ts' v=va\\<parallel>u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v\\<parallel>ua \\<and>\n                     (\\<exists>va u.\n                         v=va--u \\<and>\n                         True \\<and>\n                         (\\<exists>v ua.\n                             u=v--ua \\<and>\n                             ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts' x = ext v \\<and>\n                               restrict v (clm ts') x = lan v \\<and>\n                               |lan v| = 1) \\<and>\n                              (0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts' xa = ext v \\<and>\n                               restrict v (res ts') xa = lan v \\<and>\n                               |lan v| = 1 \\<or>\n                               0 < \\<parallel>ext v\\<parallel> \\<and>\n                               len v ts' xa = ext v \\<and>\n                               restrict v (clm ts') xa = lan v \\<and>\n                               |lan v| = 1)) \\<and>\n                             True)) \\<and>\n                     True))) \\<longrightarrow>\n         (\\<forall>ts'a.\n             ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts'a \\<longrightarrow>\n             False))\n  ts \\<^bold>\\<Rightarrow> ts'\n  \\<exists>c. ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. \\<forall>x.\n       (\\<exists>xa.\n           xa \\<noteq> x \\<and>\n           (\\<exists>va u.\n               move ts ts' v=va\\<parallel>u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v\\<parallel>ua \\<and>\n                   (\\<exists>va u.\n                       v=va--u \\<and>\n                       True \\<and>\n                       (\\<exists>v ua.\n                           u=v--ua \\<and>\n                           ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                             len v ts' x = ext v \\<and>\n                             restrict v (clm ts') x = lan v \\<and>\n                             |lan v| = 1) \\<and>\n                            (0 < \\<parallel>ext v\\<parallel> \\<and>\n                             len v ts' xa = ext v \\<and>\n                             restrict v (res ts') xa = lan v \\<and>\n                             |lan v| = 1 \\<or>\n                             0 < \\<parallel>ext v\\<parallel> \\<and>\n                             len v ts' xa = ext v \\<and>\n                             restrict v (clm ts') xa = lan v \\<and>\n                             |lan v| = 1)) \\<and>\n                           True)) \\<and>\n                   True))) \\<longrightarrow>\n       (\\<forall>ts'.\n           ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n           False)", "by blast"], ["proof (state)\nthis:\n  \\<forall>x.\n     (\\<exists>xa.\n         xa \\<noteq> x \\<and>\n         (\\<exists>va u.\n             move ts ts' v=va\\<parallel>u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v\\<parallel>ua \\<and>\n                 (\\<exists>va u.\n                     v=va--u \\<and>\n                     True \\<and>\n                     (\\<exists>v ua.\n                         u=v--ua \\<and>\n                         ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' x = ext v \\<and>\n                           restrict v (clm ts') x = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          (0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' xa = ext v \\<and>\n                           restrict v (res ts') xa = lan v \\<and>\n                           |lan v| = 1 \\<or>\n                           0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' xa = ext v \\<and>\n                           restrict v (clm ts') xa = lan v \\<and>\n                           |lan v| = 1)) \\<and>\n                         True)) \\<and>\n                 True))) \\<longrightarrow>\n     (\\<forall>ts'.\n         ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n         False)\n\ngoal (4 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 4. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "have \"move ts ts' v = move ts' ts'' (move ts ts' v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. move ts ts' v = move ts' ts'' (move ts ts' v)", "using traffic.move_stability_res \"cr_res.hyps\" traffic.move_trans \n      move_stability_clm"], ["proof (prove)\nusing this:\n  ?ts \\<^bold>\\<midarrow>r( ?c ) \\<^bold>\\<rightarrow> ?ts' \\<longrightarrow>\n  move ?ts ?ts' ?v = ?v\n  ts \\<^bold>\\<Rightarrow> ts'\n  \\<exists>c. ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\n  ?ts \\<^bold>\\<Rightarrow> ?ts' \\<and>\n  ?ts' \\<^bold>\\<Rightarrow> ?ts'' \\<longrightarrow>\n  move ?ts' ?ts'' (move ?ts ?ts' ?v) = move ?ts ?ts'' ?v\n  ?ts \\<^bold>\\<midarrow>c( ?c, ?n ) \\<^bold>\\<rightarrow> ?ts' \\<longrightarrow>\n  move ?ts ?ts' ?v = ?v\n\ngoal (1 subgoal):\n 1. move ts ts' v = move ts' ts'' (move ts ts' v)", "by auto"], ["proof (state)\nthis:\n  move ts ts' v = move ts' ts'' (move ts ts' v)\n\ngoal (4 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 4. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "hence move_stab: \"move ts ts' v = move ts ts'' v\""], ["proof (prove)\nusing this:\n  move ts ts' v = move ts' ts'' (move ts ts' v)\n\ngoal (1 subgoal):\n 1. move ts ts' v = move ts ts'' v", "by (metis traffic.abstract.simps cr_res.hyps traffic.move_trans)"], ["proof (state)\nthis:\n  move ts ts' v = move ts ts'' v\n\ngoal (4 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 4. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nexists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "proof (rule)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "assume e_def:\" (ts'',move ts ts'' v \\<Turnstile> \\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e) \\<^bold>\\<rangle>)\""], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "obtain d where d_def: \"ts' \\<^bold>\\<midarrow>r(d) \\<^bold>\\<rightarrow> ts''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d.\n        ts' \\<^bold>\\<midarrow>r( d ) \\<^bold>\\<rightarrow> ts'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using \"cr_res.hyps\""], ["proof (prove)\nusing this:\n  ts \\<^bold>\\<Rightarrow> ts'\n  \\<exists>c. ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. (\\<And>d.\n        ts' \\<^bold>\\<midarrow>r( d ) \\<^bold>\\<rightarrow> ts'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by best"], ["proof (state)\nthis:\n  ts' \\<^bold>\\<midarrow>r( d ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "have \"d = e \\<or> d \\<noteq> e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d = e \\<or> d \\<noteq> e", "by simp"], ["proof (state)\nthis:\n  d = e \\<or> d \\<noteq> e\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "thus False"], ["proof (prove)\nusing this:\n  d = e \\<or> d \\<noteq> e\n\ngoal (1 subgoal):\n 1. False", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. d = e \\<Longrightarrow> False\n 2. d \\<noteq> e \\<Longrightarrow> False", "assume eq:\"d = e\""], ["proof (state)\nthis:\n  d = e\n\ngoal (2 subgoals):\n 1. d = e \\<Longrightarrow> False\n 2. d \\<noteq> e \\<Longrightarrow> False", "hence e_trans:\"ts' \\<^bold>\\<midarrow>r(e) \\<^bold>\\<rightarrow> ts''\""], ["proof (prove)\nusing this:\n  d = e\n\ngoal (1 subgoal):\n 1. ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts''", "using d_def"], ["proof (prove)\nusing this:\n  d = e\n  ts' \\<^bold>\\<midarrow>r( d ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts''", "by simp"], ["proof (state)\nthis:\n  ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts''\n\ngoal (2 subgoals):\n 1. d = e \\<Longrightarrow> False\n 2. d \\<noteq> e \\<Longrightarrow> False", "from e_def"], ["proof (chain)\npicking this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)", "have \"ts'',move ts ts'' v \\<Turnstile> \\<^bold>\\<langle> re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "by auto"], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (2 subgoals):\n 1. d = e \\<Longrightarrow> False\n 2. d \\<noteq> e \\<Longrightarrow> False", "hence \"\\<exists>v'. (v' \\<le> move ts ts'' v) \\<and> (ts'',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' c = ext v' \\<and>\n        restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts'' e = ext v' \\<and>\n       restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "using view.somewhere_leq"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' c = ext v' \\<and>\n        restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts'' e = ext v' \\<and>\n       restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "by meson"], ["proof (state)\nthis:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (2 subgoals):\n 1. d = e \\<Longrightarrow> False\n 2. d \\<noteq> e \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "obtain v' where v'_def:\n          \"(v' \\<le> move ts ts'' v) \\<and> (ts'',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. (\\<And>v'.\n        v' \\<le> move ts ts'' v \\<and>\n        (0 < \\<parallel>ext v'\\<parallel> \\<and>\n         len v' ts'' c = ext v' \\<and>\n         restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n        0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' e = ext v' \\<and>\n        restrict v' (res ts'') e = lan v' \\<and>\n        |lan v'| = 1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (2 subgoals):\n 1. d = e \\<Longrightarrow> False\n 2. d \\<noteq> e \\<Longrightarrow> False", "with backwards_res_act"], ["proof (chain)\npicking this:\n  (?ts \\<^bold>\\<midarrow>r( ?c ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1 \\<or>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (clm ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "have \"ts',v' \\<Turnstile>   re(c) \\<^bold>\\<and> (re(e) \\<^bold>\\<or> cl(e))\""], ["proof (prove)\nusing this:\n  (?ts \\<^bold>\\<midarrow>r( ?c ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1 \\<or>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (clm ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n    (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' e = ext v' \\<and>\n     restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1 \\<or>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' e = ext v' \\<and>\n     restrict v' (clm ts') e = lan v' \\<and> |lan v'| = 1)", "using e_def  backwards_res_stab nequals"], ["proof (prove)\nusing this:\n  (?ts \\<^bold>\\<midarrow>r( ?c ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1 \\<or>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (clm ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  (?ts \\<^bold>\\<midarrow>r( ?d ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  ?d \\<noteq> ?c \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n  c \\<noteq> e\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n    (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' e = ext v' \\<and>\n     restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1 \\<or>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' e = ext v' \\<and>\n     restrict v' (clm ts') e = lan v' \\<and> |lan v'| = 1)", "by (metis (no_types, lifting) d_def eq)"], ["proof (state)\nthis:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' e = ext v' \\<and>\n   restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1 \\<or>\n   0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' e = ext v' \\<and>\n   restrict v' (clm ts') e = lan v' \\<and> |lan v'| = 1)\n\ngoal (2 subgoals):\n 1. d = e \\<Longrightarrow> False\n 2. d \\<noteq> e \\<Longrightarrow> False", "hence \"\\<exists>v'. (v' \\<le> move ts ts'' v) \\<and> (ts',v' \\<Turnstile> re(c) \\<^bold>\\<and> (re(e) \\<^bold>\\<or> cl(e)))\""], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' e = ext v' \\<and>\n   restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1 \\<or>\n   0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' e = ext v' \\<and>\n   restrict v' (clm ts') e = lan v' \\<and> |lan v'| = 1)\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts' c = ext v' \\<and>\n        restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts' e = ext v' \\<and>\n        restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1 \\<or>\n        0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts' e = ext v' \\<and>\n        restrict v' (clm ts') e = lan v' \\<and> |lan v'| = 1)", "using  v'_def"], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' e = ext v' \\<and>\n   restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1 \\<or>\n   0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' e = ext v' \\<and>\n   restrict v' (clm ts') e = lan v' \\<and> |lan v'| = 1)\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts' c = ext v' \\<and>\n        restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts' e = ext v' \\<and>\n        restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1 \\<or>\n        0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts' e = ext v' \\<and>\n        restrict v' (clm ts') e = lan v' \\<and> |lan v'| = 1)", "by blast"], ["proof (state)\nthis:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' c = ext v' \\<and>\n      restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' e = ext v' \\<and>\n      restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1 \\<or>\n      0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' e = ext v' \\<and>\n      restrict v' (clm ts') e = lan v' \\<and> |lan v'| = 1)\n\ngoal (2 subgoals):\n 1. d = e \\<Longrightarrow> False\n 2. d \\<noteq> e \\<Longrightarrow> False", "hence \"ts',move ts ts'' v \\<Turnstile>\\<^bold>\\<langle> re(c) \\<^bold>\\<and> (re(e) \\<^bold>\\<or> cl(e)) \\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' c = ext v' \\<and>\n      restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' e = ext v' \\<and>\n      restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1 \\<or>\n      0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' e = ext v' \\<and>\n      restrict v' (clm ts') e = lan v' \\<and> |lan v'| = 1)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    (0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (res ts') e = lan v \\<and> |lan v| = 1 \\<or>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (clm ts') e = lan v \\<and>\n                     |lan v| = 1)) \\<and>\n                   True)) \\<and>\n           True)", "using view.somewhere_leq"], ["proof (prove)\nusing this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' c = ext v' \\<and>\n      restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' e = ext v' \\<and>\n      restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1 \\<or>\n      0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' e = ext v' \\<and>\n      restrict v' (clm ts') e = lan v' \\<and> |lan v'| = 1)\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    (0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (res ts') e = lan v \\<and> |lan v| = 1 \\<or>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (clm ts') e = lan v \\<and>\n                     |lan v| = 1)) \\<and>\n                   True)) \\<and>\n           True)", "by meson"], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  (0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1 \\<or>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (clm ts') e = lan v \\<and>\n                   |lan v| = 1)) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (2 subgoals):\n 1. d = e \\<Longrightarrow> False\n 2. d \\<noteq> e \\<Longrightarrow> False", "hence \"ts',move ts ts'' v \\<Turnstile>  \\<^bold>\\<langle> re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle> \\<^bold>\\<or> \\<^bold>\\<langle> re(c) \\<^bold>\\<and> cl(e)\\<^bold>\\<rangle> \""], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  (0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1 \\<or>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (clm ts') e = lan v \\<and>\n                   |lan v| = 1)) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (res ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (res ts') e = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    True)) \\<and>\n            True)) \\<or>\n    (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (res ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (clm ts') e = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    True)) \\<and>\n            True))", "using hmlsl.somewhere_and_or_distr"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  (0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1 \\<or>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (clm ts') e = lan v \\<and>\n                   |lan v| = 1)) \\<and>\n                 True)) \\<and>\n         True)\n  \\<forall>ts v.\n     (\\<exists>va u.\n         v=va\\<parallel>u \\<and>\n         True \\<and>\n         (\\<exists>v ua.\n             u=v\\<parallel>ua \\<and>\n             (\\<exists>va u.\n                 v=va--u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v--ua \\<and>\n                     (?\\<chi> ts v \\<and>\n                      (?\\<phi> ts v \\<or> ?\\<psi> ts v)) \\<and>\n                     True)) \\<and>\n             True)) =\n     ((\\<exists>va u.\n          v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      (?\\<chi> ts v \\<and> ?\\<phi> ts v) \\<and>\n                      True)) \\<and>\n              True)) \\<or>\n      (\\<exists>va u.\n          v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      (?\\<chi> ts v \\<and> ?\\<psi> ts v) \\<and>\n                      True)) \\<and>\n              True)))\n\ngoal (1 subgoal):\n 1. (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (res ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (res ts') e = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    True)) \\<and>\n            True)) \\<or>\n    (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (res ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (clm ts') e = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    True)) \\<and>\n            True))", "by blast"], ["proof (state)\nthis:\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True)) \\<or>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (clm ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (2 subgoals):\n 1. d = e \\<Longrightarrow> False\n 2. d \\<noteq> e \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True)) \\<or>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (clm ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. False", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False\n 2. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "assume assm':\"ts',move ts ts'' v \\<Turnstile>  \\<^bold>\\<langle> re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (2 subgoals):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False\n 2. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "have \"ts',move ts ts' v \\<Turnstile> \\<^bold>\\<not> (c \\<^bold>= e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<noteq> e", "using nequals"], ["proof (prove)\nusing this:\n  c \\<noteq> e\n\ngoal (1 subgoal):\n 1. c \\<noteq> e", "by blast"], ["proof (state)\nthis:\n  c \\<noteq> e\n\ngoal (2 subgoals):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False\n 2. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "thus False"], ["proof (prove)\nusing this:\n  c \\<noteq> e\n\ngoal (1 subgoal):\n 1. False", "using assm' cr_res.IH e_def move_stab"], ["proof (prove)\nusing this:\n  c \\<noteq> e\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  move ts ts' v = move ts ts'' v\n\ngoal (1 subgoal):\n 1. False", "by force"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "assume assm':\"ts',move ts ts'' v \\<Turnstile>  \\<^bold>\\<langle> re(c) \\<^bold>\\<and> cl(e)\\<^bold>\\<rangle>\""], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (clm ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence \"ts',move ts ts'' v \\<Turnstile> \\<^bold>\\<not> (c \\<^bold>=e) \\<^bold>\\<and> \\<^bold>\\<langle> re(c) \\<^bold>\\<and> cl(e)\\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (clm ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. c \\<noteq> e \\<and>\n    (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (res ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (clm ts') e = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    True)) \\<and>\n            True))", "using e_def nequals"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (clm ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  c \\<noteq> e\n\ngoal (1 subgoal):\n 1. c \\<noteq> e \\<and>\n    (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (res ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (clm ts') e = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    True)) \\<and>\n            True))", "by force"], ["proof (state)\nthis:\n  c \\<noteq> e \\<and>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (clm ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence \"ts',move ts ts'' v \\<Turnstile>\\<^bold>\\<not> (c \\<^bold>=e) \\<^bold>\\<and> \\<^bold>\\<langle> cl(e) \\<^bold>\\<and> (re(c) \\<^bold>\\<or> cl(c)) \\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  c \\<noteq> e \\<and>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (clm ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. c \\<noteq> e \\<and>\n    (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' e = ext v \\<and>\n                      restrict v (clm ts') e = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     (0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (res ts') c = lan v \\<and>\n                      |lan v| = 1 \\<or>\n                      0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (clm ts') c = lan v \\<and>\n                      |lan v| = 1)) \\<and>\n                    True)) \\<and>\n            True))", "by blast"], ["proof (state)\nthis:\n  c \\<noteq> e \\<and>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   (0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and> |lan v| = 1 \\<or>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (clm ts') c = lan v \\<and>\n                    |lan v| = 1)) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence pcc:\"ts',move ts ts'' v \\<Turnstile> pcc c e\""], ["proof (prove)\nusing this:\n  c \\<noteq> e \\<and>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   (0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and> |lan v| = 1 \\<or>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (clm ts') c = lan v \\<and>\n                    |lan v| = 1)) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. c \\<noteq> e \\<and>\n    (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' e = ext v \\<and>\n                      restrict v (clm ts') e = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     (0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (res ts') c = lan v \\<and>\n                      |lan v| = 1 \\<or>\n                      0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (clm ts') c = lan v \\<and>\n                      |lan v| = 1)) \\<and>\n                    True)) \\<and>\n            True))", "by blast"], ["proof (state)\nthis:\n  c \\<noteq> e \\<and>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   (0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and> |lan v| = 1 \\<or>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (clm ts') c = lan v \\<and>\n                    |lan v| = 1)) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "have \"ts',move ts ts'' v \\<Turnstile>( \\<^bold>\\<exists> c. pcc c e) \\<^bold>\\<rightarrow> \\<^bold>\\<box>r(e) \\<^bold>\\<bottom>  \""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x.\n        x \\<noteq> e \\<and>\n        (\\<exists>va u.\n            move ts ts'' v=va\\<parallel>u \\<and>\n            True \\<and>\n            (\\<exists>v ua.\n                u=v\\<parallel>ua \\<and>\n                (\\<exists>va u.\n                    v=va--u \\<and>\n                    True \\<and>\n                    (\\<exists>v ua.\n                        u=v--ua \\<and>\n                        ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' e = ext v \\<and>\n                          restrict v (clm ts') e = lan v \\<and>\n                          |lan v| = 1) \\<and>\n                         (0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' x = ext v \\<and>\n                          restrict v (res ts') x = lan v \\<and>\n                          |lan v| = 1 \\<or>\n                          0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' x = ext v \\<and>\n                          restrict v (clm ts') x = lan v \\<and>\n                          |lan v| = 1)) \\<and>\n                        True)) \\<and>\n                True))) \\<longrightarrow>\n    (\\<forall>ts'.\n        ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n        False)", "using local_LC move_stab"], ["proof (prove)\nusing this:\n  \\<forall>x.\n     (\\<exists>xa.\n         xa \\<noteq> x \\<and>\n         (\\<exists>va u.\n             move ts ts' v=va\\<parallel>u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v\\<parallel>ua \\<and>\n                 (\\<exists>va u.\n                     v=va--u \\<and>\n                     True \\<and>\n                     (\\<exists>v ua.\n                         u=v--ua \\<and>\n                         ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' x = ext v \\<and>\n                           restrict v (clm ts') x = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          (0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' xa = ext v \\<and>\n                           restrict v (res ts') xa = lan v \\<and>\n                           |lan v| = 1 \\<or>\n                           0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' xa = ext v \\<and>\n                           restrict v (clm ts') xa = lan v \\<and>\n                           |lan v| = 1)) \\<and>\n                         True)) \\<and>\n                 True))) \\<longrightarrow>\n     (\\<forall>ts'.\n         ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n         False)\n  move ts ts' v = move ts ts'' v\n\ngoal (1 subgoal):\n 1. (\\<exists>x.\n        x \\<noteq> e \\<and>\n        (\\<exists>va u.\n            move ts ts'' v=va\\<parallel>u \\<and>\n            True \\<and>\n            (\\<exists>v ua.\n                u=v\\<parallel>ua \\<and>\n                (\\<exists>va u.\n                    v=va--u \\<and>\n                    True \\<and>\n                    (\\<exists>v ua.\n                        u=v--ua \\<and>\n                        ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' e = ext v \\<and>\n                          restrict v (clm ts') e = lan v \\<and>\n                          |lan v| = 1) \\<and>\n                         (0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' x = ext v \\<and>\n                          restrict v (res ts') x = lan v \\<and>\n                          |lan v| = 1 \\<or>\n                          0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' x = ext v \\<and>\n                          restrict v (clm ts') x = lan v \\<and>\n                          |lan v| = 1)) \\<and>\n                        True)) \\<and>\n                True))) \\<longrightarrow>\n    (\\<forall>ts'.\n        ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n        False)", "by fastforce"], ["proof (state)\nthis:\n  (\\<exists>x.\n      x \\<noteq> e \\<and>\n      (\\<exists>va u.\n          move ts ts'' v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (clm ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       (0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' x = ext v \\<and>\n                        restrict v (res ts') x = lan v \\<and>\n                        |lan v| = 1 \\<or>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' x = ext v \\<and>\n                        restrict v (clm ts') x = lan v \\<and>\n                        |lan v| = 1)) \\<and>\n                      True)) \\<and>\n              True))) \\<longrightarrow>\n  (\\<forall>ts'.\n      ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n      False)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence \"ts',move ts ts'' v \\<Turnstile> \\<^bold>\\<box>r(e) \\<^bold>\\<bottom>\""], ["proof (prove)\nusing this:\n  (\\<exists>x.\n      x \\<noteq> e \\<and>\n      (\\<exists>va u.\n          move ts ts'' v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (clm ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       (0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' x = ext v \\<and>\n                        restrict v (res ts') x = lan v \\<and>\n                        |lan v| = 1 \\<or>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' x = ext v \\<and>\n                        restrict v (clm ts') x = lan v \\<and>\n                        |lan v| = 1)) \\<and>\n                      True)) \\<and>\n              True))) \\<longrightarrow>\n  (\\<forall>ts'.\n      ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n      False)\n\ngoal (1 subgoal):\n 1. \\<forall>ts'.\n       ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n       False", "using pcc"], ["proof (prove)\nusing this:\n  (\\<exists>x.\n      x \\<noteq> e \\<and>\n      (\\<exists>va u.\n          move ts ts'' v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (clm ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       (0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' x = ext v \\<and>\n                        restrict v (res ts') x = lan v \\<and>\n                        |lan v| = 1 \\<or>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' x = ext v \\<and>\n                        restrict v (clm ts') x = lan v \\<and>\n                        |lan v| = 1)) \\<and>\n                      True)) \\<and>\n              True))) \\<longrightarrow>\n  (\\<forall>ts'.\n      ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n      False)\n  c \\<noteq> e \\<and>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   (0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and> |lan v| = 1 \\<or>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (clm ts') c = lan v \\<and>\n                    |lan v| = 1)) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. \\<forall>ts'.\n       ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n       False", "by blast"], ["proof (state)\nthis:\n  \\<forall>ts'.\n     ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n     False\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "thus \"ts'',move ts ts'' v \\<Turnstile> \\<^bold>\\<bottom>\""], ["proof (prove)\nusing this:\n  \\<forall>ts'.\n     ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n     False\n\ngoal (1 subgoal):\n 1. False", "using e_trans"], ["proof (prove)\nusing this:\n  \\<forall>ts'.\n     ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n     False\n  ts' \\<^bold>\\<midarrow>r( e ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. d \\<noteq> e \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. d \\<noteq> e \\<Longrightarrow> False", "assume neq:\"d \\<noteq> e\""], ["proof (state)\nthis:\n  d \\<noteq> e\n\ngoal (1 subgoal):\n 1. d \\<noteq> e \\<Longrightarrow> False", "have \"c=d \\<or> c \\<noteq> d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c = d \\<or> c \\<noteq> d", "by simp"], ["proof (state)\nthis:\n  c = d \\<or> c \\<noteq> d\n\ngoal (1 subgoal):\n 1. d \\<noteq> e \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  c = d \\<or> c \\<noteq> d\n\ngoal (1 subgoal):\n 1. False", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. c = d \\<Longrightarrow> False\n 2. c \\<noteq> d \\<Longrightarrow> False", "assume neq2:\"c \\<noteq> d\""], ["proof (state)\nthis:\n  c \\<noteq> d\n\ngoal (2 subgoals):\n 1. c = d \\<Longrightarrow> False\n 2. c \\<noteq> d \\<Longrightarrow> False", "from e_def"], ["proof (chain)\npicking this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)", "have \"ts'',move ts ts'' v \\<Turnstile> \\<^bold>\\<langle> re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "by auto"], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (2 subgoals):\n 1. c = d \\<Longrightarrow> False\n 2. c \\<noteq> d \\<Longrightarrow> False", "hence \"\\<exists>v'. (v' \\<le> move ts ts'' v) \\<and> (ts'',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' c = ext v' \\<and>\n        restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts'' e = ext v' \\<and>\n       restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "using view.somewhere_leq"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' c = ext v' \\<and>\n        restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts'' e = ext v' \\<and>\n       restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "by meson"], ["proof (state)\nthis:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (2 subgoals):\n 1. c = d \\<Longrightarrow> False\n 2. c \\<noteq> d \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "obtain v' where v'_def:\n            \"(v' \\<le> move ts ts'' v) \\<and> (ts'',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. (\\<And>v'.\n        v' \\<le> move ts ts'' v \\<and>\n        (0 < \\<parallel>ext v'\\<parallel> \\<and>\n         len v' ts'' c = ext v' \\<and>\n         restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n        0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' e = ext v' \\<and>\n        restrict v' (res ts'') e = lan v' \\<and>\n        |lan v'| = 1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (2 subgoals):\n 1. c = d \\<Longrightarrow> False\n 2. c \\<noteq> d \\<Longrightarrow> False", "with backwards_res_stab"], ["proof (chain)\npicking this:\n  (?ts \\<^bold>\\<midarrow>r( ?d ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  ?d \\<noteq> ?c \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "have overlap: \"ts',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e)\""], ["proof (prove)\nusing this:\n  (?ts \\<^bold>\\<midarrow>r( ?d ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  ?d \\<noteq> ?c \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n    0 < \\<parallel>ext v'\\<parallel> \\<and>\n    len v' ts' e = ext v' \\<and>\n    restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "using e_def  backwards_res_stab nequals neq2"], ["proof (prove)\nusing this:\n  (?ts \\<^bold>\\<midarrow>r( ?d ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  ?d \\<noteq> ?c \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  (?ts \\<^bold>\\<midarrow>r( ?d ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  ?d \\<noteq> ?c \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n  c \\<noteq> e\n  c \\<noteq> d\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n    0 < \\<parallel>ext v'\\<parallel> \\<and>\n    len v' ts' e = ext v' \\<and>\n    restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "by (metis (no_types, lifting) d_def neq)"], ["proof (state)\nthis:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n\ngoal (2 subgoals):\n 1. c = d \\<Longrightarrow> False\n 2. c \\<noteq> d \\<Longrightarrow> False", "hence unsafe2:\"ts',move ts ts'' v \\<Turnstile> \\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "using  nequals view.somewhere_leq v'_def"], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n  c \\<noteq> e\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "by blast"], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (2 subgoals):\n 1. c = d \\<Longrightarrow> False\n 2. c \\<noteq> d \\<Longrightarrow> False", "from cr_res.IH"], ["proof (chain)\npicking this:\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)", "have \"ts',move ts ts'' v \\<Turnstile> \\<^bold>\\<not>\\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<nexists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "using move_stab"], ["proof (prove)\nusing this:\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  move ts ts' v = move ts ts'' v\n\ngoal (1 subgoal):\n 1. \\<nexists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "by force"], ["proof (state)\nthis:\n  \\<nexists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (2 subgoals):\n 1. c = d \\<Longrightarrow> False\n 2. c \\<noteq> d \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  \\<nexists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. False", "using unsafe2"], ["proof (prove)\nusing this:\n  \\<nexists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. False", "by best"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. c = d \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. c = d \\<Longrightarrow> False", "assume eq2:\"c = d\""], ["proof (state)\nthis:\n  c = d\n\ngoal (1 subgoal):\n 1. c = d \\<Longrightarrow> False", "hence e_trans:\"ts' \\<^bold>\\<midarrow>r(c) \\<^bold>\\<rightarrow> ts''\""], ["proof (prove)\nusing this:\n  c = d\n\ngoal (1 subgoal):\n 1. ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''", "using d_def"], ["proof (prove)\nusing this:\n  c = d\n  ts' \\<^bold>\\<midarrow>r( d ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''", "by simp"], ["proof (state)\nthis:\n  ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. c = d \\<Longrightarrow> False", "from e_def"], ["proof (chain)\npicking this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)", "have \"ts'',move ts ts'' v \\<Turnstile> \\<^bold>\\<langle> re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "by auto"], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. c = d \\<Longrightarrow> False", "hence \"\\<exists>v'. (v' \\<le> move ts ts'' v) \\<and> (ts'',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' c = ext v' \\<and>\n        restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts'' e = ext v' \\<and>\n       restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "using view.somewhere_leq"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' c = ext v' \\<and>\n        restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts'' e = ext v' \\<and>\n       restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "by meson"], ["proof (state)\nthis:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. c = d \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "obtain v' where v'_def:\n            \"(v' \\<le> move ts ts'' v) \\<and> (ts'',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. (\\<And>v'.\n        v' \\<le> move ts ts'' v \\<and>\n        (0 < \\<parallel>ext v'\\<parallel> \\<and>\n         len v' ts'' c = ext v' \\<and>\n         restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n        0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' e = ext v' \\<and>\n        restrict v' (res ts'') e = lan v' \\<and>\n        |lan v'| = 1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. c = d \\<Longrightarrow> False", "with backwards_res_act"], ["proof (chain)\npicking this:\n  (?ts \\<^bold>\\<midarrow>r( ?c ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1 \\<or>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (clm ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "have \"ts',v' \\<Turnstile> (re(c) \\<^bold>\\<or> cl(c)) \\<^bold>\\<and> re(e)\""], ["proof (prove)\nusing this:\n  (?ts \\<^bold>\\<midarrow>r( ?c ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1 \\<or>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (clm ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1 \\<or>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (clm ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n    0 < \\<parallel>ext v'\\<parallel> \\<and>\n    len v' ts' e = ext v' \\<and>\n    restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "using e_def  backwards_res_stab nequals"], ["proof (prove)\nusing this:\n  (?ts \\<^bold>\\<midarrow>r( ?c ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1 \\<or>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (clm ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  (?ts \\<^bold>\\<midarrow>r( ?d ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  ?d \\<noteq> ?c \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n  c \\<noteq> e\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1 \\<or>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (clm ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n    0 < \\<parallel>ext v'\\<parallel> \\<and>\n    len v' ts' e = ext v' \\<and>\n    restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "by (metis (no_types, lifting) d_def eq2)"], ["proof (state)\nthis:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1 \\<or>\n   0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (clm ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. c = d \\<Longrightarrow> False", "hence \"\\<exists>v'. (v' \\<le> move ts ts'' v) \\<and> (ts',v' \\<Turnstile> (re(c) \\<^bold>\\<or> cl(c)) \\<^bold>\\<and> (re(e)))\""], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1 \\<or>\n   0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (clm ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts' c = ext v' \\<and>\n        restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1 \\<or>\n        0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts' c = ext v' \\<and>\n        restrict v' (clm ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts' e = ext v' \\<and>\n       restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "using v'_def"], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1 \\<or>\n   0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (clm ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts' c = ext v' \\<and>\n        restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1 \\<or>\n        0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts' c = ext v' \\<and>\n        restrict v' (clm ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts' e = ext v' \\<and>\n       restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "by blast"], ["proof (state)\nthis:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' c = ext v' \\<and>\n      restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1 \\<or>\n      0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' c = ext v' \\<and>\n      restrict v' (clm ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' e = ext v' \\<and>\n     restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. c = d \\<Longrightarrow> False", "hence \"ts',move ts ts'' v \\<Turnstile>\\<^bold>\\<langle> (re(c) \\<^bold>\\<or> cl(c)) \\<^bold>\\<and> (re(e) ) \\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' c = ext v' \\<and>\n      restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1 \\<or>\n      0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' c = ext v' \\<and>\n      restrict v' (clm ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' e = ext v' \\<and>\n     restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and> |lan v| = 1 \\<or>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (clm ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "using view.somewhere_leq"], ["proof (prove)\nusing this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' c = ext v' \\<and>\n      restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1 \\<or>\n      0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts' c = ext v' \\<and>\n      restrict v' (clm ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' e = ext v' \\<and>\n     restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and> |lan v| = 1 \\<or>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (clm ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "by meson"], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1 \\<or>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (clm ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. c = d \\<Longrightarrow> False", "hence \"ts',move ts ts'' v \\<Turnstile>  \\<^bold>\\<langle> re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle> \\<^bold>\\<or> \\<^bold>\\<langle> cl(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle> \""], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1 \\<or>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (clm ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (res ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (res ts') e = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    True)) \\<and>\n            True)) \\<or>\n    (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (clm ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (res ts') e = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    True)) \\<and>\n            True))", "using hmlsl.somewhere_and_or_distr"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1 \\<or>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (clm ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<forall>ts v.\n     (\\<exists>va u.\n         v=va\\<parallel>u \\<and>\n         True \\<and>\n         (\\<exists>v ua.\n             u=v\\<parallel>ua \\<and>\n             (\\<exists>va u.\n                 v=va--u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v--ua \\<and>\n                     (?\\<chi> ts v \\<and>\n                      (?\\<phi> ts v \\<or> ?\\<psi> ts v)) \\<and>\n                     True)) \\<and>\n             True)) =\n     ((\\<exists>va u.\n          v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      (?\\<chi> ts v \\<and> ?\\<phi> ts v) \\<and>\n                      True)) \\<and>\n              True)) \\<or>\n      (\\<exists>va u.\n          v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      (?\\<chi> ts v \\<and> ?\\<psi> ts v) \\<and>\n                      True)) \\<and>\n              True)))\n\ngoal (1 subgoal):\n 1. (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (res ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (res ts') e = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    True)) \\<and>\n            True)) \\<or>\n    (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (clm ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (res ts') e = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    True)) \\<and>\n            True))", "by blast"], ["proof (state)\nthis:\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True)) \\<or>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (clm ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. c = d \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (res ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True)) \\<or>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (clm ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. False", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False\n 2. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (clm ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "assume assm':\"ts',move ts ts'' v \\<Turnstile>  \\<^bold>\\<langle> re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (2 subgoals):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False\n 2. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (clm ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "have \"ts',move ts ts'' v \\<Turnstile> \\<^bold>\\<not> (c \\<^bold>= e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<noteq> e", "using nequals"], ["proof (prove)\nusing this:\n  c \\<noteq> e\n\ngoal (1 subgoal):\n 1. c \\<noteq> e", "by blast"], ["proof (state)\nthis:\n  c \\<noteq> e\n\ngoal (2 subgoals):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False\n 2. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (clm ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "thus False"], ["proof (prove)\nusing this:\n  c \\<noteq> e\n\ngoal (1 subgoal):\n 1. False", "using assm' cr_res.IH e_def move_stab"], ["proof (prove)\nusing this:\n  c \\<noteq> e\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  move ts ts' v = move ts ts'' v\n\ngoal (1 subgoal):\n 1. False", "by fastforce"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (clm ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (clm ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "assume assm':\"ts',move ts ts'' v \\<Turnstile>  \\<^bold>\\<langle> cl(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (clm ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (clm ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence \"ts',move ts ts'' v \\<Turnstile> \\<^bold>\\<not> (c \\<^bold>=e) \\<^bold>\\<and> \\<^bold>\\<langle> cl(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (clm ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. c \\<noteq> e \\<and>\n    (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (clm ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (res ts') e = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    True)) \\<and>\n            True))", "using e_def nequals"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (clm ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  c \\<noteq> e\n\ngoal (1 subgoal):\n 1. c \\<noteq> e \\<and>\n    (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (clm ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' e = ext v \\<and>\n                     restrict v (res ts') e = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    True)) \\<and>\n            True))", "by blast"], ["proof (state)\nthis:\n  c \\<noteq> e \\<and>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (clm ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (clm ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence \"ts',move ts ts'' v \\<Turnstile>\\<^bold>\\<not> (c \\<^bold>=e) \\<^bold>\\<and> \\<^bold>\\<langle> cl(c) \\<^bold>\\<and> (re(e) \\<^bold>\\<or> cl(e)) \\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  c \\<noteq> e \\<and>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (clm ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' e = ext v \\<and>\n                   restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. c \\<noteq> e \\<and>\n    (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (clm ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     (0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' e = ext v \\<and>\n                      restrict v (res ts') e = lan v \\<and>\n                      |lan v| = 1 \\<or>\n                      0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' e = ext v \\<and>\n                      restrict v (clm ts') e = lan v \\<and>\n                      |lan v| = 1)) \\<and>\n                    True)) \\<and>\n            True))", "by blast"], ["proof (state)\nthis:\n  c \\<noteq> e \\<and>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (clm ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   (0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and> |lan v| = 1 \\<or>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1)) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (clm ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence pcc:\"ts',move ts ts'' v \\<Turnstile> pcc e c\""], ["proof (prove)\nusing this:\n  c \\<noteq> e \\<and>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (clm ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   (0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and> |lan v| = 1 \\<or>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1)) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. e \\<noteq> c \\<and>\n    (\\<exists>va u.\n        move ts ts'' v=va\\<parallel>u \\<and>\n        True \\<and>\n        (\\<exists>v ua.\n            u=v\\<parallel>ua \\<and>\n            (\\<exists>va u.\n                v=va--u \\<and>\n                True \\<and>\n                (\\<exists>v ua.\n                    u=v--ua \\<and>\n                    ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' c = ext v \\<and>\n                      restrict v (clm ts') c = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     (0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' e = ext v \\<and>\n                      restrict v (res ts') e = lan v \\<and>\n                      |lan v| = 1 \\<or>\n                      0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts' e = ext v \\<and>\n                      restrict v (clm ts') e = lan v \\<and>\n                      |lan v| = 1)) \\<and>\n                    True)) \\<and>\n            True))", "by blast"], ["proof (state)\nthis:\n  e \\<noteq> c \\<and>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (clm ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   (0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and> |lan v| = 1 \\<or>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1)) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (clm ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "have \"ts',move ts ts'' v \\<Turnstile>( \\<^bold>\\<exists> d. pcc d c) \\<^bold>\\<rightarrow> \\<^bold>\\<box>r(c) \\<^bold>\\<bottom>  \""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x.\n        x \\<noteq> c \\<and>\n        (\\<exists>va u.\n            move ts ts'' v=va\\<parallel>u \\<and>\n            True \\<and>\n            (\\<exists>v ua.\n                u=v\\<parallel>ua \\<and>\n                (\\<exists>va u.\n                    v=va--u \\<and>\n                    True \\<and>\n                    (\\<exists>v ua.\n                        u=v--ua \\<and>\n                        ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' c = ext v \\<and>\n                          restrict v (clm ts') c = lan v \\<and>\n                          |lan v| = 1) \\<and>\n                         (0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' x = ext v \\<and>\n                          restrict v (res ts') x = lan v \\<and>\n                          |lan v| = 1 \\<or>\n                          0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' x = ext v \\<and>\n                          restrict v (clm ts') x = lan v \\<and>\n                          |lan v| = 1)) \\<and>\n                        True)) \\<and>\n                True))) \\<longrightarrow>\n    (\\<forall>ts'.\n        ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n        False)", "using local_LC move_stab"], ["proof (prove)\nusing this:\n  \\<forall>x.\n     (\\<exists>xa.\n         xa \\<noteq> x \\<and>\n         (\\<exists>va u.\n             move ts ts' v=va\\<parallel>u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v\\<parallel>ua \\<and>\n                 (\\<exists>va u.\n                     v=va--u \\<and>\n                     True \\<and>\n                     (\\<exists>v ua.\n                         u=v--ua \\<and>\n                         ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' x = ext v \\<and>\n                           restrict v (clm ts') x = lan v \\<and>\n                           |lan v| = 1) \\<and>\n                          (0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' xa = ext v \\<and>\n                           restrict v (res ts') xa = lan v \\<and>\n                           |lan v| = 1 \\<or>\n                           0 < \\<parallel>ext v\\<parallel> \\<and>\n                           len v ts' xa = ext v \\<and>\n                           restrict v (clm ts') xa = lan v \\<and>\n                           |lan v| = 1)) \\<and>\n                         True)) \\<and>\n                 True))) \\<longrightarrow>\n     (\\<forall>ts'.\n         ts' \\<^bold>\\<midarrow>r( x ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n         False)\n  move ts ts' v = move ts ts'' v\n\ngoal (1 subgoal):\n 1. (\\<exists>x.\n        x \\<noteq> c \\<and>\n        (\\<exists>va u.\n            move ts ts'' v=va\\<parallel>u \\<and>\n            True \\<and>\n            (\\<exists>v ua.\n                u=v\\<parallel>ua \\<and>\n                (\\<exists>va u.\n                    v=va--u \\<and>\n                    True \\<and>\n                    (\\<exists>v ua.\n                        u=v--ua \\<and>\n                        ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' c = ext v \\<and>\n                          restrict v (clm ts') c = lan v \\<and>\n                          |lan v| = 1) \\<and>\n                         (0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' x = ext v \\<and>\n                          restrict v (res ts') x = lan v \\<and>\n                          |lan v| = 1 \\<or>\n                          0 < \\<parallel>ext v\\<parallel> \\<and>\n                          len v ts' x = ext v \\<and>\n                          restrict v (clm ts') x = lan v \\<and>\n                          |lan v| = 1)) \\<and>\n                        True)) \\<and>\n                True))) \\<longrightarrow>\n    (\\<forall>ts'.\n        ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n        False)", "by fastforce"], ["proof (state)\nthis:\n  (\\<exists>x.\n      x \\<noteq> c \\<and>\n      (\\<exists>va u.\n          move ts ts'' v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' c = ext v \\<and>\n                        restrict v (clm ts') c = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       (0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' x = ext v \\<and>\n                        restrict v (res ts') x = lan v \\<and>\n                        |lan v| = 1 \\<or>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' x = ext v \\<and>\n                        restrict v (clm ts') x = lan v \\<and>\n                        |lan v| = 1)) \\<and>\n                      True)) \\<and>\n              True))) \\<longrightarrow>\n  (\\<forall>ts'.\n      ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n      False)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (clm ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence \"ts',move ts ts'' v \\<Turnstile> \\<^bold>\\<box>r(c) \\<^bold>\\<bottom>\""], ["proof (prove)\nusing this:\n  (\\<exists>x.\n      x \\<noteq> c \\<and>\n      (\\<exists>va u.\n          move ts ts'' v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' c = ext v \\<and>\n                        restrict v (clm ts') c = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       (0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' x = ext v \\<and>\n                        restrict v (res ts') x = lan v \\<and>\n                        |lan v| = 1 \\<or>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' x = ext v \\<and>\n                        restrict v (clm ts') x = lan v \\<and>\n                        |lan v| = 1)) \\<and>\n                      True)) \\<and>\n              True))) \\<longrightarrow>\n  (\\<forall>ts'.\n      ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n      False)\n\ngoal (1 subgoal):\n 1. \\<forall>ts'.\n       ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n       False", "using pcc"], ["proof (prove)\nusing this:\n  (\\<exists>x.\n      x \\<noteq> c \\<and>\n      (\\<exists>va u.\n          move ts ts'' v=va\\<parallel>u \\<and>\n          True \\<and>\n          (\\<exists>v ua.\n              u=v\\<parallel>ua \\<and>\n              (\\<exists>va u.\n                  v=va--u \\<and>\n                  True \\<and>\n                  (\\<exists>v ua.\n                      u=v--ua \\<and>\n                      ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' c = ext v \\<and>\n                        restrict v (clm ts') c = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       (0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' x = ext v \\<and>\n                        restrict v (res ts') x = lan v \\<and>\n                        |lan v| = 1 \\<or>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' x = ext v \\<and>\n                        restrict v (clm ts') x = lan v \\<and>\n                        |lan v| = 1)) \\<and>\n                      True)) \\<and>\n              True))) \\<longrightarrow>\n  (\\<forall>ts'.\n      ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n      False)\n  e \\<noteq> c \\<and>\n  (\\<exists>va u.\n      move ts ts'' v=va\\<parallel>u \\<and>\n      True \\<and>\n      (\\<exists>v ua.\n          u=v\\<parallel>ua \\<and>\n          (\\<exists>va u.\n              v=va--u \\<and>\n              True \\<and>\n              (\\<exists>v ua.\n                  u=v--ua \\<and>\n                  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' c = ext v \\<and>\n                    restrict v (clm ts') c = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   (0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and> |lan v| = 1 \\<or>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (clm ts') e = lan v \\<and>\n                    |lan v| = 1)) \\<and>\n                  True)) \\<and>\n          True))\n\ngoal (1 subgoal):\n 1. \\<forall>ts'.\n       ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n       False", "by blast"], ["proof (state)\nthis:\n  \\<forall>ts'.\n     ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n     False\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (clm ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "thus \"ts'',move ts ts'' v \\<Turnstile> \\<^bold>\\<bottom>\""], ["proof (prove)\nusing this:\n  \\<forall>ts'.\n     ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n     False\n\ngoal (1 subgoal):\n 1. False", "using e_trans"], ["proof (prove)\nusing this:\n  \\<forall>ts'.\n     ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts' \\<longrightarrow>\n     False\n  ts' \\<^bold>\\<midarrow>r( c ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<nexists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (3 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "case (cr_clm ts' ts'')"], ["proof (state)\nthis:\n  ts \\<^bold>\\<Rightarrow> ts'\n  \\<exists>c n. ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (3 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "have \"move ts ts' v = move ts' ts'' (move ts ts' v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. move ts ts' v = move ts' ts'' (move ts ts' v)", "using traffic.move_stability_clm cr_clm.hyps traffic.move_trans"], ["proof (prove)\nusing this:\n  ?ts \\<^bold>\\<midarrow>c( ?c, ?n ) \\<^bold>\\<rightarrow> ?ts' \\<longrightarrow>\n  move ?ts ?ts' ?v = ?v\n  ts \\<^bold>\\<Rightarrow> ts'\n  \\<exists>c n. ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\n  ?ts \\<^bold>\\<Rightarrow> ?ts' \\<and>\n  ?ts' \\<^bold>\\<Rightarrow> ?ts'' \\<longrightarrow>\n  move ?ts' ?ts'' (move ?ts ?ts' ?v) = move ?ts ?ts'' ?v\n\ngoal (1 subgoal):\n 1. move ts ts' v = move ts' ts'' (move ts ts' v)", "by auto"], ["proof (state)\nthis:\n  move ts ts' v = move ts' ts'' (move ts ts' v)\n\ngoal (3 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "hence move_stab: \"move ts ts' v = move ts ts'' v\""], ["proof (prove)\nusing this:\n  move ts ts' v = move ts' ts'' (move ts ts' v)\n\ngoal (1 subgoal):\n 1. move ts ts' v = move ts ts'' v", "by (metis traffic.abstract.simps cr_clm.hyps traffic.move_trans)"], ["proof (state)\nthis:\n  move ts ts' v = move ts ts'' v\n\ngoal (3 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 3. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nexists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "proof (rule)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "assume e_def:\"(ts'',move ts ts'' v \\<Turnstile>  \\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>)\""], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "obtain d where d_def: \"\\<exists>n. (ts' \\<^bold>\\<midarrow>c(d,n) \\<^bold>\\<rightarrow> ts'')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d.\n        \\<exists>n.\n           ts' \\<^bold>\\<midarrow>c( d, n ) \\<^bold>\\<rightarrow> ts'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using cr_clm.hyps"], ["proof (prove)\nusing this:\n  ts \\<^bold>\\<Rightarrow> ts'\n  \\<exists>c n. ts' \\<^bold>\\<midarrow>c( c, n ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. (\\<And>d.\n        \\<exists>n.\n           ts' \\<^bold>\\<midarrow>c( d, n ) \\<^bold>\\<rightarrow> ts'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<exists>n. ts' \\<^bold>\\<midarrow>c( d, n ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "from this"], ["proof (chain)\npicking this:\n  \\<exists>n. ts' \\<^bold>\\<midarrow>c( d, n ) \\<^bold>\\<rightarrow> ts''", "obtain n where n_def:\" (ts' \\<^bold>\\<midarrow>c(d,n) \\<^bold>\\<rightarrow> ts'')\""], ["proof (prove)\nusing this:\n  \\<exists>n. ts' \\<^bold>\\<midarrow>c( d, n ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        ts' \\<^bold>\\<midarrow>c( d, n ) \\<^bold>\\<rightarrow> ts'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  ts' \\<^bold>\\<midarrow>c( d, n ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "from e_def"], ["proof (chain)\npicking this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)", "have \"\\<exists>v'. (v' \\<le> move ts ts'' v) \\<and> (ts'',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' c = ext v' \\<and>\n        restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts'' e = ext v' \\<and>\n       restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "using view.somewhere_leq"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' c = ext v' \\<and>\n        restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts'' e = ext v' \\<and>\n       restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "obtain v' where v'_def:\"(v' \\<le> move ts ts'' v) \\<and> (ts'',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. (\\<And>v'.\n        v' \\<le> move ts ts'' v \\<and>\n        (0 < \\<parallel>ext v'\\<parallel> \\<and>\n         len v' ts'' c = ext v' \\<and>\n         restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n        0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' e = ext v' \\<and>\n        restrict v' (res ts'') e = lan v' \\<and>\n        |lan v'| = 1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "have \" (ts',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n    0 < \\<parallel>ext v'\\<parallel> \\<and>\n    len v' ts' e = ext v' \\<and>\n    restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "using n_def backwards_c_res_stab"], ["proof (prove)\nusing this:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n  ts' \\<^bold>\\<midarrow>c( d, n ) \\<^bold>\\<rightarrow> ts''\n  (?ts \\<^bold>\\<midarrow>c( ?d, ?n ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n    0 < \\<parallel>ext v'\\<parallel> \\<and>\n    len v' ts' e = ext v' \\<and>\n    restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "by blast"], ["proof (state)\nthis:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "have \"ts', move ts ts'' v \\<Turnstile> \\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "using v'_def view.somewhere_leq"], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "by meson"], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "thus False"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. False", "using cr_clm.IH move_stab e_def nequals"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  move ts ts' v = move ts ts'' v\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  c \\<noteq> e\n\ngoal (1 subgoal):\n 1. False", "by fastforce"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<nexists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (2 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "case (wd_res ts' ts'')"], ["proof (state)\nthis:\n  ts \\<^bold>\\<Rightarrow> ts'\n  \\<exists>c n.\n     ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (2 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "have \"move ts ts' v = move ts' ts'' (move ts ts' v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. move ts ts' v = move ts' ts'' (move ts ts' v)", "using traffic.move_stability_wdr wd_res.hyps traffic.move_trans"], ["proof (prove)\nusing this:\n  ?ts \\<^bold>\\<midarrow>wdr( ?c, ?n ) \\<^bold>\\<rightarrow> ?ts' \\<longrightarrow>\n  move ?ts ?ts' ?v = ?v\n  ts \\<^bold>\\<Rightarrow> ts'\n  \\<exists>c n.\n     ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\n  ?ts \\<^bold>\\<Rightarrow> ?ts' \\<and>\n  ?ts' \\<^bold>\\<Rightarrow> ?ts'' \\<longrightarrow>\n  move ?ts' ?ts'' (move ?ts ?ts' ?v) = move ?ts ?ts'' ?v\n\ngoal (1 subgoal):\n 1. move ts ts' v = move ts' ts'' (move ts ts' v)", "by auto"], ["proof (state)\nthis:\n  move ts ts' v = move ts' ts'' (move ts ts' v)\n\ngoal (2 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "hence move_stab: \"move ts ts' v = move ts ts'' v\""], ["proof (prove)\nusing this:\n  move ts ts' v = move ts' ts'' (move ts ts' v)\n\ngoal (1 subgoal):\n 1. move ts ts' v = move ts ts'' v", "by (metis traffic.abstract.simps wd_res.hyps traffic.move_trans)"], ["proof (state)\nthis:\n  move ts ts' v = move ts ts'' v\n\ngoal (2 subgoals):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)\n 2. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c n.\n           ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nexists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "proof (rule )"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "assume e_def: \" (ts'',move ts ts'' v \\<Turnstile>  \\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>)\""], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "obtain d where d_def:\"\\<exists>n. (ts' \\<^bold>\\<midarrow>wdr(d,n) \\<^bold>\\<rightarrow> ts'')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d.\n        \\<exists>n.\n           ts' \\<^bold>\\<midarrow>wdr( d, n ) \\<^bold>\\<rightarrow> ts'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using wd_res.hyps"], ["proof (prove)\nusing this:\n  ts \\<^bold>\\<Rightarrow> ts'\n  \\<exists>c n.\n     ts' \\<^bold>\\<midarrow>wdr( c, n ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. (\\<And>d.\n        \\<exists>n.\n           ts' \\<^bold>\\<midarrow>wdr( d, n ) \\<^bold>\\<rightarrow> ts'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<exists>n. ts' \\<^bold>\\<midarrow>wdr( d, n ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "from this"], ["proof (chain)\npicking this:\n  \\<exists>n. ts' \\<^bold>\\<midarrow>wdr( d, n ) \\<^bold>\\<rightarrow> ts''", "obtain n where n_def:\" (ts' \\<^bold>\\<midarrow>wdr(d,n) \\<^bold>\\<rightarrow> ts'')\""], ["proof (prove)\nusing this:\n  \\<exists>n. ts' \\<^bold>\\<midarrow>wdr( d, n ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        ts' \\<^bold>\\<midarrow>wdr( d, n ) \\<^bold>\\<rightarrow> ts'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  ts' \\<^bold>\\<midarrow>wdr( d, n ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "from e_def"], ["proof (chain)\npicking this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)", "have \"\\<exists>v'. (v' \\<le> move ts ts'' v) \\<and> (ts'',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' c = ext v' \\<and>\n        restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts'' e = ext v' \\<and>\n       restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "using view.somewhere_leq"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' c = ext v' \\<and>\n        restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts'' e = ext v' \\<and>\n       restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "obtain v' where v'_def:\"(v' \\<le> move ts ts'' v) \\<and> (ts'',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. (\\<And>v'.\n        v' \\<le> move ts ts'' v \\<and>\n        (0 < \\<parallel>ext v'\\<parallel> \\<and>\n         len v' ts'' c = ext v' \\<and>\n         restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n        0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' e = ext v' \\<and>\n        restrict v' (res ts'') e = lan v' \\<and>\n        |lan v'| = 1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "have \" (ts',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n    0 < \\<parallel>ext v'\\<parallel> \\<and>\n    len v' ts' e = ext v' \\<and>\n    restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "using n_def backwards_wdr_res_stab"], ["proof (prove)\nusing this:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n  ts' \\<^bold>\\<midarrow>wdr( d, n ) \\<^bold>\\<rightarrow> ts''\n  (?ts \\<^bold>\\<midarrow>wdr( ?d, ?n ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n    0 < \\<parallel>ext v'\\<parallel> \\<and>\n    len v' ts' e = ext v' \\<and>\n    restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "by blast"], ["proof (state)\nthis:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "have \"  (ts',move ts ts'' v \\<Turnstile>  \\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>)\""], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "using v'_def view.somewhere_leq"], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "by meson"], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "thus False"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. False", "using wd_res.IH move_stab"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  move ts ts' v = move ts ts'' v\n\ngoal (1 subgoal):\n 1. False", "by fastforce"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<nexists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "case (wd_clm ts' ts'')"], ["proof (state)\nthis:\n  ts \\<^bold>\\<Rightarrow> ts'\n  \\<exists>c. ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "have \"move ts ts' v = move ts' ts'' (move ts ts' v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. move ts ts' v = move ts' ts'' (move ts ts' v)", "using traffic.move_stability_wdc wd_clm.hyps traffic.move_trans"], ["proof (prove)\nusing this:\n  ?ts \\<^bold>\\<midarrow>wdc( ?c ) \\<^bold>\\<rightarrow> ?ts' \\<longrightarrow>\n  move ?ts ?ts' ?v = ?v\n  ts \\<^bold>\\<Rightarrow> ts'\n  \\<exists>c. ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\n  ?ts \\<^bold>\\<Rightarrow> ?ts' \\<and>\n  ?ts' \\<^bold>\\<Rightarrow> ?ts'' \\<longrightarrow>\n  move ?ts' ?ts'' (move ?ts ?ts' ?v) = move ?ts ?ts'' ?v\n\ngoal (1 subgoal):\n 1. move ts ts' v = move ts' ts'' (move ts ts' v)", "by auto"], ["proof (state)\nthis:\n  move ts ts' v = move ts' ts'' (move ts ts' v)\n\ngoal (1 subgoal):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "hence move_stab: \"move ts ts' v = move ts ts'' v\""], ["proof (prove)\nusing this:\n  move ts ts' v = move ts' ts'' (move ts ts' v)\n\ngoal (1 subgoal):\n 1. move ts ts' v = move ts ts'' v", "by (metis traffic.abstract.simps wd_clm.hyps traffic.move_trans)"], ["proof (state)\nthis:\n  move ts ts' v = move ts ts'' v\n\ngoal (1 subgoal):\n 1. \\<And>ts' ts''.\n       \\<lbrakk>ts \\<^bold>\\<Rightarrow> ts';\n        \\<nexists>va u.\n           move ts ts' v=va\\<parallel>u \\<and>\n           True \\<and>\n           (\\<exists>v ua.\n               u=v\\<parallel>ua \\<and>\n               (\\<exists>va u.\n                   v=va--u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v--ua \\<and>\n                       ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                         len v ts' c = ext v \\<and>\n                         restrict v (res ts') c = lan v \\<and>\n                         |lan v| = 1) \\<and>\n                        0 < \\<parallel>ext v\\<parallel> \\<and>\n                        len v ts' e = ext v \\<and>\n                        restrict v (res ts') e = lan v \\<and>\n                        |lan v| = 1) \\<and>\n                       True)) \\<and>\n               True);\n        \\<exists>c.\n           ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>va u.\n                            move ts ts'' v=va\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts'' c = ext v \\<and>\n    restrict v (res ts'') c = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts'' e = ext v \\<and>\n   restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nexists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "proof (rule)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "assume e_def: \" (ts'',move ts ts'' v \\<Turnstile>  \\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e) \\<^bold>\\<rangle>)\""], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "obtain d where d_def: \" (ts' \\<^bold>\\<midarrow>wdc(d) \\<^bold>\\<rightarrow> ts'')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d.\n        ts' \\<^bold>\\<midarrow>wdc( d ) \\<^bold>\\<rightarrow> ts'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using wd_clm.hyps"], ["proof (prove)\nusing this:\n  ts \\<^bold>\\<Rightarrow> ts'\n  \\<exists>c. ts' \\<^bold>\\<midarrow>wdc( c ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. (\\<And>d.\n        ts' \\<^bold>\\<midarrow>wdc( d ) \\<^bold>\\<rightarrow> ts'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  ts' \\<^bold>\\<midarrow>wdc( d ) \\<^bold>\\<rightarrow> ts''\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "from e_def"], ["proof (chain)\npicking this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)", "have \"\\<exists>v'. (v' \\<le> move ts ts'' v) \\<and> (ts'',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' c = ext v' \\<and>\n        restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts'' e = ext v' \\<and>\n       restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "using view.somewhere_leq"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n\ngoal (1 subgoal):\n 1. \\<exists>v'\\<le>move ts ts'' v.\n       (0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' c = ext v' \\<and>\n        restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts'' e = ext v' \\<and>\n       restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "obtain v' where v'_def:\"(v' \\<le> move ts ts'' v) \\<and> (ts'',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  \\<exists>v'\\<le>move ts ts'' v.\n     (0 < \\<parallel>ext v'\\<parallel> \\<and>\n      len v' ts'' c = ext v' \\<and>\n      restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts'' e = ext v' \\<and>\n     restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. (\\<And>v'.\n        v' \\<le> move ts ts'' v \\<and>\n        (0 < \\<parallel>ext v'\\<parallel> \\<and>\n         len v' ts'' c = ext v' \\<and>\n         restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n        0 < \\<parallel>ext v'\\<parallel> \\<and>\n        len v' ts'' e = ext v' \\<and>\n        restrict v' (res ts'') e = lan v' \\<and>\n        |lan v'| = 1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1", "have \" (ts',v' \\<Turnstile> re(c) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n    0 < \\<parallel>ext v'\\<parallel> \\<and>\n    len v' ts' e = ext v' \\<and>\n    restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "using d_def backwards_wdc_res_stab"], ["proof (prove)\nusing this:\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n  ts' \\<^bold>\\<midarrow>wdc( d ) \\<^bold>\\<rightarrow> ts''\n  (?ts \\<^bold>\\<midarrow>wdc( ?d ) \\<^bold>\\<rightarrow> ?ts') \\<and>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts' ?c = ext ?v \\<and>\n  restrict ?v (res ?ts') ?c = lan ?v \\<and> |lan ?v| = 1 \\<longrightarrow>\n  0 < \\<parallel>ext ?v\\<parallel> \\<and>\n  len ?v ?ts ?c = ext ?v \\<and>\n  restrict ?v (res ?ts) ?c = lan ?v \\<and> |lan ?v| = 1\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts' c = ext v' \\<and>\n     restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n    0 < \\<parallel>ext v'\\<parallel> \\<and>\n    len v' ts' e = ext v' \\<and>\n    restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1", "by blast"], ["proof (state)\nthis:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence \"ts',move ts ts'' v \\<Turnstile> \\<^bold>\\<langle>re(c) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "using v'_def view.somewhere_leq"], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts' c = ext v' \\<and>\n   restrict v' (res ts') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts' e = ext v' \\<and>\n  restrict v' (res ts') e = lan v' \\<and> |lan v'| = 1\n  v' \\<le> move ts ts'' v \\<and>\n  (0 < \\<parallel>ext v'\\<parallel> \\<and>\n   len v' ts'' c = ext v' \\<and>\n   restrict v' (res ts'') c = lan v' \\<and> |lan v'| = 1) \\<and>\n  0 < \\<parallel>ext v'\\<parallel> \\<and>\n  len v' ts'' e = ext v' \\<and>\n  restrict v' (res ts'') e = lan v' \\<and> |lan v'| = 1\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts' c = ext v \\<and>\n                     restrict v (res ts') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts' e = ext v \\<and>\n                    restrict v (res ts') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "by meson"], ["proof (state)\nthis:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       move ts ts'' v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts'' c = ext v \\<and>\n                     restrict v (res ts'') c = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts'' e = ext v \\<and>\n                    restrict v (res ts'') e = lan v \\<and>\n                    |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "thus False"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. False", "using wd_clm.IH move_stab"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  move ts ts' v = move ts ts'' v\n\ngoal (1 subgoal):\n 1. False", "by fastforce"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<nexists>va u.\n     move ts ts'' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts'' c = ext v \\<and>\n                   restrict v (res ts'') c = lan v \\<and>\n                   |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts'' e = ext v \\<and>\n                  restrict v (res ts'') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<nexists>va u.\n     move ts ts' v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts' c = ext v \\<and>\n                   restrict v (res ts') c = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts' e = ext v \\<and>\n                  restrict v (res ts') e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>\nWhile the safety theorem was only proven for a single car, we can\nshow that the choice of this car is irrelevant. That is, if we have\na safe situation, and switch the perspective to another car,\nthe resulting situation is also safe.\n\\<close>"], ["", "lemma safety_switch_invariant:\"\\<Turnstile>(\\<^bold>\\<forall>e. safe(e)) \\<^bold>\\<rightarrow>  \\<^bold>@c (\\<^bold>\\<forall>e. safe(e))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>ts v.\n       (\\<forall>x xa.\n           xa \\<noteq> x \\<longrightarrow>\n           (\\<nexists>va u.\n               v=va\\<parallel>u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v\\<parallel>ua \\<and>\n                   (\\<exists>va u.\n                       v=va--u \\<and>\n                       True \\<and>\n                       (\\<exists>v ua.\n                           u=v--ua \\<and>\n                           ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                             len v ts xa = ext v \\<and>\n                             restrict v (res ts) xa = lan v \\<and>\n                             |lan v| = 1) \\<and>\n                            0 < \\<parallel>ext v\\<parallel> \\<and>\n                            len v ts x = ext v \\<and>\n                            restrict v (res ts) x = lan v \\<and>\n                            |lan v| = 1) \\<and>\n                           True)) \\<and>\n                   True))) \\<longrightarrow>\n       (\\<forall>v'.\n           v = c > v' \\<longrightarrow>\n           (\\<forall>x xa.\n               xa \\<noteq> x \\<longrightarrow>\n               (\\<nexists>v u.\n                   v'=v\\<parallel>u \\<and>\n                   True \\<and>\n                   (\\<exists>v ua.\n                       u=v\\<parallel>ua \\<and>\n                       (\\<exists>va u.\n                           v=va--u \\<and>\n                           True \\<and>\n                           (\\<exists>v ua.\n                               u=v--ua \\<and>\n                               ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                 len v ts xa = ext v \\<and>\n                                 restrict v (res ts) xa = lan v \\<and>\n                                 |lan v| = 1) \\<and>\n                                0 < \\<parallel>ext v\\<parallel> \\<and>\n                                len v ts x = ext v \\<and>\n                                restrict v (res ts) x = lan v \\<and>\n                                |lan v| = 1) \\<and>\n                               True)) \\<and>\n                       True))))", "proof (rule allI|rule impI)+"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ts v v' x xa.\n       \\<lbrakk>\\<forall>x xa.\n                   xa \\<noteq> x \\<longrightarrow>\n                   (\\<nexists>va u.\n                       v=va\\<parallel>u \\<and>\n                       True \\<and>\n                       (\\<exists>v ua.\n                           u=v\\<parallel>ua \\<and>\n                           (\\<exists>va u.\n                               v=va--u \\<and>\n                               True \\<and>\n                               (\\<exists>v ua.\n                                   u=v--ua \\<and>\n                                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts xa = ext v \\<and>\n                                     restrict v (res ts) xa = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                                    len v ts x = ext v \\<and>\n                                    restrict v (res ts) x = lan v \\<and>\n                                    |lan v| = 1) \\<and>\n                                   True)) \\<and>\n                           True));\n        v = c > v'; xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>v u.\n                            v'=v\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts xa = ext v \\<and>\n    restrict v (res ts) xa = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts x = ext v \\<and>\n   restrict v (res ts) x = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "fix ts v v'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ts v v' x xa.\n       \\<lbrakk>\\<forall>x xa.\n                   xa \\<noteq> x \\<longrightarrow>\n                   (\\<nexists>va u.\n                       v=va\\<parallel>u \\<and>\n                       True \\<and>\n                       (\\<exists>v ua.\n                           u=v\\<parallel>ua \\<and>\n                           (\\<exists>va u.\n                               v=va--u \\<and>\n                               True \\<and>\n                               (\\<exists>v ua.\n                                   u=v--ua \\<and>\n                                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts xa = ext v \\<and>\n                                     restrict v (res ts) xa = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                                    len v ts x = ext v \\<and>\n                                    restrict v (res ts) x = lan v \\<and>\n                                    |lan v| = 1) \\<and>\n                                   True)) \\<and>\n                           True));\n        v = c > v'; xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>v u.\n                            v'=v\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts xa = ext v \\<and>\n    restrict v (res ts) xa = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts x = ext v \\<and>\n   restrict v (res ts) x = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "fix e d :: cars"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ts v v' x xa.\n       \\<lbrakk>\\<forall>x xa.\n                   xa \\<noteq> x \\<longrightarrow>\n                   (\\<nexists>va u.\n                       v=va\\<parallel>u \\<and>\n                       True \\<and>\n                       (\\<exists>v ua.\n                           u=v\\<parallel>ua \\<and>\n                           (\\<exists>va u.\n                               v=va--u \\<and>\n                               True \\<and>\n                               (\\<exists>v ua.\n                                   u=v--ua \\<and>\n                                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts xa = ext v \\<and>\n                                     restrict v (res ts) xa = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                                    len v ts x = ext v \\<and>\n                                    restrict v (res ts) x = lan v \\<and>\n                                    |lan v| = 1) \\<and>\n                                   True)) \\<and>\n                           True));\n        v = c > v'; xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>v u.\n                            v'=v\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts xa = ext v \\<and>\n    restrict v (res ts) xa = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts x = ext v \\<and>\n   restrict v (res ts) x = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "assume assm: \"ts,v \\<Turnstile>  \\<^bold>\\<forall>e. safe(e)\" \n    and v'_def:\"(v=c>v')\" \n    and nequals:\"ts,v \\<Turnstile> \\<^bold>\\<not>(d \\<^bold>=  e)\""], ["proof (state)\nthis:\n  \\<forall>x xa.\n     xa \\<noteq> x \\<longrightarrow>\n     (\\<nexists>va u.\n         v=va\\<parallel>u \\<and>\n         True \\<and>\n         (\\<exists>v ua.\n             u=v\\<parallel>ua \\<and>\n             (\\<exists>va u.\n                 v=va--u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v--ua \\<and>\n                     ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts xa = ext v \\<and>\n                       restrict v (res ts) xa = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts x = ext v \\<and>\n                      restrict v (res ts) x = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     True)) \\<and>\n             True))\n  v = c > v'\n  d \\<noteq> e\n\ngoal (1 subgoal):\n 1. \\<And>ts v v' x xa.\n       \\<lbrakk>\\<forall>x xa.\n                   xa \\<noteq> x \\<longrightarrow>\n                   (\\<nexists>va u.\n                       v=va\\<parallel>u \\<and>\n                       True \\<and>\n                       (\\<exists>v ua.\n                           u=v\\<parallel>ua \\<and>\n                           (\\<exists>va u.\n                               v=va--u \\<and>\n                               True \\<and>\n                               (\\<exists>v ua.\n                                   u=v--ua \\<and>\n                                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                                     len v ts xa = ext v \\<and>\n                                     restrict v (res ts) xa = lan v \\<and>\n                                     |lan v| = 1) \\<and>\n                                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                                    len v ts x = ext v \\<and>\n                                    restrict v (res ts) x = lan v \\<and>\n                                    |lan v| = 1) \\<and>\n                                   True)) \\<and>\n                           True));\n        v = c > v'; xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> \\<nexists>v u.\n                            v'=v\\<parallel>u \\<and>\n                            True \\<and>\n                            (\\<exists>v ua.\n                                u=v\\<parallel>ua \\<and>\n                                (\\<exists>va u.\n                                    v=va--u \\<and>\n                                    True \\<and>\n                                    (\\<exists>v ua.\n  u=v--ua \\<and>\n  ((0 < \\<parallel>ext v\\<parallel> \\<and>\n    len v ts xa = ext v \\<and>\n    restrict v (res ts) xa = lan v \\<and> |lan v| = 1) \\<and>\n   0 < \\<parallel>ext v\\<parallel> \\<and>\n   len v ts x = ext v \\<and>\n   restrict v (res ts) x = lan v \\<and> |lan v| = 1) \\<and>\n  True)) \\<and>\n                                True)", "show \"ts,v' \\<Turnstile>  \\<^bold>\\<not> \\<^bold>\\<langle>re(d) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nexists>v u.\n       v'=v\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "proof(rule)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>v u.\n       v'=v\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "assume e_def: \"ts,v' \\<Turnstile>  \\<^bold>\\<langle>re(d) \\<^bold>\\<and> re(e)\\<^bold>\\<rangle>\""], ["proof (state)\nthis:\n  \\<exists>v u.\n     v'=v\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts d = ext v \\<and>\n                   restrict v (res ts) d = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts e = ext v \\<and>\n                  restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>v u.\n       v'=v\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "from e_def"], ["proof (chain)\npicking this:\n  \\<exists>v u.\n     v'=v\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts d = ext v \\<and>\n                   restrict v (res ts) d = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts e = ext v \\<and>\n                  restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)", "obtain v'sub where v'sub_def:\n      \"(v'sub \\<le> v') \\<and> (ts,v'sub \\<Turnstile> re(d) \\<^bold>\\<and> re(e))\""], ["proof (prove)\nusing this:\n  \\<exists>v u.\n     v'=v\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts d = ext v \\<and>\n                   restrict v (res ts) d = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts e = ext v \\<and>\n                  restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. (\\<And>v'sub.\n        v'sub \\<le> v' \\<and>\n        (0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n         len v'sub ts d = ext v'sub \\<and>\n         restrict v'sub (res ts) d = lan v'sub \\<and>\n         |lan v'sub| = 1) \\<and>\n        0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n        len v'sub ts e = ext v'sub \\<and>\n        restrict v'sub (res ts) e = lan v'sub \\<and>\n        |lan v'sub| = 1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using view.somewhere_leq"], ["proof (prove)\nusing this:\n  \\<exists>v u.\n     v'=v\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts d = ext v \\<and>\n                   restrict v (res ts) d = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts e = ext v \\<and>\n                  restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n\ngoal (1 subgoal):\n 1. (\\<And>v'sub.\n        v'sub \\<le> v' \\<and>\n        (0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n         len v'sub ts d = ext v'sub \\<and>\n         restrict v'sub (res ts) d = lan v'sub \\<and>\n         |lan v'sub| = 1) \\<and>\n        0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n        len v'sub ts e = ext v'sub \\<and>\n        restrict v'sub (res ts) e = lan v'sub \\<and>\n        |lan v'sub| = 1 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  v'sub \\<le> v' \\<and>\n  (0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n   len v'sub ts d = ext v'sub \\<and>\n   restrict v'sub (res ts) d = lan v'sub \\<and> |lan v'sub| = 1) \\<and>\n  0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n  len v'sub ts e = ext v'sub \\<and>\n  restrict v'sub (res ts) e = lan v'sub \\<and> |lan v'sub| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>v u.\n       v'=v\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "have \"own v' = c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. own v' = c", "using v'_def view.switch_def"], ["proof (prove)\nusing this:\n  v = c > v'\n  ?v = ?c > ?w \\<equiv>\n  ext ?v = ext ?w \\<and>\n  lan ?v = lan ?w \\<and> own ?w = ?c \\<and> more ?v = more ?w\n\ngoal (1 subgoal):\n 1. own v' = c", "by auto"], ["proof (state)\nthis:\n  own v' = c\n\ngoal (1 subgoal):\n 1. \\<exists>v u.\n       v'=v\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence \"own v'sub = c\""], ["proof (prove)\nusing this:\n  own v' = c\n\ngoal (1 subgoal):\n 1. own v'sub = c", "using v'sub_def less_eq_view_ext_def"], ["proof (prove)\nusing this:\n  own v' = c\n  v'sub \\<le> v' \\<and>\n  (0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n   len v'sub ts d = ext v'sub \\<and>\n   restrict v'sub (res ts) d = lan v'sub \\<and> |lan v'sub| = 1) \\<and>\n  0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n  len v'sub ts e = ext v'sub \\<and>\n  restrict v'sub (res ts) e = lan v'sub \\<and> |lan v'sub| = 1\n  ?V \\<le> ?V' \\<equiv>\n  ext ?V \\<le> ext ?V' \\<and>\n  lan ?V \\<le> lan ?V' \\<and> own ?V = own ?V' \\<and> more ?V \\<le> more ?V'\n\ngoal (1 subgoal):\n 1. own v'sub = c", "by auto"], ["proof (state)\nthis:\n  own v'sub = c\n\ngoal (1 subgoal):\n 1. \\<exists>v u.\n       v'=v\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "obtain vsub where vsub:\"(vsub =c> v'sub) \\<and> (vsub \\<le> v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>vsub.\n        vsub = c > v'sub \\<and> vsub \\<le> v \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using v'_def v'sub_def view.switch_leq"], ["proof (prove)\nusing this:\n  v = c > v'\n  v'sub \\<le> v' \\<and>\n  (0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n   len v'sub ts d = ext v'sub \\<and>\n   restrict v'sub (res ts) d = lan v'sub \\<and> |lan v'sub| = 1) \\<and>\n  0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n  len v'sub ts e = ext v'sub \\<and>\n  restrict v'sub (res ts) e = lan v'sub \\<and> |lan v'sub| = 1\n  ?u' \\<le> ?u \\<and> ?v = ?c > ?u \\<longrightarrow>\n  (\\<exists>v'. v' = ?c > ?u' \\<and> v' \\<le> ?v)\n\ngoal (1 subgoal):\n 1. (\\<And>vsub.\n        vsub = c > v'sub \\<and> vsub \\<le> v \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  vsub = c > v'sub \\<and> vsub \\<le> v\n\ngoal (1 subgoal):\n 1. \\<exists>v u.\n       v'=v\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "from v'sub_def and vsub"], ["proof (chain)\npicking this:\n  v'sub \\<le> v' \\<and>\n  (0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n   len v'sub ts d = ext v'sub \\<and>\n   restrict v'sub (res ts) d = lan v'sub \\<and> |lan v'sub| = 1) \\<and>\n  0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n  len v'sub ts e = ext v'sub \\<and>\n  restrict v'sub (res ts) e = lan v'sub \\<and> |lan v'sub| = 1\n  vsub = c > v'sub \\<and> vsub \\<le> v", "have \"ts,vsub \\<Turnstile> \\<^bold>@c re(d)\""], ["proof (prove)\nusing this:\n  v'sub \\<le> v' \\<and>\n  (0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n   len v'sub ts d = ext v'sub \\<and>\n   restrict v'sub (res ts) d = lan v'sub \\<and> |lan v'sub| = 1) \\<and>\n  0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n  len v'sub ts e = ext v'sub \\<and>\n  restrict v'sub (res ts) e = lan v'sub \\<and> |lan v'sub| = 1\n  vsub = c > v'sub \\<and> vsub \\<le> v\n\ngoal (1 subgoal):\n 1. \\<forall>v'.\n       vsub = c > v' \\<longrightarrow>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts d = ext v' \\<and>\n       restrict v' (res ts) d = lan v' \\<and> |lan v'| = 1", "by (metis view.switch_unique)"], ["proof (state)\nthis:\n  \\<forall>v'.\n     vsub = c > v' \\<longrightarrow>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts d = ext v' \\<and>\n     restrict v' (res ts) d = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>v u.\n       v'=v\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence vsub_re_d:\"ts,vsub \\<Turnstile> re(d)\""], ["proof (prove)\nusing this:\n  \\<forall>v'.\n     vsub = c > v' \\<longrightarrow>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts d = ext v' \\<and>\n     restrict v' (res ts) d = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. 0 < \\<parallel>ext vsub\\<parallel> \\<and>\n    len vsub ts d = ext vsub \\<and>\n    restrict vsub (res ts) d = lan vsub \\<and> |lan vsub| = 1", "using at_res_inst"], ["proof (prove)\nusing this:\n  \\<forall>v'.\n     vsub = c > v' \\<longrightarrow>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts d = ext v' \\<and>\n     restrict v' (res ts) d = lan v' \\<and> |lan v'| = 1\n  \\<forall>ts v.\n     (\\<forall>v'.\n         v = ?d > v' \\<longrightarrow>\n         0 < \\<parallel>ext v'\\<parallel> \\<and>\n         len v' ts ?c = ext v' \\<and>\n         restrict v' (res ts) ?c = lan v' \\<and>\n         |lan v'| = 1) \\<longrightarrow>\n     0 < \\<parallel>ext v\\<parallel> \\<and>\n     len v ts ?c = ext v \\<and>\n     restrict v (res ts) ?c = lan v \\<and> |lan v| = 1\n\ngoal (1 subgoal):\n 1. 0 < \\<parallel>ext vsub\\<parallel> \\<and>\n    len vsub ts d = ext vsub \\<and>\n    restrict vsub (res ts) d = lan vsub \\<and> |lan vsub| = 1", "by blast"], ["proof (state)\nthis:\n  0 < \\<parallel>ext vsub\\<parallel> \\<and>\n  len vsub ts d = ext vsub \\<and>\n  restrict vsub (res ts) d = lan vsub \\<and> |lan vsub| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>v u.\n       v'=v\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "from v'sub_def and vsub"], ["proof (chain)\npicking this:\n  v'sub \\<le> v' \\<and>\n  (0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n   len v'sub ts d = ext v'sub \\<and>\n   restrict v'sub (res ts) d = lan v'sub \\<and> |lan v'sub| = 1) \\<and>\n  0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n  len v'sub ts e = ext v'sub \\<and>\n  restrict v'sub (res ts) e = lan v'sub \\<and> |lan v'sub| = 1\n  vsub = c > v'sub \\<and> vsub \\<le> v", "have \"ts,vsub \\<Turnstile> \\<^bold>@c re(e)\""], ["proof (prove)\nusing this:\n  v'sub \\<le> v' \\<and>\n  (0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n   len v'sub ts d = ext v'sub \\<and>\n   restrict v'sub (res ts) d = lan v'sub \\<and> |lan v'sub| = 1) \\<and>\n  0 < \\<parallel>ext v'sub\\<parallel> \\<and>\n  len v'sub ts e = ext v'sub \\<and>\n  restrict v'sub (res ts) e = lan v'sub \\<and> |lan v'sub| = 1\n  vsub = c > v'sub \\<and> vsub \\<le> v\n\ngoal (1 subgoal):\n 1. \\<forall>v'.\n       vsub = c > v' \\<longrightarrow>\n       0 < \\<parallel>ext v'\\<parallel> \\<and>\n       len v' ts e = ext v' \\<and>\n       restrict v' (res ts) e = lan v' \\<and> |lan v'| = 1", "by (metis view.switch_unique)"], ["proof (state)\nthis:\n  \\<forall>v'.\n     vsub = c > v' \\<longrightarrow>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts e = ext v' \\<and>\n     restrict v' (res ts) e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>v u.\n       v'=v\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence vsub_re_e:\"ts,vsub \\<Turnstile> re(e)\""], ["proof (prove)\nusing this:\n  \\<forall>v'.\n     vsub = c > v' \\<longrightarrow>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts e = ext v' \\<and>\n     restrict v' (res ts) e = lan v' \\<and> |lan v'| = 1\n\ngoal (1 subgoal):\n 1. 0 < \\<parallel>ext vsub\\<parallel> \\<and>\n    len vsub ts e = ext vsub \\<and>\n    restrict vsub (res ts) e = lan vsub \\<and> |lan vsub| = 1", "using at_res_inst"], ["proof (prove)\nusing this:\n  \\<forall>v'.\n     vsub = c > v' \\<longrightarrow>\n     0 < \\<parallel>ext v'\\<parallel> \\<and>\n     len v' ts e = ext v' \\<and>\n     restrict v' (res ts) e = lan v' \\<and> |lan v'| = 1\n  \\<forall>ts v.\n     (\\<forall>v'.\n         v = ?d > v' \\<longrightarrow>\n         0 < \\<parallel>ext v'\\<parallel> \\<and>\n         len v' ts ?c = ext v' \\<and>\n         restrict v' (res ts) ?c = lan v' \\<and>\n         |lan v'| = 1) \\<longrightarrow>\n     0 < \\<parallel>ext v\\<parallel> \\<and>\n     len v ts ?c = ext v \\<and>\n     restrict v (res ts) ?c = lan v \\<and> |lan v| = 1\n\ngoal (1 subgoal):\n 1. 0 < \\<parallel>ext vsub\\<parallel> \\<and>\n    len vsub ts e = ext vsub \\<and>\n    restrict vsub (res ts) e = lan vsub \\<and> |lan vsub| = 1", "by blast"], ["proof (state)\nthis:\n  0 < \\<parallel>ext vsub\\<parallel> \\<and>\n  len vsub ts e = ext vsub \\<and>\n  restrict vsub (res ts) e = lan vsub \\<and> |lan vsub| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>v u.\n       v'=v\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence \"ts,vsub\\<Turnstile>re(d) \\<^bold>\\<and> re(e)\""], ["proof (prove)\nusing this:\n  0 < \\<parallel>ext vsub\\<parallel> \\<and>\n  len vsub ts e = ext vsub \\<and>\n  restrict vsub (res ts) e = lan vsub \\<and> |lan vsub| = 1\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext vsub\\<parallel> \\<and>\n     len vsub ts d = ext vsub \\<and>\n     restrict vsub (res ts) d = lan vsub \\<and> |lan vsub| = 1) \\<and>\n    0 < \\<parallel>ext vsub\\<parallel> \\<and>\n    len vsub ts e = ext vsub \\<and>\n    restrict vsub (res ts) e = lan vsub \\<and> |lan vsub| = 1", "using vsub_re_e vsub_re_d"], ["proof (prove)\nusing this:\n  0 < \\<parallel>ext vsub\\<parallel> \\<and>\n  len vsub ts e = ext vsub \\<and>\n  restrict vsub (res ts) e = lan vsub \\<and> |lan vsub| = 1\n  0 < \\<parallel>ext vsub\\<parallel> \\<and>\n  len vsub ts e = ext vsub \\<and>\n  restrict vsub (res ts) e = lan vsub \\<and> |lan vsub| = 1\n  0 < \\<parallel>ext vsub\\<parallel> \\<and>\n  len vsub ts d = ext vsub \\<and>\n  restrict vsub (res ts) d = lan vsub \\<and> |lan vsub| = 1\n\ngoal (1 subgoal):\n 1. (0 < \\<parallel>ext vsub\\<parallel> \\<and>\n     len vsub ts d = ext vsub \\<and>\n     restrict vsub (res ts) d = lan vsub \\<and> |lan vsub| = 1) \\<and>\n    0 < \\<parallel>ext vsub\\<parallel> \\<and>\n    len vsub ts e = ext vsub \\<and>\n    restrict vsub (res ts) e = lan vsub \\<and> |lan vsub| = 1", "by blast"], ["proof (state)\nthis:\n  (0 < \\<parallel>ext vsub\\<parallel> \\<and>\n   len vsub ts d = ext vsub \\<and>\n   restrict vsub (res ts) d = lan vsub \\<and> |lan vsub| = 1) \\<and>\n  0 < \\<parallel>ext vsub\\<parallel> \\<and>\n  len vsub ts e = ext vsub \\<and>\n  restrict vsub (res ts) e = lan vsub \\<and> |lan vsub| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>v u.\n       v'=v\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "hence \"ts,v \\<Turnstile>\\<^bold>\\<langle> re(d) \\<^bold>\\<and> re(e) \\<^bold>\\<rangle>\""], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext vsub\\<parallel> \\<and>\n   len vsub ts d = ext vsub \\<and>\n   restrict vsub (res ts) d = lan vsub \\<and> |lan vsub| = 1) \\<and>\n  0 < \\<parallel>ext vsub\\<parallel> \\<and>\n  len vsub ts e = ext vsub \\<and>\n  restrict vsub (res ts) e = lan vsub \\<and> |lan vsub| = 1\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "using vsub view.somewhere_leq"], ["proof (prove)\nusing this:\n  (0 < \\<parallel>ext vsub\\<parallel> \\<and>\n   len vsub ts d = ext vsub \\<and>\n   restrict vsub (res ts) d = lan vsub \\<and> |lan vsub| = 1) \\<and>\n  0 < \\<parallel>ext vsub\\<parallel> \\<and>\n  len vsub ts e = ext vsub \\<and>\n  restrict vsub (res ts) e = lan vsub \\<and> |lan vsub| = 1\n  vsub = c > v'sub \\<and> vsub \\<le> v\n  (?v \\<le> ?v') =\n  (\\<exists>v1 v2 v3 vl vr vu vd.\n      ?v'=vl\\<parallel>v1 \\<and>\n      v1=v2\\<parallel>vr \\<and> v2=vd--v3 \\<and> v3=?v--vu)\n\ngoal (1 subgoal):\n 1. \\<exists>va u.\n       v=va\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>va u.\n     v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts d = ext v \\<and>\n                   restrict v (res ts) d = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts e = ext v \\<and>\n                  restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. \\<exists>v u.\n       v'=v\\<parallel>u \\<and>\n       True \\<and>\n       (\\<exists>v ua.\n           u=v\\<parallel>ua \\<and>\n           (\\<exists>va u.\n               v=va--u \\<and>\n               True \\<and>\n               (\\<exists>v ua.\n                   u=v--ua \\<and>\n                   ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                     len v ts d = ext v \\<and>\n                     restrict v (res ts) d = lan v \\<and>\n                     |lan v| = 1) \\<and>\n                    0 < \\<parallel>ext v\\<parallel> \\<and>\n                    len v ts e = ext v \\<and>\n                    restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                   True)) \\<and>\n           True) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<exists>va u.\n     v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts d = ext v \\<and>\n                   restrict v (res ts) d = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts e = ext v \\<and>\n                  restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)", "show False"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts d = ext v \\<and>\n                   restrict v (res ts) d = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts e = ext v \\<and>\n                  restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal (1 subgoal):\n 1. False", "using assm nequals"], ["proof (prove)\nusing this:\n  \\<exists>va u.\n     v=va\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts d = ext v \\<and>\n                   restrict v (res ts) d = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts e = ext v \\<and>\n                  restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n  \\<forall>x xa.\n     xa \\<noteq> x \\<longrightarrow>\n     (\\<nexists>va u.\n         v=va\\<parallel>u \\<and>\n         True \\<and>\n         (\\<exists>v ua.\n             u=v\\<parallel>ua \\<and>\n             (\\<exists>va u.\n                 v=va--u \\<and>\n                 True \\<and>\n                 (\\<exists>v ua.\n                     u=v--ua \\<and>\n                     ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                       len v ts xa = ext v \\<and>\n                       restrict v (res ts) xa = lan v \\<and>\n                       |lan v| = 1) \\<and>\n                      0 < \\<parallel>ext v\\<parallel> \\<and>\n                      len v ts x = ext v \\<and>\n                      restrict v (res ts) x = lan v \\<and>\n                      |lan v| = 1) \\<and>\n                     True)) \\<and>\n             True))\n  d \\<noteq> e\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<nexists>v u.\n     v'=v\\<parallel>u \\<and>\n     True \\<and>\n     (\\<exists>v ua.\n         u=v\\<parallel>ua \\<and>\n         (\\<exists>va u.\n             v=va--u \\<and>\n             True \\<and>\n             (\\<exists>v ua.\n                 u=v--ua \\<and>\n                 ((0 < \\<parallel>ext v\\<parallel> \\<and>\n                   len v ts d = ext v \\<and>\n                   restrict v (res ts) d = lan v \\<and> |lan v| = 1) \\<and>\n                  0 < \\<parallel>ext v\\<parallel> \\<and>\n                  len v ts e = ext v \\<and>\n                  restrict v (res ts) e = lan v \\<and> |lan v| = 1) \\<and>\n                 True)) \\<and>\n         True)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}