{"file_name": "/home/qj213/afp-2021-10-22/thys/Triangle/Angles.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Triangle", "problem_names": ["lemma collinear_translate_iff: \"collinear (((+) a) ` A) \\<longleftrightarrow> collinear A\"", "lemma angle_altdef: \"angle a b c = arccos ((a - b) \\<bullet> (c - b) / (dist a b * dist c b))\"", "lemma vangle_0_left [simp]: \"vangle 0 v = pi / 2\"\n  and vangle_0_right [simp]: \"vangle u 0 = pi / 2\"", "lemma vangle_refl [simp]: \"u \\<noteq> 0 \\<Longrightarrow> vangle u u = 0\"", "lemma angle_refl [simp]: \"angle a a b = pi / 2\" \"angle a b b = pi / 2\"", "lemma angle_refl_mid [simp]: \"a \\<noteq> b \\<Longrightarrow> angle a b a = 0\"", "lemma cos_vangle: \"cos (vangle u v) = u \\<bullet> v / (norm u * norm v)\"", "lemma cos_angle: \"cos (angle a b c) = (a - b) \\<bullet> (c - b) / (dist a b * dist c b)\"", "lemma inner_conv_angle: \"(a - b) \\<bullet> (c - b) = dist a b * dist c b * cos (angle a b c)\"", "lemma vangle_commute: \"vangle u v = vangle v u\"", "lemma angle_commute: \"angle a b c = angle c b a\"", "lemma vangle_nonneg: \"vangle u v \\<ge> 0\" and vangle_le_pi: \"vangle u v \\<le> pi\"", "lemmas vangle_bounds = vangle_nonneg vangle_le_pi", "lemma angle_nonneg: \"angle a b c \\<ge> 0\" and angle_le_pi: \"angle a b c \\<le> pi\"", "lemmas angle_bounds = angle_nonneg angle_le_pi", "lemma sin_vangle_nonneg: \"sin (vangle u v) \\<ge> 0\"", "lemma sin_angle_nonneg: \"sin (angle a b c) \\<ge> 0\"", "lemma vangle_eq_0D:\n  assumes \"vangle u v = 0\"\n  shows   \"norm u *\\<^sub>R v = norm v *\\<^sub>R u\"", "lemma vangle_eq_piD:\n  assumes \"vangle u v = pi\"\n  shows   \"norm u *\\<^sub>R v + norm v *\\<^sub>R u = 0\"", "lemma dist_triangle_eq:\n  fixes a b c :: \"'a :: real_inner\"\n  shows \"(dist a c = dist a b + dist b c) \\<longleftrightarrow> dist a b *\\<^sub>R (c - b) + dist b c *\\<^sub>R (a - b) = 0\"", "lemma angle_eq_pi_imp_dist_additive:\n  assumes \"angle a b c = pi\"\n  shows   \"dist a c = dist a b + dist b c\"", "lemma orthogonal_iff_vangle: \"orthogonal u v \\<longleftrightarrow> vangle u v = pi / 2\"", "lemma cos_minus1_imp_pi:\n  assumes \"cos x = -1\" \"x \\<ge> 0\" \"x < 3 * pi\"\n  shows   \"x = pi\"", "lemma vangle_eqI:\n  assumes \"u \\<noteq> 0\" \"v \\<noteq> 0\" \"w \\<noteq> 0\" \"x \\<noteq> 0\"\n  assumes \"(u \\<bullet> v) * norm w * norm x = (w \\<bullet> x) * norm u * norm v\"\n  shows   \"vangle u v = vangle w x\"", "lemma angle_eqI:\n  assumes \"a \\<noteq> b\" \"a \\<noteq> c\" \"d \\<noteq> e\" \"d \\<noteq> f\"\n  assumes \"((b-a) \\<bullet> (c-a)) * dist d e * dist d f = ((e-d) \\<bullet> (f-d)) * dist a b * dist a c\"\n  shows   \"angle b a c = angle e d f\"", "lemma cos_vangle_eqD: \"cos (vangle u v) = cos (vangle w x) \\<Longrightarrow> vangle u v = vangle w x\"", "lemma cos_angle_eqD: \"cos (angle a b c) = cos (angle d e f) \\<Longrightarrow> angle a b c = angle d e f\"", "lemma sin_vangle_zero_iff: \"sin (vangle u v) = 0 \\<longleftrightarrow> vangle u v \\<in> {0, pi}\"", "lemma sin_angle_zero_iff: \"sin (angle a b c) = 0 \\<longleftrightarrow> angle a b c \\<in> {0, pi}\"", "lemma vangle_collinear: \"vangle u v \\<in> {0, pi} \\<Longrightarrow> collinear {0, u, v}\"", "lemma angle_collinear: \"angle a b c \\<in> {0, pi} \\<Longrightarrow> collinear {a, b, c}\"", "lemma not_collinear_vangle: \"\\<not>collinear {0,u,v} \\<Longrightarrow> vangle u v \\<in> {0<..<pi}\"", "lemma not_collinear_angle: \"\\<not>collinear {a,b,c} \\<Longrightarrow> angle a b c \\<in> {0<..<pi}\"", "lemma vangle_scales:\n  assumes \"0 < c\"\n  shows \"vangle (c *\\<^sub>R v\\<^sub>1) v\\<^sub>2 = vangle v\\<^sub>1 v\\<^sub>2\"", "lemma vangle_inverse:\n  \"vangle (- v\\<^sub>1) v\\<^sub>2 = pi - vangle v\\<^sub>1 v\\<^sub>2\"", "lemma orthogonal_iff_angle:\n  shows \"orthogonal (A - B) (C - B) \\<longleftrightarrow> angle A B C = pi / 2\"", "lemma angle_inverse:\n  assumes \"between (A, C) B\"\n  assumes \"A \\<noteq> B\" \"B \\<noteq> C\"\n  shows \"angle A B D = pi - angle C B D\"", "lemma strictly_between_implies_angle_eq_pi:\n  assumes \"between (A, C) B\"\n  assumes \"A \\<noteq> B\" \"B \\<noteq> C\"\n  shows \"angle A B C = pi\""], "translations": [["", "lemma collinear_translate_iff: \"collinear (((+) a) ` A) \\<longleftrightarrow> collinear A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. collinear ((+) a ` A) = collinear A", "by (auto simp: collinear_def)"], ["", "definition vangle where\n  \"vangle u v = (if u = 0 \\<or> v = 0 then pi / 2 else arccos (u \\<bullet> v / (norm u * norm v)))\""], ["", "definition angle where\n  \"angle a b c = vangle (a - b) (c - b)\""], ["", "lemma angle_altdef: \"angle a b c = arccos ((a - b) \\<bullet> (c - b) / (dist a b * dist c b))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. angle a b c = arccos ((a - b) \\<bullet> (c - b) / (dist a b * dist c b))", "by (simp add: angle_def vangle_def dist_norm)"], ["", "lemma vangle_0_left [simp]: \"vangle 0 v = pi / 2\"\n  and vangle_0_right [simp]: \"vangle u 0 = pi / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vangle (0::'a) v = pi / 2 &&& vangle u (0::'b) = pi / 2", "by (simp_all add: vangle_def)"], ["", "lemma vangle_refl [simp]: \"u \\<noteq> 0 \\<Longrightarrow> vangle u u = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<noteq> (0::'a) \\<Longrightarrow> vangle u u = 0", "by (simp add: vangle_def dot_square_norm power2_eq_square)"], ["", "lemma angle_refl [simp]: \"angle a a b = pi / 2\" \"angle a b b = pi / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. angle a a b = pi / 2 &&& angle a b b = pi / 2", "by (simp_all add: angle_def)"], ["", "lemma angle_refl_mid [simp]: \"a \\<noteq> b \\<Longrightarrow> angle a b a = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<noteq> b \\<Longrightarrow> angle a b a = 0", "by (simp add: angle_def)"], ["", "lemma cos_vangle: \"cos (vangle u v) = u \\<bullet> v / (norm u * norm v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cos (vangle u v) = u \\<bullet> v / (norm u * norm v)", "unfolding vangle_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. cos (if u = (0::'a) \\<or> v = (0::'a) then pi / 2\n         else arccos (u \\<bullet> v / (norm u * norm v))) =\n    u \\<bullet> v / (norm u * norm v)", "using Cauchy_Schwarz_ineq2[of u v]"], ["proof (prove)\nusing this:\n  \\<bar>u \\<bullet> v\\<bar> \\<le> norm u * norm v\n\ngoal (1 subgoal):\n 1. cos (if u = (0::'a) \\<or> v = (0::'a) then pi / 2\n         else arccos (u \\<bullet> v / (norm u * norm v))) =\n    u \\<bullet> v / (norm u * norm v)", "by (auto simp: field_simps)"], ["", "lemma cos_angle: \"cos (angle a b c) = (a - b) \\<bullet> (c - b) / (dist a b * dist c b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cos (angle a b c) = (a - b) \\<bullet> (c - b) / (dist a b * dist c b)", "by (simp add: angle_def cos_vangle dist_norm)"], ["", "lemma inner_conv_angle: \"(a - b) \\<bullet> (c - b) = dist a b * dist c b * cos (angle a b c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a - b) \\<bullet> (c - b) = dist a b * dist c b * cos (angle a b c)", "by (simp add: cos_angle)"], ["", "lemma vangle_commute: \"vangle u v = vangle v u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vangle u v = vangle v u", "by (simp add: vangle_def inner_commute mult.commute)"], ["", "lemma angle_commute: \"angle a b c = angle c b a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. angle a b c = angle c b a", "by (simp add: angle_def vangle_commute)"], ["", "lemma vangle_nonneg: \"vangle u v \\<ge> 0\" and vangle_le_pi: \"vangle u v \\<le> pi\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> vangle u v &&& vangle u v \\<le> pi", "using Cauchy_Schwarz_ineq2[of u v]"], ["proof (prove)\nusing this:\n  \\<bar>u \\<bullet> v\\<bar> \\<le> norm u * norm v\n\ngoal (1 subgoal):\n 1. 0 \\<le> vangle u v &&& vangle u v \\<le> pi", "by (auto simp: vangle_def field_simps intro!: arccos_lbound arccos_ubound)"], ["", "lemmas vangle_bounds = vangle_nonneg vangle_le_pi"], ["", "lemma angle_nonneg: \"angle a b c \\<ge> 0\" and angle_le_pi: \"angle a b c \\<le> pi\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> angle a b c &&& angle a b c \\<le> pi", "using vangle_bounds"], ["proof (prove)\nusing this:\n  0 \\<le> vangle ?u ?v\n  vangle ?u ?v \\<le> pi\n\ngoal (1 subgoal):\n 1. 0 \\<le> angle a b c &&& angle a b c \\<le> pi", "unfolding angle_def"], ["proof (prove)\nusing this:\n  0 \\<le> vangle ?u ?v\n  vangle ?u ?v \\<le> pi\n\ngoal (1 subgoal):\n 1. 0 \\<le> vangle (a - b) (c - b) &&& vangle (a - b) (c - b) \\<le> pi", "by blast+"], ["", "lemmas angle_bounds = angle_nonneg angle_le_pi"], ["", "lemma sin_vangle_nonneg: \"sin (vangle u v) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> sin (vangle u v)", "using vangle_bounds"], ["proof (prove)\nusing this:\n  0 \\<le> vangle ?u ?v\n  vangle ?u ?v \\<le> pi\n\ngoal (1 subgoal):\n 1. 0 \\<le> sin (vangle u v)", "by (rule sin_ge_zero)"], ["", "lemma sin_angle_nonneg: \"sin (angle a b c) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> sin (angle a b c)", "using angle_bounds"], ["proof (prove)\nusing this:\n  0 \\<le> angle ?a ?b ?c\n  angle ?a ?b ?c \\<le> pi\n\ngoal (1 subgoal):\n 1. 0 \\<le> sin (angle a b c)", "by (rule sin_ge_zero)"], ["", "lemma vangle_eq_0D:\n  assumes \"vangle u v = 0\"\n  shows   \"norm u *\\<^sub>R v = norm v *\\<^sub>R u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm u *\\<^sub>R v = norm v *\\<^sub>R u", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. norm u *\\<^sub>R v = norm v *\\<^sub>R u", "from assms"], ["proof (chain)\npicking this:\n  vangle u v = 0", "have \"u \\<bullet> v = norm u * norm v\""], ["proof (prove)\nusing this:\n  vangle u v = 0\n\ngoal (1 subgoal):\n 1. u \\<bullet> v = norm u * norm v", "using arccos_eq_iff[of \"(u \\<bullet> v) / (norm u * norm v)\" 1] Cauchy_Schwarz_ineq2[of u v]"], ["proof (prove)\nusing this:\n  vangle u v = 0\n  \\<bar>u \\<bullet> v / (norm u * norm v)\\<bar> \\<le> 1 \\<and>\n  \\<bar>1\\<bar> \\<le> 1 \\<Longrightarrow>\n  (arccos (u \\<bullet> v / (norm u * norm v)) = arccos 1) =\n  (u \\<bullet> v / (norm u * norm v) = 1)\n  \\<bar>u \\<bullet> v\\<bar> \\<le> norm u * norm v\n\ngoal (1 subgoal):\n 1. u \\<bullet> v = norm u * norm v", "by (fastforce simp: vangle_def split: if_split_asm)"], ["proof (state)\nthis:\n  u \\<bullet> v = norm u * norm v\n\ngoal (1 subgoal):\n 1. norm u *\\<^sub>R v = norm v *\\<^sub>R u", "thus ?thesis"], ["proof (prove)\nusing this:\n  u \\<bullet> v = norm u * norm v\n\ngoal (1 subgoal):\n 1. norm u *\\<^sub>R v = norm v *\\<^sub>R u", "by (subst (asm) norm_cauchy_schwarz_eq) simp_all"], ["proof (state)\nthis:\n  norm u *\\<^sub>R v = norm v *\\<^sub>R u\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma vangle_eq_piD:\n  assumes \"vangle u v = pi\"\n  shows   \"norm u *\\<^sub>R v + norm v *\\<^sub>R u = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm u *\\<^sub>R v + norm v *\\<^sub>R u = (0::'a)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. norm u *\\<^sub>R v + norm v *\\<^sub>R u = (0::'a)", "from assms"], ["proof (chain)\npicking this:\n  vangle u v = pi", "have \"(-u) \\<bullet> v = norm (-u) * norm v\""], ["proof (prove)\nusing this:\n  vangle u v = pi\n\ngoal (1 subgoal):\n 1. - u \\<bullet> v = norm (- u) * norm v", "using arccos_eq_iff[of \"(u \\<bullet> v) / (norm u * norm v)\" \"-1\"] Cauchy_Schwarz_ineq2[of u v]"], ["proof (prove)\nusing this:\n  vangle u v = pi\n  \\<bar>u \\<bullet> v / (norm u * norm v)\\<bar> \\<le> 1 \\<and>\n  \\<bar>- 1\\<bar> \\<le> 1 \\<Longrightarrow>\n  (arccos (u \\<bullet> v / (norm u * norm v)) = arccos (- 1)) =\n  (u \\<bullet> v / (norm u * norm v) = - 1)\n  \\<bar>u \\<bullet> v\\<bar> \\<le> norm u * norm v\n\ngoal (1 subgoal):\n 1. - u \\<bullet> v = norm (- u) * norm v", "by (simp add: field_simps vangle_def split: if_split_asm)"], ["proof (state)\nthis:\n  - u \\<bullet> v = norm (- u) * norm v\n\ngoal (1 subgoal):\n 1. norm u *\\<^sub>R v + norm v *\\<^sub>R u = (0::'a)", "thus ?thesis"], ["proof (prove)\nusing this:\n  - u \\<bullet> v = norm (- u) * norm v\n\ngoal (1 subgoal):\n 1. norm u *\\<^sub>R v + norm v *\\<^sub>R u = (0::'a)", "by (subst (asm) norm_cauchy_schwarz_eq) simp_all"], ["proof (state)\nthis:\n  norm u *\\<^sub>R v + norm v *\\<^sub>R u = (0::'a)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma dist_triangle_eq:\n  fixes a b c :: \"'a :: real_inner\"\n  shows \"(dist a c = dist a b + dist b c) \\<longleftrightarrow> dist a b *\\<^sub>R (c - b) + dist b c *\\<^sub>R (a - b) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (dist a c = dist a b + dist b c) =\n    (dist a b *\\<^sub>R (c - b) + dist b c *\\<^sub>R (a - b) = (0::'a))", "using norm_triangle_eq[of \"b - a\" \"c - b\"]"], ["proof (prove)\nusing this:\n  (norm (b - a + (c - b)) = norm (b - a) + norm (c - b)) =\n  (norm (b - a) *\\<^sub>R (c - b) = norm (c - b) *\\<^sub>R (b - a))\n\ngoal (1 subgoal):\n 1. (dist a c = dist a b + dist b c) =\n    (dist a b *\\<^sub>R (c - b) + dist b c *\\<^sub>R (a - b) = (0::'a))", "by (simp add: dist_norm norm_minus_commute algebra_simps)"], ["", "lemma angle_eq_pi_imp_dist_additive:\n  assumes \"angle a b c = pi\"\n  shows   \"dist a c = dist a b + dist b c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist a c = dist a b + dist b c", "using vangle_eq_piD[OF assms[unfolded angle_def]]"], ["proof (prove)\nusing this:\n  norm (a - b) *\\<^sub>R (c - b) + norm (c - b) *\\<^sub>R (a - b) = (0::'a)\n\ngoal (1 subgoal):\n 1. dist a c = dist a b + dist b c", "by (subst dist_triangle_eq) (simp add: dist_norm norm_minus_commute)"], ["", "lemma orthogonal_iff_vangle: \"orthogonal u v \\<longleftrightarrow> vangle u v = pi / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. orthogonal u v = (vangle u v = pi / 2)", "using arccos_eq_iff[of \"u \\<bullet> v / (norm u * norm v)\" 0] Cauchy_Schwarz_ineq2[of u v]"], ["proof (prove)\nusing this:\n  \\<bar>u \\<bullet> v / (norm u * norm v)\\<bar> \\<le> 1 \\<and>\n  \\<bar>0\\<bar> \\<le> 1 \\<Longrightarrow>\n  (arccos (u \\<bullet> v / (norm u * norm v)) = arccos 0) =\n  (u \\<bullet> v / (norm u * norm v) = 0)\n  \\<bar>u \\<bullet> v\\<bar> \\<le> norm u * norm v\n\ngoal (1 subgoal):\n 1. orthogonal u v = (vangle u v = pi / 2)", "by (auto simp: vangle_def orthogonal_def)"], ["", "lemma cos_minus1_imp_pi:\n  assumes \"cos x = -1\" \"x \\<ge> 0\" \"x < 3 * pi\"\n  shows   \"x = pi\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = pi", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x = pi", "have \"cos (x - pi) = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cos (x - pi) = 1", "by (simp add: assms)"], ["proof (state)\nthis:\n  cos (x - pi) = 1\n\ngoal (1 subgoal):\n 1. x = pi", "then"], ["proof (chain)\npicking this:\n  cos (x - pi) = 1", "obtain n :: int where n: \"of_int n = (x / pi - 1) / 2\""], ["proof (prove)\nusing this:\n  cos (x - pi) = 1\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        real_of_int n = (x / pi - 1) / 2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (subst (asm) cos_one_2pi_int) (auto simp: field_simps)"], ["proof (state)\nthis:\n  real_of_int n = (x / pi - 1) / 2\n\ngoal (1 subgoal):\n 1. x = pi", "also"], ["proof (state)\nthis:\n  real_of_int n = (x / pi - 1) / 2\n\ngoal (1 subgoal):\n 1. x = pi", "from assms"], ["proof (chain)\npicking this:\n  cos x = - 1\n  0 \\<le> x\n  x < 3 * pi", "have \"\\<dots> \\<in> {-1<..<1}\""], ["proof (prove)\nusing this:\n  cos x = - 1\n  0 \\<le> x\n  x < 3 * pi\n\ngoal (1 subgoal):\n 1. (x / pi - 1) / 2 \\<in> {- 1<..<1}", "by (auto simp: field_simps)"], ["proof (state)\nthis:\n  (x / pi - 1) / 2 \\<in> {- 1<..<1}\n\ngoal (1 subgoal):\n 1. x = pi", "finally"], ["proof (chain)\npicking this:\n  real_of_int n \\<in> {- 1<..<1}", "have \"n = 0\""], ["proof (prove)\nusing this:\n  real_of_int n \\<in> {- 1<..<1}\n\ngoal (1 subgoal):\n 1. n = 0", "by simp"], ["proof (state)\nthis:\n  n = 0\n\ngoal (1 subgoal):\n 1. x = pi", "with n"], ["proof (chain)\npicking this:\n  real_of_int n = (x / pi - 1) / 2\n  n = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int n = (x / pi - 1) / 2\n  n = 0\n\ngoal (1 subgoal):\n 1. x = pi", "by simp"], ["proof (state)\nthis:\n  x = pi\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma vangle_eqI:\n  assumes \"u \\<noteq> 0\" \"v \\<noteq> 0\" \"w \\<noteq> 0\" \"x \\<noteq> 0\"\n  assumes \"(u \\<bullet> v) * norm w * norm x = (w \\<bullet> x) * norm u * norm v\"\n  shows   \"vangle u v = vangle w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vangle u v = vangle w x", "using assms Cauchy_Schwarz_ineq2[of u v] Cauchy_Schwarz_ineq2[of w x]"], ["proof (prove)\nusing this:\n  u \\<noteq> (0::'a)\n  v \\<noteq> (0::'a)\n  w \\<noteq> (0::'b)\n  x \\<noteq> (0::'b)\n  u \\<bullet> v * norm w * norm x = w \\<bullet> x * norm u * norm v\n  \\<bar>u \\<bullet> v\\<bar> \\<le> norm u * norm v\n  \\<bar>w \\<bullet> x\\<bar> \\<le> norm w * norm x\n\ngoal (1 subgoal):\n 1. vangle u v = vangle w x", "unfolding vangle_def"], ["proof (prove)\nusing this:\n  u \\<noteq> (0::'a)\n  v \\<noteq> (0::'a)\n  w \\<noteq> (0::'b)\n  x \\<noteq> (0::'b)\n  u \\<bullet> v * norm w * norm x = w \\<bullet> x * norm u * norm v\n  \\<bar>u \\<bullet> v\\<bar> \\<le> norm u * norm v\n  \\<bar>w \\<bullet> x\\<bar> \\<le> norm w * norm x\n\ngoal (1 subgoal):\n 1. (if u = (0::'a) \\<or> v = (0::'a) then pi / 2\n     else arccos (u \\<bullet> v / (norm u * norm v))) =\n    (if w = (0::'b) \\<or> x = (0::'b) then pi / 2\n     else arccos (w \\<bullet> x / (norm w * norm x)))", "by (auto simp: arccos_eq_iff field_simps)"], ["", "lemma angle_eqI:\n  assumes \"a \\<noteq> b\" \"a \\<noteq> c\" \"d \\<noteq> e\" \"d \\<noteq> f\"\n  assumes \"((b-a) \\<bullet> (c-a)) * dist d e * dist d f = ((e-d) \\<bullet> (f-d)) * dist a b * dist a c\"\n  shows   \"angle b a c = angle e d f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. angle b a c = angle e d f", "using assms"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  a \\<noteq> c\n  d \\<noteq> e\n  d \\<noteq> f\n  (b - a) \\<bullet> (c - a) * dist d e * dist d f =\n  (e - d) \\<bullet> (f - d) * dist a b * dist a c\n\ngoal (1 subgoal):\n 1. angle b a c = angle e d f", "unfolding angle_def"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  a \\<noteq> c\n  d \\<noteq> e\n  d \\<noteq> f\n  (b - a) \\<bullet> (c - a) * dist d e * dist d f =\n  (e - d) \\<bullet> (f - d) * dist a b * dist a c\n\ngoal (1 subgoal):\n 1. vangle (b - a) (c - a) = vangle (e - d) (f - d)", "by (intro vangle_eqI) (simp_all add: dist_norm norm_minus_commute)"], ["", "lemma cos_vangle_eqD: \"cos (vangle u v) = cos (vangle w x) \\<Longrightarrow> vangle u v = vangle w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cos (vangle u v) = cos (vangle w x) \\<Longrightarrow>\n    vangle u v = vangle w x", "by (rule cos_inj_pi) (simp_all add: vangle_bounds)"], ["", "lemma cos_angle_eqD: \"cos (angle a b c) = cos (angle d e f) \\<Longrightarrow> angle a b c = angle d e f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cos (angle a b c) = cos (angle d e f) \\<Longrightarrow>\n    angle a b c = angle d e f", "unfolding angle_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. cos (vangle (a - b) (c - b)) =\n    cos (vangle (d - e) (f - e)) \\<Longrightarrow>\n    vangle (a - b) (c - b) = vangle (d - e) (f - e)", "by (rule cos_vangle_eqD)"], ["", "lemma sin_vangle_zero_iff: \"sin (vangle u v) = 0 \\<longleftrightarrow> vangle u v \\<in> {0, pi}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (sin (vangle u v) = 0) = (vangle u v \\<in> {0, pi})", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. sin (vangle u v) = 0 \\<Longrightarrow> vangle u v \\<in> {0, pi}\n 2. vangle u v \\<in> {0, pi} \\<Longrightarrow> sin (vangle u v) = 0", "assume \"sin (vangle u v) = 0\""], ["proof (state)\nthis:\n  sin (vangle u v) = 0\n\ngoal (2 subgoals):\n 1. sin (vangle u v) = 0 \\<Longrightarrow> vangle u v \\<in> {0, pi}\n 2. vangle u v \\<in> {0, pi} \\<Longrightarrow> sin (vangle u v) = 0", "then"], ["proof (chain)\npicking this:\n  sin (vangle u v) = 0", "obtain n :: int where n: \"of_int n = vangle u v / pi\""], ["proof (prove)\nusing this:\n  sin (vangle u v) = 0\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        real_of_int n = vangle u v / pi \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (subst (asm) sin_zero_iff_int2) auto"], ["proof (state)\nthis:\n  real_of_int n = vangle u v / pi\n\ngoal (2 subgoals):\n 1. sin (vangle u v) = 0 \\<Longrightarrow> vangle u v \\<in> {0, pi}\n 2. vangle u v \\<in> {0, pi} \\<Longrightarrow> sin (vangle u v) = 0", "also"], ["proof (state)\nthis:\n  real_of_int n = vangle u v / pi\n\ngoal (2 subgoals):\n 1. sin (vangle u v) = 0 \\<Longrightarrow> vangle u v \\<in> {0, pi}\n 2. vangle u v \\<in> {0, pi} \\<Longrightarrow> sin (vangle u v) = 0", "have \"\\<dots> \\<in> {0..1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vangle u v / pi \\<in> {0..1}", "using vangle_bounds"], ["proof (prove)\nusing this:\n  0 \\<le> vangle ?u ?v\n  vangle ?u ?v \\<le> pi\n\ngoal (1 subgoal):\n 1. vangle u v / pi \\<in> {0..1}", "by (auto simp: field_simps)"], ["proof (state)\nthis:\n  vangle u v / pi \\<in> {0..1}\n\ngoal (2 subgoals):\n 1. sin (vangle u v) = 0 \\<Longrightarrow> vangle u v \\<in> {0, pi}\n 2. vangle u v \\<in> {0, pi} \\<Longrightarrow> sin (vangle u v) = 0", "finally"], ["proof (chain)\npicking this:\n  real_of_int n \\<in> {0..1}", "have \"n \\<in> {0,1}\""], ["proof (prove)\nusing this:\n  real_of_int n \\<in> {0..1}\n\ngoal (1 subgoal):\n 1. n \\<in> {0, 1}", "by auto"], ["proof (state)\nthis:\n  n \\<in> {0, 1}\n\ngoal (2 subgoals):\n 1. sin (vangle u v) = 0 \\<Longrightarrow> vangle u v \\<in> {0, pi}\n 2. vangle u v \\<in> {0, pi} \\<Longrightarrow> sin (vangle u v) = 0", "thus \"vangle u v \\<in> {0,pi}\""], ["proof (prove)\nusing this:\n  n \\<in> {0, 1}\n\ngoal (1 subgoal):\n 1. vangle u v \\<in> {0, pi}", "using n"], ["proof (prove)\nusing this:\n  n \\<in> {0, 1}\n  real_of_int n = vangle u v / pi\n\ngoal (1 subgoal):\n 1. vangle u v \\<in> {0, pi}", "by (auto simp: field_simps)"], ["proof (state)\nthis:\n  vangle u v \\<in> {0, pi}\n\ngoal (1 subgoal):\n 1. vangle u v \\<in> {0, pi} \\<Longrightarrow> sin (vangle u v) = 0", "qed auto"], ["", "lemma sin_angle_zero_iff: \"sin (angle a b c) = 0 \\<longleftrightarrow> angle a b c \\<in> {0, pi}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (sin (angle a b c) = 0) = (angle a b c \\<in> {0, pi})", "unfolding angle_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (sin (vangle (a - b) (c - b)) = 0) =\n    (vangle (a - b) (c - b) \\<in> {0, pi})", "by (simp only: sin_vangle_zero_iff)"], ["", "lemma vangle_collinear: \"vangle u v \\<in> {0, pi} \\<Longrightarrow> collinear {0, u, v}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vangle u v \\<in> {0, pi} \\<Longrightarrow> collinear {0::'a, u, v}", "apply (subst norm_cauchy_schwarz_equal [symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. vangle u v \\<in> {0, pi} \\<Longrightarrow>\n    \\<bar>u \\<bullet> v\\<bar> = norm u * norm v", "apply (subst norm_cauchy_schwarz_abs_eq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. vangle u v \\<in> {0, pi} \\<Longrightarrow>\n    norm u *\\<^sub>R v = norm v *\\<^sub>R u \\<or>\n    norm u *\\<^sub>R v = - norm v *\\<^sub>R u", "apply (auto dest!: vangle_eq_0D vangle_eq_piD simp: eq_neg_iff_add_eq_0)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma angle_collinear: \"angle a b c \\<in> {0, pi} \\<Longrightarrow> collinear {a, b, c}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. angle a b c \\<in> {0, pi} \\<Longrightarrow> collinear {a, b, c}", "apply (unfold angle_def, drule vangle_collinear)"], ["proof (prove)\ngoal (1 subgoal):\n 1. collinear {0::'a, a - b, c - b} \\<Longrightarrow> collinear {a, b, c}", "apply (subst collinear_translate_iff[symmetric, of _ \"-b\"])"], ["proof (prove)\ngoal (1 subgoal):\n 1. collinear {0::'a, a - b, c - b} \\<Longrightarrow>\n    collinear ((+) (- b) ` {a, b, c})", "apply (auto simp: insert_commute)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma not_collinear_vangle: \"\\<not>collinear {0,u,v} \\<Longrightarrow> vangle u v \\<in> {0<..<pi}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> collinear {0::'a, u, v} \\<Longrightarrow>\n    vangle u v \\<in> {0<..<pi}", "using vangle_bounds[of u v] vangle_collinear[of u v]"], ["proof (prove)\nusing this:\n  0 \\<le> vangle u v\n  vangle u v \\<le> pi\n  vangle u v \\<in> {0, pi} \\<Longrightarrow> collinear {0::'a, u, v}\n\ngoal (1 subgoal):\n 1. \\<not> collinear {0::'a, u, v} \\<Longrightarrow>\n    vangle u v \\<in> {0<..<pi}", "by (cases \"vangle u v = 0 \\<or> vangle u v = pi\") auto"], ["", "lemma not_collinear_angle: \"\\<not>collinear {a,b,c} \\<Longrightarrow> angle a b c \\<in> {0<..<pi}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> collinear {a, b, c} \\<Longrightarrow> angle a b c \\<in> {0<..<pi}", "using angle_bounds[of a b c] angle_collinear[of a b c]"], ["proof (prove)\nusing this:\n  0 \\<le> angle a b c\n  angle a b c \\<le> pi\n  angle a b c \\<in> {0, pi} \\<Longrightarrow> collinear {a, b, c}\n\ngoal (1 subgoal):\n 1. \\<not> collinear {a, b, c} \\<Longrightarrow> angle a b c \\<in> {0<..<pi}", "by (cases \"angle a b c = 0 \\<or> angle a b c = pi\") auto"], ["", "subsection\\<open>Contributions from Lukas Bulwahn\\<close>"], ["", "lemma vangle_scales:\n  assumes \"0 < c\"\n  shows \"vangle (c *\\<^sub>R v\\<^sub>1) v\\<^sub>2 = vangle v\\<^sub>1 v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vangle (c *\\<^sub>R v\\<^sub>1) v\\<^sub>2 = vangle v\\<^sub>1 v\\<^sub>2", "using assms"], ["proof (prove)\nusing this:\n  0 < c\n\ngoal (1 subgoal):\n 1. vangle (c *\\<^sub>R v\\<^sub>1) v\\<^sub>2 = vangle v\\<^sub>1 v\\<^sub>2", "unfolding vangle_def"], ["proof (prove)\nusing this:\n  0 < c\n\ngoal (1 subgoal):\n 1. (if c *\\<^sub>R v\\<^sub>1 = (0::'a) \\<or> v\\<^sub>2 = (0::'a)\n     then pi / 2\n     else arccos\n           (c *\\<^sub>R v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n            (norm (c *\\<^sub>R v\\<^sub>1) * norm v\\<^sub>2))) =\n    (if v\\<^sub>1 = (0::'a) \\<or> v\\<^sub>2 = (0::'a) then pi / 2\n     else arccos\n           (v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n            (norm v\\<^sub>1 * norm v\\<^sub>2)))", "by auto"], ["", "lemma vangle_inverse:\n  \"vangle (- v\\<^sub>1) v\\<^sub>2 = pi - vangle v\\<^sub>1 v\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vangle (- v\\<^sub>1) v\\<^sub>2 = pi - vangle v\\<^sub>1 v\\<^sub>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. vangle (- v\\<^sub>1) v\\<^sub>2 = pi - vangle v\\<^sub>1 v\\<^sub>2", "have \"\\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 / (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar> \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n          (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n    \\<le> 1", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n          (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n    \\<le> 1\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n          (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n    \\<le> 1", "assume \"v\\<^sub>1 \\<noteq> 0 \\<and> v\\<^sub>2 \\<noteq> 0\""], ["proof (state)\nthis:\n  v\\<^sub>1 \\<noteq> (0::'a) \\<and> v\\<^sub>2 \\<noteq> (0::'a)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n          (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n    \\<le> 1\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n          (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n    \\<le> 1", "from this"], ["proof (chain)\npicking this:\n  v\\<^sub>1 \\<noteq> (0::'a) \\<and> v\\<^sub>2 \\<noteq> (0::'a)", "show ?thesis"], ["proof (prove)\nusing this:\n  v\\<^sub>1 \\<noteq> (0::'a) \\<and> v\\<^sub>2 \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n          (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n    \\<le> 1", "by (simp add: Cauchy_Schwarz_ineq2)"], ["proof (state)\nthis:\n  \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n        (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n  \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<not> (v\\<^sub>1 \\<noteq> (0::'a) \\<and>\n            v\\<^sub>2 \\<noteq> (0::'a)) \\<Longrightarrow>\n    \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n          (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n    \\<le> 1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (v\\<^sub>1 \\<noteq> (0::'a) \\<and>\n            v\\<^sub>2 \\<noteq> (0::'a)) \\<Longrightarrow>\n    \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n          (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n    \\<le> 1", "assume \"\\<not> (v\\<^sub>1 \\<noteq> 0 \\<and> v\\<^sub>2 \\<noteq> 0)\""], ["proof (state)\nthis:\n  \\<not> (v\\<^sub>1 \\<noteq> (0::'a) \\<and> v\\<^sub>2 \\<noteq> (0::'a))\n\ngoal (1 subgoal):\n 1. \\<not> (v\\<^sub>1 \\<noteq> (0::'a) \\<and>\n            v\\<^sub>2 \\<noteq> (0::'a)) \\<Longrightarrow>\n    \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n          (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n    \\<le> 1", "from this"], ["proof (chain)\npicking this:\n  \\<not> (v\\<^sub>1 \\<noteq> (0::'a) \\<and> v\\<^sub>2 \\<noteq> (0::'a))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> (v\\<^sub>1 \\<noteq> (0::'a) \\<and> v\\<^sub>2 \\<noteq> (0::'a))\n\ngoal (1 subgoal):\n 1. \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n          (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n    \\<le> 1", "by auto"], ["proof (state)\nthis:\n  \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n        (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n  \\<le> 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n        (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n  \\<le> 1\n\ngoal (1 subgoal):\n 1. vangle (- v\\<^sub>1) v\\<^sub>2 = pi - vangle v\\<^sub>1 v\\<^sub>2", "from this"], ["proof (chain)\npicking this:\n  \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n        (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n  \\<le> 1", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n        (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n  \\<le> 1\n\ngoal (1 subgoal):\n 1. vangle (- v\\<^sub>1) v\\<^sub>2 = pi - vangle v\\<^sub>1 v\\<^sub>2", "unfolding vangle_def"], ["proof (prove)\nusing this:\n  \\<bar>v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n        (norm v\\<^sub>1 * norm v\\<^sub>2)\\<bar>\n  \\<le> 1\n\ngoal (1 subgoal):\n 1. (if - v\\<^sub>1 = (0::'a) \\<or> v\\<^sub>2 = (0::'a) then pi / 2\n     else arccos\n           (- v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n            (norm (- v\\<^sub>1) * norm v\\<^sub>2))) =\n    pi -\n    (if v\\<^sub>1 = (0::'a) \\<or> v\\<^sub>2 = (0::'a) then pi / 2\n     else arccos\n           (v\\<^sub>1 \\<bullet> v\\<^sub>2 /\n            (norm v\\<^sub>1 * norm v\\<^sub>2)))", "by (simp add: arccos_minus_abs)"], ["proof (state)\nthis:\n  vangle (- v\\<^sub>1) v\\<^sub>2 = pi - vangle v\\<^sub>1 v\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma orthogonal_iff_angle:\n  shows \"orthogonal (A - B) (C - B) \\<longleftrightarrow> angle A B C = pi / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. orthogonal (A - B) (C - B) = (angle A B C = pi / 2)", "unfolding angle_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. orthogonal (A - B) (C - B) = (vangle (A - B) (C - B) = pi / 2)", "by (auto simp only: orthogonal_iff_vangle)"], ["", "lemma angle_inverse:\n  assumes \"between (A, C) B\"\n  assumes \"A \\<noteq> B\" \"B \\<noteq> C\"\n  shows \"angle A B D = pi - angle C B D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. angle A B D = pi - angle C B D", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. angle A B D = pi - angle C B D", "from \\<open>between (A, C) B\\<close>"], ["proof (chain)\npicking this:\n  between (A, C) B", "obtain u where u: \"u \\<ge> 0\" \"u \\<le> 1\"\n    and X: \"B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C\""], ["proof (prove)\nusing this:\n  between (A, C) B\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>0 \\<le> u; u \\<le> 1;\n         B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis add.commute betweenE between_commute)"], ["proof (state)\nthis:\n  0 \\<le> u\n  u \\<le> 1\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C\n\ngoal (1 subgoal):\n 1. angle A B D = pi - angle C B D", "from \\<open>A \\<noteq> B\\<close> \\<open>B \\<noteq> C\\<close> X"], ["proof (chain)\npicking this:\n  A \\<noteq> B\n  B \\<noteq> C\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C", "have \"u \\<noteq> 0\" \"u \\<noteq> 1\""], ["proof (prove)\nusing this:\n  A \\<noteq> B\n  B \\<noteq> C\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C\n\ngoal (1 subgoal):\n 1. u \\<noteq> 0 &&& u \\<noteq> 1", "by auto"], ["proof (state)\nthis:\n  u \\<noteq> 0\n  u \\<noteq> 1\n\ngoal (1 subgoal):\n 1. angle A B D = pi - angle C B D", "have \"0 < ((1 - u) / u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (1 - u) / u", "using \\<open>u \\<noteq> 0\\<close> \\<open>u \\<noteq> 1\\<close> \\<open>u \\<ge> 0\\<close> \\<open>u \\<le> 1\\<close>"], ["proof (prove)\nusing this:\n  u \\<noteq> 0\n  u \\<noteq> 1\n  0 \\<le> u\n  u \\<le> 1\n\ngoal (1 subgoal):\n 1. 0 < (1 - u) / u", "by simp"], ["proof (state)\nthis:\n  0 < (1 - u) / u\n\ngoal (1 subgoal):\n 1. angle A B D = pi - angle C B D", "from X"], ["proof (chain)\npicking this:\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C", "have \"A - B = - (1 - u) *\\<^sub>R (C - A)\""], ["proof (prove)\nusing this:\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C\n\ngoal (1 subgoal):\n 1. A - B = - (1 - u) *\\<^sub>R (C - A)", "by (simp add: real_vector.scale_right_diff_distrib real_vector.scale_left_diff_distrib)"], ["proof (state)\nthis:\n  A - B = - (1 - u) *\\<^sub>R (C - A)\n\ngoal (1 subgoal):\n 1. angle A B D = pi - angle C B D", "moreover"], ["proof (state)\nthis:\n  A - B = - (1 - u) *\\<^sub>R (C - A)\n\ngoal (1 subgoal):\n 1. angle A B D = pi - angle C B D", "from X"], ["proof (chain)\npicking this:\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C", "have \"C - B = u *\\<^sub>R (C - A)\""], ["proof (prove)\nusing this:\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C\n\ngoal (1 subgoal):\n 1. C - B = u *\\<^sub>R (C - A)", "by (simp add: scaleR_diff_left real_vector.scale_right_diff_distrib)"], ["proof (state)\nthis:\n  C - B = u *\\<^sub>R (C - A)\n\ngoal (1 subgoal):\n 1. angle A B D = pi - angle C B D", "ultimately"], ["proof (chain)\npicking this:\n  A - B = - (1 - u) *\\<^sub>R (C - A)\n  C - B = u *\\<^sub>R (C - A)", "have \"A - B = - (((1 - u) / u) *\\<^sub>R (C - B))\""], ["proof (prove)\nusing this:\n  A - B = - (1 - u) *\\<^sub>R (C - A)\n  C - B = u *\\<^sub>R (C - A)\n\ngoal (1 subgoal):\n 1. A - B = - (((1 - u) / u) *\\<^sub>R (C - B))", "using \\<open>u \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  A - B = - (1 - u) *\\<^sub>R (C - A)\n  C - B = u *\\<^sub>R (C - A)\n  u \\<noteq> 0\n\ngoal (1 subgoal):\n 1. A - B = - (((1 - u) / u) *\\<^sub>R (C - B))", "by simp (metis minus_diff_eq real_vector.scale_minus_left)"], ["proof (state)\nthis:\n  A - B = - (((1 - u) / u) *\\<^sub>R (C - B))\n\ngoal (1 subgoal):\n 1. angle A B D = pi - angle C B D", "from this"], ["proof (chain)\npicking this:\n  A - B = - (((1 - u) / u) *\\<^sub>R (C - B))", "have \"vangle (A - B) (D - B) = pi - vangle (C - B) (D - B)\""], ["proof (prove)\nusing this:\n  A - B = - (((1 - u) / u) *\\<^sub>R (C - B))\n\ngoal (1 subgoal):\n 1. vangle (A - B) (D - B) = pi - vangle (C - B) (D - B)", "using \\<open>0 < (1 - u) / u\\<close>"], ["proof (prove)\nusing this:\n  A - B = - (((1 - u) / u) *\\<^sub>R (C - B))\n  0 < (1 - u) / u\n\ngoal (1 subgoal):\n 1. vangle (A - B) (D - B) = pi - vangle (C - B) (D - B)", "by (simp add: vangle_inverse vangle_scales)"], ["proof (state)\nthis:\n  vangle (A - B) (D - B) = pi - vangle (C - B) (D - B)\n\ngoal (1 subgoal):\n 1. angle A B D = pi - angle C B D", "from this"], ["proof (chain)\npicking this:\n  vangle (A - B) (D - B) = pi - vangle (C - B) (D - B)", "show ?thesis"], ["proof (prove)\nusing this:\n  vangle (A - B) (D - B) = pi - vangle (C - B) (D - B)\n\ngoal (1 subgoal):\n 1. angle A B D = pi - angle C B D", "unfolding angle_def"], ["proof (prove)\nusing this:\n  vangle (A - B) (D - B) = pi - vangle (C - B) (D - B)\n\ngoal (1 subgoal):\n 1. vangle (A - B) (D - B) = pi - vangle (C - B) (D - B)", "by simp"], ["proof (state)\nthis:\n  angle A B D = pi - angle C B D\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma strictly_between_implies_angle_eq_pi:\n  assumes \"between (A, C) B\"\n  assumes \"A \\<noteq> B\" \"B \\<noteq> C\"\n  shows \"angle A B C = pi\""], ["proof (prove)\ngoal (1 subgoal):\n 1. angle A B C = pi", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. angle A B C = pi", "from \\<open>between (A, C) B\\<close>"], ["proof (chain)\npicking this:\n  between (A, C) B", "obtain u where u: \"u \\<ge> 0\" \"u \\<le> 1\"\n    and X: \"B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C\""], ["proof (prove)\nusing this:\n  between (A, C) B\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>0 \\<le> u; u \\<le> 1;\n         B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis add.commute betweenE between_commute)"], ["proof (state)\nthis:\n  0 \\<le> u\n  u \\<le> 1\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "from \\<open>A \\<noteq> B\\<close> \\<open>B \\<noteq> C\\<close> X"], ["proof (chain)\npicking this:\n  A \\<noteq> B\n  B \\<noteq> C\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C", "have \"u \\<noteq> 0\" \"u \\<noteq> 1\""], ["proof (prove)\nusing this:\n  A \\<noteq> B\n  B \\<noteq> C\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C\n\ngoal (1 subgoal):\n 1. u \\<noteq> 0 &&& u \\<noteq> 1", "by auto"], ["proof (state)\nthis:\n  u \\<noteq> 0\n  u \\<noteq> 1\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "from \\<open>A \\<noteq> B\\<close> \\<open>B \\<noteq> C\\<close> \\<open>between (A, C) B\\<close>"], ["proof (chain)\npicking this:\n  A \\<noteq> B\n  B \\<noteq> C\n  between (A, C) B", "have \"A \\<noteq> C\""], ["proof (prove)\nusing this:\n  A \\<noteq> B\n  B \\<noteq> C\n  between (A, C) B\n\ngoal (1 subgoal):\n 1. A \\<noteq> C", "by auto"], ["proof (state)\nthis:\n  A \\<noteq> C\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "from X"], ["proof (chain)\npicking this:\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C", "have \"A - B = - (1 - u) *\\<^sub>R (C - A)\""], ["proof (prove)\nusing this:\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C\n\ngoal (1 subgoal):\n 1. A - B = - (1 - u) *\\<^sub>R (C - A)", "by (simp add: real_vector.scale_right_diff_distrib real_vector.scale_left_diff_distrib)"], ["proof (state)\nthis:\n  A - B = - (1 - u) *\\<^sub>R (C - A)\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "moreover"], ["proof (state)\nthis:\n  A - B = - (1 - u) *\\<^sub>R (C - A)\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "from this"], ["proof (chain)\npicking this:\n  A - B = - (1 - u) *\\<^sub>R (C - A)", "have \"dist A B = norm ((1 - u) *\\<^sub>R (C - A))\""], ["proof (prove)\nusing this:\n  A - B = - (1 - u) *\\<^sub>R (C - A)\n\ngoal (1 subgoal):\n 1. dist A B = norm ((1 - u) *\\<^sub>R (C - A))", "using \\<open>u \\<ge> 0\\<close> \\<open>u \\<le> 1\\<close>"], ["proof (prove)\nusing this:\n  A - B = - (1 - u) *\\<^sub>R (C - A)\n  0 \\<le> u\n  u \\<le> 1\n\ngoal (1 subgoal):\n 1. dist A B = norm ((1 - u) *\\<^sub>R (C - A))", "by (simp add: dist_norm)"], ["proof (state)\nthis:\n  dist A B = norm ((1 - u) *\\<^sub>R (C - A))\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "moreover"], ["proof (state)\nthis:\n  dist A B = norm ((1 - u) *\\<^sub>R (C - A))\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "from X"], ["proof (chain)\npicking this:\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C", "have \"C - B = u *\\<^sub>R (C - A)\""], ["proof (prove)\nusing this:\n  B = u *\\<^sub>R A + (1 - u) *\\<^sub>R C\n\ngoal (1 subgoal):\n 1. C - B = u *\\<^sub>R (C - A)", "by (simp add: scaleR_diff_left real_vector.scale_right_diff_distrib)"], ["proof (state)\nthis:\n  C - B = u *\\<^sub>R (C - A)\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "moreover"], ["proof (state)\nthis:\n  C - B = u *\\<^sub>R (C - A)\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "from this"], ["proof (chain)\npicking this:\n  C - B = u *\\<^sub>R (C - A)", "have \"dist C B = norm (u *\\<^sub>R (C - A))\""], ["proof (prove)\nusing this:\n  C - B = u *\\<^sub>R (C - A)\n\ngoal (1 subgoal):\n 1. dist C B = norm (u *\\<^sub>R (C - A))", "by (simp add: dist_norm)"], ["proof (state)\nthis:\n  dist C B = norm (u *\\<^sub>R (C - A))\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "ultimately"], ["proof (chain)\npicking this:\n  A - B = - (1 - u) *\\<^sub>R (C - A)\n  dist A B = norm ((1 - u) *\\<^sub>R (C - A))\n  C - B = u *\\<^sub>R (C - A)\n  dist C B = norm (u *\\<^sub>R (C - A))", "have \"(A - B) \\<bullet> (C - B) / (dist A B * dist C B) = u * (u - 1) / (\\<bar>1 - u\\<bar> * \\<bar>u\\<bar>)\""], ["proof (prove)\nusing this:\n  A - B = - (1 - u) *\\<^sub>R (C - A)\n  dist A B = norm ((1 - u) *\\<^sub>R (C - A))\n  C - B = u *\\<^sub>R (C - A)\n  dist C B = norm (u *\\<^sub>R (C - A))\n\ngoal (1 subgoal):\n 1. (A - B) \\<bullet> (C - B) / (dist A B * dist C B) =\n    u * (u - 1) / (\\<bar>1 - u\\<bar> * \\<bar>u\\<bar>)", "using \\<open>A \\<noteq> C\\<close>"], ["proof (prove)\nusing this:\n  A - B = - (1 - u) *\\<^sub>R (C - A)\n  dist A B = norm ((1 - u) *\\<^sub>R (C - A))\n  C - B = u *\\<^sub>R (C - A)\n  dist C B = norm (u *\\<^sub>R (C - A))\n  A \\<noteq> C\n\ngoal (1 subgoal):\n 1. (A - B) \\<bullet> (C - B) / (dist A B * dist C B) =\n    u * (u - 1) / (\\<bar>1 - u\\<bar> * \\<bar>u\\<bar>)", "by (simp add: dot_square_norm power2_eq_square)"], ["proof (state)\nthis:\n  (A - B) \\<bullet> (C - B) / (dist A B * dist C B) =\n  u * (u - 1) / (\\<bar>1 - u\\<bar> * \\<bar>u\\<bar>)\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "also"], ["proof (state)\nthis:\n  (A - B) \\<bullet> (C - B) / (dist A B * dist C B) =\n  u * (u - 1) / (\\<bar>1 - u\\<bar> * \\<bar>u\\<bar>)\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "have \"\\<dots> = - 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u * (u - 1) / (\\<bar>1 - u\\<bar> * \\<bar>u\\<bar>) = - 1", "using \\<open>u \\<noteq> 0\\<close> \\<open>u \\<noteq> 1\\<close> \\<open>u \\<ge> 0\\<close> \\<open>u \\<le> 1\\<close>"], ["proof (prove)\nusing this:\n  u \\<noteq> 0\n  u \\<noteq> 1\n  0 \\<le> u\n  u \\<le> 1\n\ngoal (1 subgoal):\n 1. u * (u - 1) / (\\<bar>1 - u\\<bar> * \\<bar>u\\<bar>) = - 1", "by (simp add: divide_eq_minus_1_iff)"], ["proof (state)\nthis:\n  u * (u - 1) / (\\<bar>1 - u\\<bar> * \\<bar>u\\<bar>) = - 1\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "finally"], ["proof (chain)\npicking this:\n  (A - B) \\<bullet> (C - B) / (dist A B * dist C B) = - 1", "show ?thesis"], ["proof (prove)\nusing this:\n  (A - B) \\<bullet> (C - B) / (dist A B * dist C B) = - 1\n\ngoal (1 subgoal):\n 1. angle A B C = pi", "unfolding angle_altdef"], ["proof (prove)\nusing this:\n  (A - B) \\<bullet> (C - B) / (dist A B * dist C B) = - 1\n\ngoal (1 subgoal):\n 1. arccos ((A - B) \\<bullet> (C - B) / (dist A B * dist C B)) = pi", "by simp"], ["proof (state)\nthis:\n  angle A B C = pi\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}