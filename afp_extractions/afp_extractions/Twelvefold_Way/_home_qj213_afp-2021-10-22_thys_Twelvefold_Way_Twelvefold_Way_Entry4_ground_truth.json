{"file_name": "/home/qj213/afp-2021-10-22/thys/Twelvefold_Way/Twelvefold_Way_Entry4.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Twelvefold_Way", "problem_names": ["lemma msubset_of:\n  assumes \"F \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\"\n  shows \"size (msubset_of A F) = card A\"\n  and \"set_mset (msubset_of A F) \\<subseteq> B\"", "lemma functions_of:\n  assumes \"finite A\"\n  assumes \"set_mset M \\<subseteq> B\"\n  assumes \"size M = card A\"\n  shows \"functions_of A M \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\"", "lemma functions_of_msubset_of:\n  assumes \"finite A\"\n  assumes \"F \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\"\n  shows \"functions_of A (msubset_of A F) = F\"", "lemma msubset_of_functions_of:\n  assumes \"set_mset M \\<subseteq> B\" \"size M = card A\" \"finite A\"\n  shows \"msubset_of A (functions_of A M) = M\"", "lemma bij_betw_msubset_of:\n  assumes \"finite A\"\n  shows \"bij_betw (msubset_of A) ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) {M. set_mset M \\<subseteq> B \\<and> size M = card A}\"", "lemma\n  assumes \"finite A\" \"finite B\"\n  shows \"card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) = card B + card A - 1 choose card A\""], "translations": [["", "lemma msubset_of:\n  assumes \"F \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\"\n  shows \"size (msubset_of A F) = card A\"\n  and \"set_mset (msubset_of A F) \\<subseteq> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size (msubset_of A F) = card A &&&\n    set_mset (msubset_of A F) \\<subseteq> B", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. size (msubset_of A F) = card A\n 2. set_mset (msubset_of A F) \\<subseteq> B", "from \\<open>F \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\\<close>"], ["proof (chain)\npicking this:\n  F \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "obtain f where \"f \\<in> A \\<rightarrow>\\<^sub>E B\"\n    and F_eq: \"F = domain_permutation A B `` {f}\""], ["proof (prove)\nusing this:\n  F \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> A \\<rightarrow>\\<^sub>E B;\n         F = domain_permutation A B `` {f}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using quotientE"], ["proof (prove)\nusing this:\n  F \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n  \\<lbrakk>?X \\<in> ?A // ?r;\n   \\<And>x.\n      \\<lbrakk>?X = ?r `` {x}; x \\<in> ?A\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> A \\<rightarrow>\\<^sub>E B;\n         F = domain_permutation A B `` {f}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n  F = domain_permutation A B `` {f}\n\ngoal (2 subgoals):\n 1. size (msubset_of A F) = card A\n 2. set_mset (msubset_of A F) \\<subseteq> B", "have \"msubset_of A F = univ (\\<lambda>f. image_mset f (mset_set A)) F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. msubset_of A F = univ (\\<lambda>f. image_mset f (mset_set A)) F", "unfolding msubset_of_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A)) F =\n    univ (\\<lambda>f. image_mset f (mset_set A)) F", ".."], ["proof (state)\nthis:\n  msubset_of A F = univ (\\<lambda>f. image_mset f (mset_set A)) F\n\ngoal (2 subgoals):\n 1. size (msubset_of A F) = card A\n 2. set_mset (msubset_of A F) \\<subseteq> B", "also"], ["proof (state)\nthis:\n  msubset_of A F = univ (\\<lambda>f. image_mset f (mset_set A)) F\n\ngoal (2 subgoals):\n 1. size (msubset_of A F) = card A\n 2. set_mset (msubset_of A F) \\<subseteq> B", "have \"\\<dots> = univ (\\<lambda>f. image_mset f (mset_set A)) (domain_permutation A B `` {f})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A)) F =\n    univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f})", "unfolding F_eq"], ["proof (prove)\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f}) =\n    univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f})", ".."], ["proof (state)\nthis:\n  univ (\\<lambda>f. image_mset f (mset_set A)) F =\n  univ (\\<lambda>f. image_mset f (mset_set A))\n   (domain_permutation A B `` {f})\n\ngoal (2 subgoals):\n 1. size (msubset_of A F) = card A\n 2. set_mset (msubset_of A F) \\<subseteq> B", "also"], ["proof (state)\nthis:\n  univ (\\<lambda>f. image_mset f (mset_set A)) F =\n  univ (\\<lambda>f. image_mset f (mset_set A))\n   (domain_permutation A B `` {f})\n\ngoal (2 subgoals):\n 1. size (msubset_of A F) = card A\n 2. set_mset (msubset_of A F) \\<subseteq> B", "have \"\\<dots> = image_mset f (mset_set A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f}) =\n    image_mset f (mset_set A)", "using equiv_domain_permutation image_mset_respects_domain_permutation \\<open>f \\<in> A \\<rightarrow>\\<^sub>E B\\<close>"], ["proof (prove)\nusing this:\n  equiv (?A \\<rightarrow>\\<^sub>E ?B) (domain_permutation ?A ?B)\n  (\\<lambda>f. image_mset f (mset_set ?A)) respects domain_permutation ?A ?B\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f}) =\n    image_mset f (mset_set A)", "by (subst univ_commute') auto"], ["proof (state)\nthis:\n  univ (\\<lambda>f. image_mset f (mset_set A))\n   (domain_permutation A B `` {f}) =\n  image_mset f (mset_set A)\n\ngoal (2 subgoals):\n 1. size (msubset_of A F) = card A\n 2. set_mset (msubset_of A F) \\<subseteq> B", "finally"], ["proof (chain)\npicking this:\n  msubset_of A F = image_mset f (mset_set A)", "have msubset_of_eq: \"msubset_of A F = image_mset f (mset_set A)\""], ["proof (prove)\nusing this:\n  msubset_of A F = image_mset f (mset_set A)\n\ngoal (1 subgoal):\n 1. msubset_of A F = image_mset f (mset_set A)", "."], ["proof (state)\nthis:\n  msubset_of A F = image_mset f (mset_set A)\n\ngoal (2 subgoals):\n 1. size (msubset_of A F) = card A\n 2. set_mset (msubset_of A F) \\<subseteq> B", "show \"size (msubset_of A F) = card A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size (msubset_of A F) = card A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. size (msubset_of A F) = card A", "have \"size (msubset_of A F) = size (image_mset f (mset_set A))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size (msubset_of A F) = size (image_mset f (mset_set A))", "unfolding msubset_of_eq"], ["proof (prove)\ngoal (1 subgoal):\n 1. size (image_mset f (mset_set A)) = size (image_mset f (mset_set A))", ".."], ["proof (state)\nthis:\n  size (msubset_of A F) = size (image_mset f (mset_set A))\n\ngoal (1 subgoal):\n 1. size (msubset_of A F) = card A", "also"], ["proof (state)\nthis:\n  size (msubset_of A F) = size (image_mset f (mset_set A))\n\ngoal (1 subgoal):\n 1. size (msubset_of A F) = card A", "have \"\\<dots> = card A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size (image_mset f (mset_set A)) = card A", "by (cases \\<open>finite A\\<close>) auto"], ["proof (state)\nthis:\n  size (image_mset f (mset_set A)) = card A\n\ngoal (1 subgoal):\n 1. size (msubset_of A F) = card A", "finally"], ["proof (chain)\npicking this:\n  size (msubset_of A F) = card A", "show ?thesis"], ["proof (prove)\nusing this:\n  size (msubset_of A F) = card A\n\ngoal (1 subgoal):\n 1. size (msubset_of A F) = card A", "."], ["proof (state)\nthis:\n  size (msubset_of A F) = card A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  size (msubset_of A F) = card A\n\ngoal (1 subgoal):\n 1. set_mset (msubset_of A F) \\<subseteq> B", "show \"set_mset (msubset_of A F) \\<subseteq> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set_mset (msubset_of A F) \\<subseteq> B", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. set_mset (msubset_of A F) \\<subseteq> B", "have \"set_mset (msubset_of A F) = set_mset (image_mset f (mset_set A))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set_mset (msubset_of A F) = set_mset (image_mset f (mset_set A))", "unfolding msubset_of_eq"], ["proof (prove)\ngoal (1 subgoal):\n 1. set_mset (image_mset f (mset_set A)) =\n    set_mset (image_mset f (mset_set A))", ".."], ["proof (state)\nthis:\n  set_mset (msubset_of A F) = set_mset (image_mset f (mset_set A))\n\ngoal (1 subgoal):\n 1. set_mset (msubset_of A F) \\<subseteq> B", "also"], ["proof (state)\nthis:\n  set_mset (msubset_of A F) = set_mset (image_mset f (mset_set A))\n\ngoal (1 subgoal):\n 1. set_mset (msubset_of A F) \\<subseteq> B", "have \"\\<dots> \\<subseteq> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set_mset (image_mset f (mset_set A)) \\<subseteq> B", "using \\<open>f \\<in> A \\<rightarrow>\\<^sub>E B\\<close>"], ["proof (prove)\nusing this:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. set_mset (image_mset f (mset_set A)) \\<subseteq> B", "by (cases \"finite A\") auto"], ["proof (state)\nthis:\n  set_mset (image_mset f (mset_set A)) \\<subseteq> B\n\ngoal (1 subgoal):\n 1. set_mset (msubset_of A F) \\<subseteq> B", "finally"], ["proof (chain)\npicking this:\n  set_mset (msubset_of A F) \\<subseteq> B", "show ?thesis"], ["proof (prove)\nusing this:\n  set_mset (msubset_of A F) \\<subseteq> B\n\ngoal (1 subgoal):\n 1. set_mset (msubset_of A F) \\<subseteq> B", "."], ["proof (state)\nthis:\n  set_mset (msubset_of A F) \\<subseteq> B\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  set_mset (msubset_of A F) \\<subseteq> B\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma functions_of:\n  assumes \"finite A\"\n  assumes \"set_mset M \\<subseteq> B\"\n  assumes \"size M = card A\"\n  shows \"functions_of A M \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. functions_of A M\n    \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. functions_of A M\n    \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "obtain f where \"f \\<in> A \\<rightarrow>\\<^sub>E set_mset M\" and \"image_mset f (mset_set A) = M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> A \\<rightarrow>\\<^sub>E set_mset M;\n         image_mset f (mset_set A) = M\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using obtain_function_on_ext_funcset \\<open>finite A\\<close> \\<open>size M = card A\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>finite ?A; size ?M = card ?A\\<rbrakk>\n  \\<Longrightarrow> \\<exists>f\\<in>?A \\<rightarrow>\\<^sub>E set_mset ?M.\n                       image_mset f (mset_set ?A) = ?M\n  finite A\n  size M = card A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> A \\<rightarrow>\\<^sub>E set_mset M;\n         image_mset f (mset_set A) = M\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  f \\<in> A \\<rightarrow>\\<^sub>E set_mset M\n  image_mset f (mset_set A) = M\n\ngoal (1 subgoal):\n 1. functions_of A M\n    \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "from \\<open>f \\<in> A \\<rightarrow>\\<^sub>E set_mset M\\<close>"], ["proof (chain)\npicking this:\n  f \\<in> A \\<rightarrow>\\<^sub>E set_mset M", "have \"f \\<in> A \\<rightarrow>\\<^sub>E B\""], ["proof (prove)\nusing this:\n  f \\<in> A \\<rightarrow>\\<^sub>E set_mset M\n\ngoal (1 subgoal):\n 1. f \\<in> A \\<rightarrow>\\<^sub>E B", "using \\<open>set_mset M \\<subseteq> B\\<close> PiE_iff subset_eq"], ["proof (prove)\nusing this:\n  f \\<in> A \\<rightarrow>\\<^sub>E set_mset M\n  set_mset M \\<subseteq> B\n  (?f \\<in> Pi\\<^sub>E ?I ?X) =\n  ((\\<forall>i\\<in>?I. ?f i \\<in> ?X i) \\<and> ?f \\<in> extensional ?I)\n  (?A \\<subseteq> ?B) = (\\<forall>x\\<in>?A. x \\<in> ?B)\n\ngoal (1 subgoal):\n 1. f \\<in> A \\<rightarrow>\\<^sub>E B", "by blast"], ["proof (state)\nthis:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. functions_of A M\n    \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "have \"functions_of A M = (domain_permutation A B) `` {f}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. functions_of A M = domain_permutation A B `` {f}", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. functions_of A M \\<subseteq> domain_permutation A B `` {f}\n 2. domain_permutation A B `` {f} \\<subseteq> functions_of A M", "show \"functions_of A M \\<subseteq> domain_permutation A B `` {f}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. functions_of A M \\<subseteq> domain_permutation A B `` {f}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A M \\<Longrightarrow>\n       x \\<in> domain_permutation A B `` {f}", "fix f'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A M \\<Longrightarrow>\n       x \\<in> domain_permutation A B `` {f}", "assume \"f' \\<in> functions_of A M\""], ["proof (state)\nthis:\n  f' \\<in> functions_of A M\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A M \\<Longrightarrow>\n       x \\<in> domain_permutation A B `` {f}", "from this"], ["proof (chain)\npicking this:\n  f' \\<in> functions_of A M", "have \"M = image_mset f' (mset_set A)\" and \"f' \\<in> A \\<rightarrow>\\<^sub>E f' ` A\""], ["proof (prove)\nusing this:\n  f' \\<in> functions_of A M\n\ngoal (1 subgoal):\n 1. M = image_mset f' (mset_set A) &&&\n    f' \\<in> A \\<rightarrow>\\<^sub>E f' ` A", "using \\<open>finite A\\<close>"], ["proof (prove)\nusing this:\n  f' \\<in> functions_of A M\n  finite A\n\ngoal (1 subgoal):\n 1. M = image_mset f' (mset_set A) &&&\n    f' \\<in> A \\<rightarrow>\\<^sub>E f' ` A", "unfolding functions_of_def"], ["proof (prove)\nusing this:\n  f' \\<in> {f \\<in> A \\<rightarrow>\\<^sub>E set_mset M.\n            image_mset f (mset_set A) = M}\n  finite A\n\ngoal (1 subgoal):\n 1. M = image_mset f' (mset_set A) &&&\n    f' \\<in> A \\<rightarrow>\\<^sub>E f' ` A", "by auto"], ["proof (state)\nthis:\n  M = image_mset f' (mset_set A)\n  f' \\<in> A \\<rightarrow>\\<^sub>E f' ` A\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A M \\<Longrightarrow>\n       x \\<in> domain_permutation A B `` {f}", "from this assms(1, 2)"], ["proof (chain)\npicking this:\n  M = image_mset f' (mset_set A)\n  f' \\<in> A \\<rightarrow>\\<^sub>E f' ` A\n  finite A\n  set_mset M \\<subseteq> B", "have \"f' \\<in> A \\<rightarrow>\\<^sub>E B\""], ["proof (prove)\nusing this:\n  M = image_mset f' (mset_set A)\n  f' \\<in> A \\<rightarrow>\\<^sub>E f' ` A\n  finite A\n  set_mset M \\<subseteq> B\n\ngoal (1 subgoal):\n 1. f' \\<in> A \\<rightarrow>\\<^sub>E B", "by (simp add: PiE_iff image_subset_iff)"], ["proof (state)\nthis:\n  f' \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A M \\<Longrightarrow>\n       x \\<in> domain_permutation A B `` {f}", "obtain p where \"p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        p permutes A \\<and>\n        (\\<forall>x\\<in>A. f x = f' (p x)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using \\<open>finite A\\<close> \\<open>image_mset f (mset_set A) = M\\<close> \\<open>M = image_mset f' (mset_set A)\\<close>\n          image_mset_eq_implies_permutes"], ["proof (prove)\nusing this:\n  finite A\n  image_mset f (mset_set A) = M\n  M = image_mset f' (mset_set A)\n  \\<lbrakk>finite ?A;\n   image_mset ?f (mset_set ?A) = image_mset ?f' (mset_set ?A);\n   \\<And>p.\n      \\<lbrakk>p permutes ?A; \\<forall>x\\<in>?A. ?f x = ?f' (p x)\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        p permutes A \\<and>\n        (\\<forall>x\\<in>A. f x = f' (p x)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A M \\<Longrightarrow>\n       x \\<in> domain_permutation A B `` {f}", "from this"], ["proof (chain)\npicking this:\n  p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))", "show \"f' \\<in> domain_permutation A B `` {f}\""], ["proof (prove)\nusing this:\n  p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))\n\ngoal (1 subgoal):\n 1. f' \\<in> domain_permutation A B `` {f}", "using \\<open>f \\<in> A \\<rightarrow>\\<^sub>E B\\<close> \\<open>f' \\<in> A \\<rightarrow>\\<^sub>E B\\<close>"], ["proof (prove)\nusing this:\n  p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n  f' \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. f' \\<in> domain_permutation A B `` {f}", "unfolding domain_permutation_def"], ["proof (prove)\nusing this:\n  p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n  f' \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. f' \\<in> {(f, f').\n              (f, f')\n              \\<in> (A \\<rightarrow>\\<^sub>E B) \\<times>\n                    (A \\<rightarrow>\\<^sub>E B) \\<and>\n              (\\<exists>p.\n                  p permutes A \\<and>\n                  (\\<forall>x\\<in>A. f x = f' (p x)))} ``\n             {f}", "by auto"], ["proof (state)\nthis:\n  f' \\<in> domain_permutation A B `` {f}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  functions_of A M \\<subseteq> domain_permutation A B `` {f}\n\ngoal (1 subgoal):\n 1. domain_permutation A B `` {f} \\<subseteq> functions_of A M", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. domain_permutation A B `` {f} \\<subseteq> functions_of A M", "show \"domain_permutation A B `` {f} \\<subseteq> functions_of A M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. domain_permutation A B `` {f} \\<subseteq> functions_of A M", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> domain_permutation A B `` {f} \\<Longrightarrow>\n       x \\<in> functions_of A M", "fix f'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> domain_permutation A B `` {f} \\<Longrightarrow>\n       x \\<in> functions_of A M", "assume \"f' \\<in> domain_permutation A B `` {f}\""], ["proof (state)\nthis:\n  f' \\<in> domain_permutation A B `` {f}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> domain_permutation A B `` {f} \\<Longrightarrow>\n       x \\<in> functions_of A M", "from this"], ["proof (chain)\npicking this:\n  f' \\<in> domain_permutation A B `` {f}", "have \"(f, f') \\<in> domain_permutation A B\""], ["proof (prove)\nusing this:\n  f' \\<in> domain_permutation A B `` {f}\n\ngoal (1 subgoal):\n 1. (f, f') \\<in> domain_permutation A B", "by auto"], ["proof (state)\nthis:\n  (f, f') \\<in> domain_permutation A B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> domain_permutation A B `` {f} \\<Longrightarrow>\n       x \\<in> functions_of A M", "from this \\<open>image_mset f (mset_set A) = M\\<close>"], ["proof (chain)\npicking this:\n  (f, f') \\<in> domain_permutation A B\n  image_mset f (mset_set A) = M", "have \"image_mset f' (mset_set A) = M\""], ["proof (prove)\nusing this:\n  (f, f') \\<in> domain_permutation A B\n  image_mset f (mset_set A) = M\n\ngoal (1 subgoal):\n 1. image_mset f' (mset_set A) = M", "using congruentD[OF image_mset_respects_domain_permutation]"], ["proof (prove)\nusing this:\n  (f, f') \\<in> domain_permutation A B\n  image_mset f (mset_set A) = M\n  (?y, ?z) \\<in> domain_permutation ?A1 ?B1 \\<Longrightarrow>\n  image_mset ?y (mset_set ?A1) = image_mset ?z (mset_set ?A1)\n\ngoal (1 subgoal):\n 1. image_mset f' (mset_set A) = M", "by metis"], ["proof (state)\nthis:\n  image_mset f' (mset_set A) = M\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> domain_permutation A B `` {f} \\<Longrightarrow>\n       x \\<in> functions_of A M", "moreover"], ["proof (state)\nthis:\n  image_mset f' (mset_set A) = M\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> domain_permutation A B `` {f} \\<Longrightarrow>\n       x \\<in> functions_of A M", "from this \\<open>(f, f') \\<in> domain_permutation A B\\<close>"], ["proof (chain)\npicking this:\n  image_mset f' (mset_set A) = M\n  (f, f') \\<in> domain_permutation A B", "have \"f' \\<in> A \\<rightarrow>\\<^sub>E set_mset M\""], ["proof (prove)\nusing this:\n  image_mset f' (mset_set A) = M\n  (f, f') \\<in> domain_permutation A B\n\ngoal (1 subgoal):\n 1. f' \\<in> A \\<rightarrow>\\<^sub>E set_mset M", "using \\<open>finite A\\<close>"], ["proof (prove)\nusing this:\n  image_mset f' (mset_set A) = M\n  (f, f') \\<in> domain_permutation A B\n  finite A\n\ngoal (1 subgoal):\n 1. f' \\<in> A \\<rightarrow>\\<^sub>E set_mset M", "unfolding domain_permutation_def"], ["proof (prove)\nusing this:\n  image_mset f' (mset_set A) = M\n  (f, f')\n  \\<in> {(f, f').\n         (f, f')\n         \\<in> (A \\<rightarrow>\\<^sub>E B) \\<times>\n               (A \\<rightarrow>\\<^sub>E B) \\<and>\n         (\\<exists>p.\n             p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x)))}\n  finite A\n\ngoal (1 subgoal):\n 1. f' \\<in> A \\<rightarrow>\\<^sub>E set_mset M", "by auto"], ["proof (state)\nthis:\n  f' \\<in> A \\<rightarrow>\\<^sub>E set_mset M\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> domain_permutation A B `` {f} \\<Longrightarrow>\n       x \\<in> functions_of A M", "ultimately"], ["proof (chain)\npicking this:\n  image_mset f' (mset_set A) = M\n  f' \\<in> A \\<rightarrow>\\<^sub>E set_mset M", "show \"f' \\<in> functions_of A M\""], ["proof (prove)\nusing this:\n  image_mset f' (mset_set A) = M\n  f' \\<in> A \\<rightarrow>\\<^sub>E set_mset M\n\ngoal (1 subgoal):\n 1. f' \\<in> functions_of A M", "unfolding functions_of_def"], ["proof (prove)\nusing this:\n  image_mset f' (mset_set A) = M\n  f' \\<in> A \\<rightarrow>\\<^sub>E set_mset M\n\ngoal (1 subgoal):\n 1. f' \\<in> {f \\<in> A \\<rightarrow>\\<^sub>E set_mset M.\n              image_mset f (mset_set A) = M}", "by auto"], ["proof (state)\nthis:\n  f' \\<in> functions_of A M\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  domain_permutation A B `` {f} \\<subseteq> functions_of A M\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  functions_of A M = domain_permutation A B `` {f}\n\ngoal (1 subgoal):\n 1. functions_of A M\n    \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "from this \\<open>f \\<in> A \\<rightarrow>\\<^sub>E B\\<close>"], ["proof (chain)\npicking this:\n  functions_of A M = domain_permutation A B `` {f}\n  f \\<in> A \\<rightarrow>\\<^sub>E B", "show ?thesis"], ["proof (prove)\nusing this:\n  functions_of A M = domain_permutation A B `` {f}\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. functions_of A M\n    \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "by (auto intro: quotientI)"], ["proof (state)\nthis:\n  functions_of A M\n  \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma functions_of_msubset_of:\n  assumes \"finite A\"\n  assumes \"F \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\"\n  shows \"functions_of A (msubset_of A F) = F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. functions_of A (msubset_of A F) = F", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. functions_of A (msubset_of A F) = F", "from \\<open>F \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\\<close>"], ["proof (chain)\npicking this:\n  F \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "obtain f where \"f \\<in> A \\<rightarrow>\\<^sub>E B\"\n    and F_eq: \"F = domain_permutation A B `` {f}\""], ["proof (prove)\nusing this:\n  F \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> A \\<rightarrow>\\<^sub>E B;\n         F = domain_permutation A B `` {f}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using quotientE"], ["proof (prove)\nusing this:\n  F \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n  \\<lbrakk>?X \\<in> ?A // ?r;\n   \\<And>x.\n      \\<lbrakk>?X = ?r `` {x}; x \\<in> ?A\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> A \\<rightarrow>\\<^sub>E B;\n         F = domain_permutation A B `` {f}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n  F = domain_permutation A B `` {f}\n\ngoal (1 subgoal):\n 1. functions_of A (msubset_of A F) = F", "have \"msubset_of A F = univ (\\<lambda>f. image_mset f (mset_set A)) F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. msubset_of A F = univ (\\<lambda>f. image_mset f (mset_set A)) F", "unfolding msubset_of_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A)) F =\n    univ (\\<lambda>f. image_mset f (mset_set A)) F", ".."], ["proof (state)\nthis:\n  msubset_of A F = univ (\\<lambda>f. image_mset f (mset_set A)) F\n\ngoal (1 subgoal):\n 1. functions_of A (msubset_of A F) = F", "also"], ["proof (state)\nthis:\n  msubset_of A F = univ (\\<lambda>f. image_mset f (mset_set A)) F\n\ngoal (1 subgoal):\n 1. functions_of A (msubset_of A F) = F", "have \"\\<dots> = univ (\\<lambda>f. image_mset f (mset_set A)) (domain_permutation A B `` {f})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A)) F =\n    univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f})", "unfolding F_eq"], ["proof (prove)\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f}) =\n    univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f})", ".."], ["proof (state)\nthis:\n  univ (\\<lambda>f. image_mset f (mset_set A)) F =\n  univ (\\<lambda>f. image_mset f (mset_set A))\n   (domain_permutation A B `` {f})\n\ngoal (1 subgoal):\n 1. functions_of A (msubset_of A F) = F", "also"], ["proof (state)\nthis:\n  univ (\\<lambda>f. image_mset f (mset_set A)) F =\n  univ (\\<lambda>f. image_mset f (mset_set A))\n   (domain_permutation A B `` {f})\n\ngoal (1 subgoal):\n 1. functions_of A (msubset_of A F) = F", "have \"\\<dots> = image_mset f (mset_set A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f}) =\n    image_mset f (mset_set A)", "using equiv_domain_permutation image_mset_respects_domain_permutation \\<open>f \\<in> A \\<rightarrow>\\<^sub>E B\\<close>"], ["proof (prove)\nusing this:\n  equiv (?A \\<rightarrow>\\<^sub>E ?B) (domain_permutation ?A ?B)\n  (\\<lambda>f. image_mset f (mset_set ?A)) respects domain_permutation ?A ?B\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f}) =\n    image_mset f (mset_set A)", "by (subst univ_commute') auto"], ["proof (state)\nthis:\n  univ (\\<lambda>f. image_mset f (mset_set A))\n   (domain_permutation A B `` {f}) =\n  image_mset f (mset_set A)\n\ngoal (1 subgoal):\n 1. functions_of A (msubset_of A F) = F", "finally"], ["proof (chain)\npicking this:\n  msubset_of A F = image_mset f (mset_set A)", "have msubset_of_eq: \"msubset_of A F = image_mset f (mset_set A)\""], ["proof (prove)\nusing this:\n  msubset_of A F = image_mset f (mset_set A)\n\ngoal (1 subgoal):\n 1. msubset_of A F = image_mset f (mset_set A)", "."], ["proof (state)\nthis:\n  msubset_of A F = image_mset f (mset_set A)\n\ngoal (1 subgoal):\n 1. functions_of A (msubset_of A F) = F", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. functions_of A (msubset_of A F) = F", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. functions_of A (msubset_of A F) \\<subseteq> F\n 2. F \\<subseteq> functions_of A (msubset_of A F)", "show \"functions_of A (msubset_of A F) \\<subseteq> F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. functions_of A (msubset_of A F) \\<subseteq> F", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A (msubset_of A F) \\<Longrightarrow> x \\<in> F", "fix f'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A (msubset_of A F) \\<Longrightarrow> x \\<in> F", "assume \"f' \\<in> functions_of A (msubset_of A F)\""], ["proof (state)\nthis:\n  f' \\<in> functions_of A (msubset_of A F)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A (msubset_of A F) \\<Longrightarrow> x \\<in> F", "from this"], ["proof (chain)\npicking this:\n  f' \\<in> functions_of A (msubset_of A F)", "have f': \"f' \\<in> A \\<rightarrow>\\<^sub>E f ` set_mset (mset_set A)\"\n      \"image_mset f' (mset_set A) = image_mset f (mset_set A)\""], ["proof (prove)\nusing this:\n  f' \\<in> functions_of A (msubset_of A F)\n\ngoal (1 subgoal):\n 1. f' \\<in> A \\<rightarrow>\\<^sub>E f ` set_mset (mset_set A) &&&\n    image_mset f' (mset_set A) = image_mset f (mset_set A)", "unfolding functions_of_def"], ["proof (prove)\nusing this:\n  f' \\<in> {f \\<in> A \\<rightarrow>\\<^sub>E set_mset (msubset_of A F).\n            image_mset f (mset_set A) = msubset_of A F}\n\ngoal (1 subgoal):\n 1. f' \\<in> A \\<rightarrow>\\<^sub>E f ` set_mset (mset_set A) &&&\n    image_mset f' (mset_set A) = image_mset f (mset_set A)", "by (auto simp add: msubset_of_eq)"], ["proof (state)\nthis:\n  f' \\<in> A \\<rightarrow>\\<^sub>E f ` set_mset (mset_set A)\n  image_mset f' (mset_set A) = image_mset f (mset_set A)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A (msubset_of A F) \\<Longrightarrow> x \\<in> F", "from \\<open>f \\<in> A \\<rightarrow>\\<^sub>E B\\<close>"], ["proof (chain)\npicking this:\n  f \\<in> A \\<rightarrow>\\<^sub>E B", "have \"f ` A \\<subseteq> B\""], ["proof (prove)\nusing this:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. f ` A \\<subseteq> B", "by auto"], ["proof (state)\nthis:\n  f ` A \\<subseteq> B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A (msubset_of A F) \\<Longrightarrow> x \\<in> F", "note \\<open>f \\<in> A \\<rightarrow>\\<^sub>E B\\<close>"], ["proof (state)\nthis:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A (msubset_of A F) \\<Longrightarrow> x \\<in> F", "moreover"], ["proof (state)\nthis:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A (msubset_of A F) \\<Longrightarrow> x \\<in> F", "from f'(1) \\<open>finite A\\<close> \\<open>f ` A \\<subseteq> B\\<close>"], ["proof (chain)\npicking this:\n  f' \\<in> A \\<rightarrow>\\<^sub>E f ` set_mset (mset_set A)\n  finite A\n  f ` A \\<subseteq> B", "have \"f' \\<in> A \\<rightarrow>\\<^sub>E B\""], ["proof (prove)\nusing this:\n  f' \\<in> A \\<rightarrow>\\<^sub>E f ` set_mset (mset_set A)\n  finite A\n  f ` A \\<subseteq> B\n\ngoal (1 subgoal):\n 1. f' \\<in> A \\<rightarrow>\\<^sub>E B", "by auto"], ["proof (state)\nthis:\n  f' \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A (msubset_of A F) \\<Longrightarrow> x \\<in> F", "moreover"], ["proof (state)\nthis:\n  f' \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A (msubset_of A F) \\<Longrightarrow> x \\<in> F", "obtain p where \"p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        p permutes A \\<and>\n        (\\<forall>x\\<in>A. f x = f' (p x)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using \\<open>finite A\\<close> \\<open>image_mset f' (mset_set A) = image_mset f (mset_set A)\\<close>"], ["proof (prove)\nusing this:\n  finite A\n  image_mset f' (mset_set A) = image_mset f (mset_set A)\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        p permutes A \\<and>\n        (\\<forall>x\\<in>A. f x = f' (p x)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis image_mset_eq_implies_permutes)"], ["proof (state)\nthis:\n  p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> functions_of A (msubset_of A F) \\<Longrightarrow> x \\<in> F", "ultimately"], ["proof (chain)\npicking this:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n  f' \\<in> A \\<rightarrow>\\<^sub>E B\n  p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))", "show \"f' \\<in> F\""], ["proof (prove)\nusing this:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n  f' \\<in> A \\<rightarrow>\\<^sub>E B\n  p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))\n\ngoal (1 subgoal):\n 1. f' \\<in> F", "unfolding F_eq domain_permutation_def"], ["proof (prove)\nusing this:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n  f' \\<in> A \\<rightarrow>\\<^sub>E B\n  p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))\n\ngoal (1 subgoal):\n 1. f' \\<in> {(f, f').\n              (f, f')\n              \\<in> (A \\<rightarrow>\\<^sub>E B) \\<times>\n                    (A \\<rightarrow>\\<^sub>E B) \\<and>\n              (\\<exists>p.\n                  p permutes A \\<and>\n                  (\\<forall>x\\<in>A. f x = f' (p x)))} ``\n             {f}", "by auto"], ["proof (state)\nthis:\n  f' \\<in> F\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  functions_of A (msubset_of A F) \\<subseteq> F\n\ngoal (1 subgoal):\n 1. F \\<subseteq> functions_of A (msubset_of A F)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. F \\<subseteq> functions_of A (msubset_of A F)", "show \"F \\<subseteq> functions_of A (msubset_of A F)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F \\<subseteq> functions_of A (msubset_of A F)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> F \\<Longrightarrow> x \\<in> functions_of A (msubset_of A F)", "fix f'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> F \\<Longrightarrow> x \\<in> functions_of A (msubset_of A F)", "assume \"f' \\<in> F\""], ["proof (state)\nthis:\n  f' \\<in> F\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> F \\<Longrightarrow> x \\<in> functions_of A (msubset_of A F)", "from this"], ["proof (chain)\npicking this:\n  f' \\<in> F", "have \"f' \\<in> A \\<rightarrow>\\<^sub>E B\""], ["proof (prove)\nusing this:\n  f' \\<in> F\n\ngoal (1 subgoal):\n 1. f' \\<in> A \\<rightarrow>\\<^sub>E B", "unfolding F_eq domain_permutation_def"], ["proof (prove)\nusing this:\n  f' \\<in> {(f, f').\n            (f, f')\n            \\<in> (A \\<rightarrow>\\<^sub>E B) \\<times>\n                  (A \\<rightarrow>\\<^sub>E B) \\<and>\n            (\\<exists>p.\n                p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x)))} ``\n           {f}\n\ngoal (1 subgoal):\n 1. f' \\<in> A \\<rightarrow>\\<^sub>E B", "by auto"], ["proof (state)\nthis:\n  f' \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> F \\<Longrightarrow> x \\<in> functions_of A (msubset_of A F)", "from \\<open>f' \\<in> F\\<close>"], ["proof (chain)\npicking this:\n  f' \\<in> F", "obtain p where \"p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))\""], ["proof (prove)\nusing this:\n  f' \\<in> F\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        p permutes A \\<and>\n        (\\<forall>x\\<in>A. f x = f' (p x)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "unfolding F_eq domain_permutation_def"], ["proof (prove)\nusing this:\n  f' \\<in> {(f, f').\n            (f, f')\n            \\<in> (A \\<rightarrow>\\<^sub>E B) \\<times>\n                  (A \\<rightarrow>\\<^sub>E B) \\<and>\n            (\\<exists>p.\n                p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x)))} ``\n           {f}\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        p permutes A \\<and>\n        (\\<forall>x\\<in>A. f x = f' (p x)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> F \\<Longrightarrow> x \\<in> functions_of A (msubset_of A F)", "from this"], ["proof (chain)\npicking this:\n  p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))", "have eq: \"image_mset f' (mset_set A) = image_mset f (mset_set A)\""], ["proof (prove)\nusing this:\n  p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))\n\ngoal (1 subgoal):\n 1. image_mset f' (mset_set A) = image_mset f (mset_set A)", "using permutes_implies_image_mset_eq"], ["proof (prove)\nusing this:\n  p permutes A \\<and> (\\<forall>x\\<in>A. f x = f' (p x))\n  \\<lbrakk>?p permutes ?A;\n   \\<And>x. x \\<in> ?A \\<Longrightarrow> ?f x = ?f' (?p x)\\<rbrakk>\n  \\<Longrightarrow> image_mset ?f' (mset_set ?A) =\n                    image_mset ?f (mset_set ?A)\n\ngoal (1 subgoal):\n 1. image_mset f' (mset_set A) = image_mset f (mset_set A)", "by blast"], ["proof (state)\nthis:\n  image_mset f' (mset_set A) = image_mset f (mset_set A)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> F \\<Longrightarrow> x \\<in> functions_of A (msubset_of A F)", "moreover"], ["proof (state)\nthis:\n  image_mset f' (mset_set A) = image_mset f (mset_set A)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> F \\<Longrightarrow> x \\<in> functions_of A (msubset_of A F)", "have \"f' \\<in> A \\<rightarrow>\\<^sub>E set_mset (image_mset f (mset_set A))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f' \\<in> A \\<rightarrow>\\<^sub>E set_mset (image_mset f (mset_set A))", "using \\<open>finite A\\<close> \\<open>f' \\<in> A \\<rightarrow>\\<^sub>E B\\<close> eq[symmetric]"], ["proof (prove)\nusing this:\n  finite A\n  f' \\<in> A \\<rightarrow>\\<^sub>E B\n  image_mset f (mset_set A) = image_mset f' (mset_set A)\n\ngoal (1 subgoal):\n 1. f' \\<in> A \\<rightarrow>\\<^sub>E set_mset (image_mset f (mset_set A))", "by auto"], ["proof (state)\nthis:\n  f' \\<in> A \\<rightarrow>\\<^sub>E set_mset (image_mset f (mset_set A))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> F \\<Longrightarrow> x \\<in> functions_of A (msubset_of A F)", "ultimately"], ["proof (chain)\npicking this:\n  image_mset f' (mset_set A) = image_mset f (mset_set A)\n  f' \\<in> A \\<rightarrow>\\<^sub>E set_mset (image_mset f (mset_set A))", "show \"f' \\<in> functions_of A (msubset_of A F)\""], ["proof (prove)\nusing this:\n  image_mset f' (mset_set A) = image_mset f (mset_set A)\n  f' \\<in> A \\<rightarrow>\\<^sub>E set_mset (image_mset f (mset_set A))\n\ngoal (1 subgoal):\n 1. f' \\<in> functions_of A (msubset_of A F)", "unfolding functions_of_def msubset_of_eq"], ["proof (prove)\nusing this:\n  image_mset f' (mset_set A) = image_mset f (mset_set A)\n  f' \\<in> A \\<rightarrow>\\<^sub>E set_mset (image_mset f (mset_set A))\n\ngoal (1 subgoal):\n 1. f' \\<in> {fa \\<in> A \\<rightarrow>\\<^sub>E\n                       set_mset (image_mset f (mset_set A)).\n              image_mset fa (mset_set A) = image_mset f (mset_set A)}", "by auto"], ["proof (state)\nthis:\n  f' \\<in> functions_of A (msubset_of A F)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  F \\<subseteq> functions_of A (msubset_of A F)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  functions_of A (msubset_of A F) = F\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma msubset_of_functions_of:\n  assumes \"set_mset M \\<subseteq> B\" \"size M = card A\" \"finite A\"\n  shows \"msubset_of A (functions_of A M) = M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) = M", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) = M", "from assms"], ["proof (chain)\npicking this:\n  set_mset M \\<subseteq> B\n  size M = card A\n  finite A", "have \"functions_of A M \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\""], ["proof (prove)\nusing this:\n  set_mset M \\<subseteq> B\n  size M = card A\n  finite A\n\ngoal (1 subgoal):\n 1. functions_of A M\n    \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "using functions_of"], ["proof (prove)\nusing this:\n  set_mset M \\<subseteq> B\n  size M = card A\n  finite A\n  \\<lbrakk>finite ?A; set_mset ?M \\<subseteq> ?B; size ?M = card ?A\\<rbrakk>\n  \\<Longrightarrow> functions_of ?A ?M\n                    \\<in> (?A \\<rightarrow>\\<^sub>E ?B) //\n                          domain_permutation ?A ?B\n\ngoal (1 subgoal):\n 1. functions_of A M\n    \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "by fastforce"], ["proof (state)\nthis:\n  functions_of A M\n  \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) = M", "from this"], ["proof (chain)\npicking this:\n  functions_of A M\n  \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "obtain f where \"f \\<in> A \\<rightarrow>\\<^sub>E B\" and \"functions_of A M = domain_permutation A B `` {f}\""], ["proof (prove)\nusing this:\n  functions_of A M\n  \\<in> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> A \\<rightarrow>\\<^sub>E B;\n         functions_of A M = domain_permutation A B `` {f}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule quotientE)"], ["proof (state)\nthis:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n  functions_of A M = domain_permutation A B `` {f}\n\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) = M", "from this"], ["proof (chain)\npicking this:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n  functions_of A M = domain_permutation A B `` {f}", "have \"f \\<in> functions_of A M\""], ["proof (prove)\nusing this:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n  functions_of A M = domain_permutation A B `` {f}\n\ngoal (1 subgoal):\n 1. f \\<in> functions_of A M", "using equiv_domain_permutation equiv_class_self"], ["proof (prove)\nusing this:\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n  functions_of A M = domain_permutation A B `` {f}\n  equiv (?A \\<rightarrow>\\<^sub>E ?B) (domain_permutation ?A ?B)\n  \\<lbrakk>equiv ?A ?r; ?a \\<in> ?A\\<rbrakk>\n  \\<Longrightarrow> ?a \\<in> ?r `` {?a}\n\ngoal (1 subgoal):\n 1. f \\<in> functions_of A M", "by fastforce"], ["proof (state)\nthis:\n  f \\<in> functions_of A M\n\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) = M", "have \"msubset_of A (functions_of A M) = univ (\\<lambda>f. image_mset f (mset_set A)) (functions_of A M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) =\n    univ (\\<lambda>f. image_mset f (mset_set A)) (functions_of A M)", "unfolding msubset_of_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A)) (functions_of A M) =\n    univ (\\<lambda>f. image_mset f (mset_set A)) (functions_of A M)", ".."], ["proof (state)\nthis:\n  msubset_of A (functions_of A M) =\n  univ (\\<lambda>f. image_mset f (mset_set A)) (functions_of A M)\n\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) = M", "also"], ["proof (state)\nthis:\n  msubset_of A (functions_of A M) =\n  univ (\\<lambda>f. image_mset f (mset_set A)) (functions_of A M)\n\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) = M", "have \"\\<dots> = univ (\\<lambda>f. image_mset f (mset_set A)) (domain_permutation A B `` {f})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A)) (functions_of A M) =\n    univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f})", "unfolding \\<open>functions_of A M = domain_permutation A B `` {f}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f}) =\n    univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f})", ".."], ["proof (state)\nthis:\n  univ (\\<lambda>f. image_mset f (mset_set A)) (functions_of A M) =\n  univ (\\<lambda>f. image_mset f (mset_set A))\n   (domain_permutation A B `` {f})\n\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) = M", "also"], ["proof (state)\nthis:\n  univ (\\<lambda>f. image_mset f (mset_set A)) (functions_of A M) =\n  univ (\\<lambda>f. image_mset f (mset_set A))\n   (domain_permutation A B `` {f})\n\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) = M", "have \"\\<dots> = image_mset f (mset_set A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f}) =\n    image_mset f (mset_set A)", "using equiv_domain_permutation image_mset_respects_domain_permutation \\<open>f \\<in> A \\<rightarrow>\\<^sub>E B\\<close>"], ["proof (prove)\nusing this:\n  equiv (?A \\<rightarrow>\\<^sub>E ?B) (domain_permutation ?A ?B)\n  (\\<lambda>f. image_mset f (mset_set ?A)) respects domain_permutation ?A ?B\n  f \\<in> A \\<rightarrow>\\<^sub>E B\n\ngoal (1 subgoal):\n 1. univ (\\<lambda>f. image_mset f (mset_set A))\n     (domain_permutation A B `` {f}) =\n    image_mset f (mset_set A)", "by (subst univ_commute') auto"], ["proof (state)\nthis:\n  univ (\\<lambda>f. image_mset f (mset_set A))\n   (domain_permutation A B `` {f}) =\n  image_mset f (mset_set A)\n\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) = M", "also"], ["proof (state)\nthis:\n  univ (\\<lambda>f. image_mset f (mset_set A))\n   (domain_permutation A B `` {f}) =\n  image_mset f (mset_set A)\n\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) = M", "have \"image_mset f (mset_set A) = M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. image_mset f (mset_set A) = M", "using \\<open>f \\<in> functions_of A M\\<close>"], ["proof (prove)\nusing this:\n  f \\<in> functions_of A M\n\ngoal (1 subgoal):\n 1. image_mset f (mset_set A) = M", "unfolding functions_of_def"], ["proof (prove)\nusing this:\n  f \\<in> {f \\<in> A \\<rightarrow>\\<^sub>E set_mset M.\n           image_mset f (mset_set A) = M}\n\ngoal (1 subgoal):\n 1. image_mset f (mset_set A) = M", "by simp"], ["proof (state)\nthis:\n  image_mset f (mset_set A) = M\n\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) = M", "finally"], ["proof (chain)\npicking this:\n  msubset_of A (functions_of A M) = M", "show ?thesis"], ["proof (prove)\nusing this:\n  msubset_of A (functions_of A M) = M\n\ngoal (1 subgoal):\n 1. msubset_of A (functions_of A M) = M", "."], ["proof (state)\nthis:\n  msubset_of A (functions_of A M) = M\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Bijections\\<close>"], ["", "lemma bij_betw_msubset_of:\n  assumes \"finite A\"\n  shows \"bij_betw (msubset_of A) ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) {M. set_mset M \\<subseteq> B \\<and> size M = card A}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bij_betw (msubset_of A)\n     ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B)\n     {M. set_mset M \\<subseteq> B \\<and> size M = card A}", "proof (rule bij_betw_byWitness[where f'=\"\\<lambda>M. functions_of A M\"])"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<forall>a\\<in>(A \\<rightarrow>\\<^sub>E B) // domain_permutation A B.\n       functions_of A (msubset_of A a) = a\n 2. \\<forall>a'\\<in>{M. set_mset M \\<subseteq> B \\<and> size M = card A}.\n       msubset_of A (functions_of A a') = a'\n 3. msubset_of A ` (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n    \\<subseteq> {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n 4. functions_of A ` {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n    \\<subseteq> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "show \"\\<forall>F\\<in>(A \\<rightarrow>\\<^sub>E B) // domain_permutation A B. functions_of A (msubset_of A F) = F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>F\\<in>(A \\<rightarrow>\\<^sub>E B) // domain_permutation A B.\n       functions_of A (msubset_of A F) = F", "using \\<open>finite A\\<close>"], ["proof (prove)\nusing this:\n  finite A\n\ngoal (1 subgoal):\n 1. \\<forall>F\\<in>(A \\<rightarrow>\\<^sub>E B) // domain_permutation A B.\n       functions_of A (msubset_of A F) = F", "by (auto simp add: functions_of_msubset_of)"], ["proof (state)\nthis:\n  \\<forall>F\\<in>(A \\<rightarrow>\\<^sub>E B) // domain_permutation A B.\n     functions_of A (msubset_of A F) = F\n\ngoal (3 subgoals):\n 1. \\<forall>a'\\<in>{M. set_mset M \\<subseteq> B \\<and> size M = card A}.\n       msubset_of A (functions_of A a') = a'\n 2. msubset_of A ` (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n    \\<subseteq> {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n 3. functions_of A ` {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n    \\<subseteq> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "show \"\\<forall>M\\<in>{M. set_mset M \\<subseteq> B \\<and> size M = card A}. msubset_of A (functions_of A M) = M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>M\\<in>{M. set_mset M \\<subseteq> B \\<and> size M = card A}.\n       msubset_of A (functions_of A M) = M", "using \\<open>finite A\\<close>"], ["proof (prove)\nusing this:\n  finite A\n\ngoal (1 subgoal):\n 1. \\<forall>M\\<in>{M. set_mset M \\<subseteq> B \\<and> size M = card A}.\n       msubset_of A (functions_of A M) = M", "by (auto simp add: msubset_of_functions_of)"], ["proof (state)\nthis:\n  \\<forall>M\\<in>{M. set_mset M \\<subseteq> B \\<and> size M = card A}.\n     msubset_of A (functions_of A M) = M\n\ngoal (2 subgoals):\n 1. msubset_of A ` (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n    \\<subseteq> {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n 2. functions_of A ` {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n    \\<subseteq> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "show \"msubset_of A ` ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) \\<subseteq> {M. set_mset M \\<subseteq> B \\<and> size M = card A}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. msubset_of A ` (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n    \\<subseteq> {M. set_mset M \\<subseteq> B \\<and> size M = card A}", "using msubset_of"], ["proof (prove)\nusing this:\n  ?F \\<in> (?A \\<rightarrow>\\<^sub>E ?B) //\n           domain_permutation ?A ?B \\<Longrightarrow>\n  size (msubset_of ?A ?F) = card ?A\n  ?F \\<in> (?A \\<rightarrow>\\<^sub>E ?B) //\n           domain_permutation ?A ?B \\<Longrightarrow>\n  set_mset (msubset_of ?A ?F) \\<subseteq> ?B\n\ngoal (1 subgoal):\n 1. msubset_of A ` (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n    \\<subseteq> {M. set_mset M \\<subseteq> B \\<and> size M = card A}", "by blast"], ["proof (state)\nthis:\n  msubset_of A ` (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n  \\<subseteq> {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n\ngoal (1 subgoal):\n 1. functions_of A ` {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n    \\<subseteq> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "show \"functions_of A ` {M. set_mset M \\<subseteq> B \\<and> size M = card A} \\<subseteq> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. functions_of A ` {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n    \\<subseteq> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "using functions_of \\<open>finite A\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>finite ?A; set_mset ?M \\<subseteq> ?B; size ?M = card ?A\\<rbrakk>\n  \\<Longrightarrow> functions_of ?A ?M\n                    \\<in> (?A \\<rightarrow>\\<^sub>E ?B) //\n                          domain_permutation ?A ?B\n  finite A\n\ngoal (1 subgoal):\n 1. functions_of A ` {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n    \\<subseteq> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B", "by blast"], ["proof (state)\nthis:\n  functions_of A ` {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n  \\<subseteq> (A \\<rightarrow>\\<^sub>E B) // domain_permutation A B\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Cardinality\\<close>"], ["", "lemma\n  assumes \"finite A\" \"finite B\"\n  shows \"card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) = card B + card A - 1 choose card A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) =\n    card B + card A - 1 choose card A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) =\n    card B + card A - 1 choose card A", "have \"bij_betw (msubset_of A) ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) {M. set_mset M \\<subseteq> B \\<and> size M = card A}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bij_betw (msubset_of A)\n     ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B)\n     {M. set_mset M \\<subseteq> B \\<and> size M = card A}", "using \\<open>finite A\\<close>"], ["proof (prove)\nusing this:\n  finite A\n\ngoal (1 subgoal):\n 1. bij_betw (msubset_of A)\n     ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B)\n     {M. set_mset M \\<subseteq> B \\<and> size M = card A}", "by (rule bij_betw_msubset_of)"], ["proof (state)\nthis:\n  bij_betw (msubset_of A)\n   ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B)\n   {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n\ngoal (1 subgoal):\n 1. card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) =\n    card B + card A - 1 choose card A", "from this"], ["proof (chain)\npicking this:\n  bij_betw (msubset_of A)\n   ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B)\n   {M. set_mset M \\<subseteq> B \\<and> size M = card A}", "have \"card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) = card {M. set_mset M \\<subseteq> B \\<and> size M = card A}\""], ["proof (prove)\nusing this:\n  bij_betw (msubset_of A)\n   ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B)\n   {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n\ngoal (1 subgoal):\n 1. card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) =\n    card {M. set_mset M \\<subseteq> B \\<and> size M = card A}", "by (rule bij_betw_same_card)"], ["proof (state)\nthis:\n  card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) =\n  card {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n\ngoal (1 subgoal):\n 1. card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) =\n    card B + card A - 1 choose card A", "also"], ["proof (state)\nthis:\n  card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) =\n  card {M. set_mset M \\<subseteq> B \\<and> size M = card A}\n\ngoal (1 subgoal):\n 1. card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) =\n    card B + card A - 1 choose card A", "have \"card {M. set_mset M \\<subseteq> B \\<and> size M = card A} = card B + card A - 1 choose card A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card {M. set_mset M \\<subseteq> B \\<and> size M = card A} =\n    card B + card A - 1 choose card A", "using \\<open>finite B\\<close>"], ["proof (prove)\nusing this:\n  finite B\n\ngoal (1 subgoal):\n 1. card {M. set_mset M \\<subseteq> B \\<and> size M = card A} =\n    card B + card A - 1 choose card A", "by (rule card_multisets)"], ["proof (state)\nthis:\n  card {M. set_mset M \\<subseteq> B \\<and> size M = card A} =\n  card B + card A - 1 choose card A\n\ngoal (1 subgoal):\n 1. card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) =\n    card B + card A - 1 choose card A", "finally"], ["proof (chain)\npicking this:\n  card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) =\n  card B + card A - 1 choose card A", "show ?thesis"], ["proof (prove)\nusing this:\n  card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) =\n  card B + card A - 1 choose card A\n\ngoal (1 subgoal):\n 1. card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) =\n    card B + card A - 1 choose card A", "."], ["proof (state)\nthis:\n  card ((A \\<rightarrow>\\<^sub>E B) // domain_permutation A B) =\n  card B + card A - 1 choose card A\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}