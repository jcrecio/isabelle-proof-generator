{"file_name": "/home/qj213/afp-2021-10-22/thys/Deep_Learning/Lebesgue_Zero_Set.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Deep_Learning", "problem_names": ["lemma measurable_insertion [measurable]:\nassumes \"vars p \\<subseteq> {..<n}\"\nshows \"(\\<lambda>f. insertion f p) \\<in> borel_measurable (lborel_f n)\"", "lemma lebesgue_mpoly_zero_set:\nfixes p::\"real mpoly\"\nassumes \"p \\<noteq> 0\" \"vars p \\<subseteq> {..<n}\"\nshows \"{f\\<in>space (lborel_f n). insertion f p = 0} \\<in> null_sets (lborel_f n)\""], "translations": [["", "lemma measurable_insertion [measurable]:\nassumes \"vars p \\<subseteq> {..<n}\"\nshows \"(\\<lambda>f. insertion f p) \\<in> borel_measurable (lborel_f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f p) \\<in> borel_measurable (lborel_f n)", "using assms"], ["proof (prove)\nusing this:\n  vars p \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f p) \\<in> borel_measurable (lborel_f n)", "proof (induction p rule:mpoly_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>m a.\n       vars (MPoly_Type.monom m a) \\<subseteq> {..<n} \\<Longrightarrow>\n       (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n       \\<in> borel_measurable (lborel_f n)\n 2. \\<And>p1 p2 m a.\n       \\<lbrakk>vars p1 \\<subseteq> {..<n} \\<Longrightarrow>\n                (\\<lambda>f. insertion f p1)\n                \\<in> borel_measurable (lborel_f n);\n        vars p2 \\<subseteq> {..<n} \\<Longrightarrow>\n        (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n);\n        p2 = MPoly_Type.monom m a; m \\<notin> keys (mapping_of p1);\n        vars (p1 + p2) \\<subseteq> {..<n}\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>f. insertion f (p1 + p2))\n                         \\<in> borel_measurable (lborel_f n)", "case (monom m a)"], ["proof (state)\nthis:\n  vars (MPoly_Type.monom m a) \\<subseteq> {..<n}\n\ngoal (2 subgoals):\n 1. \\<And>m a.\n       vars (MPoly_Type.monom m a) \\<subseteq> {..<n} \\<Longrightarrow>\n       (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n       \\<in> borel_measurable (lborel_f n)\n 2. \\<And>p1 p2 m a.\n       \\<lbrakk>vars p1 \\<subseteq> {..<n} \\<Longrightarrow>\n                (\\<lambda>f. insertion f p1)\n                \\<in> borel_measurable (lborel_f n);\n        vars p2 \\<subseteq> {..<n} \\<Longrightarrow>\n        (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n);\n        p2 = MPoly_Type.monom m a; m \\<notin> keys (mapping_of p1);\n        vars (p1 + p2) \\<subseteq> {..<n}\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>f. insertion f (p1 + p2))\n                         \\<in> borel_measurable (lborel_f n)", "then"], ["proof (chain)\npicking this:\n  vars (MPoly_Type.monom m a) \\<subseteq> {..<n}", "show ?case"], ["proof (prove)\nusing this:\n  vars (MPoly_Type.monom m a) \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n    \\<in> borel_measurable (lborel_f n)", "proof (cases \"a = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>vars (MPoly_Type.monom m a) \\<subseteq> {..<n}; a = 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n                      \\<in> borel_measurable (lborel_f n)\n 2. \\<lbrakk>vars (MPoly_Type.monom m a) \\<subseteq> {..<n};\n     a \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n                      \\<in> borel_measurable (lborel_f n)", "case True"], ["proof (state)\nthis:\n  a = 0\n\ngoal (2 subgoals):\n 1. \\<lbrakk>vars (MPoly_Type.monom m a) \\<subseteq> {..<n}; a = 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n                      \\<in> borel_measurable (lborel_f n)\n 2. \\<lbrakk>vars (MPoly_Type.monom m a) \\<subseteq> {..<n};\n     a \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n                      \\<in> borel_measurable (lborel_f n)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n    \\<in> borel_measurable (lborel_f n)", "unfolding insertion_single \\<open>a = 0\\<close> MPoly_Type.monom.abs_eq single_zero\n      zero_mpoly.abs_eq[symmetric] insertion_zero"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>f. 0) \\<in> borel_measurable (lborel_f n)", "by measurable"], ["proof (state)\nthis:\n  (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n  \\<in> borel_measurable (lborel_f n)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>vars (MPoly_Type.monom m a) \\<subseteq> {..<n};\n     a \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n                      \\<in> borel_measurable (lborel_f n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>vars (MPoly_Type.monom m a) \\<subseteq> {..<n};\n     a \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n                      \\<in> borel_measurable (lborel_f n)", "case False"], ["proof (state)\nthis:\n  a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>vars (MPoly_Type.monom m a) \\<subseteq> {..<n};\n     a \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n                      \\<in> borel_measurable (lborel_f n)", "have \"Poly_Mapping.keys m \\<subseteq> {..<n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. keys m \\<subseteq> {..<n}", "using monom"], ["proof (prove)\nusing this:\n  vars (MPoly_Type.monom m a) \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. keys m \\<subseteq> {..<n}", "by (simp add: False vars_monom_keys)"], ["proof (state)\nthis:\n  keys m \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>vars (MPoly_Type.monom m a) \\<subseteq> {..<n};\n     a \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n                      \\<in> borel_measurable (lborel_f n)", "then"], ["proof (chain)\npicking this:\n  keys m \\<subseteq> {..<n}", "show ?thesis"], ["proof (prove)\nusing this:\n  keys m \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n    \\<in> borel_measurable (lborel_f n)", "using \\<open>a\\<noteq>0\\<close>"], ["proof (prove)\nusing this:\n  keys m \\<subseteq> {..<n}\n  a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n    \\<in> borel_measurable (lborel_f n)", "proof (induction m arbitrary:a rule:poly_mapping_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>k v a.\n       \\<lbrakk>keys (Poly_Mapping.single k v) \\<subseteq> {..<n};\n        a \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>f.\n                             insertion f\n                              (MPoly_Type.monom (Poly_Mapping.single k v)\n                                a))\n                         \\<in> borel_measurable (lborel_f n)\n 2. \\<And>f g k v a.\n       \\<lbrakk>\\<And>a.\n                   \\<lbrakk>keys f \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n                   \\<Longrightarrow> (\\<lambda>fa.\n   insertion fa (MPoly_Type.monom f a))\n                                     \\<in> borel_measurable (lborel_f n);\n        \\<And>a.\n           \\<lbrakk>keys g \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n           \\<Longrightarrow> (\\<lambda>f.\n                                 insertion f (MPoly_Type.monom g a))\n                             \\<in> borel_measurable (lborel_f n);\n        g = Poly_Mapping.single k v; k \\<notin> keys f;\n        keys (f + g) \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>fa.\n                             insertion fa (MPoly_Type.monom (f + g) a))\n                         \\<in> borel_measurable (lborel_f n)", "case (single x i a)"], ["proof (state)\nthis:\n  keys (Poly_Mapping.single x i) \\<subseteq> {..<n}\n  a \\<noteq> 0\n\ngoal (2 subgoals):\n 1. \\<And>k v a.\n       \\<lbrakk>keys (Poly_Mapping.single k v) \\<subseteq> {..<n};\n        a \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>f.\n                             insertion f\n                              (MPoly_Type.monom (Poly_Mapping.single k v)\n                                a))\n                         \\<in> borel_measurable (lborel_f n)\n 2. \\<And>f g k v a.\n       \\<lbrakk>\\<And>a.\n                   \\<lbrakk>keys f \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n                   \\<Longrightarrow> (\\<lambda>fa.\n   insertion fa (MPoly_Type.monom f a))\n                                     \\<in> borel_measurable (lborel_f n);\n        \\<And>a.\n           \\<lbrakk>keys g \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n           \\<Longrightarrow> (\\<lambda>f.\n                                 insertion f (MPoly_Type.monom g a))\n                             \\<in> borel_measurable (lborel_f n);\n        g = Poly_Mapping.single k v; k \\<notin> keys f;\n        keys (f + g) \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>fa.\n                             insertion fa (MPoly_Type.monom (f + g) a))\n                         \\<in> borel_measurable (lborel_f n)", "then"], ["proof (chain)\npicking this:\n  keys (Poly_Mapping.single x i) \\<subseteq> {..<n}\n  a \\<noteq> 0", "show ?case"], ["proof (prove)\nusing this:\n  keys (Poly_Mapping.single x i) \\<subseteq> {..<n}\n  a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f (MPoly_Type.monom (Poly_Mapping.single x i) a))\n    \\<in> borel_measurable (lborel_f n)", "proof (cases \"i = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>keys (Poly_Mapping.single x i) \\<subseteq> {..<n};\n     a \\<noteq> 0; i = 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f.\n                          insertion f\n                           (MPoly_Type.monom (Poly_Mapping.single x i) a))\n                      \\<in> borel_measurable (lborel_f n)\n 2. \\<lbrakk>keys (Poly_Mapping.single x i) \\<subseteq> {..<n};\n     a \\<noteq> 0; i \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f.\n                          insertion f\n                           (MPoly_Type.monom (Poly_Mapping.single x i) a))\n                      \\<in> borel_measurable (lborel_f n)", "case True"], ["proof (state)\nthis:\n  i = 0\n\ngoal (2 subgoals):\n 1. \\<lbrakk>keys (Poly_Mapping.single x i) \\<subseteq> {..<n};\n     a \\<noteq> 0; i = 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f.\n                          insertion f\n                           (MPoly_Type.monom (Poly_Mapping.single x i) a))\n                      \\<in> borel_measurable (lborel_f n)\n 2. \\<lbrakk>keys (Poly_Mapping.single x i) \\<subseteq> {..<n};\n     a \\<noteq> 0; i \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f.\n                          insertion f\n                           (MPoly_Type.monom (Poly_Mapping.single x i) a))\n                      \\<in> borel_measurable (lborel_f n)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f (MPoly_Type.monom (Poly_Mapping.single x i) a))\n    \\<in> borel_measurable (lborel_f n)", "unfolding insertion_single \\<open>i = 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>f. a * f x ^ 0) \\<in> borel_measurable (lborel_f n)", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>f. insertion f (MPoly_Type.monom (Poly_Mapping.single x i) a))\n  \\<in> borel_measurable (lborel_f n)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>keys (Poly_Mapping.single x i) \\<subseteq> {..<n};\n     a \\<noteq> 0; i \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f.\n                          insertion f\n                           (MPoly_Type.monom (Poly_Mapping.single x i) a))\n                      \\<in> borel_measurable (lborel_f n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>keys (Poly_Mapping.single x i) \\<subseteq> {..<n};\n     a \\<noteq> 0; i \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f.\n                          insertion f\n                           (MPoly_Type.monom (Poly_Mapping.single x i) a))\n                      \\<in> borel_measurable (lborel_f n)", "case False"], ["proof (state)\nthis:\n  i \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>keys (Poly_Mapping.single x i) \\<subseteq> {..<n};\n     a \\<noteq> 0; i \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>f.\n                          insertion f\n                           (MPoly_Type.monom (Poly_Mapping.single x i) a))\n                      \\<in> borel_measurable (lborel_f n)", "then"], ["proof (chain)\npicking this:\n  i \\<noteq> 0", "show ?thesis"], ["proof (prove)\nusing this:\n  i \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f (MPoly_Type.monom (Poly_Mapping.single x i) a))\n    \\<in> borel_measurable (lborel_f n)", "unfolding insertion_single"], ["proof (prove)\nusing this:\n  i \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>f. a * f x ^ i) \\<in> borel_measurable (lborel_f n)", "apply measurable"], ["proof (prove)\ngoal (1 subgoal):\n 1. x < n", "using vars_monom_single_cases single False insert_subset lessThan_iff \\<open>a\\<noteq>0\\<close>"], ["proof (prove)\nusing this:\n  vars (MPoly_Type.monom (Poly_Mapping.single ?v ?k) ?a) =\n  (if ?k = 0 \\<or> ?a = (0::?'a) then {} else {?v})\n  keys (Poly_Mapping.single x i) \\<subseteq> {..<n}\n  a \\<noteq> 0\n  i \\<noteq> 0\n  (insert ?x ?A \\<subseteq> ?B) = (?x \\<in> ?B \\<and> ?A \\<subseteq> ?B)\n  (?i \\<in> {..<?k}) = (?i < ?k)\n  a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. x < n", "by fastforce"], ["proof (state)\nthis:\n  (\\<lambda>f. insertion f (MPoly_Type.monom (Poly_Mapping.single x i) a))\n  \\<in> borel_measurable (lborel_f n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>f. insertion f (MPoly_Type.monom (Poly_Mapping.single x i) a))\n  \\<in> borel_measurable (lborel_f n)\n\ngoal (1 subgoal):\n 1. \\<And>f g k v a.\n       \\<lbrakk>\\<And>a.\n                   \\<lbrakk>keys f \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n                   \\<Longrightarrow> (\\<lambda>fa.\n   insertion fa (MPoly_Type.monom f a))\n                                     \\<in> borel_measurable (lborel_f n);\n        \\<And>a.\n           \\<lbrakk>keys g \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n           \\<Longrightarrow> (\\<lambda>f.\n                                 insertion f (MPoly_Type.monom g a))\n                             \\<in> borel_measurable (lborel_f n);\n        g = Poly_Mapping.single k v; k \\<notin> keys f;\n        keys (f + g) \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>fa.\n                             insertion fa (MPoly_Type.monom (f + g) a))\n                         \\<in> borel_measurable (lborel_f n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>f g k v a.\n       \\<lbrakk>\\<And>a.\n                   \\<lbrakk>keys f \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n                   \\<Longrightarrow> (\\<lambda>fa.\n   insertion fa (MPoly_Type.monom f a))\n                                     \\<in> borel_measurable (lborel_f n);\n        \\<And>a.\n           \\<lbrakk>keys g \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n           \\<Longrightarrow> (\\<lambda>f.\n                                 insertion f (MPoly_Type.monom g a))\n                             \\<in> borel_measurable (lborel_f n);\n        g = Poly_Mapping.single k v; k \\<notin> keys f;\n        keys (f + g) \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>fa.\n                             insertion fa (MPoly_Type.monom (f + g) a))\n                         \\<in> borel_measurable (lborel_f n)", "case (sum m1 m2 x i)"], ["proof (state)\nthis:\n  \\<lbrakk>keys m1 \\<subseteq> {..<n}; ?a \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m1 ?a))\n                    \\<in> borel_measurable (lborel_f n)\n  \\<lbrakk>keys m2 \\<subseteq> {..<n}; ?a \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m2 ?a))\n                    \\<in> borel_measurable (lborel_f n)\n  m2 = Poly_Mapping.single x i\n  x \\<notin> keys m1\n  keys (m1 + m2) \\<subseteq> {..<n}\n  a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>f g k v a.\n       \\<lbrakk>\\<And>a.\n                   \\<lbrakk>keys f \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n                   \\<Longrightarrow> (\\<lambda>fa.\n   insertion fa (MPoly_Type.monom f a))\n                                     \\<in> borel_measurable (lborel_f n);\n        \\<And>a.\n           \\<lbrakk>keys g \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n           \\<Longrightarrow> (\\<lambda>f.\n                                 insertion f (MPoly_Type.monom g a))\n                             \\<in> borel_measurable (lborel_f n);\n        g = Poly_Mapping.single k v; k \\<notin> keys f;\n        keys (f + g) \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>fa.\n                             insertion fa (MPoly_Type.monom (f + g) a))\n                         \\<in> borel_measurable (lborel_f n)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>keys m1 \\<subseteq> {..<n}; ?a \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m1 ?a))\n                    \\<in> borel_measurable (lborel_f n)\n  \\<lbrakk>keys m2 \\<subseteq> {..<n}; ?a \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m2 ?a))\n                    \\<in> borel_measurable (lborel_f n)\n  m2 = Poly_Mapping.single x i\n  x \\<notin> keys m1\n  keys (m1 + m2) \\<subseteq> {..<n}\n  a \\<noteq> 0", "have \"Poly_Mapping.keys m1 \\<inter> Poly_Mapping.keys m2 = {}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>keys m1 \\<subseteq> {..<n}; ?a \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m1 ?a))\n                    \\<in> borel_measurable (lborel_f n)\n  \\<lbrakk>keys m2 \\<subseteq> {..<n}; ?a \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>f. insertion f (MPoly_Type.monom m2 ?a))\n                    \\<in> borel_measurable (lborel_f n)\n  m2 = Poly_Mapping.single x i\n  x \\<notin> keys m1\n  keys (m1 + m2) \\<subseteq> {..<n}\n  a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. keys m1 \\<inter> keys m2 = {}", "by simp"], ["proof (state)\nthis:\n  keys m1 \\<inter> keys m2 = {}\n\ngoal (1 subgoal):\n 1. \\<And>f g k v a.\n       \\<lbrakk>\\<And>a.\n                   \\<lbrakk>keys f \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n                   \\<Longrightarrow> (\\<lambda>fa.\n   insertion fa (MPoly_Type.monom f a))\n                                     \\<in> borel_measurable (lborel_f n);\n        \\<And>a.\n           \\<lbrakk>keys g \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n           \\<Longrightarrow> (\\<lambda>f.\n                                 insertion f (MPoly_Type.monom g a))\n                             \\<in> borel_measurable (lborel_f n);\n        g = Poly_Mapping.single k v; k \\<notin> keys f;\n        keys (f + g) \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>fa.\n                             insertion fa (MPoly_Type.monom (f + g) a))\n                         \\<in> borel_measurable (lborel_f n)", "then"], ["proof (chain)\npicking this:\n  keys m1 \\<inter> keys m2 = {}", "have \"Poly_Mapping.keys m1 \\<union> Poly_Mapping.keys m2 = Poly_Mapping.keys (m1 + m2)\""], ["proof (prove)\nusing this:\n  keys m1 \\<inter> keys m2 = {}\n\ngoal (1 subgoal):\n 1. keys m1 \\<union> keys m2 = keys (m1 + m2)", "using keys_add"], ["proof (prove)\nusing this:\n  keys m1 \\<inter> keys m2 = {}\n  keys ?f \\<inter> keys ?g = {} \\<Longrightarrow>\n  keys ?f \\<union> keys ?g = keys (?f + ?g)\n\ngoal (1 subgoal):\n 1. keys m1 \\<union> keys m2 = keys (m1 + m2)", "by metis"], ["proof (state)\nthis:\n  keys m1 \\<union> keys m2 = keys (m1 + m2)\n\ngoal (1 subgoal):\n 1. \\<And>f g k v a.\n       \\<lbrakk>\\<And>a.\n                   \\<lbrakk>keys f \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n                   \\<Longrightarrow> (\\<lambda>fa.\n   insertion fa (MPoly_Type.monom f a))\n                                     \\<in> borel_measurable (lborel_f n);\n        \\<And>a.\n           \\<lbrakk>keys g \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n           \\<Longrightarrow> (\\<lambda>f.\n                                 insertion f (MPoly_Type.monom g a))\n                             \\<in> borel_measurable (lborel_f n);\n        g = Poly_Mapping.single k v; k \\<notin> keys f;\n        keys (f + g) \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>fa.\n                             insertion fa (MPoly_Type.monom (f + g) a))\n                         \\<in> borel_measurable (lborel_f n)", "then"], ["proof (chain)\npicking this:\n  keys m1 \\<union> keys m2 = keys (m1 + m2)", "have 1:\"Poly_Mapping.keys m1 \\<subseteq> {..<n}\" and 2:\"Poly_Mapping.keys m2 \\<subseteq> {..<n}\""], ["proof (prove)\nusing this:\n  keys m1 \\<union> keys m2 = keys (m1 + m2)\n\ngoal (1 subgoal):\n 1. keys m1 \\<subseteq> {..<n} &&& keys m2 \\<subseteq> {..<n}", "using sum.prems"], ["proof (prove)\nusing this:\n  keys m1 \\<union> keys m2 = keys (m1 + m2)\n  keys (m1 + m2) \\<subseteq> {..<n}\n  a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. keys m1 \\<subseteq> {..<n} &&& keys m2 \\<subseteq> {..<n}", "by auto"], ["proof (state)\nthis:\n  keys m1 \\<subseteq> {..<n}\n  keys m2 \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. \\<And>f g k v a.\n       \\<lbrakk>\\<And>a.\n                   \\<lbrakk>keys f \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n                   \\<Longrightarrow> (\\<lambda>fa.\n   insertion fa (MPoly_Type.monom f a))\n                                     \\<in> borel_measurable (lborel_f n);\n        \\<And>a.\n           \\<lbrakk>keys g \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n           \\<Longrightarrow> (\\<lambda>f.\n                                 insertion f (MPoly_Type.monom g a))\n                             \\<in> borel_measurable (lborel_f n);\n        g = Poly_Mapping.single k v; k \\<notin> keys f;\n        keys (f + g) \\<subseteq> {..<n}; a \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>fa.\n                             insertion fa (MPoly_Type.monom (f + g) a))\n                         \\<in> borel_measurable (lborel_f n)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f (MPoly_Type.monom (m1 + m2) a))\n    \\<in> borel_measurable (lborel_f n)", "unfolding MPoly_Type.mult_monom[of m1 a m2 1,simplified,symmetric]\n        insertion_mult"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>f.\n        insertion f (MPoly_Type.monom m1 a) *\n        insertion f (MPoly_Type.monom m2 1))\n    \\<in> borel_measurable (lborel_f n)", "using sum.IH(1)[OF 1 \\<open>a\\<noteq>0\\<close>] sum.IH(2)[OF 2, of 1, simplified]"], ["proof (prove)\nusing this:\n  (\\<lambda>f. insertion f (MPoly_Type.monom m1 a))\n  \\<in> borel_measurable (lborel_f n)\n  (\\<lambda>f. insertion f (MPoly_Type.monom m2 1))\n  \\<in> borel_measurable (lborel_f n)\n\ngoal (1 subgoal):\n 1. (\\<lambda>f.\n        insertion f (MPoly_Type.monom m1 a) *\n        insertion f (MPoly_Type.monom m2 1))\n    \\<in> borel_measurable (lborel_f n)", "by measurable"], ["proof (state)\nthis:\n  (\\<lambda>f. insertion f (MPoly_Type.monom (m1 + m2) a))\n  \\<in> borel_measurable (lborel_f n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n  \\<in> borel_measurable (lborel_f n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>f. insertion f (MPoly_Type.monom m a))\n  \\<in> borel_measurable (lborel_f n)\n\ngoal (1 subgoal):\n 1. \\<And>p1 p2 m a.\n       \\<lbrakk>vars p1 \\<subseteq> {..<n} \\<Longrightarrow>\n                (\\<lambda>f. insertion f p1)\n                \\<in> borel_measurable (lborel_f n);\n        vars p2 \\<subseteq> {..<n} \\<Longrightarrow>\n        (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n);\n        p2 = MPoly_Type.monom m a; m \\<notin> keys (mapping_of p1);\n        vars (p1 + p2) \\<subseteq> {..<n}\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>f. insertion f (p1 + p2))\n                         \\<in> borel_measurable (lborel_f n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p1 p2 m a.\n       \\<lbrakk>vars p1 \\<subseteq> {..<n} \\<Longrightarrow>\n                (\\<lambda>f. insertion f p1)\n                \\<in> borel_measurable (lborel_f n);\n        vars p2 \\<subseteq> {..<n} \\<Longrightarrow>\n        (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n);\n        p2 = MPoly_Type.monom m a; m \\<notin> keys (mapping_of p1);\n        vars (p1 + p2) \\<subseteq> {..<n}\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>f. insertion f (p1 + p2))\n                         \\<in> borel_measurable (lborel_f n)", "case (sum p1 p2 m a)"], ["proof (state)\nthis:\n  vars p1 \\<subseteq> {..<n} \\<Longrightarrow>\n  (\\<lambda>f. insertion f p1) \\<in> borel_measurable (lborel_f n)\n  vars p2 \\<subseteq> {..<n} \\<Longrightarrow>\n  (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n)\n  p2 = MPoly_Type.monom m a\n  m \\<notin> keys (mapping_of p1)\n  vars (p1 + p2) \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. \\<And>p1 p2 m a.\n       \\<lbrakk>vars p1 \\<subseteq> {..<n} \\<Longrightarrow>\n                (\\<lambda>f. insertion f p1)\n                \\<in> borel_measurable (lborel_f n);\n        vars p2 \\<subseteq> {..<n} \\<Longrightarrow>\n        (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n);\n        p2 = MPoly_Type.monom m a; m \\<notin> keys (mapping_of p1);\n        vars (p1 + p2) \\<subseteq> {..<n}\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>f. insertion f (p1 + p2))\n                         \\<in> borel_measurable (lborel_f n)", "then"], ["proof (chain)\npicking this:\n  vars p1 \\<subseteq> {..<n} \\<Longrightarrow>\n  (\\<lambda>f. insertion f p1) \\<in> borel_measurable (lborel_f n)\n  vars p2 \\<subseteq> {..<n} \\<Longrightarrow>\n  (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n)\n  p2 = MPoly_Type.monom m a\n  m \\<notin> keys (mapping_of p1)\n  vars (p1 + p2) \\<subseteq> {..<n}", "have \"(\\<lambda>f. insertion f p1) \\<in> borel_measurable (lborel_f n)\"\n            \"(\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n)\""], ["proof (prove)\nusing this:\n  vars p1 \\<subseteq> {..<n} \\<Longrightarrow>\n  (\\<lambda>f. insertion f p1) \\<in> borel_measurable (lborel_f n)\n  vars p2 \\<subseteq> {..<n} \\<Longrightarrow>\n  (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n)\n  p2 = MPoly_Type.monom m a\n  m \\<notin> keys (mapping_of p1)\n  vars (p1 + p2) \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f p1) \\<in> borel_measurable (lborel_f n) &&&\n    (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n)", "using vars_add_monom[OF sum.hyps]  le_sup_iff"], ["proof (prove)\nusing this:\n  vars p1 \\<subseteq> {..<n} \\<Longrightarrow>\n  (\\<lambda>f. insertion f p1) \\<in> borel_measurable (lborel_f n)\n  vars p2 \\<subseteq> {..<n} \\<Longrightarrow>\n  (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n)\n  p2 = MPoly_Type.monom m a\n  m \\<notin> keys (mapping_of p1)\n  vars (p1 + p2) \\<subseteq> {..<n}\n  vars (p1 + p2) = vars p1 \\<union> vars p2\n  (sup ?x ?y \\<le> ?z) = (?x \\<le> ?z \\<and> ?y \\<le> ?z)\n\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f p1) \\<in> borel_measurable (lborel_f n) &&&\n    (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n)", "by blast+"], ["proof (state)\nthis:\n  (\\<lambda>f. insertion f p1) \\<in> borel_measurable (lborel_f n)\n  (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n)\n\ngoal (1 subgoal):\n 1. \\<And>p1 p2 m a.\n       \\<lbrakk>vars p1 \\<subseteq> {..<n} \\<Longrightarrow>\n                (\\<lambda>f. insertion f p1)\n                \\<in> borel_measurable (lborel_f n);\n        vars p2 \\<subseteq> {..<n} \\<Longrightarrow>\n        (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n);\n        p2 = MPoly_Type.monom m a; m \\<notin> keys (mapping_of p1);\n        vars (p1 + p2) \\<subseteq> {..<n}\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>f. insertion f (p1 + p2))\n                         \\<in> borel_measurable (lborel_f n)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>f. insertion f p1) \\<in> borel_measurable (lborel_f n)\n  (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n)", "show ?case"], ["proof (prove)\nusing this:\n  (\\<lambda>f. insertion f p1) \\<in> borel_measurable (lborel_f n)\n  (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n)\n\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f (p1 + p2)) \\<in> borel_measurable (lborel_f n)", "unfolding insertion_add"], ["proof (prove)\nusing this:\n  (\\<lambda>f. insertion f p1) \\<in> borel_measurable (lborel_f n)\n  (\\<lambda>f. insertion f p2) \\<in> borel_measurable (lborel_f n)\n\ngoal (1 subgoal):\n 1. (\\<lambda>f. insertion f p1 + insertion f p2)\n    \\<in> borel_measurable (lborel_f n)", "by measurable"], ["proof (state)\nthis:\n  (\\<lambda>f. insertion f (p1 + p2)) \\<in> borel_measurable (lborel_f n)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>This proof follows Richard Caron and Tim Traynor, \"The zero set of a polynomial\"\nhttp://www1.uwindsor.ca/math/sites/uwindsor.ca.math/files/05-03.pdf\\<close>"], ["", "lemma lebesgue_mpoly_zero_set:\nfixes p::\"real mpoly\"\nassumes \"p \\<noteq> 0\" \"vars p \\<subseteq> {..<n}\"\nshows \"{f\\<in>space (lborel_f n). insertion f p = 0} \\<in> null_sets (lborel_f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {f \\<in> space (lborel_f n). insertion f p = 0}\n    \\<in> null_sets (lborel_f n)", "using assms"], ["proof (prove)\nusing this:\n  p \\<noteq> 0\n  vars p \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. {f \\<in> space (lborel_f n). insertion f p = 0}\n    \\<in> null_sets (lborel_f n)", "proof (induction n arbitrary:p)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>p.\n       \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<0}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f 0). insertion f p = 0}\n                         \\<in> null_sets (lborel_f 0)\n 2. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "case 0"], ["proof (state)\nthis:\n  p \\<noteq> 0\n  vars p \\<subseteq> {..<0}\n\ngoal (2 subgoals):\n 1. \\<And>p.\n       \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<0}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f 0). insertion f p = 0}\n                         \\<in> null_sets (lborel_f 0)\n 2. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "then"], ["proof (chain)\npicking this:\n  p \\<noteq> 0\n  vars p \\<subseteq> {..<0}", "have \"vars p = {}\""], ["proof (prove)\nusing this:\n  p \\<noteq> 0\n  vars p \\<subseteq> {..<0}\n\ngoal (1 subgoal):\n 1. vars p = {}", "by simp"], ["proof (state)\nthis:\n  vars p = {}\n\ngoal (2 subgoals):\n 1. \\<And>p.\n       \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<0}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f 0). insertion f p = 0}\n                         \\<in> null_sets (lborel_f 0)\n 2. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "then"], ["proof (chain)\npicking this:\n  vars p = {}", "have \"\\<And>f. insertion f p = MPoly_Type.coeff p 0\""], ["proof (prove)\nusing this:\n  vars p = {}\n\ngoal (1 subgoal):\n 1. \\<And>f. insertion f p = MPoly_Type.coeff p 0", "unfolding insertion_trivial[symmetric]"], ["proof (prove)\nusing this:\n  vars p = {}\n\ngoal (1 subgoal):\n 1. \\<And>f. insertion f p = insertion (\\<lambda>_. 0) p", "using insertion_irrelevant_vars"], ["proof (prove)\nusing this:\n  vars p = {}\n  (\\<And>v. v \\<in> vars ?p \\<Longrightarrow> ?f v = ?g v) \\<Longrightarrow>\n  insertion ?f ?p = insertion ?g ?p\n\ngoal (1 subgoal):\n 1. \\<And>f. insertion f p = insertion (\\<lambda>_. 0) p", "by blast"], ["proof (state)\nthis:\n  insertion ?f p = MPoly_Type.coeff p 0\n\ngoal (2 subgoals):\n 1. \\<And>p.\n       \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<0}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f 0). insertion f p = 0}\n                         \\<in> null_sets (lborel_f 0)\n 2. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have \"\\<And>m. m\\<noteq>0 \\<Longrightarrow> MPoly_Type.coeff p m = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>m. m \\<noteq> 0 \\<Longrightarrow> MPoly_Type.coeff p m = 0", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>m \\<noteq> 0; MPoly_Type.coeff p m \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> False", "fix m::\"nat \\<Rightarrow>\\<^sub>0 nat\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>m \\<noteq> 0; MPoly_Type.coeff p m \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> False", "assume \"m\\<noteq>0\" \"MPoly_Type.coeff p m \\<noteq> 0\""], ["proof (state)\nthis:\n  m \\<noteq> 0\n  MPoly_Type.coeff p m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>m \\<noteq> 0; MPoly_Type.coeff p m \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  m \\<noteq> 0\n  MPoly_Type.coeff p m \\<noteq> 0", "obtain v where \"Poly_Mapping.lookup m v \\<noteq> 0\""], ["proof (prove)\nusing this:\n  m \\<noteq> 0\n  MPoly_Type.coeff p m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        lookup m v \\<noteq> 0 \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using aux"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\n  MPoly_Type.coeff p m \\<noteq> 0\n  (lookup ?f = (\\<lambda>_. 0::?'b)) = (?f = 0)\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        lookup m v \\<noteq> 0 \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  lookup m v \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>m \\<noteq> 0; MPoly_Type.coeff p m \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  lookup m v \\<noteq> 0", "have \"v\\<in>vars p\""], ["proof (prove)\nusing this:\n  lookup m v \\<noteq> 0\n\ngoal (1 subgoal):\n 1. v \\<in> vars p", "unfolding More_MPoly_Type.vars_def"], ["proof (prove)\nusing this:\n  lookup m v \\<noteq> 0\n\ngoal (1 subgoal):\n 1. v \\<in> \\<Union> (keys ` keys (mapping_of p))", "using \\<open>MPoly_Type.coeff p m \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  lookup m v \\<noteq> 0\n  MPoly_Type.coeff p m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. v \\<in> \\<Union> (keys ` keys (mapping_of p))", "by (meson UN_I coeff_keys lookup_not_eq_zero_eq_in_keys)"], ["proof (state)\nthis:\n  v \\<in> vars p\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>m \\<noteq> 0; MPoly_Type.coeff p m \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  v \\<in> vars p", "show False"], ["proof (prove)\nusing this:\n  v \\<in> vars p\n\ngoal (1 subgoal):\n 1. False", "using \\<open>vars p = {}\\<close>"], ["proof (prove)\nusing this:\n  v \\<in> vars p\n  vars p = {}\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?m \\<noteq> 0 \\<Longrightarrow> MPoly_Type.coeff p ?m = 0\n\ngoal (2 subgoals):\n 1. \\<And>p.\n       \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<0}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f 0). insertion f p = 0}\n                         \\<in> null_sets (lborel_f 0)\n 2. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "then"], ["proof (chain)\npicking this:\n  ?m \\<noteq> 0 \\<Longrightarrow> MPoly_Type.coeff p ?m = 0", "have \"MPoly_Type.coeff p 0 \\<noteq> 0\""], ["proof (prove)\nusing this:\n  ?m \\<noteq> 0 \\<Longrightarrow> MPoly_Type.coeff p ?m = 0\n\ngoal (1 subgoal):\n 1. MPoly_Type.coeff p 0 \\<noteq> 0", "using \\<open>p \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  ?m \\<noteq> 0 \\<Longrightarrow> MPoly_Type.coeff p ?m = 0\n  p \\<noteq> 0\n\ngoal (1 subgoal):\n 1. MPoly_Type.coeff p 0 \\<noteq> 0", "by (metis coeff_all_0)"], ["proof (state)\nthis:\n  MPoly_Type.coeff p 0 \\<noteq> 0\n\ngoal (2 subgoals):\n 1. \\<And>p.\n       \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<0}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f 0). insertion f p = 0}\n                         \\<in> null_sets (lborel_f 0)\n 2. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "then"], ["proof (chain)\npicking this:\n  MPoly_Type.coeff p 0 \\<noteq> 0", "have \"{f. insertion f p = 0} = {}\""], ["proof (prove)\nusing this:\n  MPoly_Type.coeff p 0 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. {f. insertion f p = 0} = {}", "using \\<open>\\<And>f. insertion f p = MPoly_Type.coeff p 0\\<close>"], ["proof (prove)\nusing this:\n  MPoly_Type.coeff p 0 \\<noteq> 0\n  insertion ?f p = MPoly_Type.coeff p 0\n\ngoal (1 subgoal):\n 1. {f. insertion f p = 0} = {}", "by auto"], ["proof (state)\nthis:\n  {f. insertion f p = 0} = {}\n\ngoal (2 subgoals):\n 1. \\<And>p.\n       \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<0}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f 0). insertion f p = 0}\n                         \\<in> null_sets (lborel_f 0)\n 2. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "then"], ["proof (chain)\npicking this:\n  {f. insertion f p = 0} = {}", "show ?case"], ["proof (prove)\nusing this:\n  {f. insertion f p = 0} = {}\n\ngoal (1 subgoal):\n 1. {f. f \\<in> space (lborel_f 0) \\<and> insertion f p = 0}\n    \\<in> null_sets (lborel_f 0)", "by auto"], ["proof (state)\nthis:\n  {f. f \\<in> space (lborel_f 0) \\<and> insertion f p = 0}\n  \\<in> null_sets (lborel_f 0)\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "case (Suc n p)"], ["proof (state)\nthis:\n  \\<lbrakk>?p \\<noteq> 0; vars ?p \\<subseteq> {..<n}\\<rbrakk>\n  \\<Longrightarrow> {f. f \\<in> space (lborel_f n) \\<and>\n                        insertion f ?p = 0}\n                    \\<in> null_sets (lborel_f n)\n  p \\<noteq> 0\n  vars p \\<subseteq> {..<Suc n}\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "text \\<open>Show that N is finite:\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>?p \\<noteq> 0; vars ?p \\<subseteq> {..<n}\\<rbrakk>\n  \\<Longrightarrow> {f. f \\<in> space (lborel_f n) \\<and>\n                        insertion f ?p = 0}\n                    \\<in> null_sets (lborel_f n)\n  p \\<noteq> 0\n  vars p \\<subseteq> {..<Suc n}\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?p \\<noteq> 0; vars ?p \\<subseteq> {..<n}\\<rbrakk>\n  \\<Longrightarrow> {f. f \\<in> space (lborel_f n) \\<and>\n                        insertion f ?p = 0}\n                    \\<in> null_sets (lborel_f n)\n  p \\<noteq> 0\n  vars p \\<subseteq> {..<Suc n}", "have \"extract_var p n \\<noteq> 0\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?p \\<noteq> 0; vars ?p \\<subseteq> {..<n}\\<rbrakk>\n  \\<Longrightarrow> {f. f \\<in> space (lborel_f n) \\<and>\n                        insertion f ?p = 0}\n                    \\<in> null_sets (lborel_f n)\n  p \\<noteq> 0\n  vars p \\<subseteq> {..<Suc n}\n\ngoal (1 subgoal):\n 1. extract_var p n \\<noteq> 0", "using reduce_nested_mpoly_0"], ["proof (prove)\nusing this:\n  \\<lbrakk>?p \\<noteq> 0; vars ?p \\<subseteq> {..<n}\\<rbrakk>\n  \\<Longrightarrow> {f. f \\<in> space (lborel_f n) \\<and>\n                        insertion f ?p = 0}\n                    \\<in> null_sets (lborel_f n)\n  p \\<noteq> 0\n  vars p \\<subseteq> {..<Suc n}\n  reduce_nested_mpoly 0 = 0\n\ngoal (1 subgoal):\n 1. extract_var p n \\<noteq> 0", "by (metis reduce_nested_mpoly_extract_var)"], ["proof (state)\nthis:\n  extract_var p n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "let ?q = \"\\<lambda>j. MPoly_Type.coeff (extract_var p n) j\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "obtain j where \"?q j \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>j.\n        MPoly_Type.coeff (extract_var p n) j \\<noteq> 0 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using \\<open>extract_var p n \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  extract_var p n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        MPoly_Type.coeff (extract_var p n) j \\<noteq> 0 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis coeff_all_0)"], ["proof (state)\nthis:\n  MPoly_Type.coeff (extract_var p n) j \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "then"], ["proof (chain)\npicking this:\n  MPoly_Type.coeff (extract_var p n) j \\<noteq> 0", "have \"finite {x. insertion (\\<lambda>_. x) (?q j) = 0}\""], ["proof (prove)\nusing this:\n  MPoly_Type.coeff (extract_var p n) j \\<noteq> 0\n\ngoal (1 subgoal):\n 1. finite\n     {x. insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) j) =\n         0}", "using univariate_mpoly_roots_finite[OF vars_coeff_extract_var]"], ["proof (prove)\nusing this:\n  MPoly_Type.coeff (extract_var p n) j \\<noteq> 0\n  MPoly_Type.coeff (extract_var ?p1 ?v) ?j1 \\<noteq> 0 \\<Longrightarrow>\n  finite\n   {x. insertion (\\<lambda>v. x)\n        (MPoly_Type.coeff (extract_var ?p1 ?v) ?j1) =\n       (0::?'a)}\n\ngoal (1 subgoal):\n 1. finite\n     {x. insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) j) =\n         0}", "by metis"], ["proof (state)\nthis:\n  finite\n   {x. insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) j) = 0}\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "then"], ["proof (chain)\npicking this:\n  finite\n   {x. insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) j) = 0}", "have \"finite (\\<Inter>j. {x. insertion (\\<lambda>_. x) (?q j) = 0})\""], ["proof (prove)\nusing this:\n  finite\n   {x. insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) j) = 0}\n\ngoal (1 subgoal):\n 1. finite\n     (\\<Inter>j.\n         {x. insertion (\\<lambda>_. x)\n              (MPoly_Type.coeff (extract_var p n) j) =\n             0})", "by auto"], ["proof (state)\nthis:\n  finite\n   (\\<Inter>j.\n       {x. insertion (\\<lambda>_. x)\n            (MPoly_Type.coeff (extract_var p n) j) =\n           0})\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "moreover"], ["proof (state)\nthis:\n  finite\n   (\\<Inter>j.\n       {x. insertion (\\<lambda>_. x)\n            (MPoly_Type.coeff (extract_var p n) j) =\n           0})\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have \"{x. \\<forall>j. insertion (\\<lambda>_. x) (?q j) = 0} = (\\<Inter>j. {x. insertion (\\<lambda>v. x) (?q j) = 0})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x. \\<forall>j.\n           insertion (\\<lambda>_. x)\n            (MPoly_Type.coeff (extract_var p n) j) =\n           0} =\n    (\\<Inter>j.\n        {x. insertion (\\<lambda>v. x)\n             (MPoly_Type.coeff (extract_var p n) j) =\n            0})", "by blast"], ["proof (state)\nthis:\n  {x. \\<forall>j.\n         insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) j) =\n         0} =\n  (\\<Inter>j.\n      {x. insertion (\\<lambda>v. x) (MPoly_Type.coeff (extract_var p n) j) =\n          0})\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "ultimately"], ["proof (chain)\npicking this:\n  finite\n   (\\<Inter>j.\n       {x. insertion (\\<lambda>_. x)\n            (MPoly_Type.coeff (extract_var p n) j) =\n           0})\n  {x. \\<forall>j.\n         insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) j) =\n         0} =\n  (\\<Inter>j.\n      {x. insertion (\\<lambda>v. x) (MPoly_Type.coeff (extract_var p n) j) =\n          0})", "have \"finite {x. \\<forall>j. insertion (\\<lambda>_. x) (?q j) = 0}\""], ["proof (prove)\nusing this:\n  finite\n   (\\<Inter>j.\n       {x. insertion (\\<lambda>_. x)\n            (MPoly_Type.coeff (extract_var p n) j) =\n           0})\n  {x. \\<forall>j.\n         insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) j) =\n         0} =\n  (\\<Inter>j.\n      {x. insertion (\\<lambda>v. x) (MPoly_Type.coeff (extract_var p n) j) =\n          0})\n\ngoal (1 subgoal):\n 1. finite\n     {x. \\<forall>j.\n            insertion (\\<lambda>_. x)\n             (MPoly_Type.coeff (extract_var p n) j) =\n            0}", "by metis"], ["proof (state)\nthis:\n  finite\n   {x. \\<forall>j.\n          insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) j) =\n          0}\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "define p_fix1 where \"p_fix1 x1 = replace_coeff (insertion (\\<lambda>_. x1)) (extract_var p n)\" for x1"], ["proof (state)\nthis:\n  p_fix1 ?x1.0 =\n  replace_coeff (insertion (\\<lambda>_. ?x1.0)) (extract_var p n)\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "define N where \"N = {x1. p_fix1 x1 = 0}\""], ["proof (state)\nthis:\n  N = {x1. p_fix1 x1 = 0}\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have \"N \\<subseteq> {x. \\<forall>j. insertion (\\<lambda>_. x) (?q j) = 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<subseteq> {x. \\<forall>j.\n                         insertion (\\<lambda>_. x)\n                          (MPoly_Type.coeff (extract_var p n) j) =\n                         0}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> N \\<Longrightarrow>\n       x \\<in> {x. \\<forall>j.\n                      insertion (\\<lambda>_. x)\n                       (MPoly_Type.coeff (extract_var p n) j) =\n                      0}", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> N \\<Longrightarrow>\n       x \\<in> {x. \\<forall>j.\n                      insertion (\\<lambda>_. x)\n                       (MPoly_Type.coeff (extract_var p n) j) =\n                      0}", "assume \"x\\<in>N\""], ["proof (state)\nthis:\n  x \\<in> N\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> N \\<Longrightarrow>\n       x \\<in> {x. \\<forall>j.\n                      insertion (\\<lambda>_. x)\n                       (MPoly_Type.coeff (extract_var p n) j) =\n                      0}", "then"], ["proof (chain)\npicking this:\n  x \\<in> N", "have \"p_fix1 x = 0\""], ["proof (prove)\nusing this:\n  x \\<in> N\n\ngoal (1 subgoal):\n 1. p_fix1 x = 0", "using N_def"], ["proof (prove)\nusing this:\n  x \\<in> N\n  N = {x1. p_fix1 x1 = 0}\n\ngoal (1 subgoal):\n 1. p_fix1 x = 0", "by auto"], ["proof (state)\nthis:\n  p_fix1 x = 0\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> N \\<Longrightarrow>\n       x \\<in> {x. \\<forall>j.\n                      insertion (\\<lambda>_. x)\n                       (MPoly_Type.coeff (extract_var p n) j) =\n                      0}", "then"], ["proof (chain)\npicking this:\n  p_fix1 x = 0", "have \"\\<And>m. MPoly_Type.coeff (p_fix1 x) m = 0\""], ["proof (prove)\nusing this:\n  p_fix1 x = 0\n\ngoal (1 subgoal):\n 1. \\<And>m. MPoly_Type.coeff (p_fix1 x) m = 0", "by (metis More_MPoly_Type.coeff_monom monom_zero when_def)"], ["proof (state)\nthis:\n  MPoly_Type.coeff (p_fix1 x) ?m = 0\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> N \\<Longrightarrow>\n       x \\<in> {x. \\<forall>j.\n                      insertion (\\<lambda>_. x)\n                       (MPoly_Type.coeff (extract_var p n) j) =\n                      0}", "have \"\\<And>j. insertion (\\<lambda>_. x) (?q j) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>j.\n       insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) j) = 0", "using \\<open>\\<And>m. MPoly_Type.coeff (p_fix1 x) m = 0\\<close>[unfolded p_fix1_def coeff_replace_coeff[of \"insertion (\\<lambda>_. x)\", OF insertion_zero]]"], ["proof (prove)\nusing this:\n  insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) ?m) = 0\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) j) = 0", "by metis"], ["proof (state)\nthis:\n  insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) ?j) = 0\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> N \\<Longrightarrow>\n       x \\<in> {x. \\<forall>j.\n                      insertion (\\<lambda>_. x)\n                       (MPoly_Type.coeff (extract_var p n) j) =\n                      0}", "then"], ["proof (chain)\npicking this:\n  insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) ?j) = 0", "show \"x \\<in> {x. \\<forall>j. insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) j) = 0}\""], ["proof (prove)\nusing this:\n  insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) ?j) = 0\n\ngoal (1 subgoal):\n 1. x \\<in> {x. \\<forall>j.\n                   insertion (\\<lambda>_. x)\n                    (MPoly_Type.coeff (extract_var p n) j) =\n                   0}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {x. \\<forall>j.\n                 insertion (\\<lambda>_. x)\n                  (MPoly_Type.coeff (extract_var p n) j) =\n                 0}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  N \\<subseteq> {x. \\<forall>j.\n                       insertion (\\<lambda>_. x)\n                        (MPoly_Type.coeff (extract_var p n) j) =\n                       0}\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "then"], ["proof (chain)\npicking this:\n  N \\<subseteq> {x. \\<forall>j.\n                       insertion (\\<lambda>_. x)\n                        (MPoly_Type.coeff (extract_var p n) j) =\n                       0}", "have \"finite N\""], ["proof (prove)\nusing this:\n  N \\<subseteq> {x. \\<forall>j.\n                       insertion (\\<lambda>_. x)\n                        (MPoly_Type.coeff (extract_var p n) j) =\n                       0}\n\ngoal (1 subgoal):\n 1. finite N", "by (simp add: \\<open>finite {x. \\<forall>j. insertion (\\<lambda>_. x) (MPoly_Type.coeff (extract_var p n) j) = 0}\\<close> finite_subset)"], ["proof (state)\nthis:\n  finite N\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "text \\<open>Use the IH:\\<close>"], ["proof (state)\nthis:\n  finite N\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "define A where \"A = {f\\<in>space (lborel_f (Suc n)). insertion f p = 0}\""], ["proof (state)\nthis:\n  A = {f \\<in> space (lborel_f (Suc n)). insertion f p = 0}\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have \"\\<And>x1. vars (p_fix1 x1) \\<subseteq> {..<n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1. vars (p_fix1 x1) \\<subseteq> {..<n}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1. vars (p_fix1 x1) \\<subseteq> {..<n}", "fix x1"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1. vars (p_fix1 x1) \\<subseteq> {..<n}", "have \"vars (extract_var p n) \\<subseteq> {..<n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vars (extract_var p n) \\<subseteq> {..<n}", "using \\<open>vars p \\<subseteq> {..<Suc n}\\<close> lessThan_Suc v_not_in_vars_extract_var vars_extract_var_subset"], ["proof (prove)\nusing this:\n  vars p \\<subseteq> {..<Suc n}\n  {..<Suc ?k} = insert ?k {..<?k}\n  ?v \\<notin> vars (extract_var ?p ?v)\n  vars (extract_var ?p ?v) \\<subseteq> vars ?p\n\ngoal (1 subgoal):\n 1. vars (extract_var p n) \\<subseteq> {..<n}", "by fastforce"], ["proof (state)\nthis:\n  vars (extract_var p n) \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. \\<And>x1. vars (p_fix1 x1) \\<subseteq> {..<n}", "then"], ["proof (chain)\npicking this:\n  vars (extract_var p n) \\<subseteq> {..<n}", "show \"vars (p_fix1 x1) \\<subseteq> {..<n}\""], ["proof (prove)\nusing this:\n  vars (extract_var p n) \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. vars (p_fix1 x1) \\<subseteq> {..<n}", "unfolding p_fix1_def"], ["proof (prove)\nusing this:\n  vars (extract_var p n) \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. vars (replace_coeff (insertion (\\<lambda>_. x1)) (extract_var p n))\n    \\<subseteq> {..<n}", "using vars_replace_coeff[of \"insertion (\\<lambda>_. x1)\", OF insertion_zero]"], ["proof (prove)\nusing this:\n  vars (extract_var p n) \\<subseteq> {..<n}\n  vars (replace_coeff (insertion (\\<lambda>_. x1)) ?p) \\<subseteq> vars ?p\n\ngoal (1 subgoal):\n 1. vars (replace_coeff (insertion (\\<lambda>_. x1)) (extract_var p n))\n    \\<subseteq> {..<n}", "by blast"], ["proof (state)\nthis:\n  vars (p_fix1 x1) \\<subseteq> {..<n}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  vars (p_fix1 ?x1.0) \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have set_eq:\"\\<And>x1. {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} = {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1.\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1.\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}", "fix x1"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x1.\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}", "show \"{x\\<in>space (lborel_f n). x(n := x1) \\<in> A} = {f\\<in>space (lborel_f n). insertion f (p_fix1 x1) = 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n    {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}", "proof (rule subset_antisym;rule subsetI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> space (lborel_f n).\n                x(n := x1) \\<in> A} \\<Longrightarrow>\n       x \\<in> {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n 2. \\<And>x.\n       x \\<in> {f \\<in> space (lborel_f n).\n                insertion f (p_fix1 x1) = 0} \\<Longrightarrow>\n       x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> space (lborel_f n).\n                x(n := x1) \\<in> A} \\<Longrightarrow>\n       x \\<in> {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n 2. \\<And>x.\n       x \\<in> {f \\<in> space (lborel_f n).\n                insertion f (p_fix1 x1) = 0} \\<Longrightarrow>\n       x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}", "assume \"x \\<in> {x\\<in>space (lborel_f n). x(n := x1) \\<in> A}\""], ["proof (state)\nthis:\n  x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> space (lborel_f n).\n                x(n := x1) \\<in> A} \\<Longrightarrow>\n       x \\<in> {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n 2. \\<And>x.\n       x \\<in> {f \\<in> space (lborel_f n).\n                insertion f (p_fix1 x1) = 0} \\<Longrightarrow>\n       x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}", "then"], ["proof (chain)\npicking this:\n  x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}", "have \"insertion (x(n := x1)) p = 0\" \"x \\<in> space (lborel_f n)\""], ["proof (prove)\nusing this:\n  x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n\ngoal (1 subgoal):\n 1. insertion (x(n := x1)) p = 0 &&& x \\<in> space (lborel_f n)", "using A_def"], ["proof (prove)\nusing this:\n  x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n  A = {f \\<in> space (lborel_f (Suc n)). insertion f p = 0}\n\ngoal (1 subgoal):\n 1. insertion (x(n := x1)) p = 0 &&& x \\<in> space (lborel_f n)", "by auto"], ["proof (state)\nthis:\n  insertion (x(n := x1)) p = 0\n  x \\<in> space (lborel_f n)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> space (lborel_f n).\n                x(n := x1) \\<in> A} \\<Longrightarrow>\n       x \\<in> {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n 2. \\<And>x.\n       x \\<in> {f \\<in> space (lborel_f n).\n                insertion f (p_fix1 x1) = 0} \\<Longrightarrow>\n       x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}", "then"], ["proof (chain)\npicking this:\n  insertion (x(n := x1)) p = 0\n  x \\<in> space (lborel_f n)", "have \"insertion x (p_fix1 x1) = 0\""], ["proof (prove)\nusing this:\n  insertion (x(n := x1)) p = 0\n  x \\<in> space (lborel_f n)\n\ngoal (1 subgoal):\n 1. insertion x (p_fix1 x1) = 0", "unfolding p_fix1_def"], ["proof (prove)\nusing this:\n  insertion (x(n := x1)) p = 0\n  x \\<in> space (lborel_f n)\n\ngoal (1 subgoal):\n 1. insertion x\n     (replace_coeff (insertion (\\<lambda>_. x1)) (extract_var p n)) =\n    0", "unfolding replace_coeff_extract_var_cong[of \"\\<lambda>_. x1\" n \"x(n := x1)\" p, OF fun_upd_same[symmetric]]"], ["proof (prove)\nusing this:\n  insertion (x(n := x1)) p = 0\n  x \\<in> space (lborel_f n)\n\ngoal (1 subgoal):\n 1. insertion x (replace_coeff (insertion (x(n := x1))) (extract_var p n)) =\n    0", "using insertion_replace_coeff[of \"x(n := x1)\"]"], ["proof (prove)\nusing this:\n  insertion (x(n := x1)) p = 0\n  x \\<in> space (lborel_f n)\n  insertion (x(n := x1)) (replace_coeff (insertion (x(n := x1))) ?pp) =\n  insertion (x(n := x1)) (reduce_nested_mpoly ?pp)\n\ngoal (1 subgoal):\n 1. insertion x (replace_coeff (insertion (x(n := x1))) (extract_var p n)) =\n    0", "using  insertion_irrelevant_vars[of \"replace_coeff (insertion (x(n := x1))) (extract_var p n)\" x \"x(n := x1)\"]\n         vars_replace_coeff fun_upd_other insertion_zero reduce_nested_mpoly_extract_var subset_eq\n         v_not_in_vars_extract_var"], ["proof (prove)\nusing this:\n  insertion (x(n := x1)) p = 0\n  x \\<in> space (lborel_f n)\n  insertion (x(n := x1)) (replace_coeff (insertion (x(n := x1))) ?pp) =\n  insertion (x(n := x1)) (reduce_nested_mpoly ?pp)\n  (\\<And>v.\n      v \\<in> vars\n               (replace_coeff (insertion (x(n := x1)))\n                 (extract_var p n)) \\<Longrightarrow>\n      x v = (x(n := x1)) v) \\<Longrightarrow>\n  insertion x (replace_coeff (insertion (x(n := x1))) (extract_var p n)) =\n  insertion (x(n := x1))\n   (replace_coeff (insertion (x(n := x1))) (extract_var p n))\n  ?f (0::?'b) = (0::?'a) \\<Longrightarrow>\n  vars (replace_coeff ?f ?p) \\<subseteq> vars ?p\n  ?z \\<noteq> ?x \\<Longrightarrow> (?f(?x := ?y)) ?z = ?f ?z\n  insertion ?f 0 = (0::?'a)\n  reduce_nested_mpoly (extract_var ?p ?v) = ?p\n  (?A \\<subseteq> ?B) = (\\<forall>x\\<in>?A. x \\<in> ?B)\n  ?v \\<notin> vars (extract_var ?p ?v)\n\ngoal (1 subgoal):\n 1. insertion x (replace_coeff (insertion (x(n := x1))) (extract_var p n)) =\n    0", "by metis"], ["proof (state)\nthis:\n  insertion x (p_fix1 x1) = 0\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> space (lborel_f n).\n                x(n := x1) \\<in> A} \\<Longrightarrow>\n       x \\<in> {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n 2. \\<And>x.\n       x \\<in> {f \\<in> space (lborel_f n).\n                insertion f (p_fix1 x1) = 0} \\<Longrightarrow>\n       x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}", "then"], ["proof (chain)\npicking this:\n  insertion x (p_fix1 x1) = 0", "show \"x \\<in> {f\\<in>space (lborel_f n). insertion f (p_fix1 x1) = 0}\""], ["proof (prove)\nusing this:\n  insertion x (p_fix1 x1) = 0\n\ngoal (1 subgoal):\n 1. x \\<in> {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}", "using \\<open>x \\<in> space (lborel_f n)\\<close>"], ["proof (prove)\nusing this:\n  insertion x (p_fix1 x1) = 0\n  x \\<in> space (lborel_f n)\n\ngoal (1 subgoal):\n 1. x \\<in> {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {f \\<in> space (lborel_f n).\n                insertion f (p_fix1 x1) = 0} \\<Longrightarrow>\n       x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {f \\<in> space (lborel_f n).\n                insertion f (p_fix1 x1) = 0} \\<Longrightarrow>\n       x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}", "fix f"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {f \\<in> space (lborel_f n).\n                insertion f (p_fix1 x1) = 0} \\<Longrightarrow>\n       x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}", "assume \"f \\<in> {f\\<in>space (lborel_f n). insertion f (p_fix1 x1) = 0}\""], ["proof (state)\nthis:\n  f \\<in> {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {f \\<in> space (lborel_f n).\n                insertion f (p_fix1 x1) = 0} \\<Longrightarrow>\n       x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}", "then"], ["proof (chain)\npicking this:\n  f \\<in> {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}", "have \"f\\<in>space (lborel_f n)\" \"insertion f (p_fix1 x1) = 0\""], ["proof (prove)\nusing this:\n  f \\<in> {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n\ngoal (1 subgoal):\n 1. f \\<in> space (lborel_f n) &&& insertion f (p_fix1 x1) = 0", "by auto"], ["proof (state)\nthis:\n  f \\<in> space (lborel_f n)\n  insertion f (p_fix1 x1) = 0\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {f \\<in> space (lborel_f n).\n                insertion f (p_fix1 x1) = 0} \\<Longrightarrow>\n       x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}", "have \"insertion (f(n := x1)) p = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertion (f(n := x1)) p = 0", "using \\<open>insertion f (p_fix1 x1) = 0\\<close>[unfolded p_fix1_def]\n        insertion_replace_coeff insertion_irrelevant_vars replace_coeff_extract_var_cong"], ["proof (prove)\nusing this:\n  insertion f\n   (replace_coeff (insertion (\\<lambda>_. x1)) (extract_var p n)) =\n  0\n  insertion ?f (replace_coeff (insertion ?f) ?pp) =\n  insertion ?f (reduce_nested_mpoly ?pp)\n  (\\<And>v. v \\<in> vars ?p \\<Longrightarrow> ?f v = ?g v) \\<Longrightarrow>\n  insertion ?f ?p = insertion ?g ?p\n  ?f ?v = ?g ?v \\<Longrightarrow>\n  replace_coeff (insertion ?f) (extract_var ?p ?v) =\n  replace_coeff (insertion ?g) (extract_var ?p ?v)\n\ngoal (1 subgoal):\n 1. insertion (f(n := x1)) p = 0", "by (metis (no_types, lifting) \\<open>insertion f (p_fix1 x1) = 0\\<close> \\<open>vars (p_fix1 x1) \\<subseteq> {..<n}\\<close>\n        fun_upd_other fun_upd_same lessThan_iff order_less_irrefl p_fix1_def reduce_nested_mpoly_extract_var subsetCE)"], ["proof (state)\nthis:\n  insertion (f(n := x1)) p = 0\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {f \\<in> space (lborel_f n).\n                insertion f (p_fix1 x1) = 0} \\<Longrightarrow>\n       x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}", "then"], ["proof (chain)\npicking this:\n  insertion (f(n := x1)) p = 0", "have \"f(n := x1) \\<in> A\""], ["proof (prove)\nusing this:\n  insertion (f(n := x1)) p = 0\n\ngoal (1 subgoal):\n 1. f(n := x1) \\<in> A", "unfolding A_def"], ["proof (prove)\nusing this:\n  insertion (f(n := x1)) p = 0\n\ngoal (1 subgoal):\n 1. f(n := x1) \\<in> {f \\<in> space (lborel_f (Suc n)). insertion f p = 0}", "using space_lborel_add_dim"], ["proof (prove)\nusing this:\n  insertion (f(n := x1)) p = 0\n  ?f \\<in> space (lborel_f ?n) \\<Longrightarrow>\n  ?f(?n := ?x) \\<in> space (lborel_f (Suc ?n))\n\ngoal (1 subgoal):\n 1. f(n := x1) \\<in> {f \\<in> space (lborel_f (Suc n)). insertion f p = 0}", "using \\<open>f \\<in> space (lborel_f n)\\<close> lborel_f_def mem_Collect_eq"], ["proof (prove)\nusing this:\n  insertion (f(n := x1)) p = 0\n  ?f \\<in> space (lborel_f ?n) \\<Longrightarrow>\n  ?f(?n := ?x) \\<in> space (lborel_f (Suc ?n))\n  f \\<in> space (lborel_f n)\n  lborel_f ?n = Pi\\<^sub>M {..<?n} (\\<lambda>b. lborel)\n  (?a \\<in> Collect ?P) = ?P ?a\n\ngoal (1 subgoal):\n 1. f(n := x1) \\<in> {f \\<in> space (lborel_f (Suc n)). insertion f p = 0}", "by blast"], ["proof (state)\nthis:\n  f(n := x1) \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {f \\<in> space (lborel_f n).\n                insertion f (p_fix1 x1) = 0} \\<Longrightarrow>\n       x \\<in> {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}", "then"], ["proof (chain)\npicking this:\n  f(n := x1) \\<in> A", "show \"f \\<in> {f\\<in>space (lborel_f n). f(n := x1) \\<in> A}\""], ["proof (prove)\nusing this:\n  f(n := x1) \\<in> A\n\ngoal (1 subgoal):\n 1. f \\<in> {f \\<in> space (lborel_f n). f(n := x1) \\<in> A}", "using \\<open>f \\<in> space (lborel_f n)\\<close>"], ["proof (prove)\nusing this:\n  f(n := x1) \\<in> A\n  f \\<in> space (lborel_f n)\n\ngoal (1 subgoal):\n 1. f \\<in> {f \\<in> space (lborel_f n). f(n := x1) \\<in> A}", "by auto"], ["proof (state)\nthis:\n  f \\<in> {f \\<in> space (lborel_f n). f(n := x1) \\<in> A}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n  {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A} =\n  {f \\<in> space (lborel_f n). insertion f (p_fix1 ?x1.0) = 0}\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have \"\\<And>x1. x1\\<in>N \\<Longrightarrow> {x\\<in>space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)\"\n       and emeasure_in_N: \"\\<And>x1. x1\\<in>N \\<Longrightarrow> emeasure (lborel_f n) {x\\<in>space (lborel_f n). x(n := x1) \\<in> A} = emeasure (lborel_f n) (space (lborel_f n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x1.\n        x1 \\<in> N \\<Longrightarrow>\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n        \\<in> sets (lborel_f n)) &&&\n    (\\<And>x1.\n        x1 \\<in> N \\<Longrightarrow>\n        emeasure (lborel_f n)\n         {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n        emeasure (lborel_f n) (space (lborel_f n)))", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1.\n       x1 \\<in> N \\<Longrightarrow>\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n       \\<in> sets (lborel_f n)\n 2. \\<And>x1.\n       x1 \\<in> N \\<Longrightarrow>\n       emeasure (lborel_f n)\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       emeasure (lborel_f n) (space (lborel_f n))", "fix x1"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1.\n       x1 \\<in> N \\<Longrightarrow>\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n       \\<in> sets (lborel_f n)\n 2. \\<And>x1.\n       x1 \\<in> N \\<Longrightarrow>\n       emeasure (lborel_f n)\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       emeasure (lborel_f n) (space (lborel_f n))", "assume \"x1\\<in>N\""], ["proof (state)\nthis:\n  x1 \\<in> N\n\ngoal (2 subgoals):\n 1. \\<And>x1.\n       x1 \\<in> N \\<Longrightarrow>\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n       \\<in> sets (lborel_f n)\n 2. \\<And>x1.\n       x1 \\<in> N \\<Longrightarrow>\n       emeasure (lborel_f n)\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       emeasure (lborel_f n) (space (lborel_f n))", "then"], ["proof (chain)\npicking this:\n  x1 \\<in> N", "have \"p_fix1 x1 = 0\""], ["proof (prove)\nusing this:\n  x1 \\<in> N\n\ngoal (1 subgoal):\n 1. p_fix1 x1 = 0", "using N_def"], ["proof (prove)\nusing this:\n  x1 \\<in> N\n  N = {x1. p_fix1 x1 = 0}\n\ngoal (1 subgoal):\n 1. p_fix1 x1 = 0", "by auto"], ["proof (state)\nthis:\n  p_fix1 x1 = 0\n\ngoal (2 subgoals):\n 1. \\<And>x1.\n       x1 \\<in> N \\<Longrightarrow>\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n       \\<in> sets (lborel_f n)\n 2. \\<And>x1.\n       x1 \\<in> N \\<Longrightarrow>\n       emeasure (lborel_f n)\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       emeasure (lborel_f n) (space (lborel_f n))", "then"], ["proof (chain)\npicking this:\n  p_fix1 x1 = 0", "have \"\\<And>f. insertion f (p_fix1 x1) = 0\""], ["proof (prove)\nusing this:\n  p_fix1 x1 = 0\n\ngoal (1 subgoal):\n 1. \\<And>f. insertion f (p_fix1 x1) = 0", "using insertion_zero"], ["proof (prove)\nusing this:\n  p_fix1 x1 = 0\n  insertion ?f 0 = (0::?'a)\n\ngoal (1 subgoal):\n 1. \\<And>f. insertion f (p_fix1 x1) = 0", "by auto"], ["proof (state)\nthis:\n  insertion ?f (p_fix1 x1) = 0\n\ngoal (2 subgoals):\n 1. \\<And>x1.\n       x1 \\<in> N \\<Longrightarrow>\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n       \\<in> sets (lborel_f n)\n 2. \\<And>x1.\n       x1 \\<in> N \\<Longrightarrow>\n       emeasure (lborel_f n)\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       emeasure (lborel_f n) (space (lborel_f n))", "then"], ["proof (chain)\npicking this:\n  insertion ?f (p_fix1 x1) = 0", "have \"{f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} = space (lborel_f n)\""], ["proof (prove)\nusing this:\n  insertion ?f (p_fix1 x1) = 0\n\ngoal (1 subgoal):\n 1. {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} =\n    space (lborel_f n)", "by simp"], ["proof (state)\nthis:\n  {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} =\n  space (lborel_f n)\n\ngoal (2 subgoals):\n 1. \\<And>x1.\n       x1 \\<in> N \\<Longrightarrow>\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n       \\<in> sets (lborel_f n)\n 2. \\<And>x1.\n       x1 \\<in> N \\<Longrightarrow>\n       emeasure (lborel_f n)\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       emeasure (lborel_f n) (space (lborel_f n))", "show \"{x\\<in>space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)", "unfolding set_eq"], ["proof (prove)\ngoal (1 subgoal):\n 1. {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n    \\<in> sets (lborel_f n)", "by (simp add: \\<open>{f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} = space (lborel_f n)\\<close>)"], ["proof (state)\nthis:\n  {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)\n\ngoal (1 subgoal):\n 1. \\<And>x1.\n       x1 \\<in> N \\<Longrightarrow>\n       emeasure (lborel_f n)\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       emeasure (lborel_f n) (space (lborel_f n))", "show \"emeasure (lborel_f n) {x\\<in>space (lborel_f n). x(n := x1) \\<in> A} = emeasure (lborel_f n) (space (lborel_f n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. emeasure (lborel_f n) {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n    emeasure (lborel_f n) (space (lborel_f n))", "unfolding set_eq"], ["proof (prove)\ngoal (1 subgoal):\n 1. emeasure (lborel_f n)\n     {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} =\n    emeasure (lborel_f n) (space (lborel_f n))", "by (simp add: \\<open>{f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} = space (lborel_f n)\\<close>)"], ["proof (state)\nthis:\n  emeasure (lborel_f n) {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n  emeasure (lborel_f n) (space (lborel_f n))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?x1.0 \\<in> N \\<Longrightarrow>\n  {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A}\n  \\<in> sets (lborel_f n)\n  ?x1.0 \\<in> N \\<Longrightarrow>\n  emeasure (lborel_f n)\n   {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A} =\n  emeasure (lborel_f n) (space (lborel_f n))\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have emeasure_not_in_N: \"\\<And>x1. x1\\<notin>N \\<Longrightarrow> emeasure (lborel_f n) {x\\<in>space (lborel_f n). x(n := x1) \\<in> A} = 0\"\n       and \"\\<And>x1. x1\\<notin>N \\<Longrightarrow> {x\\<in>space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x1.\n        x1 \\<notin> N \\<Longrightarrow>\n        emeasure (lborel_f n)\n         {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n        0) &&&\n    (\\<And>x1.\n        x1 \\<notin> N \\<Longrightarrow>\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n        \\<in> sets (lborel_f n))", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1.\n       x1 \\<notin> N \\<Longrightarrow>\n       emeasure (lborel_f n)\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       0\n 2. \\<And>x1.\n       x1 \\<notin> N \\<Longrightarrow>\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n       \\<in> sets (lborel_f n)", "fix x1"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1.\n       x1 \\<notin> N \\<Longrightarrow>\n       emeasure (lborel_f n)\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       0\n 2. \\<And>x1.\n       x1 \\<notin> N \\<Longrightarrow>\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n       \\<in> sets (lborel_f n)", "assume \"x1\\<notin>N\""], ["proof (state)\nthis:\n  x1 \\<notin> N\n\ngoal (2 subgoals):\n 1. \\<And>x1.\n       x1 \\<notin> N \\<Longrightarrow>\n       emeasure (lborel_f n)\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       0\n 2. \\<And>x1.\n       x1 \\<notin> N \\<Longrightarrow>\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n       \\<in> sets (lborel_f n)", "then"], ["proof (chain)\npicking this:\n  x1 \\<notin> N", "have \"p_fix1 x1 \\<noteq> 0\""], ["proof (prove)\nusing this:\n  x1 \\<notin> N\n\ngoal (1 subgoal):\n 1. p_fix1 x1 \\<noteq> 0", "using p_fix1_def N_def"], ["proof (prove)\nusing this:\n  x1 \\<notin> N\n  p_fix1 ?x1.0 =\n  replace_coeff (insertion (\\<lambda>_. ?x1.0)) (extract_var p n)\n  N = {x1. p_fix1 x1 = 0}\n\ngoal (1 subgoal):\n 1. p_fix1 x1 \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  p_fix1 x1 \\<noteq> 0\n\ngoal (2 subgoals):\n 1. \\<And>x1.\n       x1 \\<notin> N \\<Longrightarrow>\n       emeasure (lborel_f n)\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       0\n 2. \\<And>x1.\n       x1 \\<notin> N \\<Longrightarrow>\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n       \\<in> sets (lborel_f n)", "then"], ["proof (chain)\npicking this:\n  p_fix1 x1 \\<noteq> 0", "have \"emeasure (lborel_f n) {f\\<in>space (lborel_f n). insertion f (p_fix1 x1) = 0} = 0\"\n              \"{f\\<in>space (lborel_f n). insertion f (p_fix1 x1) = 0} \\<in> sets (lborel_f n)\""], ["proof (prove)\nusing this:\n  p_fix1 x1 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. emeasure (lborel_f n)\n     {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} =\n    0 &&&\n    {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n    \\<in> sets (lborel_f n)", "using Suc.IH[OF \\<open>p_fix1 x1 \\<noteq> 0\\<close>] \\<open>\\<And>x1. vars (p_fix1 x1) \\<subseteq> {..<n}\\<close>"], ["proof (prove)\nusing this:\n  p_fix1 x1 \\<noteq> 0\n  vars (p_fix1 x1) \\<subseteq> {..<n} \\<Longrightarrow>\n  {f. f \\<in> space (lborel_f n) \\<and> insertion f (p_fix1 x1) = 0}\n  \\<in> null_sets (lborel_f n)\n  vars (p_fix1 ?x1.0) \\<subseteq> {..<n}\n\ngoal (1 subgoal):\n 1. emeasure (lborel_f n)\n     {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} =\n    0 &&&\n    {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n    \\<in> sets (lborel_f n)", "by auto"], ["proof (state)\nthis:\n  emeasure (lborel_f n)\n   {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} =\n  0\n  {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n  \\<in> sets (lborel_f n)\n\ngoal (2 subgoals):\n 1. \\<And>x1.\n       x1 \\<notin> N \\<Longrightarrow>\n       emeasure (lborel_f n)\n        {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n       0\n 2. \\<And>x1.\n       x1 \\<notin> N \\<Longrightarrow>\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n       \\<in> sets (lborel_f n)", "then"], ["proof (chain)\npicking this:\n  emeasure (lborel_f n)\n   {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} =\n  0\n  {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n  \\<in> sets (lborel_f n)", "show \"emeasure (lborel_f n) {x\\<in>space (lborel_f n). x(n := x1) \\<in> A} = 0\"\n      \"{x\\<in>space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)\""], ["proof (prove)\nusing this:\n  emeasure (lborel_f n)\n   {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} =\n  0\n  {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n  \\<in> sets (lborel_f n)\n\ngoal (1 subgoal):\n 1. emeasure (lborel_f n) {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n    0 &&&\n    {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)", "using \\<open>{f\\<in>space (lborel_f n). insertion f (p_fix1 x1) = 0} \\<in> sets (lborel_f n)\\<close>\n        \\<open>emeasure (lborel_f n) {f\\<in>space (lborel_f n). insertion f (p_fix1 x1) = 0} = 0\\<close>"], ["proof (prove)\nusing this:\n  emeasure (lborel_f n)\n   {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} =\n  0\n  {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n  \\<in> sets (lborel_f n)\n  {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n  \\<in> sets (lborel_f n)\n  emeasure (lborel_f n)\n   {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} =\n  0\n\ngoal (1 subgoal):\n 1. emeasure (lborel_f n) {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n    0 &&&\n    {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)", "using set_eq"], ["proof (prove)\nusing this:\n  emeasure (lborel_f n)\n   {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} =\n  0\n  {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n  \\<in> sets (lborel_f n)\n  {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0}\n  \\<in> sets (lborel_f n)\n  emeasure (lborel_f n)\n   {f \\<in> space (lborel_f n). insertion f (p_fix1 x1) = 0} =\n  0\n  {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A} =\n  {f \\<in> space (lborel_f n). insertion f (p_fix1 ?x1.0) = 0}\n\ngoal (1 subgoal):\n 1. emeasure (lborel_f n) {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n    0 &&&\n    {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)", "by auto"], ["proof (state)\nthis:\n  emeasure (lborel_f n) {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} = 0\n  {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?x1.0 \\<notin> N \\<Longrightarrow>\n  emeasure (lborel_f n)\n   {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A} =\n  0\n  ?x1.0 \\<notin> N \\<Longrightarrow>\n  {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A}\n  \\<in> sets (lborel_f n)\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have \"N \\<in> null_sets lborel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<in> null_sets lborel", "using \\<open>finite N\\<close> finite_imp_null_set_lborel"], ["proof (prove)\nusing this:\n  finite N\n  finite ?A \\<Longrightarrow> ?A \\<in> null_sets lborel\n\ngoal (1 subgoal):\n 1. N \\<in> null_sets lborel", "by blast"], ["proof (state)\nthis:\n  N \\<in> null_sets lborel\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have ae_zero: \"AE x1 in lborel. emeasure (lborel_f n) {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE x1 in lborel. emeasure (lborel_f n)\n                      {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n                     0", "apply (rule AE_I'[OF \\<open>N \\<in> null_sets lborel\\<close>])"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x1 \\<in> space lborel.\n     emeasure (lborel_f n)\n      {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} \\<noteq>\n     0}\n    \\<subseteq> N", "using \\<open>\\<And>x1. x1\\<notin>N \\<Longrightarrow> emeasure (lborel_f n) {x\\<in>space (lborel_f n). x(n := x1) \\<in> A} = 0\\<close>"], ["proof (prove)\nusing this:\n  ?x1.0 \\<notin> N \\<Longrightarrow>\n  emeasure (lborel_f n)\n   {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A} =\n  0\n\ngoal (1 subgoal):\n 1. {x1 \\<in> space lborel.\n     emeasure (lborel_f n)\n      {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} \\<noteq>\n     0}\n    \\<subseteq> N", "by force"], ["proof (state)\nthis:\n  AE x1 in lborel. emeasure (lborel_f n)\n                    {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n                   0\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have measurable: \"(\\<lambda>x1. emeasure (lborel_f n) {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) \\<in> borel_measurable lborel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x1.\n        emeasure (lborel_f n)\n         {x \\<in> space (lborel_f n). x(n := x1) \\<in> A})\n    \\<in> borel_measurable lborel", "proof (rule borel_measurableI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S.\n       open S \\<Longrightarrow>\n       (\\<lambda>x1.\n           emeasure (lborel_f n)\n            {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n       S \\<inter>\n       space lborel\n       \\<in> sets lborel", "let ?f = \"(\\<lambda>x1. emeasure (lborel_f n) {x \\<in> space (lborel_f n). x(n := x1) \\<in> A})\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S.\n       open S \\<Longrightarrow>\n       (\\<lambda>x1.\n           emeasure (lborel_f n)\n            {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n       S \\<inter>\n       space lborel\n       \\<in> sets lborel", "fix S::\"ennreal set\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S.\n       open S \\<Longrightarrow>\n       (\\<lambda>x1.\n           emeasure (lborel_f n)\n            {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n       S \\<inter>\n       space lborel\n       \\<in> sets lborel", "assume \"open S\""], ["proof (state)\nthis:\n  open S\n\ngoal (1 subgoal):\n 1. \\<And>S.\n       open S \\<Longrightarrow>\n       (\\<lambda>x1.\n           emeasure (lborel_f n)\n            {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n       S \\<inter>\n       space lborel\n       \\<in> sets lborel", "have 0:\"0\\<in>S \\<Longrightarrow> - N \\<subseteq> ?f -` S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> S \\<Longrightarrow>\n    - N\n    \\<subseteq> (\\<lambda>x1.\n                    emeasure (lborel_f n)\n                     {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n                S", "using emeasure_not_in_N"], ["proof (prove)\nusing this:\n  ?x1.0 \\<notin> N \\<Longrightarrow>\n  emeasure (lborel_f n)\n   {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A} =\n  0\n\ngoal (1 subgoal):\n 1. 0 \\<in> S \\<Longrightarrow>\n    - N\n    \\<subseteq> (\\<lambda>x1.\n                    emeasure (lborel_f n)\n                     {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n                S", "by auto"], ["proof (state)\nthis:\n  0 \\<in> S \\<Longrightarrow>\n  - N\n  \\<subseteq> (\\<lambda>x1.\n                  emeasure (lborel_f n)\n                   {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n              S\n\ngoal (1 subgoal):\n 1. \\<And>S.\n       open S \\<Longrightarrow>\n       (\\<lambda>x1.\n           emeasure (lborel_f n)\n            {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n       S \\<inter>\n       space lborel\n       \\<in> sets lborel", "have 1:\"emeasure (lborel_f n) (space (lborel_f n)) \\<in> S \\<Longrightarrow> N \\<subseteq> ?f -` S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. emeasure (lborel_f n) (space (lborel_f n)) \\<in> S \\<Longrightarrow>\n    N \\<subseteq> (\\<lambda>x1.\n                      emeasure (lborel_f n)\n                       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n                  S", "using emeasure_in_N"], ["proof (prove)\nusing this:\n  ?x1.0 \\<in> N \\<Longrightarrow>\n  emeasure (lborel_f n)\n   {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A} =\n  emeasure (lborel_f n) (space (lborel_f n))\n\ngoal (1 subgoal):\n 1. emeasure (lborel_f n) (space (lborel_f n)) \\<in> S \\<Longrightarrow>\n    N \\<subseteq> (\\<lambda>x1.\n                      emeasure (lborel_f n)\n                       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n                  S", "by auto"], ["proof (state)\nthis:\n  emeasure (lborel_f n) (space (lborel_f n)) \\<in> S \\<Longrightarrow>\n  N \\<subseteq> (\\<lambda>x1.\n                    emeasure (lborel_f n)\n                     {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n                S\n\ngoal (1 subgoal):\n 1. \\<And>S.\n       open S \\<Longrightarrow>\n       (\\<lambda>x1.\n           emeasure (lborel_f n)\n            {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n       S \\<inter>\n       space lborel\n       \\<in> sets lborel", "have 2:\"0\\<notin>S \\<Longrightarrow> ?f -` S \\<subseteq> N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<notin> S \\<Longrightarrow>\n    (\\<lambda>x1.\n        emeasure (lborel_f n)\n         {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n    S\n    \\<subseteq> N", "using emeasure_not_in_N"], ["proof (prove)\nusing this:\n  ?x1.0 \\<notin> N \\<Longrightarrow>\n  emeasure (lborel_f n)\n   {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A} =\n  0\n\ngoal (1 subgoal):\n 1. 0 \\<notin> S \\<Longrightarrow>\n    (\\<lambda>x1.\n        emeasure (lborel_f n)\n         {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n    S\n    \\<subseteq> N", "by fastforce"], ["proof (state)\nthis:\n  0 \\<notin> S \\<Longrightarrow>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S\n  \\<subseteq> N\n\ngoal (1 subgoal):\n 1. \\<And>S.\n       open S \\<Longrightarrow>\n       (\\<lambda>x1.\n           emeasure (lborel_f n)\n            {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n       S \\<inter>\n       space lborel\n       \\<in> sets lborel", "have 3:\"emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S \\<Longrightarrow> ?f -` S \\<subseteq> -N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S \\<Longrightarrow>\n    (\\<lambda>x1.\n        emeasure (lborel_f n)\n         {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n    S\n    \\<subseteq> - N", "using emeasure_in_N"], ["proof (prove)\nusing this:\n  ?x1.0 \\<in> N \\<Longrightarrow>\n  emeasure (lborel_f n)\n   {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A} =\n  emeasure (lborel_f n) (space (lborel_f n))\n\ngoal (1 subgoal):\n 1. emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S \\<Longrightarrow>\n    (\\<lambda>x1.\n        emeasure (lborel_f n)\n         {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n    S\n    \\<subseteq> - N", "by auto"], ["proof (state)\nthis:\n  emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S \\<Longrightarrow>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S\n  \\<subseteq> - N\n\ngoal (1 subgoal):\n 1. \\<And>S.\n       open S \\<Longrightarrow>\n       (\\<lambda>x1.\n           emeasure (lborel_f n)\n            {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n       S \\<inter>\n       space lborel\n       \\<in> sets lborel", "have \"?f -` S = {} \\<or> ?f -` S = N \\<or> ?f -` S = UNIV \\<or> ?f -` S = - N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x1.\n        emeasure (lborel_f n)\n         {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n    S =\n    {} \\<or>\n    (\\<lambda>x1.\n        emeasure (lborel_f n)\n         {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n    S =\n    N \\<or>\n    (\\<lambda>x1.\n        emeasure (lborel_f n)\n         {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n    S =\n    UNIV \\<or>\n    (\\<lambda>x1.\n        emeasure (lborel_f n)\n         {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n    S =\n    - N", "apply (cases \"0\\<in>S\"; cases \"emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S\")"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>0 \\<in> S;\n     emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      {} \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      N \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      UNIV \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      - N\n 2. \\<lbrakk>0 \\<in> S;\n     \\<not> emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      {} \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      N \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      UNIV \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      - N\n 3. \\<lbrakk>0 \\<notin> S;\n     emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      {} \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      N \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      UNIV \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      - N\n 4. \\<lbrakk>0 \\<notin> S;\n     \\<not> emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      {} \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      N \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      UNIV \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      - N", "using 0 1 2 3"], ["proof (prove)\nusing this:\n  0 \\<in> S \\<Longrightarrow>\n  - N\n  \\<subseteq> (\\<lambda>x1.\n                  emeasure (lborel_f n)\n                   {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n              S\n  emeasure (lborel_f n) (space (lborel_f n)) \\<in> S \\<Longrightarrow>\n  N \\<subseteq> (\\<lambda>x1.\n                    emeasure (lborel_f n)\n                     {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n                S\n  0 \\<notin> S \\<Longrightarrow>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S\n  \\<subseteq> N\n  emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S \\<Longrightarrow>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S\n  \\<subseteq> - N\n\ngoal (4 subgoals):\n 1. \\<lbrakk>0 \\<in> S;\n     emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      {} \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      N \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      UNIV \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      - N\n 2. \\<lbrakk>0 \\<in> S;\n     \\<not> emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      {} \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      N \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      UNIV \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      - N\n 3. \\<lbrakk>0 \\<notin> S;\n     emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      {} \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      N \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      UNIV \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      - N\n 4. \\<lbrakk>0 \\<notin> S;\n     \\<not> emeasure (lborel_f n) (space (lborel_f n)) \\<notin> S\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      {} \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      N \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      UNIV \\<or>\n                      (\\<lambda>x1.\n                          emeasure (lborel_f n)\n                           {x \\<in> space (lborel_f n).\n                            x(n := x1) \\<in> A}) -`\n                      S =\n                      - N", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  {} \\<or>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  N \\<or>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  UNIV \\<or>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  - N\n\ngoal (1 subgoal):\n 1. \\<And>S.\n       open S \\<Longrightarrow>\n       (\\<lambda>x1.\n           emeasure (lborel_f n)\n            {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n       S \\<inter>\n       space lborel\n       \\<in> sets lborel", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  {} \\<or>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  N \\<or>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  UNIV \\<or>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  - N", "show \"?f -` S  \\<inter> space lborel \\<in> sets lborel\""], ["proof (prove)\nusing this:\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  {} \\<or>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  N \\<or>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  UNIV \\<or>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  - N\n\ngoal (1 subgoal):\n 1. (\\<lambda>x1.\n        emeasure (lborel_f n)\n         {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n    S \\<inter>\n    space lborel\n    \\<in> sets lborel", "using \\<open>finite N\\<close> finite_imp_null_set_lborel borel_comp null_setsD2 sets_lborel"], ["proof (prove)\nusing this:\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  {} \\<or>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  N \\<or>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  UNIV \\<or>\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S =\n  - N\n  finite N\n  finite ?A \\<Longrightarrow> ?A \\<in> null_sets lborel\n  ?A \\<in> sets borel \\<Longrightarrow> - ?A \\<in> sets borel\n  ?A \\<in> null_sets ?M \\<Longrightarrow> ?A \\<in> sets ?M\n  sets lborel = sets borel\n\ngoal (1 subgoal):\n 1. (\\<lambda>x1.\n        emeasure (lborel_f n)\n         {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n    S \\<inter>\n    space lborel\n    \\<in> sets lborel", "by fastforce"], ["proof (state)\nthis:\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}) -`\n  S \\<inter>\n  space lborel\n  \\<in> sets lborel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>x1.\n      emeasure (lborel_f n)\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A})\n  \\<in> borel_measurable lborel\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have \"A \\<in> sets (lborel_f (Suc n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<in> sets (lborel_f (Suc n))", "unfolding A_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {f \\<in> space (lborel_f (Suc n)). insertion f p = 0}\n    \\<in> sets (lborel_f (Suc n))", "using pred_eq_const1[OF measurable_insertion[OF \\<open>vars p \\<subseteq> {..<Suc n}\\<close>]] pred_def"], ["proof (prove)\nusing this:\n  (?c \\<in> space borel \\<Longrightarrow>\n   {?c} \\<in> sets borel) \\<Longrightarrow>\n  Measurable.pred (lborel_f (Suc n)) (\\<lambda>x. insertion x p = ?c)\n  Measurable.pred ?M ?P = ({x \\<in> space ?M. ?P x} \\<in> sets ?M)\n\ngoal (1 subgoal):\n 1. {f \\<in> space (lborel_f (Suc n)). insertion f p = 0}\n    \\<in> sets (lborel_f (Suc n))", "by force"], ["proof (state)\nthis:\n  A \\<in> sets (lborel_f (Suc n))\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "then"], ["proof (chain)\npicking this:\n  A \\<in> sets (lborel_f (Suc n))", "have in_sets: \"{f \\<in> space (lborel_f (Suc n)). insertion f p = 0} \\<in> sets (lborel_f (Suc n))\""], ["proof (prove)\nusing this:\n  A \\<in> sets (lborel_f (Suc n))\n\ngoal (1 subgoal):\n 1. {f \\<in> space (lborel_f (Suc n)). insertion f p = 0}\n    \\<in> sets (lborel_f (Suc n))", "using A_def"], ["proof (prove)\nusing this:\n  A \\<in> sets (lborel_f (Suc n))\n  A = {f \\<in> space (lborel_f (Suc n)). insertion f p = 0}\n\ngoal (1 subgoal):\n 1. {f \\<in> space (lborel_f (Suc n)). insertion f p = 0}\n    \\<in> sets (lborel_f (Suc n))", "by metis"], ["proof (state)\nthis:\n  {f \\<in> space (lborel_f (Suc n)). insertion f p = 0}\n  \\<in> sets (lborel_f (Suc n))\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have \"\\<And>x1. {x\\<in>space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1.\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n       \\<in> sets (lborel_f n)", "using \\<open>\\<And>x1. x1\\<in>N \\<Longrightarrow> {x\\<in>space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)\\<close>\n    \\<open>\\<And>x1. x1\\<notin>N \\<Longrightarrow> {x\\<in>space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)\\<close>"], ["proof (prove)\nusing this:\n  ?x1.0 \\<in> N \\<Longrightarrow>\n  {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A}\n  \\<in> sets (lborel_f n)\n  ?x1.0 \\<notin> N \\<Longrightarrow>\n  {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A}\n  \\<in> sets (lborel_f n)\n\ngoal (1 subgoal):\n 1. \\<And>x1.\n       {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n       \\<in> sets (lborel_f n)", "by auto"], ["proof (state)\nthis:\n  {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A}\n  \\<in> sets (lborel_f n)\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have \"emeasure (lborel_f (Suc n)) A = \\<integral>\\<^sup>+ y. emeasure (lborel_f n) {x \\<in> space (lborel_f n). x(n := y) \\<in> A} \\<partial>lborel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. emeasure (lborel_f (Suc n)) A =\n    \\<integral>\\<^sup>+ y. emeasure (lborel_f n)\n                            {x \\<in> space (lborel_f n). x(n := y) \\<in> A}\n                       \\<partial>lborel", "using emeasure_lborel_f_Suc[OF \\<open>A \\<in> sets (lborel_f (Suc n))\\<close>]\n     \\<open>\\<And>x1. {x\\<in>space (lborel_f n). x(n := x1) \\<in> A} \\<in> sets (lborel_f n)\\<close>"], ["proof (prove)\nusing this:\n  (\\<And>y.\n      {x \\<in> space (lborel_f n). x(n := y) \\<in> A}\n      \\<in> sets (lborel_f n)) \\<Longrightarrow>\n  emeasure (lborel_f (Suc n)) A =\n  \\<integral>\\<^sup>+ y. emeasure (lborel_f n)\n                          {x \\<in> space (lborel_f n). x(n := y) \\<in> A}\n                     \\<partial>lborel\n  {x \\<in> space (lborel_f n). x(n := ?x1.0) \\<in> A}\n  \\<in> sets (lborel_f n)\n\ngoal (1 subgoal):\n 1. emeasure (lborel_f (Suc n)) A =\n    \\<integral>\\<^sup>+ y. emeasure (lborel_f n)\n                            {x \\<in> space (lborel_f n). x(n := y) \\<in> A}\n                       \\<partial>lborel", "by blast"], ["proof (state)\nthis:\n  emeasure (lborel_f (Suc n)) A =\n  \\<integral>\\<^sup>+ y. emeasure (lborel_f n)\n                          {x \\<in> space (lborel_f n). x(n := y) \\<in> A}\n                     \\<partial>lborel\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "also"], ["proof (state)\nthis:\n  emeasure (lborel_f (Suc n)) A =\n  \\<integral>\\<^sup>+ y. emeasure (lborel_f n)\n                          {x \\<in> space (lborel_f n). x(n := y) \\<in> A}\n                     \\<partial>lborel\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "have \"... = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ y. emeasure (lborel_f n)\n                            {x \\<in> space (lborel_f n). x(n := y) \\<in> A}\n                       \\<partial>lborel =\n    0", "using nn_integral_0_iff_AE[OF measurable] ae_zero"], ["proof (prove)\nusing this:\n  (\\<integral>\\<^sup>+ x1. emeasure (lborel_f n)\n                            {x \\<in> space (lborel_f n). x(n := x1) \\<in> A}\n                      \\<partial>lborel =\n   0) =\n  (AE x in lborel. emeasure (lborel_f n)\n                    {xa \\<in> space (lborel_f n). xa(n := x) \\<in> A} =\n                   0)\n  AE x1 in lborel. emeasure (lborel_f n)\n                    {x \\<in> space (lborel_f n). x(n := x1) \\<in> A} =\n                   0\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ y. emeasure (lborel_f n)\n                            {x \\<in> space (lborel_f n). x(n := y) \\<in> A}\n                       \\<partial>lborel =\n    0", "by blast"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ y. emeasure (lborel_f n)\n                          {x \\<in> space (lborel_f n). x(n := y) \\<in> A}\n                     \\<partial>lborel =\n  0\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "finally"], ["proof (chain)\npicking this:\n  emeasure (lborel_f (Suc n)) A = 0", "have \"emeasure (lborel_f (Suc n)) A = 0\""], ["proof (prove)\nusing this:\n  emeasure (lborel_f (Suc n)) A = 0\n\ngoal (1 subgoal):\n 1. emeasure (lborel_f (Suc n)) A = 0", "by auto"], ["proof (state)\nthis:\n  emeasure (lborel_f (Suc n)) A = 0\n\ngoal (1 subgoal):\n 1. \\<And>n p.\n       \\<lbrakk>\\<And>p.\n                   \\<lbrakk>p \\<noteq> 0; vars p \\<subseteq> {..<n}\\<rbrakk>\n                   \\<Longrightarrow> {f \\<in> space (lborel_f n).\ninsertion f p = 0}\n                                     \\<in> null_sets (lborel_f n);\n        p \\<noteq> 0; vars p \\<subseteq> {..<Suc n}\\<rbrakk>\n       \\<Longrightarrow> {f \\<in> space (lborel_f (Suc n)).\n                          insertion f p = 0}\n                         \\<in> null_sets (lborel_f (Suc n))", "then"], ["proof (chain)\npicking this:\n  emeasure (lborel_f (Suc n)) A = 0", "show ?case"], ["proof (prove)\nusing this:\n  emeasure (lborel_f (Suc n)) A = 0\n\ngoal (1 subgoal):\n 1. {f. f \\<in> space (lborel_f (Suc n)) \\<and> insertion f p = 0}\n    \\<in> null_sets (lborel_f (Suc n))", "unfolding null_sets_def"], ["proof (prove)\nusing this:\n  emeasure (lborel_f (Suc n)) A = 0\n\ngoal (1 subgoal):\n 1. {f. f \\<in> space (lborel_f (Suc n)) \\<and> insertion f p = 0}\n    \\<in> {N \\<in> sets (lborel_f (Suc n)).\n           emeasure (lborel_f (Suc n)) N = 0}", "using in_sets A_def"], ["proof (prove)\nusing this:\n  emeasure (lborel_f (Suc n)) A = 0\n  {f \\<in> space (lborel_f (Suc n)). insertion f p = 0}\n  \\<in> sets (lborel_f (Suc n))\n  A = {f \\<in> space (lborel_f (Suc n)). insertion f p = 0}\n\ngoal (1 subgoal):\n 1. {f. f \\<in> space (lborel_f (Suc n)) \\<and> insertion f p = 0}\n    \\<in> {N \\<in> sets (lborel_f (Suc n)).\n           emeasure (lborel_f (Suc n)) N = 0}", "by blast"], ["proof (state)\nthis:\n  {f. f \\<in> space (lborel_f (Suc n)) \\<and> insertion f p = 0}\n  \\<in> null_sets (lborel_f (Suc n))\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}