{"file_name": "/home/qj213/afp-2021-10-22/thys/Max-Card-Matching/Matching.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Max-Card-Matching", "problem_names": ["lemma definition_of_range:\n  \"endpoint_inV V1 ` matching_i 1 V E M L = \n  { v. \\<exists> e \\<in> matching_i 1 V E M L. endpoint_inV V1 e = v }\"", "lemma matching_i_edges_as_sets:\n  \"edge_as_set ` matching_i i V E M L = \n  { e1. \\<exists> (u, v) \\<in> matching_i i V E M L. edge_as_set (u, v) = e1}\"", "lemma matching_disjointness:\n  assumes \"matching V E M\"\n  assumes \"e1 \\<in> M\"\n  assumes \"e2 \\<in> M\"\n  assumes \"e1 \\<noteq> e2\"\n  shows  \"edge_as_set e1 \\<inter> edge_as_set e2 = {}\"", "lemma expand_set_containment:\n  assumes \"matching V E M\"\n  assumes \"e \\<in> M\"\n  shows \"e \\<in> E\"", "theorem injectivity:\n  assumes is_osc: \"OSC L E\"\n  assumes is_m: \"matching V E M\"\n  assumes e1_in_M1: \"e1 \\<in> matching_i 1 V E M L\"\n      and e2_in_M1: \"e2 \\<in> matching_i 1 V E M L\"\n  assumes diff: \"(e1 \\<noteq> e2)\"\n  shows \"endpoint_inV {v \\<in> V. L v = 1} e1 \\<noteq> endpoint_inV {v \\<in> V. L v = 1} e2\"", "lemma card_M1_le_NVL1: \n  assumes \"matching V E M\"\n  assumes \"OSC L E\"\n  shows \"card (matching_i 1 V E M L) \\<le> ( N V L 1)\"", "lemma edge_as_set_inj_on_Mi: \n  assumes \"matching V E M\"\n  shows \"inj_on edge_as_set (matching_i i V E M L)\"", "lemma card_Mi_eq_card_edge_as_set_Mi:\n  assumes \"matching V E M\"\n  shows \"card (matching_i i V E M L) = card (edge_as_set` matching_i i V E M L)\"\n  (is \"card ?Mi = card (?f ` _)\")", "lemma card_edge_as_set_Mi_twice_card_partitions:\n  assumes \"OSC L E \\<and> matching V E M \\<and> i > 1\"\n  shows \"2 * card (edge_as_set`matching_i i V E M L) \n  = card (V_i i V E M L)\" (is \"2 * card ?C = card ?Vi\")", "lemma card_Mi_twice_card_Vi:\n  assumes \"OSC L E \\<and> matching V E M \\<and> i > 1\"\n  shows \"2 * card (matching_i i V E M L) = card (V_i i V E M L)\"", "lemma card_Mi_le_floor_div_2_Vi:\n  assumes \"OSC L E \\<and> matching V E M \\<and> i > 1\"\n  shows \"card (matching_i i V E M L) \\<le> (card (V_i i V E M L)) div 2\"", "lemma card_Vi_le_NVLi:\n  assumes \"i>1 \\<and> matching V E M\"\n  shows \"card (V_i i V E M L) \\<le> N V L i\"", "lemma card_Mi_le_floor_div_2_NVLi:\n  assumes \"OSC L E \\<and> matching V E M \\<and> i > 1\"\n  shows \"card (matching_i i V E M L) \\<le> (N V L i) div 2\"", "lemma card_M_le_sum_card_Mi: \nassumes \"matching V E M\" and \"OSC L E\"\nshows \"card M \\<le> (\\<Sum> i \\<in> L`V. card (matching_i i V E M L))\"\n  (is \"card _ \\<le> ?CardMi\")", "theorem card_M_le_weight_NVLi:\n  assumes \"matching V E M\" and \"OSC L E\"\n  shows \"card M \\<le> weight {i \\<in> L ` V. i > 1} (N V L)\" (is \"_ \\<le> ?W\")", "theorem maximum_cardinality_matching:\n  assumes \"matching V E M\" and \"OSC L E\"\n  and \"card M = weight {i \\<in> L ` V. i > 1} (N V L)\"\n  and \"matching V E M'\"\n  shows \"card M' \\<le> card M\""], "translations": [["", "lemma definition_of_range:\n  \"endpoint_inV V1 ` matching_i 1 V E M L = \n  { v. \\<exists> e \\<in> matching_i 1 V E M L. endpoint_inV V1 e = v }\""], ["proof (prove)\ngoal (1 subgoal):\n 1. endpoint_inV V1 ` matching_i 1 V E M L =\n    {v. \\<exists>e\\<in>matching_i 1 V E M L. endpoint_inV V1 e = v}", "by auto"], ["", "lemma matching_i_edges_as_sets:\n  \"edge_as_set ` matching_i i V E M L = \n  { e1. \\<exists> (u, v) \\<in> matching_i i V E M L. edge_as_set (u, v) = e1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. edge_as_set ` matching_i i V E M L =\n    {e1. \\<exists>(u, v)\\<in>matching_i i V E M L. edge_as_set (u, v) = e1}", "by auto"], ["", "lemma matching_disjointness:\n  assumes \"matching V E M\"\n  assumes \"e1 \\<in> M\"\n  assumes \"e2 \\<in> M\"\n  assumes \"e1 \\<noteq> e2\"\n  shows  \"edge_as_set e1 \\<inter> edge_as_set e2 = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. edge_as_set e1 \\<inter> edge_as_set e2 = {}", "using assms"], ["proof (prove)\nusing this:\n  matching V E M\n  e1 \\<in> M\n  e2 \\<in> M\n  e1 \\<noteq> e2\n\ngoal (1 subgoal):\n 1. edge_as_set e1 \\<inter> edge_as_set e2 = {}", "by (auto simp add: edge_as_set_def disjoint_edges_def matching_def)"], ["", "lemma expand_set_containment:\n  assumes \"matching V E M\"\n  assumes \"e \\<in> M\"\n  shows \"e \\<in> E\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e \\<in> E", "using assms"], ["proof (prove)\nusing this:\n  matching V E M\n  e \\<in> M\n\ngoal (1 subgoal):\n 1. e \\<in> E", "by (auto simp add:matching_def)"], ["", "theorem injectivity:\n  assumes is_osc: \"OSC L E\"\n  assumes is_m: \"matching V E M\"\n  assumes e1_in_M1: \"e1 \\<in> matching_i 1 V E M L\"\n      and e2_in_M1: \"e2 \\<in> matching_i 1 V E M L\"\n  assumes diff: \"(e1 \\<noteq> e2)\"\n  shows \"endpoint_inV {v \\<in> V. L v = 1} e1 \\<noteq> endpoint_inV {v \\<in> V. L v = 1} e2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} e1 \\<noteq>\n    endpoint_inV {v \\<in> V. L v = 1} e2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} e1 \\<noteq>\n    endpoint_inV {v \\<in> V. L v = 1} e2", "from e1_in_M1"], ["proof (chain)\npicking this:\n  e1 \\<in> matching_i 1 V E M L", "have \"e1 \\<in> M\""], ["proof (prove)\nusing this:\n  e1 \\<in> matching_i 1 V E M L\n\ngoal (1 subgoal):\n 1. e1 \\<in> M", "by (auto simp add: matching_i_def)"], ["proof (state)\nthis:\n  e1 \\<in> M\n\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} e1 \\<noteq>\n    endpoint_inV {v \\<in> V. L v = 1} e2", "moreover"], ["proof (state)\nthis:\n  e1 \\<in> M\n\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} e1 \\<noteq>\n    endpoint_inV {v \\<in> V. L v = 1} e2", "from e2_in_M1"], ["proof (chain)\npicking this:\n  e2 \\<in> matching_i 1 V E M L", "have \"e2 \\<in> M\""], ["proof (prove)\nusing this:\n  e2 \\<in> matching_i 1 V E M L\n\ngoal (1 subgoal):\n 1. e2 \\<in> M", "by (auto simp add: matching_i_def)"], ["proof (state)\nthis:\n  e2 \\<in> M\n\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} e1 \\<noteq>\n    endpoint_inV {v \\<in> V. L v = 1} e2", "ultimately"], ["proof (chain)\npicking this:\n  e1 \\<in> M\n  e2 \\<in> M", "have disjoint_edge_sets: \"edge_as_set e1 \\<inter> edge_as_set e2 = {}\""], ["proof (prove)\nusing this:\n  e1 \\<in> M\n  e2 \\<in> M\n\ngoal (1 subgoal):\n 1. edge_as_set e1 \\<inter> edge_as_set e2 = {}", "using diff is_m matching_disjointness"], ["proof (prove)\nusing this:\n  e1 \\<in> M\n  e2 \\<in> M\n  e1 \\<noteq> e2\n  matching V E M\n  \\<lbrakk>matching ?V ?E ?M; ?e1.0 \\<in> ?M; ?e2.0 \\<in> ?M;\n   ?e1.0 \\<noteq> ?e2.0\\<rbrakk>\n  \\<Longrightarrow> edge_as_set ?e1.0 \\<inter> edge_as_set ?e2.0 = {}\n\ngoal (1 subgoal):\n 1. edge_as_set e1 \\<inter> edge_as_set e2 = {}", "by fast"], ["proof (state)\nthis:\n  edge_as_set e1 \\<inter> edge_as_set e2 = {}\n\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} e1 \\<noteq>\n    endpoint_inV {v \\<in> V. L v = 1} e2", "then"], ["proof (chain)\npicking this:\n  edge_as_set e1 \\<inter> edge_as_set e2 = {}", "show ?thesis"], ["proof (prove)\nusing this:\n  edge_as_set e1 \\<inter> edge_as_set e2 = {}\n\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} e1 \\<noteq>\n    endpoint_inV {v \\<in> V. L v = 1} e2", "by (auto simp add: edge_as_set_def endpoint_inV_def)"], ["proof (state)\nthis:\n  endpoint_inV {v \\<in> V. L v = 1} e1 \\<noteq>\n  endpoint_inV {v \\<in> V. L v = 1} e2\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>\\<open>|M1| \\<le> n1\\<close>\\<close>"], ["", "lemma card_M1_le_NVL1: \n  assumes \"matching V E M\"\n  assumes \"OSC L E\"\n  shows \"card (matching_i 1 V E M L) \\<le> ( N V L 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (matching_i 1 V E M L) \\<le> N V L 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. card (matching_i 1 V E M L) \\<le> N V L 1", "let ?f = \"endpoint_inV {v \\<in> V. L v = 1}\""], ["proof (state)\ngoal (1 subgoal):\n 1. card (matching_i 1 V E M L) \\<le> N V L 1", "let ?A = \"matching_i 1 V E M L\""], ["proof (state)\ngoal (1 subgoal):\n 1. card (matching_i 1 V E M L) \\<le> N V L 1", "let ?B = \"{v \\<in> V. L v = 1}\""], ["proof (state)\ngoal (1 subgoal):\n 1. card (matching_i 1 V E M L) \\<le> N V L 1", "have \"inj_on ?f ?A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on (endpoint_inV {v \\<in> V. L v = 1}) (matching_i 1 V E M L)", "using assms injectivity"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n  \\<lbrakk>OSC ?L ?E; matching ?V ?E ?M;\n   ?e1.0 \\<in> matching_i 1 ?V ?E ?M ?L;\n   ?e2.0 \\<in> matching_i 1 ?V ?E ?M ?L; ?e1.0 \\<noteq> ?e2.0\\<rbrakk>\n  \\<Longrightarrow> endpoint_inV {v \\<in> ?V. ?L v = 1} ?e1.0 \\<noteq>\n                    endpoint_inV {v \\<in> ?V. ?L v = 1} ?e2.0\n\ngoal (1 subgoal):\n 1. inj_on (endpoint_inV {v \\<in> V. L v = 1}) (matching_i 1 V E M L)", "unfolding inj_on_def"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n  \\<lbrakk>OSC ?L ?E; matching ?V ?E ?M;\n   ?e1.0 \\<in> matching_i 1 ?V ?E ?M ?L;\n   ?e2.0 \\<in> matching_i 1 ?V ?E ?M ?L; ?e1.0 \\<noteq> ?e2.0\\<rbrakk>\n  \\<Longrightarrow> endpoint_inV {v \\<in> ?V. ?L v = 1} ?e1.0 \\<noteq>\n                    endpoint_inV {v \\<in> ?V. ?L v = 1} ?e2.0\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>matching_i 1 V E M L.\n       \\<forall>y\\<in>matching_i 1 V E M L.\n          endpoint_inV {v \\<in> V. L v = 1} x =\n          endpoint_inV {v \\<in> V. L v = 1} y \\<longrightarrow>\n          x = y", "by blast"], ["proof (state)\nthis:\n  inj_on (endpoint_inV {v \\<in> V. L v = 1}) (matching_i 1 V E M L)\n\ngoal (1 subgoal):\n 1. card (matching_i 1 V E M L) \\<le> N V L 1", "moreover"], ["proof (state)\nthis:\n  inj_on (endpoint_inV {v \\<in> V. L v = 1}) (matching_i 1 V E M L)\n\ngoal (1 subgoal):\n 1. card (matching_i 1 V E M L) \\<le> N V L 1", "have \"?f ` ?A \\<subseteq> ?B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n    \\<subseteq> {v \\<in> V. L v = 1}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n    \\<subseteq> {v \\<in> V. L v = 1}", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n    \\<subseteq> {v \\<in> V. L v = 1}", "fix e"], ["proof (state)\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n    \\<subseteq> {v \\<in> V. L v = 1}", "assume \"e \\<in> matching_i 1 V E M L\""], ["proof (state)\nthis:\n  e \\<in> matching_i 1 V E M L\n\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n    \\<subseteq> {v \\<in> V. L v = 1}", "then"], ["proof (chain)\npicking this:\n  e \\<in> matching_i 1 V E M L", "have \"endpoint_inV {v \\<in> V. L v = 1} e \\<in> {v \\<in> V. L v = 1}\""], ["proof (prove)\nusing this:\n  e \\<in> matching_i 1 V E M L\n\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} e \\<in> {v \\<in> V. L v = 1}", "using assms"], ["proof (prove)\nusing this:\n  e \\<in> matching_i 1 V E M L\n  matching V E M\n  OSC L E\n\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} e \\<in> {v \\<in> V. L v = 1}", "by (auto simp add: endpoint_inV_def matching_def\n          matching_i_def OSC_def finite_graph_def definition_of_range)"], ["proof (state)\nthis:\n  endpoint_inV {v \\<in> V. L v = 1} e \\<in> {v \\<in> V. L v = 1}\n\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n    \\<subseteq> {v \\<in> V. L v = 1}", "}"], ["proof (state)\nthis:\n  ?e2 \\<in> matching_i 1 V E M L \\<Longrightarrow>\n  endpoint_inV {v \\<in> V. L v = 1} ?e2 \\<in> {v \\<in> V. L v = 1}\n\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n    \\<subseteq> {v \\<in> V. L v = 1}", "then"], ["proof (chain)\npicking this:\n  ?e2 \\<in> matching_i 1 V E M L \\<Longrightarrow>\n  endpoint_inV {v \\<in> V. L v = 1} ?e2 \\<in> {v \\<in> V. L v = 1}", "show ?thesis"], ["proof (prove)\nusing this:\n  ?e2 \\<in> matching_i 1 V E M L \\<Longrightarrow>\n  endpoint_inV {v \\<in> V. L v = 1} ?e2 \\<in> {v \\<in> V. L v = 1}\n\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n    \\<subseteq> {v \\<in> V. L v = 1}", "using assms definition_of_range"], ["proof (prove)\nusing this:\n  ?e2 \\<in> matching_i 1 V E M L \\<Longrightarrow>\n  endpoint_inV {v \\<in> V. L v = 1} ?e2 \\<in> {v \\<in> V. L v = 1}\n  matching V E M\n  OSC L E\n  endpoint_inV ?V1.0 ` matching_i 1 ?V ?E ?M ?L =\n  {v. \\<exists>e\\<in>matching_i 1 ?V ?E ?M ?L. endpoint_inV ?V1.0 e = v}\n\ngoal (1 subgoal):\n 1. endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n    \\<subseteq> {v \\<in> V. L v = 1}", "by blast"], ["proof (state)\nthis:\n  endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n  \\<subseteq> {v \\<in> V. L v = 1}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n  \\<subseteq> {v \\<in> V. L v = 1}\n\ngoal (1 subgoal):\n 1. card (matching_i 1 V E M L) \\<le> N V L 1", "moreover"], ["proof (state)\nthis:\n  endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n  \\<subseteq> {v \\<in> V. L v = 1}\n\ngoal (1 subgoal):\n 1. card (matching_i 1 V E M L) \\<le> N V L 1", "have \"finite ?B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {v \\<in> V. L v = 1}", "using assms"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n\ngoal (1 subgoal):\n 1. finite {v \\<in> V. L v = 1}", "by (simp add: matching_def finite_graph_def)"], ["proof (state)\nthis:\n  finite {v \\<in> V. L v = 1}\n\ngoal (1 subgoal):\n 1. card (matching_i 1 V E M L) \\<le> N V L 1", "ultimately"], ["proof (chain)\npicking this:\n  inj_on (endpoint_inV {v \\<in> V. L v = 1}) (matching_i 1 V E M L)\n  endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n  \\<subseteq> {v \\<in> V. L v = 1}\n  finite {v \\<in> V. L v = 1}", "show ?thesis"], ["proof (prove)\nusing this:\n  inj_on (endpoint_inV {v \\<in> V. L v = 1}) (matching_i 1 V E M L)\n  endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n  \\<subseteq> {v \\<in> V. L v = 1}\n  finite {v \\<in> V. L v = 1}\n\ngoal (1 subgoal):\n 1. card (matching_i 1 V E M L) \\<le> N V L 1", "unfolding N_def"], ["proof (prove)\nusing this:\n  inj_on (endpoint_inV {v \\<in> V. L v = 1}) (matching_i 1 V E M L)\n  endpoint_inV {v \\<in> V. L v = 1} ` matching_i 1 V E M L\n  \\<subseteq> {v \\<in> V. L v = 1}\n  finite {v \\<in> V. L v = 1}\n\ngoal (1 subgoal):\n 1. card (matching_i 1 V E M L) \\<le> card {v \\<in> V. L v = 1}", "by (rule card_inj_on_le)"], ["proof (state)\nthis:\n  card (matching_i 1 V E M L) \\<le> N V L 1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma edge_as_set_inj_on_Mi: \n  assumes \"matching V E M\"\n  shows \"inj_on edge_as_set (matching_i i V E M L)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on edge_as_set (matching_i i V E M L)", "using assms"], ["proof (prove)\nusing this:\n  matching V E M\n\ngoal (1 subgoal):\n 1. inj_on edge_as_set (matching_i i V E M L)", "unfolding inj_on_def edge_as_set_def matching_def\n    disjoint_edges_def matching_i_def"], ["proof (prove)\nusing this:\n  M \\<subseteq> E \\<and>\n  finite_graph V E \\<and>\n  (\\<forall>e1\\<in>M.\n      \\<forall>e2\\<in>M.\n         e1 \\<noteq> e2 \\<longrightarrow>\n         fst e1 \\<noteq> fst e2 \\<and>\n         fst e1 \\<noteq> snd e2 \\<and>\n         snd e1 \\<noteq> fst e2 \\<and> snd e1 \\<noteq> snd e2)\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{e \\<in> M.\n                    i = 1 \\<and> (L (fst e) = i \\<or> L (snd e) = i) \\<or>\n                    1 < i \\<and> L (fst e) = i \\<and> L (snd e) = i}.\n       \\<forall>y\\<in>{e \\<in> M.\n                       i = 1 \\<and>\n                       (L (fst e) = i \\<or> L (snd e) = i) \\<or>\n                       1 < i \\<and> L (fst e) = i \\<and> L (snd e) = i}.\n          {fst x, snd x} = {fst y, snd y} \\<longrightarrow> x = y", "by blast"], ["", "lemma card_Mi_eq_card_edge_as_set_Mi:\n  assumes \"matching V E M\"\n  shows \"card (matching_i i V E M L) = card (edge_as_set` matching_i i V E M L)\"\n  (is \"card ?Mi = card (?f ` _)\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) = card (edge_as_set ` matching_i i V E M L)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) = card (edge_as_set ` matching_i i V E M L)", "from assms"], ["proof (chain)\npicking this:\n  matching V E M", "have \"bij_betw ?f ?Mi (?f ` ?Mi)\""], ["proof (prove)\nusing this:\n  matching V E M\n\ngoal (1 subgoal):\n 1. bij_betw edge_as_set (matching_i i V E M L)\n     (edge_as_set ` matching_i i V E M L)", "by (simp add: bij_betw_def matching_i_edges_as_sets edge_as_set_inj_on_Mi)"], ["proof (state)\nthis:\n  bij_betw edge_as_set (matching_i i V E M L)\n   (edge_as_set ` matching_i i V E M L)\n\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) = card (edge_as_set ` matching_i i V E M L)", "then"], ["proof (chain)\npicking this:\n  bij_betw edge_as_set (matching_i i V E M L)\n   (edge_as_set ` matching_i i V E M L)", "show ?thesis"], ["proof (prove)\nusing this:\n  bij_betw edge_as_set (matching_i i V E M L)\n   (edge_as_set ` matching_i i V E M L)\n\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) = card (edge_as_set ` matching_i i V E M L)", "by (rule bij_betw_same_card)"], ["proof (state)\nthis:\n  card (matching_i i V E M L) = card (edge_as_set ` matching_i i V E M L)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma card_edge_as_set_Mi_twice_card_partitions:\n  assumes \"OSC L E \\<and> matching V E M \\<and> i > 1\"\n  shows \"2 * card (edge_as_set`matching_i i V E M L) \n  = card (V_i i V E M L)\" (is \"2 * card ?C = card ?Vi\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * card (edge_as_set ` matching_i i V E M L) = card (V_i i V E M L)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 2 * card (edge_as_set ` matching_i i V E M L) = card (V_i i V E M L)", "from assms"], ["proof (chain)\npicking this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i", "have 1: \"finite (\\<Union> ?C)\""], ["proof (prove)\nusing this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i\n\ngoal (1 subgoal):\n 1. finite (\\<Union> (edge_as_set ` matching_i i V E M L))", "by (auto simp add: matching_def finite_graph_def \n      matching_i_def edge_as_set_def finite_subset)"], ["proof (state)\nthis:\n  finite (\\<Union> (edge_as_set ` matching_i i V E M L))\n\ngoal (1 subgoal):\n 1. 2 * card (edge_as_set ` matching_i i V E M L) = card (V_i i V E M L)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * card (edge_as_set ` matching_i i V E M L) = card (V_i i V E M L)", "unfolding V_i_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * card (edge_as_set ` matching_i i V E M L) =\n    card (\\<Union> (edge_as_set ` matching_i i V E M L))", "proof (rule card_partition)"], ["proof (state)\ngoal (4 subgoals):\n 1. finite (edge_as_set ` matching_i i V E M L)\n 2. finite (\\<Union> (edge_as_set ` matching_i i V E M L))\n 3. \\<And>c.\n       c \\<in> edge_as_set ` matching_i i V E M L \\<Longrightarrow>\n       card c = 2\n 4. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "show \"finite ?C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (edge_as_set ` matching_i i V E M L)", "using 1"], ["proof (prove)\nusing this:\n  finite (\\<Union> (edge_as_set ` matching_i i V E M L))\n\ngoal (1 subgoal):\n 1. finite (edge_as_set ` matching_i i V E M L)", "by (rule finite_UnionD)"], ["proof (state)\nthis:\n  finite (edge_as_set ` matching_i i V E M L)\n\ngoal (3 subgoals):\n 1. finite (\\<Union> (edge_as_set ` matching_i i V E M L))\n 2. \\<And>c.\n       c \\<in> edge_as_set ` matching_i i V E M L \\<Longrightarrow>\n       card c = 2\n 3. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. finite (\\<Union> (edge_as_set ` matching_i i V E M L))\n 2. \\<And>c.\n       c \\<in> edge_as_set ` matching_i i V E M L \\<Longrightarrow>\n       card c = 2\n 3. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "show \"finite (\\<Union> ?C)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (\\<Union> (edge_as_set ` matching_i i V E M L))", "using 1"], ["proof (prove)\nusing this:\n  finite (\\<Union> (edge_as_set ` matching_i i V E M L))\n\ngoal (1 subgoal):\n 1. finite (\\<Union> (edge_as_set ` matching_i i V E M L))", "."], ["proof (state)\nthis:\n  finite (\\<Union> (edge_as_set ` matching_i i V E M L))\n\ngoal (2 subgoals):\n 1. \\<And>c.\n       c \\<in> edge_as_set ` matching_i i V E M L \\<Longrightarrow>\n       card c = 2\n 2. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c.\n       c \\<in> edge_as_set ` matching_i i V E M L \\<Longrightarrow>\n       card c = 2\n 2. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "fix c"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>c.\n       c \\<in> edge_as_set ` matching_i i V E M L \\<Longrightarrow>\n       card c = 2\n 2. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "assume \"c \\<in> ?C\""], ["proof (state)\nthis:\n  c \\<in> edge_as_set ` matching_i i V E M L\n\ngoal (2 subgoals):\n 1. \\<And>c.\n       c \\<in> edge_as_set ` matching_i i V E M L \\<Longrightarrow>\n       card c = 2\n 2. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "then"], ["proof (chain)\npicking this:\n  c \\<in> edge_as_set ` matching_i i V E M L", "show \"card c = 2\""], ["proof (prove)\nusing this:\n  c \\<in> edge_as_set ` matching_i i V E M L\n\ngoal (1 subgoal):\n 1. card c = 2", "proof (rule imageE)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>c = edge_as_set x; x \\<in> matching_i i V E M L\\<rbrakk>\n       \\<Longrightarrow> card c = 2", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>c = edge_as_set x; x \\<in> matching_i i V E M L\\<rbrakk>\n       \\<Longrightarrow> card c = 2", "assume 2: \"c = edge_as_set x\" and 3: \"x \\<in> matching_i i V E M L\""], ["proof (state)\nthis:\n  c = edge_as_set x\n  x \\<in> matching_i i V E M L\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>c = edge_as_set x; x \\<in> matching_i i V E M L\\<rbrakk>\n       \\<Longrightarrow> card c = 2", "with assms"], ["proof (chain)\npicking this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i\n  c = edge_as_set x\n  x \\<in> matching_i i V E M L", "have \"x \\<in> E\""], ["proof (prove)\nusing this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i\n  c = edge_as_set x\n  x \\<in> matching_i i V E M L\n\ngoal (1 subgoal):\n 1. x \\<in> E", "unfolding matching_i_def matching_def"], ["proof (prove)\nusing this:\n  OSC L E \\<and>\n  (M \\<subseteq> E \\<and>\n   finite_graph V E \\<and>\n   (\\<forall>e1\\<in>M.\n       \\<forall>e2\\<in>M.\n          e1 \\<noteq> e2 \\<longrightarrow> disjoint_edges e1 e2)) \\<and>\n  1 < i\n  c = edge_as_set x\n  x \\<in> {e \\<in> M.\n           i = 1 \\<and> (L (fst e) = i \\<or> L (snd e) = i) \\<or>\n           1 < i \\<and> L (fst e) = i \\<and> L (snd e) = i}\n\ngoal (1 subgoal):\n 1. x \\<in> E", "by blast"], ["proof (state)\nthis:\n  x \\<in> E\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>c = edge_as_set x; x \\<in> matching_i i V E M L\\<rbrakk>\n       \\<Longrightarrow> card c = 2", "then"], ["proof (chain)\npicking this:\n  x \\<in> E", "have \"fst x \\<noteq> snd x\""], ["proof (prove)\nusing this:\n  x \\<in> E\n\ngoal (1 subgoal):\n 1. fst x \\<noteq> snd x", "using assms 3"], ["proof (prove)\nusing this:\n  x \\<in> E\n  OSC L E \\<and> matching V E M \\<and> 1 < i\n  x \\<in> matching_i i V E M L\n\ngoal (1 subgoal):\n 1. fst x \\<noteq> snd x", "by (auto simp add: matching_def finite_graph_def)"], ["proof (state)\nthis:\n  fst x \\<noteq> snd x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>c = edge_as_set x; x \\<in> matching_i i V E M L\\<rbrakk>\n       \\<Longrightarrow> card c = 2", "with 2"], ["proof (chain)\npicking this:\n  c = edge_as_set x\n  fst x \\<noteq> snd x", "show ?thesis"], ["proof (prove)\nusing this:\n  c = edge_as_set x\n  fst x \\<noteq> snd x\n\ngoal (1 subgoal):\n 1. card c = 2", "by (auto simp add: edge_as_set_def)"], ["proof (state)\nthis:\n  card c = 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  card c = 2\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "fix x1 x2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "assume 4: \"x1 \\<in> ?C\" and 5: \"x2 \\<in> ?C\" and 6: \"x1 \\<noteq> x2\""], ["proof (state)\nthis:\n  x1 \\<in> edge_as_set ` matching_i i V E M L\n  x2 \\<in> edge_as_set ` matching_i i V E M L\n  x1 \\<noteq> x2\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "{"], ["proof (state)\nthis:\n  x1 \\<in> edge_as_set ` matching_i i V E M L\n  x2 \\<in> edge_as_set ` matching_i i V E M L\n  x1 \\<noteq> x2\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "fix e1 e2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "assume 7: \"x1 = edge_as_set e1\" \"e1 \\<in> matching_i i V E M L\"\n        \"x2 = edge_as_set e2\" \"e2 \\<in> matching_i i V E M L\""], ["proof (state)\nthis:\n  x1 = edge_as_set e1\n  e1 \\<in> matching_i i V E M L\n  x2 = edge_as_set e2\n  e2 \\<in> matching_i i V E M L\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "from assms"], ["proof (chain)\npicking this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i", "have \"matching V E M\""], ["proof (prove)\nusing this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i\n\ngoal (1 subgoal):\n 1. matching V E M", "by simp"], ["proof (state)\nthis:\n  matching V E M\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "moreover"], ["proof (state)\nthis:\n  matching V E M\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "from 7 assms"], ["proof (chain)\npicking this:\n  x1 = edge_as_set e1\n  e1 \\<in> matching_i i V E M L\n  x2 = edge_as_set e2\n  e2 \\<in> matching_i i V E M L\n  OSC L E \\<and> matching V E M \\<and> 1 < i", "have \"e1 \\<in> M\" and \"e2 \\<in> M\""], ["proof (prove)\nusing this:\n  x1 = edge_as_set e1\n  e1 \\<in> matching_i i V E M L\n  x2 = edge_as_set e2\n  e2 \\<in> matching_i i V E M L\n  OSC L E \\<and> matching V E M \\<and> 1 < i\n\ngoal (1 subgoal):\n 1. e1 \\<in> M &&& e2 \\<in> M", "by (simp_all add: matching_i_def)"], ["proof (state)\nthis:\n  e1 \\<in> M\n  e2 \\<in> M\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "moreover"], ["proof (state)\nthis:\n  e1 \\<in> M\n  e2 \\<in> M\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "from 6 7"], ["proof (chain)\npicking this:\n  x1 \\<noteq> x2\n  x1 = edge_as_set e1\n  e1 \\<in> matching_i i V E M L\n  x2 = edge_as_set e2\n  e2 \\<in> matching_i i V E M L", "have \"e1 \\<noteq> e2\""], ["proof (prove)\nusing this:\n  x1 \\<noteq> x2\n  x1 = edge_as_set e1\n  e1 \\<in> matching_i i V E M L\n  x2 = edge_as_set e2\n  e2 \\<in> matching_i i V E M L\n\ngoal (1 subgoal):\n 1. e1 \\<noteq> e2", "by blast"], ["proof (state)\nthis:\n  e1 \\<noteq> e2\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "ultimately"], ["proof (chain)\npicking this:\n  matching V E M\n  e1 \\<in> M\n  e2 \\<in> M\n  e1 \\<noteq> e2", "have \"x1 \\<inter> x2 = {}\""], ["proof (prove)\nusing this:\n  matching V E M\n  e1 \\<in> M\n  e2 \\<in> M\n  e1 \\<noteq> e2\n\ngoal (1 subgoal):\n 1. x1 \\<inter> x2 = {}", "unfolding 7"], ["proof (prove)\nusing this:\n  matching V E M\n  e1 \\<in> M\n  e2 \\<in> M\n  e1 \\<noteq> e2\n\ngoal (1 subgoal):\n 1. edge_as_set e1 \\<inter> edge_as_set e2 = {}", "by (rule matching_disjointness)"], ["proof (state)\nthis:\n  x1 \\<inter> x2 = {}\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x1 = edge_as_set ?e1.2; ?e1.2 \\<in> matching_i i V E M L;\n   x2 = edge_as_set ?e2.2; ?e2.2 \\<in> matching_i i V E M L\\<rbrakk>\n  \\<Longrightarrow> x1 \\<inter> x2 = {}\n\ngoal (1 subgoal):\n 1. \\<And>c1 c2.\n       \\<lbrakk>c1 \\<in> edge_as_set ` matching_i i V E M L;\n        c2 \\<in> edge_as_set ` matching_i i V E M L; c1 \\<noteq> c2\\<rbrakk>\n       \\<Longrightarrow> c1 \\<inter> c2 = {}", "with 4 5"], ["proof (chain)\npicking this:\n  x1 \\<in> edge_as_set ` matching_i i V E M L\n  x2 \\<in> edge_as_set ` matching_i i V E M L\n  \\<lbrakk>x1 = edge_as_set ?e1.2; ?e1.2 \\<in> matching_i i V E M L;\n   x2 = edge_as_set ?e2.2; ?e2.2 \\<in> matching_i i V E M L\\<rbrakk>\n  \\<Longrightarrow> x1 \\<inter> x2 = {}", "show \"x1 \\<inter> x2 = {}\""], ["proof (prove)\nusing this:\n  x1 \\<in> edge_as_set ` matching_i i V E M L\n  x2 \\<in> edge_as_set ` matching_i i V E M L\n  \\<lbrakk>x1 = edge_as_set ?e1.2; ?e1.2 \\<in> matching_i i V E M L;\n   x2 = edge_as_set ?e2.2; ?e2.2 \\<in> matching_i i V E M L\\<rbrakk>\n  \\<Longrightarrow> x1 \\<inter> x2 = {}\n\ngoal (1 subgoal):\n 1. x1 \\<inter> x2 = {}", "by clarsimp"], ["proof (state)\nthis:\n  x1 \\<inter> x2 = {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  2 * card (edge_as_set ` matching_i i V E M L) = card (V_i i V E M L)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma card_Mi_twice_card_Vi:\n  assumes \"OSC L E \\<and> matching V E M \\<and> i > 1\"\n  shows \"2 * card (matching_i i V E M L) = card (V_i i V E M L)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * card (matching_i i V E M L) = card (V_i i V E M L)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 2 * card (matching_i i V E M L) = card (V_i i V E M L)", "from assms"], ["proof (chain)\npicking this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i", "have \"finite (V_i i V E M L)\""], ["proof (prove)\nusing this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i\n\ngoal (1 subgoal):\n 1. finite (V_i i V E M L)", "by (auto simp add: edge_as_set_def finite_subset\n      matching_def finite_graph_def V_i_def matching_i_def )"], ["proof (state)\nthis:\n  finite (V_i i V E M L)\n\ngoal (1 subgoal):\n 1. 2 * card (matching_i i V E M L) = card (V_i i V E M L)", "with assms"], ["proof (chain)\npicking this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i\n  finite (V_i i V E M L)", "show ?thesis"], ["proof (prove)\nusing this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i\n  finite (V_i i V E M L)\n\ngoal (1 subgoal):\n 1. 2 * card (matching_i i V E M L) = card (V_i i V E M L)", "by (simp add: card_Mi_eq_card_edge_as_set_Mi \n      card_edge_as_set_Mi_twice_card_partitions V_i_def)"], ["proof (state)\nthis:\n  2 * card (matching_i i V E M L) = card (V_i i V E M L)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma card_Mi_le_floor_div_2_Vi:\n  assumes \"OSC L E \\<and> matching V E M \\<and> i > 1\"\n  shows \"card (matching_i i V E M L) \\<le> (card (V_i i V E M L)) div 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) \\<le> card (V_i i V E M L) div 2", "using card_Mi_twice_card_Vi[OF assms]"], ["proof (prove)\nusing this:\n  2 * card (matching_i i V E M L) = card (V_i i V E M L)\n\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) \\<le> card (V_i i V E M L) div 2", "by arith"], ["", "lemma card_Vi_le_NVLi:\n  assumes \"i>1 \\<and> matching V E M\"\n  shows \"card (V_i i V E M L) \\<le> N V L i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (V_i i V E M L) \\<le> N V L i", "unfolding N_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. card (V_i i V E M L) \\<le> card {v \\<in> V. L v = i}", "proof (rule card_mono)"], ["proof (state)\ngoal (2 subgoals):\n 1. finite {v \\<in> V. L v = i}\n 2. V_i i V E M L \\<subseteq> {v \\<in> V. L v = i}", "show \"finite {v \\<in> V. L v = i}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {v \\<in> V. L v = i}", "using assms"], ["proof (prove)\nusing this:\n  1 < i \\<and> matching V E M\n\ngoal (1 subgoal):\n 1. finite {v \\<in> V. L v = i}", "by (simp add: matching_def finite_graph_def)"], ["proof (state)\nthis:\n  finite {v \\<in> V. L v = i}\n\ngoal (1 subgoal):\n 1. V_i i V E M L \\<subseteq> {v \\<in> V. L v = i}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. V_i i V E M L \\<subseteq> {v \\<in> V. L v = i}", "let ?A = \"edge_as_set ` matching_i i V E M L\""], ["proof (state)\ngoal (1 subgoal):\n 1. V_i i V E M L \\<subseteq> {v \\<in> V. L v = i}", "let ?C = \"{v \\<in> V. L v = i}\""], ["proof (state)\ngoal (1 subgoal):\n 1. V_i i V E M L \\<subseteq> {v \\<in> V. L v = i}", "show \"V_i i V E M L \\<subseteq> ?C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. V_i i V E M L \\<subseteq> {v \\<in> V. L v = i}", "using assms"], ["proof (prove)\nusing this:\n  1 < i \\<and> matching V E M\n\ngoal (1 subgoal):\n 1. V_i i V E M L \\<subseteq> {v \\<in> V. L v = i}", "unfolding V_i_def"], ["proof (prove)\nusing this:\n  1 < i \\<and> matching V E M\n\ngoal (1 subgoal):\n 1. \\<Union> (edge_as_set ` matching_i i V E M L)\n    \\<subseteq> {v \\<in> V. L v = i}", "proof (intro Union_least)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>1 < i \\<and> matching V E M;\n        X \\<in> edge_as_set ` matching_i i V E M L\\<rbrakk>\n       \\<Longrightarrow> X \\<subseteq> {v \\<in> V. L v = i}", "fix X"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>1 < i \\<and> matching V E M;\n        X \\<in> edge_as_set ` matching_i i V E M L\\<rbrakk>\n       \\<Longrightarrow> X \\<subseteq> {v \\<in> V. L v = i}", "assume \"X \\<in> ?A\""], ["proof (state)\nthis:\n  X \\<in> edge_as_set ` matching_i i V E M L\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>1 < i \\<and> matching V E M;\n        X \\<in> edge_as_set ` matching_i i V E M L\\<rbrakk>\n       \\<Longrightarrow> X \\<subseteq> {v \\<in> V. L v = i}", "with assms"], ["proof (chain)\npicking this:\n  1 < i \\<and> matching V E M\n  X \\<in> edge_as_set ` matching_i i V E M L", "have \"\\<exists>x \\<in> matching_i i V E M L. edge_as_set x = X\""], ["proof (prove)\nusing this:\n  1 < i \\<and> matching V E M\n  X \\<in> edge_as_set ` matching_i i V E M L\n\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>matching_i i V E M L. edge_as_set x = X", "by (simp add: matching_i_edges_as_sets)"], ["proof (state)\nthis:\n  \\<exists>x\\<in>matching_i i V E M L. edge_as_set x = X\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<lbrakk>1 < i \\<and> matching V E M;\n        X \\<in> edge_as_set ` matching_i i V E M L\\<rbrakk>\n       \\<Longrightarrow> X \\<subseteq> {v \\<in> V. L v = i}", "with assms"], ["proof (chain)\npicking this:\n  1 < i \\<and> matching V E M\n  \\<exists>x\\<in>matching_i i V E M L. edge_as_set x = X", "show \"X \\<subseteq> ?C\""], ["proof (prove)\nusing this:\n  1 < i \\<and> matching V E M\n  \\<exists>x\\<in>matching_i i V E M L. edge_as_set x = X\n\ngoal (1 subgoal):\n 1. X \\<subseteq> {v \\<in> V. L v = i}", "unfolding finite_graph_def matching_def\n        matching_i_def edge_as_set_def"], ["proof (prove)\nusing this:\n  1 < i \\<and>\n  M \\<subseteq> E \\<and>\n  (finite V \\<and>\n   finite E \\<and>\n   (\\<forall>e\\<in>E.\n       fst e \\<in> V \\<and>\n       snd e \\<in> V \\<and> fst e \\<noteq> snd e)) \\<and>\n  (\\<forall>e1\\<in>M.\n      \\<forall>e2\\<in>M.\n         e1 \\<noteq> e2 \\<longrightarrow> disjoint_edges e1 e2)\n  \\<exists>x\\<in>{e \\<in> M.\n                  i = 1 \\<and> (L (fst e) = i \\<or> L (snd e) = i) \\<or>\n                  1 < i \\<and> L (fst e) = i \\<and> L (snd e) = i}.\n     {fst x, snd x} = X\n\ngoal (1 subgoal):\n 1. X \\<subseteq> {v \\<in> V. L v = i}", "by blast"], ["proof (state)\nthis:\n  X \\<subseteq> {v \\<in> V. L v = i}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  V_i i V E M L \\<subseteq> {v \\<in> V. L v = i}\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>\\<open>|Mi| \\<le> \\<lfloor>ni/2\\<rfloor>\\<close>\\<close>"], ["", "lemma card_Mi_le_floor_div_2_NVLi:\n  assumes \"OSC L E \\<and> matching V E M \\<and> i > 1\"\n  shows \"card (matching_i i V E M L) \\<le> (N V L i) div 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) \\<le> N V L i div 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) \\<le> N V L i div 2", "from assms"], ["proof (chain)\npicking this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i", "have \"card (V_i i V E M L) \\<le> (N V L i)\""], ["proof (prove)\nusing this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i\n\ngoal (1 subgoal):\n 1. card (V_i i V E M L) \\<le> N V L i", "by (simp add: card_Vi_le_NVLi)"], ["proof (state)\nthis:\n  card (V_i i V E M L) \\<le> N V L i\n\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) \\<le> N V L i div 2", "then"], ["proof (chain)\npicking this:\n  card (V_i i V E M L) \\<le> N V L i", "have \"card (V_i i V E M L) div 2 \\<le> (N V L i) div 2\""], ["proof (prove)\nusing this:\n  card (V_i i V E M L) \\<le> N V L i\n\ngoal (1 subgoal):\n 1. card (V_i i V E M L) div 2 \\<le> N V L i div 2", "by simp"], ["proof (state)\nthis:\n  card (V_i i V E M L) div 2 \\<le> N V L i div 2\n\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) \\<le> N V L i div 2", "moreover"], ["proof (state)\nthis:\n  card (V_i i V E M L) div 2 \\<le> N V L i div 2\n\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) \\<le> N V L i div 2", "from assms"], ["proof (chain)\npicking this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i", "have \n    \"card (matching_i i V E M L) \\<le> card (V_i i V E M L) div 2\""], ["proof (prove)\nusing this:\n  OSC L E \\<and> matching V E M \\<and> 1 < i\n\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) \\<le> card (V_i i V E M L) div 2", "by (intro card_Mi_le_floor_div_2_Vi)"], ["proof (state)\nthis:\n  card (matching_i i V E M L) \\<le> card (V_i i V E M L) div 2\n\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) \\<le> N V L i div 2", "ultimately"], ["proof (chain)\npicking this:\n  card (V_i i V E M L) div 2 \\<le> N V L i div 2\n  card (matching_i i V E M L) \\<le> card (V_i i V E M L) div 2", "show ?thesis"], ["proof (prove)\nusing this:\n  card (V_i i V E M L) div 2 \\<le> N V L i div 2\n  card (matching_i i V E M L) \\<le> card (V_i i V E M L) div 2\n\ngoal (1 subgoal):\n 1. card (matching_i i V E M L) \\<le> N V L i div 2", "by auto"], ["proof (state)\nthis:\n  card (matching_i i V E M L) \\<le> N V L i div 2\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>\\<open>|M| \\<le> \\<Sum>|Mi|\\<close>\\<close>"], ["", "lemma card_M_le_sum_card_Mi: \nassumes \"matching V E M\" and \"OSC L E\"\nshows \"card M \\<le> (\\<Sum> i \\<in> L`V. card (matching_i i V E M L))\"\n  (is \"card _ \\<le> ?CardMi\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "let ?UnMi = \"\\<Union>x \\<in> L`V. matching_i x V E M L\""], ["proof (state)\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "from assms"], ["proof (chain)\npicking this:\n  matching V E M\n  OSC L E", "have 1: \"finite ?UnMi\""], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n\ngoal (1 subgoal):\n 1. finite (\\<Union>x\\<in>L ` V. matching_i x V E M L)", "by (auto simp add: matching_def \n      finite_graph_def matching_i_def finite_subset)"], ["proof (state)\nthis:\n  finite (\\<Union>x\\<in>L ` V. matching_i x V E M L)\n\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "{"], ["proof (state)\nthis:\n  finite (\\<Union>x\\<in>L ` V. matching_i x V E M L)\n\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "fix e"], ["proof (state)\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "assume e_inM: \"e \\<in> M\""], ["proof (state)\nthis:\n  e \\<in> M\n\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "let ?v = \"relevant_endpoint L V e\""], ["proof (state)\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "have 1: \"e \\<in> matching_i (L ?v) V E M L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e \\<in> matching_i (L (relevant_endpoint L V e)) V E M L", "using assms e_inM"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n  e \\<in> M\n\ngoal (1 subgoal):\n 1. e \\<in> matching_i (L (relevant_endpoint L V e)) V E M L", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>matching V E M; OSC L E; e \\<in> M; ?P3\\<rbrakk>\n    \\<Longrightarrow> e \\<in> matching_i (L (relevant_endpoint L V e)) V E M\n                               L\n 2. \\<lbrakk>matching V E M; OSC L E; e \\<in> M; \\<not> ?P3\\<rbrakk>\n    \\<Longrightarrow> e \\<in> matching_i (L (relevant_endpoint L V e)) V E M\n                               L", "assume \"L (fst e) = 1\""], ["proof (state)\nthis:\n  L (fst e) = 1\n\ngoal (2 subgoals):\n 1. \\<lbrakk>matching V E M; OSC L E; e \\<in> M; ?P3\\<rbrakk>\n    \\<Longrightarrow> e \\<in> matching_i (L (relevant_endpoint L V e)) V E M\n                               L\n 2. \\<lbrakk>matching V E M; OSC L E; e \\<in> M; \\<not> ?P3\\<rbrakk>\n    \\<Longrightarrow> e \\<in> matching_i (L (relevant_endpoint L V e)) V E M\n                               L", "thus ?thesis"], ["proof (prove)\nusing this:\n  L (fst e) = 1\n\ngoal (1 subgoal):\n 1. e \\<in> matching_i (L (relevant_endpoint L V e)) V E M L", "using assms e_inM"], ["proof (prove)\nusing this:\n  L (fst e) = 1\n  matching V E M\n  OSC L E\n  e \\<in> M\n\ngoal (1 subgoal):\n 1. e \\<in> matching_i (L (relevant_endpoint L V e)) V E M L", "by (simp add: relevant_endpoint_def matching_i_def)"], ["proof (state)\nthis:\n  e \\<in> matching_i (L (relevant_endpoint L V e)) V E M L\n\ngoal (1 subgoal):\n 1. \\<lbrakk>matching V E M; OSC L E; e \\<in> M;\n     L (fst e) \\<noteq> 1\\<rbrakk>\n    \\<Longrightarrow> e \\<in> matching_i (L (relevant_endpoint L V e)) V E M\n                               L", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>matching V E M; OSC L E; e \\<in> M;\n     L (fst e) \\<noteq> 1\\<rbrakk>\n    \\<Longrightarrow> e \\<in> matching_i (L (relevant_endpoint L V e)) V E M\n                               L", "assume a: \"L (fst e) \\<noteq> 1\""], ["proof (state)\nthis:\n  L (fst e) \\<noteq> 1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>matching V E M; OSC L E; e \\<in> M;\n     L (fst e) \\<noteq> 1\\<rbrakk>\n    \\<Longrightarrow> e \\<in> matching_i (L (relevant_endpoint L V e)) V E M\n                               L", "have \"L (fst e) = 1 \\<or> L (snd e) = 1 \n          \\<or>  (L (fst e) = L (snd e) \\<and> L (fst e) >1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L (fst e) = 1 \\<or>\n    L (snd e) = 1 \\<or> L (fst e) = L (snd e) \\<and> 1 < L (fst e)", "using assms e_inM"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n  e \\<in> M\n\ngoal (1 subgoal):\n 1. L (fst e) = 1 \\<or>\n    L (snd e) = 1 \\<or> L (fst e) = L (snd e) \\<and> 1 < L (fst e)", "unfolding OSC_def"], ["proof (prove)\nusing this:\n  matching V E M\n  \\<forall>e\\<in>E.\n     L (fst e) = 1 \\<or>\n     L (snd e) = 1 \\<or> L (fst e) = L (snd e) \\<and> 1 < L (fst e)\n  e \\<in> M\n\ngoal (1 subgoal):\n 1. L (fst e) = 1 \\<or>\n    L (snd e) = 1 \\<or> L (fst e) = L (snd e) \\<and> 1 < L (fst e)", "by (blast intro: expand_set_containment)"], ["proof (state)\nthis:\n  L (fst e) = 1 \\<or>\n  L (snd e) = 1 \\<or> L (fst e) = L (snd e) \\<and> 1 < L (fst e)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>matching V E M; OSC L E; e \\<in> M;\n     L (fst e) \\<noteq> 1\\<rbrakk>\n    \\<Longrightarrow> e \\<in> matching_i (L (relevant_endpoint L V e)) V E M\n                               L", "thus ?thesis"], ["proof (prove)\nusing this:\n  L (fst e) = 1 \\<or>\n  L (snd e) = 1 \\<or> L (fst e) = L (snd e) \\<and> 1 < L (fst e)\n\ngoal (1 subgoal):\n 1. e \\<in> matching_i (L (relevant_endpoint L V e)) V E M L", "using assms e_inM a"], ["proof (prove)\nusing this:\n  L (fst e) = 1 \\<or>\n  L (snd e) = 1 \\<or> L (fst e) = L (snd e) \\<and> 1 < L (fst e)\n  matching V E M\n  OSC L E\n  e \\<in> M\n  L (fst e) \\<noteq> 1\n\ngoal (1 subgoal):\n 1. e \\<in> matching_i (L (relevant_endpoint L V e)) V E M L", "by (auto simp add: relevant_endpoint_def matching_i_def)"], ["proof (state)\nthis:\n  e \\<in> matching_i (L (relevant_endpoint L V e)) V E M L\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  e \\<in> matching_i (L (relevant_endpoint L V e)) V E M L\n\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "have 2: \"?v \\<in> V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. relevant_endpoint L V e \\<in> V", "using assms e_inM"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n  e \\<in> M\n\ngoal (1 subgoal):\n 1. relevant_endpoint L V e \\<in> V", "by (auto simp add: matching_def \n          relevant_endpoint_def matching_i_def finite_graph_def)"], ["proof (state)\nthis:\n  relevant_endpoint L V e \\<in> V\n\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "then"], ["proof (chain)\npicking this:\n  relevant_endpoint L V e \\<in> V", "have \"\\<exists> v \\<in> V. e \\<in> matching_i (L v) V E M L\""], ["proof (prove)\nusing this:\n  relevant_endpoint L V e \\<in> V\n\ngoal (1 subgoal):\n 1. \\<exists>v\\<in>V. e \\<in> matching_i (L v) V E M L", "using assms 1 2"], ["proof (prove)\nusing this:\n  relevant_endpoint L V e \\<in> V\n  matching V E M\n  OSC L E\n  e \\<in> matching_i (L (relevant_endpoint L V e)) V E M L\n  relevant_endpoint L V e \\<in> V\n\ngoal (1 subgoal):\n 1. \\<exists>v\\<in>V. e \\<in> matching_i (L v) V E M L", "by (intro bexI)"], ["proof (state)\nthis:\n  \\<exists>v\\<in>V. e \\<in> matching_i (L v) V E M L\n\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "}"], ["proof (state)\nthis:\n  ?e2 \\<in> M \\<Longrightarrow>\n  \\<exists>v\\<in>V. ?e2 \\<in> matching_i (L v) V E M L\n\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "with assms"], ["proof (chain)\npicking this:\n  matching V E M\n  OSC L E\n  ?e2 \\<in> M \\<Longrightarrow>\n  \\<exists>v\\<in>V. ?e2 \\<in> matching_i (L v) V E M L", "have \"M \\<subseteq> ?UnMi\""], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n  ?e2 \\<in> M \\<Longrightarrow>\n  \\<exists>v\\<in>V. ?e2 \\<in> matching_i (L v) V E M L\n\ngoal (1 subgoal):\n 1. M \\<subseteq> (\\<Union>x\\<in>L ` V. matching_i x V E M L)", "by (auto)"], ["proof (state)\nthis:\n  M \\<subseteq> (\\<Union>x\\<in>L ` V. matching_i x V E M L)\n\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "with assms and 1"], ["proof (chain)\npicking this:\n  matching V E M\n  OSC L E\n  finite (\\<Union>x\\<in>L ` V. matching_i x V E M L)\n  M \\<subseteq> (\\<Union>x\\<in>L ` V. matching_i x V E M L)", "have \"card M \\<le> card ?UnMi\""], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n  finite (\\<Union>x\\<in>L ` V. matching_i x V E M L)\n  M \\<subseteq> (\\<Union>x\\<in>L ` V. matching_i x V E M L)\n\ngoal (1 subgoal):\n 1. card M \\<le> card (\\<Union>x\\<in>L ` V. matching_i x V E M L)", "by (intro card_mono)"], ["proof (state)\nthis:\n  card M \\<le> card (\\<Union>x\\<in>L ` V. matching_i x V E M L)\n\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "moreover"], ["proof (state)\nthis:\n  card M \\<le> card (\\<Union>x\\<in>L ` V. matching_i x V E M L)\n\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "from assms"], ["proof (chain)\npicking this:\n  matching V E M\n  OSC L E", "have \"card ?UnMi = ?CardMi\""], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n\ngoal (1 subgoal):\n 1. card (\\<Union>x\\<in>L ` V. matching_i x V E M L) =\n    (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "proof (intro card_UN_disjoint)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>matching V E M; OSC L E\\<rbrakk>\n    \\<Longrightarrow> finite (L ` V)\n 2. \\<lbrakk>matching V E M; OSC L E\\<rbrakk>\n    \\<Longrightarrow> \\<forall>i\\<in>L ` V. finite (matching_i i V E M L)\n 3. \\<lbrakk>matching V E M; OSC L E\\<rbrakk>\n    \\<Longrightarrow> \\<forall>i\\<in>L ` V.\n                         \\<forall>j\\<in>L ` V.\n                            i \\<noteq> j \\<longrightarrow>\n                            matching_i i V E M L \\<inter>\n                            matching_i j V E M L =\n                            {}", "show \"finite (L`V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (L ` V)", "using assms"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n\ngoal (1 subgoal):\n 1. finite (L ` V)", "by (simp add: matching_def finite_graph_def)"], ["proof (state)\nthis:\n  finite (L ` V)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>matching V E M; OSC L E\\<rbrakk>\n    \\<Longrightarrow> \\<forall>i\\<in>L ` V. finite (matching_i i V E M L)\n 2. \\<lbrakk>matching V E M; OSC L E\\<rbrakk>\n    \\<Longrightarrow> \\<forall>i\\<in>L ` V.\n                         \\<forall>j\\<in>L ` V.\n                            i \\<noteq> j \\<longrightarrow>\n                            matching_i i V E M L \\<inter>\n                            matching_i j V E M L =\n                            {}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>matching V E M; OSC L E\\<rbrakk>\n    \\<Longrightarrow> \\<forall>i\\<in>L ` V. finite (matching_i i V E M L)\n 2. \\<lbrakk>matching V E M; OSC L E\\<rbrakk>\n    \\<Longrightarrow> \\<forall>i\\<in>L ` V.\n                         \\<forall>j\\<in>L ` V.\n                            i \\<noteq> j \\<longrightarrow>\n                            matching_i i V E M L \\<inter>\n                            matching_i j V E M L =\n                            {}", "show \"\\<forall>i\\<in>L`V. finite (matching_i i V E M L)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>L ` V. finite (matching_i i V E M L)", "using assms"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>L ` V. finite (matching_i i V E M L)", "unfolding matching_def finite_graph_def matching_i_def"], ["proof (prove)\nusing this:\n  M \\<subseteq> E \\<and>\n  (finite V \\<and>\n   finite E \\<and>\n   (\\<forall>e\\<in>E.\n       fst e \\<in> V \\<and>\n       snd e \\<in> V \\<and> fst e \\<noteq> snd e)) \\<and>\n  (\\<forall>e1\\<in>M.\n      \\<forall>e2\\<in>M.\n         e1 \\<noteq> e2 \\<longrightarrow> disjoint_edges e1 e2)\n  OSC L E\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>L ` V.\n       finite\n        {e \\<in> M.\n         i = 1 \\<and> (L (fst e) = i \\<or> L (snd e) = i) \\<or>\n         1 < i \\<and> L (fst e) = i \\<and> L (snd e) = i}", "by (blast intro: finite_subset)"], ["proof (state)\nthis:\n  \\<forall>i\\<in>L ` V. finite (matching_i i V E M L)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>matching V E M; OSC L E\\<rbrakk>\n    \\<Longrightarrow> \\<forall>i\\<in>L ` V.\n                         \\<forall>j\\<in>L ` V.\n                            i \\<noteq> j \\<longrightarrow>\n                            matching_i i V E M L \\<inter>\n                            matching_i j V E M L =\n                            {}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>matching V E M; OSC L E\\<rbrakk>\n    \\<Longrightarrow> \\<forall>i\\<in>L ` V.\n                         \\<forall>j\\<in>L ` V.\n                            i \\<noteq> j \\<longrightarrow>\n                            matching_i i V E M L \\<inter>\n                            matching_i j V E M L =\n                            {}", "show \"\\<forall>i \\<in> L`V. \\<forall>j \\<in> L`V. i \\<noteq> j \\<longrightarrow> \n        matching_i i V E M L \\<inter> matching_i j V E M L = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>L ` V.\n       \\<forall>j\\<in>L ` V.\n          i \\<noteq> j \\<longrightarrow>\n          matching_i i V E M L \\<inter> matching_i j V E M L = {}", "using assms"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>L ` V.\n       \\<forall>j\\<in>L ` V.\n          i \\<noteq> j \\<longrightarrow>\n          matching_i i V E M L \\<inter> matching_i j V E M L = {}", "by (auto simp add: matching_i_def)"], ["proof (state)\nthis:\n  \\<forall>i\\<in>L ` V.\n     \\<forall>j\\<in>L ` V.\n        i \\<noteq> j \\<longrightarrow>\n        matching_i i V E M L \\<inter> matching_i j V E M L = {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  card (\\<Union>x\\<in>L ` V. matching_i x V E M L) =\n  (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "ultimately"], ["proof (chain)\npicking this:\n  card M \\<le> card (\\<Union>x\\<in>L ` V. matching_i x V E M L)\n  card (\\<Union>x\\<in>L ` V. matching_i x V E M L) =\n  (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "show ?thesis"], ["proof (prove)\nusing this:\n  card M \\<le> card (\\<Union>x\\<in>L ` V. matching_i x V E M L)\n  card (\\<Union>x\\<in>L ` V. matching_i x V E M L) =\n  (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "by simp"], ["proof (state)\nthis:\n  card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem card_M_le_weight_NVLi:\n  assumes \"matching V E M\" and \"OSC L E\"\n  shows \"card M \\<le> weight {i \\<in> L ` V. i > 1} (N V L)\" (is \"_ \\<le> ?W\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. card M \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. card M \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "let ?M01 = \"\\<Sum>i| i \\<in> L`V \\<and> (i=1 \\<or> i=0). card (matching_i i V E M L)\""], ["proof (state)\ngoal (1 subgoal):\n 1. card M \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "let ?Mgr1 = \"\\<Sum>i| i \\<in> L`V \\<and> 1 < i. card (matching_i i V E M L)\""], ["proof (state)\ngoal (1 subgoal):\n 1. card M \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "let ?Mi = \"\\<Sum> i\\<in>L`V. card (matching_i i V E M L)\""], ["proof (state)\ngoal (1 subgoal):\n 1. card M \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "have \"card M \\<le> ?Mi\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "using assms"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n\ngoal (1 subgoal):\n 1. card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))", "by (rule card_M_le_sum_card_Mi)"], ["proof (state)\nthis:\n  card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n\ngoal (1 subgoal):\n 1. card M \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "moreover"], ["proof (state)\nthis:\n  card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n\ngoal (1 subgoal):\n 1. card M \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "have \"?Mi \\<le> ?W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "let ?A = \"{i \\<in> L ` V. i = 1 \\<or> i = 0}\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "let ?B = \"{i \\<in> L ` V. 1 < i}\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "let ?g = \"\\<lambda> i. card (matching_i i V E M L)\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "let ?set01 = \"{ i. i : L ` V & (i = 1 | i = 0)}\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "have a: \"L ` V = ?A \\<union> ?B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L ` V =\n    {i \\<in> L ` V. i = 1 \\<or> i = 0} \\<union> {i \\<in> L ` V. 1 < i}", "using assms"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n\ngoal (1 subgoal):\n 1. L ` V =\n    {i \\<in> L ` V. i = 1 \\<or> i = 0} \\<union> {i \\<in> L ` V. 1 < i}", "by auto"], ["proof (state)\nthis:\n  L ` V = {i \\<in> L ` V. i = 1 \\<or> i = 0} \\<union> {i \\<in> L ` V. 1 < i}\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "have \"finite V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite V", "using assms"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n\ngoal (1 subgoal):\n 1. finite V", "by (simp add: matching_def finite_graph_def)"], ["proof (state)\nthis:\n  finite V\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "have b: \"sum ?g (?A \\<union> ?B) = sum ?g ?A + sum ?g ?B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>{i \\<in> L ` V. i = 1 \\<or> i = 0} \\<union>\n                 {i \\<in> L ` V. 1 < i}.\n       card (matching_i i V E M L)) =\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) +\n    (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))", "using assms \\<open>finite V\\<close>"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n  finite V\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>{i \\<in> L ` V. i = 1 \\<or> i = 0} \\<union>\n                 {i \\<in> L ` V. 1 < i}.\n       card (matching_i i V E M L)) =\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) +\n    (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))", "by (auto intro: sum.union_disjoint)"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>{i \\<in> L ` V. i = 1 \\<or> i = 0} \\<union>\n               {i \\<in> L ` V. 1 < i}.\n     card (matching_i i V E M L)) =\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) +\n  (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "have 1: \"?Mi = ?M01+ ?Mgr1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L)) =\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) +\n    (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))", "using assms a b"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n  L ` V = {i \\<in> L ` V. i = 1 \\<or> i = 0} \\<union> {i \\<in> L ` V. 1 < i}\n  (\\<Sum>i\\<in>{i \\<in> L ` V. i = 1 \\<or> i = 0} \\<union>\n               {i \\<in> L ` V. 1 < i}.\n     card (matching_i i V E M L)) =\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) +\n  (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L)) =\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) +\n    (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))", "by (simp add: matching_def finite_graph_def)"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L)) =\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) +\n  (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "moreover"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L)) =\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) +\n  (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "have 0: \"card (matching_i 0 V E M L) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (matching_i 0 V E M L) = 0", "using assms"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n\ngoal (1 subgoal):\n 1. card (matching_i 0 V E M L) = 0", "by (simp add: matching_i_def)"], ["proof (state)\nthis:\n  card (matching_i 0 V E M L) = 0\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "have 2: \"?M01 \\<le> N V L 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "assume a: \"1 \\<in> L`V\""], ["proof (state)\nthis:\n  1 \\<in> L ` V\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "have \"?M01 = card (matching_i 1 V E M L)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)", "assume b: \"0 \\<in> L`V\""], ["proof (state)\nthis:\n  0 \\<in> L ` V\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)", "with a assms"], ["proof (chain)\npicking this:\n  1 \\<in> L ` V\n  matching V E M\n  OSC L E\n  0 \\<in> L ` V", "have  \"?set01 = {0, 1}\""], ["proof (prove)\nusing this:\n  1 \\<in> L ` V\n  matching V E M\n  OSC L E\n  0 \\<in> L ` V\n\ngoal (1 subgoal):\n 1. {i \\<in> L ` V. i = 1 \\<or> i = 0} = {0, 1}", "by blast"], ["proof (state)\nthis:\n  {i \\<in> L ` V. i = 1 \\<or> i = 0} = {0, 1}\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)", "thus ?thesis"], ["proof (prove)\nusing this:\n  {i \\<in> L ` V. i = 1 \\<or> i = 0} = {0, 1}\n\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)", "using assms 0"], ["proof (prove)\nusing this:\n  {i \\<in> L ` V. i = 1 \\<or> i = 0} = {0, 1}\n  matching V E M\n  OSC L E\n  card (matching_i 0 V E M L) = 0\n\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) =\n  card (matching_i 1 V E M L)\n\ngoal (1 subgoal):\n 1. 0 \\<notin> L ` V \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 \\<notin> L ` V \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)", "assume b: \"0 \\<notin> L`V\""], ["proof (state)\nthis:\n  0 \\<notin> L ` V\n\ngoal (1 subgoal):\n 1. 0 \\<notin> L ` V \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)", "with a"], ["proof (chain)\npicking this:\n  1 \\<in> L ` V\n  0 \\<notin> L ` V", "have \"?set01 = {1}\""], ["proof (prove)\nusing this:\n  1 \\<in> L ` V\n  0 \\<notin> L ` V\n\ngoal (1 subgoal):\n 1. {i \\<in> L ` V. i = 1 \\<or> i = 0} = {1}", "by (auto simp del:One_nat_def)"], ["proof (state)\nthis:\n  {i \\<in> L ` V. i = 1 \\<or> i = 0} = {1}\n\ngoal (1 subgoal):\n 1. 0 \\<notin> L ` V \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)", "thus ?thesis"], ["proof (prove)\nusing this:\n  {i \\<in> L ` V. i = 1 \\<or> i = 0} = {1}\n\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    card (matching_i 1 V E M L)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) =\n  card (matching_i 1 V E M L)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) =\n  card (matching_i 1 V E M L)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) =\n  card (matching_i 1 V E M L)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "using assms a"], ["proof (prove)\nusing this:\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) =\n  card (matching_i 1 V E M L)\n  matching V E M\n  OSC L E\n  1 \\<in> L ` V\n\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "by (simp del: One_nat_def, intro card_M1_le_NVL1)"], ["proof (state)\nthis:\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L))\n  \\<le> N V L 1\n\ngoal (1 subgoal):\n 1. 1 \\<notin> L ` V \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 \\<notin> L ` V \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "assume a: \"1 \\<notin> L`V\""], ["proof (state)\nthis:\n  1 \\<notin> L ` V\n\ngoal (1 subgoal):\n 1. 1 \\<notin> L ` V \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "assume b: \"0 \\<in> L`V\""], ["proof (state)\nthis:\n  0 \\<in> L ` V\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "with a assms"], ["proof (chain)\npicking this:\n  1 \\<notin> L ` V\n  matching V E M\n  OSC L E\n  0 \\<in> L ` V", "have  \"?set01 = {0}\""], ["proof (prove)\nusing this:\n  1 \\<notin> L ` V\n  matching V E M\n  OSC L E\n  0 \\<in> L ` V\n\ngoal (1 subgoal):\n 1. {i \\<in> L ` V. i = 1 \\<or> i = 0} = {0}", "by (auto simp del:One_nat_def)"], ["proof (state)\nthis:\n  {i \\<in> L ` V. i = 1 \\<or> i = 0} = {0}\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1\n 2. \\<not> ?P \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "thus ?thesis"], ["proof (prove)\nusing this:\n  {i \\<in> L ` V. i = 1 \\<or> i = 0} = {0}\n\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "using assms 0"], ["proof (prove)\nusing this:\n  {i \\<in> L ` V. i = 1 \\<or> i = 0} = {0}\n  matching V E M\n  OSC L E\n  card (matching_i 0 V E M L) = 0\n\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L))\n  \\<le> N V L 1\n\ngoal (1 subgoal):\n 1. 0 \\<notin> L ` V \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 \\<notin> L ` V \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "assume b: \"0 \\<notin> L`V\""], ["proof (state)\nthis:\n  0 \\<notin> L ` V\n\ngoal (1 subgoal):\n 1. 0 \\<notin> L ` V \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "with a"], ["proof (chain)\npicking this:\n  1 \\<notin> L ` V\n  0 \\<notin> L ` V", "have \"?set01 = {}\""], ["proof (prove)\nusing this:\n  1 \\<notin> L ` V\n  0 \\<notin> L ` V\n\ngoal (1 subgoal):\n 1. {i \\<in> L ` V. i = 1 \\<or> i = 0} = {}", "by (auto simp del:One_nat_def)"], ["proof (state)\nthis:\n  {i \\<in> L ` V. i = 1 \\<or> i = 0} = {}\n\ngoal (1 subgoal):\n 1. 0 \\<notin> L ` V \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "then"], ["proof (chain)\npicking this:\n  {i \\<in> L ` V. i = 1 \\<or> i = 0} = {}", "have \"?M01 = (\\<Sum>i\\<in>{}. card (matching_i i V E M L))\""], ["proof (prove)\nusing this:\n  {i \\<in> L ` V. i = 1 \\<or> i = 0} = {}\n\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L)) =\n    (\\<Sum>i\\<in>{}. card (matching_i i V E M L))", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) =\n  (\\<Sum>i\\<in>{}. card (matching_i i V E M L))\n\ngoal (1 subgoal):\n 1. 0 \\<notin> L ` V \\<Longrightarrow>\n    (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) =\n  (\\<Sum>i\\<in>{}. card (matching_i i V E M L))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n       card (matching_i i V E M L))\n    \\<le> N V L 1", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L))\n  \\<le> N V L 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L))\n  \\<le> N V L 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L))\n  \\<le> N V L 1\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "moreover"], ["proof (state)\nthis:\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L))\n  \\<le> N V L 1\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "have 3: \"?Mgr1 \\<le> (\\<Sum>i|i\\<in>L`V \\<and> 1 < i. N V L i div 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n    \\<le> (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. N V L i div 2)", "using assms"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n\ngoal (1 subgoal):\n 1. (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n    \\<le> (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. N V L i div 2)", "by (intro sum_mono card_Mi_le_floor_div_2_NVLi, simp)"], ["proof (state)\nthis:\n  (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n  \\<le> (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. N V L i div 2)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L)) =\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) +\n  (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L))\n  \\<le> N V L 1\n  (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n  \\<le> (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. N V L i div 2)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L)) =\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) +\n  (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L))\n  \\<le> N V L 1\n  (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n  \\<le> (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. N V L i div 2)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "using 1 2 3 assms"], ["proof (prove)\nusing this:\n  (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L)) =\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) +\n  (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L))\n  \\<le> N V L 1\n  (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n  \\<le> (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. N V L i div 2)\n  (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L)) =\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L)) +\n  (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n  (\\<Sum>i | i \\<in> L ` V \\<and> (i = 1 \\<or> i = 0).\n     card (matching_i i V E M L))\n  \\<le> N V L 1\n  (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. card (matching_i i V E M L))\n  \\<le> (\\<Sum>i | i \\<in> L ` V \\<and> 1 < i. N V L i div 2)\n  matching V E M\n  OSC L E\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n    \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "by (simp add: weight_def)"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n  \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n  \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)\n\ngoal (1 subgoal):\n 1. card M \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "ultimately"], ["proof (chain)\npicking this:\n  card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n  (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n  \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "show ?thesis"], ["proof (prove)\nusing this:\n  card M \\<le> (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n  (\\<Sum>i\\<in>L ` V. card (matching_i i V E M L))\n  \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)\n\ngoal (1 subgoal):\n 1. card M \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)", "by simp"], ["proof (state)\nthis:\n  card M \\<le> weight {i \\<in> L ` V. 1 < i} (N V L)\n\ngoal:\nNo subgoals!", "qed"], ["", "section \\<open>Final Theorem\\<close>"], ["", "text\\<open>The following theorem is due to Edmond~\\cite{Edmonds:matching}:\\<close>"], ["", "theorem maximum_cardinality_matching:\n  assumes \"matching V E M\" and \"OSC L E\"\n  and \"card M = weight {i \\<in> L ` V. i > 1} (N V L)\"\n  and \"matching V E M'\"\n  shows \"card M' \\<le> card M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card M' \\<le> card M", "using assms card_M_le_weight_NVLi"], ["proof (prove)\nusing this:\n  matching V E M\n  OSC L E\n  card M = weight {i \\<in> L ` V. 1 < i} (N V L)\n  matching V E M'\n  \\<lbrakk>matching ?V ?E ?M; OSC ?L ?E\\<rbrakk>\n  \\<Longrightarrow> card ?M \\<le> weight {i \\<in> ?L ` ?V. 1 < i} (N ?V ?L)\n\ngoal (1 subgoal):\n 1. card M' \\<le> card M", "by simp"], ["", "text\\<open>The widely used algorithmic library LEDA has a certifying algorithm for maximum cardinality matching.\nThis Isabelle proof is part of the work done to verify the checker of this certifying algorithm. For more information see \\cite{VerificationofCertifyingComputations}.\\<close>"], ["", "end"]]}