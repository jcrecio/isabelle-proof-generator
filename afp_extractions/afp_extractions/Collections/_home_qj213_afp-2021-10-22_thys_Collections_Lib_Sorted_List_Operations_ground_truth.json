{"file_name": "/home/qj213/afp-2021-10-22/thys/Collections/Lib/Sorted_List_Operations.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Collections", "problem_names": ["lemma inter_sorted_correct :\nassumes l1_OK: \"distinct l1 \\<and> sorted l1\"\nassumes l2_OK: \"distinct l2 \\<and> sorted l2\"\nshows \"distinct (inter_sorted l1 l2) \\<and> sorted (inter_sorted l1 l2) \\<and> \n       set (inter_sorted l1 l2) = set l1 \\<inter> set l2\"", "lemma diff_sorted_correct :\nassumes l1_OK: \"distinct l1 \\<and> sorted l1\"\nassumes l2_OK: \"distinct l2 \\<and> sorted l2\"\nshows \"distinct (diff_sorted l1 l2) \\<and> sorted (diff_sorted l1 l2) \\<and> \n       set (diff_sorted l1 l2) = set l1 - set l2\"", "lemma subset_sorted_correct :\nassumes l1_OK: \"distinct l1 \\<and> sorted l1\"\nassumes l2_OK: \"distinct l2 \\<and> sorted l2\"\nshows \"subset_sorted l1 l2 \\<longleftrightarrow> set l1 \\<subseteq> set l2\"", "lemma set_eq_sorted_correct :\n  assumes l1_OK: \"distinct l1 \\<and> sorted l1\"\n  assumes l2_OK: \"distinct l2 \\<and> sorted l2\"\n  shows \"l1 = l2 \\<longleftrightarrow> set l1 = set l2\"", "lemma memb_sorted_correct :\n  \"sorted xs \\<Longrightarrow> memb_sorted xs x \\<longleftrightarrow> x \\<in> set xs\"", "lemma insertion_sort_correct :\n  \"sorted xs \\<Longrightarrow> distinct xs \\<Longrightarrow>\n   distinct (insertion_sort x xs) \\<and> \n   sorted (insertion_sort x xs) \\<and>\n   set (insertion_sort x xs) = set (x # xs)\"", "lemma delete_sorted_correct :\n  \"sorted xs \\<Longrightarrow> distinct xs \\<Longrightarrow>\n   distinct (delete_sorted x xs) \\<and> \n   sorted (delete_sorted x xs) \\<and>\n   set (delete_sorted x xs) = set xs - {x}\""], "translations": [["", "lemma inter_sorted_correct :\nassumes l1_OK: \"distinct l1 \\<and> sorted l1\"\nassumes l2_OK: \"distinct l2 \\<and> sorted l2\"\nshows \"distinct (inter_sorted l1 l2) \\<and> sorted (inter_sorted l1 l2) \\<and> \n       set (inter_sorted l1 l2) = set l1 \\<inter> set l2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (inter_sorted l1 l2) \\<and>\n    sorted (inter_sorted l1 l2) \\<and>\n    set (inter_sorted l1 l2) = set l1 \\<inter> set l2", "using assms"], ["proof (prove)\nusing this:\n  distinct l1 \\<and> sorted l1\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. distinct (inter_sorted l1 l2) \\<and>\n    sorted (inter_sorted l1 l2) \\<and>\n    set (inter_sorted l1 l2) = set l1 \\<inter> set l2", "proof (induct l1 arbitrary: l2)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>l2.\n       \\<lbrakk>distinct [] \\<and> sorted [];\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted [] l2) \\<and>\n                         sorted (inter_sorted [] l2) \\<and>\n                         set (inter_sorted [] l2) = set [] \\<inter> set l2\n 2. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (inter_sorted l1 l2) \\<and>\n                                     sorted (inter_sorted l1 l2) \\<and>\n                                     set (inter_sorted l1 l2) =\n                                     set l1 \\<inter> set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (a # l1) l2) \\<and>\n                         sorted (inter_sorted (a # l1) l2) \\<and>\n                         set (inter_sorted (a # l1) l2) =\n                         set (a # l1) \\<inter> set l2", "case Nil"], ["proof (state)\nthis:\n  distinct [] \\<and> sorted []\n  distinct l2 \\<and> sorted l2\n\ngoal (2 subgoals):\n 1. \\<And>l2.\n       \\<lbrakk>distinct [] \\<and> sorted [];\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted [] l2) \\<and>\n                         sorted (inter_sorted [] l2) \\<and>\n                         set (inter_sorted [] l2) = set [] \\<inter> set l2\n 2. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (inter_sorted l1 l2) \\<and>\n                                     sorted (inter_sorted l1 l2) \\<and>\n                                     set (inter_sorted l1 l2) =\n                                     set l1 \\<inter> set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (a # l1) l2) \\<and>\n                         sorted (inter_sorted (a # l1) l2) \\<and>\n                         set (inter_sorted (a # l1) l2) =\n                         set (a # l1) \\<inter> set l2", "thus ?case"], ["proof (prove)\nusing this:\n  distinct [] \\<and> sorted []\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. distinct (inter_sorted [] l2) \\<and>\n    sorted (inter_sorted [] l2) \\<and>\n    set (inter_sorted [] l2) = set [] \\<inter> set l2", "by simp"], ["proof (state)\nthis:\n  distinct (inter_sorted [] l2) \\<and>\n  sorted (inter_sorted [] l2) \\<and>\n  set (inter_sorted [] l2) = set [] \\<inter> set l2\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (inter_sorted l1 l2) \\<and>\n                                     sorted (inter_sorted l1 l2) \\<and>\n                                     set (inter_sorted l1 l2) =\n                                     set l1 \\<inter> set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (a # l1) l2) \\<and>\n                         sorted (inter_sorted (a # l1) l2) \\<and>\n                         set (inter_sorted (a # l1) l2) =\n                         set (a # l1) \\<inter> set l2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (inter_sorted l1 l2) \\<and>\n                                     sorted (inter_sorted l1 l2) \\<and>\n                                     set (inter_sorted l1 l2) =\n                                     set l1 \\<inter> set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (a # l1) l2) \\<and>\n                         sorted (inter_sorted (a # l1) l2) \\<and>\n                         set (inter_sorted (a # l1) l2) =\n                         set (a # l1) \\<inter> set l2", "case (Cons x1 l1 l2)"], ["proof (state)\nthis:\n  \\<lbrakk>distinct l1 \\<and> sorted l1;\n   distinct ?l2.0 \\<and> sorted ?l2.0\\<rbrakk>\n  \\<Longrightarrow> distinct (inter_sorted l1 ?l2.0) \\<and>\n                    sorted (inter_sorted l1 ?l2.0) \\<and>\n                    set (inter_sorted l1 ?l2.0) = set l1 \\<inter> set ?l2.0\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (inter_sorted l1 l2) \\<and>\n                                     sorted (inter_sorted l1 l2) \\<and>\n                                     set (inter_sorted l1 l2) =\n                                     set l1 \\<inter> set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (a # l1) l2) \\<and>\n                         sorted (inter_sorted (a # l1) l2) \\<and>\n                         set (inter_sorted (a # l1) l2) =\n                         set (a # l1) \\<inter> set l2", "note x1_l1_props = Cons(2)"], ["proof (state)\nthis:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (inter_sorted l1 l2) \\<and>\n                                     sorted (inter_sorted l1 l2) \\<and>\n                                     set (inter_sorted l1 l2) =\n                                     set l1 \\<inter> set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (a # l1) l2) \\<and>\n                         sorted (inter_sorted (a # l1) l2) \\<and>\n                         set (inter_sorted (a # l1) l2) =\n                         set (a # l1) \\<inter> set l2", "note l2_props = Cons(3)"], ["proof (state)\nthis:\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (inter_sorted l1 l2) \\<and>\n                                     sorted (inter_sorted l1 l2) \\<and>\n                                     set (inter_sorted l1 l2) =\n                                     set l1 \\<inter> set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (a # l1) l2) \\<and>\n                         sorted (inter_sorted (a # l1) l2) \\<and>\n                         set (inter_sorted (a # l1) l2) =\n                         set (a # l1) \\<inter> set l2", "from x1_l1_props"], ["proof (chain)\npicking this:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)", "have l1_props: \"distinct l1 \\<and> sorted l1\"\n                    and x1_nin_l1: \"x1 \\<notin> set l1\"\n                    and x1_le: \"\\<And>x. x \\<in> set l1 \\<Longrightarrow> x1 \\<le> x\""], ["proof (prove)\nusing this:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n\ngoal (1 subgoal):\n 1. distinct l1 \\<and> sorted l1 &&&\n    x1 \\<notin> set l1 &&&\n    (\\<And>x. x \\<in> set l1 \\<Longrightarrow> x1 \\<le> x)", "by (simp_all add: Ball_def)"], ["proof (state)\nthis:\n  distinct l1 \\<and> sorted l1\n  x1 \\<notin> set l1\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (inter_sorted l1 l2) \\<and>\n                                     sorted (inter_sorted l1 l2) \\<and>\n                                     set (inter_sorted l1 l2) =\n                                     set l1 \\<inter> set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (a # l1) l2) \\<and>\n                         sorted (inter_sorted (a # l1) l2) \\<and>\n                         set (inter_sorted (a # l1) l2) =\n                         set (a # l1) \\<inter> set l2", "note ind_hyp_l1 = Cons(1)[OF l1_props]"], ["proof (state)\nthis:\n  distinct ?l2.0 \\<and> sorted ?l2.0 \\<Longrightarrow>\n  distinct (inter_sorted l1 ?l2.0) \\<and>\n  sorted (inter_sorted l1 ?l2.0) \\<and>\n  set (inter_sorted l1 ?l2.0) = set l1 \\<inter> set ?l2.0\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (inter_sorted l1 l2) \\<and>\n                                     sorted (inter_sorted l1 l2) \\<and>\n                                     set (inter_sorted l1 l2) =\n                                     set l1 \\<inter> set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (a # l1) l2) \\<and>\n                         sorted (inter_sorted (a # l1) l2) \\<and>\n                         set (inter_sorted (a # l1) l2) =\n                         set (a # l1) \\<inter> set l2", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (inter_sorted (x1 # l1) l2) \\<and>\n    sorted (inter_sorted (x1 # l1) l2) \\<and>\n    set (inter_sorted (x1 # l1) l2) = set (x1 # l1) \\<inter> set l2", "using l2_props"], ["proof (prove)\nusing this:\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. distinct (inter_sorted (x1 # l1) l2) \\<and>\n    sorted (inter_sorted (x1 # l1) l2) \\<and>\n    set (inter_sorted (x1 # l1) l2) = set (x1 # l1) \\<inter> set l2", "proof (induct l2)"], ["proof (state)\ngoal (2 subgoals):\n 1. distinct [] \\<and> sorted [] \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) []) \\<and>\n    sorted (inter_sorted (x1 # l1) []) \\<and>\n    set (inter_sorted (x1 # l1) []) = set (x1 # l1) \\<inter> set []\n 2. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (inter_sorted (x1 # l1) l2) \\<and>\n                sorted (inter_sorted (x1 # l1) l2) \\<and>\n                set (inter_sorted (x1 # l1) l2) =\n                set (x1 # l1) \\<inter> set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (inter_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) \\<inter> set (a # l2)", "case Nil"], ["proof (state)\nthis:\n  distinct [] \\<and> sorted []\n\ngoal (2 subgoals):\n 1. distinct [] \\<and> sorted [] \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) []) \\<and>\n    sorted (inter_sorted (x1 # l1) []) \\<and>\n    set (inter_sorted (x1 # l1) []) = set (x1 # l1) \\<inter> set []\n 2. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (inter_sorted (x1 # l1) l2) \\<and>\n                sorted (inter_sorted (x1 # l1) l2) \\<and>\n                set (inter_sorted (x1 # l1) l2) =\n                set (x1 # l1) \\<inter> set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (inter_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) \\<inter> set (a # l2)", "with x1_l1_props"], ["proof (chain)\npicking this:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n  distinct [] \\<and> sorted []", "show ?case"], ["proof (prove)\nusing this:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n  distinct [] \\<and> sorted []\n\ngoal (1 subgoal):\n 1. distinct (inter_sorted (x1 # l1) []) \\<and>\n    sorted (inter_sorted (x1 # l1) []) \\<and>\n    set (inter_sorted (x1 # l1) []) = set (x1 # l1) \\<inter> set []", "by simp"], ["proof (state)\nthis:\n  distinct (inter_sorted (x1 # l1) []) \\<and>\n  sorted (inter_sorted (x1 # l1) []) \\<and>\n  set (inter_sorted (x1 # l1) []) = set (x1 # l1) \\<inter> set []\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (inter_sorted (x1 # l1) l2) \\<and>\n                sorted (inter_sorted (x1 # l1) l2) \\<and>\n                set (inter_sorted (x1 # l1) l2) =\n                set (x1 # l1) \\<inter> set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (inter_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) \\<inter> set (a # l2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (inter_sorted (x1 # l1) l2) \\<and>\n                sorted (inter_sorted (x1 # l1) l2) \\<and>\n                set (inter_sorted (x1 # l1) l2) =\n                set (x1 # l1) \\<inter> set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (inter_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) \\<inter> set (a # l2)", "case (Cons x2 l2)"], ["proof (state)\nthis:\n  distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n  distinct (inter_sorted (x1 # l1) l2) \\<and>\n  sorted (inter_sorted (x1 # l1) l2) \\<and>\n  set (inter_sorted (x1 # l1) l2) = set (x1 # l1) \\<inter> set l2\n  distinct (x2 # l2) \\<and> sorted (x2 # l2)\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (inter_sorted (x1 # l1) l2) \\<and>\n                sorted (inter_sorted (x1 # l1) l2) \\<and>\n                set (inter_sorted (x1 # l1) l2) =\n                set (x1 # l1) \\<inter> set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (inter_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) \\<inter> set (a # l2)", "note x2_l2_props = Cons(2)"], ["proof (state)\nthis:\n  distinct (x2 # l2) \\<and> sorted (x2 # l2)\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (inter_sorted (x1 # l1) l2) \\<and>\n                sorted (inter_sorted (x1 # l1) l2) \\<and>\n                set (inter_sorted (x1 # l1) l2) =\n                set (x1 # l1) \\<inter> set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (inter_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) \\<inter> set (a # l2)", "from x2_l2_props"], ["proof (chain)\npicking this:\n  distinct (x2 # l2) \\<and> sorted (x2 # l2)", "have l2_props: \"distinct l2 \\<and> sorted l2\"\n                    and x2_nin_l2: \"x2 \\<notin> set l2\"\n                    and x2_le: \"\\<And>x. x \\<in> set l2 \\<Longrightarrow> x2 \\<le> x\""], ["proof (prove)\nusing this:\n  distinct (x2 # l2) \\<and> sorted (x2 # l2)\n\ngoal (1 subgoal):\n 1. distinct l2 \\<and> sorted l2 &&&\n    x2 \\<notin> set l2 &&&\n    (\\<And>x. x \\<in> set l2 \\<Longrightarrow> x2 \\<le> x)", "by (simp_all add: Ball_def)"], ["proof (state)\nthis:\n  distinct l2 \\<and> sorted l2\n  x2 \\<notin> set l2\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (inter_sorted (x1 # l1) l2) \\<and>\n                sorted (inter_sorted (x1 # l1) l2) \\<and>\n                set (inter_sorted (x1 # l1) l2) =\n                set (x1 # l1) \\<inter> set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (inter_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) \\<inter> set (a # l2)", "note ind_hyp_l2 = Cons(1)[OF l2_props]"], ["proof (state)\nthis:\n  distinct (inter_sorted (x1 # l1) l2) \\<and>\n  sorted (inter_sorted (x1 # l1) l2) \\<and>\n  set (inter_sorted (x1 # l1) l2) = set (x1 # l1) \\<inter> set l2\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (inter_sorted (x1 # l1) l2) \\<and>\n                sorted (inter_sorted (x1 # l1) l2) \\<and>\n                set (inter_sorted (x1 # l1) l2) =\n                set (x1 # l1) \\<inter> set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (inter_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (inter_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) \\<inter> set (a # l2)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "proof (cases \"x1 < x2\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x1 < x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)\n 2. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "case True"], ["proof (state)\nthis:\n  x1 < x2\n\ngoal (2 subgoals):\n 1. x1 < x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)\n 2. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "note x1_less_x2 = this"], ["proof (state)\nthis:\n  x1 < x2\n\ngoal (2 subgoals):\n 1. x1 < x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)\n 2. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "from ind_hyp_l1[OF x2_l2_props] x1_less_x2 x1_nin_l1 x1_le x2_le"], ["proof (chain)\npicking this:\n  distinct (inter_sorted l1 (x2 # l2)) \\<and>\n  sorted (inter_sorted l1 (x2 # l2)) \\<and>\n  set (inter_sorted l1 (x2 # l2)) = set l1 \\<inter> set (x2 # l2)\n  x1 < x2\n  x1 \\<notin> set l1\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x", "show ?thesis"], ["proof (prove)\nusing this:\n  distinct (inter_sorted l1 (x2 # l2)) \\<and>\n  sorted (inter_sorted l1 (x2 # l2)) \\<and>\n  set (inter_sorted l1 (x2 # l2)) = set l1 \\<inter> set (x2 # l2)\n  x1 < x2\n  x1 \\<notin> set l1\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n\ngoal (1 subgoal):\n 1. distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "apply (auto simp add: Ball_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x1 < x2; x1 \\<notin> set l1;\n     \\<And>x. x \\<in> set l1 \\<Longrightarrow> x1 \\<le> x;\n     \\<And>x. x \\<in> set l2 \\<Longrightarrow> x2 \\<le> x;\n     distinct (inter_sorted l1 (x2 # l2));\n     sorted (inter_sorted l1 (x2 # l2));\n     set (inter_sorted l1 (x2 # l2)) = set l1 \\<inter> insert x2 (set l2);\n     x1 \\<in> set l2\\<rbrakk>\n    \\<Longrightarrow> False", "apply (metis linorder_not_le)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n  sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n  set (inter_sorted (x1 # l1) (x2 # l2)) =\n  set (x1 # l1) \\<inter> set (x2 # l2)\n\ngoal (1 subgoal):\n 1. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "case False"], ["proof (state)\nthis:\n  \\<not> x1 < x2\n\ngoal (1 subgoal):\n 1. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "note x2_le_x1 = this"], ["proof (state)\nthis:\n  \\<not> x1 < x2\n\ngoal (1 subgoal):\n 1. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "proof (cases \"x1 = x2\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x1 = x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)\n 2. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "case True"], ["proof (state)\nthis:\n  x1 = x2\n\ngoal (2 subgoals):\n 1. x1 = x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)\n 2. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "note x1_eq_x2 = this"], ["proof (state)\nthis:\n  x1 = x2\n\ngoal (2 subgoals):\n 1. x1 = x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)\n 2. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "from ind_hyp_l1[OF l2_props] x1_le x2_le x2_nin_l2 x1_eq_x2 x1_nin_l1"], ["proof (chain)\npicking this:\n  distinct (inter_sorted l1 l2) \\<and>\n  sorted (inter_sorted l1 l2) \\<and>\n  set (inter_sorted l1 l2) = set l1 \\<inter> set l2\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n  x2 \\<notin> set l2\n  x1 = x2\n  x1 \\<notin> set l1", "show ?thesis"], ["proof (prove)\nusing this:\n  distinct (inter_sorted l1 l2) \\<and>\n  sorted (inter_sorted l1 l2) \\<and>\n  set (inter_sorted l1 l2) = set l1 \\<inter> set l2\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n  x2 \\<notin> set l2\n  x1 = x2\n  x1 \\<notin> set l1\n\ngoal (1 subgoal):\n 1. distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "by (simp add: x1_eq_x2 Ball_def)"], ["proof (state)\nthis:\n  distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n  sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n  set (inter_sorted (x1 # l1) (x2 # l2)) =\n  set (x1 # l1) \\<inter> set (x2 # l2)\n\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "case False"], ["proof (state)\nthis:\n  x1 \\<noteq> x2\n\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "note x1_neq_x2 = this"], ["proof (state)\nthis:\n  x1 \\<noteq> x2\n\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "with x2_le_x1"], ["proof (chain)\npicking this:\n  \\<not> x1 < x2\n  x1 \\<noteq> x2", "have x2_less_x1 : \"x2 < x1\""], ["proof (prove)\nusing this:\n  \\<not> x1 < x2\n  x1 \\<noteq> x2\n\ngoal (1 subgoal):\n 1. x2 < x1", "by auto"], ["proof (state)\nthis:\n  x2 < x1\n\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "from ind_hyp_l2 x2_le_x1 x1_neq_x2 x2_le x2_nin_l2 x1_le"], ["proof (chain)\npicking this:\n  distinct (inter_sorted (x1 # l1) l2) \\<and>\n  sorted (inter_sorted (x1 # l1) l2) \\<and>\n  set (inter_sorted (x1 # l1) l2) = set (x1 # l1) \\<inter> set l2\n  \\<not> x1 < x2\n  x1 \\<noteq> x2\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n  x2 \\<notin> set l2\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x", "show ?thesis"], ["proof (prove)\nusing this:\n  distinct (inter_sorted (x1 # l1) l2) \\<and>\n  sorted (inter_sorted (x1 # l1) l2) \\<and>\n  set (inter_sorted (x1 # l1) l2) = set (x1 # l1) \\<inter> set l2\n  \\<not> x1 < x2\n  x1 \\<noteq> x2\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n  x2 \\<notin> set l2\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n\ngoal (1 subgoal):\n 1. distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (inter_sorted (x1 # l1) (x2 # l2)) =\n    set (x1 # l1) \\<inter> set (x2 # l2)", "apply (auto simp add: x2_less_x1 Ball_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> x1 < x2; x1 \\<noteq> x2;\n     \\<And>x. x \\<in> set l2 \\<Longrightarrow> x2 \\<le> x;\n     x2 \\<notin> set l2;\n     \\<And>x. x \\<in> set l1 \\<Longrightarrow> x1 \\<le> x;\n     distinct (inter_sorted (x1 # l1) l2);\n     sorted (inter_sorted (x1 # l1) l2);\n     set (inter_sorted (x1 # l1) l2) = insert x1 (set l1) \\<inter> set l2;\n     x2 \\<in> set l1\\<rbrakk>\n    \\<Longrightarrow> False", "apply (metis linorder_not_le x2_less_x1)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n  sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n  set (inter_sorted (x1 # l1) (x2 # l2)) =\n  set (x1 # l1) \\<inter> set (x2 # l2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n  sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n  set (inter_sorted (x1 # l1) (x2 # l2)) =\n  set (x1 # l1) \\<inter> set (x2 # l2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  distinct (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n  sorted (inter_sorted (x1 # l1) (x2 # l2)) \\<and>\n  set (inter_sorted (x1 # l1) (x2 # l2)) =\n  set (x1 # l1) \\<inter> set (x2 # l2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  distinct (inter_sorted (x1 # l1) l2) \\<and>\n  sorted (inter_sorted (x1 # l1) l2) \\<and>\n  set (inter_sorted (x1 # l1) l2) = set (x1 # l1) \\<inter> set l2\n\ngoal:\nNo subgoals!", "qed"], ["", "fun diff_sorted :: \"'a::{linorder} list \\<Rightarrow> 'a list \\<Rightarrow> 'a list\" where\n   \"diff_sorted [] l2 = []\"\n | \"diff_sorted l1 [] = l1\"\n | \"diff_sorted (x1 # l1) (x2 # l2) =\n    (if (x1 < x2) then x1 # (diff_sorted l1 (x2 # l2)) else \n     (if (x1 = x2) then (diff_sorted l1 l2) else diff_sorted (x1 # l1) l2))\""], ["", "lemma diff_sorted_correct :\nassumes l1_OK: \"distinct l1 \\<and> sorted l1\"\nassumes l2_OK: \"distinct l2 \\<and> sorted l2\"\nshows \"distinct (diff_sorted l1 l2) \\<and> sorted (diff_sorted l1 l2) \\<and> \n       set (diff_sorted l1 l2) = set l1 - set l2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (diff_sorted l1 l2) \\<and>\n    sorted (diff_sorted l1 l2) \\<and>\n    set (diff_sorted l1 l2) = set l1 - set l2", "using assms"], ["proof (prove)\nusing this:\n  distinct l1 \\<and> sorted l1\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. distinct (diff_sorted l1 l2) \\<and>\n    sorted (diff_sorted l1 l2) \\<and>\n    set (diff_sorted l1 l2) = set l1 - set l2", "proof (induct l1 arbitrary: l2)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>l2.\n       \\<lbrakk>distinct [] \\<and> sorted [];\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted [] l2) \\<and>\n                         sorted (diff_sorted [] l2) \\<and>\n                         set (diff_sorted [] l2) = set [] - set l2\n 2. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (diff_sorted l1 l2) \\<and>\n                                     sorted (diff_sorted l1 l2) \\<and>\n                                     set (diff_sorted l1 l2) =\n                                     set l1 - set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (a # l1) l2) \\<and>\n                         sorted (diff_sorted (a # l1) l2) \\<and>\n                         set (diff_sorted (a # l1) l2) =\n                         set (a # l1) - set l2", "case Nil"], ["proof (state)\nthis:\n  distinct [] \\<and> sorted []\n  distinct l2 \\<and> sorted l2\n\ngoal (2 subgoals):\n 1. \\<And>l2.\n       \\<lbrakk>distinct [] \\<and> sorted [];\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted [] l2) \\<and>\n                         sorted (diff_sorted [] l2) \\<and>\n                         set (diff_sorted [] l2) = set [] - set l2\n 2. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (diff_sorted l1 l2) \\<and>\n                                     sorted (diff_sorted l1 l2) \\<and>\n                                     set (diff_sorted l1 l2) =\n                                     set l1 - set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (a # l1) l2) \\<and>\n                         sorted (diff_sorted (a # l1) l2) \\<and>\n                         set (diff_sorted (a # l1) l2) =\n                         set (a # l1) - set l2", "thus ?case"], ["proof (prove)\nusing this:\n  distinct [] \\<and> sorted []\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. distinct (diff_sorted [] l2) \\<and>\n    sorted (diff_sorted [] l2) \\<and>\n    set (diff_sorted [] l2) = set [] - set l2", "by simp"], ["proof (state)\nthis:\n  distinct (diff_sorted [] l2) \\<and>\n  sorted (diff_sorted [] l2) \\<and>\n  set (diff_sorted [] l2) = set [] - set l2\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (diff_sorted l1 l2) \\<and>\n                                     sorted (diff_sorted l1 l2) \\<and>\n                                     set (diff_sorted l1 l2) =\n                                     set l1 - set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (a # l1) l2) \\<and>\n                         sorted (diff_sorted (a # l1) l2) \\<and>\n                         set (diff_sorted (a # l1) l2) =\n                         set (a # l1) - set l2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (diff_sorted l1 l2) \\<and>\n                                     sorted (diff_sorted l1 l2) \\<and>\n                                     set (diff_sorted l1 l2) =\n                                     set l1 - set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (a # l1) l2) \\<and>\n                         sorted (diff_sorted (a # l1) l2) \\<and>\n                         set (diff_sorted (a # l1) l2) =\n                         set (a # l1) - set l2", "case (Cons x1 l1 l2)"], ["proof (state)\nthis:\n  \\<lbrakk>distinct l1 \\<and> sorted l1;\n   distinct ?l2.0 \\<and> sorted ?l2.0\\<rbrakk>\n  \\<Longrightarrow> distinct (diff_sorted l1 ?l2.0) \\<and>\n                    sorted (diff_sorted l1 ?l2.0) \\<and>\n                    set (diff_sorted l1 ?l2.0) = set l1 - set ?l2.0\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (diff_sorted l1 l2) \\<and>\n                                     sorted (diff_sorted l1 l2) \\<and>\n                                     set (diff_sorted l1 l2) =\n                                     set l1 - set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (a # l1) l2) \\<and>\n                         sorted (diff_sorted (a # l1) l2) \\<and>\n                         set (diff_sorted (a # l1) l2) =\n                         set (a # l1) - set l2", "note x1_l1_props = Cons(2)"], ["proof (state)\nthis:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (diff_sorted l1 l2) \\<and>\n                                     sorted (diff_sorted l1 l2) \\<and>\n                                     set (diff_sorted l1 l2) =\n                                     set l1 - set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (a # l1) l2) \\<and>\n                         sorted (diff_sorted (a # l1) l2) \\<and>\n                         set (diff_sorted (a # l1) l2) =\n                         set (a # l1) - set l2", "note l2_props = Cons(3)"], ["proof (state)\nthis:\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (diff_sorted l1 l2) \\<and>\n                                     sorted (diff_sorted l1 l2) \\<and>\n                                     set (diff_sorted l1 l2) =\n                                     set l1 - set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (a # l1) l2) \\<and>\n                         sorted (diff_sorted (a # l1) l2) \\<and>\n                         set (diff_sorted (a # l1) l2) =\n                         set (a # l1) - set l2", "from x1_l1_props"], ["proof (chain)\npicking this:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)", "have l1_props: \"distinct l1 \\<and> sorted l1\"\n                    and x1_nin_l1: \"x1 \\<notin> set l1\"\n                    and x1_le: \"\\<And>x. x \\<in> set l1 \\<Longrightarrow> x1 \\<le> x\""], ["proof (prove)\nusing this:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n\ngoal (1 subgoal):\n 1. distinct l1 \\<and> sorted l1 &&&\n    x1 \\<notin> set l1 &&&\n    (\\<And>x. x \\<in> set l1 \\<Longrightarrow> x1 \\<le> x)", "by (simp_all add: Ball_def)"], ["proof (state)\nthis:\n  distinct l1 \\<and> sorted l1\n  x1 \\<notin> set l1\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (diff_sorted l1 l2) \\<and>\n                                     sorted (diff_sorted l1 l2) \\<and>\n                                     set (diff_sorted l1 l2) =\n                                     set l1 - set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (a # l1) l2) \\<and>\n                         sorted (diff_sorted (a # l1) l2) \\<and>\n                         set (diff_sorted (a # l1) l2) =\n                         set (a # l1) - set l2", "note ind_hyp_l1 = Cons(1)[OF l1_props]"], ["proof (state)\nthis:\n  distinct ?l2.0 \\<and> sorted ?l2.0 \\<Longrightarrow>\n  distinct (diff_sorted l1 ?l2.0) \\<and>\n  sorted (diff_sorted l1 ?l2.0) \\<and>\n  set (diff_sorted l1 ?l2.0) = set l1 - set ?l2.0\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> distinct (diff_sorted l1 l2) \\<and>\n                                     sorted (diff_sorted l1 l2) \\<and>\n                                     set (diff_sorted l1 l2) =\n                                     set l1 - set l2;\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (a # l1) l2) \\<and>\n                         sorted (diff_sorted (a # l1) l2) \\<and>\n                         set (diff_sorted (a # l1) l2) =\n                         set (a # l1) - set l2", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (diff_sorted (x1 # l1) l2) \\<and>\n    sorted (diff_sorted (x1 # l1) l2) \\<and>\n    set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2", "using l2_props"], ["proof (prove)\nusing this:\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. distinct (diff_sorted (x1 # l1) l2) \\<and>\n    sorted (diff_sorted (x1 # l1) l2) \\<and>\n    set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2", "proof (induct l2)"], ["proof (state)\ngoal (2 subgoals):\n 1. distinct [] \\<and> sorted [] \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) []) \\<and>\n    sorted (diff_sorted (x1 # l1) []) \\<and>\n    set (diff_sorted (x1 # l1) []) = set (x1 # l1) - set []\n 2. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (diff_sorted (x1 # l1) l2) \\<and>\n                sorted (diff_sorted (x1 # l1) l2) \\<and>\n                set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (diff_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) - set (a # l2)", "case Nil"], ["proof (state)\nthis:\n  distinct [] \\<and> sorted []\n\ngoal (2 subgoals):\n 1. distinct [] \\<and> sorted [] \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) []) \\<and>\n    sorted (diff_sorted (x1 # l1) []) \\<and>\n    set (diff_sorted (x1 # l1) []) = set (x1 # l1) - set []\n 2. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (diff_sorted (x1 # l1) l2) \\<and>\n                sorted (diff_sorted (x1 # l1) l2) \\<and>\n                set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (diff_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) - set (a # l2)", "with x1_l1_props"], ["proof (chain)\npicking this:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n  distinct [] \\<and> sorted []", "show ?case"], ["proof (prove)\nusing this:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n  distinct [] \\<and> sorted []\n\ngoal (1 subgoal):\n 1. distinct (diff_sorted (x1 # l1) []) \\<and>\n    sorted (diff_sorted (x1 # l1) []) \\<and>\n    set (diff_sorted (x1 # l1) []) = set (x1 # l1) - set []", "by simp"], ["proof (state)\nthis:\n  distinct (diff_sorted (x1 # l1) []) \\<and>\n  sorted (diff_sorted (x1 # l1) []) \\<and>\n  set (diff_sorted (x1 # l1) []) = set (x1 # l1) - set []\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (diff_sorted (x1 # l1) l2) \\<and>\n                sorted (diff_sorted (x1 # l1) l2) \\<and>\n                set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (diff_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) - set (a # l2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (diff_sorted (x1 # l1) l2) \\<and>\n                sorted (diff_sorted (x1 # l1) l2) \\<and>\n                set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (diff_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) - set (a # l2)", "case (Cons x2 l2)"], ["proof (state)\nthis:\n  distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n  distinct (diff_sorted (x1 # l1) l2) \\<and>\n  sorted (diff_sorted (x1 # l1) l2) \\<and>\n  set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2\n  distinct (x2 # l2) \\<and> sorted (x2 # l2)\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (diff_sorted (x1 # l1) l2) \\<and>\n                sorted (diff_sorted (x1 # l1) l2) \\<and>\n                set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (diff_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) - set (a # l2)", "note x2_l2_props = Cons(2)"], ["proof (state)\nthis:\n  distinct (x2 # l2) \\<and> sorted (x2 # l2)\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (diff_sorted (x1 # l1) l2) \\<and>\n                sorted (diff_sorted (x1 # l1) l2) \\<and>\n                set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (diff_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) - set (a # l2)", "from x2_l2_props"], ["proof (chain)\npicking this:\n  distinct (x2 # l2) \\<and> sorted (x2 # l2)", "have l2_props: \"distinct l2 \\<and> sorted l2\"\n                    and x2_nin_l2: \"x2 \\<notin> set l2\"\n                    and x2_le: \"\\<And>x. x \\<in> set l2 \\<Longrightarrow> x2 \\<le> x\""], ["proof (prove)\nusing this:\n  distinct (x2 # l2) \\<and> sorted (x2 # l2)\n\ngoal (1 subgoal):\n 1. distinct l2 \\<and> sorted l2 &&&\n    x2 \\<notin> set l2 &&&\n    (\\<And>x. x \\<in> set l2 \\<Longrightarrow> x2 \\<le> x)", "by (simp_all add: Ball_def)"], ["proof (state)\nthis:\n  distinct l2 \\<and> sorted l2\n  x2 \\<notin> set l2\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (diff_sorted (x1 # l1) l2) \\<and>\n                sorted (diff_sorted (x1 # l1) l2) \\<and>\n                set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (diff_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) - set (a # l2)", "note ind_hyp_l2 = Cons(1)[OF l2_props]"], ["proof (state)\nthis:\n  distinct (diff_sorted (x1 # l1) l2) \\<and>\n  sorted (diff_sorted (x1 # l1) l2) \\<and>\n  set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                distinct (diff_sorted (x1 # l1) l2) \\<and>\n                sorted (diff_sorted (x1 # l1) l2) \\<and>\n                set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2;\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> distinct (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         sorted (diff_sorted (x1 # l1) (a # l2)) \\<and>\n                         set (diff_sorted (x1 # l1) (a # l2)) =\n                         set (x1 # l1) - set (a # l2)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "proof (cases \"x1 < x2\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x1 < x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)\n 2. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "case True"], ["proof (state)\nthis:\n  x1 < x2\n\ngoal (2 subgoals):\n 1. x1 < x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)\n 2. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "note x1_less_x2 = this"], ["proof (state)\nthis:\n  x1 < x2\n\ngoal (2 subgoals):\n 1. x1 < x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)\n 2. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "from ind_hyp_l1[OF x2_l2_props] x1_less_x2 x1_nin_l1 x1_le x2_le"], ["proof (chain)\npicking this:\n  distinct (diff_sorted l1 (x2 # l2)) \\<and>\n  sorted (diff_sorted l1 (x2 # l2)) \\<and>\n  set (diff_sorted l1 (x2 # l2)) = set l1 - set (x2 # l2)\n  x1 < x2\n  x1 \\<notin> set l1\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x", "show ?thesis"], ["proof (prove)\nusing this:\n  distinct (diff_sorted l1 (x2 # l2)) \\<and>\n  sorted (diff_sorted l1 (x2 # l2)) \\<and>\n  set (diff_sorted l1 (x2 # l2)) = set l1 - set (x2 # l2)\n  x1 < x2\n  x1 \\<notin> set l1\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n\ngoal (1 subgoal):\n 1. distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (diff_sorted l1 (x2 # l2)) \\<and>\n             sorted (diff_sorted l1 (x2 # l2)) \\<and>\n             set (diff_sorted l1 (x2 # l2)) = set l1 - insert x2 (set l2);\n     x1 < x2; x1 \\<notin> set l1;\n     \\<And>x. x \\<in> set l1 \\<Longrightarrow> x1 \\<le> x;\n     \\<And>x. x \\<in> set l2 \\<Longrightarrow> x2 \\<le> x\\<rbrakk>\n    \\<Longrightarrow> insert x1 (set l1 - insert x2 (set l2)) =\n                      insert x1 (set l1) - insert x2 (set l2)", "apply (simp add: Ball_def set_eq_iff)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (diff_sorted l1 (x2 # l2)) \\<and>\n             sorted (diff_sorted l1 (x2 # l2)) \\<and>\n             (\\<forall>x.\n                 (x \\<in> set (diff_sorted l1 (x2 # l2))) =\n                 (x \\<in> set l1 \\<and>\n                  x \\<noteq> x2 \\<and> x \\<notin> set l2));\n     x1 < x2; x1 \\<notin> set l1;\n     \\<And>x. x \\<in> set l1 \\<Longrightarrow> x1 \\<le> x;\n     \\<And>x. x \\<in> set l2 \\<Longrightarrow> x2 \\<le> x\\<rbrakk>\n    \\<Longrightarrow> \\<forall>x.\n                         (x = x1 \\<or>\n                          x \\<in> set l1 \\<and>\n                          x \\<noteq> x2 \\<and> x \\<notin> set l2) =\n                         ((x = x1 \\<or> x \\<in> set l1) \\<and>\n                          x \\<noteq> x2 \\<and> x \\<notin> set l2)", "apply (metis linorder_not_le order_less_imp_not_eq2)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n  sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n  set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)\n\ngoal (1 subgoal):\n 1. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "case False"], ["proof (state)\nthis:\n  \\<not> x1 < x2\n\ngoal (1 subgoal):\n 1. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "note x2_le_x1 = this"], ["proof (state)\nthis:\n  \\<not> x1 < x2\n\ngoal (1 subgoal):\n 1. \\<not> x1 < x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "proof (cases \"x1 = x2\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x1 = x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)\n 2. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "case True"], ["proof (state)\nthis:\n  x1 = x2\n\ngoal (2 subgoals):\n 1. x1 = x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)\n 2. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "note x1_eq_x2 = this"], ["proof (state)\nthis:\n  x1 = x2\n\ngoal (2 subgoals):\n 1. x1 = x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)\n 2. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "from ind_hyp_l1[OF l2_props] x1_le x2_le x2_nin_l2 x1_eq_x2 x1_nin_l1"], ["proof (chain)\npicking this:\n  distinct (diff_sorted l1 l2) \\<and>\n  sorted (diff_sorted l1 l2) \\<and>\n  set (diff_sorted l1 l2) = set l1 - set l2\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n  x2 \\<notin> set l2\n  x1 = x2\n  x1 \\<notin> set l1", "show ?thesis"], ["proof (prove)\nusing this:\n  distinct (diff_sorted l1 l2) \\<and>\n  sorted (diff_sorted l1 l2) \\<and>\n  set (diff_sorted l1 l2) = set l1 - set l2\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n  x2 \\<notin> set l2\n  x1 = x2\n  x1 \\<notin> set l1\n\ngoal (1 subgoal):\n 1. distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "by (simp add: x1_eq_x2 Ball_def)"], ["proof (state)\nthis:\n  distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n  sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n  set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)\n\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "case False"], ["proof (state)\nthis:\n  x1 \\<noteq> x2\n\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "note x1_neq_x2 = this"], ["proof (state)\nthis:\n  x1 \\<noteq> x2\n\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "with x2_le_x1"], ["proof (chain)\npicking this:\n  \\<not> x1 < x2\n  x1 \\<noteq> x2", "have x2_less_x1 : \"x2 < x1\""], ["proof (prove)\nusing this:\n  \\<not> x1 < x2\n  x1 \\<noteq> x2\n\ngoal (1 subgoal):\n 1. x2 < x1", "by auto"], ["proof (state)\nthis:\n  x2 < x1\n\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "from x2_less_x1 x1_le"], ["proof (chain)\npicking this:\n  x2 < x1\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x", "have x2_nin_l1: \"x2 \\<notin> set l1\""], ["proof (prove)\nusing this:\n  x2 < x1\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n\ngoal (1 subgoal):\n 1. x2 \\<notin> set l1", "by (metis linorder_not_less)"], ["proof (state)\nthis:\n  x2 \\<notin> set l1\n\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "from ind_hyp_l2 x1_le x2_nin_l1"], ["proof (chain)\npicking this:\n  distinct (diff_sorted (x1 # l1) l2) \\<and>\n  sorted (diff_sorted (x1 # l1) l2) \\<and>\n  set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  x2 \\<notin> set l1", "show ?thesis"], ["proof (prove)\nusing this:\n  distinct (diff_sorted (x1 # l1) l2) \\<and>\n  sorted (diff_sorted (x1 # l1) l2) \\<and>\n  set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  x2 \\<notin> set l1\n\ngoal (1 subgoal):\n 1. distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n    set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)", "apply (simp add: x2_less_x1 x1_neq_x2 x2_le_x1 x1_nin_l1 Ball_def set_eq_iff)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (diff_sorted (x1 # l1) l2) \\<and>\n             sorted (diff_sorted (x1 # l1) l2) \\<and>\n             (\\<forall>x.\n                 (x \\<in> set (diff_sorted (x1 # l1) l2)) =\n                 ((x = x1 \\<or> x \\<in> set l1) \\<and> x \\<notin> set l2));\n     \\<And>x. x \\<in> set l1 \\<Longrightarrow> x1 \\<le> x;\n     x2 \\<notin> set l1\\<rbrakk>\n    \\<Longrightarrow> \\<forall>x.\n                         ((x = x1 \\<or> x \\<in> set l1) \\<and>\n                          x \\<notin> set l2) =\n                         ((x = x1 \\<or> x \\<in> set l1) \\<and>\n                          x \\<noteq> x2 \\<and> x \\<notin> set l2)", "apply (metis x1_neq_x2)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n  sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n  set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n  sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n  set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  distinct (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n  sorted (diff_sorted (x1 # l1) (x2 # l2)) \\<and>\n  set (diff_sorted (x1 # l1) (x2 # l2)) = set (x1 # l1) - set (x2 # l2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  distinct (diff_sorted (x1 # l1) l2) \\<and>\n  sorted (diff_sorted (x1 # l1) l2) \\<and>\n  set (diff_sorted (x1 # l1) l2) = set (x1 # l1) - set l2\n\ngoal:\nNo subgoals!", "qed"], ["", "fun subset_sorted :: \"'a::{linorder} list \\<Rightarrow> 'a list \\<Rightarrow> bool\" where\n   \"subset_sorted [] l2 = True\"\n | \"subset_sorted (x1 # l1) [] = False\"\n | \"subset_sorted (x1 # l1) (x2 # l2) =\n    (if (x1 < x2) then False else \n     (if (x1 = x2) then (subset_sorted l1 l2) else subset_sorted (x1 # l1) l2))\""], ["", "lemma subset_sorted_correct :\nassumes l1_OK: \"distinct l1 \\<and> sorted l1\"\nassumes l2_OK: \"distinct l2 \\<and> sorted l2\"\nshows \"subset_sorted l1 l2 \\<longleftrightarrow> set l1 \\<subseteq> set l2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subset_sorted l1 l2 = (set l1 \\<subseteq> set l2)", "using assms"], ["proof (prove)\nusing this:\n  distinct l1 \\<and> sorted l1\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. subset_sorted l1 l2 = (set l1 \\<subseteq> set l2)", "proof (induct l1 arbitrary: l2)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>l2.\n       \\<lbrakk>distinct [] \\<and> sorted [];\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> subset_sorted [] l2 = (set [] \\<subseteq> set l2)\n 2. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> subset_sorted l1 l2 =\n                                     (set l1 \\<subseteq> set l2);\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (a # l1) l2 =\n                         (set (a # l1) \\<subseteq> set l2)", "case Nil"], ["proof (state)\nthis:\n  distinct [] \\<and> sorted []\n  distinct l2 \\<and> sorted l2\n\ngoal (2 subgoals):\n 1. \\<And>l2.\n       \\<lbrakk>distinct [] \\<and> sorted [];\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> subset_sorted [] l2 = (set [] \\<subseteq> set l2)\n 2. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> subset_sorted l1 l2 =\n                                     (set l1 \\<subseteq> set l2);\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (a # l1) l2 =\n                         (set (a # l1) \\<subseteq> set l2)", "thus ?case"], ["proof (prove)\nusing this:\n  distinct [] \\<and> sorted []\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. subset_sorted [] l2 = (set [] \\<subseteq> set l2)", "by simp"], ["proof (state)\nthis:\n  subset_sorted [] l2 = (set [] \\<subseteq> set l2)\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> subset_sorted l1 l2 =\n                                     (set l1 \\<subseteq> set l2);\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (a # l1) l2 =\n                         (set (a # l1) \\<subseteq> set l2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> subset_sorted l1 l2 =\n                                     (set l1 \\<subseteq> set l2);\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (a # l1) l2 =\n                         (set (a # l1) \\<subseteq> set l2)", "case (Cons x1 l1 l2)"], ["proof (state)\nthis:\n  \\<lbrakk>distinct l1 \\<and> sorted l1;\n   distinct ?l2.0 \\<and> sorted ?l2.0\\<rbrakk>\n  \\<Longrightarrow> subset_sorted l1 ?l2.0 = (set l1 \\<subseteq> set ?l2.0)\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> subset_sorted l1 l2 =\n                                     (set l1 \\<subseteq> set l2);\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (a # l1) l2 =\n                         (set (a # l1) \\<subseteq> set l2)", "note x1_l1_props = Cons(2)"], ["proof (state)\nthis:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> subset_sorted l1 l2 =\n                                     (set l1 \\<subseteq> set l2);\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (a # l1) l2 =\n                         (set (a # l1) \\<subseteq> set l2)", "note l2_props = Cons(3)"], ["proof (state)\nthis:\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> subset_sorted l1 l2 =\n                                     (set l1 \\<subseteq> set l2);\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (a # l1) l2 =\n                         (set (a # l1) \\<subseteq> set l2)", "from x1_l1_props"], ["proof (chain)\npicking this:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)", "have l1_props: \"distinct l1 \\<and> sorted l1\"\n                    and x1_nin_l1: \"x1 \\<notin> set l1\"\n                    and x1_le: \"\\<And>x. x \\<in> set l1 \\<Longrightarrow> x1 \\<le> x\""], ["proof (prove)\nusing this:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n\ngoal (1 subgoal):\n 1. distinct l1 \\<and> sorted l1 &&&\n    x1 \\<notin> set l1 &&&\n    (\\<And>x. x \\<in> set l1 \\<Longrightarrow> x1 \\<le> x)", "by (simp_all add: Ball_def)"], ["proof (state)\nthis:\n  distinct l1 \\<and> sorted l1\n  x1 \\<notin> set l1\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> subset_sorted l1 l2 =\n                                     (set l1 \\<subseteq> set l2);\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (a # l1) l2 =\n                         (set (a # l1) \\<subseteq> set l2)", "note ind_hyp_l1 = Cons(1)[OF l1_props]"], ["proof (state)\nthis:\n  distinct ?l2.0 \\<and> sorted ?l2.0 \\<Longrightarrow>\n  subset_sorted l1 ?l2.0 = (set l1 \\<subseteq> set ?l2.0)\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       \\<lbrakk>\\<And>l2.\n                   \\<lbrakk>distinct l1 \\<and> sorted l1;\n                    distinct l2 \\<and> sorted l2\\<rbrakk>\n                   \\<Longrightarrow> subset_sorted l1 l2 =\n                                     (set l1 \\<subseteq> set l2);\n        distinct (a # l1) \\<and> sorted (a # l1);\n        distinct l2 \\<and> sorted l2\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (a # l1) l2 =\n                         (set (a # l1) \\<subseteq> set l2)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. subset_sorted (x1 # l1) l2 = (set (x1 # l1) \\<subseteq> set l2)", "using l2_props"], ["proof (prove)\nusing this:\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. subset_sorted (x1 # l1) l2 = (set (x1 # l1) \\<subseteq> set l2)", "proof (induct l2)"], ["proof (state)\ngoal (2 subgoals):\n 1. distinct [] \\<and> sorted [] \\<Longrightarrow>\n    subset_sorted (x1 # l1) [] = (set (x1 # l1) \\<subseteq> set [])\n 2. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                subset_sorted (x1 # l1) l2 =\n                (set (x1 # l1) \\<subseteq> set l2);\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (x1 # l1) (a # l2) =\n                         (set (x1 # l1) \\<subseteq> set (a # l2))", "case Nil"], ["proof (state)\nthis:\n  distinct [] \\<and> sorted []\n\ngoal (2 subgoals):\n 1. distinct [] \\<and> sorted [] \\<Longrightarrow>\n    subset_sorted (x1 # l1) [] = (set (x1 # l1) \\<subseteq> set [])\n 2. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                subset_sorted (x1 # l1) l2 =\n                (set (x1 # l1) \\<subseteq> set l2);\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (x1 # l1) (a # l2) =\n                         (set (x1 # l1) \\<subseteq> set (a # l2))", "with x1_l1_props"], ["proof (chain)\npicking this:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n  distinct [] \\<and> sorted []", "show ?case"], ["proof (prove)\nusing this:\n  distinct (x1 # l1) \\<and> sorted (x1 # l1)\n  distinct [] \\<and> sorted []\n\ngoal (1 subgoal):\n 1. subset_sorted (x1 # l1) [] = (set (x1 # l1) \\<subseteq> set [])", "by simp"], ["proof (state)\nthis:\n  subset_sorted (x1 # l1) [] = (set (x1 # l1) \\<subseteq> set [])\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                subset_sorted (x1 # l1) l2 =\n                (set (x1 # l1) \\<subseteq> set l2);\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (x1 # l1) (a # l2) =\n                         (set (x1 # l1) \\<subseteq> set (a # l2))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                subset_sorted (x1 # l1) l2 =\n                (set (x1 # l1) \\<subseteq> set l2);\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (x1 # l1) (a # l2) =\n                         (set (x1 # l1) \\<subseteq> set (a # l2))", "case (Cons x2 l2)"], ["proof (state)\nthis:\n  distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n  subset_sorted (x1 # l1) l2 = (set (x1 # l1) \\<subseteq> set l2)\n  distinct (x2 # l2) \\<and> sorted (x2 # l2)\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                subset_sorted (x1 # l1) l2 =\n                (set (x1 # l1) \\<subseteq> set l2);\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (x1 # l1) (a # l2) =\n                         (set (x1 # l1) \\<subseteq> set (a # l2))", "note x2_l2_props = Cons(2)"], ["proof (state)\nthis:\n  distinct (x2 # l2) \\<and> sorted (x2 # l2)\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                subset_sorted (x1 # l1) l2 =\n                (set (x1 # l1) \\<subseteq> set l2);\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (x1 # l1) (a # l2) =\n                         (set (x1 # l1) \\<subseteq> set (a # l2))", "from x2_l2_props"], ["proof (chain)\npicking this:\n  distinct (x2 # l2) \\<and> sorted (x2 # l2)", "have l2_props: \"distinct l2 \\<and> sorted l2\"\n                    and x2_nin_l2: \"x2 \\<notin> set l2\"\n                    and x2_le: \"\\<And>x. x \\<in> set l2 \\<Longrightarrow> x2 \\<le> x\""], ["proof (prove)\nusing this:\n  distinct (x2 # l2) \\<and> sorted (x2 # l2)\n\ngoal (1 subgoal):\n 1. distinct l2 \\<and> sorted l2 &&&\n    x2 \\<notin> set l2 &&&\n    (\\<And>x. x \\<in> set l2 \\<Longrightarrow> x2 \\<le> x)", "by (simp_all add: Ball_def)"], ["proof (state)\nthis:\n  distinct l2 \\<and> sorted l2\n  x2 \\<notin> set l2\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                subset_sorted (x1 # l1) l2 =\n                (set (x1 # l1) \\<subseteq> set l2);\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (x1 # l1) (a # l2) =\n                         (set (x1 # l1) \\<subseteq> set (a # l2))", "note ind_hyp_l2 = Cons(1)[OF l2_props]"], ["proof (state)\nthis:\n  subset_sorted (x1 # l1) l2 = (set (x1 # l1) \\<subseteq> set l2)\n\ngoal (1 subgoal):\n 1. \\<And>a l2.\n       \\<lbrakk>distinct l2 \\<and> sorted l2 \\<Longrightarrow>\n                subset_sorted (x1 # l1) l2 =\n                (set (x1 # l1) \\<subseteq> set l2);\n        distinct (a # l2) \\<and> sorted (a # l2)\\<rbrakk>\n       \\<Longrightarrow> subset_sorted (x1 # l1) (a # l2) =\n                         (set (x1 # l1) \\<subseteq> set (a # l2))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "proof (cases \"x1 < x2\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x1 < x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))\n 2. \\<not> x1 < x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "case True"], ["proof (state)\nthis:\n  x1 < x2\n\ngoal (2 subgoals):\n 1. x1 < x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))\n 2. \\<not> x1 < x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "note x1_less_x2 = this"], ["proof (state)\nthis:\n  x1 < x2\n\ngoal (2 subgoals):\n 1. x1 < x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))\n 2. \\<not> x1 < x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "from ind_hyp_l1[OF x2_l2_props] x1_less_x2 x1_nin_l1 x1_le x2_le"], ["proof (chain)\npicking this:\n  subset_sorted l1 (x2 # l2) = (set l1 \\<subseteq> set (x2 # l2))\n  x1 < x2\n  x1 \\<notin> set l1\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x", "show ?thesis"], ["proof (prove)\nusing this:\n  subset_sorted l1 (x2 # l2) = (set l1 \\<subseteq> set (x2 # l2))\n  x1 < x2\n  x1 \\<notin> set l1\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n\ngoal (1 subgoal):\n 1. subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "apply (auto simp add: Ball_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x1 < x2; x1 \\<notin> set l1;\n     \\<And>x. x \\<in> set l1 \\<Longrightarrow> x1 \\<le> x;\n     \\<And>x. x \\<in> set l2 \\<Longrightarrow> x2 \\<le> x;\n     subset_sorted l1 (x2 # l2); set l1 \\<subseteq> insert x2 (set l2);\n     x1 \\<in> set l2\\<rbrakk>\n    \\<Longrightarrow> False", "apply (metis linorder_not_le)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  subset_sorted (x1 # l1) (x2 # l2) =\n  (set (x1 # l1) \\<subseteq> set (x2 # l2))\n\ngoal (1 subgoal):\n 1. \\<not> x1 < x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> x1 < x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "case False"], ["proof (state)\nthis:\n  \\<not> x1 < x2\n\ngoal (1 subgoal):\n 1. \\<not> x1 < x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "note x2_le_x1 = this"], ["proof (state)\nthis:\n  \\<not> x1 < x2\n\ngoal (1 subgoal):\n 1. \\<not> x1 < x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "proof (cases \"x1 = x2\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x1 = x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))\n 2. x1 \\<noteq> x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "case True"], ["proof (state)\nthis:\n  x1 = x2\n\ngoal (2 subgoals):\n 1. x1 = x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))\n 2. x1 \\<noteq> x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "note x1_eq_x2 = this"], ["proof (state)\nthis:\n  x1 = x2\n\ngoal (2 subgoals):\n 1. x1 = x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))\n 2. x1 \\<noteq> x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "from ind_hyp_l1[OF l2_props] x1_le x2_le x2_nin_l2 x1_eq_x2 x1_nin_l1"], ["proof (chain)\npicking this:\n  subset_sorted l1 l2 = (set l1 \\<subseteq> set l2)\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n  x2 \\<notin> set l2\n  x1 = x2\n  x1 \\<notin> set l1", "show ?thesis"], ["proof (prove)\nusing this:\n  subset_sorted l1 l2 = (set l1 \\<subseteq> set l2)\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n  x2 \\<notin> set l2\n  x1 = x2\n  x1 \\<notin> set l1\n\ngoal (1 subgoal):\n 1. subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "apply (simp add: subset_iff x1_eq_x2 Ball_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>subset_sorted l1 l2 =\n             (\\<forall>t. t \\<in> set l1 \\<longrightarrow> t \\<in> set l2);\n     \\<And>x. x \\<in> set l1 \\<Longrightarrow> x2 \\<le> x;\n     \\<And>x. x \\<in> set l2 \\<Longrightarrow> x2 \\<le> x;\n     x2 \\<notin> set l2; x2 \\<notin> set l1\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>t.\n                          t \\<in> set l1 \\<longrightarrow> t \\<in> set l2) =\n                      (\\<forall>t.\n                          t \\<in> set l1 \\<longrightarrow>\n                          t = x2 \\<or> t \\<in> set l2)", "apply metis"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  subset_sorted (x1 # l1) (x2 # l2) =\n  (set (x1 # l1) \\<subseteq> set (x2 # l2))\n\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "case False"], ["proof (state)\nthis:\n  x1 \\<noteq> x2\n\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "note x1_neq_x2 = this"], ["proof (state)\nthis:\n  x1 \\<noteq> x2\n\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "with x2_le_x1"], ["proof (chain)\npicking this:\n  \\<not> x1 < x2\n  x1 \\<noteq> x2", "have x2_less_x1 : \"x2 < x1\""], ["proof (prove)\nusing this:\n  \\<not> x1 < x2\n  x1 \\<noteq> x2\n\ngoal (1 subgoal):\n 1. x2 < x1", "by auto"], ["proof (state)\nthis:\n  x2 < x1\n\ngoal (1 subgoal):\n 1. x1 \\<noteq> x2 \\<Longrightarrow>\n    subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "from ind_hyp_l2 x2_le_x1 x1_neq_x2 x2_le x2_nin_l2 x1_le"], ["proof (chain)\npicking this:\n  subset_sorted (x1 # l1) l2 = (set (x1 # l1) \\<subseteq> set l2)\n  \\<not> x1 < x2\n  x1 \\<noteq> x2\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n  x2 \\<notin> set l2\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x", "show ?thesis"], ["proof (prove)\nusing this:\n  subset_sorted (x1 # l1) l2 = (set (x1 # l1) \\<subseteq> set l2)\n  \\<not> x1 < x2\n  x1 \\<noteq> x2\n  ?x \\<in> set l2 \\<Longrightarrow> x2 \\<le> ?x\n  x2 \\<notin> set l2\n  ?x \\<in> set l1 \\<Longrightarrow> x1 \\<le> ?x\n\ngoal (1 subgoal):\n 1. subset_sorted (x1 # l1) (x2 # l2) =\n    (set (x1 # l1) \\<subseteq> set (x2 # l2))", "apply (simp add: subset_iff x2_less_x1 Ball_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>subset_sorted (x1 # l1) l2 =\n             (\\<forall>t.\n                 (t = x1 \\<longrightarrow> x1 \\<in> set l2) \\<and>\n                 (t \\<in> set l1 \\<longrightarrow> t \\<in> set l2));\n     \\<not> x1 < x2; x1 \\<noteq> x2;\n     \\<And>x. x \\<in> set l2 \\<Longrightarrow> x2 \\<le> x;\n     x2 \\<notin> set l2;\n     \\<And>x. x \\<in> set l1 \\<Longrightarrow> x1 \\<le> x\\<rbrakk>\n    \\<Longrightarrow> (\\<forall>t.\n                          (t = x1 \\<longrightarrow> x1 \\<in> set l2) \\<and>\n                          (t \\<in> set l1 \\<longrightarrow>\n                           t \\<in> set l2)) =\n                      (\\<forall>t.\n                          (t = x1 \\<longrightarrow> x1 \\<in> set l2) \\<and>\n                          (t \\<in> set l1 \\<longrightarrow>\n                           t = x2 \\<or> t \\<in> set l2))", "apply (metis linorder_not_le x2_less_x1)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  subset_sorted (x1 # l1) (x2 # l2) =\n  (set (x1 # l1) \\<subseteq> set (x2 # l2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  subset_sorted (x1 # l1) (x2 # l2) =\n  (set (x1 # l1) \\<subseteq> set (x2 # l2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  subset_sorted (x1 # l1) (x2 # l2) =\n  (set (x1 # l1) \\<subseteq> set (x2 # l2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  subset_sorted (x1 # l1) l2 = (set (x1 # l1) \\<subseteq> set l2)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma set_eq_sorted_correct :\n  assumes l1_OK: \"distinct l1 \\<and> sorted l1\"\n  assumes l2_OK: \"distinct l2 \\<and> sorted l2\"\n  shows \"l1 = l2 \\<longleftrightarrow> set l1 = set l2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (l1 = l2) = (set l1 = set l2)", "using assms"], ["proof (prove)\nusing this:\n  distinct l1 \\<and> sorted l1\n  distinct l2 \\<and> sorted l2\n\ngoal (1 subgoal):\n 1. (l1 = l2) = (set l1 = set l2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct l1 \\<and> sorted l1;\n     distinct l2 \\<and> sorted l2\\<rbrakk>\n    \\<Longrightarrow> (l1 = l2) = (set l1 = set l2)", "have l12_eq: \"l1 = l2 \\<longleftrightarrow> subset_sorted l1 l2 \\<and> subset_sorted l2 l1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (l1 = l2) = (subset_sorted l1 l2 \\<and> subset_sorted l2 l1)", "proof (induct l1 arbitrary: l2)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>l2. ([] = l2) = (subset_sorted [] l2 \\<and> subset_sorted l2 [])\n 2. \\<And>a l1 l2.\n       (\\<And>l2.\n           (l1 = l2) =\n           (subset_sorted l1 l2 \\<and>\n            subset_sorted l2 l1)) \\<Longrightarrow>\n       (a # l1 = l2) =\n       (subset_sorted (a # l1) l2 \\<and> subset_sorted l2 (a # l1))", "case Nil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<And>l2. ([] = l2) = (subset_sorted [] l2 \\<and> subset_sorted l2 [])\n 2. \\<And>a l1 l2.\n       (\\<And>l2.\n           (l1 = l2) =\n           (subset_sorted l1 l2 \\<and>\n            subset_sorted l2 l1)) \\<Longrightarrow>\n       (a # l1 = l2) =\n       (subset_sorted (a # l1) l2 \\<and> subset_sorted l2 (a # l1))", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. ([] = l2) = (subset_sorted [] l2 \\<and> subset_sorted l2 [])", "by (cases l2) auto"], ["proof (state)\nthis:\n  ([] = l2) = (subset_sorted [] l2 \\<and> subset_sorted l2 [])\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       (\\<And>l2.\n           (l1 = l2) =\n           (subset_sorted l1 l2 \\<and>\n            subset_sorted l2 l1)) \\<Longrightarrow>\n       (a # l1 = l2) =\n       (subset_sorted (a # l1) l2 \\<and> subset_sorted l2 (a # l1))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       (\\<And>l2.\n           (l1 = l2) =\n           (subset_sorted l1 l2 \\<and>\n            subset_sorted l2 l1)) \\<Longrightarrow>\n       (a # l1 = l2) =\n       (subset_sorted (a # l1) l2 \\<and> subset_sorted l2 (a # l1))", "case (Cons x1 l1')"], ["proof (state)\nthis:\n  (l1' = ?l2.0) = (subset_sorted l1' ?l2.0 \\<and> subset_sorted ?l2.0 l1')\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       (\\<And>l2.\n           (l1 = l2) =\n           (subset_sorted l1 l2 \\<and>\n            subset_sorted l2 l1)) \\<Longrightarrow>\n       (a # l1 = l2) =\n       (subset_sorted (a # l1) l2 \\<and> subset_sorted l2 (a # l1))", "note ind_hyp = Cons(1)"], ["proof (state)\nthis:\n  (l1' = ?l2.0) = (subset_sorted l1' ?l2.0 \\<and> subset_sorted ?l2.0 l1')\n\ngoal (1 subgoal):\n 1. \\<And>a l1 l2.\n       (\\<And>l2.\n           (l1 = l2) =\n           (subset_sorted l1 l2 \\<and>\n            subset_sorted l2 l1)) \\<Longrightarrow>\n       (a # l1 = l2) =\n       (subset_sorted (a # l1) l2 \\<and> subset_sorted l2 (a # l1))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x1 # l1' = l2) =\n    (subset_sorted (x1 # l1') l2 \\<and> subset_sorted l2 (x1 # l1'))", "proof (cases l2)"], ["proof (state)\ngoal (2 subgoals):\n 1. l2 = [] \\<Longrightarrow>\n    (x1 # l1' = l2) =\n    (subset_sorted (x1 # l1') l2 \\<and> subset_sorted l2 (x1 # l1'))\n 2. \\<And>a list.\n       l2 = a # list \\<Longrightarrow>\n       (x1 # l1' = l2) =\n       (subset_sorted (x1 # l1') l2 \\<and> subset_sorted l2 (x1 # l1'))", "case Nil"], ["proof (state)\nthis:\n  l2 = []\n\ngoal (2 subgoals):\n 1. l2 = [] \\<Longrightarrow>\n    (x1 # l1' = l2) =\n    (subset_sorted (x1 # l1') l2 \\<and> subset_sorted l2 (x1 # l1'))\n 2. \\<And>a list.\n       l2 = a # list \\<Longrightarrow>\n       (x1 # l1' = l2) =\n       (subset_sorted (x1 # l1') l2 \\<and> subset_sorted l2 (x1 # l1'))", "thus ?thesis"], ["proof (prove)\nusing this:\n  l2 = []\n\ngoal (1 subgoal):\n 1. (x1 # l1' = l2) =\n    (subset_sorted (x1 # l1') l2 \\<and> subset_sorted l2 (x1 # l1'))", "by simp"], ["proof (state)\nthis:\n  (x1 # l1' = l2) =\n  (subset_sorted (x1 # l1') l2 \\<and> subset_sorted l2 (x1 # l1'))\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       l2 = a # list \\<Longrightarrow>\n       (x1 # l1' = l2) =\n       (subset_sorted (x1 # l1') l2 \\<and> subset_sorted l2 (x1 # l1'))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list.\n       l2 = a # list \\<Longrightarrow>\n       (x1 # l1' = l2) =\n       (subset_sorted (x1 # l1') l2 \\<and> subset_sorted l2 (x1 # l1'))", "case (Cons x2 l2')"], ["proof (state)\nthis:\n  l2 = x2 # l2'\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       l2 = a # list \\<Longrightarrow>\n       (x1 # l1' = l2) =\n       (subset_sorted (x1 # l1') l2 \\<and> subset_sorted l2 (x1 # l1'))", "thus ?thesis"], ["proof (prove)\nusing this:\n  l2 = x2 # l2'\n\ngoal (1 subgoal):\n 1. (x1 # l1' = l2) =\n    (subset_sorted (x1 # l1') l2 \\<and> subset_sorted l2 (x1 # l1'))", "by (simp add: ind_hyp)"], ["proof (state)\nthis:\n  (x1 # l1' = l2) =\n  (subset_sorted (x1 # l1') l2 \\<and> subset_sorted l2 (x1 # l1'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (x1 # l1' = l2) =\n  (subset_sorted (x1 # l1') l2 \\<and> subset_sorted l2 (x1 # l1'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (l1 = l2) = (subset_sorted l1 l2 \\<and> subset_sorted l2 l1)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct l1 \\<and> sorted l1;\n     distinct l2 \\<and> sorted l2\\<rbrakk>\n    \\<Longrightarrow> (l1 = l2) = (set l1 = set l2)", "also"], ["proof (state)\nthis:\n  (l1 = l2) = (subset_sorted l1 l2 \\<and> subset_sorted l2 l1)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct l1 \\<and> sorted l1;\n     distinct l2 \\<and> sorted l2\\<rbrakk>\n    \\<Longrightarrow> (l1 = l2) = (set l1 = set l2)", "have \"\\<dots> \\<longleftrightarrow> ((set l1 \\<subseteq> set l2) \\<and> (set l2 \\<subseteq> set l1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (subset_sorted l1 l2 \\<and> subset_sorted l2 l1) =\n    (set l1 \\<subseteq> set l2 \\<and> set l2 \\<subseteq> set l1)", "using subset_sorted_correct[OF l1_OK l2_OK] subset_sorted_correct[OF l2_OK l1_OK]"], ["proof (prove)\nusing this:\n  subset_sorted l1 l2 = (set l1 \\<subseteq> set l2)\n  subset_sorted l2 l1 = (set l2 \\<subseteq> set l1)\n\ngoal (1 subgoal):\n 1. (subset_sorted l1 l2 \\<and> subset_sorted l2 l1) =\n    (set l1 \\<subseteq> set l2 \\<and> set l2 \\<subseteq> set l1)", "by simp"], ["proof (state)\nthis:\n  (subset_sorted l1 l2 \\<and> subset_sorted l2 l1) =\n  (set l1 \\<subseteq> set l2 \\<and> set l2 \\<subseteq> set l1)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct l1 \\<and> sorted l1;\n     distinct l2 \\<and> sorted l2\\<rbrakk>\n    \\<Longrightarrow> (l1 = l2) = (set l1 = set l2)", "also"], ["proof (state)\nthis:\n  (subset_sorted l1 l2 \\<and> subset_sorted l2 l1) =\n  (set l1 \\<subseteq> set l2 \\<and> set l2 \\<subseteq> set l1)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct l1 \\<and> sorted l1;\n     distinct l2 \\<and> sorted l2\\<rbrakk>\n    \\<Longrightarrow> (l1 = l2) = (set l1 = set l2)", "have \"\\<dots> \\<longleftrightarrow> set l1 = set l2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (set l1 \\<subseteq> set l2 \\<and> set l2 \\<subseteq> set l1) =\n    (set l1 = set l2)", "by auto"], ["proof (state)\nthis:\n  (set l1 \\<subseteq> set l2 \\<and> set l2 \\<subseteq> set l1) =\n  (set l1 = set l2)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct l1 \\<and> sorted l1;\n     distinct l2 \\<and> sorted l2\\<rbrakk>\n    \\<Longrightarrow> (l1 = l2) = (set l1 = set l2)", "finally"], ["proof (chain)\npicking this:\n  (l1 = l2) = (set l1 = set l2)", "show ?thesis"], ["proof (prove)\nusing this:\n  (l1 = l2) = (set l1 = set l2)\n\ngoal (1 subgoal):\n 1. (l1 = l2) = (set l1 = set l2)", "."], ["proof (state)\nthis:\n  (l1 = l2) = (set l1 = set l2)\n\ngoal:\nNo subgoals!", "qed"], ["", "fun memb_sorted where\n   \"memb_sorted [] x = False\"\n | \"memb_sorted (y # xs) x =\n    (if (y < x) then memb_sorted xs x else (x = y))\""], ["", "lemma memb_sorted_correct :\n  \"sorted xs \\<Longrightarrow> memb_sorted xs x \\<longleftrightarrow> x \\<in> set xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sorted xs \\<Longrightarrow> memb_sorted xs x = (x \\<in> set xs)", "by (induct xs) (auto simp add: Ball_def)"], ["", "fun insertion_sort where\n   \"insertion_sort x [] = [x]\"\n | \"insertion_sort x (y # xs) =\n    (if (y < x) then y # insertion_sort x xs else \n     (if (x = y) then y # xs else x # y # xs))\""], ["", "lemma insertion_sort_correct :\n  \"sorted xs \\<Longrightarrow> distinct xs \\<Longrightarrow>\n   distinct (insertion_sort x xs) \\<and> \n   sorted (insertion_sort x xs) \\<and>\n   set (insertion_sort x xs) = set (x # xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>sorted xs; distinct xs\\<rbrakk>\n    \\<Longrightarrow> distinct (insertion_sort x xs) \\<and>\n                      sorted (insertion_sort x xs) \\<and>\n                      set (insertion_sort x xs) = set (x # xs)", "by (induct xs) (auto simp add: Ball_def)"], ["", "fun delete_sorted where\n   \"delete_sorted x [] = []\"\n | \"delete_sorted x (y # xs) =\n    (if (y < x) then y # delete_sorted x xs else \n     (if (x = y) then xs else y # xs))\""], ["", "lemma delete_sorted_correct :\n  \"sorted xs \\<Longrightarrow> distinct xs \\<Longrightarrow>\n   distinct (delete_sorted x xs) \\<and> \n   sorted (delete_sorted x xs) \\<and>\n   set (delete_sorted x xs) = set xs - {x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>sorted xs; distinct xs\\<rbrakk>\n    \\<Longrightarrow> distinct (delete_sorted x xs) \\<and>\n                      sorted (delete_sorted x xs) \\<and>\n                      set (delete_sorted x xs) = set xs - {x}", "apply (induct xs)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>sorted []; distinct []\\<rbrakk>\n    \\<Longrightarrow> distinct (delete_sorted x []) \\<and>\n                      sorted (delete_sorted x []) \\<and>\n                      set (delete_sorted x []) = set [] - {x}\n 2. \\<And>a xs.\n       \\<lbrakk>\\<lbrakk>sorted xs; distinct xs\\<rbrakk>\n                \\<Longrightarrow> distinct (delete_sorted x xs) \\<and>\n                                  sorted (delete_sorted x xs) \\<and>\n                                  set (delete_sorted x xs) = set xs - {x};\n        sorted (a # xs); distinct (a # xs)\\<rbrakk>\n       \\<Longrightarrow> distinct (delete_sorted x (a # xs)) \\<and>\n                         sorted (delete_sorted x (a # xs)) \\<and>\n                         set (delete_sorted x (a # xs)) = set (a # xs) - {x}", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xs.\n       \\<lbrakk>\\<lbrakk>sorted xs; distinct xs\\<rbrakk>\n                \\<Longrightarrow> distinct (delete_sorted x xs) \\<and>\n                                  sorted (delete_sorted x xs) \\<and>\n                                  set (delete_sorted x xs) = set xs - {x};\n        sorted (a # xs); distinct (a # xs)\\<rbrakk>\n       \\<Longrightarrow> distinct (delete_sorted x (a # xs)) \\<and>\n                         sorted (delete_sorted x (a # xs)) \\<and>\n                         set (delete_sorted x (a # xs)) = set (a # xs) - {x}", "apply (simp add: Ball_def set_eq_iff)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xs.\n       \\<lbrakk>distinct (delete_sorted x xs) \\<and>\n                sorted (delete_sorted x xs) \\<and>\n                (\\<forall>xa.\n                    (xa \\<in> set (delete_sorted x xs)) =\n                    (xa \\<in> set xs \\<and> xa \\<noteq> x));\n        (\\<forall>x. x \\<in> set xs \\<longrightarrow> a \\<le> x) \\<and>\n        sorted xs;\n        a \\<notin> set xs \\<and> distinct xs\\<rbrakk>\n       \\<Longrightarrow> (x = a \\<longrightarrow>\n                          (\\<forall>x.\n                              (x \\<in> set xs) =\n                              ((x = a \\<or> x \\<in> set xs) \\<and>\n                               x \\<noteq> a))) \\<and>\n                         (x \\<noteq> a \\<longrightarrow>\n                          (a < x \\<longrightarrow>\n                           (\\<forall>xa.\n                               (xa = a \\<or>\n                                xa \\<in> set xs \\<and> xa \\<noteq> x) =\n                               ((xa = a \\<or> xa \\<in> set xs) \\<and>\n                                xa \\<noteq> x))) \\<and>\n                          (\\<not> a < x \\<longrightarrow>\n                           (\\<forall>xa.\n                               (xa = a \\<or> xa \\<in> set xs) =\n                               ((xa = a \\<or> xa \\<in> set xs) \\<and>\n                                xa \\<noteq> x))))", "apply (metis order_less_le)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "end"]]}