{"file_name": "/home/qj213/afp-2021-10-22/thys/Cauchy/CauchySchwarz.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Cauchy", "problem_names": ["lemmas real_sq = power2_eq_square [where 'a = real, symmetric]", "lemmas real_sq_exp = power_mult_distrib [where 'a = real and ?n = 2]", "lemma double_sum_equiv:\n  fixes f::\"nat \\<Rightarrow> real\"\n  shows\n  \"(\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f k * g j)) =\n   (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f j * g k))\"", "lemma norm_dot:\n \"\\<parallel>v\\<parallel> = sqrt (v\\<cdot>v)\"", "lemma norm_pos:\n  \"\\<parallel>v\\<parallel> \\<ge> 0\"", "lemma double_sum_aux:\n  fixes f::\"nat \\<Rightarrow> real\"\n  shows\n  \"(\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f k * g j)) =\n   (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. (f k * g j + f j * g k) / 2))\"", "theorem CauchySchwarzReal:\n  fixes x::vector\n  assumes \"vlen x = vlen y\"\n  shows \"\\<bar>x\\<cdot>y\\<bar> \\<le> \\<parallel>x\\<parallel>*\\<parallel>y\\<parallel>\""], "translations": [["", "lemmas real_sq = power2_eq_square [where 'a = real, symmetric]"], ["", "lemmas real_sq_exp = power_mult_distrib [where 'a = real and ?n = 2]"], ["", "lemma double_sum_equiv:\n  fixes f::\"nat \\<Rightarrow> real\"\n  shows\n  \"(\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f k * g j)) =\n   (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f j * g k))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f j * g k)", "by (rule sum.swap)"], ["", "(*>*)"], ["", "section \\<open>Abstract\\<close>"], ["", "text \\<open>The following document presents a formalised proof of the\nCauchy-Schwarz Inequality for the specific case of $R^n$. The system\nused is Isabelle/Isar. \n\n{\\em Theorem:} Take $V$ to be some vector space possessing a norm and\ninner product, then for all $a,b \\in V$ the following inequality\nholds: \\<open>\\<bar>a\\<cdot>b\\<bar> \\<le> \\<parallel>a\\<parallel>*\\<parallel>b\\<parallel>\\<close>. Specifically, in the Real case, the\nnorm is the Euclidean length and the inner product is the standard dot\nproduct.\\<close>"], ["", "section \\<open>Formal Proof\\<close>"], ["", "subsection \\<open>Vector, Dot and Norm definitions.\\<close>"], ["", "text \\<open>This section presents definitions for a real vector type, a\ndot product function and a norm function.\\<close>"], ["", "subsubsection \\<open>Vector\\<close>"], ["", "text \\<open>We now define a vector type to be a tuple of (function,\nlength). Where the function is of type @{typ \"nat\\<Rightarrow>real\"}. We also\ndefine some accessor functions and appropriate notation.\\<close>"], ["", "type_synonym vector = \"(nat\\<Rightarrow>real) * nat\""], ["", "definition\n  ith :: \"vector \\<Rightarrow> nat \\<Rightarrow> real\" (\"((_)\\<^bsub>_\\<^esub>)\" [80,100] 100) where\n  \"ith v i = fst v i\""], ["", "definition\n  vlen :: \"vector \\<Rightarrow> nat\" where\n  \"vlen v = snd v\""], ["", "text \\<open>Now to access the second element of some vector $v$ the syntax\nis $v_2$.\\<close>"], ["", "subsubsection \\<open>Dot and Norm\\<close>"], ["", "text \\<open>We now define the dot product and norm operations.\\<close>"], ["", "definition\n  dot :: \"vector \\<Rightarrow> vector \\<Rightarrow> real\" (infixr \"\\<cdot>\" 60) where\n  \"dot a b = (\\<Sum>j\\<in>{1..(vlen a)}. a\\<^bsub>j\\<^esub>*b\\<^bsub>j\\<^esub>)\""], ["", "definition\n  norm :: \"vector \\<Rightarrow> real\"                  (\"\\<parallel>_\\<parallel>\" 100) where\n  \"norm v = sqrt (\\<Sum>j\\<in>{1..(vlen v)}. v\\<^bsub>j\\<^esub>^2)\""], ["", "text \\<open>Another definition of the norm is @{term \"\\<parallel>v\\<parallel> = sqrt\n(v\\<cdot>v)\"}. We show that our definition leads to this one.\\<close>"], ["", "lemma norm_dot:\n \"\\<parallel>v\\<parallel> = sqrt (v\\<cdot>v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>v\\<parallel> = sqrt (v \\<cdot> v)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<parallel>v\\<parallel> = sqrt (v \\<cdot> v)", "have \"sqrt (v\\<cdot>v) = sqrt (\\<Sum>j\\<in>{1..(vlen v)}. v\\<^bsub>j\\<^esub>*v\\<^bsub>j\\<^esub>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sqrt (v \\<cdot> v) =\n    sqrt (\\<Sum>j = 1..vlen v. v\\<^bsub>j\\<^esub> * v\\<^bsub>j\\<^esub>)", "unfolding dot_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. sqrt (\\<Sum>j = 1..vlen v. v\\<^bsub>j\\<^esub> * v\\<^bsub>j\\<^esub>) =\n    sqrt (\\<Sum>j = 1..vlen v. v\\<^bsub>j\\<^esub> * v\\<^bsub>j\\<^esub>)", "by simp"], ["proof (state)\nthis:\n  sqrt (v \\<cdot> v) =\n  sqrt (\\<Sum>j = 1..vlen v. v\\<^bsub>j\\<^esub> * v\\<^bsub>j\\<^esub>)\n\ngoal (1 subgoal):\n 1. \\<parallel>v\\<parallel> = sqrt (v \\<cdot> v)", "also"], ["proof (state)\nthis:\n  sqrt (v \\<cdot> v) =\n  sqrt (\\<Sum>j = 1..vlen v. v\\<^bsub>j\\<^esub> * v\\<^bsub>j\\<^esub>)\n\ngoal (1 subgoal):\n 1. \\<parallel>v\\<parallel> = sqrt (v \\<cdot> v)", "with real_sq"], ["proof (chain)\npicking this:\n  ?a * ?a = ?a\\<^sup>2\n  sqrt (v \\<cdot> v) =\n  sqrt (\\<Sum>j = 1..vlen v. v\\<^bsub>j\\<^esub> * v\\<^bsub>j\\<^esub>)", "have \"\\<dots> = sqrt (\\<Sum>j\\<in>{1..(vlen v)}. v\\<^bsub>j\\<^esub>^2)\""], ["proof (prove)\nusing this:\n  ?a * ?a = ?a\\<^sup>2\n  sqrt (v \\<cdot> v) =\n  sqrt (\\<Sum>j = 1..vlen v. v\\<^bsub>j\\<^esub> * v\\<^bsub>j\\<^esub>)\n\ngoal (1 subgoal):\n 1. sqrt (\\<Sum>j = 1..vlen v. v\\<^bsub>j\\<^esub> * v\\<^bsub>j\\<^esub>) =\n    sqrt (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  sqrt (\\<Sum>j = 1..vlen v. v\\<^bsub>j\\<^esub> * v\\<^bsub>j\\<^esub>) =\n  sqrt (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<parallel>v\\<parallel> = sqrt (v \\<cdot> v)", "also"], ["proof (state)\nthis:\n  sqrt (\\<Sum>j = 1..vlen v. v\\<^bsub>j\\<^esub> * v\\<^bsub>j\\<^esub>) =\n  sqrt (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<parallel>v\\<parallel> = sqrt (v \\<cdot> v)", "have \"\\<dots> = \\<parallel>v\\<parallel>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sqrt (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2) =\n    \\<parallel>v\\<parallel>", "unfolding norm_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. sqrt (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2) =\n    sqrt (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  sqrt (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2) =\n  \\<parallel>v\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<parallel>v\\<parallel> = sqrt (v \\<cdot> v)", "finally"], ["proof (chain)\npicking this:\n  sqrt (v \\<cdot> v) = \\<parallel>v\\<parallel>", "show ?thesis"], ["proof (prove)\nusing this:\n  sqrt (v \\<cdot> v) = \\<parallel>v\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<parallel>v\\<parallel> = sqrt (v \\<cdot> v)", ".."], ["proof (state)\nthis:\n  \\<parallel>v\\<parallel> = sqrt (v \\<cdot> v)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>A further important property is that the norm is never negative.\\<close>"], ["", "lemma norm_pos:\n  \"\\<parallel>v\\<parallel> \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> \\<parallel>v\\<parallel>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 \\<le> \\<parallel>v\\<parallel>", "have \"\\<forall>j. v\\<^bsub>j\\<^esub>^2 \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>j. 0 \\<le> (v\\<^bsub>j\\<^esub>)\\<^sup>2", "unfolding ith_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>j. 0 \\<le> (fst v j)\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  \\<forall>j. 0 \\<le> (v\\<^bsub>j\\<^esub>)\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> \\<parallel>v\\<parallel>", "have \"(\\<Sum>j\\<in>{1..(vlen v)}. v\\<^bsub>j\\<^esub>^2) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2)", "by (simp add: sum_nonneg)"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> \\<parallel>v\\<parallel>", "with real_sqrt_ge_zero"], ["proof (chain)\npicking this:\n  0 \\<le> ?x \\<Longrightarrow> 0 \\<le> sqrt ?x\n  0 \\<le> (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2)", "have \"sqrt (\\<Sum>j\\<in>{1..(vlen v)}. v\\<^bsub>j\\<^esub>^2) \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 \\<le> ?x \\<Longrightarrow> 0 \\<le> sqrt ?x\n  0 \\<le> (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> sqrt (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2)", "."], ["proof (state)\nthis:\n  0 \\<le> sqrt (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> \\<parallel>v\\<parallel>", "thus ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> sqrt (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> \\<parallel>v\\<parallel>", "unfolding norm_def"], ["proof (prove)\nusing this:\n  0 \\<le> sqrt (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> sqrt (\\<Sum>j = 1..vlen v. (v\\<^bsub>j\\<^esub>)\\<^sup>2)", "."], ["proof (state)\nthis:\n  0 \\<le> \\<parallel>v\\<parallel>\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>We now prove an intermediary lemma regarding double summation.\\<close>"], ["", "lemma double_sum_aux:\n  fixes f::\"nat \\<Rightarrow> real\"\n  shows\n  \"(\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f k * g j)) =\n   (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. (f k * g j + f j * g k) / 2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) / 2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) / 2)", "have\n    \"2 * (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f k * g j)) =\n    (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f k * g j)) +\n    (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f k * g j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) +\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j)", "by simp"], ["proof (state)\nthis:\n  2 * (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) +\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j)\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) / 2)", "also"], ["proof (state)\nthis:\n  2 * (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) +\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j)\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) / 2)", "have\n    \"\\<dots> =\n    (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f k * g j)) +\n    (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f j * g k))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) +\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) +\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f j * g k)", "by (simp only: double_sum_equiv)"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) +\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) +\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f j * g k)\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) / 2)", "also"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) +\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) +\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f j * g k)\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) / 2)", "have\n    \"\\<dots> =\n    (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f k * g j + f j * g k))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) +\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f j * g k) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j + f j * g k)", "by (auto simp add: sum.distrib)"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) +\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f j * g k) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j + f j * g k)\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) / 2)", "finally"], ["proof (chain)\npicking this:\n  2 * (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j + f j * g k)", "have\n    \"2 * (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f k * g j)) =\n    (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f k * g j + f j * g k))\""], ["proof (prove)\nusing this:\n  2 * (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j + f j * g k)\n\ngoal (1 subgoal):\n 1. 2 * (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j + f j * g k)", "."], ["proof (state)\nthis:\n  2 * (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j + f j * g k)\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) / 2)", "hence\n    \"(\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. f k * g j)) =\n     (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. (f k * g j + f j * g k)))*(1/2)\""], ["proof (prove)\nusing this:\n  2 * (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j + f j * g k)\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j + f j * g k) * (1 / 2)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j + f j * g k) * (1 / 2)\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) / 2)", "also"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j + f j * g k) * (1 / 2)\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) / 2)", "have\n    \"\\<dots> =\n     (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. (f k * g j + f j * g k)*(1/2)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j + f j * g k) * (1 / 2) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) * (1 / 2))", "by (simp add: sum_distrib_left mult.commute)"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j + f j * g k) * (1 / 2) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) * (1 / 2))\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) / 2)", "finally"], ["proof (chain)\npicking this:\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) * (1 / 2))", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) * (1 / 2))\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n    (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) / 2)", "by (auto simp add: inverse_eq_divide)"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. f k * g j) =\n  (\\<Sum>k = 1..n. \\<Sum>j = 1..n. (f k * g j + f j * g k) / 2)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The final theorem can now be proven. It is a simple forward\nproof that uses properties of double summation and the preceding\nlemma.\\<close>"], ["", "theorem CauchySchwarzReal:\n  fixes x::vector\n  assumes \"vlen x = vlen y\"\n  shows \"\\<bar>x\\<cdot>y\\<bar> \\<le> \\<parallel>x\\<parallel>*\\<parallel>y\\<parallel>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>x \\<cdot> y\\<bar>\n    \\<le> \\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>x \\<cdot> y\\<bar>\n    \\<le> \\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>", "have \"\\<bar>x\\<cdot>y\\<bar>^2 \\<le> (\\<parallel>x\\<parallel>*\\<parallel>y\\<parallel>)^2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n    \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n    \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2", "txt \\<open>We can rewrite the goal in the following form ...\\<close>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n    \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2", "have \"(\\<parallel>x\\<parallel>*\\<parallel>y\\<parallel>)^2 - \\<bar>x\\<cdot>y\\<bar>^2 \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "obtain n where nx: \"n = vlen x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>n. n = vlen x \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by simp"], ["proof (state)\nthis:\n  n = vlen x\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "with \\<open>vlen x = vlen y\\<close>"], ["proof (chain)\npicking this:\n  vlen x = vlen y\n  n = vlen x", "have ny: \"n = vlen y\""], ["proof (prove)\nusing this:\n  vlen x = vlen y\n  n = vlen x\n\ngoal (1 subgoal):\n 1. n = vlen y", "by simp"], ["proof (state)\nthis:\n  n = vlen y\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "{"], ["proof (state)\nthis:\n  n = vlen y\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "txt \\<open>Some preliminary simplification rules.\\<close>"], ["proof (state)\nthis:\n  n = vlen y\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "have \"(\\<Sum>j\\<in>{1..n}. x\\<^bsub>j\\<^esub>^2) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2)", "by (simp add: sum_nonneg)"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "hence xp: \"(sqrt (\\<Sum>j\\<in>{1..n}. x\\<^bsub>j\\<^esub>^2))^2 = (\\<Sum>j\\<in>{1..n}. x\\<^bsub>j\\<^esub>^2)\""], ["proof (prove)\nusing this:\n  0 \\<le> (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (sqrt (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 =\n    (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2)", "by (rule real_sqrt_pow2)"], ["proof (state)\nthis:\n  (sqrt (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 =\n  (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "have \"(\\<Sum>j\\<in>{1..n}. y\\<^bsub>j\\<^esub>^2) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2)", "by (simp add: sum_nonneg)"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "hence yp: \"(sqrt (\\<Sum>j\\<in>{1..n}. y\\<^bsub>j\\<^esub>^2))^2 = (\\<Sum>j\\<in>{1..n}. y\\<^bsub>j\\<^esub>^2)\""], ["proof (prove)\nusing this:\n  0 \\<le> (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (sqrt (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 =\n    (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2)", "by (rule real_sqrt_pow2)"], ["proof (state)\nthis:\n  (sqrt (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 =\n  (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "txt \\<open>The main result of this section is that \\<open>(\\<parallel>x\\<parallel>*\\<parallel>y\\<parallel>)^2\\<close> can be written as a double sum.\\<close>"], ["proof (state)\nthis:\n  (sqrt (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 =\n  (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "have\n          \"(\\<parallel>x\\<parallel>*\\<parallel>y\\<parallel>)^2 = \\<parallel>x\\<parallel>^2 * \\<parallel>y\\<parallel>^2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 =\n    (\\<parallel>x\\<parallel>)\\<^sup>2 * (\\<parallel>y\\<parallel>)\\<^sup>2", "by (simp add: real_sq_exp)"], ["proof (state)\nthis:\n  (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 =\n  (\\<parallel>x\\<parallel>)\\<^sup>2 * (\\<parallel>y\\<parallel>)\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 =\n  (\\<parallel>x\\<parallel>)\\<^sup>2 * (\\<parallel>y\\<parallel>)\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "from nx ny"], ["proof (chain)\npicking this:\n  n = vlen x\n  n = vlen y", "have\n          \"\\<dots> = (sqrt (\\<Sum>j\\<in>{1..n}. x\\<^bsub>j\\<^esub>^2))^2 * (sqrt (\\<Sum>j\\<in>{1..n}. y\\<^bsub>j\\<^esub>^2))^2\""], ["proof (prove)\nusing this:\n  n = vlen x\n  n = vlen y\n\ngoal (1 subgoal):\n 1. (\\<parallel>x\\<parallel>)\\<^sup>2 * (\\<parallel>y\\<parallel>)\\<^sup>2 =\n    (sqrt (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 *\n    (sqrt (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2", "unfolding norm_def"], ["proof (prove)\nusing this:\n  n = vlen x\n  n = vlen y\n\ngoal (1 subgoal):\n 1. (sqrt (\\<Sum>j = 1..vlen x. (x\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 *\n    (sqrt (\\<Sum>j = 1..vlen y. (y\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 =\n    (sqrt (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 *\n    (sqrt (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  (\\<parallel>x\\<parallel>)\\<^sup>2 * (\\<parallel>y\\<parallel>)\\<^sup>2 =\n  (sqrt (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 *\n  (sqrt (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  (\\<parallel>x\\<parallel>)\\<^sup>2 * (\\<parallel>y\\<parallel>)\\<^sup>2 =\n  (sqrt (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 *\n  (sqrt (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "from xp yp"], ["proof (chain)\npicking this:\n  (sqrt (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 =\n  (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2)\n  (sqrt (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 =\n  (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2)", "have\n          \"\\<dots> = (\\<Sum>j\\<in>{1..n}. x\\<^bsub>j\\<^esub>^2)*(\\<Sum>j\\<in>{1..n}. y\\<^bsub>j\\<^esub>^2)\""], ["proof (prove)\nusing this:\n  (sqrt (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 =\n  (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2)\n  (sqrt (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 =\n  (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (sqrt (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 *\n    (sqrt (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 =\n    (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2) *\n    (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (sqrt (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 *\n  (sqrt (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 =\n  (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2) *\n  (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  (sqrt (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 *\n  (sqrt (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2))\\<^sup>2 =\n  (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2) *\n  (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "from sum_product"], ["proof (chain)\npicking this:\n  sum ?f ?A * sum ?g ?B = (\\<Sum>i\\<in>?A. \\<Sum>j\\<in>?B. ?f i * ?g j)", "have\n          \"\\<dots> = (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. (x\\<^bsub>k\\<^esub>^2)*(y\\<^bsub>j\\<^esub>^2)))\""], ["proof (prove)\nusing this:\n  sum ?f ?A * sum ?g ?B = (\\<Sum>i\\<in>?A. \\<Sum>j\\<in>?B. ?f i * ?g j)\n\ngoal (1 subgoal):\n 1. (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2) *\n    (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2) =\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2)", "."], ["proof (state)\nthis:\n  (\\<Sum>j = 1..n. (x\\<^bsub>j\\<^esub>)\\<^sup>2) *\n  (\\<Sum>j = 1..n. (y\\<^bsub>j\\<^esub>)\\<^sup>2) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "finally"], ["proof (chain)\npicking this:\n  (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2)", "have\n          \"(\\<parallel>x\\<parallel>*\\<parallel>y\\<parallel>)^2 = (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. (x\\<^bsub>k\\<^esub>^2)*(y\\<^bsub>j\\<^esub>^2)))\""], ["proof (prove)\nusing this:\n  (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 =\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2)", "."], ["proof (state)\nthis:\n  (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "}"], ["proof (state)\nthis:\n  (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "moreover"], ["proof (state)\nthis:\n  (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "{"], ["proof (state)\nthis:\n  (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "txt \\<open>We also show that \\<open>\\<bar>x\\<cdot>y\\<bar>^2\\<close> can be expressed as a double sum.\\<close>"], ["proof (state)\nthis:\n  (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "have\n          \"\\<bar>x\\<cdot>y\\<bar>^2 = (x\\<cdot>y)^2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 = (x \\<cdot> y)\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 = (x \\<cdot> y)\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 = (x \\<cdot> y)\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "from nx"], ["proof (chain)\npicking this:\n  n = vlen x", "have\n          \"\\<dots> = (\\<Sum>j\\<in>{1..n}. x\\<^bsub>j\\<^esub>*y\\<^bsub>j\\<^esub>)^2\""], ["proof (prove)\nusing this:\n  n = vlen x\n\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>2 =\n    (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)\\<^sup>2", "unfolding dot_def"], ["proof (prove)\nusing this:\n  n = vlen x\n\ngoal (1 subgoal):\n 1. (\\<Sum>j = 1..vlen x. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)\\<^sup>2 =\n    (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  (x \\<cdot> y)\\<^sup>2 =\n  (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  (x \\<cdot> y)\\<^sup>2 =\n  (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "from real_sq"], ["proof (chain)\npicking this:\n  ?a * ?a = ?a\\<^sup>2", "have\n          \"\\<dots> = (\\<Sum>j\\<in>{1..n}. x\\<^bsub>j\\<^esub>*y\\<^bsub>j\\<^esub>)*(\\<Sum>j\\<in>{1..n}. x\\<^bsub>j\\<^esub>*y\\<^bsub>j\\<^esub>)\""], ["proof (prove)\nusing this:\n  ?a * ?a = ?a\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)\\<^sup>2 =\n    (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>) *\n    (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)\\<^sup>2 =\n  (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>) *\n  (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)\\<^sup>2 =\n  (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>) *\n  (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "from sum_product"], ["proof (chain)\npicking this:\n  sum ?f ?A * sum ?g ?B = (\\<Sum>i\\<in>?A. \\<Sum>j\\<in>?B. ?f i * ?g j)", "have\n          \"\\<dots> = (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. (x\\<^bsub>k\\<^esub>*y\\<^bsub>k\\<^esub>)*(x\\<^bsub>j\\<^esub>*y\\<^bsub>j\\<^esub>)))\""], ["proof (prove)\nusing this:\n  sum ?f ?A * sum ?g ?B = (\\<Sum>i\\<in>?A. \\<Sum>j\\<in>?B. ?f i * ?g j)\n\ngoal (1 subgoal):\n 1. (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>) *\n    (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>) =\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))", "."], ["proof (state)\nthis:\n  (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>) *\n  (\\<Sum>j = 1..n. x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "finally"], ["proof (chain)\npicking this:\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))", "have\n          \"\\<bar>x\\<cdot>y\\<bar>^2 = (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. (x\\<^bsub>k\\<^esub>*y\\<^bsub>k\\<^esub>)*(x\\<^bsub>j\\<^esub>*y\\<^bsub>j\\<^esub>)))\""], ["proof (prove)\nusing this:\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 =\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))", "."], ["proof (state)\nthis:\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "}"], ["proof (state)\nthis:\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "txt \\<open>We now manipulate the double sum expressions to get the\n      required inequality.\\<close>"], ["proof (state)\nthis:\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "ultimately"], ["proof (chain)\npicking this:\n  (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))", "have\n        \"(\\<parallel>x\\<parallel>*\\<parallel>y\\<parallel>)^2 - \\<bar>x\\<cdot>y\\<bar>^2 =\n         (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. (x\\<^bsub>k\\<^esub>^2)*(y\\<^bsub>j\\<^esub>^2))) -\n         (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. (x\\<^bsub>k\\<^esub>*y\\<^bsub>k\\<^esub>)*(x\\<^bsub>j\\<^esub>*y\\<^bsub>j\\<^esub>)))\""], ["proof (prove)\nusing this:\n  (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2)\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n    \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 =\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2) -\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))", "by simp"], ["proof (state)\nthis:\n  (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2) -\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2 =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2) -\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "have\n        \"\\<dots> =\n         (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. ((x\\<^bsub>k\\<^esub>^2*y\\<^bsub>j\\<^esub>^2) + (x\\<^bsub>j\\<^esub>^2*y\\<^bsub>k\\<^esub>^2))/2)) -\n         (\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. (x\\<^bsub>k\\<^esub>*y\\<^bsub>k\\<^esub>)*(x\\<^bsub>j\\<^esub>*y\\<^bsub>j\\<^esub>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2) -\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)) =\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n            (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) /\n           2) -\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))", "by (simp only: double_sum_aux)"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2) -\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n          (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) /\n         2) -\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2) -\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n          (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) /\n         2) -\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "have\n        \"\\<dots> =\n         (\\<Sum>k\\<in>{1..n}.  (\\<Sum>j\\<in>{1..n}. ((x\\<^bsub>k\\<^esub>^2*y\\<^bsub>j\\<^esub>^2) + (x\\<^bsub>j\\<^esub>^2*y\\<^bsub>k\\<^esub>^2))/2 - (x\\<^bsub>k\\<^esub>*y\\<^bsub>k\\<^esub>)*(x\\<^bsub>j\\<^esub>*y\\<^bsub>j\\<^esub>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n            (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) /\n           2) -\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)) =\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n            (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) /\n           2 -\n           x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))", "by (auto simp add: sum_subtractf)"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n          (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) /\n         2) -\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n          (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) /\n         2 -\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n          (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) /\n         2) -\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n          (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) /\n         2 -\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "have\n        \"\\<dots> =\n         (\\<Sum>k\\<in>{1..n}.  (\\<Sum>j\\<in>{1..n}. (inverse 2)*2*\n         (((x\\<^bsub>k\\<^esub>^2*y\\<^bsub>j\\<^esub>^2) + (x\\<^bsub>j\\<^esub>^2*y\\<^bsub>k\\<^esub>^2))*(1/2) - (x\\<^bsub>k\\<^esub>*y\\<^bsub>k\\<^esub>)*(x\\<^bsub>j\\<^esub>*y\\<^bsub>j\\<^esub>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n            (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) /\n           2 -\n           x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)) =\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           inverse 2 * 2 *\n           (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n             (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n            (1 / 2) -\n            x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n            (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)))", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n          (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) /\n         2 -\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 * 2 *\n         (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n           (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n          (1 / 2) -\n          x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n          (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n          (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) /\n         2 -\n         x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 * 2 *\n         (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n           (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n          (1 / 2) -\n          x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n          (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "have\n        \"\\<dots> =\n         (\\<Sum>k\\<in>{1..n}.  (\\<Sum>j\\<in>{1..n}. (inverse 2)*(2*\n        (((x\\<^bsub>k\\<^esub>^2*y\\<^bsub>j\\<^esub>^2) + (x\\<^bsub>j\\<^esub>^2*y\\<^bsub>k\\<^esub>^2))*(1/2) - (x\\<^bsub>k\\<^esub>*y\\<^bsub>k\\<^esub>)*(x\\<^bsub>j\\<^esub>*y\\<^bsub>j\\<^esub>)))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           inverse 2 * 2 *\n           (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n             (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n            (1 / 2) -\n            x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n            (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))) =\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           inverse 2 *\n           (2 *\n            (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n              (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n             (1 / 2) -\n             x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n             (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))))", "by (simp only: mult.assoc)"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 * 2 *\n         (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n           (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n          (1 / 2) -\n          x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n          (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 *\n         (2 *\n          (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n            (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n           (1 / 2) -\n           x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 * 2 *\n         (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n           (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n          (1 / 2) -\n          x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n          (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 *\n         (2 *\n          (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n            (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n           (1 / 2) -\n           x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "have\n        \"\\<dots> =\n         (\\<Sum>k\\<in>{1..n}.  (\\<Sum>j\\<in>{1..n}. (inverse 2)*\n        ((((x\\<^bsub>k\\<^esub>^2*y\\<^bsub>j\\<^esub>^2) + (x\\<^bsub>j\\<^esub>^2*y\\<^bsub>k\\<^esub>^2))*2*(inverse 2) - 2*(x\\<^bsub>k\\<^esub>*y\\<^bsub>k\\<^esub>)*(x\\<^bsub>j\\<^esub>*y\\<^bsub>j\\<^esub>)))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           inverse 2 *\n           (2 *\n            (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n              (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n             (1 / 2) -\n             x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n             (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)))) =\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           inverse 2 *\n           (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n             (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n            2 *\n            inverse 2 -\n            2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n            (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)))", "by (auto simp add: distrib_right mult.assoc ac_simps)"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 *\n         (2 *\n          (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n            (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n           (1 / 2) -\n           x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)))) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 *\n         (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n           (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n          2 *\n          inverse 2 -\n          2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n          (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 *\n         (2 *\n          (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n            (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n           (1 / 2) -\n           x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub> *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)))) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 *\n         (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n           (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n          2 *\n          inverse 2 -\n          2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n          (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "have\n        \"\\<dots> =\n        (\\<Sum>k\\<in>{1..n}.  (\\<Sum>j\\<in>{1..n}. (inverse 2)*\n        ((((x\\<^bsub>k\\<^esub>^2*y\\<^bsub>j\\<^esub>^2) + (x\\<^bsub>j\\<^esub>^2*y\\<^bsub>k\\<^esub>^2)) - 2*(x\\<^bsub>k\\<^esub>*y\\<^bsub>k\\<^esub>)*(x\\<^bsub>j\\<^esub>*y\\<^bsub>j\\<^esub>)))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           inverse 2 *\n           (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n             (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n            2 *\n            inverse 2 -\n            2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n            (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))) =\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           inverse 2 *\n           ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n            (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2 -\n            2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n            (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)))", "by (simp only: mult.assoc, simp)"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 *\n         (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n           (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n          2 *\n          inverse 2 -\n          2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n          (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 *\n         ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n          (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2 -\n          2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n          (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 *\n         (((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n           (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2) *\n          2 *\n          inverse 2 -\n          2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n          (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))) =\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 *\n         ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n          (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2 -\n          2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n          (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "have\n        \"\\<dots> =\n         (inverse 2)*(\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}.\n         (((x\\<^bsub>k\\<^esub>^2*y\\<^bsub>j\\<^esub>^2) + (x\\<^bsub>j\\<^esub>^2*y\\<^bsub>k\\<^esub>^2)) - 2*(x\\<^bsub>k\\<^esub>*y\\<^bsub>k\\<^esub>)*(x\\<^bsub>j\\<^esub>*y\\<^bsub>j\\<^esub>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           inverse 2 *\n           ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n            (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2 -\n            2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n            (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))) =\n    inverse 2 *\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n           (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2 -\n           2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))", "by (simp only: sum_distrib_left)"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 *\n         ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n          (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2 -\n          2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n          (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))) =\n  inverse 2 *\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n         (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2 -\n         2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         inverse 2 *\n         ((x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n          (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2 -\n          2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n          (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))) =\n  inverse 2 *\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n         (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2 -\n         2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>))\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "have\n        \"\\<dots> =\n         (inverse 2)*(\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. (x\\<^bsub>k\\<^esub>*y\\<^bsub>j\\<^esub> - x\\<^bsub>j\\<^esub>*y\\<^bsub>k\\<^esub>)^2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse 2 *\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n           (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2 -\n           2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n           (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)) =\n    inverse 2 *\n    (\\<Sum>k = 1..n.\n        \\<Sum>j = 1..n.\n           (x\\<^bsub>k\\<^esub> * y\\<^bsub>j\\<^esub> -\n            x\\<^bsub>j\\<^esub> * y\\<^bsub>k\\<^esub>)\\<^sup>2)", "by (simp only: power2_diff real_sq_exp, auto simp add: ac_simps)"], ["proof (state)\nthis:\n  inverse 2 *\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n         (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2 -\n         2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)) =\n  inverse 2 *\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub> * y\\<^bsub>j\\<^esub> -\n          x\\<^bsub>j\\<^esub> * y\\<^bsub>k\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "also"], ["proof (state)\nthis:\n  inverse 2 *\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub>)\\<^sup>2 * (y\\<^bsub>j\\<^esub>)\\<^sup>2 +\n         (x\\<^bsub>j\\<^esub>)\\<^sup>2 * (y\\<^bsub>k\\<^esub>)\\<^sup>2 -\n         2 * (x\\<^bsub>k\\<^esub> * y\\<^bsub>k\\<^esub>) *\n         (x\\<^bsub>j\\<^esub> * y\\<^bsub>j\\<^esub>)) =\n  inverse 2 *\n  (\\<Sum>k = 1..n.\n      \\<Sum>j = 1..n.\n         (x\\<^bsub>k\\<^esub> * y\\<^bsub>j\\<^esub> -\n          x\\<^bsub>j\\<^esub> * y\\<^bsub>k\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "have \"\\<dots> \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> inverse 2 *\n            (\\<Sum>k = 1..n.\n                \\<Sum>j = 1..n.\n                   (x\\<^bsub>k\\<^esub> * y\\<^bsub>j\\<^esub> -\n                    x\\<^bsub>j\\<^esub> * y\\<^bsub>k\\<^esub>)\\<^sup>2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 \\<le> inverse 2 *\n            (\\<Sum>k = 1..n.\n                \\<Sum>j = 1..n.\n                   (x\\<^bsub>k\\<^esub> * y\\<^bsub>j\\<^esub> -\n                    x\\<^bsub>j\\<^esub> * y\\<^bsub>k\\<^esub>)\\<^sup>2)", "have \"(\\<Sum>k\\<in>{1..n}. (\\<Sum>j\\<in>{1..n}. (x\\<^bsub>k\\<^esub>*y\\<^bsub>j\\<^esub> - x\\<^bsub>j\\<^esub>*y\\<^bsub>k\\<^esub>)^2)) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>k = 1..n.\n                \\<Sum>j = 1..n.\n                   (x\\<^bsub>k\\<^esub> * y\\<^bsub>j\\<^esub> -\n                    x\\<^bsub>j\\<^esub> * y\\<^bsub>k\\<^esub>)\\<^sup>2)", "by (simp add: sum_nonneg)"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>k = 1..n.\n              \\<Sum>j = 1..n.\n                 (x\\<^bsub>k\\<^esub> * y\\<^bsub>j\\<^esub> -\n                  x\\<^bsub>j\\<^esub> * y\\<^bsub>k\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> inverse 2 *\n            (\\<Sum>k = 1..n.\n                \\<Sum>j = 1..n.\n                   (x\\<^bsub>k\\<^esub> * y\\<^bsub>j\\<^esub> -\n                    x\\<^bsub>j\\<^esub> * y\\<^bsub>k\\<^esub>)\\<^sup>2)", "thus ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> (\\<Sum>k = 1..n.\n              \\<Sum>j = 1..n.\n                 (x\\<^bsub>k\\<^esub> * y\\<^bsub>j\\<^esub> -\n                  x\\<^bsub>j\\<^esub> * y\\<^bsub>k\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> inverse 2 *\n            (\\<Sum>k = 1..n.\n                \\<Sum>j = 1..n.\n                   (x\\<^bsub>k\\<^esub> * y\\<^bsub>j\\<^esub> -\n                    x\\<^bsub>j\\<^esub> * y\\<^bsub>k\\<^esub>)\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  0 \\<le> inverse 2 *\n          (\\<Sum>k = 1..n.\n              \\<Sum>j = 1..n.\n                 (x\\<^bsub>k\\<^esub> * y\\<^bsub>j\\<^esub> -\n                  x\\<^bsub>j\\<^esub> * y\\<^bsub>k\\<^esub>)\\<^sup>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 \\<le> inverse 2 *\n          (\\<Sum>k = 1..n.\n              \\<Sum>j = 1..n.\n                 (x\\<^bsub>k\\<^esub> * y\\<^bsub>j\\<^esub> -\n                  x\\<^bsub>j\\<^esub> * y\\<^bsub>k\\<^esub>)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "finally"], ["proof (chain)\npicking this:\n  0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n          \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "show \"(\\<parallel>x\\<parallel>*\\<parallel>y\\<parallel>)^2 - \\<bar>x\\<cdot>y\\<bar>^2 \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n          \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n            \\<bar>x \\<cdot> y\\<bar>\\<^sup>2", "."], ["proof (state)\nthis:\n  0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n          \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n          \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n    \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2", "thus ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2 -\n          \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n    \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n  \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n  \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<bar>x \\<cdot> y\\<bar>\n    \\<le> \\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>", "moreover"], ["proof (state)\nthis:\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n  \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<bar>x \\<cdot> y\\<bar>\n    \\<le> \\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>", "have \"0 \\<le> \\<parallel>x\\<parallel>*\\<parallel>y\\<parallel>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> \\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>", "by (auto simp add: norm_pos)"], ["proof (state)\nthis:\n  0 \\<le> \\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<bar>x \\<cdot> y\\<bar>\n    \\<le> \\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>", "ultimately"], ["proof (chain)\npicking this:\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n  \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2\n  0 \\<le> \\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>x \\<cdot> y\\<bar>\\<^sup>2\n  \\<le> (\\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>)\\<^sup>2\n  0 \\<le> \\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<bar>x \\<cdot> y\\<bar>\n    \\<le> \\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>", "by (rule power2_le_imp_le)"], ["proof (state)\nthis:\n  \\<bar>x \\<cdot> y\\<bar>\n  \\<le> \\<parallel>x\\<parallel> * \\<parallel>y\\<parallel>\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}