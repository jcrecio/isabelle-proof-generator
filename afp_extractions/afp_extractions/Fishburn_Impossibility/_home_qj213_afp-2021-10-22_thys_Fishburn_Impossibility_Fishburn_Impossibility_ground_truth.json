{"file_name": "/home/qj213/afp-2021-10-22/thys/Fishburn_Impossibility/Fishburn_Impossibility.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Fishburn_Impossibility", "problem_names": ["lemma agents_neq [simp]: \"A1 \\<noteq> A2\" \"A2 \\<noteq> A1\" \"A1 \\<noteq> A3\" \"A3 \\<noteq> A1\" \"A2 \\<noteq> A3\" \"A3 \\<noteq> A2\"", "lemma alts_neq [simp]: \"a \\<noteq> b\" \"a \\<noteq> c\" \"b \\<noteq> c\" \"b \\<noteq> a\" \"c \\<noteq> a\" \"c \\<noteq> b\"", "lemma agent_in_agents [simp]: \"A1 \\<in> agents\" \"A2 \\<in> agents\" \"A3 \\<in> agents\"", "lemma alt_in_alts [simp]: \"a \\<in> alts\" \"b \\<in> alts\" \"c \\<in> alts\"", "lemma Bex_alts: \"(\\<exists>x\\<in>alts. P x) \\<longleftrightarrow> P a \\<or> P b \\<or> P c\"", "lemma eval_pareto_loser_aux: \n  assumes \"is_pref_profile R\"\n  shows   \"x \\<in> pareto_losers R \\<longleftrightarrow> (\\<exists>y\\<in>{a,b,c}. x \\<prec>[Pareto(R)] y)\"", "lemma eval_Pareto:\n  assumes \"is_pref_profile R\"\n  shows   \"x \\<prec>[Pareto(R)] y \\<longleftrightarrow> (\\<forall>i\\<in>{A1,A2,A3}. x \\<preceq>[R i] y) \\<and> (\\<exists>i\\<in>{A1,A2,A3}. \\<not>x \\<succeq>[R i] y)\"", "lemmas eval_pareto = eval_pareto_loser_aux eval_Pareto", "lemma pareto_efficiency: \"is_pref_profile R \\<Longrightarrow> x \\<in> pareto_losers R \\<Longrightarrow> x \\<notin> scf R\"", "lemma Ball_scf:\n  assumes \"is_pref_profile R\"\n  shows   \"(\\<forall>x\\<in>scf R. P x) \\<longleftrightarrow> (a \\<notin> scf R \\<or> P a) \\<and> (b \\<notin> scf R \\<or> P b) \\<and> (c \\<notin> scf R \\<or> P c)\"", "lemma Ball_scf_diff: \n  assumes \"is_pref_profile R1\" \"is_pref_profile R2\"\n  shows   \"(\\<forall>x\\<in>scf R1 - scf R2. P x) \\<longleftrightarrow> \n             (a \\<in> scf R2 \\<or> a \\<notin> scf R1 \\<or> P a) \\<and> (b \\<in> scf R2 \\<or> b \\<notin> scf R1 \\<or> P b) \\<and> \n             (c \\<in> scf R2 \\<or> c \\<notin> scf R1 \\<or> P c)\"", "lemma scf_nonempty':\n  assumes \"is_pref_profile R\"\n  shows   \"\\<exists>x\\<in>alts. x \\<in> scf R\"", "lemmas R_wfs = \n  R1.wf R2.wf R3.wf R4.wf R5.wf R6.wf R7.wf R8.wf R9.wf R10.wf R11.wf R12.wf R13.wf R14.wf R15.wf \n  R16.wf R17.wf R18.wf R19.wf R20.wf R21.wf", "lemmas R_evals =\n  R1.eval R2.eval R3.eval R4.eval R5.eval R6.eval R7.eval R8.eval R9.eval R10.eval R11.eval R12.eval  R13.eval \n  R14.eval R15.eval R16.eval R17.eval R18.eval R19.eval R20.eval R21.eval", "lemmas nonemptiness = R_wfs [THEN scf_nonempty', unfolded Bex_alts]", "lemma [simp]: \"a \\<notin> scf R1\"", "lemma [simp]: \"a \\<notin> scf R2\"", "lemma [simp]: \"a \\<notin> scf R3\"", "lemma [simp]: \"a \\<notin> scf R6\"", "lemma [simp]: \"a \\<notin> scf R7\"", "lemma [simp]: \"b \\<notin> scf R8\"", "lemma [simp]: \"c \\<notin> scf R9\"", "lemma [simp]: \"a \\<notin> scf R12\"", "lemma [simp]: \"b \\<notin> scf R14\"", "lemma [simp]: \"c \\<notin> scf R15\"", "lemma [simp]: \"b \\<notin> scf R16\"", "lemma [simp]: \"c \\<notin> scf R17\"", "lemma [simp]: \"c \\<notin> scf R18\"", "lemma [simp]: \"b \\<notin> scf R19\"", "lemma [simp]: \"c \\<notin> scf R20\"", "lemma [simp]: \"c \\<notin> scf R21\"", "lemma s41: \"\\<not> scf R4 \\<succ>[Fishb(R1 A2)] scf R1\"", "lemma s32: \"\\<not> scf R3 \\<succ>[Fishb(R2 A1)] scf R2\"", "lemma s122: \"\\<not> scf R12 \\<succ>[Fishb(R2 A2)] scf R2\"", "lemma s133: \"\\<not> scf R13 \\<succ>[Fishb(R3 A2)] scf R3\"", "lemma s102: \"\\<not> scf R10 \\<succ>[Fishb(R2 A2)] scf R2\"", "lemma s13: \"\\<not> scf R1 \\<succ>[Fishb(R3 A3)] scf R3\"", "lemma s54: \"\\<not> scf R5 \\<succ>[Fishb(R4 A1)] scf R4\"", "lemma s174: \"\\<not> scf R17 \\<succ>[Fishb(R4 A1)] scf R4\"", "lemma s74: \"\\<not> scf R7 \\<succ>[Fishb(R4 A2)] scf R4\"", "lemma s114: \"\\<not> scf R11 \\<succ>[Fishb(R4 A3)] scf R4\"", "lemma s45: \"\\<not> scf R4 \\<succ>[Fishb(R5 A1)] scf R5\"", "lemma s65: \"\\<not> scf R6 \\<succ>[Fishb(R5 A2)] scf R5\"", "lemma s105: \"\\<not> scf R10 \\<succ>[Fishb(R5 A3)] scf R5\"", "lemma s67: \"\\<not> scf R6 \\<succ>[Fishb(R7 A1)] scf R7\"", "lemma s187: \"\\<not> scf R18 \\<succ>[Fishb(R7 A3)] scf R7\"", "lemma s219: \"\\<not> scf R21 \\<succ>[Fishb(R9 A2)] scf R9\"", "lemma s1011: \"\\<not> scf R10 \\<succ>[Fishb(R11 A1)] scf R11\"", "lemma s1012: \"\\<not> scf R10 \\<succ>[Fishb(R12 A2)] scf R12\"", "lemma s1213: \"\\<not> scf R12 \\<succ>[Fishb(R13 A1)] scf R13\"", "lemma s1113: \"\\<not> scf R11 \\<succ>[Fishb(R13 A2)] scf R13\"", "lemma s1813: \"\\<not> scf R18 \\<succ>[Fishb(R13 A3)] scf R13\"", "lemma s814: \"\\<not> scf R8 \\<succ>[Fishb(R14 A2)] scf R14\"", "lemma s1914: \"\\<not> scf R19 \\<succ>[Fishb(R14 A3)] scf R14\"", "lemma s1715: \"\\<not> scf R17 \\<succ>[Fishb(R15 A1)] scf R15\"", "lemma s815: \"\\<not> scf R8 \\<succ>[Fishb(R15 A3)] scf R15\"", "lemma s516: \"\\<not> scf R5 \\<succ>[Fishb(R16 A1)] scf R16\"", "lemma s517: \"\\<not> scf R5 \\<succ>[Fishb(R17 A1)] scf R17\"", "lemma s1619: \"\\<not> scf R16 \\<succ>[Fishb(R19 A1)] scf R19\"", "lemma s1820: \"\\<not> scf R18 \\<succ>[Fishb(R20 A2)] scf R20\"", "lemma s920: \"\\<not> scf R9 \\<succ>[Fishb(R20 A3)] scf R20\"", "lemma s521: \"\\<not> scf R5 \\<succ>[Fishb(R21 A1)] scf R21\"", "lemma s421: \"\\<not> scf R4 \\<succ>[Fishb(R21 A1)] scf R21\"", "lemmas sp = s41 s32 s122 s102 s133 s13 s54 s174 s54 s74 s114 s45 s65 s105 s67\n            s187 s219 s1011 s1012 s1213 s1113 s1813 s814 s1914 s1715 s815 s516\n            s517 s1619 s1820 s920 s521 s421", "theorem absurd: False", "lemma finite_list':\n  assumes \"finite A\"\n  obtains xs where \"A = set xs\" \"distinct xs\" \"length xs = card A\"", "lemma finite_list_subset:\n  assumes \"finite A\" \"card A \\<ge> n\"\n  obtains xs where \"set xs \\<subseteq> A\" \"distinct xs\" \"length xs = n\"", "lemma card_ge_3E:\n  assumes \"finite A\" \"card A \\<ge> 3\"\n  obtains a b c where \"distinct [a,b,c]\" \"{a,b,c} \\<subseteq> A\"", "theorem absurd: False"], "translations": [["", "lemma agents_neq [simp]: \"A1 \\<noteq> A2\" \"A2 \\<noteq> A1\" \"A1 \\<noteq> A3\" \"A3 \\<noteq> A1\" \"A2 \\<noteq> A3\" \"A3 \\<noteq> A2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A1 \\<noteq> A2 &&& A2 \\<noteq> A1 &&& A1 \\<noteq> A3) &&&\n    A3 \\<noteq> A1 &&& A2 \\<noteq> A3 &&& A3 \\<noteq> A2", "using distinct_agents"], ["proof (prove)\nusing this:\n  distinct [A1, A2, A3]\n\ngoal (1 subgoal):\n 1. (A1 \\<noteq> A2 &&& A2 \\<noteq> A1 &&& A1 \\<noteq> A3) &&&\n    A3 \\<noteq> A1 &&& A2 \\<noteq> A3 &&& A3 \\<noteq> A2", "by auto"], ["", "lemma alts_neq [simp]: \"a \\<noteq> b\" \"a \\<noteq> c\" \"b \\<noteq> c\" \"b \\<noteq> a\" \"c \\<noteq> a\" \"c \\<noteq> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a \\<noteq> b &&& a \\<noteq> c &&& b \\<noteq> c) &&&\n    b \\<noteq> a &&& c \\<noteq> a &&& c \\<noteq> b", "using distinct_alts"], ["proof (prove)\nusing this:\n  distinct [a, b, c]\n\ngoal (1 subgoal):\n 1. (a \\<noteq> b &&& a \\<noteq> c &&& b \\<noteq> c) &&&\n    b \\<noteq> a &&& c \\<noteq> a &&& c \\<noteq> b", "by auto"], ["", "lemma agent_in_agents [simp]: \"A1 \\<in> agents\" \"A2 \\<in> agents\" \"A3 \\<in> agents\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A1 \\<in> agents &&& A2 \\<in> agents &&& A3 \\<in> agents", "by (simp_all add: agents_eq)"], ["", "lemma alt_in_alts [simp]: \"a \\<in> alts\" \"b \\<in> alts\" \"c \\<in> alts\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> alts &&& b \\<in> alts &&& c \\<in> alts", "by (simp_all add: alts_eq)"], ["", "lemma Bex_alts: \"(\\<exists>x\\<in>alts. P x) \\<longleftrightarrow> P a \\<or> P b \\<or> P c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x\\<in>alts. P x) = (P a \\<or> P b \\<or> P c)", "by (simp add: alts_eq)"], ["", "lemma eval_pareto_loser_aux: \n  assumes \"is_pref_profile R\"\n  shows   \"x \\<in> pareto_losers R \\<longleftrightarrow> (\\<exists>y\\<in>{a,b,c}. x \\<prec>[Pareto(R)] y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> pareto_losers R) =\n    (\\<exists>y\\<in>{a, b, c}. x \\<prec>[Pareto R] y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (x \\<in> pareto_losers R) =\n    (\\<exists>y\\<in>{a, b, c}. x \\<prec>[Pareto R] y)", "interpret pref_profile_wf agents alts R"], ["proof (prove)\ngoal (1 subgoal):\n 1. is_pref_profile R", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. (x \\<in> pareto_losers R) =\n    (\\<exists>y\\<in>{a, b, c}. x \\<prec>[Pareto R] y)", "have *: \"y \\<in> {a,b,c}\" if \"x \\<prec>[Pareto(R)] y\" for y"], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> {a, b, c}", "using Pareto.strict_not_outside[of x y] that"], ["proof (prove)\nusing this:\n  x \\<prec>[Pareto R] y \\<Longrightarrow> x \\<in> alts\n  x \\<prec>[Pareto R] y \\<Longrightarrow> y \\<in> alts\n  x \\<prec>[Pareto R] y\n\ngoal (1 subgoal):\n 1. y \\<in> {a, b, c}", "by (simp add: alts_eq)"], ["proof (state)\nthis:\n  x \\<prec>[Pareto R] ?y \\<Longrightarrow> ?y \\<in> {a, b, c}\n\ngoal (1 subgoal):\n 1. (x \\<in> pareto_losers R) =\n    (\\<exists>y\\<in>{a, b, c}. x \\<prec>[Pareto R] y)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> pareto_losers R) =\n    (\\<exists>y\\<in>{a, b, c}. x \\<prec>[Pareto R] y)", "by (auto simp: pareto_losers_def dest: *)"], ["proof (state)\nthis:\n  (x \\<in> pareto_losers R) =\n  (\\<exists>y\\<in>{a, b, c}. x \\<prec>[Pareto R] y)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eval_Pareto:\n  assumes \"is_pref_profile R\"\n  shows   \"x \\<prec>[Pareto(R)] y \\<longleftrightarrow> (\\<forall>i\\<in>{A1,A2,A3}. x \\<preceq>[R i] y) \\<and> (\\<exists>i\\<in>{A1,A2,A3}. \\<not>x \\<succeq>[R i] y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<prec>[Pareto R] y =\n    ((\\<forall>i\\<in>{A1, A2, A3}. R i x y) \\<and>\n     (\\<exists>i\\<in>{A1, A2, A3}. \\<not> R i y x))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<prec>[Pareto R] y =\n    ((\\<forall>i\\<in>{A1, A2, A3}. R i x y) \\<and>\n     (\\<exists>i\\<in>{A1, A2, A3}. \\<not> R i y x))", "interpret R: pref_profile_wf agents alts"], ["proof (prove)\ngoal (1 subgoal):\n 1. is_pref_profile R", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<prec>[Pareto R] y =\n    ((\\<forall>i\\<in>{A1, A2, A3}. R i x y) \\<and>\n     (\\<exists>i\\<in>{A1, A2, A3}. \\<not> R i y x))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<prec>[Pareto R] y =\n    ((\\<forall>i\\<in>{A1, A2, A3}. R i x y) \\<and>\n     (\\<exists>i\\<in>{A1, A2, A3}. \\<not> R i y x))", "unfolding R.Pareto_strict_iff"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>i\\<in>agents. R i x y) \\<and>\n     (\\<exists>i\\<in>agents. x \\<prec>[R i] y)) =\n    ((\\<forall>i\\<in>{A1, A2, A3}. R i x y) \\<and>\n     (\\<exists>i\\<in>{A1, A2, A3}. \\<not> R i y x))", "by (auto simp: strongly_preferred_def agents_eq)"], ["proof (state)\nthis:\n  x \\<prec>[Pareto R] y =\n  ((\\<forall>i\\<in>{A1, A2, A3}. R i x y) \\<and>\n   (\\<exists>i\\<in>{A1, A2, A3}. \\<not> R i y x))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemmas eval_pareto = eval_pareto_loser_aux eval_Pareto"], ["", "lemma pareto_efficiency: \"is_pref_profile R \\<Longrightarrow> x \\<in> pareto_losers R \\<Longrightarrow> x \\<notin> scf R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>is_pref_profile R; x \\<in> pareto_losers R\\<rbrakk>\n    \\<Longrightarrow> x \\<notin> scf R", "using pareto_efficient[of R]"], ["proof (prove)\nusing this:\n  is_pref_profile R \\<Longrightarrow> scf R \\<inter> pareto_losers R = {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>is_pref_profile R; x \\<in> pareto_losers R\\<rbrakk>\n    \\<Longrightarrow> x \\<notin> scf R", "by blast"], ["", "lemma Ball_scf:\n  assumes \"is_pref_profile R\"\n  shows   \"(\\<forall>x\\<in>scf R. P x) \\<longleftrightarrow> (a \\<notin> scf R \\<or> P a) \\<and> (b \\<notin> scf R \\<or> P b) \\<and> (c \\<notin> scf R \\<or> P c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>scf R. P x) =\n    ((a \\<notin> scf R \\<or> P a) \\<and>\n     (b \\<notin> scf R \\<or> P b) \\<and> (c \\<notin> scf R \\<or> P c))", "using scf_alts[OF assms]"], ["proof (prove)\nusing this:\n  scf R \\<subseteq> alts\n\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>scf R. P x) =\n    ((a \\<notin> scf R \\<or> P a) \\<and>\n     (b \\<notin> scf R \\<or> P b) \\<and> (c \\<notin> scf R \\<or> P c))", "unfolding alts_eq"], ["proof (prove)\nusing this:\n  scf R \\<subseteq> {a, b, c}\n\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>scf R. P x) =\n    ((a \\<notin> scf R \\<or> P a) \\<and>\n     (b \\<notin> scf R \\<or> P b) \\<and> (c \\<notin> scf R \\<or> P c))", "by blast"], ["", "lemma Ball_scf_diff: \n  assumes \"is_pref_profile R1\" \"is_pref_profile R2\"\n  shows   \"(\\<forall>x\\<in>scf R1 - scf R2. P x) \\<longleftrightarrow> \n             (a \\<in> scf R2 \\<or> a \\<notin> scf R1 \\<or> P a) \\<and> (b \\<in> scf R2 \\<or> b \\<notin> scf R1 \\<or> P b) \\<and> \n             (c \\<in> scf R2 \\<or> c \\<notin> scf R1 \\<or> P c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>scf R1 - scf R2. P x) =\n    ((a \\<in> scf R2 \\<or> a \\<notin> scf R1 \\<or> P a) \\<and>\n     (b \\<in> scf R2 \\<or> b \\<notin> scf R1 \\<or> P b) \\<and>\n     (c \\<in> scf R2 \\<or> c \\<notin> scf R1 \\<or> P c))", "using assms[THEN scf_alts]"], ["proof (prove)\nusing this:\n  scf R1 \\<subseteq> alts\n  scf R2 \\<subseteq> alts\n\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>scf R1 - scf R2. P x) =\n    ((a \\<in> scf R2 \\<or> a \\<notin> scf R1 \\<or> P a) \\<and>\n     (b \\<in> scf R2 \\<or> b \\<notin> scf R1 \\<or> P b) \\<and>\n     (c \\<in> scf R2 \\<or> c \\<notin> scf R1 \\<or> P c))", "unfolding alts_eq"], ["proof (prove)\nusing this:\n  scf R1 \\<subseteq> {a, b, c}\n  scf R2 \\<subseteq> {a, b, c}\n\ngoal (1 subgoal):\n 1. (\\<forall>x\\<in>scf R1 - scf R2. P x) =\n    ((a \\<in> scf R2 \\<or> a \\<notin> scf R1 \\<or> P a) \\<and>\n     (b \\<in> scf R2 \\<or> b \\<notin> scf R1 \\<or> P b) \\<and>\n     (c \\<in> scf R2 \\<or> c \\<notin> scf R1 \\<or> P c))", "by blast"], ["", "lemma scf_nonempty':\n  assumes \"is_pref_profile R\"\n  shows   \"\\<exists>x\\<in>alts. x \\<in> scf R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>alts. x \\<in> scf R", "using scf_nonempty[OF assms] scf_alts[OF assms]"], ["proof (prove)\nusing this:\n  scf R \\<noteq> {}\n  scf R \\<subseteq> alts\n\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>alts. x \\<in> scf R", "by blast"], ["", "subsection \\<open>Definition of Preference Profiles and Fact Gathering\\<close>"], ["", "text \\<open>\n  We now define the 21 preference profile that will lead to the impossibility result.\n\\<close>"], ["", "preference_profile \n  agents: agents\n  alts:   alts\nwhere R1   = A1: [a, c], b    A2: [a, c], b     A3: b, c, a  \n  and R2   = A1: c, [a, b]    A2: b, c, a       A3: c, b, a \n  and R3   = A1: [a, c], b    A2: b, c, a       A3: c, b, a   \n  and R4   = A1: [a, c], b    A2:  a, b, c      A3: b, c, a\n  and R5   = A1: c, [a, b]    A2:  a, b, c      A3: b, c, a\n  and R6   = A1: b, [a, c]    A2: c, [a, b]     A3:  b, c, a\n  and R7   = A1: [a, c], b    A2: b, [a, c]     A3: b, c, a \n  and R8   = A1: [b, c], a    A2: a, [b, c]     A3: a, c, b\n  and R9   = A1: [b, c], a    A2: b, [a, c]     A3: a, b, c\n  and R10  = A1: c, [a, b]    A2: a, b, c       A3: c, b, a   \n  and R11  = A1: [a, c], b    A2: a, b, c       A3: c, b, a  \n  and R12  = A1: c, [a, b]    A2: b, a, c       A3: c, b, a   \n  and R13  = A1: [a, c], b    A2: b, a, c       A3: c, b, a  \n  and R14  = A1: a, [b, c]    A2: c, [a, b]     A3: a, c, b   \n  and R15  = A1: [b, c], a    A2: a, [b, c]     A3: a, b, c  \n  and R16  = A1: [a, b], c    A2: c, [a, b]     A3: a, b, c  \n  and R17  = A1: a, [b, c]    A2: a, b, c       A3: b, c, a\n  and R18  = A1: [a, c], b    A2: b, [a, c]     A3: b, a, c \n  and R19  = A1: a, [b, c]    A2: c, [a, b]     A3: a, b, c\n  and R20  = A1: b, [a, c]    A2: a, b, c       A3: b, a, c\n  and R21  = A1: [b, c], a    A2: a, b, c       A3: b, c, a"], ["proof (prove)\ngoal (16 subgoals):\n 1. agents \\<noteq> {}\n 2. alts \\<noteq> {}\n 3. distinct [A1, A2, A3]\n 4. {A1, A2, A3} = agents\n 5. {a, b, c} = alts\n 6. {a, c} \\<inter> {b} = {}\n 7. {c} \\<inter> {a} = {}\n 8. {b} \\<inter> {a, c} = {}\n 9. {c} \\<inter> {a, b} = {}\n 10. {b} \\<inter> {a} = {}\nA total of 16 subgoals...", "by (simp_all add: agents_eq alts_eq)"], ["", "lemmas R_wfs = \n  R1.wf R2.wf R3.wf R4.wf R5.wf R6.wf R7.wf R8.wf R9.wf R10.wf R11.wf R12.wf R13.wf R14.wf R15.wf \n  R16.wf R17.wf R18.wf R19.wf R20.wf R21.wf"], ["", "lemmas R_evals =\n  R1.eval R2.eval R3.eval R4.eval R5.eval R6.eval R7.eval R8.eval R9.eval R10.eval R11.eval R12.eval  R13.eval \n  R14.eval R15.eval R16.eval R17.eval R18.eval R19.eval R20.eval R21.eval"], ["", "lemmas nonemptiness = R_wfs [THEN scf_nonempty', unfolded Bex_alts]"], ["", "text \\<open>\n  We show the support conditions from Pareto efficiency\n\\<close>"], ["", "lemma [simp]: \"a \\<notin> scf R1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> scf R1", "by (rule pareto_efficiency) (simp_all add: eval_pareto R1.eval)"], ["", "lemma [simp]: \"a \\<notin> scf R2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> scf R2", "by (rule pareto_efficiency) (simp_all add: eval_pareto R2.eval)"], ["", "lemma [simp]: \"a \\<notin> scf R3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> scf R3", "by (rule pareto_efficiency) (simp_all add: eval_pareto R3.eval)"], ["", "lemma [simp]: \"a \\<notin> scf R6\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> scf R6", "by (rule pareto_efficiency) (simp_all add: eval_pareto R6.eval)"], ["", "lemma [simp]: \"a \\<notin> scf R7\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> scf R7", "by (rule pareto_efficiency) (simp_all add: eval_pareto R7.eval)"], ["", "lemma [simp]: \"b \\<notin> scf R8\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<notin> scf R8", "by (rule pareto_efficiency) (simp_all add: eval_pareto R8.eval)"], ["", "lemma [simp]: \"c \\<notin> scf R9\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<notin> scf R9", "by (rule pareto_efficiency) (simp_all add: eval_pareto R9.eval)"], ["", "lemma [simp]: \"a \\<notin> scf R12\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<notin> scf R12", "by (rule pareto_efficiency) (simp_all add: eval_pareto R12.eval)"], ["", "lemma [simp]: \"b \\<notin> scf R14\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<notin> scf R14", "by (rule pareto_efficiency) (simp_all add: eval_pareto R14.eval)"], ["", "lemma [simp]: \"c \\<notin> scf R15\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<notin> scf R15", "by (rule pareto_efficiency) (simp_all add: eval_pareto R15.eval)"], ["", "lemma [simp]: \"b \\<notin> scf R16\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<notin> scf R16", "by (rule pareto_efficiency) (simp_all add: eval_pareto R16.eval)"], ["", "lemma [simp]: \"c \\<notin> scf R17\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<notin> scf R17", "by (rule pareto_efficiency) (simp_all add: eval_pareto R17.eval)"], ["", "lemma [simp]: \"c \\<notin> scf R18\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<notin> scf R18", "by (rule pareto_efficiency) (simp_all add: eval_pareto R18.eval)"], ["", "lemma [simp]: \"b \\<notin> scf R19\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<notin> scf R19", "by (rule pareto_efficiency) (simp_all add: eval_pareto R19.eval)"], ["", "lemma [simp]: \"c \\<notin> scf R20\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<notin> scf R20", "by (rule pareto_efficiency) (simp_all add: eval_pareto R20.eval)"], ["", "lemma [simp]: \"c \\<notin> scf R21\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<notin> scf R21", "by (rule pareto_efficiency) (simp_all add: eval_pareto R21.eval)"], ["", "text \\<open>\n  We derive the strategyproofness conditions:\n\\<close>"], ["", "lemma s41: \"\\<not> scf R4 \\<succ>[Fishb(R1 A2)] scf R1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R1 \\<prec>[Fishb (R1 A2)] scf R4", "by (intro strategyproof'[where j = A2]) (simp_all add: R4.eval R1.eval)"], ["", "lemma s32: \"\\<not> scf R3 \\<succ>[Fishb(R2 A1)] scf R2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R2 \\<prec>[Fishb (R2 A1)] scf R3", "by (intro strategyproof'[where j = A1]) (simp_all add: R3.eval R2.eval)"], ["", "lemma s122: \"\\<not> scf R12 \\<succ>[Fishb(R2 A2)] scf R2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R2 \\<prec>[Fishb (R2 A2)] scf R12", "by (intro strategyproof'[where j = A2]) (simp_all add: R12.eval R2.eval)"], ["", "lemma s133: \"\\<not> scf R13 \\<succ>[Fishb(R3 A2)] scf R3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R3 \\<prec>[Fishb (R3 A2)] scf R13", "by (intro strategyproof'[where j = A2]) (simp_all add: R13.eval R3.eval)"], ["", "lemma s102: \"\\<not> scf R10 \\<succ>[Fishb(R2 A2)] scf R2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R2 \\<prec>[Fishb (R2 A2)] scf R10", "by (intro strategyproof'[where j = A2]) (simp_all add: R10.eval R2.eval)"], ["", "lemma s13: \"\\<not> scf R1 \\<succ>[Fishb(R3 A3)] scf R3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R3 \\<prec>[Fishb (R3 A3)] scf R1", "by (intro strategyproof'[where j = A2]) (simp_all add: R1.eval R3.eval)"], ["", "lemma s54: \"\\<not> scf R5 \\<succ>[Fishb(R4 A1)] scf R4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R4 \\<prec>[Fishb (R4 A1)] scf R5", "by (intro strategyproof'[where j = A1]) (simp_all add: R5.eval R4.eval)"], ["", "lemma s174: \"\\<not> scf R17 \\<succ>[Fishb(R4 A1)] scf R4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R4 \\<prec>[Fishb (R4 A1)] scf R17", "by (intro strategyproof'[where j = A1]) (simp_all add: R17.eval R4.eval)"], ["", "lemma s74: \"\\<not> scf R7 \\<succ>[Fishb(R4 A2)] scf R4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R4 \\<prec>[Fishb (R4 A2)] scf R7", "by (intro strategyproof'[where j = A2]) (simp_all add: R7.eval R4.eval)"], ["", "lemma s114: \"\\<not> scf R11 \\<succ>[Fishb(R4 A3)] scf R4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R4 \\<prec>[Fishb (R4 A3)] scf R11", "by (intro strategyproof'[where j = A3]) (simp_all add: R11.eval R4.eval)"], ["", "lemma s45: \"\\<not> scf R4 \\<succ>[Fishb(R5 A1)] scf R5\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R5 \\<prec>[Fishb (R5 A1)] scf R4", "by (intro strategyproof'[where j = A1]) (simp_all add: R4.eval R5.eval)"], ["", "lemma s65: \"\\<not> scf R6 \\<succ>[Fishb(R5 A2)] scf R5\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R5 \\<prec>[Fishb (R5 A2)] scf R6", "by (intro strategyproof'[where j = A1]) (simp_all add: insert_commute R5.eval R6.eval)"], ["", "lemma s105: \"\\<not> scf R10 \\<succ>[Fishb(R5 A3)] scf R5\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R5 \\<prec>[Fishb (R5 A3)] scf R10", "by (intro strategyproof'[where j = A3]) (simp_all add:  R10.eval R5.eval)"], ["", "lemma s67: \"\\<not> scf R6 \\<succ>[Fishb(R7 A1)] scf R7\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R7 \\<prec>[Fishb (R7 A1)] scf R6", "by (intro strategyproof'[where j = A2]) (simp_all add: insert_commute  R6.eval R7.eval)"], ["", "lemma s187: \"\\<not> scf R18 \\<succ>[Fishb(R7 A3)] scf R7\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R7 \\<prec>[Fishb (R7 A3)] scf R18", "by (intro strategyproof'[where j = A3]) (simp_all add: insert_commute R7.eval R18.eval)"], ["", "lemma s219: \"\\<not> scf R21 \\<succ>[Fishb(R9 A2)] scf R9\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R9 \\<prec>[Fishb (R9 A2)] scf R21", "by (intro strategyproof'[where j = A3]) (simp_all add: insert_commute R9.eval R21.eval)"], ["", "lemma s1011: \"\\<not> scf R10 \\<succ>[Fishb(R11 A1)] scf R11\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R11 \\<prec>[Fishb (R11 A1)] scf R10", "by (intro strategyproof'[where j = A1]) (simp_all add: insert_commute R10.eval R11.eval)"], ["", "lemma s1012: \"\\<not> scf R10 \\<succ>[Fishb(R12 A2)] scf R12\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R12 \\<prec>[Fishb (R12 A2)] scf R10", "by (intro strategyproof'[where j = A2]) (simp_all add: insert_commute R10.eval R12.eval)"], ["", "lemma s1213: \"\\<not> scf R12 \\<succ>[Fishb(R13 A1)] scf R13\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R13 \\<prec>[Fishb (R13 A1)] scf R12", "by (intro strategyproof'[where j = A1]) (simp_all add: insert_commute R12.eval R13.eval)"], ["", "lemma s1113: \"\\<not> scf R11 \\<succ>[Fishb(R13 A2)] scf R13\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R13 \\<prec>[Fishb (R13 A2)] scf R11", "by (intro strategyproof'[where j = A2]) (simp_all add: insert_commute R11.eval R13.eval)"], ["", "lemma s1813: \"\\<not> scf R18 \\<succ>[Fishb(R13 A3)] scf R13\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R13 \\<prec>[Fishb (R13 A3)] scf R18", "by (intro strategyproof'[where j = A2]) (simp_all add: insert_commute R18.eval R13.eval)"], ["", "lemma s814: \"\\<not> scf R8 \\<succ>[Fishb(R14 A2)] scf R14\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R14 \\<prec>[Fishb (R14 A2)] scf R8", "by (intro strategyproof'[where j = A1]) (simp_all add: insert_commute R8.eval R14.eval)"], ["", "lemma s1914: \"\\<not> scf R19 \\<succ>[Fishb(R14 A3)] scf R14\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R14 \\<prec>[Fishb (R14 A3)] scf R19", "by (intro strategyproof'[where j = A3]) (simp_all add: insert_commute R19.eval R14.eval)"], ["", "lemma s1715: \"\\<not> scf R17 \\<succ>[Fishb(R15 A1)] scf R15\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R15 \\<prec>[Fishb (R15 A1)] scf R17", "by (intro strategyproof'[where j = A3]) (simp_all add: insert_commute R17.eval R15.eval)"], ["", "lemma s815: \"\\<not> scf R8 \\<succ>[Fishb(R15 A3)] scf R15\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R15 \\<prec>[Fishb (R15 A3)] scf R8", "by (intro strategyproof'[where j = A3]) (simp_all add: insert_commute R8.eval R15.eval)"], ["", "lemma s516: \"\\<not> scf R5 \\<succ>[Fishb(R16 A1)] scf R16\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R16 \\<prec>[Fishb (R16 A1)] scf R5", "by (intro strategyproof'[where j = A3]) (simp_all add: insert_commute R5.eval R16.eval)"], ["", "lemma s517: \"\\<not> scf R5 \\<succ>[Fishb(R17 A1)] scf R17\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R17 \\<prec>[Fishb (R17 A1)] scf R5", "by (intro strategyproof'[where j = A1]) (simp_all add: insert_commute R5.eval R17.eval)"], ["", "lemma s1619: \"\\<not> scf R16 \\<succ>[Fishb(R19 A1)] scf R19\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R19 \\<prec>[Fishb (R19 A1)] scf R16", "by (intro strategyproof'[where j = A1]) (simp_all add: insert_commute  R16.eval R19.eval)"], ["", "lemma s1820: \"\\<not> scf R18 \\<succ>[Fishb(R20 A2)] scf R20\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R20 \\<prec>[Fishb (R20 A2)] scf R18", "by (intro strategyproof'[where j = A1]) (simp_all add: insert_commute  R18.eval R20.eval)"], ["", "lemma s920: \"\\<not> scf R9 \\<succ>[Fishb(R20 A3)] scf R20\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R20 \\<prec>[Fishb (R20 A3)] scf R9", "by (intro strategyproof'[where j = A1]) (simp_all add: insert_commute  R20.eval R9.eval)"], ["", "lemma s521: \"\\<not> scf R5 \\<succ>[Fishb(R21 A1)] scf R21\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R21 \\<prec>[Fishb (R21 A1)] scf R5", "by (intro strategyproof'[where j = A1]) (simp_all add: insert_commute  R21.eval R5.eval)"], ["", "lemma s421: \"\\<not> scf R4 \\<succ>[Fishb(R21 A1)] scf R21\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> scf R21 \\<prec>[Fishb (R21 A1)] scf R4", "by (intro strategyproof'[where j = A1]) (simp_all add: insert_commute  R21.eval R4.eval)"], ["", "lemmas sp = s41 s32 s122 s102 s133 s13 s54 s174 s54 s74 s114 s45 s65 s105 s67\n            s187 s219 s1011 s1012 s1213 s1113 s1813 s814 s1914 s1715 s815 s516\n            s517 s1619 s1820 s920 s521 s421"], ["", "text \\<open>\n  We now use the simplifier to break down the strategyproofness conditions into SAT formulae.\n  This takes a few seconds, so we use some low-level ML code to at least do the simplification\n  in parallel.\n\\<close>"], ["", "local_setup \\<open>fn lthy =>\n  let\n    val lthy' = lthy addsimps @{thms Fishb_strict_iff Ball_scf Ball_scf_diff R_evals}\n    val thms = Par_List.map (Simplifier.asm_full_simplify lthy') @{thms sp}\n  in\n    Local_Theory.notes [((@{binding sp'}, []), [(thms, [])])] lthy |> snd\n  end\n\\<close>"], ["", "text \\<open>\n  We show that the strategyproofness conditions, the non-emptiness conditions (i.\\,e.\\ every SCF\n  must return at least one winner), and the efficiency conditions are not satisfiable together,\n  which means that the SCF whose existence we assumed simply cannot exist.\n\\<close>"], ["", "theorem absurd: False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "using sp' and nonemptiness [simplified]"], ["proof (prove)\nusing this:\n  c \\<in> scf R1 \\<and> b \\<in> scf R4 \\<and> c \\<notin> scf R4 \\<or>\n  b \\<in> scf R4 \\<and> b \\<notin> scf R1 \\<and> c \\<in> scf R1 \\<or>\n  (b \\<in> scf R1 \\<longrightarrow>\n   a \\<notin> scf R4 \\<and>\n   (c \\<in> scf R4 \\<longrightarrow> c \\<in> scf R1)) \\<and>\n  (b \\<in> scf R1 \\<longrightarrow>\n   b \\<in> scf R4 \\<or> a \\<notin> scf R4 \\<and> c \\<notin> scf R4)\n  c \\<in> scf R2 \\<and> b \\<in> scf R3 \\<and> c \\<notin> scf R3 \\<or>\n  b \\<in> scf R3 \\<and> b \\<notin> scf R2 \\<and> c \\<in> scf R2 \\<or>\n  (b \\<in> scf R2 \\<longrightarrow>\n   c \\<in> scf R3 \\<longrightarrow> c \\<in> scf R2) \\<and>\n  (b \\<in> scf R2 \\<longrightarrow> b \\<in> scf R3 \\<or> c \\<notin> scf R3)\n  b \\<in> scf R2 \\<and> c \\<in> scf R12 \\<and> b \\<notin> scf R12 \\<or>\n  c \\<in> scf R12 \\<and> c \\<notin> scf R2 \\<and> b \\<in> scf R2 \\<or>\n  (c \\<in> scf R2 \\<longrightarrow>\n   b \\<in> scf R12 \\<longrightarrow> b \\<in> scf R2) \\<and>\n  (c \\<in> scf R2 \\<longrightarrow>\n   c \\<in> scf R12 \\<or> b \\<notin> scf R12)\n  a \\<in> scf R10 \\<and>\n  (b \\<in> scf R2 \\<and> b \\<notin> scf R10 \\<or>\n   c \\<in> scf R2 \\<and> c \\<notin> scf R10) \\<or>\n  b \\<in> scf R2 \\<and> c \\<in> scf R10 \\<and> b \\<notin> scf R10 \\<or>\n  a \\<in> scf R10 \\<and> (b \\<in> scf R2 \\<or> c \\<in> scf R2) \\<or>\n  c \\<in> scf R10 \\<and> c \\<notin> scf R2 \\<and> b \\<in> scf R2 \\<or>\n  (c \\<in> scf R2 \\<longrightarrow>\n   b \\<in> scf R10 \\<longrightarrow> b \\<in> scf R2) \\<and>\n  (c \\<in> scf R2 \\<longrightarrow>\n   c \\<in> scf R10 \\<or> b \\<notin> scf R10)\n  a \\<in> scf R13 \\<and>\n  (b \\<in> scf R3 \\<and> b \\<notin> scf R13 \\<or>\n   c \\<in> scf R3 \\<and> c \\<notin> scf R13) \\<or>\n  b \\<in> scf R3 \\<and> c \\<in> scf R13 \\<and> b \\<notin> scf R13 \\<or>\n  a \\<in> scf R13 \\<and> (b \\<in> scf R3 \\<or> c \\<in> scf R3) \\<or>\n  c \\<in> scf R13 \\<and> c \\<notin> scf R3 \\<and> b \\<in> scf R3 \\<or>\n  (c \\<in> scf R3 \\<longrightarrow>\n   b \\<in> scf R13 \\<longrightarrow> b \\<in> scf R3) \\<and>\n  (c \\<in> scf R3 \\<longrightarrow>\n   c \\<in> scf R13 \\<or> b \\<notin> scf R13)\n  c \\<in> scf R3 \\<and> b \\<in> scf R1 \\<and> c \\<notin> scf R1 \\<or>\n  b \\<in> scf R1 \\<and> b \\<notin> scf R3 \\<and> c \\<in> scf R3 \\<or>\n  (b \\<in> scf R3 \\<longrightarrow>\n   c \\<in> scf R1 \\<longrightarrow> c \\<in> scf R3) \\<and>\n  (b \\<in> scf R3 \\<longrightarrow> b \\<in> scf R1 \\<or> c \\<notin> scf R1)\n  b \\<in> scf R5 \\<and>\n  (a \\<in> scf R4 \\<and> a \\<notin> scf R5 \\<or>\n   c \\<in> scf R4 \\<and> c \\<notin> scf R5) \\<or>\n  b \\<in> scf R5 \\<and>\n  b \\<notin> scf R4 \\<and> (a \\<in> scf R4 \\<or> c \\<in> scf R4) \\<or>\n  (b \\<in> scf R4 \\<longrightarrow>\n   (a \\<in> scf R5 \\<longrightarrow> a \\<in> scf R4) \\<and>\n   (c \\<in> scf R5 \\<longrightarrow> c \\<in> scf R4)) \\<and>\n  (b \\<in> scf R4 \\<longrightarrow>\n   b \\<in> scf R5 \\<or> a \\<notin> scf R5 \\<and> c \\<notin> scf R5)\n  b \\<in> scf R17 \\<and>\n  (a \\<in> scf R4 \\<and> a \\<notin> scf R17 \\<or> c \\<in> scf R4) \\<or>\n  b \\<in> scf R17 \\<and>\n  b \\<notin> scf R4 \\<and> (a \\<in> scf R4 \\<or> c \\<in> scf R4) \\<or>\n  (b \\<in> scf R4 \\<longrightarrow>\n   a \\<in> scf R17 \\<longrightarrow> a \\<in> scf R4) \\<and>\n  (b \\<in> scf R4 \\<longrightarrow>\n   b \\<in> scf R17 \\<or> a \\<notin> scf R17)\n  b \\<in> scf R5 \\<and>\n  (a \\<in> scf R4 \\<and> a \\<notin> scf R5 \\<or>\n   c \\<in> scf R4 \\<and> c \\<notin> scf R5) \\<or>\n  b \\<in> scf R5 \\<and>\n  b \\<notin> scf R4 \\<and> (a \\<in> scf R4 \\<or> c \\<in> scf R4) \\<or>\n  (b \\<in> scf R4 \\<longrightarrow>\n   (a \\<in> scf R5 \\<longrightarrow> a \\<in> scf R4) \\<and>\n   (c \\<in> scf R5 \\<longrightarrow> c \\<in> scf R4)) \\<and>\n  (b \\<in> scf R4 \\<longrightarrow>\n   b \\<in> scf R5 \\<or> a \\<notin> scf R5 \\<and> c \\<notin> scf R5)\n  b \\<in> scf R7 \\<and> a \\<in> scf R4 \\<or>\n  c \\<in> scf R7 \\<and>\n  (a \\<in> scf R4 \\<or> b \\<in> scf R4 \\<and> b \\<notin> scf R7) \\<or>\n  b \\<in> scf R7 \\<and> b \\<notin> scf R4 \\<and> a \\<in> scf R4 \\<or>\n  c \\<in> scf R7 \\<and>\n  c \\<notin> scf R4 \\<and> (a \\<in> scf R4 \\<or> b \\<in> scf R4) \\<or>\n  (c \\<in> scf R4 \\<longrightarrow>\n   b \\<in> scf R7 \\<longrightarrow> b \\<in> scf R4) \\<and>\n  (c \\<in> scf R4 \\<longrightarrow> c \\<in> scf R7 \\<or> b \\<notin> scf R7)\n  a \\<in> scf R11 \\<and>\n  (b \\<in> scf R4 \\<and> b \\<notin> scf R11 \\<or>\n   c \\<in> scf R4 \\<and> c \\<notin> scf R11) \\<or>\n  b \\<in> scf R4 \\<and> c \\<in> scf R11 \\<and> b \\<notin> scf R11 \\<or>\n  a \\<in> scf R11 \\<and>\n  a \\<notin> scf R4 \\<and> (b \\<in> scf R4 \\<or> c \\<in> scf R4) \\<or>\n  c \\<in> scf R11 \\<and> c \\<notin> scf R4 \\<and> b \\<in> scf R4 \\<or>\n  (a \\<in> scf R4 \\<longrightarrow>\n   (b \\<in> scf R11 \\<longrightarrow> b \\<in> scf R4) \\<and>\n   (c \\<in> scf R11 \\<longrightarrow> c \\<in> scf R4)) \\<and>\n  (c \\<in> scf R4 \\<longrightarrow>\n   b \\<in> scf R11 \\<longrightarrow> b \\<in> scf R4) \\<and>\n  (a \\<in> scf R4 \\<longrightarrow>\n   a \\<in> scf R11 \\<or>\n   b \\<notin> scf R11 \\<and> c \\<notin> scf R11) \\<and>\n  (c \\<in> scf R4 \\<longrightarrow>\n   c \\<in> scf R11 \\<or> b \\<notin> scf R11)\n  c \\<in> scf R5 \\<and> a \\<in> scf R4 \\<and> c \\<notin> scf R4 \\<or>\n  c \\<in> scf R5 \\<and> b \\<in> scf R4 \\<and> c \\<notin> scf R4 \\<or>\n  a \\<in> scf R4 \\<and> a \\<notin> scf R5 \\<and> c \\<in> scf R5 \\<or>\n  b \\<in> scf R4 \\<and> b \\<notin> scf R5 \\<and> c \\<in> scf R5 \\<or>\n  (a \\<in> scf R5 \\<longrightarrow>\n   c \\<in> scf R4 \\<longrightarrow> c \\<in> scf R5) \\<and>\n  (b \\<in> scf R5 \\<longrightarrow>\n   c \\<in> scf R4 \\<longrightarrow> c \\<in> scf R5) \\<and>\n  (a \\<in> scf R5 \\<longrightarrow>\n   a \\<in> scf R4 \\<or> c \\<notin> scf R4) \\<and>\n  (b \\<in> scf R5 \\<longrightarrow> b \\<in> scf R4 \\<or> c \\<notin> scf R4)\n  b \\<in> scf R6 \\<and> a \\<in> scf R5 \\<or>\n  c \\<in> scf R6 \\<and>\n  (a \\<in> scf R5 \\<or> b \\<in> scf R5 \\<and> b \\<notin> scf R6) \\<or>\n  b \\<in> scf R6 \\<and> b \\<notin> scf R5 \\<and> a \\<in> scf R5 \\<or>\n  c \\<in> scf R6 \\<and>\n  c \\<notin> scf R5 \\<and> (a \\<in> scf R5 \\<or> b \\<in> scf R5) \\<or>\n  (c \\<in> scf R5 \\<longrightarrow>\n   b \\<in> scf R6 \\<longrightarrow> b \\<in> scf R5) \\<and>\n  (c \\<in> scf R5 \\<longrightarrow> c \\<in> scf R6 \\<or> b \\<notin> scf R6)\n  a \\<in> scf R10 \\<and>\n  (b \\<in> scf R5 \\<and> b \\<notin> scf R10 \\<or>\n   c \\<in> scf R5 \\<and> c \\<notin> scf R10) \\<or>\n  b \\<in> scf R5 \\<and> c \\<in> scf R10 \\<and> b \\<notin> scf R10 \\<or>\n  a \\<in> scf R10 \\<and>\n  a \\<notin> scf R5 \\<and> (b \\<in> scf R5 \\<or> c \\<in> scf R5) \\<or>\n  c \\<in> scf R10 \\<and> c \\<notin> scf R5 \\<and> b \\<in> scf R5 \\<or>\n  (a \\<in> scf R5 \\<longrightarrow>\n   (b \\<in> scf R10 \\<longrightarrow> b \\<in> scf R5) \\<and>\n   (c \\<in> scf R10 \\<longrightarrow> c \\<in> scf R5)) \\<and>\n  (c \\<in> scf R5 \\<longrightarrow>\n   b \\<in> scf R10 \\<longrightarrow> b \\<in> scf R5) \\<and>\n  (a \\<in> scf R5 \\<longrightarrow>\n   a \\<in> scf R10 \\<or>\n   b \\<notin> scf R10 \\<and> c \\<notin> scf R10) \\<and>\n  (c \\<in> scf R5 \\<longrightarrow>\n   c \\<in> scf R10 \\<or> b \\<notin> scf R10)\n  c \\<in> scf R7 \\<and> b \\<in> scf R6 \\<and> c \\<notin> scf R6 \\<or>\n  b \\<in> scf R6 \\<and> b \\<notin> scf R7 \\<and> c \\<in> scf R7 \\<or>\n  (b \\<in> scf R7 \\<longrightarrow>\n   c \\<in> scf R6 \\<longrightarrow> c \\<in> scf R7) \\<and>\n  (b \\<in> scf R7 \\<longrightarrow> b \\<in> scf R6 \\<or> c \\<notin> scf R6)\n  a \\<in> scf R18 \\<and>\n  (b \\<in> scf R7 \\<and> b \\<notin> scf R18 \\<or> c \\<in> scf R7) \\<or>\n  a \\<in> scf R18 \\<and> (b \\<in> scf R7 \\<or> c \\<in> scf R7) \\<or>\n  (c \\<in> scf R7 \\<longrightarrow>\n   b \\<in> scf R18 \\<longrightarrow> b \\<in> scf R7) \\<and>\n  (c \\<in> scf R7 \\<longrightarrow> b \\<notin> scf R18)\n  b \\<in> scf R9 \\<and> a \\<in> scf R21 \\<and> b \\<notin> scf R21 \\<or>\n  a \\<in> scf R21 \\<and> a \\<notin> scf R9 \\<and> b \\<in> scf R9 \\<or>\n  (a \\<in> scf R9 \\<longrightarrow>\n   b \\<in> scf R21 \\<longrightarrow> b \\<in> scf R9) \\<and>\n  (a \\<in> scf R9 \\<longrightarrow>\n   a \\<in> scf R21 \\<or> b \\<notin> scf R21)\n  b \\<in> scf R10 \\<and>\n  (a \\<in> scf R11 \\<and> a \\<notin> scf R10 \\<or>\n   c \\<in> scf R11 \\<and> c \\<notin> scf R10) \\<or>\n  b \\<in> scf R10 \\<and>\n  b \\<notin> scf R11 \\<and> (a \\<in> scf R11 \\<or> c \\<in> scf R11) \\<or>\n  (b \\<in> scf R11 \\<longrightarrow>\n   (a \\<in> scf R10 \\<longrightarrow> a \\<in> scf R11) \\<and>\n   (c \\<in> scf R10 \\<longrightarrow> c \\<in> scf R11)) \\<and>\n  (b \\<in> scf R11 \\<longrightarrow>\n   b \\<in> scf R10 \\<or> a \\<notin> scf R10 \\<and> c \\<notin> scf R10)\n  b \\<in> scf R12 \\<and> a \\<in> scf R10 \\<and> b \\<notin> scf R10 \\<or>\n  b \\<in> scf R12 \\<and> c \\<in> scf R10 \\<and> b \\<notin> scf R10 \\<or>\n  a \\<in> scf R10 \\<and> b \\<in> scf R12 \\<or>\n  c \\<in> scf R10 \\<and> c \\<notin> scf R12 \\<and> b \\<in> scf R12 \\<or>\n  (c \\<in> scf R12 \\<longrightarrow>\n   a \\<notin> scf R10 \\<and>\n   (b \\<in> scf R10 \\<longrightarrow> b \\<in> scf R12)) \\<and>\n  (c \\<in> scf R12 \\<longrightarrow>\n   c \\<in> scf R10 \\<or> a \\<notin> scf R10 \\<and> b \\<notin> scf R10)\n  b \\<in> scf R12 \\<and>\n  (a \\<in> scf R13 \\<or> c \\<in> scf R13 \\<and> c \\<notin> scf R12) \\<or>\n  b \\<in> scf R12 \\<and>\n  b \\<notin> scf R13 \\<and> (a \\<in> scf R13 \\<or> c \\<in> scf R13) \\<or>\n  (b \\<in> scf R13 \\<longrightarrow>\n   c \\<in> scf R12 \\<longrightarrow> c \\<in> scf R13) \\<and>\n  (b \\<in> scf R13 \\<longrightarrow>\n   b \\<in> scf R12 \\<or> c \\<notin> scf R12)\n  b \\<in> scf R13 \\<and> a \\<in> scf R11 \\<and> b \\<notin> scf R11 \\<or>\n  c \\<in> scf R11 \\<and>\n  (a \\<in> scf R13 \\<and> a \\<notin> scf R11 \\<or>\n   b \\<in> scf R13 \\<and> b \\<notin> scf R11) \\<or>\n  a \\<in> scf R11 \\<and> a \\<notin> scf R13 \\<and> b \\<in> scf R13 \\<or>\n  c \\<in> scf R11 \\<and>\n  c \\<notin> scf R13 \\<and> (a \\<in> scf R13 \\<or> b \\<in> scf R13) \\<or>\n  (a \\<in> scf R13 \\<longrightarrow>\n   b \\<in> scf R11 \\<longrightarrow> b \\<in> scf R13) \\<and>\n  (c \\<in> scf R13 \\<longrightarrow>\n   (a \\<in> scf R11 \\<longrightarrow> a \\<in> scf R13) \\<and>\n   (b \\<in> scf R11 \\<longrightarrow> b \\<in> scf R13)) \\<and>\n  (a \\<in> scf R13 \\<longrightarrow>\n   a \\<in> scf R11 \\<or> b \\<notin> scf R11) \\<and>\n  (c \\<in> scf R13 \\<longrightarrow>\n   c \\<in> scf R11 \\<or> a \\<notin> scf R11 \\<and> b \\<notin> scf R11)\n  a \\<in> scf R18 \\<and>\n  (b \\<in> scf R13 \\<and> b \\<notin> scf R18 \\<or> c \\<in> scf R13) \\<or>\n  b \\<in> scf R18 \\<and> c \\<in> scf R13 \\<or>\n  a \\<in> scf R18 \\<and>\n  a \\<notin> scf R13 \\<and> (b \\<in> scf R13 \\<or> c \\<in> scf R13) \\<or>\n  b \\<in> scf R18 \\<and> b \\<notin> scf R13 \\<and> c \\<in> scf R13 \\<or>\n  (a \\<in> scf R13 \\<longrightarrow>\n   b \\<in> scf R18 \\<longrightarrow> b \\<in> scf R13) \\<and>\n  (a \\<in> scf R13 \\<longrightarrow>\n   a \\<in> scf R18 \\<or> b \\<notin> scf R18)\n  c \\<in> scf R14 \\<and> a \\<in> scf R8 \\<and> c \\<notin> scf R8 \\<or>\n  a \\<in> scf R8 \\<and> a \\<notin> scf R14 \\<and> c \\<in> scf R14 \\<or>\n  (a \\<in> scf R14 \\<longrightarrow>\n   c \\<in> scf R8 \\<longrightarrow> c \\<in> scf R14) \\<and>\n  (a \\<in> scf R14 \\<longrightarrow> a \\<in> scf R8 \\<or> c \\<notin> scf R8)\n  a \\<in> scf R14 \\<and> c \\<in> scf R19 \\<and> a \\<notin> scf R19 \\<or>\n  c \\<in> scf R19 \\<and> c \\<notin> scf R14 \\<and> a \\<in> scf R14 \\<or>\n  (c \\<in> scf R14 \\<longrightarrow>\n   a \\<in> scf R19 \\<longrightarrow> a \\<in> scf R14) \\<and>\n  (c \\<in> scf R14 \\<longrightarrow>\n   c \\<in> scf R19 \\<or> a \\<notin> scf R19)\n  b \\<in> scf R15 \\<and> a \\<in> scf R17 \\<and> b \\<notin> scf R17 \\<or>\n  a \\<in> scf R17 \\<and> a \\<notin> scf R15 \\<and> b \\<in> scf R15 \\<or>\n  (a \\<in> scf R15 \\<longrightarrow>\n   b \\<in> scf R17 \\<longrightarrow> b \\<in> scf R15) \\<and>\n  (a \\<in> scf R15 \\<longrightarrow>\n   a \\<in> scf R17 \\<or> b \\<notin> scf R17)\n  c \\<in> scf R8 \\<and>\n  (a \\<in> scf R15 \\<and> a \\<notin> scf R8 \\<or> b \\<in> scf R15) \\<or>\n  c \\<in> scf R8 \\<and> (a \\<in> scf R15 \\<or> b \\<in> scf R15) \\<or>\n  (b \\<in> scf R15 \\<longrightarrow>\n   a \\<in> scf R8 \\<longrightarrow> a \\<in> scf R15) \\<and>\n  (b \\<in> scf R15 \\<longrightarrow> a \\<notin> scf R8)\n  a \\<in> scf R16 \\<and> c \\<in> scf R5 \\<and> a \\<notin> scf R5 \\<or>\n  c \\<in> scf R5 \\<and> c \\<notin> scf R16 \\<and> a \\<in> scf R16 \\<or>\n  (c \\<in> scf R16 \\<longrightarrow>\n   (a \\<in> scf R5 \\<longrightarrow> a \\<in> scf R16) \\<and>\n   b \\<notin> scf R5) \\<and>\n  (c \\<in> scf R16 \\<longrightarrow>\n   c \\<in> scf R5 \\<or> a \\<notin> scf R5 \\<and> b \\<notin> scf R5)\n  a \\<in> scf R17 \\<and> b \\<in> scf R5 \\<and> a \\<notin> scf R5 \\<or>\n  a \\<in> scf R17 \\<and> c \\<in> scf R5 \\<and> a \\<notin> scf R5 \\<or>\n  b \\<in> scf R5 \\<and> b \\<notin> scf R17 \\<and> a \\<in> scf R17 \\<or>\n  c \\<in> scf R5 \\<and> a \\<in> scf R17 \\<or>\n  (b \\<in> scf R17 \\<longrightarrow>\n   a \\<in> scf R5 \\<longrightarrow> a \\<in> scf R17) \\<and>\n  (b \\<in> scf R17 \\<longrightarrow> b \\<in> scf R5 \\<or> a \\<notin> scf R5)\n  a \\<in> scf R19 \\<and> c \\<in> scf R16 \\<and> a \\<notin> scf R16 \\<or>\n  c \\<in> scf R16 \\<and> c \\<notin> scf R19 \\<and> a \\<in> scf R19 \\<or>\n  (c \\<in> scf R19 \\<longrightarrow>\n   a \\<in> scf R16 \\<longrightarrow> a \\<in> scf R19) \\<and>\n  (c \\<in> scf R19 \\<longrightarrow>\n   c \\<in> scf R16 \\<or> a \\<notin> scf R16)\n  a \\<in> scf R20 \\<and> b \\<in> scf R18 \\<and> a \\<notin> scf R18 \\<or>\n  b \\<in> scf R18 \\<and> b \\<notin> scf R20 \\<and> a \\<in> scf R20 \\<or>\n  (b \\<in> scf R20 \\<longrightarrow>\n   a \\<in> scf R18 \\<longrightarrow> a \\<in> scf R20) \\<and>\n  (b \\<in> scf R20 \\<longrightarrow>\n   b \\<in> scf R18 \\<or> a \\<notin> scf R18)\n  b \\<in> scf R20 \\<and> a \\<in> scf R9 \\<and> b \\<notin> scf R9 \\<or>\n  a \\<in> scf R9 \\<and> a \\<notin> scf R20 \\<and> b \\<in> scf R20 \\<or>\n  (a \\<in> scf R20 \\<longrightarrow>\n   b \\<in> scf R9 \\<longrightarrow> b \\<in> scf R20) \\<and>\n  (a \\<in> scf R20 \\<longrightarrow> a \\<in> scf R9 \\<or> b \\<notin> scf R9)\n  b \\<in> scf R21 \\<and> a \\<in> scf R5 \\<and> b \\<notin> scf R5 \\<or>\n  a \\<in> scf R5 \\<and> a \\<notin> scf R21 \\<and> b \\<in> scf R21 \\<or>\n  (a \\<in> scf R21 \\<longrightarrow>\n   (b \\<in> scf R5 \\<longrightarrow> b \\<in> scf R21) \\<and>\n   c \\<notin> scf R5) \\<and>\n  (a \\<in> scf R21 \\<longrightarrow>\n   a \\<in> scf R5 \\<or> b \\<notin> scf R5 \\<and> c \\<notin> scf R5)\n  b \\<in> scf R21 \\<and> a \\<in> scf R4 \\<and> b \\<notin> scf R4 \\<or>\n  a \\<in> scf R4 \\<and> a \\<notin> scf R21 \\<and> b \\<in> scf R21 \\<or>\n  (a \\<in> scf R21 \\<longrightarrow>\n   (b \\<in> scf R4 \\<longrightarrow> b \\<in> scf R21) \\<and>\n   c \\<notin> scf R4) \\<and>\n  (a \\<in> scf R21 \\<longrightarrow>\n   a \\<in> scf R4 \\<or> b \\<notin> scf R4 \\<and> c \\<notin> scf R4)\n  b \\<in> scf R1 \\<or> c \\<in> scf R1\n  b \\<in> scf R2 \\<or> c \\<in> scf R2\n  b \\<in> scf R3 \\<or> c \\<in> scf R3\n  a \\<in> scf R4 \\<or> b \\<in> scf R4 \\<or> c \\<in> scf R4\n  a \\<in> scf R5 \\<or> b \\<in> scf R5 \\<or> c \\<in> scf R5\n  b \\<in> scf R6 \\<or> c \\<in> scf R6\n  b \\<in> scf R7 \\<or> c \\<in> scf R7\n  a \\<in> scf R8 \\<or> c \\<in> scf R8\n  a \\<in> scf R9 \\<or> b \\<in> scf R9\n  a \\<in> scf R10 \\<or> b \\<in> scf R10 \\<or> c \\<in> scf R10\n  a \\<in> scf R11 \\<or> b \\<in> scf R11 \\<or> c \\<in> scf R11\n  b \\<in> scf R12 \\<or> c \\<in> scf R12\n  a \\<in> scf R13 \\<or> b \\<in> scf R13 \\<or> c \\<in> scf R13\n  a \\<in> scf R14 \\<or> c \\<in> scf R14\n  a \\<in> scf R15 \\<or> b \\<in> scf R15\n  a \\<in> scf R16 \\<or> c \\<in> scf R16\n  a \\<in> scf R17 \\<or> b \\<in> scf R17\n  a \\<in> scf R18 \\<or> b \\<in> scf R18\n  a \\<in> scf R19 \\<or> c \\<in> scf R19\n  a \\<in> scf R20 \\<or> b \\<in> scf R20\n  a \\<in> scf R21 \\<or> b \\<in> scf R21\n\ngoal (1 subgoal):\n 1. False", "by satx"], ["", "end"], ["", "subsection \\<open>Lifting to more than 3 agents and alternatives\\<close>"], ["", "text \\<open>\n  We now employ the standard lifting argument outlined before to lift this impossibility\n  from 3 agents and alternatives to any setting with at least 3 agents and alternatives.\n\\<close>"], ["", "locale fb_impossibility =\n  strategyproof_anonymous_scf agents alts scf Fishb +\n  pareto_efficient_scf agents alts scf\n  for agents :: \"'agent set\" and alts :: \"'alt set\" and scf +\n  assumes card_agents_ge: \"card agents \\<ge> 3\"\n      and card_alts_ge:   \"card alts \\<ge> 3\"\nbegin"], ["", "(* TODO: Move? *)"], ["", "lemma finite_list':\n  assumes \"finite A\"\n  obtains xs where \"A = set xs\" \"distinct xs\" \"length xs = card A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>A = set xs; distinct xs; length xs = card A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>A = set xs; distinct xs; length xs = card A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from assms"], ["proof (chain)\npicking this:\n  finite A", "obtain xs where \"set xs = A\""], ["proof (prove)\nusing this:\n  finite A\n\ngoal (1 subgoal):\n 1. (\\<And>xs. set xs = A \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "using finite_list"], ["proof (prove)\nusing this:\n  finite A\n  finite ?A \\<Longrightarrow> \\<exists>xs. set xs = ?A\n\ngoal (1 subgoal):\n 1. (\\<And>xs. set xs = A \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by blast"], ["proof (state)\nthis:\n  set xs = A\n\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>A = set xs; distinct xs; length xs = card A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  set xs = A\n\ngoal (1 subgoal):\n 1. thesis", "using distinct_card[of \"remdups xs\"]"], ["proof (prove)\nusing this:\n  set xs = A\n  distinct (remdups xs) \\<Longrightarrow>\n  card (set (remdups xs)) = length (remdups xs)\n\ngoal (1 subgoal):\n 1. thesis", "by (intro that[of \"remdups xs\"]) simp_all"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma finite_list_subset:\n  assumes \"finite A\" \"card A \\<ge> n\"\n  obtains xs where \"set xs \\<subseteq> A\" \"distinct xs\" \"length xs = n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>set xs \\<subseteq> A; distinct xs; length xs = n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>set xs \\<subseteq> A; distinct xs; length xs = n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain xs where \"A = set xs\" \"distinct xs\" \"length xs = card A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>A = set xs; distinct xs; length xs = card A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using finite_list'[OF assms(1)]"], ["proof (prove)\nusing this:\n  (\\<And>xs.\n      \\<lbrakk>A = set xs; distinct xs; length xs = card A\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>A = set xs; distinct xs; length xs = card A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  A = set xs\n  distinct xs\n  length xs = card A\n\ngoal (1 subgoal):\n 1. (\\<And>xs.\n        \\<lbrakk>set xs \\<subseteq> A; distinct xs; length xs = n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with assms"], ["proof (chain)\npicking this:\n  finite A\n  n \\<le> card A\n  A = set xs\n  distinct xs\n  length xs = card A", "show ?thesis"], ["proof (prove)\nusing this:\n  finite A\n  n \\<le> card A\n  A = set xs\n  distinct xs\n  length xs = card A\n\ngoal (1 subgoal):\n 1. thesis", "by (intro that[of \"take n xs\"]) (simp_all add: set_take_subset)"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma card_ge_3E:\n  assumes \"finite A\" \"card A \\<ge> 3\"\n  obtains a b c where \"distinct [a,b,c]\" \"{a,b,c} \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>a b c.\n        \\<lbrakk>distinct [a, b, c]; {a, b, c} \\<subseteq> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>a b c.\n        \\<lbrakk>distinct [a, b, c]; {a, b, c} \\<subseteq> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from finite_list_subset[OF assms]"], ["proof (chain)\npicking this:\n  (\\<And>xs.\n      \\<lbrakk>set xs \\<subseteq> A; distinct xs; length xs = 3\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "guess xs"], ["proof (prove)\nusing this:\n  (\\<And>xs.\n      \\<lbrakk>set xs \\<subseteq> A; distinct xs; length xs = 3\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. thesis", "."], ["proof (state)\nthis:\n  set xs \\<subseteq> A\n  distinct xs\n  length xs = 3\n\ngoal (1 subgoal):\n 1. (\\<And>a b c.\n        \\<lbrakk>distinct [a, b, c]; {a, b, c} \\<subseteq> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  set xs \\<subseteq> A\n  distinct xs\n  length xs = 3\n\ngoal (1 subgoal):\n 1. (\\<And>a b c.\n        \\<lbrakk>distinct [a, b, c]; {a, b, c} \\<subseteq> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  set xs \\<subseteq> A\n  distinct xs\n  length xs = 3", "obtain a b c where \"xs = [a, b, c]\""], ["proof (prove)\nusing this:\n  set xs \\<subseteq> A\n  distinct xs\n  length xs = 3\n\ngoal (1 subgoal):\n 1. (\\<And>a b c. xs = [a, b, c] \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: eval_nat_numeral length_Suc_conv)"], ["proof (state)\nthis:\n  xs = [a, b, c]\n\ngoal (1 subgoal):\n 1. (\\<And>a b c.\n        \\<lbrakk>distinct [a, b, c]; {a, b, c} \\<subseteq> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  set xs \\<subseteq> A\n  distinct xs\n  length xs = 3\n  xs = [a, b, c]", "show ?thesis"], ["proof (prove)\nusing this:\n  set xs \\<subseteq> A\n  distinct xs\n  length xs = 3\n  xs = [a, b, c]\n\ngoal (1 subgoal):\n 1. thesis", "by (intro that[of a b c]) simp_all"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem absurd: False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "from card_ge_3E[OF finite_agents card_agents_ge]"], ["proof (chain)\npicking this:\n  (\\<And>a b c.\n      \\<lbrakk>distinct [a, b, c]; {a, b, c} \\<subseteq> agents\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "guess A1 A2 A3"], ["proof (prove)\nusing this:\n  (\\<And>a b c.\n      \\<lbrakk>distinct [a, b, c]; {a, b, c} \\<subseteq> agents\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. thesis", "."], ["proof (state)\nthis:\n  distinct [A1, A2, A3]\n  {A1, A2, A3} \\<subseteq> agents\n\ngoal (1 subgoal):\n 1. False", "note agents = this"], ["proof (state)\nthis:\n  distinct [A1, A2, A3]\n  {A1, A2, A3} \\<subseteq> agents\n\ngoal (1 subgoal):\n 1. False", "let ?agents' = \"{A1, A2, A3}\""], ["proof (state)\ngoal (1 subgoal):\n 1. False", "from card_ge_3E[OF finite_alts card_alts_ge]"], ["proof (chain)\npicking this:\n  (\\<And>a b c.\n      \\<lbrakk>distinct [a, b, c]; {a, b, c} \\<subseteq> alts\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "guess a b c"], ["proof (prove)\nusing this:\n  (\\<And>a b c.\n      \\<lbrakk>distinct [a, b, c]; {a, b, c} \\<subseteq> alts\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. thesis", "."], ["proof (state)\nthis:\n  distinct [a, b, c]\n  {a, b, c} \\<subseteq> alts\n\ngoal (1 subgoal):\n 1. False", "note alts = this"], ["proof (state)\nthis:\n  distinct [a, b, c]\n  {a, b, c} \\<subseteq> alts\n\ngoal (1 subgoal):\n 1. False", "let ?alts' = \"{a, b, c}\""], ["proof (state)\ngoal (1 subgoal):\n 1. False", "interpret scf_lowering_anonymous agents alts scf ?agents' ?alts'"], ["proof (prove)\ngoal (1 subgoal):\n 1. scf_lowering_anonymous agents alts scf {A1, A2, A3} {a, b, c}", "by standard (use agents alts in auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "interpret liftable_set_extension ?alts' alts Fishb"], ["proof (prove)\ngoal (1 subgoal):\n 1. liftable_set_extension {a, b, c} alts Fishb", "by (intro Fishburn_liftable alts)"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "interpret scf_lowering_strategyproof agents alts scf ?agents' ?alts' Fishb"], ["proof (prove)\ngoal (1 subgoal):\n 1. scf_lowering_strategyproof agents alts scf {A1, A2, A3} {a, b, c} Fishb", ".."], ["proof (state)\ngoal (1 subgoal):\n 1. False", "interpret fb_impossibility_3_3 ?agents' ?alts' lowered A1 A2 A3 a b c"], ["proof (prove)\ngoal (1 subgoal):\n 1. fb_impossibility_3_3 {A1, A2, A3} {a, b, c} lowered A1 A2 A3 a b c", "by standard (use agents alts in simp_all)"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "from absurd"], ["proof (chain)\npicking this:\n  False", "show False"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. False", "."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}