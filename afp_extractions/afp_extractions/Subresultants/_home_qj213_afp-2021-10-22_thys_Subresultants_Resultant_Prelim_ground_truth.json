{"file_name": "/home/qj213/afp-2021-10-22/thys/Subresultants/Resultant_Prelim.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Subresultants", "problem_names": ["lemma sylvester_mat_sub_dim[simp]:\n  fixes m n p q\n  defines \"S \\<equiv> sylvester_mat_sub m n p q\"\n  shows \"dim_row S = m+n\" and \"dim_col S = m+n\"", "lemma sylvester_mat_sub_carrier:\n  shows \"sylvester_mat_sub m n p q \\<in> carrier_mat (m+n) (m+n)\"", "lemma sylvester_mat_dim[simp]:\n  fixes p q\n  defines \"d \\<equiv> degree p + degree q\"\n  shows \"dim_row (sylvester_mat p q) = d\" \"dim_col (sylvester_mat p q) = d\"", "lemma sylvester_carrier_mat:\n  fixes p q\n  defines \"d \\<equiv> degree p + degree q\"\n  shows \"sylvester_mat p q \\<in> carrier_mat d d\"", "lemma sylvester_mat_sub_index:\n  fixes p q\n  assumes i: \"i < m+n\" and j: \"j < m+n\"\n  shows \"sylvester_mat_sub m n p q $$ (i,j) =\n    (if i < n then\n       if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j) else 0\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i-j) else 0)\"", "lemma sylvester_index_mat:\n  fixes p q\n  defines \"m \\<equiv> degree p\" and \"n \\<equiv> degree q\"\n  assumes i: \"i < m+n\" and j: \"j < m+n\"\n  shows \"sylvester_mat p q $$ (i,j) =\n    (if i < n then\n       if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j) else 0\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j) else 0)\"", "lemma sylvester_index_mat2:\n  fixes p q :: \"'a :: comm_semiring_1 poly\"\n  defines \"m \\<equiv> degree p\" and \"n \\<equiv> degree q\"\n  assumes i: \"i < m+n\" and j: \"j < m+n\"\n  shows \"sylvester_mat p q $$ (i,j) =\n    (if i < n then coeff (monom 1 (n - i) * p) (m+n-j)\n     else coeff (monom 1 (m + n - i) * q) (m+n-j))\"", "lemma sylvester_mat_sub_0[simp]: \"sylvester_mat_sub 0 n 0 q = 0\\<^sub>m n n\"", "lemma sylvester_mat_0[simp]: \"sylvester_mat 0 q = 0\\<^sub>m (degree q) (degree q)\"", "lemma sylvester_mat_const[simp]:\n  fixes a :: \"'a :: semiring_1\"\n  shows \"sylvester_mat [:a:] q = a \\<cdot>\\<^sub>m 1\\<^sub>m (degree q)\"\n    and \"sylvester_mat p [:a:] = a \\<cdot>\\<^sub>m 1\\<^sub>m (degree p)\"", "lemma sylvester_mat_sub_map:\n  assumes f0: \"f 0 = 0\"\n  shows \"map_mat f (sylvester_mat_sub m n p q) = sylvester_mat_sub m n (map_poly f p) (map_poly f q)\"\n    (is \"?l = ?r\")", "lemma resultant_sub: \"resultant p q = resultant_sub (degree p) (degree q) p q\"", "lemma resultant_const[simp]:\n  fixes a :: \"'a :: comm_ring_1\"\n  shows \"resultant [:a:] q = a ^ (degree q)\"\n    and \"resultant p [:a:] = a ^ (degree p)\"", "lemma resultant_1[simp]:\n  fixes p :: \"'a :: comm_ring_1 poly\"\n  shows \"resultant 1 p = 1\" \"resultant p 1 = 1\"", "lemma resultant_0[simp]:\n  fixes p :: \"'a :: comm_ring_1 poly\"\n  assumes \"degree p > 0\"\n  shows \"resultant 0 p = 0\" \"resultant p 0 = 0\"", "lemma (in comm_ring_hom) resultant_map_poly: \"degree (map_poly hom p) = degree p \\<Longrightarrow>\n  degree (map_poly hom q) = degree q \\<Longrightarrow> resultant (map_poly hom p) (map_poly hom q) = hom (resultant p q)\"", "lemma (in inj_comm_ring_hom) resultant_hom: \"resultant (map_poly hom p) (map_poly hom q) = hom (resultant p q)\""], "translations": [["", "lemma sylvester_mat_sub_dim[simp]:\n  fixes m n p q\n  defines \"S \\<equiv> sylvester_mat_sub m n p q\"\n  shows \"dim_row S = m+n\" and \"dim_col S = m+n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row S = m + n &&& dim_col S = m + n", "unfolding S_def sylvester_mat_sub_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (mat (m + n) (m + n)\n       (\\<lambda>(i, j).\n           if i < n\n           then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n                else (0::'a)\n           else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n                else (0::'a))) =\n    m + n &&&\n    dim_col\n     (mat (m + n) (m + n)\n       (\\<lambda>(i, j).\n           if i < n\n           then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n                else (0::'a)\n           else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n                else (0::'a))) =\n    m + n", "by auto"], ["", "lemma sylvester_mat_sub_carrier:\n  shows \"sylvester_mat_sub m n p q \\<in> carrier_mat (m+n) (m+n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sylvester_mat_sub m n p q \\<in> carrier_mat (m + n) (m + n)", "by auto"], ["", "lemma sylvester_mat_dim[simp]:\n  fixes p q\n  defines \"d \\<equiv> degree p + degree q\"\n  shows \"dim_row (sylvester_mat p q) = d\" \"dim_col (sylvester_mat p q) = d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (sylvester_mat p q) = d &&& dim_col (sylvester_mat p q) = d", "unfolding sylvester_mat_def d_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (sylvester_mat_sub (degree p) (degree q) p q) =\n    degree p + degree q &&&\n    dim_col (sylvester_mat_sub (degree p) (degree q) p q) =\n    degree p + degree q", "by auto"], ["", "lemma sylvester_carrier_mat:\n  fixes p q\n  defines \"d \\<equiv> degree p + degree q\"\n  shows \"sylvester_mat p q \\<in> carrier_mat d d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sylvester_mat p q \\<in> carrier_mat d d", "unfolding d_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. sylvester_mat p q\n    \\<in> carrier_mat (degree p + degree q) (degree p + degree q)", "by auto"], ["", "lemma sylvester_mat_sub_index:\n  fixes p q\n  assumes i: \"i < m+n\" and j: \"j < m+n\"\n  shows \"sylvester_mat_sub m n p q $$ (i,j) =\n    (if i < n then\n       if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j) else 0\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i-j) else 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sylvester_mat_sub m n p q $$ (i, j) =\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a))", "unfolding sylvester_mat_sub_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. mat (m + n) (m + n)\n     (\\<lambda>(i, j).\n         if i < n\n         then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n              else (0::'a)\n         else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n              else (0::'a)) $$\n    (i, j) =\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a))", "unfolding index_mat(1)[OF i j]"], ["proof (prove)\ngoal (1 subgoal):\n 1. (case (i, j) of\n     (i, j) \\<Rightarrow>\n       if i < n\n       then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n            else (0::'a)\n       else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n            else (0::'a)) =\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a))", "by auto"], ["", "lemma sylvester_index_mat:\n  fixes p q\n  defines \"m \\<equiv> degree p\" and \"n \\<equiv> degree q\"\n  assumes i: \"i < m+n\" and j: \"j < m+n\"\n  shows \"sylvester_mat p q $$ (i,j) =\n    (if i < n then\n       if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j) else 0\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j) else 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sylvester_mat p q $$ (i, j) =\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a))", "unfolding sylvester_mat_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. sylvester_mat_sub (degree p) (degree q) p q $$ (i, j) =\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a))", "using sylvester_mat_sub_index[OF i j]"], ["proof (prove)\nusing this:\n  sylvester_mat_sub m n ?p ?q $$ (i, j) =\n  (if i < n\n   then if i \\<le> j \\<and> j - i \\<le> m then coeff ?p (m + i - j)\n        else (0::?'a)\n   else if i - n \\<le> j \\<and> j \\<le> i then coeff ?q (i - j)\n        else (0::?'a))\n\ngoal (1 subgoal):\n 1. sylvester_mat_sub (degree p) (degree q) p q $$ (i, j) =\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a))", "unfolding m_def n_def"], ["proof (prove)\nusing this:\n  sylvester_mat_sub (degree p) (degree q) ?p ?q $$ (i, j) =\n  (if i < degree q\n   then if i \\<le> j \\<and> j - i \\<le> degree p\n        then coeff ?p (degree p + i - j) else (0::?'a)\n   else if i - degree q \\<le> j \\<and> j \\<le> i then coeff ?q (i - j)\n        else (0::?'a))\n\ngoal (1 subgoal):\n 1. sylvester_mat_sub (degree p) (degree q) p q $$ (i, j) =\n    (if i < degree q\n     then if i \\<le> j \\<and> j - i \\<le> degree p\n          then coeff p (degree p + i - j) else (0::'a)\n     else if i - degree q \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a))", "."], ["", "lemma sylvester_index_mat2:\n  fixes p q :: \"'a :: comm_semiring_1 poly\"\n  defines \"m \\<equiv> degree p\" and \"n \\<equiv> degree q\"\n  assumes i: \"i < m+n\" and j: \"j < m+n\"\n  shows \"sylvester_mat p q $$ (i,j) =\n    (if i < n then coeff (monom 1 (n - i) * p) (m+n-j)\n     else coeff (monom 1 (m + n - i) * q) (m+n-j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sylvester_mat p q $$ (i, j) =\n    (if i < n then coeff (monom (1::'a) (n - i) * p) (m + n - j)\n     else coeff (monom (1::'a) (m + n - i) * q) (m + n - j))", "apply(subst sylvester_index_mat)"], ["proof (prove)\ngoal (3 subgoals):\n 1. i < degree p + degree q\n 2. j < degree p + degree q\n 3. (if i < degree q\n     then if i \\<le> j \\<and> j - i \\<le> degree p\n          then coeff p (degree p + i - j) else (0::'a)\n     else if i - degree q \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a)) =\n    (if i < n then coeff (monom (1::'a) (n - i) * p) (m + n - j)\n     else coeff (monom (1::'a) (m + n - i) * q) (m + n - j))", "unfolding m_def[symmetric] n_def[symmetric]"], ["proof (prove)\ngoal (3 subgoals):\n 1. i < m + n\n 2. j < m + n\n 3. (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a)) =\n    (if i < n then coeff (monom (1::'a) (n - i) * p) (m + n - j)\n     else coeff (monom (1::'a) (m + n - i) * q) (m + n - j))", "using i j"], ["proof (prove)\nusing this:\n  i < m + n\n  j < m + n\n\ngoal (3 subgoals):\n 1. i < m + n\n 2. j < m + n\n 3. (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a)) =\n    (if i < n then coeff (monom (1::'a) (n - i) * p) (m + n - j)\n     else coeff (monom (1::'a) (m + n - i) * q) (m + n - j))", "apply (simp,simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a)) =\n    (if i < n then coeff (monom (1::'a) (n - i) * p) (m + n - j)\n     else coeff (monom (1::'a) (m + n - i) * q) (m + n - j))", "unfolding coeff_monom_mult"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a)) =\n    (if i < n\n     then if n - i \\<le> m + n - j\n          then (1::'a) * coeff p (m + n - j - (n - i)) else (0::'a)\n     else if m + n - i \\<le> m + n - j\n          then (1::'a) * coeff q (m + n - j - (m + n - i)) else (0::'a))", "apply(cases \"i < n\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. i < n \\<Longrightarrow>\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a)) =\n    (if i < n\n     then if n - i \\<le> m + n - j\n          then (1::'a) * coeff p (m + n - j - (n - i)) else (0::'a)\n     else if m + n - i \\<le> m + n - j\n          then (1::'a) * coeff q (m + n - j - (m + n - i)) else (0::'a))\n 2. \\<not> i < n \\<Longrightarrow>\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a)) =\n    (if i < n\n     then if n - i \\<le> m + n - j\n          then (1::'a) * coeff p (m + n - j - (n - i)) else (0::'a)\n     else if m + n - i \\<le> m + n - j\n          then (1::'a) * coeff q (m + n - j - (m + n - i)) else (0::'a))", "apply (cases \"i \\<le> j \\<and> j - i \\<le> m\")"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>i < n; i \\<le> j \\<and> j - i \\<le> m\\<rbrakk>\n    \\<Longrightarrow> (if i < n\n                       then if i \\<le> j \\<and> j - i \\<le> m\n                            then coeff p (m + i - j) else (0::'a)\n                       else if i - n \\<le> j \\<and> j \\<le> i\n                            then coeff q (i - j) else (0::'a)) =\n                      (if i < n\n                       then if n - i \\<le> m + n - j\n                            then (1::'a) * coeff p (m + n - j - (n - i))\n                            else (0::'a)\n                       else if m + n - i \\<le> m + n - j\n                            then (1::'a) * coeff q (m + n - j - (m + n - i))\n                            else (0::'a))\n 2. \\<lbrakk>i < n; \\<not> (i \\<le> j \\<and> j - i \\<le> m)\\<rbrakk>\n    \\<Longrightarrow> (if i < n\n                       then if i \\<le> j \\<and> j - i \\<le> m\n                            then coeff p (m + i - j) else (0::'a)\n                       else if i - n \\<le> j \\<and> j \\<le> i\n                            then coeff q (i - j) else (0::'a)) =\n                      (if i < n\n                       then if n - i \\<le> m + n - j\n                            then (1::'a) * coeff p (m + n - j - (n - i))\n                            else (0::'a)\n                       else if m + n - i \\<le> m + n - j\n                            then (1::'a) * coeff q (m + n - j - (m + n - i))\n                            else (0::'a))\n 3. \\<not> i < n \\<Longrightarrow>\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a)) =\n    (if i < n\n     then if n - i \\<le> m + n - j\n          then (1::'a) * coeff p (m + n - j - (n - i)) else (0::'a)\n     else if m + n - i \\<le> m + n - j\n          then (1::'a) * coeff q (m + n - j - (m + n - i)) else (0::'a))", "using j m_def"], ["proof (prove)\nusing this:\n  j < m + n\n  m \\<equiv> degree p\n\ngoal (3 subgoals):\n 1. \\<lbrakk>i < n; i \\<le> j \\<and> j - i \\<le> m\\<rbrakk>\n    \\<Longrightarrow> (if i < n\n                       then if i \\<le> j \\<and> j - i \\<le> m\n                            then coeff p (m + i - j) else (0::'a)\n                       else if i - n \\<le> j \\<and> j \\<le> i\n                            then coeff q (i - j) else (0::'a)) =\n                      (if i < n\n                       then if n - i \\<le> m + n - j\n                            then (1::'a) * coeff p (m + n - j - (n - i))\n                            else (0::'a)\n                       else if m + n - i \\<le> m + n - j\n                            then (1::'a) * coeff q (m + n - j - (m + n - i))\n                            else (0::'a))\n 2. \\<lbrakk>i < n; \\<not> (i \\<le> j \\<and> j - i \\<le> m)\\<rbrakk>\n    \\<Longrightarrow> (if i < n\n                       then if i \\<le> j \\<and> j - i \\<le> m\n                            then coeff p (m + i - j) else (0::'a)\n                       else if i - n \\<le> j \\<and> j \\<le> i\n                            then coeff q (i - j) else (0::'a)) =\n                      (if i < n\n                       then if n - i \\<le> m + n - j\n                            then (1::'a) * coeff p (m + n - j - (n - i))\n                            else (0::'a)\n                       else if m + n - i \\<le> m + n - j\n                            then (1::'a) * coeff q (m + n - j - (m + n - i))\n                            else (0::'a))\n 3. \\<not> i < n \\<Longrightarrow>\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a)) =\n    (if i < n\n     then if n - i \\<le> m + n - j\n          then (1::'a) * coeff p (m + n - j - (n - i)) else (0::'a)\n     else if m + n - i \\<le> m + n - j\n          then (1::'a) * coeff q (m + n - j - (m + n - i)) else (0::'a))", "apply (force, force simp: coeff_eq_0)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> i < n \\<Longrightarrow>\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n          else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n          else (0::'a)) =\n    (if i < n\n     then if n - i \\<le> m + n - j\n          then (1::'a) * coeff p (m + n - j - (n - i)) else (0::'a)\n     else if m + n - i \\<le> m + n - j\n          then (1::'a) * coeff q (m + n - j - (m + n - i)) else (0::'a))", "apply (cases \"i - n \\<le> j \\<and> j \\<le> i\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> i < n; i - n \\<le> j \\<and> j \\<le> i\\<rbrakk>\n    \\<Longrightarrow> (if i < n\n                       then if i \\<le> j \\<and> j - i \\<le> m\n                            then coeff p (m + i - j) else (0::'a)\n                       else if i - n \\<le> j \\<and> j \\<le> i\n                            then coeff q (i - j) else (0::'a)) =\n                      (if i < n\n                       then if n - i \\<le> m + n - j\n                            then (1::'a) * coeff p (m + n - j - (n - i))\n                            else (0::'a)\n                       else if m + n - i \\<le> m + n - j\n                            then (1::'a) * coeff q (m + n - j - (m + n - i))\n                            else (0::'a))\n 2. \\<lbrakk>\\<not> i < n; \\<not> (i - n \\<le> j \\<and> j \\<le> i)\\<rbrakk>\n    \\<Longrightarrow> (if i < n\n                       then if i \\<le> j \\<and> j - i \\<le> m\n                            then coeff p (m + i - j) else (0::'a)\n                       else if i - n \\<le> j \\<and> j \\<le> i\n                            then coeff q (i - j) else (0::'a)) =\n                      (if i < n\n                       then if n - i \\<le> m + n - j\n                            then (1::'a) * coeff p (m + n - j - (n - i))\n                            else (0::'a)\n                       else if m + n - i \\<le> m + n - j\n                            then (1::'a) * coeff q (m + n - j - (m + n - i))\n                            else (0::'a))", "using i j coeff_eq_0[of q] n_def"], ["proof (prove)\nusing this:\n  i < m + n\n  j < m + n\n  degree q < ?n \\<Longrightarrow> coeff q ?n = (0::'a)\n  n \\<equiv> degree q\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> i < n; i - n \\<le> j \\<and> j \\<le> i\\<rbrakk>\n    \\<Longrightarrow> (if i < n\n                       then if i \\<le> j \\<and> j - i \\<le> m\n                            then coeff p (m + i - j) else (0::'a)\n                       else if i - n \\<le> j \\<and> j \\<le> i\n                            then coeff q (i - j) else (0::'a)) =\n                      (if i < n\n                       then if n - i \\<le> m + n - j\n                            then (1::'a) * coeff p (m + n - j - (n - i))\n                            else (0::'a)\n                       else if m + n - i \\<le> m + n - j\n                            then (1::'a) * coeff q (m + n - j - (m + n - i))\n                            else (0::'a))\n 2. \\<lbrakk>\\<not> i < n; \\<not> (i - n \\<le> j \\<and> j \\<le> i)\\<rbrakk>\n    \\<Longrightarrow> (if i < n\n                       then if i \\<le> j \\<and> j - i \\<le> m\n                            then coeff p (m + i - j) else (0::'a)\n                       else if i - n \\<le> j \\<and> j \\<le> i\n                            then coeff q (i - j) else (0::'a)) =\n                      (if i < n\n                       then if n - i \\<le> m + n - j\n                            then (1::'a) * coeff p (m + n - j - (n - i))\n                            else (0::'a)\n                       else if m + n - i \\<le> m + n - j\n                            then (1::'a) * coeff q (m + n - j - (m + n - i))\n                            else (0::'a))", "by auto"], ["", "lemma sylvester_mat_sub_0[simp]: \"sylvester_mat_sub 0 n 0 q = 0\\<^sub>m n n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sylvester_mat_sub 0 n 0 q = 0\\<^sub>m n n", "unfolding sylvester_mat_sub_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. mat (0 + n) (0 + n)\n     (\\<lambda>(i, j).\n         if i < n\n         then if i \\<le> j \\<and> j - i \\<le> 0 then coeff 0 (0 + i - j)\n              else (0::'a)\n         else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n              else (0::'a)) =\n    0\\<^sub>m n n", "by auto"], ["", "lemma sylvester_mat_0[simp]: \"sylvester_mat 0 q = 0\\<^sub>m (degree q) (degree q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sylvester_mat 0 q = 0\\<^sub>m (degree q) (degree q)", "unfolding sylvester_mat_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. sylvester_mat_sub (degree 0) (degree q) 0 q =\n    0\\<^sub>m (degree q) (degree q)", "by simp"], ["", "lemma sylvester_mat_const[simp]:\n  fixes a :: \"'a :: semiring_1\"\n  shows \"sylvester_mat [:a:] q = a \\<cdot>\\<^sub>m 1\\<^sub>m (degree q)\"\n    and \"sylvester_mat p [:a:] = a \\<cdot>\\<^sub>m 1\\<^sub>m (degree p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sylvester_mat [:a:] q = a \\<cdot>\\<^sub>m 1\\<^sub>m (degree q) &&&\n    sylvester_mat p [:a:] = a \\<cdot>\\<^sub>m 1\\<^sub>m (degree p)", "by(auto simp: sylvester_index_mat)"], ["", "lemma sylvester_mat_sub_map:\n  assumes f0: \"f 0 = 0\"\n  shows \"map_mat f (sylvester_mat_sub m n p q) = sylvester_mat_sub m n (map_poly f p) (map_poly f q)\"\n    (is \"?l = ?r\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. map_mat f (sylvester_mat_sub m n p q) =\n    sylvester_mat_sub m n (map_poly f p) (map_poly f q)", "proof(rule eq_matI)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (sylvester_mat_sub m n (map_poly f p) (map_poly f q));\n        j < dim_col\n             (sylvester_mat_sub m n (map_poly f p) (map_poly f q))\\<rbrakk>\n       \\<Longrightarrow> map_mat f (sylvester_mat_sub m n p q) $$ (i, j) =\n                         sylvester_mat_sub m n (map_poly f p)\n                          (map_poly f q) $$\n                         (i, j)\n 2. dim_row (map_mat f (sylvester_mat_sub m n p q)) =\n    dim_row (sylvester_mat_sub m n (map_poly f p) (map_poly f q))\n 3. dim_col (map_mat f (sylvester_mat_sub m n p q)) =\n    dim_col (sylvester_mat_sub m n (map_poly f p) (map_poly f q))", "note [simp] = coeff_map_poly[of f, OF f0]"], ["proof (state)\nthis:\n  coeff (map_poly f ?p) ?n = f (coeff ?p ?n)\n\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (sylvester_mat_sub m n (map_poly f p) (map_poly f q));\n        j < dim_col\n             (sylvester_mat_sub m n (map_poly f p) (map_poly f q))\\<rbrakk>\n       \\<Longrightarrow> map_mat f (sylvester_mat_sub m n p q) $$ (i, j) =\n                         sylvester_mat_sub m n (map_poly f p)\n                          (map_poly f q) $$\n                         (i, j)\n 2. dim_row (map_mat f (sylvester_mat_sub m n p q)) =\n    dim_row (sylvester_mat_sub m n (map_poly f p) (map_poly f q))\n 3. dim_col (map_mat f (sylvester_mat_sub m n p q)) =\n    dim_col (sylvester_mat_sub m n (map_poly f p) (map_poly f q))", "show dim: \"dim_row ?l = dim_row ?r\" \"dim_col ?l = dim_col ?r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (map_mat f (sylvester_mat_sub m n p q)) =\n    dim_row (sylvester_mat_sub m n (map_poly f p) (map_poly f q)) &&&\n    dim_col (map_mat f (sylvester_mat_sub m n p q)) =\n    dim_col (sylvester_mat_sub m n (map_poly f p) (map_poly f q))", "by auto"], ["proof (state)\nthis:\n  dim_row (map_mat f (sylvester_mat_sub m n p q)) =\n  dim_row (sylvester_mat_sub m n (map_poly f p) (map_poly f q))\n  dim_col (map_mat f (sylvester_mat_sub m n p q)) =\n  dim_col (sylvester_mat_sub m n (map_poly f p) (map_poly f q))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (sylvester_mat_sub m n (map_poly f p) (map_poly f q));\n        j < dim_col\n             (sylvester_mat_sub m n (map_poly f p) (map_poly f q))\\<rbrakk>\n       \\<Longrightarrow> map_mat f (sylvester_mat_sub m n p q) $$ (i, j) =\n                         sylvester_mat_sub m n (map_poly f p)\n                          (map_poly f q) $$\n                         (i, j)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (sylvester_mat_sub m n (map_poly f p) (map_poly f q));\n        j < dim_col\n             (sylvester_mat_sub m n (map_poly f p) (map_poly f q))\\<rbrakk>\n       \\<Longrightarrow> map_mat f (sylvester_mat_sub m n p q) $$ (i, j) =\n                         sylvester_mat_sub m n (map_poly f p)\n                          (map_poly f q) $$\n                         (i, j)", "assume ij: \"i < dim_row ?r\" \"j < dim_col ?r\""], ["proof (state)\nthis:\n  i < dim_row (sylvester_mat_sub m n (map_poly f p) (map_poly f q))\n  j < dim_col (sylvester_mat_sub m n (map_poly f p) (map_poly f q))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (sylvester_mat_sub m n (map_poly f p) (map_poly f q));\n        j < dim_col\n             (sylvester_mat_sub m n (map_poly f p) (map_poly f q))\\<rbrakk>\n       \\<Longrightarrow> map_mat f (sylvester_mat_sub m n p q) $$ (i, j) =\n                         sylvester_mat_sub m n (map_poly f p)\n                          (map_poly f q) $$\n                         (i, j)", "note ij' = this[unfolded sylvester_mat_sub_dim]"], ["proof (state)\nthis:\n  i < m + n\n  j < m + n\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (sylvester_mat_sub m n (map_poly f p) (map_poly f q));\n        j < dim_col\n             (sylvester_mat_sub m n (map_poly f p) (map_poly f q))\\<rbrakk>\n       \\<Longrightarrow> map_mat f (sylvester_mat_sub m n p q) $$ (i, j) =\n                         sylvester_mat_sub m n (map_poly f p)\n                          (map_poly f q) $$\n                         (i, j)", "note ij'' = ij[unfolded dim[symmetric] index_map_mat]"], ["proof (state)\nthis:\n  i < dim_row (sylvester_mat_sub m n p q)\n  j < dim_col (sylvester_mat_sub m n p q)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < dim_row\n                     (sylvester_mat_sub m n (map_poly f p) (map_poly f q));\n        j < dim_col\n             (sylvester_mat_sub m n (map_poly f p) (map_poly f q))\\<rbrakk>\n       \\<Longrightarrow> map_mat f (sylvester_mat_sub m n p q) $$ (i, j) =\n                         sylvester_mat_sub m n (map_poly f p)\n                          (map_poly f q) $$\n                         (i, j)", "show \"?l $$ (i, j) = ?r $$ (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. map_mat f (sylvester_mat_sub m n p q) $$ (i, j) =\n    sylvester_mat_sub m n (map_poly f p) (map_poly f q) $$ (i, j)", "unfolding index_map_mat(1)[OF ij'']"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (sylvester_mat_sub m n p q $$ (i, j)) =\n    sylvester_mat_sub m n (map_poly f p) (map_poly f q) $$ (i, j)", "unfolding sylvester_mat_sub_index[OF ij']"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (if i < n\n       then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n            else (0::'b)\n       else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n            else (0::'b)) =\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m\n          then coeff (map_poly f p) (m + i - j) else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i\n          then coeff (map_poly f q) (i - j) else (0::'a))", "unfolding Let_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (if i < n\n       then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n            else (0::'b)\n       else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n            else (0::'b)) =\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m\n          then coeff (map_poly f p) (m + i - j) else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i\n          then coeff (map_poly f q) (i - j) else (0::'a))", "using f0"], ["proof (prove)\nusing this:\n  f (0::'b) = (0::'a)\n\ngoal (1 subgoal):\n 1. f (if i < n\n       then if i \\<le> j \\<and> j - i \\<le> m then coeff p (m + i - j)\n            else (0::'b)\n       else if i - n \\<le> j \\<and> j \\<le> i then coeff q (i - j)\n            else (0::'b)) =\n    (if i < n\n     then if i \\<le> j \\<and> j - i \\<le> m\n          then coeff (map_poly f p) (m + i - j) else (0::'a)\n     else if i - n \\<le> j \\<and> j \\<le> i\n          then coeff (map_poly f q) (i - j) else (0::'a))", "by auto"], ["proof (state)\nthis:\n  map_mat f (sylvester_mat_sub m n p q) $$ (i, j) =\n  sylvester_mat_sub m n (map_poly f p) (map_poly f q) $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["", "definition resultant :: \"'a poly \\<Rightarrow> 'a poly \\<Rightarrow> 'a :: comm_ring_1\" where\n  \"resultant p q = det (sylvester_mat p q)\""], ["", "text \\<open>Resultant, but the size of the base Sylvester matrix is given.\\<close>"], ["", "definition \"resultant_sub m n p q = det (sylvester_mat_sub m n p q)\""], ["", "lemma resultant_sub: \"resultant p q = resultant_sub (degree p) (degree q) p q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. resultant p q = resultant_sub (degree p) (degree q) p q", "unfolding resultant_def sylvester_mat_def resultant_sub_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. det (sylvester_mat_sub (degree p) (degree q) p q) =\n    det (sylvester_mat_sub (degree p) (degree q) p q)", "by auto"], ["", "lemma resultant_const[simp]:\n  fixes a :: \"'a :: comm_ring_1\"\n  shows \"resultant [:a:] q = a ^ (degree q)\"\n    and \"resultant p [:a:] = a ^ (degree p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. resultant [:a:] q = a ^ degree q &&& resultant p [:a:] = a ^ degree p", "unfolding resultant_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. det (sylvester_mat [:a:] q) = a ^ degree q &&&\n    det (sylvester_mat p [:a:]) = a ^ degree p", "unfolding sylvester_mat_const"], ["proof (prove)\ngoal (1 subgoal):\n 1. det (a \\<cdot>\\<^sub>m 1\\<^sub>m (degree q)) = a ^ degree q &&&\n    det (a \\<cdot>\\<^sub>m 1\\<^sub>m (degree p)) = a ^ degree p", "by simp_all"], ["", "lemma resultant_1[simp]:\n  fixes p :: \"'a :: comm_ring_1 poly\"\n  shows \"resultant 1 p = 1\" \"resultant p 1 = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. resultant 1 p = (1::'a) &&& resultant p 1 = (1::'a)", "using resultant_const(1) [of 1 p] resultant_const(2) [of p 1]"], ["proof (prove)\nusing this:\n  resultant [:1::'a:] p = (1::'a) ^ degree p\n  resultant p [:1::'a:] = (1::'a) ^ degree p\n\ngoal (1 subgoal):\n 1. resultant 1 p = (1::'a) &&& resultant p 1 = (1::'a)", "by (auto simp add: pCons_one)"], ["", "lemma resultant_0[simp]:\n  fixes p :: \"'a :: comm_ring_1 poly\"\n  assumes \"degree p > 0\"\n  shows \"resultant 0 p = 0\" \"resultant p 0 = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. resultant 0 p = (0::'a) &&& resultant p 0 = (0::'a)", "using resultant_const(1)[of 0 p] resultant_const(2)[of p 0]"], ["proof (prove)\nusing this:\n  resultant [:0::'a:] p = (0::'a) ^ degree p\n  resultant p [:0::'a:] = (0::'a) ^ degree p\n\ngoal (1 subgoal):\n 1. resultant 0 p = (0::'a) &&& resultant p 0 = (0::'a)", "using zero_power assms"], ["proof (prove)\nusing this:\n  resultant [:0::'a:] p = (0::'a) ^ degree p\n  resultant p [:0::'a:] = (0::'a) ^ degree p\n  0 < ?n \\<Longrightarrow> (0::?'a) ^ ?n = (0::?'a)\n  0 < degree p\n\ngoal (1 subgoal):\n 1. resultant 0 p = (0::'a) &&& resultant p 0 = (0::'a)", "by auto"], ["", "lemma (in comm_ring_hom) resultant_map_poly: \"degree (map_poly hom p) = degree p \\<Longrightarrow>\n  degree (map_poly hom q) = degree q \\<Longrightarrow> resultant (map_poly hom p) (map_poly hom q) = hom (resultant p q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>degree (map_poly hom p) = degree p;\n     degree (map_poly hom q) = degree q\\<rbrakk>\n    \\<Longrightarrow> resultant (map_poly hom p) (map_poly hom q) =\n                      hom (resultant p q)", "unfolding resultant_def sylvester_mat_def sylvester_mat_sub_def hom_det[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>degree (map_poly hom p) = degree p;\n     degree (map_poly hom q) = degree q\\<rbrakk>\n    \\<Longrightarrow> det (mat (degree (map_poly hom p) +\n                                degree (map_poly hom q))\n                            (degree (map_poly hom p) +\n                             degree (map_poly hom q))\n                            (\\<lambda>(i, j).\n                                if i < degree (map_poly hom q)\n                                then if i \\<le> j \\<and>\n  j - i \\<le> degree (map_poly hom p)\n                                     then coeff (map_poly hom p)\n     (degree (map_poly hom p) + i - j)\n                                     else (0::'b)\n                                else if i - degree (map_poly hom q)\n  \\<le> j \\<and>\n  j \\<le> i\n                                     then coeff (map_poly hom q) (i - j)\n                                     else (0::'b))) =\n                      det (mat\\<^sub>h\n                            (mat (degree p + degree q) (degree p + degree q)\n                              (\\<lambda>(i, j).\n                                  if i < degree q\n                                  then if i \\<le> j \\<and>\n    j - i \\<le> degree p\n then coeff p (degree p + i - j) else (0::'a)\n                                  else if i - degree q \\<le> j \\<and>\n    j \\<le> i\n then coeff q (i - j) else (0::'a))))", "by (rule arg_cong[of _ _ det], auto)"], ["", "lemma (in inj_comm_ring_hom) resultant_hom: \"resultant (map_poly hom p) (map_poly hom q) = hom (resultant p q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. resultant (map_poly hom p) (map_poly hom q) = hom (resultant p q)", "by (rule resultant_map_poly, auto)"], ["", "end"]]}