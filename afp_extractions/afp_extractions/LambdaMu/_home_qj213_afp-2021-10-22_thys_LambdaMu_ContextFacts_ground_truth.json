{"file_name": "/home/qj213/afp-2021-10-22/thys/LambdaMu/ContextFacts.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/LambdaMu", "problem_names": ["lemma typing_ctxt_correct1:\n  shows \"\\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>T (ctxt_subst E r) : T  \\<Longrightarrow> \\<exists>U. (\\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>T r : U \\<and> \\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : T \\<Leftarrow> U)\"", "lemma typing_ctxt_correct2:\n  shows \"\\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : T \\<Leftarrow> U \\<Longrightarrow> \\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>T r : U  \\<Longrightarrow> \\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>T (ctxt_subst E r) : T\"", "lemma ctxt_subst_basecase: \n  \"\\<forall>n. c[n = n \\<diamond>]\\<^sup>C =  c\"\n  \"\\<forall>n. t[n = n \\<diamond>]\\<^sup>T =  t\"", "lemma ctxt_subst_caseApp:\n  \"\\<forall>n E s. (c[n=n (liftM_ctxt E n)]\\<^sup>C)[n=n (\\<diamond> \\<^sup>\\<bullet> (liftM_trm s n))]\\<^sup>C = c[n=n ((liftM_ctxt E n) \\<^sup>\\<bullet> (liftM_trm s n))]\\<^sup>C\"\n  \"\\<forall>n E s. (t[n=n (liftM_ctxt E n)]\\<^sup>T)[n=n (\\<diamond> \\<^sup>\\<bullet> (liftM_trm s n))]\\<^sup>T = t[n=n ((liftM_ctxt E n) \\<^sup>\\<bullet> (liftM_trm s n))]\\<^sup>T\"", "lemma ctxt_subst:\n  assumes \"\\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : U \\<Leftarrow> T\"\n  shows   \"(ctxt_subst E (\\<mu> T : c)) \\<longlonglongrightarrow>\\<^sup>* \\<mu> U : (c[0 = 0 (liftM_ctxt E 0)]\\<^sup>C)\""], "translations": [["", "lemma typing_ctxt_correct1:\n  shows \"\\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>T (ctxt_subst E r) : T  \\<Longrightarrow> \\<exists>U. (\\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>T r : U \\<and> \\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : T \\<Leftarrow> U)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>T ctxt_subst E\n        r : T \\<Longrightarrow>\n    \\<exists>U.\n       \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>T r : U \\<and>\n       \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : T \\<Leftarrow> U", "by(induction E arbitrary: \\<Gamma> \\<Delta> T r; force)"], ["", "lemma typing_ctxt_correct2:\n  shows \"\\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : T \\<Leftarrow> U \\<Longrightarrow> \\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>T r : U  \\<Longrightarrow> \\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>T (ctxt_subst E r) : T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : T \\<Leftarrow> U;\n     \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>T r : U\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>T ctxt_subst E\n                          r : T", "by(induction arbitrary: r rule: typing_ctxt.induct) auto"], ["", "lemma ctxt_subst_basecase: \n  \"\\<forall>n. c[n = n \\<diamond>]\\<^sup>C =  c\"\n  \"\\<forall>n. t[n = n \\<diamond>]\\<^sup>T =  t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. c[n=n \\<diamond>]\\<^sup>C = c &&&\n    \\<forall>n. t[n=n \\<diamond>]\\<^sup>T = t", "by(induct c and t) (auto)"], ["", "lemma ctxt_subst_caseApp:\n  \"\\<forall>n E s. (c[n=n (liftM_ctxt E n)]\\<^sup>C)[n=n (\\<diamond> \\<^sup>\\<bullet> (liftM_trm s n))]\\<^sup>C = c[n=n ((liftM_ctxt E n) \\<^sup>\\<bullet> (liftM_trm s n))]\\<^sup>C\"\n  \"\\<forall>n E s. (t[n=n (liftM_ctxt E n)]\\<^sup>T)[n=n (\\<diamond> \\<^sup>\\<bullet> (liftM_trm s n))]\\<^sup>T = t[n=n ((liftM_ctxt E n) \\<^sup>\\<bullet> (liftM_trm s n))]\\<^sup>T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n E s.\n       c[n=n liftM_ctxt E\n              n]\\<^sup>C[n=n \\<diamond> \\<^sup>\\<bullet>\n                             liftM_trm s n]\\<^sup>C =\n       c[n=n liftM_ctxt E n \\<^sup>\\<bullet> liftM_trm s n]\\<^sup>C &&&\n    \\<forall>n E s.\n       t[n=n liftM_ctxt E\n              n]\\<^sup>T[n=n \\<diamond> \\<^sup>\\<bullet>\n                             liftM_trm s n]\\<^sup>T =\n       t[n=n liftM_ctxt E n \\<^sup>\\<bullet> liftM_trm s n]\\<^sup>T", "by (induction c and t) (auto simp add: liftLM_comm_ctxt liftLM_comm liftMM_comm_ctxt  liftMM_comm liftM_ctxt_struct_subst)"], ["", "lemma ctxt_subst:\n  assumes \"\\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : U \\<Leftarrow> T\"\n  shows   \"(ctxt_subst E (\\<mu> T : c)) \\<longlonglongrightarrow>\\<^sup>* \\<mu> U : (c[0 = 0 (liftM_ctxt E 0)]\\<^sup>C)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ctxt_subst E (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n    \\<mu>U:c[0=0 liftM_ctxt E 0]\\<^sup>C", "using assms"], ["proof (prove)\nusing this:\n  \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : U \\<Leftarrow> T\n\ngoal (1 subgoal):\n 1. ctxt_subst E (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n    \\<mu>U:c[0=0 liftM_ctxt E 0]\\<^sup>C", "proof(induct E arbitrary: U T \\<Gamma> \\<Delta> c)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>U T \\<Gamma> \\<Delta> c.\n       \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t \\<diamond> : U \\<Leftarrow> T \\<Longrightarrow>\n       ctxt_subst \\<diamond> (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n       \\<mu>U:c[0=0 liftM_ctxt \\<diamond> 0]\\<^sup>C\n 2. \\<And>E x2 U T \\<Gamma> \\<Delta> c.\n       \\<lbrakk>\\<And>U T \\<Gamma> \\<Delta> c.\n                   \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : U \\<Leftarrow> T \\<Longrightarrow>\n                   ctxt_subst E (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n                   \\<mu>U:c[0=0 liftM_ctxt E 0]\\<^sup>C;\n        \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E \\<^sup>\\<bullet>\n                                   x2 : U \\<Leftarrow> T\\<rbrakk>\n       \\<Longrightarrow> ctxt_subst (E \\<^sup>\\<bullet> x2)\n                          (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n                         \\<mu>U:c[0=0 liftM_ctxt (E \\<^sup>\\<bullet> x2)\n 0]\\<^sup>C", "case ContextEmpty"], ["proof (state)\nthis:\n  \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t \\<diamond> : U \\<Leftarrow> T\n\ngoal (2 subgoals):\n 1. \\<And>U T \\<Gamma> \\<Delta> c.\n       \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t \\<diamond> : U \\<Leftarrow> T \\<Longrightarrow>\n       ctxt_subst \\<diamond> (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n       \\<mu>U:c[0=0 liftM_ctxt \\<diamond> 0]\\<^sup>C\n 2. \\<And>E x2 U T \\<Gamma> \\<Delta> c.\n       \\<lbrakk>\\<And>U T \\<Gamma> \\<Delta> c.\n                   \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : U \\<Leftarrow> T \\<Longrightarrow>\n                   ctxt_subst E (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n                   \\<mu>U:c[0=0 liftM_ctxt E 0]\\<^sup>C;\n        \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E \\<^sup>\\<bullet>\n                                   x2 : U \\<Leftarrow> T\\<rbrakk>\n       \\<Longrightarrow> ctxt_subst (E \\<^sup>\\<bullet> x2)\n                          (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n                         \\<mu>U:c[0=0 liftM_ctxt (E \\<^sup>\\<bullet> x2)\n 0]\\<^sup>C", "have ctxtEmpty_inv: \"\\<Gamma>, \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t \\<diamond> : U \\<Leftarrow> T \\<Longrightarrow> U = T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t \\<diamond> : U \\<Leftarrow> T \\<Longrightarrow>\n    U = T", "by(cases \\<Gamma> \\<Delta> \"\\<diamond>\" rule: typing_ctxt.cases, fastforce, simp)"], ["proof (state)\nthis:\n  \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t \\<diamond> : U \\<Leftarrow> T \\<Longrightarrow>\n  U = T\n\ngoal (2 subgoals):\n 1. \\<And>U T \\<Gamma> \\<Delta> c.\n       \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t \\<diamond> : U \\<Leftarrow> T \\<Longrightarrow>\n       ctxt_subst \\<diamond> (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n       \\<mu>U:c[0=0 liftM_ctxt \\<diamond> 0]\\<^sup>C\n 2. \\<And>E x2 U T \\<Gamma> \\<Delta> c.\n       \\<lbrakk>\\<And>U T \\<Gamma> \\<Delta> c.\n                   \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : U \\<Leftarrow> T \\<Longrightarrow>\n                   ctxt_subst E (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n                   \\<mu>U:c[0=0 liftM_ctxt E 0]\\<^sup>C;\n        \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E \\<^sup>\\<bullet>\n                                   x2 : U \\<Leftarrow> T\\<rbrakk>\n       \\<Longrightarrow> ctxt_subst (E \\<^sup>\\<bullet> x2)\n                          (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n                         \\<mu>U:c[0=0 liftM_ctxt (E \\<^sup>\\<bullet> x2)\n 0]\\<^sup>C", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. ctxt_subst \\<diamond> (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n    \\<mu>U:c[0=0 liftM_ctxt \\<diamond> 0]\\<^sup>C", "using ContextEmpty"], ["proof (prove)\nusing this:\n  \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t \\<diamond> : U \\<Leftarrow> T\n\ngoal (1 subgoal):\n 1. ctxt_subst \\<diamond> (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n    \\<mu>U:c[0=0 liftM_ctxt \\<diamond> 0]\\<^sup>C", "by (clarsimp dest!: ctxtEmpty_inv simp: ctxt_subst_basecase)"], ["proof (state)\nthis:\n  ctxt_subst \\<diamond> (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n  \\<mu>U:c[0=0 liftM_ctxt \\<diamond> 0]\\<^sup>C\n\ngoal (1 subgoal):\n 1. \\<And>E x2 U T \\<Gamma> \\<Delta> c.\n       \\<lbrakk>\\<And>U T \\<Gamma> \\<Delta> c.\n                   \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : U \\<Leftarrow> T \\<Longrightarrow>\n                   ctxt_subst E (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n                   \\<mu>U:c[0=0 liftM_ctxt E 0]\\<^sup>C;\n        \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E \\<^sup>\\<bullet>\n                                   x2 : U \\<Leftarrow> T\\<rbrakk>\n       \\<Longrightarrow> ctxt_subst (E \\<^sup>\\<bullet> x2)\n                          (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n                         \\<mu>U:c[0=0 liftM_ctxt (E \\<^sup>\\<bullet> x2)\n 0]\\<^sup>C", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>E x2 U T \\<Gamma> \\<Delta> c.\n       \\<lbrakk>\\<And>U T \\<Gamma> \\<Delta> c.\n                   \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : U \\<Leftarrow> T \\<Longrightarrow>\n                   ctxt_subst E (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n                   \\<mu>U:c[0=0 liftM_ctxt E 0]\\<^sup>C;\n        \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E \\<^sup>\\<bullet>\n                                   x2 : U \\<Leftarrow> T\\<rbrakk>\n       \\<Longrightarrow> ctxt_subst (E \\<^sup>\\<bullet> x2)\n                          (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n                         \\<mu>U:c[0=0 liftM_ctxt (E \\<^sup>\\<bullet> x2)\n 0]\\<^sup>C", "case (ContextApp E x)"], ["proof (state)\nthis:\n  ?\\<Gamma> , ?\\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : ?U \\<Leftarrow> ?T \\<Longrightarrow>\n  ctxt_subst E (\\<mu>?T:?c) \\<longlonglongrightarrow>\\<^sup>*\n  \\<mu>?U:?c[0=0 liftM_ctxt E 0]\\<^sup>C\n  \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E \\<^sup>\\<bullet>\n                             x : U \\<Leftarrow> T\n\ngoal (1 subgoal):\n 1. \\<And>E x2 U T \\<Gamma> \\<Delta> c.\n       \\<lbrakk>\\<And>U T \\<Gamma> \\<Delta> c.\n                   \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : U \\<Leftarrow> T \\<Longrightarrow>\n                   ctxt_subst E (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n                   \\<mu>U:c[0=0 liftM_ctxt E 0]\\<^sup>C;\n        \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E \\<^sup>\\<bullet>\n                                   x2 : U \\<Leftarrow> T\\<rbrakk>\n       \\<Longrightarrow> ctxt_subst (E \\<^sup>\\<bullet> x2)\n                          (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n                         \\<mu>U:c[0=0 liftM_ctxt (E \\<^sup>\\<bullet> x2)\n 0]\\<^sup>C", "then"], ["proof (chain)\npicking this:\n  ?\\<Gamma> , ?\\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : ?U \\<Leftarrow> ?T \\<Longrightarrow>\n  ctxt_subst E (\\<mu>?T:?c) \\<longlonglongrightarrow>\\<^sup>*\n  \\<mu>?U:?c[0=0 liftM_ctxt E 0]\\<^sup>C\n  \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E \\<^sup>\\<bullet>\n                             x : U \\<Leftarrow> T", "show ?case"], ["proof (prove)\nusing this:\n  ?\\<Gamma> , ?\\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E : ?U \\<Leftarrow> ?T \\<Longrightarrow>\n  ctxt_subst E (\\<mu>?T:?c) \\<longlonglongrightarrow>\\<^sup>*\n  \\<mu>?U:?c[0=0 liftM_ctxt E 0]\\<^sup>C\n  \\<Gamma> , \\<Delta> \\<turnstile>\\<^sub>c\\<^sub>t\\<^sub>x\\<^sub>t E \\<^sup>\\<bullet>\n                             x : U \\<Leftarrow> T\n\ngoal (1 subgoal):\n 1. ctxt_subst (E \\<^sup>\\<bullet> x)\n     (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n    \\<mu>U:c[0=0 liftM_ctxt (E \\<^sup>\\<bullet> x) 0]\\<^sup>C", "by clarsimp (rule rtc_term_trans, rule rtc_appL, assumption, rule step_term, force, clarsimp simp add: ctxt_subst_caseApp(1))"], ["proof (state)\nthis:\n  ctxt_subst (E \\<^sup>\\<bullet> x)\n   (\\<mu>T:c) \\<longlonglongrightarrow>\\<^sup>*\n  \\<mu>U:c[0=0 liftM_ctxt (E \\<^sup>\\<bullet> x) 0]\\<^sup>C\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}