{"file_name": "/home/qj213/afp-2021-10-22/thys/Posix-Lexing/Simplifying.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Posix-Lexing", "problem_names": ["lemma simp_Times_simps[simp]:\n  \"simp_Times p1 p2 = (if (fst p1 = One) then (fst p2, F_Times1 (snd p1) (snd p2))\n                    else (if (fst p2 = One) then (fst p1, F_Times2 (snd p1) (snd p2))\n                    else (Times (fst p1) (fst p2), F_Times (snd p1) (snd p2))))\"", "lemma simp_Plus_simps[simp]:\n  \"simp_Plus p1 p2 = (if (fst p1 = Zero) then (fst p2, F_RIGHT (snd p2))\n                    else (if (fst p2 = Zero) then (fst p1, F_LEFT (snd p1))\n                    else (Plus (fst p1) (fst p2), F_Plus (snd p1) (snd p2))))\"", "lemma slexer_better_simp:\n  \"slexer r (c#s) = (case (slexer (fst (simp (deriv c r))) s) of  \n                            None \\<Rightarrow> None\n                          | Some(v) \\<Rightarrow> Some(injval r c ((snd (simp (deriv c r))) v)))\"", "lemma L_fst_simp:\n  shows \"lang r = lang (fst (simp r))\"", "lemma Posix_simp:\n  assumes \"s \\<in> (fst (simp r)) \\<rightarrow> v\" \n  shows \"s \\<in> r \\<rightarrow> ((snd (simp r)) v)\"", "lemma slexer_correctness:\n  shows \"slexer r s = lexer r s\""], "translations": [["", "lemma simp_Times_simps[simp]:\n  \"simp_Times p1 p2 = (if (fst p1 = One) then (fst p2, F_Times1 (snd p1) (snd p2))\n                    else (if (fst p2 = One) then (fst p1, F_Times2 (snd p1) (snd p2))\n                    else (Times (fst p1) (fst p2), F_Times (snd p1) (snd p2))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. simp_Times p1 p2 =\n    (if fst p1 = One then (fst p2, F_Times1 (snd p1) (snd p2))\n     else if fst p2 = One then (fst p1, F_Times2 (snd p1) (snd p2))\n          else (Times (fst p1) (fst p2), F_Times (snd p1) (snd p2)))", "by (induct p1 p2 rule: simp_Times.induct) (auto)"], ["", "lemma simp_Plus_simps[simp]:\n  \"simp_Plus p1 p2 = (if (fst p1 = Zero) then (fst p2, F_RIGHT (snd p2))\n                    else (if (fst p2 = Zero) then (fst p1, F_LEFT (snd p1))\n                    else (Plus (fst p1) (fst p2), F_Plus (snd p1) (snd p2))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. simp_Plus p1 p2 =\n    (if fst p1 = Zero then (fst p2, F_RIGHT (snd p2))\n     else if fst p2 = Zero then (fst p1, F_LEFT (snd p1))\n          else (Plus (fst p1) (fst p2), F_Plus (snd p1) (snd p2)))", "by (induct p1 p2 rule: simp_Plus.induct) (auto)"], ["", "fun \n  simp :: \"'a rexp \\<Rightarrow> 'a rexp * ('a val \\<Rightarrow> 'a val)\"\nwhere\n  \"simp (Plus r1 r2) = simp_Plus (simp r1) (simp r2)\" \n| \"simp (Times r1 r2) = simp_Times (simp r1) (simp r2)\" \n| \"simp r = (r, id)\""], ["", "fun \n  slexer :: \"'a rexp \\<Rightarrow> 'a list \\<Rightarrow> ('a val) option\"\nwhere\n  \"slexer r [] = (if nullable r then Some(mkeps r) else None)\"\n| \"slexer r (c#s) = (let (rs, fr) = simp (deriv c r) in\n                         (case (slexer rs s) of  \n                            None \\<Rightarrow> None\n                          | Some(v) \\<Rightarrow> Some(injval r c (fr v))))\""], ["", "lemma slexer_better_simp:\n  \"slexer r (c#s) = (case (slexer (fst (simp (deriv c r))) s) of  \n                            None \\<Rightarrow> None\n                          | Some(v) \\<Rightarrow> Some(injval r c ((snd (simp (deriv c r))) v)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. slexer r (c # s) =\n    (case slexer (fst (simp (deriv c r))) s of None \\<Rightarrow> None\n     | Some v \\<Rightarrow> Some (injval r c (snd (simp (deriv c r)) v)))", "by (auto split: prod.split option.split)"], ["", "lemma L_fst_simp:\n  shows \"lang r = lang (fst (simp r))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lang r = lang (fst (simp r))", "by (induct r) (auto)"], ["", "lemma Posix_simp:\n  assumes \"s \\<in> (fst (simp r)) \\<rightarrow> v\" \n  shows \"s \\<in> r \\<rightarrow> ((snd (simp r)) v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> r \\<rightarrow> snd (simp r) v", "using assms"], ["proof (prove)\nusing this:\n  s \\<in> fst (simp r) \\<rightarrow> v\n\ngoal (1 subgoal):\n 1. s \\<in> r \\<rightarrow> snd (simp r) v", "proof(induct r arbitrary: s v rule: rexp.induct)"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Plus x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus x1\n                                  x2 \\<rightarrow> snd (simp (Plus x1 x2)) v\n 5. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Times x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Times x1\n                                  x2 \\<rightarrow> snd (simp (Times x1 x2))\n              v\n 6. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "case (Plus r1 r2 s v)"], ["proof (state)\nthis:\n  ?s \\<in> fst (simp r1) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r1 \\<rightarrow> snd (simp r1) ?v\n  ?s \\<in> fst (simp r2) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r2 \\<rightarrow> snd (simp r2) ?v\n  s \\<in> fst (simp (Plus r1 r2)) \\<rightarrow> v\n\ngoal (6 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Plus x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus x1\n                                  x2 \\<rightarrow> snd (simp (Plus x1 x2)) v\n 5. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Times x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Times x1\n                                  x2 \\<rightarrow> snd (simp (Times x1 x2))\n              v\n 6. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "have IH1: \"\\<And>s v. s \\<in> fst (simp r1) \\<rightarrow> v \\<Longrightarrow> s \\<in> r1 \\<rightarrow> snd (simp r1) v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s v.\n       s \\<in> fst (simp r1) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> r1 \\<rightarrow> snd (simp r1) v", "by fact"], ["proof (state)\nthis:\n  ?s \\<in> fst (simp r1) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r1 \\<rightarrow> snd (simp r1) ?v\n\ngoal (6 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Plus x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus x1\n                                  x2 \\<rightarrow> snd (simp (Plus x1 x2)) v\n 5. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Times x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Times x1\n                                  x2 \\<rightarrow> snd (simp (Times x1 x2))\n              v\n 6. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "have IH2: \"\\<And>s v. s \\<in> fst (simp r2) \\<rightarrow> v \\<Longrightarrow> s \\<in> r2 \\<rightarrow> snd (simp r2) v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s v.\n       s \\<in> fst (simp r2) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> r2 \\<rightarrow> snd (simp r2) v", "by fact"], ["proof (state)\nthis:\n  ?s \\<in> fst (simp r2) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r2 \\<rightarrow> snd (simp r2) ?v\n\ngoal (6 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Plus x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus x1\n                                  x2 \\<rightarrow> snd (simp (Plus x1 x2)) v\n 5. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Times x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Times x1\n                                  x2 \\<rightarrow> snd (simp (Times x1 x2))\n              v\n 6. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "have as: \"s \\<in> fst (simp (Plus r1 r2)) \\<rightarrow> v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> fst (simp (Plus r1 r2)) \\<rightarrow> v", "by fact"], ["proof (state)\nthis:\n  s \\<in> fst (simp (Plus r1 r2)) \\<rightarrow> v\n\ngoal (6 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Plus x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus x1\n                                  x2 \\<rightarrow> snd (simp (Plus x1 x2)) v\n 5. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Times x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Times x1\n                                  x2 \\<rightarrow> snd (simp (Times x1 x2))\n              v\n 6. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "consider (Zero_Zero) \"fst (simp r1) = Zero\" \"fst (simp r2) = Zero\"\n         | (Zero_NZero) \"fst (simp r1) = Zero\" \"fst (simp r2) \\<noteq> Zero\"\n         | (NZero_Zero) \"fst (simp r1) \\<noteq> Zero\" \"fst (simp r2) = Zero\"\n         | (NZero_NZero) \"fst (simp r1) \\<noteq> Zero\" \"fst (simp r2) \\<noteq> Zero\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>fst (simp r1) = Zero; fst (simp r2) = Zero\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n      fst (simp r2) \\<noteq> Zero\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>\\<lbrakk>fst (simp r1) = Zero; fst (simp r2) = Zero\\<rbrakk>\n           \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n    fst (simp r2) \\<noteq> Zero\\<rbrakk>\n   \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (6 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Plus x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus x1\n                                  x2 \\<rightarrow> snd (simp (Plus x1 x2)) v\n 5. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Times x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Times x1\n                                  x2 \\<rightarrow> snd (simp (Times x1 x2))\n              v\n 6. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<lbrakk>fst (simp r1) = Zero; fst (simp r2) = Zero\\<rbrakk>\n           \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n    fst (simp r2) \\<noteq> Zero\\<rbrakk>\n   \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show \"s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<lbrakk>fst (simp r1) = Zero; fst (simp r2) = Zero\\<rbrakk>\n           \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n    fst (simp r2) \\<noteq> Zero\\<rbrakk>\n   \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "proof(cases)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "case (Zero_Zero)"], ["proof (state)\nthis:\n  fst (simp r1) = Zero\n  fst (simp r2) = Zero\n\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "with as"], ["proof (chain)\npicking this:\n  s \\<in> fst (simp (Plus r1 r2)) \\<rightarrow> v\n  fst (simp r1) = Zero\n  fst (simp r2) = Zero", "have \"s \\<in> Zero \\<rightarrow> v\""], ["proof (prove)\nusing this:\n  s \\<in> fst (simp (Plus r1 r2)) \\<rightarrow> v\n  fst (simp r1) = Zero\n  fst (simp r2) = Zero\n\ngoal (1 subgoal):\n 1. s \\<in> Zero \\<rightarrow> v", "by simp"], ["proof (state)\nthis:\n  s \\<in> Zero \\<rightarrow> v\n\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  s \\<in> Zero \\<rightarrow> v", "show \"s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\""], ["proof (prove)\nusing this:\n  s \\<in> Zero \\<rightarrow> v\n\ngoal (1 subgoal):\n 1. s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "by (rule Posix_elims(1))"], ["proof (state)\nthis:\n  s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "case (Zero_NZero)"], ["proof (state)\nthis:\n  fst (simp r1) = Zero\n  fst (simp r2) \\<noteq> Zero\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "with as"], ["proof (chain)\npicking this:\n  s \\<in> fst (simp (Plus r1 r2)) \\<rightarrow> v\n  fst (simp r1) = Zero\n  fst (simp r2) \\<noteq> Zero", "have \"s \\<in> fst (simp r2) \\<rightarrow> v\""], ["proof (prove)\nusing this:\n  s \\<in> fst (simp (Plus r1 r2)) \\<rightarrow> v\n  fst (simp r1) = Zero\n  fst (simp r2) \\<noteq> Zero\n\ngoal (1 subgoal):\n 1. s \\<in> fst (simp r2) \\<rightarrow> v", "by simp"], ["proof (state)\nthis:\n  s \\<in> fst (simp r2) \\<rightarrow> v\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "with IH2"], ["proof (chain)\npicking this:\n  ?s \\<in> fst (simp r2) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r2 \\<rightarrow> snd (simp r2) ?v\n  s \\<in> fst (simp r2) \\<rightarrow> v", "have \"s \\<in> r2 \\<rightarrow> snd (simp r2) v\""], ["proof (prove)\nusing this:\n  ?s \\<in> fst (simp r2) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r2 \\<rightarrow> snd (simp r2) ?v\n  s \\<in> fst (simp r2) \\<rightarrow> v\n\ngoal (1 subgoal):\n 1. s \\<in> r2 \\<rightarrow> snd (simp r2) v", "by simp"], ["proof (state)\nthis:\n  s \\<in> r2 \\<rightarrow> snd (simp r2) v\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "moreover"], ["proof (state)\nthis:\n  s \\<in> r2 \\<rightarrow> snd (simp r2) v\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "from Zero_NZero"], ["proof (chain)\npicking this:\n  fst (simp r1) = Zero\n  fst (simp r2) \\<noteq> Zero", "have \"fst (simp r1) = Zero\""], ["proof (prove)\nusing this:\n  fst (simp r1) = Zero\n  fst (simp r2) \\<noteq> Zero\n\ngoal (1 subgoal):\n 1. fst (simp r1) = Zero", "by simp"], ["proof (state)\nthis:\n  fst (simp r1) = Zero\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  fst (simp r1) = Zero", "have \"lang (fst (simp r1)) = {}\""], ["proof (prove)\nusing this:\n  fst (simp r1) = Zero\n\ngoal (1 subgoal):\n 1. lang (fst (simp r1)) = {}", "by simp"], ["proof (state)\nthis:\n  lang (fst (simp r1)) = {}\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  lang (fst (simp r1)) = {}", "have \"lang r1 = {}\""], ["proof (prove)\nusing this:\n  lang (fst (simp r1)) = {}\n\ngoal (1 subgoal):\n 1. lang r1 = {}", "using L_fst_simp"], ["proof (prove)\nusing this:\n  lang (fst (simp r1)) = {}\n  lang ?r = lang (fst (simp ?r))\n\ngoal (1 subgoal):\n 1. lang r1 = {}", "by auto"], ["proof (state)\nthis:\n  lang r1 = {}\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  lang r1 = {}", "have \"s \\<notin> lang r1\""], ["proof (prove)\nusing this:\n  lang r1 = {}\n\ngoal (1 subgoal):\n 1. s \\<notin> lang r1", "by simp"], ["proof (state)\nthis:\n  s \\<notin> lang r1\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "ultimately"], ["proof (chain)\npicking this:\n  s \\<in> r2 \\<rightarrow> snd (simp r2) v\n  s \\<notin> lang r1", "have \"s \\<in> Plus r1 r2 \\<rightarrow> Right (snd (simp r2) v)\""], ["proof (prove)\nusing this:\n  s \\<in> r2 \\<rightarrow> snd (simp r2) v\n  s \\<notin> lang r1\n\ngoal (1 subgoal):\n 1. s \\<in> Plus r1 r2 \\<rightarrow> val.Right (snd (simp r2) v)", "by (rule Posix_Plus2)"], ["proof (state)\nthis:\n  s \\<in> Plus r1 r2 \\<rightarrow> val.Right (snd (simp r2) v)\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = Zero; fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  s \\<in> Plus r1 r2 \\<rightarrow> val.Right (snd (simp r2) v)", "show \"s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\""], ["proof (prove)\nusing this:\n  s \\<in> Plus r1 r2 \\<rightarrow> val.Right (snd (simp r2) v)\n\ngoal (1 subgoal):\n 1. s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "using Zero_NZero"], ["proof (prove)\nusing this:\n  s \\<in> Plus r1 r2 \\<rightarrow> val.Right (snd (simp r2) v)\n  fst (simp r1) = Zero\n  fst (simp r2) \\<noteq> Zero\n\ngoal (1 subgoal):\n 1. s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "by simp"], ["proof (state)\nthis:\n  s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "case (NZero_Zero)"], ["proof (state)\nthis:\n  fst (simp r1) \\<noteq> Zero\n  fst (simp r2) = Zero\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "with as"], ["proof (chain)\npicking this:\n  s \\<in> fst (simp (Plus r1 r2)) \\<rightarrow> v\n  fst (simp r1) \\<noteq> Zero\n  fst (simp r2) = Zero", "have \"s \\<in> fst (simp r1) \\<rightarrow> v\""], ["proof (prove)\nusing this:\n  s \\<in> fst (simp (Plus r1 r2)) \\<rightarrow> v\n  fst (simp r1) \\<noteq> Zero\n  fst (simp r2) = Zero\n\ngoal (1 subgoal):\n 1. s \\<in> fst (simp r1) \\<rightarrow> v", "by simp"], ["proof (state)\nthis:\n  s \\<in> fst (simp r1) \\<rightarrow> v\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "with IH1"], ["proof (chain)\npicking this:\n  ?s \\<in> fst (simp r1) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r1 \\<rightarrow> snd (simp r1) ?v\n  s \\<in> fst (simp r1) \\<rightarrow> v", "have \"s \\<in> r1 \\<rightarrow> snd (simp r1) v\""], ["proof (prove)\nusing this:\n  ?s \\<in> fst (simp r1) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r1 \\<rightarrow> snd (simp r1) ?v\n  s \\<in> fst (simp r1) \\<rightarrow> v\n\ngoal (1 subgoal):\n 1. s \\<in> r1 \\<rightarrow> snd (simp r1) v", "by simp"], ["proof (state)\nthis:\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v", "have \"s \\<in> Plus r1 r2 \\<rightarrow> Left (snd (simp r1) v)\""], ["proof (prove)\nusing this:\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v\n\ngoal (1 subgoal):\n 1. s \\<in> Plus r1 r2 \\<rightarrow> val.Left (snd (simp r1) v)", "by (rule Posix_Plus1)"], ["proof (state)\nthis:\n  s \\<in> Plus r1 r2 \\<rightarrow> val.Left (snd (simp r1) v)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> Zero; fst (simp r2) = Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  s \\<in> Plus r1 r2 \\<rightarrow> val.Left (snd (simp r1) v)", "show \"s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\""], ["proof (prove)\nusing this:\n  s \\<in> Plus r1 r2 \\<rightarrow> val.Left (snd (simp r1) v)\n\ngoal (1 subgoal):\n 1. s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "using NZero_Zero"], ["proof (prove)\nusing this:\n  s \\<in> Plus r1 r2 \\<rightarrow> val.Left (snd (simp r1) v)\n  fst (simp r1) \\<noteq> Zero\n  fst (simp r2) = Zero\n\ngoal (1 subgoal):\n 1. s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "by simp"], ["proof (state)\nthis:\n  s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n\ngoal (1 subgoal):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "case (NZero_NZero)"], ["proof (state)\nthis:\n  fst (simp r1) \\<noteq> Zero\n  fst (simp r2) \\<noteq> Zero\n\ngoal (1 subgoal):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "with as"], ["proof (chain)\npicking this:\n  s \\<in> fst (simp (Plus r1 r2)) \\<rightarrow> v\n  fst (simp r1) \\<noteq> Zero\n  fst (simp r2) \\<noteq> Zero", "have \"s \\<in> Plus (fst (simp r1)) (fst (simp r2)) \\<rightarrow> v\""], ["proof (prove)\nusing this:\n  s \\<in> fst (simp (Plus r1 r2)) \\<rightarrow> v\n  fst (simp r1) \\<noteq> Zero\n  fst (simp r2) \\<noteq> Zero\n\ngoal (1 subgoal):\n 1. s \\<in> Plus (fst (simp r1)) (fst (simp r2)) \\<rightarrow> v", "by simp"], ["proof (state)\nthis:\n  s \\<in> Plus (fst (simp r1)) (fst (simp r2)) \\<rightarrow> v\n\ngoal (1 subgoal):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  s \\<in> Plus (fst (simp r1)) (fst (simp r2)) \\<rightarrow> v", "consider (Left) v1 where \"v = Left v1\" \"s \\<in> (fst (simp r1)) \\<rightarrow> v1\"\n                  | (Right) v2 where \"v = Right v2\" \"s \\<in> (fst (simp r2)) \\<rightarrow> v2\" \"s \\<notin> lang (fst (simp r1))\""], ["proof (prove)\nusing this:\n  s \\<in> Plus (fst (simp r1)) (fst (simp r2)) \\<rightarrow> v\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>v1.\n                \\<lbrakk>v = val.Left v1;\n                 s \\<in> fst (simp r1) \\<rightarrow> v1\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<And>v2.\n        \\<lbrakk>v = val.Right v2; s \\<in> fst (simp r2) \\<rightarrow> v2;\n         s \\<notin> lang (fst (simp r1))\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by (erule_tac Posix_elims(4))"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>v1.\n              \\<lbrakk>v = val.Left v1;\n               s \\<in> fst (simp r1) \\<rightarrow> v1\\<rbrakk>\n              \\<Longrightarrow> ?thesis;\n   \\<And>v2.\n      \\<lbrakk>v = val.Right v2; s \\<in> fst (simp r2) \\<rightarrow> v2;\n       s \\<notin> lang (fst (simp r1))\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> Zero;\n     fst (simp r2) \\<noteq> Zero\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Plus r1\n                               r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>v1.\n              \\<lbrakk>v = val.Left v1;\n               s \\<in> fst (simp r1) \\<rightarrow> v1\\<rbrakk>\n              \\<Longrightarrow> ?thesis;\n   \\<And>v2.\n      \\<lbrakk>v = val.Right v2; s \\<in> fst (simp r2) \\<rightarrow> v2;\n       s \\<notin> lang (fst (simp r1))\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show \"s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>v1.\n              \\<lbrakk>v = val.Left v1;\n               s \\<in> fst (simp r1) \\<rightarrow> v1\\<rbrakk>\n              \\<Longrightarrow> ?thesis;\n   \\<And>v2.\n      \\<lbrakk>v = val.Right v2; s \\<in> fst (simp r2) \\<rightarrow> v2;\n       s \\<notin> lang (fst (simp r1))\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "proof(cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v1.\n       \\<lbrakk>v = val.Left v1;\n        s \\<in> fst (simp r1) \\<rightarrow> v1\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus r1\n                                  r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<And>v2.\n       \\<lbrakk>v = val.Right v2; s \\<in> fst (simp r2) \\<rightarrow> v2;\n        s \\<notin> lang (fst (simp r1))\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus r1\n                                  r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "case (Left)"], ["proof (state)\nthis:\n  v = val.Left v1\n  s \\<in> fst (simp r1) \\<rightarrow> v1\n\ngoal (2 subgoals):\n 1. \\<And>v1.\n       \\<lbrakk>v = val.Left v1;\n        s \\<in> fst (simp r1) \\<rightarrow> v1\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus r1\n                                  r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<And>v2.\n       \\<lbrakk>v = val.Right v2; s \\<in> fst (simp r2) \\<rightarrow> v2;\n        s \\<notin> lang (fst (simp r1))\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus r1\n                                  r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  v = val.Left v1\n  s \\<in> fst (simp r1) \\<rightarrow> v1", "have \"v = Left v1\" \"s \\<in> r1 \\<rightarrow> (snd (simp r1) v1)\""], ["proof (prove)\nusing this:\n  v = val.Left v1\n  s \\<in> fst (simp r1) \\<rightarrow> v1\n\ngoal (1 subgoal):\n 1. v = val.Left v1 &&& s \\<in> r1 \\<rightarrow> snd (simp r1) v1", "using IH1"], ["proof (prove)\nusing this:\n  v = val.Left v1\n  s \\<in> fst (simp r1) \\<rightarrow> v1\n  ?s \\<in> fst (simp r1) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r1 \\<rightarrow> snd (simp r1) ?v\n\ngoal (1 subgoal):\n 1. v = val.Left v1 &&& s \\<in> r1 \\<rightarrow> snd (simp r1) v1", "by simp_all"], ["proof (state)\nthis:\n  v = val.Left v1\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v1\n\ngoal (2 subgoals):\n 1. \\<And>v1.\n       \\<lbrakk>v = val.Left v1;\n        s \\<in> fst (simp r1) \\<rightarrow> v1\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus r1\n                                  r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n 2. \\<And>v2.\n       \\<lbrakk>v = val.Right v2; s \\<in> fst (simp r2) \\<rightarrow> v2;\n        s \\<notin> lang (fst (simp r1))\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus r1\n                                  r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  v = val.Left v1\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v1", "show \"s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\""], ["proof (prove)\nusing this:\n  v = val.Left v1\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v1\n\ngoal (1 subgoal):\n 1. s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "using NZero_NZero"], ["proof (prove)\nusing this:\n  v = val.Left v1\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v1\n  fst (simp r1) \\<noteq> Zero\n  fst (simp r2) \\<noteq> Zero\n\ngoal (1 subgoal):\n 1. s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "by (simp_all add: Posix_Plus1)"], ["proof (state)\nthis:\n  s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n\ngoal (1 subgoal):\n 1. \\<And>v2.\n       \\<lbrakk>v = val.Right v2; s \\<in> fst (simp r2) \\<rightarrow> v2;\n        s \\<notin> lang (fst (simp r1))\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus r1\n                                  r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v2.\n       \\<lbrakk>v = val.Right v2; s \\<in> fst (simp r2) \\<rightarrow> v2;\n        s \\<notin> lang (fst (simp r1))\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus r1\n                                  r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "case (Right)"], ["proof (state)\nthis:\n  v = val.Right v2\n  s \\<in> fst (simp r2) \\<rightarrow> v2\n  s \\<notin> lang (fst (simp r1))\n\ngoal (1 subgoal):\n 1. \\<And>v2.\n       \\<lbrakk>v = val.Right v2; s \\<in> fst (simp r2) \\<rightarrow> v2;\n        s \\<notin> lang (fst (simp r1))\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus r1\n                                  r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  v = val.Right v2\n  s \\<in> fst (simp r2) \\<rightarrow> v2\n  s \\<notin> lang (fst (simp r1))", "have \"v = Right v2\" \"s \\<in> r2 \\<rightarrow> (snd (simp r2) v2)\" \"s \\<notin> lang r1\""], ["proof (prove)\nusing this:\n  v = val.Right v2\n  s \\<in> fst (simp r2) \\<rightarrow> v2\n  s \\<notin> lang (fst (simp r1))\n\ngoal (1 subgoal):\n 1. v = val.Right v2 &&&\n    s \\<in> r2 \\<rightarrow> snd (simp r2) v2 &&& s \\<notin> lang r1", "using IH2 L_fst_simp"], ["proof (prove)\nusing this:\n  v = val.Right v2\n  s \\<in> fst (simp r2) \\<rightarrow> v2\n  s \\<notin> lang (fst (simp r1))\n  ?s \\<in> fst (simp r2) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r2 \\<rightarrow> snd (simp r2) ?v\n  lang ?r = lang (fst (simp ?r))\n\ngoal (1 subgoal):\n 1. v = val.Right v2 &&&\n    s \\<in> r2 \\<rightarrow> snd (simp r2) v2 &&& s \\<notin> lang r1", "by auto"], ["proof (state)\nthis:\n  v = val.Right v2\n  s \\<in> r2 \\<rightarrow> snd (simp r2) v2\n  s \\<notin> lang r1\n\ngoal (1 subgoal):\n 1. \\<And>v2.\n       \\<lbrakk>v = val.Right v2; s \\<in> fst (simp r2) \\<rightarrow> v2;\n        s \\<notin> lang (fst (simp r1))\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Plus r1\n                                  r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  v = val.Right v2\n  s \\<in> r2 \\<rightarrow> snd (simp r2) v2\n  s \\<notin> lang r1", "show \"s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\""], ["proof (prove)\nusing this:\n  v = val.Right v2\n  s \\<in> r2 \\<rightarrow> snd (simp r2) v2\n  s \\<notin> lang r1\n\ngoal (1 subgoal):\n 1. s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "using NZero_NZero"], ["proof (prove)\nusing this:\n  v = val.Right v2\n  s \\<in> r2 \\<rightarrow> snd (simp r2) v2\n  s \\<notin> lang r1\n  fst (simp r1) \\<noteq> Zero\n  fst (simp r2) \\<noteq> Zero\n\ngoal (1 subgoal):\n 1. s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v", "by (simp_all add: Posix_Plus2)"], ["proof (state)\nthis:\n  s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s \\<in> Plus r1 r2 \\<rightarrow> snd (simp (Plus r1 r2)) v\n\ngoal (5 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Times x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Times x1\n                                  x2 \\<rightarrow> snd (simp (Times x1 x2))\n              v\n 5. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Times x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Times x1\n                                  x2 \\<rightarrow> snd (simp (Times x1 x2))\n              v\n 5. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "case (Times r1 r2 s v)"], ["proof (state)\nthis:\n  ?s \\<in> fst (simp r1) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r1 \\<rightarrow> snd (simp r1) ?v\n  ?s \\<in> fst (simp r2) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r2 \\<rightarrow> snd (simp r2) ?v\n  s \\<in> fst (simp (Times r1 r2)) \\<rightarrow> v\n\ngoal (5 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Times x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Times x1\n                                  x2 \\<rightarrow> snd (simp (Times x1 x2))\n              v\n 5. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "have IH1: \"\\<And>s v. s \\<in> fst (simp r1) \\<rightarrow> v \\<Longrightarrow> s \\<in> r1 \\<rightarrow> snd (simp r1) v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s v.\n       s \\<in> fst (simp r1) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> r1 \\<rightarrow> snd (simp r1) v", "by fact"], ["proof (state)\nthis:\n  ?s \\<in> fst (simp r1) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r1 \\<rightarrow> snd (simp r1) ?v\n\ngoal (5 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Times x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Times x1\n                                  x2 \\<rightarrow> snd (simp (Times x1 x2))\n              v\n 5. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "have IH2: \"\\<And>s v. s \\<in> fst (simp r2) \\<rightarrow> v \\<Longrightarrow> s \\<in> r2 \\<rightarrow> snd (simp r2) v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s v.\n       s \\<in> fst (simp r2) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> r2 \\<rightarrow> snd (simp r2) v", "by fact"], ["proof (state)\nthis:\n  ?s \\<in> fst (simp r2) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r2 \\<rightarrow> snd (simp r2) ?v\n\ngoal (5 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Times x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Times x1\n                                  x2 \\<rightarrow> snd (simp (Times x1 x2))\n              v\n 5. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "have as: \"s \\<in> fst (simp (Times r1 r2)) \\<rightarrow> v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> fst (simp (Times r1 r2)) \\<rightarrow> v", "by fact"], ["proof (state)\nthis:\n  s \\<in> fst (simp (Times r1 r2)) \\<rightarrow> v\n\ngoal (5 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Times x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Times x1\n                                  x2 \\<rightarrow> snd (simp (Times x1 x2))\n              v\n 5. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "consider (One_One) \"fst (simp r1) = One\" \"fst (simp r2) = One\"\n         | (One_NOne) \"fst (simp r1) = One\" \"fst (simp r2) \\<noteq> One\"\n         | (NOne_One) \"fst (simp r1) \\<noteq> One\" \"fst (simp r2) = One\"\n         | (NOne_NOne) \"fst (simp r1) \\<noteq> One\" \"fst (simp r2) \\<noteq> One\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<lbrakk>fst (simp r1) \\<noteq> One;\n      fst (simp r2) \\<noteq> One\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>\\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n           \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n   \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (5 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x1 x2 s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x1) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x1 \\<rightarrow> snd (simp x1) v;\n        \\<And>s v.\n           s \\<in> fst (simp x2) \\<rightarrow> v \\<Longrightarrow>\n           s \\<in> x2 \\<rightarrow> snd (simp x2) v;\n        s \\<in> fst (simp (Times x1 x2)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Times x1\n                                  x2 \\<rightarrow> snd (simp (Times x1 x2))\n              v\n 5. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n           \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n   \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show \"s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n           \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n   \\<Longrightarrow> ?thesis;\n   \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n   \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "proof(cases)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "case (One_One)"], ["proof (state)\nthis:\n  fst (simp r1) = One\n  fst (simp r2) = One\n\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "with as"], ["proof (chain)\npicking this:\n  s \\<in> fst (simp (Times r1 r2)) \\<rightarrow> v\n  fst (simp r1) = One\n  fst (simp r2) = One", "have b: \"s \\<in> One \\<rightarrow> v\""], ["proof (prove)\nusing this:\n  s \\<in> fst (simp (Times r1 r2)) \\<rightarrow> v\n  fst (simp r1) = One\n  fst (simp r2) = One\n\ngoal (1 subgoal):\n 1. s \\<in> One \\<rightarrow> v", "by simp"], ["proof (state)\nthis:\n  s \\<in> One \\<rightarrow> v\n\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "from b"], ["proof (chain)\npicking this:\n  s \\<in> One \\<rightarrow> v", "have \"s \\<in> r1 \\<rightarrow> snd (simp r1) v\""], ["proof (prove)\nusing this:\n  s \\<in> One \\<rightarrow> v\n\ngoal (1 subgoal):\n 1. s \\<in> r1 \\<rightarrow> snd (simp r1) v", "using IH1 One_One"], ["proof (prove)\nusing this:\n  s \\<in> One \\<rightarrow> v\n  ?s \\<in> fst (simp r1) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r1 \\<rightarrow> snd (simp r1) ?v\n  fst (simp r1) = One\n  fst (simp r2) = One\n\ngoal (1 subgoal):\n 1. s \\<in> r1 \\<rightarrow> snd (simp r1) v", "by simp"], ["proof (state)\nthis:\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v\n\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "moreover"], ["proof (state)\nthis:\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v\n\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "from b"], ["proof (chain)\npicking this:\n  s \\<in> One \\<rightarrow> v", "have c: \"s = []\" \"v = Void\""], ["proof (prove)\nusing this:\n  s \\<in> One \\<rightarrow> v\n\ngoal (1 subgoal):\n 1. s = [] &&& v = Void", "using Posix_elims(2)"], ["proof (prove)\nusing this:\n  s \\<in> One \\<rightarrow> v\n  \\<lbrakk>?s \\<in> One \\<rightarrow> ?v;\n   \\<lbrakk>?s = []; ?v = Void\\<rbrakk> \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n\ngoal (1 subgoal):\n 1. s = [] &&& v = Void", "by auto"], ["proof (state)\nthis:\n  s = []\n  v = Void\n\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "moreover"], ["proof (state)\nthis:\n  s = []\n  v = Void\n\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "have \"[] \\<in> One \\<rightarrow> Void\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [] \\<in> One \\<rightarrow> Void", "by (simp add: Posix_One)"], ["proof (state)\nthis:\n  [] \\<in> One \\<rightarrow> Void\n\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  [] \\<in> One \\<rightarrow> Void", "have \"[] \\<in> fst (simp r2) \\<rightarrow> Void\""], ["proof (prove)\nusing this:\n  [] \\<in> One \\<rightarrow> Void\n\ngoal (1 subgoal):\n 1. [] \\<in> fst (simp r2) \\<rightarrow> Void", "using One_One"], ["proof (prove)\nusing this:\n  [] \\<in> One \\<rightarrow> Void\n  fst (simp r1) = One\n  fst (simp r2) = One\n\ngoal (1 subgoal):\n 1. [] \\<in> fst (simp r2) \\<rightarrow> Void", "by simp"], ["proof (state)\nthis:\n  [] \\<in> fst (simp r2) \\<rightarrow> Void\n\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  [] \\<in> fst (simp r2) \\<rightarrow> Void", "have \"[] \\<in> r2 \\<rightarrow> snd (simp r2) Void\""], ["proof (prove)\nusing this:\n  [] \\<in> fst (simp r2) \\<rightarrow> Void\n\ngoal (1 subgoal):\n 1. [] \\<in> r2 \\<rightarrow> snd (simp r2) Void", "using IH2"], ["proof (prove)\nusing this:\n  [] \\<in> fst (simp r2) \\<rightarrow> Void\n  ?s \\<in> fst (simp r2) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r2 \\<rightarrow> snd (simp r2) ?v\n\ngoal (1 subgoal):\n 1. [] \\<in> r2 \\<rightarrow> snd (simp r2) Void", "by simp"], ["proof (state)\nthis:\n  [] \\<in> r2 \\<rightarrow> snd (simp r2) Void\n\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "ultimately"], ["proof (chain)\npicking this:\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v\n  s = []\n  v = Void\n  [] \\<in> r2 \\<rightarrow> snd (simp r2) Void", "have \"([] @ []) \\<in> Times r1 r2 \\<rightarrow> Seq (snd (simp r1) Void) (snd (simp r2) Void)\""], ["proof (prove)\nusing this:\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v\n  s = []\n  v = Void\n  [] \\<in> r2 \\<rightarrow> snd (simp r2) Void\n\ngoal (1 subgoal):\n 1. ([] @\n     []) \\<in> Times r1\n                r2 \\<rightarrow> Seq (snd (simp r1) Void)\n                                  (snd (simp r2) Void)", "using Posix_Times"], ["proof (prove)\nusing this:\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v\n  s = []\n  v = Void\n  [] \\<in> r2 \\<rightarrow> snd (simp r2) Void\n  \\<lbrakk>?s1.0 \\<in> ?r1.0 \\<rightarrow> ?v1.0;\n   ?s2.0 \\<in> ?r2.0 \\<rightarrow> ?v2.0;\n   \\<nexists>s\\<^sub>3 s\\<^sub>4.\n      s\\<^sub>3 \\<noteq> [] \\<and>\n      s\\<^sub>3 @ s\\<^sub>4 = ?s2.0 \\<and>\n      ?s1.0 @ s\\<^sub>3 \\<in> lang ?r1.0 \\<and>\n      s\\<^sub>4 \\<in> lang ?r2.0\\<rbrakk>\n  \\<Longrightarrow> (?s1.0 @\n                     ?s2.0) \\<in> Times ?r1.0\n                                   ?r2.0 \\<rightarrow> Seq ?v1.0 ?v2.0\n\ngoal (1 subgoal):\n 1. ([] @\n     []) \\<in> Times r1\n                r2 \\<rightarrow> Seq (snd (simp r1) Void)\n                                  (snd (simp r2) Void)", "by blast"], ["proof (state)\nthis:\n  ([] @\n   []) \\<in> Times r1\n              r2 \\<rightarrow> Seq (snd (simp r1) Void) (snd (simp r2) Void)\n\ngoal (4 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 4. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  ([] @\n   []) \\<in> Times r1\n              r2 \\<rightarrow> Seq (snd (simp r1) Void) (snd (simp r2) Void)", "show \"s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v\""], ["proof (prove)\nusing this:\n  ([] @\n   []) \\<in> Times r1\n              r2 \\<rightarrow> Seq (snd (simp r1) Void) (snd (simp r2) Void)\n\ngoal (1 subgoal):\n 1. s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "using c One_One"], ["proof (prove)\nusing this:\n  ([] @\n   []) \\<in> Times r1\n              r2 \\<rightarrow> Seq (snd (simp r1) Void) (snd (simp r2) Void)\n  s = []\n  v = Void\n  fst (simp r1) = One\n  fst (simp r2) = One\n\ngoal (1 subgoal):\n 1. s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "by simp"], ["proof (state)\nthis:\n  s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "case (One_NOne)"], ["proof (state)\nthis:\n  fst (simp r1) = One\n  fst (simp r2) \\<noteq> One\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "with as"], ["proof (chain)\npicking this:\n  s \\<in> fst (simp (Times r1 r2)) \\<rightarrow> v\n  fst (simp r1) = One\n  fst (simp r2) \\<noteq> One", "have b: \"s \\<in> fst (simp r2) \\<rightarrow> v\""], ["proof (prove)\nusing this:\n  s \\<in> fst (simp (Times r1 r2)) \\<rightarrow> v\n  fst (simp r1) = One\n  fst (simp r2) \\<noteq> One\n\ngoal (1 subgoal):\n 1. s \\<in> fst (simp r2) \\<rightarrow> v", "by simp"], ["proof (state)\nthis:\n  s \\<in> fst (simp r2) \\<rightarrow> v\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "from b"], ["proof (chain)\npicking this:\n  s \\<in> fst (simp r2) \\<rightarrow> v", "have \"s \\<in> r2 \\<rightarrow> snd (simp r2) v\""], ["proof (prove)\nusing this:\n  s \\<in> fst (simp r2) \\<rightarrow> v\n\ngoal (1 subgoal):\n 1. s \\<in> r2 \\<rightarrow> snd (simp r2) v", "using IH2 One_NOne"], ["proof (prove)\nusing this:\n  s \\<in> fst (simp r2) \\<rightarrow> v\n  ?s \\<in> fst (simp r2) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r2 \\<rightarrow> snd (simp r2) ?v\n  fst (simp r1) = One\n  fst (simp r2) \\<noteq> One\n\ngoal (1 subgoal):\n 1. s \\<in> r2 \\<rightarrow> snd (simp r2) v", "by simp"], ["proof (state)\nthis:\n  s \\<in> r2 \\<rightarrow> snd (simp r2) v\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "moreover"], ["proof (state)\nthis:\n  s \\<in> r2 \\<rightarrow> snd (simp r2) v\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "have \"[] \\<in> One \\<rightarrow> Void\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [] \\<in> One \\<rightarrow> Void", "by (simp add: Posix_One)"], ["proof (state)\nthis:\n  [] \\<in> One \\<rightarrow> Void\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  [] \\<in> One \\<rightarrow> Void", "have \"[] \\<in> fst (simp r1) \\<rightarrow> Void\""], ["proof (prove)\nusing this:\n  [] \\<in> One \\<rightarrow> Void\n\ngoal (1 subgoal):\n 1. [] \\<in> fst (simp r1) \\<rightarrow> Void", "using One_NOne"], ["proof (prove)\nusing this:\n  [] \\<in> One \\<rightarrow> Void\n  fst (simp r1) = One\n  fst (simp r2) \\<noteq> One\n\ngoal (1 subgoal):\n 1. [] \\<in> fst (simp r1) \\<rightarrow> Void", "by simp"], ["proof (state)\nthis:\n  [] \\<in> fst (simp r1) \\<rightarrow> Void\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  [] \\<in> fst (simp r1) \\<rightarrow> Void", "have \"[] \\<in> r1 \\<rightarrow> snd (simp r1) Void\""], ["proof (prove)\nusing this:\n  [] \\<in> fst (simp r1) \\<rightarrow> Void\n\ngoal (1 subgoal):\n 1. [] \\<in> r1 \\<rightarrow> snd (simp r1) Void", "using IH1"], ["proof (prove)\nusing this:\n  [] \\<in> fst (simp r1) \\<rightarrow> Void\n  ?s \\<in> fst (simp r1) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r1 \\<rightarrow> snd (simp r1) ?v\n\ngoal (1 subgoal):\n 1. [] \\<in> r1 \\<rightarrow> snd (simp r1) Void", "by simp"], ["proof (state)\nthis:\n  [] \\<in> r1 \\<rightarrow> snd (simp r1) Void\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "moreover"], ["proof (state)\nthis:\n  [] \\<in> r1 \\<rightarrow> snd (simp r1) Void\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "from One_NOne(1)"], ["proof (chain)\npicking this:\n  fst (simp r1) = One", "have \"lang (fst (simp r1)) = {[]}\""], ["proof (prove)\nusing this:\n  fst (simp r1) = One\n\ngoal (1 subgoal):\n 1. lang (fst (simp r1)) = {[]}", "by simp"], ["proof (state)\nthis:\n  lang (fst (simp r1)) = {[]}\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  lang (fst (simp r1)) = {[]}", "have \"lang r1 = {[]}\""], ["proof (prove)\nusing this:\n  lang (fst (simp r1)) = {[]}\n\ngoal (1 subgoal):\n 1. lang r1 = {[]}", "by (simp add: L_fst_simp[symmetric])"], ["proof (state)\nthis:\n  lang r1 = {[]}\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "ultimately"], ["proof (chain)\npicking this:\n  s \\<in> r2 \\<rightarrow> snd (simp r2) v\n  [] \\<in> r1 \\<rightarrow> snd (simp r1) Void\n  lang r1 = {[]}", "have \"([] @ s) \\<in> Times r1 r2 \\<rightarrow> Seq (snd (simp r1) Void) (snd (simp r2) v)\""], ["proof (prove)\nusing this:\n  s \\<in> r2 \\<rightarrow> snd (simp r2) v\n  [] \\<in> r1 \\<rightarrow> snd (simp r1) Void\n  lang r1 = {[]}\n\ngoal (1 subgoal):\n 1. ([] @\n     s) \\<in> Times r1\n               r2 \\<rightarrow> Seq (snd (simp r1) Void) (snd (simp r2) v)", "by(rule_tac Posix_Times) auto"], ["proof (state)\nthis:\n  ([] @\n   s) \\<in> Times r1\n             r2 \\<rightarrow> Seq (snd (simp r1) Void) (snd (simp r2) v)\n\ngoal (3 subgoals):\n 1. \\<lbrakk>fst (simp r1) = One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 3. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  ([] @\n   s) \\<in> Times r1\n             r2 \\<rightarrow> Seq (snd (simp r1) Void) (snd (simp r2) v)", "show \"s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v\""], ["proof (prove)\nusing this:\n  ([] @\n   s) \\<in> Times r1\n             r2 \\<rightarrow> Seq (snd (simp r1) Void) (snd (simp r2) v)\n\ngoal (1 subgoal):\n 1. s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "using One_NOne"], ["proof (prove)\nusing this:\n  ([] @\n   s) \\<in> Times r1\n             r2 \\<rightarrow> Seq (snd (simp r1) Void) (snd (simp r2) v)\n  fst (simp r1) = One\n  fst (simp r2) \\<noteq> One\n\ngoal (1 subgoal):\n 1. s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "by simp"], ["proof (state)\nthis:\n  s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "case (NOne_One)"], ["proof (state)\nthis:\n  fst (simp r1) \\<noteq> One\n  fst (simp r2) = One\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "with as"], ["proof (chain)\npicking this:\n  s \\<in> fst (simp (Times r1 r2)) \\<rightarrow> v\n  fst (simp r1) \\<noteq> One\n  fst (simp r2) = One", "have \"s \\<in> fst (simp r1) \\<rightarrow> v\""], ["proof (prove)\nusing this:\n  s \\<in> fst (simp (Times r1 r2)) \\<rightarrow> v\n  fst (simp r1) \\<noteq> One\n  fst (simp r2) = One\n\ngoal (1 subgoal):\n 1. s \\<in> fst (simp r1) \\<rightarrow> v", "by simp"], ["proof (state)\nthis:\n  s \\<in> fst (simp r1) \\<rightarrow> v\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "with IH1"], ["proof (chain)\npicking this:\n  ?s \\<in> fst (simp r1) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r1 \\<rightarrow> snd (simp r1) ?v\n  s \\<in> fst (simp r1) \\<rightarrow> v", "have \"s \\<in> r1 \\<rightarrow> snd (simp r1) v\""], ["proof (prove)\nusing this:\n  ?s \\<in> fst (simp r1) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r1 \\<rightarrow> snd (simp r1) ?v\n  s \\<in> fst (simp r1) \\<rightarrow> v\n\ngoal (1 subgoal):\n 1. s \\<in> r1 \\<rightarrow> snd (simp r1) v", "by simp"], ["proof (state)\nthis:\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "moreover"], ["proof (state)\nthis:\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "have \"[] \\<in> One \\<rightarrow> Void\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [] \\<in> One \\<rightarrow> Void", "by (simp add: Posix_One)"], ["proof (state)\nthis:\n  [] \\<in> One \\<rightarrow> Void\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  [] \\<in> One \\<rightarrow> Void", "have \"[] \\<in> fst (simp r2) \\<rightarrow> Void\""], ["proof (prove)\nusing this:\n  [] \\<in> One \\<rightarrow> Void\n\ngoal (1 subgoal):\n 1. [] \\<in> fst (simp r2) \\<rightarrow> Void", "using NOne_One"], ["proof (prove)\nusing this:\n  [] \\<in> One \\<rightarrow> Void\n  fst (simp r1) \\<noteq> One\n  fst (simp r2) = One\n\ngoal (1 subgoal):\n 1. [] \\<in> fst (simp r2) \\<rightarrow> Void", "by simp"], ["proof (state)\nthis:\n  [] \\<in> fst (simp r2) \\<rightarrow> Void\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  [] \\<in> fst (simp r2) \\<rightarrow> Void", "have \"[] \\<in> r2 \\<rightarrow> snd (simp r2) Void\""], ["proof (prove)\nusing this:\n  [] \\<in> fst (simp r2) \\<rightarrow> Void\n\ngoal (1 subgoal):\n 1. [] \\<in> r2 \\<rightarrow> snd (simp r2) Void", "using IH2"], ["proof (prove)\nusing this:\n  [] \\<in> fst (simp r2) \\<rightarrow> Void\n  ?s \\<in> fst (simp r2) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r2 \\<rightarrow> snd (simp r2) ?v\n\ngoal (1 subgoal):\n 1. [] \\<in> r2 \\<rightarrow> snd (simp r2) Void", "by simp"], ["proof (state)\nthis:\n  [] \\<in> r2 \\<rightarrow> snd (simp r2) Void\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "ultimately"], ["proof (chain)\npicking this:\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v\n  [] \\<in> r2 \\<rightarrow> snd (simp r2) Void", "have \"(s @ []) \\<in> Times r1 r2 \\<rightarrow> Seq (snd (simp r1) v) (snd (simp r2) Void)\""], ["proof (prove)\nusing this:\n  s \\<in> r1 \\<rightarrow> snd (simp r1) v\n  [] \\<in> r2 \\<rightarrow> snd (simp r2) Void\n\ngoal (1 subgoal):\n 1. (s @\n     []) \\<in> Times r1\n                r2 \\<rightarrow> Seq (snd (simp r1) v) (snd (simp r2) Void)", "by(rule_tac Posix_Times) auto"], ["proof (state)\nthis:\n  (s @\n   []) \\<in> Times r1\n              r2 \\<rightarrow> Seq (snd (simp r1) v) (snd (simp r2) Void)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) = One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n 2. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  (s @\n   []) \\<in> Times r1\n              r2 \\<rightarrow> Seq (snd (simp r1) v) (snd (simp r2) Void)", "show \"s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v\""], ["proof (prove)\nusing this:\n  (s @\n   []) \\<in> Times r1\n              r2 \\<rightarrow> Seq (snd (simp r1) v) (snd (simp r2) Void)\n\ngoal (1 subgoal):\n 1. s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "using NOne_One"], ["proof (prove)\nusing this:\n  (s @\n   []) \\<in> Times r1\n              r2 \\<rightarrow> Seq (snd (simp r1) v) (snd (simp r2) Void)\n  fst (simp r1) \\<noteq> One\n  fst (simp r2) = One\n\ngoal (1 subgoal):\n 1. s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "by simp"], ["proof (state)\nthis:\n  s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n\ngoal (1 subgoal):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "case (NOne_NOne)"], ["proof (state)\nthis:\n  fst (simp r1) \\<noteq> One\n  fst (simp r2) \\<noteq> One\n\ngoal (1 subgoal):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "with as"], ["proof (chain)\npicking this:\n  s \\<in> fst (simp (Times r1 r2)) \\<rightarrow> v\n  fst (simp r1) \\<noteq> One\n  fst (simp r2) \\<noteq> One", "have \"s \\<in> Times (fst (simp r1)) (fst (simp r2)) \\<rightarrow> v\""], ["proof (prove)\nusing this:\n  s \\<in> fst (simp (Times r1 r2)) \\<rightarrow> v\n  fst (simp r1) \\<noteq> One\n  fst (simp r2) \\<noteq> One\n\ngoal (1 subgoal):\n 1. s \\<in> Times (fst (simp r1)) (fst (simp r2)) \\<rightarrow> v", "by simp"], ["proof (state)\nthis:\n  s \\<in> Times (fst (simp r1)) (fst (simp r2)) \\<rightarrow> v\n\ngoal (1 subgoal):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  s \\<in> Times (fst (simp r1)) (fst (simp r2)) \\<rightarrow> v", "obtain s1 s2 v1 v2 where eqs: \"s = s1 @ s2\" \"v = Seq v1 v2\"\n                     \"s1 \\<in> (fst (simp r1)) \\<rightarrow> v1\" \"s2 \\<in> (fst (simp r2)) \\<rightarrow> v2\"\n                     \"\\<not> (\\<exists>s\\<^sub>3 s\\<^sub>4. s\\<^sub>3 \\<noteq> [] \\<and> s\\<^sub>3 @ s\\<^sub>4 = s2 \\<and> s1 @ s\\<^sub>3 \\<in> lang r1 \\<and> s\\<^sub>4 \\<in> lang r2)\""], ["proof (prove)\nusing this:\n  s \\<in> Times (fst (simp r1)) (fst (simp r2)) \\<rightarrow> v\n\ngoal (1 subgoal):\n 1. (\\<And>s1 s2 v1 v2.\n        \\<lbrakk>s = s1 @ s2; v = Seq v1 v2;\n         s1 \\<in> fst (simp r1) \\<rightarrow> v1;\n         s2 \\<in> fst (simp r2) \\<rightarrow> v2;\n         \\<nexists>s\\<^sub>3 s\\<^sub>4.\n            s\\<^sub>3 \\<noteq> [] \\<and>\n            s\\<^sub>3 @ s\\<^sub>4 = s2 \\<and>\n            s1 @ s\\<^sub>3 \\<in> lang r1 \\<and>\n            s\\<^sub>4 \\<in> lang r2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (erule_tac Posix_elims(5)) (auto simp add: L_fst_simp[symmetric])"], ["proof (state)\nthis:\n  s = s1 @ s2\n  v = Seq v1 v2\n  s1 \\<in> fst (simp r1) \\<rightarrow> v1\n  s2 \\<in> fst (simp r2) \\<rightarrow> v2\n  \\<nexists>s\\<^sub>3 s\\<^sub>4.\n     s\\<^sub>3 \\<noteq> [] \\<and>\n     s\\<^sub>3 @ s\\<^sub>4 = s2 \\<and>\n     s1 @ s\\<^sub>3 \\<in> lang r1 \\<and> s\\<^sub>4 \\<in> lang r2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  s = s1 @ s2\n  v = Seq v1 v2\n  s1 \\<in> fst (simp r1) \\<rightarrow> v1\n  s2 \\<in> fst (simp r2) \\<rightarrow> v2\n  \\<nexists>s\\<^sub>3 s\\<^sub>4.\n     s\\<^sub>3 \\<noteq> [] \\<and>\n     s\\<^sub>3 @ s\\<^sub>4 = s2 \\<and>\n     s1 @ s\\<^sub>3 \\<in> lang r1 \\<and> s\\<^sub>4 \\<in> lang r2", "have \"s1 \\<in> r1 \\<rightarrow> (snd (simp r1) v1)\" \"s2 \\<in> r2 \\<rightarrow> (snd (simp r2) v2)\""], ["proof (prove)\nusing this:\n  s = s1 @ s2\n  v = Seq v1 v2\n  s1 \\<in> fst (simp r1) \\<rightarrow> v1\n  s2 \\<in> fst (simp r2) \\<rightarrow> v2\n  \\<nexists>s\\<^sub>3 s\\<^sub>4.\n     s\\<^sub>3 \\<noteq> [] \\<and>\n     s\\<^sub>3 @ s\\<^sub>4 = s2 \\<and>\n     s1 @ s\\<^sub>3 \\<in> lang r1 \\<and> s\\<^sub>4 \\<in> lang r2\n\ngoal (1 subgoal):\n 1. s1 \\<in> r1 \\<rightarrow> snd (simp r1) v1 &&&\n    s2 \\<in> r2 \\<rightarrow> snd (simp r2) v2", "using IH1 IH2"], ["proof (prove)\nusing this:\n  s = s1 @ s2\n  v = Seq v1 v2\n  s1 \\<in> fst (simp r1) \\<rightarrow> v1\n  s2 \\<in> fst (simp r2) \\<rightarrow> v2\n  \\<nexists>s\\<^sub>3 s\\<^sub>4.\n     s\\<^sub>3 \\<noteq> [] \\<and>\n     s\\<^sub>3 @ s\\<^sub>4 = s2 \\<and>\n     s1 @ s\\<^sub>3 \\<in> lang r1 \\<and> s\\<^sub>4 \\<in> lang r2\n  ?s \\<in> fst (simp r1) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r1 \\<rightarrow> snd (simp r1) ?v\n  ?s \\<in> fst (simp r2) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> r2 \\<rightarrow> snd (simp r2) ?v\n\ngoal (1 subgoal):\n 1. s1 \\<in> r1 \\<rightarrow> snd (simp r1) v1 &&&\n    s2 \\<in> r2 \\<rightarrow> snd (simp r2) v2", "by auto"], ["proof (state)\nthis:\n  s1 \\<in> r1 \\<rightarrow> snd (simp r1) v1\n  s2 \\<in> r2 \\<rightarrow> snd (simp r2) v2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>fst (simp r1) \\<noteq> One; fst (simp r2) \\<noteq> One\\<rbrakk>\n    \\<Longrightarrow> s \\<in> Times r1\n                               r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "then"], ["proof (chain)\npicking this:\n  s1 \\<in> r1 \\<rightarrow> snd (simp r1) v1\n  s2 \\<in> r2 \\<rightarrow> snd (simp r2) v2", "show \"s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v\""], ["proof (prove)\nusing this:\n  s1 \\<in> r1 \\<rightarrow> snd (simp r1) v1\n  s2 \\<in> r2 \\<rightarrow> snd (simp r2) v2\n\ngoal (1 subgoal):\n 1. s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "using eqs NOne_NOne"], ["proof (prove)\nusing this:\n  s1 \\<in> r1 \\<rightarrow> snd (simp r1) v1\n  s2 \\<in> r2 \\<rightarrow> snd (simp r2) v2\n  s = s1 @ s2\n  v = Seq v1 v2\n  s1 \\<in> fst (simp r1) \\<rightarrow> v1\n  s2 \\<in> fst (simp r2) \\<rightarrow> v2\n  \\<nexists>s\\<^sub>3 s\\<^sub>4.\n     s\\<^sub>3 \\<noteq> [] \\<and>\n     s\\<^sub>3 @ s\\<^sub>4 = s2 \\<and>\n     s1 @ s\\<^sub>3 \\<in> lang r1 \\<and> s\\<^sub>4 \\<in> lang r2\n  fst (simp r1) \\<noteq> One\n  fst (simp r2) \\<noteq> One\n\ngoal (1 subgoal):\n 1. s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v", "by(auto intro: Posix_Times)"], ["proof (state)\nthis:\n  s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s \\<in> Times r1 r2 \\<rightarrow> snd (simp (Times r1 r2)) v\n\ngoal (4 subgoals):\n 1. \\<And>s v.\n       s \\<in> fst (simp Zero) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Zero \\<rightarrow> snd (simp Zero) v\n 2. \\<And>s v.\n       s \\<in> fst (simp One) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> One \\<rightarrow> snd (simp One) v\n 3. \\<And>x s v.\n       s \\<in> fst (simp (Atom x)) \\<rightarrow> v \\<Longrightarrow>\n       s \\<in> Atom x \\<rightarrow> snd (simp (Atom x)) v\n 4. \\<And>x s v.\n       \\<lbrakk>\\<And>s v.\n                   s \\<in> fst (simp x) \\<rightarrow> v \\<Longrightarrow>\n                   s \\<in> x \\<rightarrow> snd (simp x) v;\n        s \\<in> fst (simp (Star x)) \\<rightarrow> v\\<rbrakk>\n       \\<Longrightarrow> s \\<in> Star x \\<rightarrow> snd (simp (Star x)) v", "qed (simp_all)"], ["", "lemma slexer_correctness:\n  shows \"slexer r s = lexer r s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. slexer r s = lexer r s", "proof(induct s arbitrary: r)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>r. slexer r [] = lexer r []\n 2. \\<And>a s r.\n       (\\<And>r. slexer r s = lexer r s) \\<Longrightarrow>\n       slexer r (a # s) = lexer r (a # s)", "case Nil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<And>r. slexer r [] = lexer r []\n 2. \\<And>a s r.\n       (\\<And>r. slexer r s = lexer r s) \\<Longrightarrow>\n       slexer r (a # s) = lexer r (a # s)", "show \"slexer r [] = lexer r []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. slexer r [] = lexer r []", "by simp"], ["proof (state)\nthis:\n  slexer r [] = lexer r []\n\ngoal (1 subgoal):\n 1. \\<And>a s r.\n       (\\<And>r. slexer r s = lexer r s) \\<Longrightarrow>\n       slexer r (a # s) = lexer r (a # s)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a s r.\n       (\\<And>r. slexer r s = lexer r s) \\<Longrightarrow>\n       slexer r (a # s) = lexer r (a # s)", "case (Cons c s r)"], ["proof (state)\nthis:\n  slexer ?r s = lexer ?r s\n\ngoal (1 subgoal):\n 1. \\<And>a s r.\n       (\\<And>r. slexer r s = lexer r s) \\<Longrightarrow>\n       slexer r (a # s) = lexer r (a # s)", "have IH: \"\\<And>r. slexer r s = lexer r s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r. slexer r s = lexer r s", "by fact"], ["proof (state)\nthis:\n  slexer ?r s = lexer ?r s\n\ngoal (1 subgoal):\n 1. \\<And>a s r.\n       (\\<And>r. slexer r s = lexer r s) \\<Longrightarrow>\n       slexer r (a # s) = lexer r (a # s)", "show \"slexer r (c # s) = lexer r (c # s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. slexer r (c # s) = lexer r (c # s)", "proof (cases \"s \\<in> lang (deriv c r)\")"], ["proof (state)\ngoal (2 subgoals):\n 1. s \\<in> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)\n 2. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "case True"], ["proof (state)\nthis:\n  s \\<in> lang (deriv c r)\n\ngoal (2 subgoals):\n 1. s \\<in> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)\n 2. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "assume a1: \"s \\<in> lang (deriv c r)\""], ["proof (state)\nthis:\n  s \\<in> lang (deriv c r)\n\ngoal (2 subgoals):\n 1. s \\<in> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)\n 2. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "then"], ["proof (chain)\npicking this:\n  s \\<in> lang (deriv c r)", "obtain v1 where a2: \"lexer (deriv c r) s = Some v1\" \"s \\<in> deriv c r \\<rightarrow> v1\""], ["proof (prove)\nusing this:\n  s \\<in> lang (deriv c r)\n\ngoal (1 subgoal):\n 1. (\\<And>v1.\n        \\<lbrakk>lexer (deriv c r) s = Some v1;\n         s \\<in> deriv c r \\<rightarrow> v1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using lexer_correct_Some"], ["proof (prove)\nusing this:\n  s \\<in> lang (deriv c r)\n  (?s \\<in> lang ?r) =\n  (\\<exists>v. lexer ?r ?s = Some v \\<and> ?s \\<in> ?r \\<rightarrow> v)\n\ngoal (1 subgoal):\n 1. (\\<And>v1.\n        \\<lbrakk>lexer (deriv c r) s = Some v1;\n         s \\<in> deriv c r \\<rightarrow> v1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  lexer (deriv c r) s = Some v1\n  s \\<in> deriv c r \\<rightarrow> v1\n\ngoal (2 subgoals):\n 1. s \\<in> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)\n 2. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "from a1"], ["proof (chain)\npicking this:\n  s \\<in> lang (deriv c r)", "have \"s \\<in> lang (fst (simp (deriv c r)))\""], ["proof (prove)\nusing this:\n  s \\<in> lang (deriv c r)\n\ngoal (1 subgoal):\n 1. s \\<in> lang (fst (simp (deriv c r)))", "using L_fst_simp[symmetric]"], ["proof (prove)\nusing this:\n  s \\<in> lang (deriv c r)\n  lang (fst (simp ?r)) = lang ?r\n\ngoal (1 subgoal):\n 1. s \\<in> lang (fst (simp (deriv c r)))", "by auto"], ["proof (state)\nthis:\n  s \\<in> lang (fst (simp (deriv c r)))\n\ngoal (2 subgoals):\n 1. s \\<in> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)\n 2. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "then"], ["proof (chain)\npicking this:\n  s \\<in> lang (fst (simp (deriv c r)))", "obtain v2 where a3: \"lexer (fst (simp (deriv c r))) s = Some v2\" \"s \\<in> (fst (simp (deriv c r))) \\<rightarrow> v2\""], ["proof (prove)\nusing this:\n  s \\<in> lang (fst (simp (deriv c r)))\n\ngoal (1 subgoal):\n 1. (\\<And>v2.\n        \\<lbrakk>lexer (fst (simp (deriv c r))) s = Some v2;\n         s \\<in> fst (simp (deriv c r)) \\<rightarrow> v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using lexer_correct_Some"], ["proof (prove)\nusing this:\n  s \\<in> lang (fst (simp (deriv c r)))\n  (?s \\<in> lang ?r) =\n  (\\<exists>v. lexer ?r ?s = Some v \\<and> ?s \\<in> ?r \\<rightarrow> v)\n\ngoal (1 subgoal):\n 1. (\\<And>v2.\n        \\<lbrakk>lexer (fst (simp (deriv c r))) s = Some v2;\n         s \\<in> fst (simp (deriv c r)) \\<rightarrow> v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  lexer (fst (simp (deriv c r))) s = Some v2\n  s \\<in> fst (simp (deriv c r)) \\<rightarrow> v2\n\ngoal (2 subgoals):\n 1. s \\<in> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)\n 2. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "then"], ["proof (chain)\npicking this:\n  lexer (fst (simp (deriv c r))) s = Some v2\n  s \\<in> fst (simp (deriv c r)) \\<rightarrow> v2", "have a4: \"slexer (fst (simp (deriv c r))) s = Some v2\""], ["proof (prove)\nusing this:\n  lexer (fst (simp (deriv c r))) s = Some v2\n  s \\<in> fst (simp (deriv c r)) \\<rightarrow> v2\n\ngoal (1 subgoal):\n 1. slexer (fst (simp (deriv c r))) s = Some v2", "using IH"], ["proof (prove)\nusing this:\n  lexer (fst (simp (deriv c r))) s = Some v2\n  s \\<in> fst (simp (deriv c r)) \\<rightarrow> v2\n  slexer ?r s = lexer ?r s\n\ngoal (1 subgoal):\n 1. slexer (fst (simp (deriv c r))) s = Some v2", "by simp"], ["proof (state)\nthis:\n  slexer (fst (simp (deriv c r))) s = Some v2\n\ngoal (2 subgoals):\n 1. s \\<in> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)\n 2. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "from a3(2)"], ["proof (chain)\npicking this:\n  s \\<in> fst (simp (deriv c r)) \\<rightarrow> v2", "have \"s \\<in> deriv c r \\<rightarrow> (snd (simp (deriv c r))) v2\""], ["proof (prove)\nusing this:\n  s \\<in> fst (simp (deriv c r)) \\<rightarrow> v2\n\ngoal (1 subgoal):\n 1. s \\<in> deriv c r \\<rightarrow> snd (simp (deriv c r)) v2", "using Posix_simp"], ["proof (prove)\nusing this:\n  s \\<in> fst (simp (deriv c r)) \\<rightarrow> v2\n  ?s \\<in> fst (simp ?r) \\<rightarrow> ?v \\<Longrightarrow>\n  ?s \\<in> ?r \\<rightarrow> snd (simp ?r) ?v\n\ngoal (1 subgoal):\n 1. s \\<in> deriv c r \\<rightarrow> snd (simp (deriv c r)) v2", "by auto"], ["proof (state)\nthis:\n  s \\<in> deriv c r \\<rightarrow> snd (simp (deriv c r)) v2\n\ngoal (2 subgoals):\n 1. s \\<in> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)\n 2. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "with a2(2)"], ["proof (chain)\npicking this:\n  s \\<in> deriv c r \\<rightarrow> v1\n  s \\<in> deriv c r \\<rightarrow> snd (simp (deriv c r)) v2", "have \"v1 = (snd (simp (deriv c r))) v2\""], ["proof (prove)\nusing this:\n  s \\<in> deriv c r \\<rightarrow> v1\n  s \\<in> deriv c r \\<rightarrow> snd (simp (deriv c r)) v2\n\ngoal (1 subgoal):\n 1. v1 = snd (simp (deriv c r)) v2", "using Posix_determ"], ["proof (prove)\nusing this:\n  s \\<in> deriv c r \\<rightarrow> v1\n  s \\<in> deriv c r \\<rightarrow> snd (simp (deriv c r)) v2\n  \\<lbrakk>?s \\<in> ?r \\<rightarrow> ?v1.0;\n   ?s \\<in> ?r \\<rightarrow> ?v2.0\\<rbrakk>\n  \\<Longrightarrow> ?v1.0 = ?v2.0\n\ngoal (1 subgoal):\n 1. v1 = snd (simp (deriv c r)) v2", "by auto"], ["proof (state)\nthis:\n  v1 = snd (simp (deriv c r)) v2\n\ngoal (2 subgoals):\n 1. s \\<in> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)\n 2. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "with a2(1) a4"], ["proof (chain)\npicking this:\n  lexer (deriv c r) s = Some v1\n  slexer (fst (simp (deriv c r))) s = Some v2\n  v1 = snd (simp (deriv c r)) v2", "show \"slexer r (c # s) = lexer r (c # s)\""], ["proof (prove)\nusing this:\n  lexer (deriv c r) s = Some v1\n  slexer (fst (simp (deriv c r))) s = Some v2\n  v1 = snd (simp (deriv c r)) v2\n\ngoal (1 subgoal):\n 1. slexer r (c # s) = lexer r (c # s)", "by (auto split: prod.split)"], ["proof (state)\nthis:\n  slexer r (c # s) = lexer r (c # s)\n\ngoal (1 subgoal):\n 1. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "case False"], ["proof (state)\nthis:\n  s \\<notin> lang (deriv c r)\n\ngoal (1 subgoal):\n 1. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "assume b1: \"s \\<notin> lang (deriv c r)\""], ["proof (state)\nthis:\n  s \\<notin> lang (deriv c r)\n\ngoal (1 subgoal):\n 1. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "then"], ["proof (chain)\npicking this:\n  s \\<notin> lang (deriv c r)", "have \"lexer (deriv c r) s = None\""], ["proof (prove)\nusing this:\n  s \\<notin> lang (deriv c r)\n\ngoal (1 subgoal):\n 1. lexer (deriv c r) s = None", "using lexer_correct_None"], ["proof (prove)\nusing this:\n  s \\<notin> lang (deriv c r)\n  (?s \\<notin> lang ?r) = (lexer ?r ?s = None)\n\ngoal (1 subgoal):\n 1. lexer (deriv c r) s = None", "by auto"], ["proof (state)\nthis:\n  lexer (deriv c r) s = None\n\ngoal (1 subgoal):\n 1. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "moreover"], ["proof (state)\nthis:\n  lexer (deriv c r) s = None\n\ngoal (1 subgoal):\n 1. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "from b1"], ["proof (chain)\npicking this:\n  s \\<notin> lang (deriv c r)", "have \"s \\<notin> lang (fst (simp (deriv c r)))\""], ["proof (prove)\nusing this:\n  s \\<notin> lang (deriv c r)\n\ngoal (1 subgoal):\n 1. s \\<notin> lang (fst (simp (deriv c r)))", "using L_fst_simp[symmetric]"], ["proof (prove)\nusing this:\n  s \\<notin> lang (deriv c r)\n  lang (fst (simp ?r)) = lang ?r\n\ngoal (1 subgoal):\n 1. s \\<notin> lang (fst (simp (deriv c r)))", "by auto"], ["proof (state)\nthis:\n  s \\<notin> lang (fst (simp (deriv c r)))\n\ngoal (1 subgoal):\n 1. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "then"], ["proof (chain)\npicking this:\n  s \\<notin> lang (fst (simp (deriv c r)))", "have \"lexer (fst (simp (deriv c r))) s = None\""], ["proof (prove)\nusing this:\n  s \\<notin> lang (fst (simp (deriv c r)))\n\ngoal (1 subgoal):\n 1. lexer (fst (simp (deriv c r))) s = None", "using lexer_correct_None"], ["proof (prove)\nusing this:\n  s \\<notin> lang (fst (simp (deriv c r)))\n  (?s \\<notin> lang ?r) = (lexer ?r ?s = None)\n\ngoal (1 subgoal):\n 1. lexer (fst (simp (deriv c r))) s = None", "by auto"], ["proof (state)\nthis:\n  lexer (fst (simp (deriv c r))) s = None\n\ngoal (1 subgoal):\n 1. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "then"], ["proof (chain)\npicking this:\n  lexer (fst (simp (deriv c r))) s = None", "have \"slexer (fst (simp (deriv c r))) s = None\""], ["proof (prove)\nusing this:\n  lexer (fst (simp (deriv c r))) s = None\n\ngoal (1 subgoal):\n 1. slexer (fst (simp (deriv c r))) s = None", "using IH"], ["proof (prove)\nusing this:\n  lexer (fst (simp (deriv c r))) s = None\n  slexer ?r s = lexer ?r s\n\ngoal (1 subgoal):\n 1. slexer (fst (simp (deriv c r))) s = None", "by simp"], ["proof (state)\nthis:\n  slexer (fst (simp (deriv c r))) s = None\n\ngoal (1 subgoal):\n 1. s \\<notin> lang (deriv c r) \\<Longrightarrow>\n    slexer r (c # s) = lexer r (c # s)", "ultimately"], ["proof (chain)\npicking this:\n  lexer (deriv c r) s = None\n  slexer (fst (simp (deriv c r))) s = None", "show \"slexer r (c # s) = lexer r (c # s)\""], ["proof (prove)\nusing this:\n  lexer (deriv c r) s = None\n  slexer (fst (simp (deriv c r))) s = None\n\ngoal (1 subgoal):\n 1. slexer r (c # s) = lexer r (c # s)", "by (simp del: slexer.simps add: slexer_better_simp)"], ["proof (state)\nthis:\n  slexer r (c # s) = lexer r (c # s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  slexer r (c # s) = lexer r (c # s)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}